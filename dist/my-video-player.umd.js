(function(me,Ce){typeof exports=="object"&&typeof module<"u"?module.exports=Ce(require("vue")):typeof define=="function"&&define.amd?define(["vue"],Ce):(me=typeof globalThis<"u"?globalThis:me||self,me.MyVideoPlayer=Ce(me.Vue))})(this,(function(vue){"use strict";var __vite_style__=document.createElement("style");__vite_style__.textContent=`body{margin:0;padding:0}.fullscreen-video{position:fixed!important;left:0;top:0;width:100vw;height:100vh;z-index:9999}.fullscreen-video video,.fullscreen-video canvas{width:100%;height:calc(100% - 37px)}.fullscreen-video .jessibuca-loading-bg{height:calc(100% - 37px)}.fullscreen-video .jessibuca-controls{z-index:20}.fullscreen-video .screen-shot-btn{position:absolute;right:10px;top:10px;z-index:3;width:30px;height:30px;cursor:pointer}.fullscreen-video .video-js.vjs-playing .vjs-tech{pointer-events:none}.fullscreen-video .video-tip{position:absolute;left:10px;top:10px;font-size:15px;color:#fff;z-index:2}.fullscreen-video .wrapper{background:#000;overflow:hidden;width:100%;height:100%}.fullscreen-video .video-error-status,.fullscreen-video .video-none-status{font-size:1.2em;color:#ccc}.video-item[data-v-61177707]{width:100%;height:100%;background:#000;position:relative}.video-item[data-v-61177707] video,.video-item[data-v-61177707] canvas{width:100%;height:calc(100% - 37px)}.video-item[data-v-61177707] .jessibuca-loading-bg{height:calc(100% - 37px)}.video-item[data-v-61177707] .jessibuca-controls{z-index:20}.video-item[data-v-61177707] .screen-shot-btn{position:absolute;right:10px;top:10px;z-index:3;width:30px;height:30px;cursor:pointer}.video-item .video-js.vjs-playing .vjs-tech[data-v-61177707]{pointer-events:none}.video-item .video-tip[data-v-61177707]{position:absolute;left:10px;top:10px;font-size:15px;color:#fff;z-index:2}.video-item .wrapper[data-v-61177707]{background:#000;overflow:hidden;width:100%;height:100%}.video-item .video-error-status[data-v-61177707],.video-item .video-none-status[data-v-61177707]{font-size:1.2em;color:#ccc}canvas[data-v-4fd06c78]{width:100%;height:100%;background:#000;position:relative}.videoPlayer[data-v-e94a4cc5]{width:100vw;height:80vh;margin:auto}
/*$vite$:1*/`,document.head.appendChild(__vite_style__);const _export_sfc=(me,Ce)=>{const Je=me.__vccOpts||me;for(const[j,be]of Ce)Je[j]=be;return Je},originHost="http://127.0.0.1:8080",secret="aOacmzbW3VEqKeJB3nOsRyEPX6WppTvV",_sfc_main$2={__name:"jessibucaPlayer",props:{data:{type:Object},streamType:{type:String,default:"0"},parentEmits:{type:[Object,Function],default:()=>()=>{}},videoIndex:Number,isRoundPlay:Boolean,showAudioBtn:Boolean},setup(me,{expose:Ce,emit:Je}){const j=me,be=vue.ref(null),r=vue.ref(null),We=vue.ref(null),f0=vue.ref(!1),it=vue.ref(!1),p0=vue.ref(!1),D=Je,k0=vue.ref(0),T0=async()=>{try{await vue.nextTick();let tr="";(j.isRoundPlay||j.streamType=="1")&&(tr=j.data?.img),We.value=new JessibucaPro({hasAudio:j.showAudioBtn,container:be.value,decoder:"../../assets/js/jessibucaPlayer/decoder-pro.js",decoderAudio:"../../assets/js/jessibucaPlayer/decoder-pro-audio.js",videoBuffer:2,videoBufferDelay:2,isResize:j?.data?.isResize||!1,isFlv:j.data.url.indexOf("rtsp://")!==-1,text:"",loadingText:"",loadingIcon:!1,debug:!1,debugLevel:"debug",useMSE:!0,useSIMD:!1,useWCS:!1,background:tr||"",loadingBackground:tr||"",showBandwidth:!1,showPerformance:!1,showPlaybackOperate:j.streamType=="1",operateBtns:{fullscreen:!0,screenshot:!0,play:!1,audio:!0,ptz:!1,quality:!1,performance:!0,zoom:!1},heartTimeout:5,loadingTimeoutReplayTimes:5,pauseAndNextPlayUseLastFrameShow:!0,replayUseLastFrameShow:!0,heartTimeoutReplayUseLastFrameShow:!0,zoomMaxScale:5,flvDemuxBufferSizeTooLargeReplay:!0,audioEngine:"worklet",qualityConfig:["普清","高清","超清","4K","8K"],forceNoOffscreen:!0,isNotMute:!1,supportHls265:!0}),console.log(We.value," videoInstance.value"),We.value.on("play",function(){console.log("开始播放 play"),p0.value=!0,j.data.isError=!1,j.parentEmits("play")}),We.value.on("load",function(){console.log("加载完成"),f0.value=!0}),We.value.on("error",s0=>{console.log("播放错误 error",s0),it.value=!0,j.parentEmits("disconnect"),D("setStreams",{...j.data,img:j.data?.img,status:"error",videoIndex:j.videoIndex}),j.parentEmits("statusChange",{status:"error",videoIndex:j.videoIndex,img:j.data?.img,data:j.data}),s0==="fetchError"&&!j.data?.isError&&j.streamType=="0"&&D("refreshItem",{device:{...j.data,isError:!0},videoIndex:j.videoIndex})}),We.value.on("websocketClose",function(){console.log("websocketClose"),k0.value<=3&&(k0.value+=1,J0(j.data.url,rt.stream,{enable_audio:j.showAudioBtn?1:0}))})}catch(tr){console.log(tr,"err")}},J0=async tr=>{We.value.play(tr)};let rt={};const W0=()=>{We.value&&We.value.destroy()},pt=vue.ref(null),mt=tr=>{let s0="";if(!p0.value){alert("视频暂无画面，请稍后截图");return}if(tr&&We.value.screenshot(),pt.value.querySelector("video")){const dt=document.createElement("canvas"),d0=pt.value.querySelector("video");dt.width=d0.clientWidth,dt.height=d0.clientHeight;var Q0=dt.getContext("2d");Q0.drawImage(d0,0,0,dt.width,dt.height),s0=dt.toDataURL("image/png",1)}else pt.value.querySelector("canvas")&&(s0=pt.value.querySelector("canvas").toDataURL("image/png",1));return s0},xt=()=>(console.log(We.value,"jessibuca实例start"),!We.value||!We.value.isPlaying()?(alert("视频未开始播放，请稍后录制"),!1):(We.value.startRecord(),!0)),wt=tr=>{console.log(We.value,"jessibuca实例close"),We.value&&We.value.isRecording()&&(tr?We.value.stopRecordAndSave():(We.value.player.emit("recordEnd"),We.value.player.recorder._reset(),We.value.player.emit("recording",!1)))},di=()=>We.value.isRecording();vue.onBeforeUnmount(()=>{W0()});const $i=(tr,s0,Q0)=>{const dt=new URLSearchParams;for(const[d0,Lt]of Object.entries(Q0))dt.append(d0,Lt);return new Promise((d0,Lt)=>{console.log(dt.toString()),fetch(`${originHost}/index/api/addStreamProxy?secret=${secret}&vhost={{defaultVhost}}&app=live&stream=${s0}&url=${encodeURIComponent(tr)}&enable_hls=&enable_hls_fmp4=&enable_mp4=&enable_rtsp=1&enable_rtmp=1&enable_ts=1&enable_fmp4=1${dt.toString()?"&"+dt.toString():""}`).then(zt=>{zt.json().then(async L0=>{if(L0.code===-1)reFetch(tr,s0).then(()=>{const Ct=`ws://127.0.0.1:8080/live/${s0}.live.flv`;d0(Ct)});else{const Ct=`ws://127.0.0.1:8080/live/${s0}.live.flv`;d0(Ct)}})}).catch(zt=>{Lt(),!window.pluginAlert&&(window.pluginAlert=ElMessageBox.confirm("请确认已成功安装播放器控件。若已安装播放控件，请检查“window>服务>mediaServer”是否启动或刷新页面后重试！","提示",{confirmButtonText:"立即下载",cancelButtonText:"取消",type:"info"}).then(()=>{window.pluginAlert=null}).catch(()=>{window.pluginAlert=null}))})})};return vue.onMounted(async()=>{j.data?.url&&(await T0(),j.data.url.indexOf("rtsp://")!==-1?$i(j.data.url,new Date().valueOf()+Math.random()*100,{}).then(tr=>{J0(tr)}):J0(j.data?.url))}),Ce({screenShot:mt,startRecording:xt,getRecording:di,stopRecording:wt,destroy:W0,pause:()=>{We.value.pause()},pauseToPlay:()=>{We.value.play()},cancelMute:()=>{We.value.cancelMute();const tr={...rt}.stream;rt={...j.data,stream:new Date().valueOf()+j.data.deviceId},$i(rt.url,rt.stream,{enable_audio:1}).then(s0=>{fetch(`${originHost}/index/api/delStreamProxy?secret=${secret}&key=__defaultVhost__/live/${tr}`),We.value.play(s0)})},mute:()=>{We.value.mute();const tr={...rt}.stream;rt={...j.data,stream:new Date().valueOf()+j.data.deviceId},$i(rt.url,rt.stream,{enable_audio:0}).then(s0=>{fetch(`${originHost}/index/api/delStreamProxy?secret=${secret}&key=__defaultVhost__/live/${tr}`),We.value.play(s0)})}}),(tr,s0)=>(vue.openBlock(),vue.createElementBlock("div",{class:"video-item",ref_key:"videoBox",ref:r},[vue.createElementVNode("div",{ref_key:"videoWrapperRef",ref:pt,"element-loading-background":"rgba(122, 122, 122, 0)",class:"wrapper player-wrapper"},[vue.createElementVNode("div",{ref_key:"videoRef",ref:be,style:{width:"100%",height:"100%"}},null,512)],512)],512))}},jessibucaPlayer=_export_sfc(_sfc_main$2,[["__scopeId","data-v-61177707"]]),_sfc_main$1={__name:"h265",props:{data:{type:Object}},setup(me){const Ce=me,Je=vue.ref(null);let j;return vue.onMounted(()=>{j=new libde265.RawPlayer(Je.value),j.playback(Ce.data.url)}),vue.onUnmounted(()=>{j&&j.stop()}),(be,r)=>(vue.openBlock(),vue.createElementBlock("canvas",{ref_key:"videoRef",ref:Je},null,512))}},h265=_export_sfc(_sfc_main$1,[["__scopeId","data-v-4fd06c78"]]),_sfc_main={__name:"videoPlayer",props:{data:{type:Object,default:{url:"https://ehome-dl.ctseelink.cn/oos/fileDownload?appKey=deviceCloud&timeStamp=1764140790392&version=v1.0&format=json&cid=2202&paras=6E75298B018DB87A15717FEF4BB4C0632C8BC6AC9167FE26A85E43DF31E34F6CD698A6F126E418DBA13D870DC71EDE8D8BCD3411F7B463826EA2AB0C641399DFE9BA46EE4EBE6E227CAB04E82DCD06DE1829ED958C9539964DE40CCC7E539B229C5AF1EBB2B14D104F6AEE071B8325787C44CB0F3654277C75EE118F4C782A2428AA09D4DAC4FABA2F6386DD&appSignature=sp6p5HglYUV7embyO8gXlfR8teg="}}},setup(me){const Ce=me,Je=Ce.data.url.indexOf(".flv")!==-1||Ce.data.url.indexOf("rtsp://")!==-1?jessibucaPlayer:h265;return(j,be)=>(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(vue.unref(Je)),{data:Ce.data,class:"videoPlayer"},null,8,["data"]))}},App=_export_sfc(_sfc_main,[["__scopeId","data-v-e94a4cc5"]]);(function(me){typeof define=="function"&&define.amd?define(me):me()})(function(){class me{on(R,ie,ae){var we=this.e||(this.e={});return(we[R]||(we[R]=[])).push({fn:ie,ctx:ae}),this}once(R,ie,ae){const we=this;function _e(){we.off(R,_e);for(var fe=arguments.length,de=new Array(fe),Se=0;Se<fe;Se++)de[Se]=arguments[Se];ie.apply(ae,de)}return _e._=ie,this.on(R,_e,ae)}emit(R){for(var ie=((this.e||(this.e={}))[R]||[]).slice(),ae=arguments.length,we=new Array(1<ae?ae-1:0),_e=1;_e<ae;_e++)we[_e-1]=arguments[_e];for(let fe=0;fe<ie.length;fe+=1)ie[fe].fn.apply(ie[fe].ctx,we);return this}off(R,ie){const ae=this.e||(this.e={});if(R){var we=ae[R],_e=[];if(we&&ie)for(let fe=0,de=we.length;fe<de;fe+=1)we[fe].fn!==ie&&we[fe].fn._!==ie&&_e.push(we[fe]);return _e.length?ae[R]=_e:delete ae[R],this}Object.keys(ae).forEach(fe=>{delete ae[fe]}),delete this.e}}const Ce="fetch",Je="websocket",j="worker",be="player",r="playerAudio",We="playbackTF",f0="mp4",it="webm",p0="flv",D="webTransport",k0="nakedFlow",T0="fmp4",J0="mpeg4",rt={flv:"FLV",m7s:"m7s",hls:"HLS",fmp4:"FMP4",mpeg4:"MPEG4",webrtc:"Webrtc",webTransport:"WebTransport",nakedFlow:"裸流"},W0="canvas",pt="video",mt="debug",xt="warn",wt="click",di="mouseDownAndUp",$i={url:"",playbackConfig:{},fullscreenWatermarkConfig:{},playType:be,playbackForwardMaxRateDecodeIFrame:4,playOptions:{},isLive:!0,isMulti:!1,isCrypto:!1},ir={playType:be,container:"",videoBuffer:1e3,videoBufferDelay:1e3,networkDelay:1e4,isResize:!0,isFullResize:!1,isFlv:!1,isHls:!1,isFmp4:!1,isWebrtc:!1,isWebrtcForZLM:!1,isNakedFlow:!1,isMpeg4:!1,debug:!1,debugLevel:xt,debugUuid:"",isMulti:!1,hotKey:!1,loadingTimeout:10,heartTimeout:10,timeout:10,pageVisibilityHiddenTimeout:300,loadingTimeoutReplay:!0,heartTimeoutReplay:!0,loadingTimeoutReplayTimes:3,heartTimeoutReplayTimes:3,heartTimeoutReplayUseLastFrameShow:!1,replayUseLastFrameShow:!1,supportDblclickFullscreen:!1,showBandwidth:!1,showPerformance:!1,mseCorrectTimeDuration:20,keepScreenOn:!0,isNotMute:!1,hasAudio:!0,hasVideo:!0,operateBtns:{fullscreen:!1,screenshot:!1,play:!1,audio:!1,record:!1,ptz:!1,quality:!1,zoom:!1,close:!1,scale:!1,performance:!1,aiFace:!1,aiObject:!1,fullscreenFn:null,fullscreenExitFn:null,screenshotFn:null,playFn:null,pauseFn:null,recordFn:null,recordStopFn:null},extendOperateBtns:[],contextmenuBtns:[],watermarkConfig:{},controlAutoHide:!1,hasControl:!1,loadingIcon:!0,loadingText:"",background:"",backgroundLoadingShow:!1,loadingBackground:"",decoder:"decoder-pro.js",decoderAudio:"decoder-pro-audio.js",decoderWASM:"",isDecoderUseCDN:!1,url:"",rotate:0,mirrorRotate:"none",playbackConfig:{playList:[],fps:"",showControl:!0,showRateBtn:!1,rateConfig:[],isCacheBeforeDecodeForFpsRender:!1,uiUsePlaybackPause:!1,isPlaybackPauseClearCache:!0,isUseFpsRender:!1,isUseLocalCalculateTime:!1,localOneFrameTimestamp:40,supportWheel:!1},qualityConfig:[],defaultStreamQuality:"",scaleConfig:["拉伸","缩放","正常"],forceNoOffscreen:!0,hiddenAutoPause:!1,protocol:2,demuxType:p0,useWasm:!1,useWCS:!1,useSIMD:!0,wcsUseVideoRender:!0,wasmUseVideoRender:!0,mseUseCanvasRender:!1,hlsUseCanvasRender:!1,useMSE:!1,useOffscreen:!1,useWebGPU:!1,mseDecodeErrorReplay:!0,wcsDecodeErrorReplay:!0,wasmDecodeErrorReplay:!0,autoWasm:!0,webglAlignmentErrorReplay:!0,webglContextLostErrorReplay:!0,openWebglAlignment:!1,syncAudioAndVideo:!1,playbackDelayTime:1e3,playbackFps:25,playbackForwardMaxRateDecodeIFrame:4,playbackCurrentTimeMove:!0,useVideoRender:!0,useCanvasRender:!1,networkDelayTimeoutReplay:!1,recordType:f0,checkFirstIFrame:!0,nakedFlowFps:25,audioEngine:null,isShowRecordingUI:!0,isShowZoomingUI:!0,useFaceDetector:!1,useObjectDetector:!1,ptzClickType:wt,ptzStopEmitDelay:.3,ptzZoomShow:!1,ptzApertureShow:!1,ptzFocusShow:!1,ptzMoreArrowShow:!1,weiXinInAndroidAudioBufferSize:4800,isCrypto:!1,cryptoKey:"",cryptoIV:"",cryptoKeyUrl:"",autoResize:!1,useWebFullScreen:!1,ptsMaxDiff:3600,aiFaceDetectWidth:192,aiObjectDetectWidth:192,videoRenderSupportScale:!0,mediaSourceTsIsMaxDiffReplay:!0,controlHtml:"",isH265:!1,supportLockScreenPlayAudio:!0,supportHls265:!0,isFmp4Private:!1},u0="init",Ti="initVideo",Mt="initAudio",tr="audioCode",s0="videoCode",Q0="videoCodec",dt="closeEnd",d0={fullscreen:"fullscreen$2",webFullscreen:"webFullscreen",decoderWorkerInit:"decoderWorkerInit",play:"play",playing:"playing",pause:"pause",mute:"mute",load:"load",loading:"loading",zooming:"zooming",videoInfo:"videoInfo",timeUpdate:"timeUpdate",audioInfo:"audioInfo",log:"log",error:"error",kBps:"kBps",timeout:"timeout",delayTimeout:"delayTimeout",delayTimeoutRetryEnd:"delayTimeoutRetryEnd",loadingTimeout:"loadingTimeout",loadingTimeoutRetryEnd:"loadingTimeoutRetryEnd",stats:"stats",performance:"performance",faceDetectActive:"faceDetectActive",objectDetectActive:"objectDetectActive",record:"record",recording:"recording",recordingTimestamp:"recordingTimestamp",recordStart:"recordStart",recordEnd:"recordEnd",recordCreateError:"recordCreateError",recordBlob:"recordBlob",buffer:"buffer",videoFrame:"videoFrame",start:"start",metadata:"metadata",resize:"resize",volumechange:"volumechange",destroy:"destroy",beforeDestroy:"beforeDestroy",streamEnd:"streamEnd",streamRate:"streamRate",streamAbps:"streamAbps",streamVbps:"streamVbps",streamDts:"streamDts",streamSuccess:"streamSuccess",streamMessage:"streamMessage",streamError:"streamError",streamStats:"streamStats",mseSourceOpen:"mseSourceOpen",mseSourceClose:"mseSourceClose",mseSourceended:"mseSourceended",mseSourceBufferError:"mseSourceBufferError",mseAddSourceBufferError:"mseAddSourceBufferError",mseSourceBufferBusy:"mseSourceBufferBusy",mseSourceBufferFull:"mseSourceBufferFull",videoWaiting:"videoWaiting",videoTimeUpdate:"videoTimeUpdate",videoSyncAudio:"videoSyncAudio",playToRenderTimes:"playToRenderTimes",playbackTime:"playbackTime",playbackTimestamp:"playbackTimestamp",playbackPrecision:"playbackPrecision",playbackJustTime:"playbackJustTime",playbackStats:"playbackStats",playbackSeek:"playbackSeek",playbackPause:"playbackPause",playbackPauseOrResume:"playbackPauseOrResume",playbackRateChange:"playbackRateChange",playbackPreRateChange:"playbackPreRateChange",ptz:"ptz",streamQualityChange:"streamQualityChange",visibilityChange:"visibilityChange",netBuf:"netBuf",close:"close",networkDelayTimeout:"networkDelayTimeout",togglePerformancePanel:"togglePerformancePanel",viewResizeChange:"viewResizeChange",flvDemuxBufferSizeTooLarge:"flvDemuxBufferSizeTooLarge",talkGetUserMediaSuccess:"talkGetUserMediaSuccess",talkGetUserMediaFail:"talkGetUserMediaFail",talkGetUserMediaTimeout:"talkGetUserMediaTimeout",talkStreamStart:"talkStreamStart",talkStreamOpen:"talkStreamOpen",talkStreamClose:"talkStreamClose",talkStreamError:"talkStreamError",talkStreamInactive:"talkStreamInactive",webrtcDisconnect:"webrtcDisconnect",webrtcFailed:"webrtcFailed",webrtcClosed:"webrtcClosed",crashLog:"crashLog",focus:"focus",blur:"blur",visibilityHiddenTimeout:"visibilityHiddenTimeout",websocketOpen:"websocketOpen",websocketClose:"websocketClose",websocketError:"websocketError",websocketMessage:"websocketMessage",aiObjectDetectorInfo:"aiObjectDetectorInfo",aiFaceDetector:"aiFaceDetector",playFailedAndPaused:"playFailedAndPaused",audioResumeState:"audioResumeState"},Lt={load:d0.load,timeUpdate:d0.timeUpdate,videoInfo:d0.videoInfo,audioInfo:d0.audioInfo,error:d0.error,kBps:d0.kBps,start:d0.start,timeout:d0.timeout,loadingTimeout:d0.loadingTimeout,loadingTimeoutRetryEnd:d0.loadingTimeoutRetryEnd,delayTimeout:d0.delayTimeout,delayTimeoutRetryEnd:d0.delayTimeoutRetryEnd,fullscreen:"fullscreen",webFullscreen:d0.webFullscreen,play:d0.play,pause:d0.pause,mute:d0.mute,stats:d0.stats,performance:d0.performance,recordingTimestamp:d0.recordingTimestamp,recordStart:d0.recordStart,recordEnd:d0.recordEnd,recordBlob:d0.recordBlob,playToRenderTimes:d0.playToRenderTimes,playbackSeek:d0.playbackSeek,playbackStats:d0.playbackStats,playbackTimestamp:d0.playbackTimestamp,playbackPauseOrResume:d0.playbackPauseOrResume,playbackPreRateChange:d0.playbackPreRateChange,playbackRateChange:d0.playbackRateChange,ptz:d0.ptz,streamQualityChange:d0.streamQualityChange,zooming:d0.zooming,crashLog:d0.crashLog,focus:d0.focus,blur:d0.blur,visibilityHiddenTimeout:d0.visibilityHiddenTimeout,visibilityChange:d0.visibilityChange,websocketOpen:d0.websocketOpen,websocketClose:d0.websocketClose,networkDelayTimeout:d0.networkDelayTimeout,aiObjectDetectorInfo:d0.aiObjectDetectorInfo,playFailedAndPaused:d0.playFailedAndPaused,audioResumeState:d0.audioResumeState},zt={talkStreamClose:d0.talkStreamClose,talkStreamError:d0.talkStreamError,talkStreamInactive:d0.talkStreamInactive,talkGetUserMediaTimeout:d0.talkGetUserMediaTimeout},L0={playError:"playIsNotPauseOrUrlIsNull",fetchError:"fetchError",websocketError:"websocketError",webcodecsH265NotSupport:"webcodecsH265NotSupport",webcodecsDecodeError:"webcodecsDecodeError",webcodecsUnsupportedConfigurationError:"webcodecsUnsupportedConfigurationError",mediaSourceH265NotSupport:"mediaSourceH265NotSupport",mediaSourceDecoderConfigurationError:"mediaSourceDecoderConfigurationError",mediaSourceFull:d0.mseSourceBufferFull,mseSourceBufferError:d0.mseSourceBufferError,mseAddSourceBufferError:d0.mseAddSourceBufferError,mediaSourceAppendBufferError:"mediaSourceAppendBufferError",mediaSourceBufferListLarge:"mediaSourceBufferListLarge",mediaSourceAppendBufferEndTimeout:"mediaSourceAppendBufferEndTimeout",mediaSourceTsIsMaxDiff:"mediaSourceTsIsMaxDiff",mediaSourceUseCanvasRenderPlayFailed:"mediaSourceUseCanvasRenderPlayFailed",wasmDecodeError:"wasmDecodeError",wasmUseVideoRenderError:"wasmUseVideoRenderError",hlsError:"hlsError",webrtcError:"webrtcError",webglAlignmentError:"webglAlignmentError",wasmWidthOrHeightChange:"wasmWidthOrHeightChange",mseWidthOrHeightChange:"mseWidthOrHeightChange",wcsWidthOrHeightChange:"wcsWidthOrHeightChange",tallWebsocketClosedByError:"tallWebsocketClosedByError",flvDemuxBufferSizeTooLarge:d0.flvDemuxBufferSizeTooLarge,wasmDecodeVideoNoResponseError:"wasmDecodeVideoNoResponseError",audioChannelError:"audioChannelError",simdH264DecodeVideoWidthIsTooLarge:"simdH264DecodeVideoWidthIsTooLarge",webglContextLostError:"webglContextLostError"},Ct="notConnect",ci="open",Ri={download:"download",base64:"base64",blob:"blob"},Ni="download",Ji={7:"H264(AVC)",12:"H265(HEVC)",99:"MPEG4"},rr="H264(AVC)",Nr="H265(HEVC)",Pr=10,nn={AAC:"AAC",ALAW:"ALAW(g711a)",MULAW:"MULAW(g711u)"},vn={10:"AAC",7:"ALAW",8:"MULAW"},Hs=7,zn=8,m2=5,ei=6,_1=32,Gn=33,wn=34,Wt="webcodecs",Br="webgl",gs="webgpu",ho="offscreen",Hn="mse",_n='video/mp4; codecs="avc1.64002A"',fo='video/mp4; codecs="hev1.1.6.L123.b0"',ws="oneHour",Mr="halfHour",sr="tenMin",b1="fiveMin",bn={oneHour:"one-hour",halfHour:"half-hour",tenMin:"ten-min",fiveMin:"five-min"},Vs=["oneHour","halfHour","tenMin","fiveMin"],Ki=["up","right","down","left","left-up","right-up","left-down","right-down"],Vn="stop",an="fiStop",y0="zoomExpand",po="zoomNarrow",At="apertureFar",k1="apertureNear",qt="focusFar",g2="focusNear",S1="g711a",E1="g711u",Xr={png:"image/png",jpeg:"image/jpeg",webp:"image/webp"},Wn="canplay",y2="waiting",T1="timeupdate",A2="ratechange",ql="hevc",mo="The user aborted a request",x1="AbortError",C1="AbortError",D1=0,Yl=1,v2="worklet",Jl={encType:S1,packetType:"rtp",rtpSsrc:"0000000000",numberChannels:1,sampleRate:8e3,sampleBitsWidth:16,debug:!1,debugLevel:xt,testMicrophone:!1,audioBufferLength:160,engine:v2,checkGetUserMediaTimeout:!1,getUserMediaTimeout:1e4},jn="worklet",kn="script",on="active",Ql={name:"",index:0,icon:"",iconHover:"",iconTitle:"",activeIcon:"",activeIconHover:"",activeIconTitle:"",click:null,activeClick:null},Xl={content:"",click:null,index:0},R1={container:"",maxSplit:4,split:1,supportDblclickContainerFullscreen:!0,style:{border:"#343434",borderSelect:"#FFCC00",background:"#000"}},ur={dblSelected:"multiDblSelected",selected:"multiSelected",mouseOver:"multiMouseover",mouseOut:"multiMouseout",mouseUp:"multiMouseup"},Sn="3-1",ln="4-1",w2="load-retry",L1="load-start";class I1{constructor(R){this.log=function(ie){if(R._opt.debug&&R._opt.debugLevel==mt){for(var ae=R._opt.debugUuid?`[${R._opt.debugUuid}]`:"",we=arguments.length,_e=new Array(1<we?we-1:0),fe=1;fe<we;fe++)_e[fe-1]=arguments[fe];console.log(`JbPro${ae}:[✅✅✅][${ie}]`,..._e)}},this.warn=function(ie){if(R._opt.debug&&(R._opt.debugLevel==mt||R._opt.debugLevel==xt)){for(var ae=R._opt.debugUuid?`[${R._opt.debugUuid}]`:"",we=arguments.length,_e=new Array(1<we?we-1:0),fe=1;fe<we;fe++)_e[fe-1]=arguments[fe];console.log(`JbPro${ae}:[❗❗❗][${ie}]`,..._e)}},this.error=function(ie){for(var ae=R._opt.debugUuid?`[${R._opt.debugUuid}]`:"",we=arguments.length,_e=new Array(1<we?we-1:0),fe=1;fe<we;fe++)_e[fe-1]=arguments[fe];console.error(`JbPro${ae}:[❌❌❌][${ie}]`,..._e)}}}var os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function P1(Qe,R){return Qe(R={exports:{}},R.exports),R.exports}var cr=P1(function(Qe){var R,ie,ae,we,_e;R=typeof window<"u"&&window.document!==void 0?window.document:{},ie=Qe.exports,ae=(function(){for(var fe,de=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Se=0,Pe=de.length,xe={};Se<Pe;Se++)if((fe=de[Se])&&fe[1]in R){for(Se=0;Se<fe.length;Se++)xe[de[0][Se]]=fe[Se];return xe}return!1})(),we={change:ae.fullscreenchange,error:ae.fullscreenerror},_e={request:function(fe,de){return new Promise((function(Se,Pe){var xe=(function(){this.off("change",xe),Se()}).bind(this),Oe=(this.on("change",xe),(fe=fe||R.documentElement)[ae.requestFullscreen](de));Oe instanceof Promise&&Oe.then(xe).catch(Pe)}).bind(this))},exit:function(){return new Promise((function(fe,de){var Se,Pe;this.isFullscreen?(Se=(function(){this.off("change",Se),fe()}).bind(this),this.on("change",Se),(Pe=R[ae.exitFullscreen]())instanceof Promise&&Pe.then(Se).catch(de)):fe()}).bind(this))},toggle:function(fe,de){return this.isFullscreen?this.exit():this.request(fe,de)},onchange:function(fe){this.on("change",fe)},onerror:function(fe){this.on("error",fe)},on:function(fe,de){fe=we[fe],fe&&R.addEventListener(fe,de,!1)},off:function(fe,de){fe=we[fe],fe&&R.removeEventListener(fe,de,!1)},raw:ae},ae?(Object.defineProperties(_e,{isFullscreen:{get:function(){return!!R[ae.fullscreenElement]}},element:{enumerable:!0,get:function(){return R[ae.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!R[ae.fullscreenEnabled]}}}),ie?Qe.exports=_e:window.screenfull=_e):ie?Qe.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}});function _2(R){var{profile:R,sampleRate:ie,channel:ae}=R;return new Uint8Array([175,0,R<<3|(14&ie)>>1,(1&ie)<<7|ae<<3])}function b2(Qe){return Qe[0]>>4===Pr&&Qe[1]===D1}cr.isEnabled;const k2=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],go=k2;function S2(Qe,R){return 1024*(1<arguments.length&&R!==void 0?R:9e4)/Qe}function B1(){}function Zr(Qe){let R=null;var ie=["webgl","experimental-webgl","moz-webgl","webkit-3d"];let ae=0;for(;!R&&ae<ie.length;){var we=ie[ae];try{var _e={preserveDrawingBuffer:!0};R=Qe.getContext(we,_e)}catch(fe){console.error(fe),R=null}R&&typeof R.getParameter=="function"||(R=null),++ae}return R}function un(ie){var ie=(0<arguments.length&&ie!==void 0?ie:"").split(","),R=atob(ie[1]),ie=ie[0].replace("data:","").replace(";base64","");let ae=R.length,we=new Uint8Array(ae);for(;ae--;)we[ae]=R.charCodeAt(ae);return new File([we],"file",{type:ie})}function _i(){return new Date().getTime()}function ls(Qe,R,ie){return Math.max(Math.min(Qe,Math.max(R,ie)),Math.min(R,ie))}function ri(Qe,R,ie){Qe&&(typeof R=="object"&&Object.keys(R).forEach(ae=>{ri(Qe,ae,R[ae])}),Qe.style[R]=ie)}function yo(Qe,R,ie){return ie=!(2<arguments.length&&ie!==void 0)||ie,Qe?(Qe=getComputedStyle(Qe,null).getPropertyValue(R),ie?parseFloat(Qe):Qe):0}function cn(){return(performance&&typeof performance.now=="function"?performance:Date).now()}function Ao(Qe){let R=0,ie=cn();return ae=>{var we;Xt(ae)&&(R+=ae,1e3<=(we=(ae=cn())-ie))&&(Qe(R/we*1e3),ie=ae,R=0)}}try{if(typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"){var En=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));En instanceof WebAssembly.Module&&new WebAssembly.Instance(En)instanceof WebAssembly.Instance}}catch{}const Zl='"6-25-2023"';function es(){return/iphone|ipod|android.*mobile|windows.*phone|blackberry.*mobile/i.test(window.navigator.userAgent.toLowerCase())}function vo(){const Qe=window.navigator.userAgent.toLowerCase()||"",R={type:"",version:""},ie={IE:window.ActiveXObject||"ActiveXObject"in window,Chrome:-1<Qe.indexOf("chrome")&&-1<Qe.indexOf("safari"),Firefox:-1<Qe.indexOf("firefox"),Opera:-1<Qe.indexOf("opera"),Safari:-1<Qe.indexOf("safari")&&Qe.indexOf("chrome")==-1,Edge:-1<Qe.indexOf("edge"),QQBrowser:/qqbrowser/.test(Qe),WeixinBrowser:/MicroMessenger/i.test(Qe)};for(var ae in ie)if(ie[ae]){let _e="";if(ae==="IE"){const fe=Qe.match(/(msie\s|trident.*rv:)([\w.]+)/);fe&&2<fe.length&&(_e=Qe.match(/(msie\s|trident.*rv:)([\w.]+)/)[2])}else if(ae==="Chrome"){for(var we in navigator.mimeTypes)navigator.mimeTypes[we].type==="application/360softmgrplugin"&&(ae="360");const fe=Qe.match(/chrome\/([\d.]+)/);fe&&1<fe.length&&(_e=fe[1])}else if(ae==="Firefox"){const fe=Qe.match(/firefox\/([\d.]+)/);fe&&1<fe.length&&(_e=fe[1])}else if(ae==="Opera"){const fe=Qe.match(/opera\/([\d.]+)/);fe&&1<fe.length&&(_e=fe[1])}else if(ae==="Safari"){const fe=Qe.match(/version\/([\d.]+)/);fe&&1<fe.length&&(_e=fe[1])}else if(ae==="Edge"){const fe=Qe.match(/edge\/([\d.]+)/);fe&&1<fe.length&&(_e=fe[1])}else if(ae==="QQBrowser"){const fe=Qe.match(/qqbrowser\/([\d.]+)/);fe&&1<fe.length&&(_e=fe[1])}R.type=ae,R.version=parseInt(_e)}return R}function hn(){var Qe=window.navigator.userAgent.toLowerCase();return Qe&&/iphone|ipad|ipod|ios/.test(Qe)}function M1(){var Qe=window.navigator.userAgent;return!Qe.match(/Chrome/gi)&&Qe.match(/Safari/gi)}function wo(Qe,R){var ie;return arguments.length===0?null:(R=R||"{y}-{m}-{d} {h}:{i}:{s}",Qe=typeof Qe=="object"?Qe:(Qe=+(Qe=(""+Qe).length===10?1e3*parseInt(Qe):Qe),new Date(Qe)),ie={y:Qe.getFullYear(),m:Qe.getMonth()+1,d:Qe.getDate(),h:Qe.getHours(),i:Qe.getMinutes(),s:Qe.getSeconds(),a:Qe.getDay()},R.replace(/{(y|m|d|h|i|s|a)+}/g,(ae,we)=>{var _e=ie[we];return we==="a"?["一","二","三","四","五","六","日"][_e-1]:(_e=0<ae.length&&_e<10?"0"+_e:_e)||0}))}function E2(){return"VideoFrame"in window}function Ls(Qe){var R;return typeof Qe!="string"||(R=Number(Qe),isNaN(R))?Qe:R}function U1(){return"xxxxxxxxxxxx4xxx".replace(/[xy]/g,function(Qe){var R=16*Math.random()|0;return(Qe=="x"?R:3&R|8).toString(16)})}function T2(Qe,R){let ie,ae,we=!1;return function _e(){for(var fe=arguments.length,de=new Array(fe),Se=0;Se<fe;Se++)de[Se]=arguments[Se];we?(ie=de,ae=this):(we=!0,Qe.apply(this,de),setTimeout(()=>{we=!1,ie&&(_e.apply(ae,ie),ie=null,ae=null)},R))}}function F1(Qe){var R,ie;return Qe==null||Qe==""?"0 Bytes":(R=new Array("Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"),ie=0,Qe=parseFloat(Qe),ie=Math.floor(Math.log(Qe)/Math.log(1024)),(Qe/Math.pow(1024,ie)).toFixed(2)+R[ie])}function Xt(Qe){return Object.prototype.toString.call(Qe)==="[object Number]"}function I0(){let Qe=!1;return Qe="MediaSource"in window&&window.MediaSource.isTypeSupported(fo)?!0:Qe}function x2(){var Qe=vo();return Qe.type.toLowerCase()==="chrome"&&107<=Qe.version}function Tn(){let Qe=!1;return Qe="MediaStreamTrackGenerator"in window?!0:Qe}function $n(){let Qe=!1;return Qe="MediaStream"in window?!0:Qe}function xn(Qe){return Qe==null}function C2(Qe){return Qe===!0||Qe===!1}function Zi(Qe){return!xn(Qe)}function Kn(Qe){var R={left:"",right:"",top:"",bottom:"",opacity:1,backgroundColor:"",image:{src:"",width:"100",height:"60"},text:{content:"",fontSize:"14",color:"#000"},rect:{color:"",lineWidth:2,width:"",height:""},html:""},ie=Object.assign(R.image,Qe.image||{}),ae=Object.assign(R.text,Qe.text||{});return Object.assign(R,Qe,{image:ie,text:ae})}function D2(Qe,R){return Qe={container:Qe||"",text:"",opacity:"",angle:"",color:"",fontSize:"",fontFamily:""},{watermark_parent_node:(Qe=Object.assign(Qe,R)).container,watermark_alpha:Qe.opacity,watermark_angle:Qe.angle,watermark_fontsize:Qe.fontSize,watermark_color:Qe.color,watermark_font:Qe.fontFamily,watermark_txt:Qe.text}}function R2(Qe,R){return new Promise((ie,ae)=>{let we=Kn(R);if(!we.image.src&&!we.text.content)return ie(Qe);let _e=document.createElement("canvas"),fe=(_e.width=R.width,_e.height=R.height,_e.getContext("2d")),de=0,Se=0;Xt(we.left)?de=we.left:Xt(we.right)&&(de=_e.width-we.right),Xt(we.top)?Se=we.top:Xt(we.bottom)&&(Se=_e.height-we.bottom);const Pe=new Image;Pe.src=Qe,Pe.onload=()=>{if(fe.drawImage(Pe,0,0),we.image&&we.image.src){const xe=new Image;xe.src=we.image.src,xe.setAttribute("crossOrigin","Anonymous"),xe.onload=()=>{de-=we.image.width,fe.drawImage(xe,de,Se,we.image.width,we.image.height),ie(_e.toDataURL(R.format,R.quality))},xe.onerror=Oe=>{ae()}}else we.text&&we.text.content&&(fe.font=we.text.fontSize+"px 宋体",fe.fillStyle=we.text.color,fe.textAlign="right",fe.fillText(we.text.content,de,Se),ie(_e.toDataURL(R.format,R.quality)))},Pe.onerror=xe=>{ae(xe)}})}function _o(Qe){var R,ie;return-1<Qe&&(R=Qe%60,ie=(ie=Math.floor(Qe/3600))<10?"0"+ie+":":ie+":",(Qe=Math.floor(Qe/60)%60)<10&&(ie+="0"),ie+=Qe+":",(R=Math.round(R))<10&&(ie+="0"),ie+=R.toFixed(0)),ie}function O1(Qe){let R="";var ie,ae;return-1<Qe&&(ie=Math.floor(Qe/60/60)%60,ae=Math.floor(Qe/60)%60,Qe=Qe%60,ae=Math.round(ae),R=ie<10?"0"+ie+":":ie+":",ae<10&&(R+="0"),R+=ae+":",Qe<10&&(R+="0"),R+=Qe),R}function N1(Qe,we){var ie=Math.floor(we/60/60)%60,ae=Math.floor(we/60)%60,we=we%60;return new Date(Qe).setHours(ie,ae,we,0)}function z1(Qe){return(""+Qe).length}function bo(Qe){return!Qe||Object.keys(Qe).length!==0}function L2(Qe){return typeof Qe=="string"}const I2=()=>{var Qe=window.navigator.userAgent;return/MicroMessenger/i.test(Qe)};function Is(Qe){return Qe=Qe||window.event,Qe.target||Qe.srcElement}function us(Qe){return typeof Qe=="function"}function P2(Qe){let R=0,ie=0;var ae=Qe||window.event;return ae.pageX||ae.pageY?(R=ae.pageX,ie=ae.pageY):(ae.clientX||ae.clientY)&&(R=Qe.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,ie=Qe.clientY+document.documentElement.scrollTop+document.body.scrollTop),{posX:R,posY:ie}}function B2(){let Qe=document.createElement("video"),R=Qe.canPlayType("application/vnd.apple.mpegurl");return Qe=null,R}function G1(Qe){return xi(Qe.hasAudio)&&(Qe.useMSE||Qe.useWCS&&!Qe.useOffscreen)}function M2(Qe){return Qe=Qe.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],Qe=new Blob([Qe],{type:"application/javascript"}),URL.createObjectURL(Qe)}function H1(Qe){Qe.close?Qe.close():Qe.destroy&&Qe.destroy()}function U2(){return window.location.protocol==="https:"||window.location.hostname==="localhost"}function F2(Qe,R){let ie=(Qe=R?Qe.filter(fe=>fe.type===R):Qe)[0],ae=null,we=1;var _e;if(0<Qe.length&&(_e=Qe[1])&&1e5<_e.ts-ie.ts&&(ie=_e,we=2),ie)for(let fe=we;fe<Qe.length;fe++){let de=Qe[fe];!(de=R&&de.type!==R?null:de)||1e3<=de.ts-ie.ts&&Qe[fe-1].ts-ie.ts<1e3&&(ae=fe+1)}return ae}function O2(Qe){for(var Qe=(Qe+"=".repeat((4-Qe.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),R=window.atob(Qe),ie=new Uint8Array(R.length),ae=0;ae<R.length;++ae)ie[ae]=R.charCodeAt(ae);return ie}function Cn(Qe){let R="";if(typeof Qe=="object")try{R=JSON.stringify(Qe),R=JSON.parse(R)}catch{R=Qe}else R=Qe;return R}function N2(){return Cn($i)}function ko(){return Cn(ir)}function z2(Qe){return Qe[0]>>4===Yl&&Qe[1]===D1}function br(Qe){return Qe===!0||Qe==="true"}function xi(Qe){return Qe!==!0&&Qe!=="true"}function G2(Qe){return Qe.replace(/-([a-z])/g,function(R,ie){return ie.toUpperCase()})}class V1{constructor(R){this.destroys=[],this.proxy=this.proxy.bind(this),this.master=R}proxy(R,ie,ae){let we=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};if(R){if(Array.isArray(ie))return ie.map(fe=>this.proxy(R,fe,ae,we));R.addEventListener(ie,ae,we);var _e=()=>{us(R.removeEventListener)&&R.removeEventListener(ie,ae,we)};return this.destroys.push(_e),_e}}destroy(){this.master.debug&&this.master.debug.log("Events","destroy"),this.destroys.forEach(R=>R()),this.destroys=[]}}var Ws=typeof Float32Array<"u"?Float32Array:Array;function So(){var Qe=new Ws(16);return Ws!=Float32Array&&(Qe[1]=0,Qe[2]=0,Qe[3]=0,Qe[4]=0,Qe[6]=0,Qe[7]=0,Qe[8]=0,Qe[9]=0,Qe[11]=0,Qe[12]=0,Qe[13]=0,Qe[14]=0),Qe[0]=1,Qe[5]=1,Qe[10]=1,Qe[15]=1,Qe}function H2(Qe){Qe[0]=1,Qe[1]=0,Qe[2]=0,Qe[3]=0,Qe[4]=0,Qe[5]=1,Qe[6]=0,Qe[7]=0,Qe[8]=0,Qe[9]=0,Qe[10]=1,Qe[11]=0,Qe[12]=0,Qe[13]=0,Qe[14]=0,Qe[15]=1}Math.hypot||(Math.hypot=function(){for(var Qe=0,R=arguments.length;R--;)Qe+=arguments[R]*arguments[R];return Math.sqrt(Qe)});function W1(Qe,R,ie){var ae=new Ws(3);return ae[0]=Qe,ae[1]=R,ae[2]=ie,ae}En=new Ws(3),Ws!=Float32Array&&(En[0]=0,En[1]=0,En[2]=0),i1=new Ws(4),Ws!=Float32Array&&(i1[0]=0,i1[1]=0,i1[2]=0,i1[3]=0);class V2{constructor(R,ie){this.gl=R,ie&&this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),ie=this._initShaderProgram(),this._programInfo={program:ie,attribLocations:{vertexPosition:R.getAttribLocation(ie,"aVertexPosition"),texturePosition:R.getAttribLocation(ie,"aTexturePosition")},uniformLocations:{projectionMatrix:R.getUniformLocation(ie,"uProjectionMatrix"),modelMatrix:R.getUniformLocation(ie,"uModelMatrix"),viewMatrix:R.getUniformLocation(ie,"uViewMatrix"),rgbatexture:R.getUniformLocation(ie,"rgbaTexture"),ytexture:R.getUniformLocation(ie,"yTexture"),utexture:R.getUniformLocation(ie,"uTexture"),vtexture:R.getUniformLocation(ie,"vTexture"),isyuv:R.getUniformLocation(ie,"isyuv")}},this._buffers=this._initBuffers(),this._rgbatexture=this._createTexture(),this._ytexture=this._createTexture(),this._utexture=this._createTexture(),this._vtexture=this._createTexture()}destroy(){this.gl.deleteProgram(this._programInfo.program),this.gl.deleteBuffer(this._buffers.position),this.gl.deleteBuffer(this._buffers.texPosition),this.gl.deleteBuffer(this._buffers.indices),this.gl.deleteTexture(this._rgbatexture),this.gl.deleteTexture(this._ytexture),this.gl.deleteTexture(this._utexture),this.gl.deleteTexture(this._vtexture),this._programInfo=null,this._buffers=null,this._rgbatexture=null,this._ytexture=null,this._utexture=null,this._vtexture=null}_initShaderProgram(){var R=this._loadShader(this.gl.VERTEX_SHADER,`
            attribute vec4 aVertexPosition;
            attribute vec2 aTexturePosition;
            varying lowp vec2 vTexturePosition;
            void main(void) {
              gl_Position = aVertexPosition;
              vTexturePosition = aTexturePosition;
            }
        `),ie=this._loadShader(this.gl.FRAGMENT_SHADER,`
            precision highp float;
            varying highp vec2 vTexturePosition;
            uniform int isyuv;
            uniform sampler2D rgbaTexture;
            uniform sampler2D yTexture;
            uniform sampler2D uTexture;
            uniform sampler2D vTexture;

            const mat4 YUV2RGB = mat4( 1.1643828125, 0, 1.59602734375, -.87078515625,
                                       1.1643828125, -.39176171875, -.81296875, .52959375,
                                       1.1643828125, 2.017234375, 0, -1.081390625,
                                       0, 0, 0, 1);


            void main(void) {

                if (isyuv>0) {

                    highp float y = texture2D(yTexture,  vTexturePosition).r;
                    highp float u = texture2D(uTexture,  vTexturePosition).r;
                    highp float v = texture2D(vTexture,  vTexturePosition).r;
                    gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;

                } else {
                    gl_FragColor =  texture2D(rgbaTexture, vTexturePosition);
                }
            }
        `),ae=this.gl.createProgram();return this.gl.attachShader(ae,R),this.gl.attachShader(ae,ie),this.gl.linkProgram(ae),this.gl.getProgramParameter(ae,this.gl.LINK_STATUS)?ae:(console.log("Unable to initialize the shader program: "+this.gl.getProgramInfoLog(ae)),null)}_loadShader(we,ie){var ae=this.gl,we=ae.createShader(we);return ae.shaderSource(we,ie),ae.compileShader(we),ae.getShaderParameter(we,ae.COMPILE_STATUS)?we:(console.log("An error occurred compiling the shaders: "+ae.getShaderInfoLog(we)),ae.deleteShader(we),null)}_initBuffers(){var R=this.gl,ie=R.createBuffer(),ae=(R.bindBuffer(R.ARRAY_BUFFER,ie),[-1,-1,1,-1,1,1,-1,1]);R.bufferData(R.ARRAY_BUFFER,new Float32Array(ae),R.STATIC_DRAW);var _e=(_e=[]).concat([0,1],[1,1],[1,0],[0,0]),we=R.createBuffer(),_e=(R.bindBuffer(R.ARRAY_BUFFER,we),R.bufferData(R.ARRAY_BUFFER,new Float32Array(_e),R.STATIC_DRAW),R.createBuffer());return R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,_e),R.bufferData(R.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),R.STATIC_DRAW),{positions:ae,position:ie,texPosition:we,indices:_e}}_createTexture(){var R=this.gl.createTexture();return this.gl.bindTexture(this.gl.TEXTURE_2D,R),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),R}_drawScene(R,ie,ae){this.gl.viewport(0,0,R,ie),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this._buffers.position),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(this._buffers.positions),this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this._programInfo.attribLocations.vertexPosition,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this._programInfo.attribLocations.vertexPosition),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this._buffers.texPosition),this.gl.vertexAttribPointer(this._programInfo.attribLocations.texturePosition,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this._programInfo.attribLocations.texturePosition),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this._buffers.indices),ae?(this.gl.activeTexture(this.gl.TEXTURE0+3),this.gl.bindTexture(this.gl.TEXTURE_2D,this._ytexture),this.gl.activeTexture(this.gl.TEXTURE0+4),this.gl.bindTexture(this.gl.TEXTURE_2D,this._utexture),this.gl.activeTexture(this.gl.TEXTURE0+5),this.gl.bindTexture(this.gl.TEXTURE_2D,this._vtexture)):(this.gl.activeTexture(this.gl.TEXTURE0+2),this.gl.bindTexture(this.gl.TEXTURE_2D,this._rgbatexture)),this.gl.useProgram(this._programInfo.program),this.gl.uniform1i(this._programInfo.uniformLocations.rgbatexture,2),this.gl.uniform1i(this._programInfo.uniformLocations.ytexture,3),this.gl.uniform1i(this._programInfo.uniformLocations.utexture,4),this.gl.uniform1i(this._programInfo.uniformLocations.vtexture,5),this.gl.uniform1i(this._programInfo.uniformLocations.isyuv,ae?1:0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}_calRect(Pe,ie,xe,Se,_e,fe){var de=2*Pe/_e-1,Se=2*(fe-ie-Se)/fe-1,Pe=2*(Pe+xe)/_e-1,xe=2*(fe-ie)/fe-1;return[de,Se,Pe,Se,Pe,xe,de,xe]}_clear(){this.gl.clearColor(0,0,0,1),this.gl.clearDepth(1),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}render(R,ie,ae,we,_e){var fe=this.gl;this._clear(),fe.activeTexture(fe.TEXTURE0),fe.bindTexture(fe.TEXTURE_2D,this._ytexture),fe.texImage2D(fe.TEXTURE_2D,0,fe.LUMINANCE,R,ie,0,fe.LUMINANCE,fe.UNSIGNED_BYTE,ae),fe.activeTexture(fe.TEXTURE1),fe.bindTexture(fe.TEXTURE_2D,this._utexture),fe.texImage2D(fe.TEXTURE_2D,0,fe.LUMINANCE,R/2,ie/2,0,fe.LUMINANCE,fe.UNSIGNED_BYTE,we),fe.activeTexture(fe.TEXTURE2),fe.bindTexture(fe.TEXTURE_2D,this._vtexture),fe.texImage2D(fe.TEXTURE_2D,0,fe.LUMINANCE,R/2,ie/2,0,fe.LUMINANCE,fe.UNSIGNED_BYTE,_e),this._buffers.positions=[-1,-1,1,-1,1,1,-1,1],this._drawScene(R,ie,!0)}renderYUV(R,ie,fe){var we=fe.slice(0,R*ie),_e=fe.slice(R*ie,R*ie*5/4),fe=fe.slice(R*ie*5/4,R*ie*3/2),de=this.gl;this._clear(),de.activeTexture(de.TEXTURE0),de.bindTexture(de.TEXTURE_2D,this._ytexture),de.texImage2D(de.TEXTURE_2D,0,de.LUMINANCE,R,ie,0,de.LUMINANCE,de.UNSIGNED_BYTE,we),de.activeTexture(de.TEXTURE1),de.bindTexture(de.TEXTURE_2D,this._utexture),de.texImage2D(de.TEXTURE_2D,0,de.LUMINANCE,R/2,ie/2,0,de.LUMINANCE,de.UNSIGNED_BYTE,_e),de.activeTexture(de.TEXTURE2),de.bindTexture(de.TEXTURE_2D,this._vtexture),de.texImage2D(de.TEXTURE_2D,0,de.LUMINANCE,R/2,ie/2,0,de.LUMINANCE,de.UNSIGNED_BYTE,fe),this._buffers.positions=[-1,-1,1,-1,1,1,-1,1],this._drawScene(R,ie,!0)}drawDom(R,ie,ae,we,_e){var fe=this.gl;fe.activeTexture(fe.TEXTURE0),fe.bindTexture(fe.TEXTURE_2D,this._rgbatexture),fe.texImage2D(fe.TEXTURE_2D,0,fe.RGBA,fe.RGBA,fe.UNSIGNED_BYTE,_e),this._buffers.positions=this._calRect(ae,we,_e.width,_e.height,R,ie),this._drawScene(R,ie,!1)}}class eu{constructor(R){this.gpu=R,this.pipeline=null,this.matrixGroupInfo=null,this.depthTexture=null,this.textureGroupInfo=null,this.hasInited=!1,this.buffers=this._initBuffer(),this._initPipeline().then(ie=>{this.pipeline=ie,this.matrixGroupInfo=this._initMatrixGroupInfo(),this.hasInited=!0})}destroy(){this.gpu&&(this.gpu.device.destroy(),this.gpu=null),this.hasInited=!1,this.pipeline=null,this.matrixGroupInfo=null,this.depthTexture=null,this.textureGroupInfo=null}_initBuffer(){var R=this.gpu.device,we=new Float32Array([-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1]),ie=R.createBuffer({size:we.byteLength,usage:window.GPUBufferUsage.VERTEX|window.GPUBufferUsage.COPY_DST}),we=(R.queue.writeBuffer(ie,0,we),new Float32Array([0,1,1,1,1,0,0,0])),ae=R.createBuffer({size:we.byteLength,usage:window.GPUBufferUsage.VERTEX|window.GPUBufferUsage.COPY_DST}),we=(R.queue.writeBuffer(ae,0,we),new Uint16Array([0,1,2,0,2,3])),_e=R.createBuffer({size:we.byteLength,usage:window.GPUBufferUsage.INDEX|window.GPUBufferUsage.COPY_DST});return R.queue.writeBuffer(_e,0,we),{positionBuffer:ie,texpositionBuffer:ae,indexBuffer:_e}}_initPipeline(){return new Promise((R,ie)=>{var ae=this.gpu.device,we=this.gpu.format,we={layout:"auto",vertex:{module:ae.createShaderModule({code:`

                  @binding(0) @group(0) var<uniform> uModelMatrix : mat4x4<f32>;
                  @binding(1) @group(0) var<uniform> uViewMatrix : mat4x4<f32>;
                  @binding(2) @group(0) var<uniform> uProjectionMatrix : mat4x4<f32>;

                  struct VertexOutput {
                    @builtin(position) Position : vec4<f32>,
                    @location(0) vTexturePosition : vec2<f32>,
                  }

                  @vertex
                  fn main(
                    @location(0) aVertexPosition : vec4<f32>,
                    @location(1) aTexturePosition : vec2<f32>
                  ) -> VertexOutput {
                    var output : VertexOutput;
                    var tmppos : vec4<f32> = uProjectionMatrix * uViewMatrix * uModelMatrix * aVertexPosition;
                    output.Position = vec4<f32>(tmppos.x, tmppos.y, (tmppos.z+1.)/2., tmppos.w);  // webgl z [-1, 1],  webgpu z [0, 1],  这里z做下调整 z-webgpu = (z-webgl+1)/2
                    output.vTexturePosition = aTexturePosition;
                    return output;
                  }

                `}),entryPoint:"main",buffers:[{arrayStride:12,attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]},{arrayStride:8,attributes:[{shaderLocation:1,offset:0,format:"float32x2"}]}]},primitive:{topology:"triangle-list"},fragment:{module:ae.createShaderModule({code:`
                @group(1) @binding(0) var mySampler: sampler;
                @group(1) @binding(1) var yTexture: texture_2d<f32>;
                @group(1) @binding(2) var uTexture: texture_2d<f32>;
                @group(1) @binding(3) var vTexture: texture_2d<f32>;

                const YUV2RGB : mat4x4<f32> = mat4x4<f32>( 1.1643828125, 0, 1.59602734375, -.87078515625,
                                                         1.1643828125, -.39176171875, -.81296875, .52959375,
                                                         1.1643828125, 2.017234375, 0, -1.081390625,
                                                         0, 0, 0, 1);

                @fragment
                fn main(
                  @location(0) vTexturePosition: vec2<f32>
                ) -> @location(0) vec4<f32> {

                    var y : f32= textureSample(yTexture, mySampler, vTexturePosition).r;
                    var u : f32 = textureSample(uTexture,  mySampler, vTexturePosition).r;
                    var v : f32 = textureSample(vTexture, mySampler, vTexturePosition).r;

                    return  vec4<f32>(y, u, v, 1.0)*YUV2RGB;
                }

                `}),entryPoint:"main",targets:[{format:we}]},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus"}};ae.createRenderPipelineAsync(we).then(_e=>{R(_e)}).catch(_e=>{ie(_e)})})}_initMatrixGroupInfo(){var R,ie,ae,we,_e,fe,de,Se,Pe,xe,Oe,Fe=this.gpu.device,ye=this.pipeline,Ne=So(),ee=(R=(ie=se=1)/((ee=-1)-se),Ae=1/((ae=-1)-ie),Se=1/((de=.1)-(fe=100)),(Pe=Ne)[0]=-2*R,Pe[1]=0,Pe[2]=0,Pe[3]=0,Pe[4]=0,Pe[5]=-2*Ae,Pe[6]=0,Pe[7]=0,Pe[8]=0,Pe[9]=0,Pe[10]=2*Se,Pe[11]=0,Pe[12]=(ee+se)*R,Pe[13]=(ie+ae)*Ae,Pe[14]=(fe+de)*Se,Pe[15]=1,So()),se=(H2(ee),So()),he=(R=se,ie=W1(0,0,0),ae=W1(0,0,-1),Ae=W1(0,1,0),fe=ie[0],de=ie[1],ie=ie[2],Se=Ae[0],Pe=Ae[1],Ae=Ae[2],xe=ae[0],Oe=ae[1],ae=ae[2],Math.abs(fe-xe)<1e-6&&Math.abs(de-Oe)<1e-6&&Math.abs(ie-ae)<1e-6?H2(R):(xe=fe-xe,Oe=de-Oe,ae=ie-ae,ce=Pe*(ae*=he=1/Math.hypot(xe,Oe,ae))-Ae*(Oe*=he),Ae=Ae*(xe*=he)-Se*ae,Se=Se*Oe-Pe*xe,(he=Math.hypot(ce,Ae,Se))?(ce*=he=1/he,Ae*=he,Se*=he):Se=Ae=ce=0,Pe=Oe*Se-ae*Ae,we=ae*ce-xe*Se,_e=xe*Ae-Oe*ce,(he=Math.hypot(Pe,we,_e))?(Pe*=he=1/he,we*=he,_e*=he):_e=we=Pe=0,R[0]=ce,R[1]=Pe,R[2]=xe,R[3]=0,R[4]=Ae,R[5]=we,R[6]=Oe,R[7]=0,R[8]=Se,R[9]=_e,R[10]=ae,R[11]=0,R[12]=-(ce*fe+Ae*de+Se*ie),R[13]=-(Pe*fe+we*de+_e*ie),R[14]=-(xe*fe+Oe*de+ae*ie),R[15]=1),Fe.createBuffer({size:64,usage:window.GPUBufferUsage.UNIFORM|window.GPUBufferUsage.COPY_DST})),ce=(Fe.queue.writeBuffer(he,0,ee),Fe.createBuffer({size:64,usage:window.GPUBufferUsage.UNIFORM|window.GPUBufferUsage.COPY_DST})),Ae=(Fe.queue.writeBuffer(ce,0,se),Fe.createBuffer({size:64,usage:window.GPUBufferUsage.UNIFORM|window.GPUBufferUsage.COPY_DST}));return Fe.queue.writeBuffer(Ae,0,Ne),{modelMatrixBuffer:he,viewMatrixBuffer:ce,projectMatrixBuffer:Ae,group:Fe.createBindGroup({label:"group0",layout:ye.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:he}},{binding:1,resource:{buffer:ce}},{binding:2,resource:{buffer:Ae}}]})}}_initTextureGroupInfo(fe,de){var Se=this.gpu.device,ae=this.pipeline,we=Se.createTexture({size:[fe,de],format:"r8unorm",usage:window.GPUTextureUsage.TEXTURE_BINDING|window.GPUTextureUsage.COPY_DST|window.GPUTextureUsage.RENDER_ATTACHMENT}),_e=Se.createTexture({size:[fe/2,de/2],format:"r8unorm",usage:window.GPUTextureUsage.TEXTURE_BINDING|window.GPUTextureUsage.COPY_DST|window.GPUTextureUsage.RENDER_ATTACHMENT}),fe=Se.createTexture({size:[fe/2,de/2],format:"r8unorm",usage:window.GPUTextureUsage.TEXTURE_BINDING|window.GPUTextureUsage.COPY_DST|window.GPUTextureUsage.RENDER_ATTACHMENT}),de=Se.createSampler({magFilter:"linear",minFilter:"linear"}),Se=Se.createBindGroup({label:"group1",layout:ae.getBindGroupLayout(1),entries:[{binding:0,resource:de},{binding:1,resource:we.createView()},{binding:2,resource:_e.createView()},{binding:3,resource:fe.createView()}]});return{yTexture:we,uTexture:_e,vTexture:fe,group:Se}}_drawScene(){var R=this.gpu.device,ae=this.gpu.context,ie=R.createCommandEncoder(),ae={colorAttachments:[{view:ae.getCurrentTexture().createView(),clearValue:{r:0,g:0,b:0,a:0},loadOp:"clear",storeOp:"store"}],depthStencilAttachment:{view:this.depthTexture.createView(),depthClearValue:1,depthLoadOp:"clear",depthStoreOp:"store"}},ae=ie.beginRenderPass(ae);ae.setPipeline(this.pipeline),ae.setBindGroup(0,this.matrixGroupInfo.group),ae.setBindGroup(1,this.textureGroupInfo.group),ae.setVertexBuffer(0,this.buffers.positionBuffer),ae.setVertexBuffer(1,this.buffers.texpositionBuffer),ae.setIndexBuffer(this.buffers.indexBuffer,"uint16"),ae.drawIndexed(6),ae.end(),R.queue.submit([ie.finish()])}renderYUV(R,ie,ae){var we,_e,fe;this.hasInited&&(we=ae.slice(0,R*ie),_e=ae.slice(R*ie,R*ie*5/4),ae=ae.slice(R*ie*5/4,R*ie*3/2),fe=this.gpu.device,this.depthTexture||(this.depthTexture=this.gpu.device.createTexture({size:[R,ie],format:"depth24plus",usage:window.GPUTextureUsage.RENDER_ATTACHMENT})),this.textureGroupInfo||(this.textureGroupInfo=this._initTextureGroupInfo(R,ie)),fe.queue.writeTexture({texture:this.textureGroupInfo.yTexture},we,{bytesPerRow:R,rowsPerImage:ie},[R,ie]),fe.queue.writeTexture({texture:this.textureGroupInfo.uTexture},_e,{bytesPerRow:R/2,rowsPerImage:ie/2},[R/2,ie/2]),fe.queue.writeTexture({texture:this.textureGroupInfo.vTexture},ae,{bytesPerRow:R/2,rowsPerImage:ie/2},[R/2,ie/2]),this._drawScene())}clear(){}}class W2 extends me{constructor(){super(),this.videoInfo={width:null,height:null,encType:null},this.init=!1}destroy(){this.resetInit(),this.off()}resetInit(){this.videoInfo={width:null,height:null,encType:null},this.init=!1}getHasInit(){return this.init}updateVideoInfo(R){Zi(R.encTypeCode)&&(this.videoInfo.encType=Ji[R.encTypeCode]),Zi(R.encType)&&(this.videoInfo.encType=R.encType),Zi(R.width)&&(this.videoInfo.width=R.width),Zi(R.height)&&(this.videoInfo.height=R.height),Zi(this.videoInfo.encType)&&Zi(this.videoInfo.height)&&Zi(this.videoInfo.width)&&!this.init&&(this.player.emit(d0.videoInfo,this.videoInfo),this.init=!0)}getVideoInfo(){return this.videoInfo}clearView(){}play(){}pause(){}getType(){return""}getCanvasType(){return""}isPlaying(){return!0}addContentToCanvas(){}getPlaybackQuality(){return null}}var js=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0;function Eo(Qe,R,ie){var ae=new XMLHttpRequest;ae.open("GET",Qe),ae.responseType="blob",ae.onload=function(){$s(ae.response,R,ie)},ae.onerror=function(){console.error("could not download file")},ae.send()}function j2(Qe){var R=new XMLHttpRequest;R.open("HEAD",Qe,!1);try{R.send()}catch{}return 200<=R.status&&R.status<=299}function qn(Qe){try{Qe.dispatchEvent(new MouseEvent("click"))}catch{var R=document.createEvent("MouseEvents");R.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Qe.dispatchEvent(R)}}var $2=js.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),$s=typeof window!="object"||window!==js?function(){}:"download"in HTMLAnchorElement.prototype&&!$2?function(Qe,R,ie){var ae=js.URL||js.webkitURL,we=document.createElementNS("http://www.w3.org/1999/xhtml","a");R=R||Qe.name||"download",we.download=R,we.rel="noopener",typeof Qe=="string"?(we.href=Qe,we.origin!==location.origin?j2(we.href)?Eo(Qe,R,ie):qn(we,we.target="_blank"):qn(we)):(we.href=ae.createObjectURL(Qe),setTimeout(function(){ae.revokeObjectURL(we.href)},4e4),setTimeout(function(){qn(we)},0))}:"msSaveOrOpenBlob"in navigator?function(Qe,R,ie){var ae;R=R||Qe.name||"download",typeof Qe=="string"?j2(Qe)?Eo(Qe,R,ie):((ae=document.createElement("a")).href=Qe,ae.target="_blank",setTimeout(function(){qn(ae)})):navigator.msSaveOrOpenBlob((Qe=Qe,(ie=ie)===void 0?ie={autoBom:!1}:typeof ie!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),ie={autoBom:!ie}),ie.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Qe.type)?new Blob(["\uFEFF",Qe],{type:Qe.type}):Qe),R)}:function(Qe,de,Se,ae){if((ae=ae||open("","_blank"))&&(ae.document.title=ae.document.body.innerText="downloading..."),typeof Qe=="string")return Eo(Qe,de,Se);var we,_e,fe,de=Qe.type==="application/octet-stream",Se=/constructor/i.test(js.HTMLElement)||js.safari,Pe=/CriOS\/[\d]+/.test(navigator.userAgent);(Pe||de&&Se||$2)&&typeof FileReader<"u"?((we=new FileReader).onloadend=function(){var xe=we.result,xe=Pe?xe:xe.replace(/^data:[^;]*;/,"data:attachment/file;");ae?ae.location.href=xe:location=xe,ae=null},we.readAsDataURL(Qe)):(_e=js.URL||js.webkitURL,fe=_e.createObjectURL(Qe),ae?ae.location=fe:location.href=fe,ae=null,setTimeout(function(){_e.revokeObjectURL(fe)},4e4))};class vi{constructor(R,ie){this.gl=R,ie&&this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),R=this._initShaderProgram(),this.shaderProgram=R,this.programInfo={program:R,attribLocations:{vertexPosition:this.gl.getAttribLocation(R,"aVertexPosition")},uniformLocations:{linewidth:this.gl.getUniformLocation(R,"uLineWidth"),rect:this.gl.getUniformLocation(R,"uRect"),linecolor:this.gl.getUniformLocation(R,"uLineColor"),resolution:this.gl.getUniformLocation(R,"uResolution")}},this.buffers=this._initBuffers()}destroy(){this.gl.deleteProgram(this.shaderProgram),this.gl.deleteBuffer(this.buffers.position),this.gl.deleteBuffer(this.buffers.indices),this.shaderProgram=null,this.buffers=null}_initShaderProgram(){var R=this.gl,ie=this._loadShader(R.VERTEX_SHADER,`
          attribute vec4 aVertexPosition;
            void main(void) {
              gl_Position = aVertexPosition;
            }
            `),ae=this._loadShader(R.FRAGMENT_SHADER,`
            precision highp float;
            uniform float uLineWidth;
            uniform vec4 uRect;
            uniform vec3 uLineColor;
            uniform vec2 uResolution;


            float inBox(vec2 st, vec4 rect){

                vec2 bl = step(rect.xy,st);
                float pct = bl.x * bl.y;

                vec2 tr = step(st, rect.zw);
                pct *= tr.x * tr.y;

                return pct;
            }

            void main(void) {

                vec2 cur = gl_FragCoord.xy/uResolution;

                float xlinewidth  = uLineWidth/uResolution.x;
                float ylinewidth  = uLineWidth/uResolution.y;

                // vec4 outRect = uRect + vec4(-1.*xlinewidth/2., -1.*ylinewidth/2., xlinewidth/2., ylinewidth/2.);
                // vec4 inRect  = uRect + vec4(xlinewidth/2., ylinewidth/2., -1.*xlinewidth/2., -1.*ylinewidth/2.);

                vec4 outRect = uRect + vec4(-1.*xlinewidth/2., -1.*ylinewidth/2., xlinewidth/2., ylinewidth/2.);
                vec4 inRect  = uRect;

                float a = inBox(cur, outRect);
                float b = inBox(cur, inRect);

                gl_FragColor = mix(vec4(0., 0., 0., 0.), vec4(uLineColor.rgb, 1.0), a-b);

            }
            `),we=R.createProgram();return R.attachShader(we,ie),R.attachShader(we,ae),R.linkProgram(we),R.getProgramParameter(we,R.LINK_STATUS)?we:(console.log("Unable to initialize the shader program: "+R.getProgramInfoLog(we)),null)}_loadShader(we,ie){var ae=this.gl,we=ae.createShader(we);return ae.shaderSource(we,ie),ae.compileShader(we),ae.getShaderParameter(we,ae.COMPILE_STATUS)?we:(console.log("An error occurred compiling the shaders: "+ae.getShaderInfoLog(we)),ae.deleteShader(we),null)}_createTexture(){var R=this.gl,ie=R.createTexture();return R.bindTexture(R.TEXTURE_2D,ie),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,R.LINEAR),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,R.LINEAR),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,R.CLAMP_TO_EDGE),ie}_initBuffers(){var R=this.gl,ie=R.createBuffer(),ae=(R.bindBuffer(R.ARRAY_BUFFER,ie),R.bufferData(R.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,1,1,-1,1]),R.STATIC_DRAW),R.createBuffer());return R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,ae),R.bufferData(R.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),R.STATIC_DRAW),{position:ie,indices:ae}}_drawScene(ie){var{canvasWidth:ie,canvasHeight:ae,rect:we,lineWidth:_e,lineColor:fe}=ie,de=this.gl,Se=this.buffers,Pe=this.programInfo;de.viewport(0,0,ie,ae),de.enable(de.BLEND),de.blendFunc(de.SRC_ALPHA,de.ONE_MINUS_SRC_ALPHA),de.bindBuffer(de.ARRAY_BUFFER,Se.position),de.vertexAttribPointer(Pe.attribLocations.vertexPosition,2,de.FLOAT,!1,0,0),de.enableVertexAttribArray(Pe.attribLocations.vertexPosition),de.bindBuffer(de.ELEMENT_ARRAY_BUFFER,Se.indices),de.useProgram(Pe.program),de.uniform2f(Pe.uniformLocations.resolution,ie,ae),de.uniform4f(Pe.uniformLocations.rect,we[0],we[1],we[2],we[3]),de.uniform1f(Pe.uniformLocations.linewidth,_e),de.uniform3f(Pe.uniformLocations.linecolor,fe[0],fe[1],fe[2]),de.drawElements(de.TRIANGLES,6,de.UNSIGNED_SHORT,0)}drawBox(ie){var{x:ie,y:ae,width:we,height:_e,lineWidth:fe,lineColor:xe,canvasWidth:de,canvasHeight:Se}=ie,Pe=(Pe=ie/de,_e=(Se-ae-_e)/Se,ie=(ie+we)/de,we=(Se-ae)/Se,(ae=new Ws(4))[0]=Pe,ae[1]=_e,ae[2]=ie,ae[3]=we,ae),xe=W1(1,0,0);this._drawScene({canvasWidth:de,canvasHeight:Se,rect:Pe,lineWidth:fe,lineColor:xe})}}class To extends W2{constructor(R){super(),this.player=R;var ie=document.createElement("canvas");ie.style.position="absolute",ie.style.top=0,ie.style.left=0,this.$videoElement=ie,R.$container.appendChild(this.$videoElement),this.context2D=null,this.contextGl=null,this.webglRender=null,this.webglRectRender=null,this.webGPURender=null,this.isWebglContextLost=!1,this.bitmaprenderer=null,this.renderType=null,this.controlHeight=0,this.proxyDestroyList=[],this.tempCanvasContentList=[],this._initCanvasRender()}destroy(){super.destroy(),0<this.proxyDestroyList.length&&(this.proxyDestroyList.forEach(R=>{R&&R()}),this.proxyDestroyList=[]),this.contextGl&&(this.contextGl=null),this.context2D&&(this.context2D=null),this.webglRender&&(this.webglRender.destroy(),this.webglRender=null),this.webglRectRender&&(this.webglRectRender.destroy(),this.webglRectRender=null),this.webGPURender&&(this.webGPURender.destroy(),this.webGPURender=null),this.bitmaprenderer&&(this.bitmaprenderer=null),this.renderType=null,this.isWebglContextLost=!1,this.videoInfo={width:"",height:"",encType:""},this.tempCanvasContentList=[],this.player.$container.removeChild(this.$videoElement),this.init=!1,this.off()}_initContextGl(){var R,ie=this.player.events.proxy;this.contextGl=Zr(this.$videoElement),this.contextGl?(R=ie(this.$videoElement,"webglcontextlost",ae=>{ae.preventDefault(),this.player.debug.error("canvasVideo","webglcontextlost error",ae),this.isWebglContextLost=!0,this.webglRender&&(this.player.debug.log("CommonCanvasLoader","webglcontextlost error and destroy webglRender"),this.webglRender.destroy(),this.webglRender=null),this.webglRectRender&&(this.player.debug.log("CommonCanvasLoader","webglcontextlost error and destroy webglRectRender"),this.webglRectRender.destroy(),this.webglRectRender=null),this.contextGl=null,setTimeout(()=>{this.player.debug.log("CommonCanvasLoader","createContextGL()"),this.contextGl=Zr(this.$videoElement),this.player.debug.log("CommonCanvasLoader","createContextGL success"),this.contextGl&&this.contextGl.getContextAttributes&&this.contextGl.getContextAttributes().stencil?(this.webglRender=new V2(this.contextGl,this.player._opt.openWebglAlignment),this.webglRectRender=new vi(this.contextGl,this.player._opt.openWebglAlignment),this.isWebglContextLost=!1,this.player.debug.log("CommonCanvasLoader","webglcontextlost error reset and getContextAttributes().stencil is true")):(this.player.debug.error("CommonCanvasLoader","webglcontextlost error, getContextAttributes().stencil is false"),this.player.emitError(L0.webglContextLostError))},500)}),ie=ie(this.$videoElement,"webglcontextrestored",ae=>{ae.preventDefault(),this.player.debug.log("CommonCanvasLoader","webglcontextrestored ",ae)}),this.webglRender=new V2(this.contextGl,this.player._opt.openWebglAlignment),this.webglRectRender=new vi(this.contextGl,this.player._opt.openWebglAlignment),this.proxyDestroyList.push(R,ie)):this.player.debug.error("CommonCanvasLoader","_initContextGl() createContextGL error")}_initContextGPU(){var R=this.$videoElement;new Promise((ie,ae)=>{navigator.gpu?navigator.gpu.requestAdapter().then(we=>{we?we.requestDevice().then(_e=>{if(_e){var fe=R.getContext("webgpu");if(fe){const de=navigator.gpu.getPreferredCanvasFormat();fe.configure({device:_e,format:de,alphaMode:"opaque"}),ie({adapter:we,device:_e,context:fe,format:de})}else ae('WebGPU "context" create fail')}else ae('WebGPU "device" request fail')}).catch(_e=>{ae('WebGPU "adapter.requestDevice()" fail')}):ae('WebGPU "adapter" request fail is empty')}).catch(we=>{ae('WebGPU "navigator.gpu.requestAdapter()" fail')}):ae("WebGPU not support!!")}).then(ie=>{this.webGPURender=new eu(ie),this.player.debug.log("CommonCanvasLoader","webGPURender init success")}).catch(ie=>{this.player.debug.error("CommonCanvasLoader",`createWebGPUContext error is ${ie} and next use webgl render`),this.renderType=Br,this._initContextGl()})}initCanvasViewSize(){this.$videoElement.width=this.videoInfo.width,this.$videoElement.height=this.videoInfo.height,this.resize()}screenshot(R,ie,de,we){R=R||_i(),we=we||Ri.download;let _e=.92;!Xr[ie]&&Ri[ie]&&(we=ie,ie="png",de=void 0),typeof de=="string"&&(we=de,de=void 0),de!==void 0&&(_e=Number(de));var fe=Xr[ie]||Xr.png,de=this.$videoElement.toDataURL(fe,_e);if(we===Ri.base64)return de;{const Se=un(de);if(we===Ri.blob)return Se;if(we===Ri.download){const Pe=fe.split("/")[1];$s(Se,R+"."+Pe)}}}screenshotWatermark(R){return new Promise((ie,ae)=>{(R=(R=L2(R)?{filename:R}:R)||{}).width=this.videoInfo.width,R.height=this.videoInfo.height,R.filename=R.filename||_i(),R.format=R.format?Xr[R.format]:Xr.png,R.quality=Number(R.quality)||.92,R.type=R.type||Ri.download;const we=this.$videoElement.toDataURL(R.format,R.quality);R2(we,R).then(_e=>{if(R.type===Ri.base64)ie(we);else{const fe=un(_e);if(R.type===Ri.blob)ie(fe);else if(R.type===Ri.download){ie();const de=R.format.split("/")[1];$s(fe,R.filename+"."+de)}}}).catch(_e=>{ae(_e)})})}render(){}clearView(){}play(){}pause(){}resize(){this.player.debug.log("canvasVideo","resize");var R=this.player._opt;let ie=this.player.width,ae=this.player.height;if(R.hasControl&&!R.controlAutoHide){const ye=this.controlHeight;es()&&this.player.fullscreen&&R.useWebFullScreen?ie-=ye:ae-=ye}let we=this.$videoElement.width,_e=this.$videoElement.height;var fe=R.rotate,de=(ie-we)/2,Se=(ae-_e)/2,Pe=(fe!==270&&fe!==90||(we=this.$videoElement.height,_e=this.$videoElement.width),ie/we),xe=ae/_e;let Oe=xe<Pe?xe:Pe,Fe=(R.isResize||Pe!=xe&&(Oe=Pe+","+xe),"scale("+(Oe=R.isFullResize?xe<Pe?Pe:xe:Oe)+")");R.mirrorRotate==="none"&&fe&&(Fe+=" rotate("+fe+"deg)"),R.mirrorRotate==="level"?Fe+=" rotateY(180deg)":R.mirrorRotate==="vertical"&&(Fe+=" rotateX(180deg)"),this.$videoElement.style.transform=Fe,this.$videoElement.style.left=de+"px",this.$videoElement.style.top=Se+"px"}initFps(){}setStreamFps(){}getStreamFps(){return 25}getType(){return W0}getCanvasType(){return this.renderType===gs?gs:Br}addContentToCanvas(){this.tempCanvasContentList=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[]}}class j1 extends To{constructor(R){super(R),this.yuvList=[],this.controlHeight=38,this.tempTextCanvas=null,this.tempTextCanvasCtx=null,this.player.debug.log("CanvasVideo","init")}destroy(){super.destroy(),this.yuvList=[],this.tempTextCanvas&&(this.tempTextCanvasCtx.clearRect(0,0,this.tempTextCanvas.width,this.tempTextCanvas.height),this.tempTextCanvas.width=0,this.tempTextCanvas.height=0,this.tempTextCanvas=null),this.player.debug.log("CanvasVideoLoader","destroy")}_initContext2D(){this.context2D=this.$videoElement.getContext("2d",0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})}_initCanvasRender(){this.player._opt.useWCS&&!this._supportOffscreen()?(this.renderType=Wt,this._initContext2D()):this.player._opt.useMSE&&this.player._opt.mseUseCanvasRender?(this.renderType=Hn,this._initContext2D()):this.player.isOldHls()&&this.player._opt.useCanvasRender?(this.renderType="hls",this._initContext2D()):this._supportOffscreen()?(this.renderType=ho,this._bindOffscreen()):this.player._opt.useWebGPU?(this.renderType=gs,this._initContextGPU()):(this.renderType=Br,this._initContextGl())}_supportOffscreen(){return typeof this.$videoElement.transferControlToOffscreen=="function"&&this.player._opt.useOffscreen}_bindOffscreen(){this.bitmaprenderer=this.$videoElement.getContext("bitmaprenderer")}render(R){this.yuvList.push(R),this.startRender()}startRender(){for(;!(this.yuvList.length<=0);){var R=this.yuvList.shift();this.doRender(R)}}doRender(R){var ie;switch(this.player.videoTimestamp=R.ts||0,this.renderType!==Hn&&(ie={ts:R.ts||0,fps:!0},this.player.updateStats(ie)),this.renderType){case ho:this.bitmaprenderer.transferFromImageBitmap(R.buffer);break;case Br:case gs:if(this.isWebglContextLost)this.player.debug.warn("CanvasVideoLoader","doRender() and webgl context is lost");else{let ae=R.output;if(this.player.faceDetectActive&&this.player.ai&&this.player.ai.faceDetector&&(ae=this.player.ai.faceDetector.detect({width:this.$videoElement.width,height:this.$videoElement.height,data:R.output})),this.player.objectDetectActive&&this.player.ai&&this.player.ai.objectDetector&&(ae=this.player.ai.objectDetector.detect({width:this.$videoElement.width,height:this.$videoElement.height,data:R.output})),this.renderType===gs)try{if(!this.webGPURender)return void this.player.debug.warn("CanvasVideoLoader","doRender webgpu render is not init");this.webGPURender.renderYUV(this.$videoElement.width,this.$videoElement.height,ae)}catch(we){this.player.debug.error("CanvasVideoLoader","doRender webgpu render and error: "+we.toString())}else if(this.renderType===Br)try{this.webglRender.renderYUV(this.$videoElement.width,this.$videoElement.height,ae),this.doAddContentToWebGlCanvas()}catch(we){this.player.debug.error("CanvasVideoLoader",`doRender webgl render context is lost ${this.contextGl&&this.contextGl.isContextLost()}  and error: `+we.toString())}}break;case Wt:if(us(R.videoFrame.createImageBitmap))try{R.videoFrame.createImageBitmap().then(ae=>{this.context2D.drawImage(ae,0,0,this.$videoElement.width,this.$videoElement.height),H1(R.videoFrame),this.doAddContentToCanvas()})}catch{}else this.context2D.drawImage(R.videoFrame,0,0,this.$videoElement.width,this.$videoElement.height),H1(R.videoFrame),this.doAddContentToCanvas();break;case Hn:case"hls":this.context2D.drawImage(R.$video,0,0,this.$videoElement.width,this.$videoElement.height),this.doAddContentToCanvas()}}clearView(){switch(this.renderType){case ho:R=this.$videoElement.width,ie=this.$videoElement.height,(ae=document.createElement("canvas")).width=R,ae.height=ie,R=window.createImageBitmap(ae,0,0,R,ie),ae.width=0,ae.height=0,R.then(we=>{this.bitmaprenderer.transferFromImageBitmap(we)});break;case Br:this.contextGl.clear(this.contextGl.COLOR_BUFFER_BIT);break;case gs:this.webGPURender.clear();break;case Wt:case Hn:case"hls":this.context2D.clearRect(0,0,this.$videoElement.width,this.$videoElement.height)}var R,ie,ae}_initTempTextCanvas(){this.tempTextCanvas=document.createElement("canvas"),this.tempTextCanvasCtx=this.tempTextCanvas.getContext("2d"),this.tempTextCanvas.width=600,this.tempTextCanvas.height=20}doAddContentToCanvas(){if(0<this.tempCanvasContentList.length&&this.context2D){let{ctx:R,list:ie}={ctx:this.context2D,list:this.tempCanvasContentList};R.save(),(ie||[]).forEach(ae=>{ae.type==="text"?(R.font=`${ae.fontSize||12}px Arial`,R.fillStyle=ae.color||"green",R.fillText(ae.text,ae.x,ae.y)):ae.type==="rect"&&(R.strokeStyle=ae.color||"green",R.lineWidth=ae.lineWidth||2,R.strokeRect(ae.x,ae.y,ae.width,ae.height))}),R.restore()}}doAddContentToWebGlCanvas(){0<this.tempCanvasContentList.length&&this.contextGl&&this.webglRectRender&&this.tempCanvasContentList.forEach(R=>{var ie=R.x,ae=R.y;if(R.type==="rect"){var we=R.width,_e=R.height,fe=(fe=R.color||"#008000",[parseInt(fe.substring(1,3),16)/255,parseInt(fe.substring(3,5),16)/255,parseInt(fe.substring(5,7),16)/255,1]),de=R.lineWidth||4;we&&_e&&this.webglRectRender.drawBox({x:ie,y:ae,width:we,height:_e,lineColor:fe,lineWidth:de,canvasWidth:this.$videoElement.width,canvasHeight:this.$videoElement.height})}else if(R.type==="text"){const Se=R.text||"";Se&&(we=R.fontSize||20,_e=R.color||"#008000",this.tempTextCanvas||this._initTempTextCanvas(),this.tempTextCanvasCtx.clearRect(0,0,this.tempTextCanvas.width,this.tempTextCanvas.height),this.tempTextCanvasCtx.font=we+"px Arial",this.tempTextCanvasCtx.fillStyle=_e,this.tempTextCanvasCtx.textBaseline="top",this.tempTextCanvasCtx.fillText(Se,0,0),this.webglRender.drawDom(this.$videoElement.width,this.$videoElement.height,ie,ae,this.tempTextCanvas))}})}}class xo{constructor(R){this.player=R,this.configList=[],this.shadowRoot=null,this.shadowRootRealDom=null,this.shadowRootInnerDom=null,this.scale=1,this._initDom(),this.player.debug.log("SingleWatermark","int")}destroy(){this.configList=[],this.shadowRootInnerDom=null,this.scale=1,this.shadowRoot&&(this.player.$container.removeChild(this.shadowRootRealDom),this.shadowRoot=null,this.shadowRootInnerDom=null),this.player.debug.log("SingleWatermark","destroy")}resize(){this._resizeDom()}_initDom(){var R=this.player.$container,ie=null,ae=document.createElement("div"),we=(ae.setAttribute("style","pointer-events: none !important;display: block !important;"),ie=typeof ae.attachShadow=="function"?ae.attachShadow({mode:"open"}):ae.shadowRoot||ae,document.createElement("div")),_e=(we.setAttribute("style","position: absolute; top: 0; left: 0; width: 0; height: 0;display: none;"),ie.appendChild(we),R.children),fe=Math.floor(Math.random()*(_e.length-1));_e[fe]?R.insertBefore(ae,_e[fe]):R.appendChild(ae),this.shadowRootInnerDom=we,this.shadowRootRealDom=ae,this.shadowRoot=ie}update(R){this._removeDom();let ie=[];Array.isArray(R)?ie=R:bo(R)&&ie.push(R),R=ie.map(ae=>Kn(ae)),this.configList=R,this._updateDom()}_resizeDom(){this.player.$container;const R=this.player.width,ie=this.player.height,ae=this.player.getVideoInfo();if(ae&&0<ae.height&&0<ae.width){let xe=ae.width,Oe=ae.height;var we=this.player._opt;let Fe=ie,ye=R;if(we.hasControl&&!we.controlAutoHide){const se=we.playType===We?48:38;es()&&this.player.fullscreen&&we.useWebFullScreen?ye-=se:Fe-=se}var _e=we.rotate,fe=(ye-xe)/2,de=(Fe-Oe)/2,Se=(_e!==270&&_e!==90||(xe=ae.height,Oe=ae.width),ye/xe),Pe=Fe/Oe;let Ne=Pe<Se?Pe:Se,ee=(we.isResize||Se!=Pe&&(Ne=Se+","+Pe),"scale("+(Ne=we.isFullResize?Pe<Se?Se:Pe:Ne)+")");we.mirrorRotate==="none"&&_e&&(ee+=" rotate("+_e+"deg)"),we.mirrorRotate==="level"?ee+=" rotateY(180deg)":we.mirrorRotate==="vertical"&&(ee+=" rotateX(180deg)"),this.scale=(""+Ne).indexOf(",")!==-1?Se:Ne,this.shadowRootInnerDom.style.transform=ee,this.shadowRootInnerDom.style.left=fe+"px",this.shadowRootInnerDom.style.top=de+"px",this.shadowRootInnerDom.style.width=ae.width+"px",this.shadowRootInnerDom.style.height=ae.height+"px",this.shadowRootInnerDom.style.display="block"}}_updateDom(){this.shadowRoot&&this.configList.forEach(R=>{var ie=document.createElement("div");let ae=null;R.image&&R.image.src?((ae=document.createElement("img")).style.height="100%",ae.style.width="100%",ae.style.objectFit="contain",ae.src=R.image.src):R.text&&R.text.content?ae=document.createTextNode(R.text.content):(R.rect&&R.rect.color&&R.rect.width||R.html)&&(ae=document.createElement("div")),ae&&(ie.appendChild(ae),ie.style.visibility="",ie.style.position="absolute",ie.style.display="block",ie.style["-ms-user-select"]="none",ie.style["-moz-user-select"]="none",ie.style["-webkit-user-select"]="none",ie.style["-o-user-select"]="none",ie.style["user-select"]="none",ie.style["-webkit-touch-callout"]="none",ie.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",ie.style["-webkit-text-size-adjust"]="none",ie.style["-webkit-touch-callout"]="none",ie.style.opacity=R.opacity,Xt(R.left)&&(ie.style.left=R.left+"px"),Xt(R.right)&&(ie.style.right=R.right+"px"),Xt(R.top)&&(ie.style.top=R.top+"px"),Xt(R.bottom)&&(ie.style.bottom=R.bottom+"px"),R.backgroundColor&&(ie.style.backgroundColor=R.backgroundColor),ie.style.overflow="hidden",ie.style.zIndex="9999999",R.image&&R.image.src?(ie.style.width=R.image.width+"px",ie.style.height=R.image.height+"px"):R.text&&R.text.content?(ie.style.fontSize=R.text.fontSize+"px",ie.style.color=R.text.color):R.rect&&R.rect.color&&R.rect.width?(ie.style.width=R.rect.width+"px",ie.style.height=R.rect.height+"px",ie.style.borderWidth=R.rect.lineWidth+"px",ie.style.borderStyle="solid",ie.style.borderColor=R.rect.color):R.html&&(ie.innerHTML=R.html,ie.style.width=R.width+"px",ie.style.height=R.height+"px"),this.shadowRootInnerDom.appendChild(ie))})}remove(){this._removeDom()}_removeDom(){this.shadowRootInnerDom&&(this.shadowRootInnerDom.innerHTML="")}}class Yn extends W2{constructor(R){super(),this.player=R;var ie=document.createElement("video"),fe=document.createElement("canvas"),fe=(ie.muted=!0,ie.style.position="absolute",ie.style.top=0,ie.style.left=0,this._delayPlay=!1,R.$container.appendChild(ie),this.$videoElement=ie,this.$canvasElement=fe,this.canvasContext=fe.getContext("2d"),this.mediaStream=null,this.vwriter=null,R.canVideoTrackWritter()&&Tn()&&$n()&&(this.trackGenerator=new MediaStreamTrackGenerator({kind:"video"}),this.mediaStream=new MediaStream([this.trackGenerator]),ie.srcObject=this.mediaStream,this.vwriter=this.trackGenerator.writable.getWriter()),this.fixChromeVideoFlashBug(),this.resize(),this.eventListenList=[],this.tempContentList=[],this.contentWatermark=null,this.player.events).proxy,ie=fe(this.$videoElement,"canplay",()=>{this.player.debug.log("Video","canplay"),this._delayPlay&&this._play()}),ae=fe(this.$videoElement,"waiting",()=>{this.player.debug.log("Video","waiting")}),we=fe(this.$videoElement,"loadedmetadata",()=>{this.player.debug.log("Video","loadedmetadata")}),_e=fe(this.$videoElement,"timeupdate",de=>{de=parseInt(de.timeStamp,10),(this.player._opt.isWebrtc||this.player.isOldHls())&&this.player.emit(d0.timeUpdate,de),R._opt.isWebrtc&&(R.handleRender(),R.updateStats({fps:!0}))}),fe=fe(this.$videoElement,"error",()=>{this.player.debug.error("Video","Error "+this.$videoElement.error.code+"; details: "+this.$videoElement.error.message)});this.eventListenList.push(ie,ae,_e,fe,we),this.player.debug.log("Video","init")}destroy(){var R;if(super.destroy(),this.eventListenList&&(this.eventListenList.forEach(ie=>{ie()}),this.eventListenList=[]),this.contentWatermark&&(this.contentWatermark.destroy(),this.contentWatermark=null),this.tempContentList=[],this.player._opt.videoRenderSupportScale&&this._isNeedAddBackDropFilter()&&((R=this.player.$container).style.backdropFilter="none",R.style.transform="none"),this.$canvasElement.height=0,this.$canvasElement.width=0,this.$canvasElement=null,this.canvasContext=null,this.$videoElement){this.$videoElement.pause(),this.$videoElement.currentTime=0,this.$videoElement.srcObject&&(this.$videoElement.srcObject=null,this.$videoElement.removeAttribute("srcObject")),this.$videoElement.src&&(this.$videoElement.src="",this.$videoElement.removeAttribute("src"));try{this.$videoElement.load()}catch{}this.player.$container.removeChild(this.$videoElement),this.$videoElement=null}this.trackGenerator&&(this.trackGenerator.stop(),this.trackGenerator=null),this.vwriter&&(this.vwriter.close(),this.vwriter=null),this._delayPlay=!1,this.mediaStream&&(this.mediaStream.getTracks().forEach(ie=>ie.stop()),this.mediaStream=null),this.off(),this.player.debug.log("Video","destroy")}fixChromeVideoFlashBug(){var R;this.player._opt.videoRenderSupportScale&&this._isNeedAddBackDropFilter()&&((R=this.player.$container).style.backdropFilter="blur(0px)",R.style.transform="translateZ(0)")}_isNeedAddBackDropFilter(){var R=vo().type.toLowerCase();return R==="chrome"||R==="edge"}isPause(){let R=!0;return R=this.$videoElement?this.$videoElement.paused:R}_getVideoReadyState(){let R=0;return R=this.$videoElement?this.$videoElement.readyState:R}_getVideoCurrentTime(){let R=0;return R=this.$videoElement?this.$videoElement.currentTime:R}play(){var R;this.$videoElement&&(R=this._getVideoReadyState(),this.player.debug.log("Video","play and readyState: "+R),R===0?(this.player.debug.warn("Video","readyState is 0 and set _delayPlay to true"),this._delayPlay=!0):this._play())}_play(){this.$videoElement&&this.$videoElement.play().then(()=>{this._delayPlay=!1,this.player.debug.log("Video","_play success"),setTimeout(()=>{this.isPlaying()||(this.player.debug.warn("Video","play failed and retry play"),this._play())},100)}).catch(R=>{this.player.debug.error("Video","_play error",R)})}pause(R){this.isPlaying()&&(R?this.$videoElement&&this.$videoElement.pause():setTimeout(()=>{this.$videoElement&&this.$videoElement.pause()},100))}clearView(){this.$videoElement&&(this.$videoElement.pause(),this.$videoElement.currentTime=0,this.$videoElement.src&&(this.$videoElement.src="",this.$videoElement.removeAttribute("src")),this.$videoElement.srcObject)&&(this.$videoElement.srcObject=null,this.$videoElement.removeAttribute("srcObject"))}screenshot(R,ie,Se,we){if(!this._canScreenshot())return this.player.debug.warn("Video","screenshot failed, video is not ready"),null;R=R||_i(),we=we||Ri.download;let _e=.92;!Xr[ie]&&Ri[ie]&&(we=ie,ie="png",Se=void 0),typeof Se=="string"&&(we=Se,Se=void 0),Se!==void 0&&(_e=Number(Se));var Se=this.$videoElement,fe=this.$canvasElement,de=(fe.width=Se.videoWidth,fe.height=Se.videoHeight,this.canvasContext.drawImage(Se,0,0,fe.width,fe.height),Xr[ie]||Xr.png),Se=fe.toDataURL(de,_e);if(this.canvasContext.clearRect(0,0,fe.width,fe.height),fe.width=0,fe.height=0,we===Ri.base64)return Se;{const Pe=un(Se);if(we===Ri.blob)return Pe;if(we===Ri.download){const xe=de.split("/")[1];$s(Pe,R+"."+xe)}}}screenshotWatermark(R){return new Promise((ie,ae)=>{if(L2(R)&&(R={filename:R}),!this._canScreenshot())return this.player.debug.warn("Video","screenshot failed, video is not ready"),ae("screenshot failed, video is not ready");var we=this.$videoElement,_e=((R=R||{}).width=we.videoWidth,R.height=we.videoHeight,R.filename=R.filename||_i(),R.format=R.format?Xr[R.format]:Xr.png,R.quality=Number(R.quality)||.92,R.type=R.type||Ri.download,this.$canvasElement);_e.width=we.videoWidth,_e.height=we.videoHeight,this.canvasContext.drawImage(we,0,0,_e.width,_e.height);const fe=_e.toDataURL(R.format,R.quality);this.canvasContext.clearRect(0,0,_e.width,_e.height),_e.width=0,_e.height=0,R2(fe,R).then(de=>{if(R.type===Ri.base64)ie(fe);else{var Se=un(de);if(R.type===Ri.blob)ie(Se);else if(R.type===Ri.download){ie();const Pe=R.format.split("/")[1];$s(Se,R.filename+"."+Pe)}}}).catch(de=>{ae(de)})})}initCanvasViewSize(){this.resize()}clear(){var R=this.$videoElement,ie=R.buffered,ie=ie.length?ie.end(ie.length-1):0;R.currentTime=ie}render(R){if(this.vwriter){if(this.$videoElement.srcObject||(this.$videoElement.srcObject=this.mediaStream),this.$videoElement.paused&&this.player.debug.warn("Video","render error, video is paused"),this.player.videoTimestamp=R.ts||0,this.player.updateStats({fps:!0,ts:R.ts||0}),R.videoFrame)this.vwriter.write(R.videoFrame),H1(R.videoFrame);else if(R.output){let _e=R.output;this.player.faceDetectActive&&this.player.ai&&this.player.ai.faceDetector&&(_e=this.player.ai.faceDetector.detect({width:this.videoInfo.width,height:this.videoInfo.height,data:R.output})),this.player.objectDetectActive&&this.player.ai&&this.player.ai.objectDetector&&(_e=this.player.ai.objectDetector.detect({width:this.videoInfo.width,height:this.videoInfo.height,data:R.output}));try{ae=_e,we={format:"I420",codedWidth:this.videoInfo.width,codedHeight:this.videoInfo.height,timestamp:R.ts};var ie=new VideoFrame(ae,we);this.vwriter.write(ie),H1(ie)}catch(fe){this.player.debug.error("Video","render error",fe),this.player.emitError(L0.wasmUseVideoRenderError,fe)}}this.doAddContentToWatermark()}else this.player.debug.warn("Video","render and this.vwriter is null");var ae,we}resize(){let R=this.player.width,ie=this.player.height;const ae=this.player._opt,we=ae.rotate;if(ae.hasControl&&!ae.controlAutoHide){const Pe=ae.playType===We?48:38;es()&&this.player.fullscreen&&ae.useWebFullScreen?R-=Pe:ie-=Pe}this.$videoElement.width=R,this.$videoElement.height=ie,we!==270&&we!==90||(this.$videoElement.width=ie,this.$videoElement.height=R);let _e=(R-this.$videoElement.width)/2,fe=(ie-this.$videoElement.height)/2,de="contain",Se=(ae.isResize||(de="fill"),ae.isFullResize&&(de="none"),"");ae.mirrorRotate==="none"&&we&&(Se+=" rotate("+we+"deg)"),ae.mirrorRotate==="level"?Se+=" rotateY(180deg)":ae.mirrorRotate==="vertical"&&(Se+=" rotateX(180deg)"),this.player._opt.videoRenderSupportScale&&(this.$videoElement.style.objectFit=de),this.$videoElement.style.transform=Se,this.$videoElement.style.left=_e+"px",this.$videoElement.style.top=fe+"px"}getType(){return pt}isPlaying(){return this.$videoElement&&xi(this.$videoElement.paused)&&xi(this.$videoElement.ended)&&this.$videoElement.playbackRate!==0&&this.$videoElement.readyState!==0}_canScreenshot(){return this.$videoElement&&2<=this.$videoElement.readyState}addContentToCanvas(){this.tempContentList=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[]}doAddContentToWatermark(){var R;0<this.tempContentList.length?(this.contentWatermark||(this.contentWatermark=new xo(this.player),this.contentWatermark.resize()),R=this.tempContentList.map(ie=>{var ae={left:ie.x,top:ie.y};return ie.type==="text"?ae.text={content:ie.text,fontSize:ie.fontSize,color:ie.color}:ie.type==="rect"&&(ae.rect={width:ie.width,height:ie.height,color:ie.color,lineWidth:ie.lineWidth}),ae}),this.contentWatermark.update(R)):this.contentWatermark&&this.contentWatermark.remove()}getPlaybackQuality(){let R=null;var ie;return this.$videoElement&&(R=us(this.$videoElement.getVideoPlaybackQuality)?{droppedVideoFrames:(ie=this.$videoElement.getVideoPlaybackQuality()).droppedVideoFrames||ie.corruptedVideoFrames,totalVideoFrames:ie.totalVideoFrames,creationTime:ie.creationTime}:{droppedVideoFrames:this.$videoElement.webkitDroppedFrameCount,totalVideoFrames:this.$videoElement.webkitDecodedFrameCount,creationTime:_i()})&&(R.renderedVideoFrames=R.totalVideoFrames-R.droppedVideoFrames),R}}class tu extends To{constructor(R){super(R),this.controlHeight=48,this.bufferList=[],this.playing=!1,this.playInterval=null,this.fps=1,this.preFps=1,this.streamFps=0,this.playbackRate=1,this._firstTimestamp=null,this._renderFps=0,this._startfpsTime=null,this._startFpsTimestamp=null,this._hasCalcFps=!1,this.player.on(d0.playbackPause,ie=>{ie?(this.pause(),this.player.playback.isPlaybackPauseClearCache&&this.clear()):this.resume()}),this.player.debug.log("CanvasPlaybackLoader","init")}destroy(){this._stopSync(),this._firstTimestamp=null,this.playing=!1,this.playbackRate=1,this.fps=1,this.preFps=1,this.bufferList=[],this._renderFps=0,this._startfpsTime=null,this._startFpsTimestamp=null,this._hasCalcFps=!1,super.destroy(),this.player.debug.log("CanvasPlaybackLoader","destroy")}_initCanvasRender(){this.player._opt.useWebGPU?(this.renderType=gs,this._initContextGPU()):(this.renderType=Br,this._initContextGl())}_sync(){this._stopSync(),this._doPlay(),this.playInterval=setInterval(()=>{this._doPlay()},this.fragDuration)}_doPlay(){var R;0<this.bufferList.length&&!this.player.seeking&&(R=this.bufferList.shift())&&R.buffer&&(this._doRender(R.buffer),this.player.handleRender(),this.player.playback.updateStats({ts:R.ts,tfTs:R.tfTs}))}_stopSync(){this.playInterval&&(clearInterval(this.playInterval),this.playInterval=null)}_doRender(R){if(this.getCanvasType()===Br)try{this.webglRender.renderYUV(this.$videoElement.width,this.$videoElement.height,R)}catch(ie){this.player.debug.error("CanvasPlaybackLoader",`doRender webgl render context is lost ${this.contextGl&&this.contextGl.isContextLost()}  and error: `+ie.toString())}else if(this.getCanvasType()===gs)try{this.webGPURender?this.webGPURender.renderYUV(this.$videoElement.width,this.$videoElement.height,R):this.player.debug.warn("CanvasVideoLoader","doRender webgpu render is not init")}catch(ie){this.player.debug.error("CanvasPlaybackLoader","doRender webgpu render and error: "+ie.toString())}}_updateStats(R){this.player.updateStats({fps:!0,ts:R}),this._startfpsTime||(this._startfpsTime=R,this._startFpsTimestamp=_i());var ie=R,ae=_i(),we=ae-this._startFpsTimestamp;we<=1e3?this._renderFps+=1:(this.player.emit(d0.playbackStats,{fps:this._renderFps,start:this._startfpsTime,end:ie,timestamp:we,dataTimestamp:ie-this._startfpsTime,audioBufferSize:this.player.audio?this.player.audio.bufferSize:0,videoBufferSize:this.player.video?this.player.video.bufferSize:0,ts:R}),this._renderFps=0,this._startfpsTime=ie,this._startFpsTimestamp=ae)}get rate(){return this.playbackRate}get fragDuration(){return Math.ceil(1e3/(this.fps*this.playbackRate))}get bufferSize(){return this.bufferList.length}getStreamFps(){return this.streamFps}initFps(){this._hasCalcFps?this.player.debug.log("CanvasPlaybackLoader","initFps, has calc fps"):(this.preFps=ls(this.player.playback.fps,1,100),this.fps=this.preFps)}setFps(R){R!==this.fps?(100<R&&this.player.debug.warn("CanvasPlaybackLoader","setFps max",R),R<0&&this.player.debug.warn("CanvasPlaybackLoader","setFps min",R),this.fps=ls(R,1,100),this.player.debug.log("CanvasPlaybackLoader",`setFps ${this.preFps} -> `+this.fps),this.player.playback.isUseFpsRender&&this._sync()):this.player.debug.log("CanvasPlaybackLoader","setFps, same fps "+R)}setStreamFps(R){this.player.debug.log("CanvasPlaybackLoader","setStreamFps",R),this._hasCalcFps=!0,this.streamFps=R,this.preFps=R,this.setFps(R)}setRate(R){R!==this.playbackRate&&(this.playbackRate=R,this.player.playback.isUseFpsRender)&&this._sync()}render$2(R){this._firstTimestamp===null&&(this._firstTimestamp=R.ts);var ie={tfTs:R.ts-this._firstTimestamp,ts:R.ts,buffer:R.output};this.bufferList.push(ie),this.startRender(),this.player.handleRender(),this.player.playback.updateStats({ts:R.ts,tfTs:ie.tfTs})}startRender(){for(;!(this.bufferList.length<=0);){var R=this.bufferList.shift();this._doRender(R.buffer)}}pushData(R){this._firstTimestamp===null&&(this._firstTimestamp=R.ts);const ie={tfTs:R.ts-this._firstTimestamp,ts:R.ts,buffer:R.output},ae=this.player._opt.playbackConfig.isCacheBeforeDecodeForFpsRender;if(ae||this.bufferSize>this.fps*this.playbackRate*2&&(this.player.debug.warn("CanvasPlaybackLoader","buffer size is "+this.bufferSize),this._doPlay()),this.bufferList.push(ie),!this._hasCalcFps){const we=F2(this.bufferList);we!==null&&we!==this.preFps&&(this.player.debug.log("CanvasPlaybackLoader",`calc fps is ${we} pre fps is ${this.preFps} and updatePreFps`),this.setStreamFps(we))}if(!ae){const we=this.bufferList.length,_e=we/(this.fps*this.playbackRate);this.player.debug.log("CanvasPlaybackLoader","rate is",_e),_e<=1?this.setFps(this.preFps):(this.setFps(this.fps+Math.floor(_e*this.playbackRate)),this.player.debug.warn("CanvasPlaybackLoader","rate is",_e,"fps is",this.fps,"bufferListLength is",we))}}initVideo(){this.player.playback&&this.player.playback.isUseFpsRender&&this._sync(),this.playing=!0}initVideoDelay(){var R=this.player._opt.playbackDelayTime;0<R?this.delayTimeout=setTimeout(()=>{this.initVideo()},R):this.initVideo()}clearView(){this.contextGl.clear(this.contextGl.COLOR_BUFFER_BIT)}clear(){this.bufferList=[]}resume(){this.player.playback.isUseFpsRender&&this._sync(),this.playing=!0}pause(){this.player.playback.isUseFpsRender&&this._stopSync(),this.playing=!1}}class dn{constructor(R){return new(dn.getLoaderFactory(R._opt))(R)}static getLoaderFactory(R){return R.useMSE?R.mseUseCanvasRender?j1:Yn:R.isHls&&xi(R.supportHls265)?R.useCanvasRender?j1:Yn:R.isWebrtc?Yn:R.useWCS?!R.useOffscreen&&R.wcsUseVideoRender?Yn:j1:R.playType===We?tu:R.wasmUseVideoRender&&!R.useOffscreen?Yn:j1}}class iu extends me{constructor(R){super(),this.bufferList=[],this.player=R,this.$audio=null,this.scriptNode=null,this.workletProcessorNode=null,this.hasInitScriptNode=!1,this.audioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:48e3}),this.gainNode=this.audioContext.createGain(),R=this.audioContext.createBufferSource(),R.buffer=this.audioContext.createBuffer(1,1,22050),R.connect(this.audioContext.destination),R.noteOn?R.noteOn(0):R.start(0),this.audioBufferSourceNode=R,this.mediaStreamAudioDestinationNode=this.audioContext.createMediaStreamDestination(),this.gainNode.gain.value=0,this.playing=!1,this.audioSyncVideoOption={diff:null},this.audioInfo={encType:"",channels:"",sampleRate:""},this.init=!1,this.hasAudio=!1,this.audioResumeStateTimeout=null,this.on(d0.videoSyncAudio,ie=>{this.audioSyncVideoOption=ie})}destroy(){this.closeAudio(),this.resetInit(),this.audioContext.close(),this.audioContext=null,this.gainNode=null,this.hasAudio=!1,this.playing=!1,this.scriptNode&&(this.scriptNode.onaudioprocess=B1,this.scriptNode=null),this.workletProcessorNode&&(this.workletProcessorNode.port.onmessage=B1,this.workletProcessorNode=null),this.audioResumeStateTimeout&&(clearTimeout(this.audioResumeStateTimeout),this.audioResumeStateTimeout=null),this.audioBufferSourceNode=null,this.mediaStreamAudioDestinationNode=null,this.hasInitScriptNode=!1,this.audioSyncVideoOption={diff:null},this.off()}resetInit(){this.audioInfo={encType:"",channels:"",sampleRate:""},this.init=!1}getAudioInfo(){return this.audioInfo}updateAudioInfo(R){R.encTypeCode&&(this.audioInfo.encType=vn[R.encTypeCode]),R.channels&&(this.audioInfo.channels=R.channels),R.sampleRate&&(this.audioInfo.sampleRate=R.sampleRate),this.audioInfo.sampleRate&&this.audioInfo.channels&&this.audioInfo.encType&&!this.init&&(this.player.emit(d0.audioInfo,this.audioInfo),this.init=!0)}get isPlaying(){return this.playing}get isMute(){return this.gainNode.gain.value===0}get volume(){return this.gainNode.gain.value}get bufferSize(){return this.bufferList.length}initScriptNode(){}initMobileScriptNode(){}initWorkletScriptNode(){}getEngineType(){return""}mute(R){R?(this.isMute||this.player.emit(d0.mute,R),this.setVolume(0),this.clear()):(this.isMute&&this.player.emit(d0.mute,R),this.setVolume(.5))}setVolume(R){R=parseFloat(R).toFixed(2),isNaN(R)||(this.audioEnabled(!0),R=ls(R,0,1),this.gainNode.gain.value=R,this.player.emit(d0.volumechange,this.player.volume))}closeAudio(){this.hasInitScriptNode&&(this.scriptNode&&this.scriptNode.disconnect(this.gainNode),this.workletProcessorNode&&this.workletProcessorNode.disconnect(this.gainNode),this.gainNode)&&(this.gainNode.disconnect(this.mediaStreamAudioDestinationNode),this.$audio||this.gainNode.disconnect(this.audioContext.destination)),this.clear()}audioEnabled(R){R?this.isStateSuspended()&&(this.audioContext.resume().then(()=>{this.player.emit(d0.audioResumeState,{state:this.audioContext.state,isRunning:this.isStateRunning()})}),this.audioResumeStateTimeout=setTimeout(()=>{clearTimeout(this.audioResumeStateTimeout),this.audioResumeStateTimeout=null,this.isStateSuspended()&&this.player.emit(d0.audioResumeState,{state:this.audioContext.state,isRunning:this.isStateRunning()})},1e3)):this.isStateRunning()&&this.audioContext.suspend()}isStateRunning(){return this.audioContext.state==="running"}isStateSuspended(){return this.audioContext.state==="suspended"}clear(){this.bufferList=[]}play(R,ie){}pause(){this.audioSyncVideoOption={diff:null},this.playing=!1}resume(){this.playing=!0}setRate(R){}getAudioBufferSize(){return 0}}class $1{constructor(R,ie,ae,we){this.player=R,this.audio=ie,this.channel=ae,this.bufferSize=we}extract(R,ie){var ae=this.provide(ie);for(let we=0;we<ae.size;we++)R[2*we]=ae.left[we],R[2*we+1]=ae.right[we];return this.audio.tempAudioTimestamp=ae.ts,ae.size}provide(R){let ie=new Float32Array(R),ae=new Float32Array(R),we=0,_e=0,fe=0,de=R/this.bufferSize;var Se=this.audio.bufferList;if(Se.length>de){try{for(let Pe=0;Pe<de;Pe++){const xe=Se.shift();this.channel===2?(ie.set(xe.buffer[0],fe),ae.set(xe.buffer[1],fe)):(ie.set(xe.buffer[0],fe),ae.set(xe.buffer[0],fe)),fe+=this.bufferSize,_e=xe.ts}}catch(Pe){this.player.debug.warn("Processor","provide()",Pe),ie=new Float32Array(0),ae=new Float32Array(0)}we=ie.length}return{size:we,ts:_e,left:ie,right:ae}}destroy(){this.buffer=null,this.channel=null}}class Jn{constructor(){this._vector=new Float32Array,this._position=0,this._frameCount=0}get vector(){return this._vector}get position(){return this._position}get startIndex(){return 2*this._position}get frameCount(){return this._frameCount}get endIndex(){return 2*(this._position+this._frameCount)}clear(){this.receive(this._frameCount),this.rewind()}put(R){this._frameCount+=R}putSamples(R,we){let ae=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;var we=2*(we=we||0),_e=2*(ae=0<=ae?ae:(R.length-we)/2),fe=(this.ensureCapacity(ae+this._frameCount),this.endIndex);this.vector.set(R.subarray(we,we+_e),fe),this._frameCount+=ae}putBuffer(R,ie){let ae=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;ie=ie||0,0<=ae||(ae=R.frameCount-ie),this.putSamples(R.vector,R.position+ie,ae)}receive(R){0<=R&&!(R>this._frameCount)||(R=this.frameCount),this._frameCount-=R,this._position+=R}receiveSamples(R){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,ae=this.startIndex;R.set(this._vector.subarray(ae,ae+2*ie)),this.receive(ie)}extract(R){var ie=this.startIndex+2*(1<arguments.length&&arguments[1]!==void 0?arguments[1]:0);R.set(this._vector.subarray(ie,ie+2*(2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)))}ensureCapacity(){var R=parseInt(2*(0<arguments.length&&arguments[0]!==void 0?arguments[0]:0));this._vector.length<R?((R=new Float32Array(R)).set(this._vector.subarray(this.startIndex,this.endIndex)),this._vector=R,this._position=0):this.rewind()}ensureAdditionalCapacity(){this.ensureCapacity(this._frameCount+(0<arguments.length&&arguments[0]!==void 0?arguments[0]:0))}rewind(){0<this._position&&(this._vector.set(this._vector.subarray(this.startIndex,this.endIndex)),this._position=0)}}class K2{constructor(R){R?(this._inputBuffer=new Jn,this._outputBuffer=new Jn):this._inputBuffer=this._outputBuffer=null}get inputBuffer(){return this._inputBuffer}set inputBuffer(R){this._inputBuffer=R}get outputBuffer(){return this._outputBuffer}set outputBuffer(R){this._outputBuffer=R}clear(){this._inputBuffer.clear(),this._outputBuffer.clear()}}class Co extends K2{constructor(R){super(R),this.reset(),this._rate=1}set rate(R){this._rate=R}reset(){this.slopeCount=0,this.prevSampleL=0,this.prevSampleR=0}clone(){var R=new Co;return R.rate=this._rate,R}process(){var R=this._inputBuffer.frameCount,R=(this._outputBuffer.ensureAdditionalCapacity(R/this._rate+1),this.transpose(R));this._inputBuffer.receive(),this._outputBuffer.put(R)}transpose(){var R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;if(R===0)return 0;var ie=this._inputBuffer.vector,ae=this._inputBuffer.startIndex,we=this._outputBuffer.vector,_e=this._outputBuffer.endIndex;let fe=0,de=0;for(;this.slopeCount<1;)we[_e+2*de]=(1-this.slopeCount)*this.prevSampleL+this.slopeCount*ie[ae],we[_e+2*de+1]=(1-this.slopeCount)*this.prevSampleR+this.slopeCount*ie[ae+1],de+=1,this.slopeCount+=this._rate;if(--this.slopeCount,R!==1)e:for(;;){for(;1<this.slopeCount;)if(--this.slopeCount,(fe+=1)>=R-1)break e;var Se=ae+2*fe;we[_e+2*de]=(1-this.slopeCount)*ie[Se]+this.slopeCount*ie[Se+2],we[_e+2*de+1]=(1-this.slopeCount)*ie[Se+1]+this.slopeCount*ie[Se+3],de+=1,this.slopeCount+=this._rate}return this.prevSampleL=ie[ae+2*R-2],this.prevSampleR=ie[ae+2*R-1],de}}function ru(){}class su extends class{constructor(R){this._pipe=R}get pipe(){return this._pipe}get inputBuffer(){return this._pipe.inputBuffer}get outputBuffer(){return this._pipe.outputBuffer}fillInputBuffer(){throw new Error("fillInputBuffer() not overridden")}fillOutputBuffer(){let R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;for(;this.outputBuffer.frameCount<R;){const ie=16384-this.inputBuffer.frameCount;if(this.fillInputBuffer(ie),this.inputBuffer.frameCount<16384)break;this._pipe.process()}}clear(){this._pipe.clear()}}{constructor(R,ie){var ae=2<arguments.length&&arguments[2]!==void 0?arguments[2]:ru;super(ie),this.callback=ae,this.sourceSound=R,this.historyBufferSize=22050,this._sourcePosition=0,this.outputBufferPosition=0,this._position=0}get position(){return this._position}set position(R){if(R>this._position)throw new RangeError("New position may not be greater than current position");var ie=this.outputBufferPosition-(this._position-R);if(ie<0)throw new RangeError("New position falls outside of history buffer");this.outputBufferPosition=ie,this._position=R}get sourcePosition(){return this._sourcePosition}set sourcePosition(R){this.clear(),this._sourcePosition=R}onEnd(){this.callback()}fillInputBuffer(){var ie=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,R=new Float32Array(2*ie),ie=this.sourceSound.extract(R,ie,this._sourcePosition);this._sourcePosition+=ie,this.inputBuffer.putSamples(R,0,ie)}extract(ae){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,ie=(this.fillOutputBuffer(this.outputBufferPosition+ie),Math.min(ie,this.outputBuffer.frameCount-this.outputBufferPosition)),ae=(this.outputBuffer.extract(ae,this.outputBufferPosition,ie),this.outputBufferPosition+ie);return this.outputBufferPosition=Math.min(this.historyBufferSize,ae),this.outputBuffer.receive(Math.max(ae-this.historyBufferSize,0)),this._position+=ie,ie}handleSampleData(R){this.extract(R.data,4096)}clear(){super.clear(),this.outputBufferPosition=0}}const q2=[[124,186,248,310,372,434,496,558,620,682,744,806,868,930,992,1054,1116,1178,1240,1302,1364,1426,1488,0],[-100,-75,-50,-25,25,50,75,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-20,-15,-10,-5,5,10,15,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-4,-3,-2,-1,1,2,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];class Do extends K2{constructor(R){super(R),this._quickSeek=!0,this.midBufferDirty=!1,this.midBuffer=null,this.overlapLength=0,this.autoSeqSetting=!0,this.autoSeekSetting=!0,this._tempo=1,this.setParameters(44100,0,0,8)}clear(){super.clear(),this.clearMidBuffer()}clearMidBuffer(){this.midBufferDirty&&(this.midBufferDirty=!1,this.midBuffer=null)}setParameters(R,ie,ae,we){0<R&&(this.sampleRate=R),0<we&&(this.overlapMs=we),0<ie?(this.sequenceMs=ie,this.autoSeqSetting=!1):this.autoSeqSetting=!0,0<ae?(this.seekWindowMs=ae,this.autoSeekSetting=!1):this.autoSeekSetting=!0,this.calculateSequenceParameters(),this.calculateOverlapLength(this.overlapMs),this.tempo=this._tempo}set tempo(R){this._tempo=R,this.calculateSequenceParameters(),this.nominalSkip=this._tempo*(this.seekWindowLength-this.overlapLength),this.skipFract=0,R=Math.floor(this.nominalSkip+.5),this.sampleReq=Math.max(R+this.overlapLength,this.seekWindowLength)+this.seekLength}get tempo(){return this._tempo}get inputChunkSize(){return this.sampleReq}get outputChunkSize(){return this.overlapLength+Math.max(0,this.seekWindowLength-2*this.overlapLength)}calculateOverlapLength(){var R=this.sampleRate*(0<arguments.length&&arguments[0]!==void 0?arguments[0]:0)/1e3;R=R<16?16:R,this.overlapLength=R-=R%8,this.refMidBuffer=new Float32Array(2*this.overlapLength),this.midBuffer=new Float32Array(2*this.overlapLength)}checkLimits(R,ie,ae){return R<ie?ie:ae<R?ae:R}calculateSequenceParameters(){var R;this.autoSeqSetting&&(R=150+-50*this._tempo,R=this.checkLimits(R,50,125),this.sequenceMs=Math.floor(R+.5)),this.autoSeekSetting&&(R=28.333333333333332+-10/1.5*this._tempo,R=this.checkLimits(R,15,25),this.seekWindowMs=Math.floor(R+.5)),this.seekWindowLength=Math.floor(this.sampleRate*this.sequenceMs/1e3),this.seekLength=Math.floor(this.sampleRate*this.seekWindowMs/1e3)}set quickSeek(R){this._quickSeek=R}clone(){var R=new Do;return R.tempo=this._tempo,R.setParameters(this.sampleRate,this.sequenceMs,this.seekWindowMs,this.overlapMs),R}seekBestOverlapPosition(){return this._quickSeek?this.seekBestOverlapPositionStereoQuick():this.seekBestOverlapPositionStereo()}seekBestOverlapPositionStereo(){let R,ie,ae,we=0;for(this.preCalculateCorrelationReferenceStereo(),R=0,ie=Number.MIN_VALUE;we<this.seekLength;we+=1)(ae=this.calculateCrossCorrelationStereo(2*we,this.refMidBuffer))>ie&&(ie=ae,R=we);return R}seekBestOverlapPositionStereoQuick(){let R,ie,ae,we,_e,fe=0;for(this.preCalculateCorrelationReferenceStereo(),ie=Number.MIN_VALUE,R=0,we=0,_e=0;fe<4;fe+=1){let de=0;for(;q2[fe][de]&&!((_e=we+q2[fe][de])>=this.seekLength);)(ae=this.calculateCrossCorrelationStereo(2*_e,this.refMidBuffer))>ie&&(ie=ae,R=_e),de+=1;we=R}return R}preCalculateCorrelationReferenceStereo(){let R,ie,ae=0;for(;ae<this.overlapLength;ae+=1)ie=ae*(this.overlapLength-ae),R=2*ae,this.refMidBuffer[R]=this.midBuffer[R]*ie,this.refMidBuffer[1+R]=this.midBuffer[1+R]*ie}calculateCrossCorrelationStereo(R,ie){var ae=this._inputBuffer.vector;R+=this._inputBuffer.startIndex;let we=0,_e=2;for(var fe,de=2*this.overlapLength;_e<de;_e+=2)fe=_e+R,we+=ae[fe]*ie[_e]+ae[fe+1]*ie[_e+1];return we}overlap(R){this.overlapStereo(2*R)}overlapStereo(R){var ie=this._inputBuffer.vector,ae=(R+=this._inputBuffer.startIndex,this._outputBuffer.vector),we=this._outputBuffer.endIndex;let _e,fe,de=0;for(var Se,Pe,xe,Oe=1/this.overlapLength;de<this.overlapLength;de+=1)fe=(this.overlapLength-de)*Oe,Se=de*Oe,ae[(xe=(_e=2*de)+we)+0]=ie[(Pe=_e+R)+0]*Se+this.midBuffer[0+_e]*fe,ae[xe+1]=ie[Pe+1]*Se+this.midBuffer[1+_e]*fe}process(){var R;if(this.midBuffer===null){if(this._inputBuffer.frameCount<this.overlapLength)return;this.midBuffer=new Float32Array(2*this.overlapLength),this._inputBuffer.receiveSamples(this.midBuffer,this.overlapLength)}for(;this._inputBuffer.frameCount>=this.sampleReq;){R=this.seekBestOverlapPosition(),this._outputBuffer.ensureAdditionalCapacity(this.overlapLength),this.overlap(Math.floor(R)),this._outputBuffer.put(this.overlapLength),0<(ie=this.seekWindowLength-2*this.overlapLength)&&this._outputBuffer.putBuffer(this._inputBuffer,R+this.overlapLength,ie);var ie=this._inputBuffer.startIndex+2*(R+this.seekWindowLength-this.overlapLength);this.midBuffer.set(this._inputBuffer.vector.subarray(ie,ie+2*this.overlapLength)),this.skipFract+=this.nominalSkip,R=Math.floor(this.skipFract),this.skipFract-=R,this._inputBuffer.receive(R)}}}function Y2(Qe,R){return 1e-10<(R<Qe?Qe-R:R-Qe)}class Ro{constructor(){this.transposer=new Co(!1),this.stretch=new Do(!1),this._inputBuffer=new Jn,this._intermediateBuffer=new Jn,this._outputBuffer=new Jn,this._rate=0,this._tempo=0,this.virtualPitch=1,this.virtualRate=1,this.virtualTempo=1,this.calculateEffectiveRateAndTempo()}clear(){this.transposer.clear(),this.stretch.clear()}clone(){var R=new Ro;return R.rate=this.rate,R.tempo=this.tempo,R}get rate(){return this._rate}set rate(R){this.virtualRate=R,this.calculateEffectiveRateAndTempo()}set rateChange(R){this._rate=1+.01*R}get tempo(){return this._tempo}set tempo(R){this.virtualTempo=R,this.calculateEffectiveRateAndTempo()}set tempoChange(R){this.tempo=1+.01*R}set pitch(R){this.virtualPitch=R,this.calculateEffectiveRateAndTempo()}set pitchOctaves(R){this.pitch=Math.exp(.69314718056*R),this.calculateEffectiveRateAndTempo()}set pitchSemitones(R){this.pitchOctaves=R/12}get inputBuffer(){return this._inputBuffer}get outputBuffer(){return this._outputBuffer}calculateEffectiveRateAndTempo(){var R=this._tempo,ie=this._rate;this._tempo=this.virtualTempo/this.virtualPitch,this._rate=this.virtualRate*this.virtualPitch,Y2(this._tempo,R)&&(this.stretch.tempo=this._tempo),Y2(this._rate,ie)&&(this.transposer.rate=this._rate),1<this._rate?this._outputBuffer!=this.transposer.outputBuffer&&(this.stretch.inputBuffer=this._inputBuffer,this.stretch.outputBuffer=this._intermediateBuffer,this.transposer.inputBuffer=this._intermediateBuffer,this.transposer.outputBuffer=this._outputBuffer):this._outputBuffer!=this.stretch.outputBuffer&&(this.transposer.inputBuffer=this._inputBuffer,this.transposer.outputBuffer=this._intermediateBuffer,this.stretch.inputBuffer=this._intermediateBuffer,this.stretch.outputBuffer=this._outputBuffer)}process(){(1<this._rate?(this.stretch.process(),this.transposer):(this.transposer.process(),this.stretch)).process()}}class Lo{constructor(R,ie,ae){this.player=R,this.audio=ie,this.soundTouch=new Ro,this.soundTouch.tempo=1,this.soundTouch.rate=1,this.filter=new su(ae,this.soundTouch)}setRate(R){R!==this.soundTouch.rate&&(this.soundTouch.tempo=R)}provide(R){var ie=new Float32Array(2*R),ae=this.filter.extract(ie,R),we=new Float32Array(ae),_e=new Float32Array(ae);for(let fe=0;fe<ae;fe++)we[fe]=ie[2*fe],_e[fe]=ie[2*fe+1];return{size:ae,left:we,right:_e,ts:this.audio.tempAudioTimestamp||0}}destroy(){this.soundTouch&&(this.soundTouch.clear(),this.soundTouch=null),this.filter&&(this.filter=null)}}class Vt extends iu{constructor(R){super(R),this.defaultPlaybackRate=1,this.playbackRate=1,this.rateProcessor=null,this.processor=null,this.scriptNodeInterval=null,this.engineType=this.getAutoAudioEngineType(),this.audioBufferSize=this.getAudioBufferSizeByType(),this.$audio=null,this._delayPlay=!1,this.eventListenList=[],this.player._opt.supportLockScreenPlayAudio&&hn()&&(this.$audio=document.createElement("audio"),Object.assign(this.$audio.style,{position:"absolute",left:"-100%",top:"-100%"}),(R.$container||document.body).appendChild(this.$audio),this._bindAudioProxy(),this.player.debug.log("AudioContext","create audio element")),this.scriptStartTime=0,this.player.debug.log("AudioContext","init",`engineType: ${this.engineType}, audioBufferSize: `+this.audioBufferSize)}destroy(){super.destroy(),this.eventListenList&&(this.eventListenList.forEach(R=>{R()}),this.eventListenList=[]),this.$audio&&(this.$audio.pause(),this.$audio.srcObject=null,this.$audio.parentNode&&this.$audio.parentNode.removeChild(this.$audio),this.$audio=null),this.processor&&(this.processor.destroy(),this.processor=null),this.rateProcessor&&(this.rateProcessor.destroy(),this.rateProcessor=null),this.scriptNodeInterval&&(clearInterval(this.scriptNodeInterval),this.scriptNodeInterval=null),this.defaultPlaybackRate=1,this.playbackRate=1,this.scriptStartTime=0,this.audioBufferSize=0,this.engineType=kn,this.player.debug.log("AudioContext","destroy")}isAudioPlaying(){return this.$audio&&xi(this.$audio.paused)&&xi(this.$audio.ended)&&this.$audio.playbackRate!==0&&this.$audio.readyState!==0}_bindAudioProxy(){var R=this.player.events.proxy,R=R(this.$audio,"canplay",()=>{this.player.debug.log("AudioContext","canplay"),this._delayPlay&&this._audioElementPlay()});this.eventListenList.push(R)}_getAudioElementReadyState(){let R=0;return R=this.$audio?this.$audio.readyState:R}audioElementPlay(){var R;this.$audio&&(R=this._getAudioElementReadyState(),this.player.debug.log("AudioContext","play and readyState: "+R),R!==0||I2()&&hn()?this._audioElementPlay():(this.player.debug.warn("AudioContext","readyState is 0 and set _delayPlay to true"),this._delayPlay=!0))}_audioElementPlay(){this.$audio&&this.$audio.play().then(()=>{this._delayPlay=!1,this.player.debug.log("AudioContext","_audioElementPlay success"),setTimeout(()=>{this.isAudioPlaying()||(this.player.debug.warn("AudioContext","play failed and retry play"),this._audioElementPlay())},100),this.isAudioPlaying()&&(this.player.debug.log("AudioContext","play success and remove document click event listener"),document.removeEventListener("click",this._audioElementPlay.bind(this)))}).catch(R=>{this.player.debug.error("AudioContext","_audioElementPlay error",R),document.addEventListener("click",this._audioElementPlay.bind(this))})}getAudioBufferSize(){return this.audioBufferSize}get oneBufferDuration(){return this.audioBufferSize/this.audioContext.sampleRate*1e3}get isActiveEngineType(){return this.engineType===on}initProcessor(){this.processor=new $1(this.player,this,this.audioInfo.channels,this.audioBufferSize),this.rateProcessor=new Lo(this.player,this,this.processor)}getAutoAudioEngineType(){let R=this.player._opt.audioEngine||kn;var ie=()=>{var ae;R=I2()&&(ae=window.navigator.userAgent.toLowerCase(),/android/i.test(ae))?on:(!hn()||!this.player._opt.supportLockScreenPlayAudio)&&U2()?jn:kn};return this.player._opt.audioEngine?this.player._opt.audioEngine===jn&&U2()?R=jn:this.player._opt.audioEngine===on?R=on:this.player._opt.audioEngine===kn?R=kn:ie():ie(),R}getAudioBufferSizeByType(){var R=this.engineType,ie=(this.player._opt.hasVideo,this.player._opt.weiXinInAndroidAudioBufferSize);return R!==jn&&R===on?ie||4800:1024}initScriptNode(){this.playing=!0,this.hasInitScriptNode||(this.initProcessor(),this.engineType===jn?this.initWorkletScriptNode():this.engineType===on?this.initIntervalScriptNode():this.engineType===kn&&this.initProcessScriptNode(),this.audioElementPlay())}getEngineType(){return this.engineType}isPlaybackRateSpeed(){return this.playbackRate>this.defaultPlaybackRate}initProcessScriptNode(){var R=this.audioContext.createScriptProcessor(this.audioBufferSize,0,this.audioInfo.channels);R.onaudioprocess=ie=>{ie=ie.outputBuffer,this.handleScriptNodeCallback(ie)},R.connect(this.gainNode),this.scriptNode=R,this.gainNode.connect(this.mediaStreamAudioDestinationNode),this.$audio?this.$audio.srcObject=this.mediaStreamAudioDestinationNode.stream:this.gainNode.connect(this.audioContext.destination),this.hasInitScriptNode=!0}initIntervalScriptNode(){this.scriptStartTime=0;var R=1e3*this.audioBufferSize/this.audioContext.sampleRate;this.scriptNodeInterval=setInterval(()=>{const ie=this.audioContext.createBufferSource(),ae=this.audioContext.createBuffer(this.audioInfo.channels,this.audioBufferSize,this.audioContext.sampleRate);this.handleScriptNodeCallback(ae,()=>{this.scriptStartTime<this.audioContext.currentTime&&(this.player.debug.log("AudioContext",`script start time ${this.scriptStartTime} is less than current time `+this.audioContext.currentTime),this.scriptStartTime=this.audioContext.currentTime),ie.buffer=ae,ie.connect(this.gainNode),ie.start(this.scriptStartTime),this.scriptStartTime+=ae.duration})},R),this.gainNode.connect(this.mediaStreamAudioDestinationNode),this.$audio?this.$audio.srcObject=this.mediaStreamAudioDestinationNode.stream:this.gainNode.connect(this.audioContext.destination),this.hasInitScriptNode=!0}initWorkletScriptNode(){this.audioContext&&this.audioContext.audioWorklet.addModule(M2(function(){class R extends AudioWorkletProcessor{constructor(){super(),this.audioBufferSize=1024,this.start=!1,this.channels=1,this.samplesArray=[],this.offset=0,this.state=0,this.port.onmessage=ae=>{ae.data.message==="init"?(this.audioBufferSize=ae.data.audioBufferSize,this.start=ae.data.start,this.channels=ae.data.channels,this.state=0,this.offset=0,this.samplesArray=[]):ae.data.message==="stop"?(this.state=0,this.start=!1,this.offset=0,this.samplesArray=[]):ae.data.message==="data"?this.samplesArray.push(ae.data.buffer):ae.data.message==="zero"&&this.samplesArray.push({left:new Float32Array(this.audioBufferSize).fill(0),right:new Float32Array(this.audioBufferSize).fill(0)})}}process(ae,we,_e){var fe=we[0][0],de=we[0][1];if(this.offset===0&&this.port.postMessage({message:"beep"}),this.state===0)this.state=1;else if(this.state===1&&4<=this.samplesArray.length)this.state=2;else if(this.state===2){const Se=this.samplesArray[0];for(let Pe=0;Pe<fe.length;Pe++)this.channels===1?fe[Pe]=Se.left[Pe+this.offset]:this.channels===2&&(fe[Pe]=Se.left[Pe+this.offset],de)&&(de[Pe]=Se.right[Pe+this.offset])}else this.channels===1?fe.fill(0):this.channels===2&&(fe.fill(0),de)&&de.fill(0);return this.offset+=128,this.offset===this.audioBufferSize&&(this.offset=0,this.state===2&&this.samplesArray.shift(),this.samplesArray.length===0)&&(this.state=0),this.start}}registerProcessor("worklet-processor",R)})).then(()=>{if(this.audioContext){let R=[1];this.audioInfo.channels===2&&(R=[1,1]),this.workletProcessorNode=new AudioWorkletNode(this.audioContext,"worklet-processor",{numberOfOutputs:this.audioInfo.channels,outputChannelCount:R}),this.workletProcessorNode.connect(this.gainNode),this.gainNode.connect(this.mediaStreamAudioDestinationNode),this.$audio?this.$audio.srcObject=this.mediaStreamAudioDestinationNode.stream:this.gainNode.connect(this.audioContext.destination),this.hasInitScriptNode=!0,this.workletProcessorNode.port.postMessage({message:"init",audioBufferSize:this.audioBufferSize,start:!0,channels:this.audioInfo.channels}),this.workletProcessorNode.port.onmessage=ie=>{this.workletProcessorNode?this.audioContext?this.handleScriptNodeCallback(this.workletProcessorNode,null,!0):this.workletProcessorNode.port.postMessage({message:"zero"}):this.player.debug.error("AudioContext","workletProcessorNode is null")}}else this.player.debug.error("AudioContext","initWorkletScriptNode audioContext is null")})}handleScriptNodeCallback(R,ie){let ae,we=2<arguments.length&&arguments[2]!==void 0&&arguments[2],_e=(ie=ie||B1,R.length);we&&(ae=R,_e=this.audioBufferSize);var fe,de=this.audioInfo.channels;this.bufferList.length&&this.playing?(fe=this.player._opt).syncAudioAndVideo&&fe.hasVideo&&(this.calcPlaybackRateBySync(),1e3<this.audioSyncVideoOption.diff)?(this.player.debug.warn("AudioContext",`audioSyncVideoOption more than diff :${this.audioSyncVideoOption.diff}, waiting`),we?ae.port.postMessage({message:"zero"}):this.fillScriptNodeOutputBuffer(R,de)):(fe=this._provide(_e)).size===0?we?ae.port.postMessage({message:"zero"}):this.fillScriptNodeOutputBuffer(R,de):(fe&&fe.ts&&(this.player.audioTimestamp=fe.ts),we?ae.port.postMessage({message:"data",buffer:fe}):this.fillScriptNodeOutputBuffer(R,de,fe)):we?ae.port.postMessage({message:"zero"}):this.fillScriptNodeOutputBuffer(R,de),ie()}fillScriptNodeOutputBuffer(R,ie,ae){if(ie===1){const we=R.getChannelData(0);!ae||ae.size===0?we.fill(0):we.set(ae.left)}else if(ie===2){const we=R.getChannelData(0),_e=R.getChannelData(1);!ae||ae.size===0?(we.fill(0),_e.fill(0)):(we.set(ae.left),_e.set(ae.right))}}play(R,ie){this.isMute||(this.hasInitScriptNode?(this.hasAudio=!0,this.bufferList.push({buffer:R,ts:ie}),this.player._opt.syncAudioAndVideo||this.calcPlaybackRateByBuffer()):this.player.debug.warn("AudioContext","play has not init script node"))}calcPlaybackRateBySync(){if(!this.isMute&&this.playing){let R=this.playbackRate;this.audioSyncVideoOption.diff<-1e3?(R=this.defaultPlaybackRate+.1,this.player.debug.warn("AudioContext",`audioSyncVideoOption -1000 less than diff :${this.audioSyncVideoOption.diff}, speed up, playbackRate is `+R)):-500<this.audioSyncVideoOption.diff&&(R=this.defaultPlaybackRate),this.updatePlaybackRate(R)}}calcPlaybackRateByBuffer(){if(!this.isMute&&this.playing&&this.getEngineType()!==on){let ae=this.playbackRate;var R=Math.floor(1e3/this.oneBufferDuration),ie=Math.floor(5e3/this.oneBufferDuration);this.bufferList.length>ie?(this.player.debug.warn("AudioContext",`bufferList length ${this.bufferList.length} more than ${ie}, and drop`),this.clear()):(this.bufferList.length>R?(ae=this.defaultPlaybackRate+.1,this.player.debug.warn("AudioContext",`bufferList length ${this.bufferList.length} more than ${R}, speed up, playbackRate is `+ae)):this.bufferList.length<R/2&&(ae=this.defaultPlaybackRate),this.updatePlaybackRate(ae))}}updatePlaybackRate(R){this.rateProcessor&&(this.playbackRate=R,this.rateProcessor.setRate(this.playbackRate))}_provide(R){return(this.playbackRate===1?this.processor:this.rateProcessor).provide(R)}}class Ar extends me{constructor(R){super(),this.player=R,this.$video=R.video.$videoElement,this.init=!1,this.player._opt.hlsUseCanvasRender&&(this.$video=this.player.hlsDecoder.$videoElement),this.audioInfo={encType:"",channels:"",sampleRate:""},this.player.debug.log("Audio","init")}destroy(){this.resetInit(),this.off(),this.player.debug.log("Audio","destroy")}resetInit(){this.init=!1,this.audioInfo={encType:"",channels:"",sampleRate:""}}getAudioInfo(){return this.audioInfo}updateAudioInfo(R){Zi(R.encTypeCode)&&(this.audioInfo.encType=vn[R.encTypeCode]),Zi(R.encType)&&(this.audioInfo.encType=R.encType),Zi(R.channels)&&(this.audioInfo.channels=R.channels),Zi(R.sampleRate)&&(this.audioInfo.sampleRate=R.sampleRate),Zi(this.audioInfo.sampleRate)&&Zi(this.audioInfo.channels)&&Zi(this.audioInfo.encType)&&!this.init&&(this.player.emit(d0.audioInfo,this.audioInfo),this.init=!0)}get isPlaying(){return!0}get volume(){return br(this.$video.muted)?0:this.$video.volume}get isMute(){return this.$video.volume===0||br(this.$video.muted)}mute(R){this.setVolume(R?0:this.player.lastVolume||.5)}setVolume(R){R=parseFloat(R),isNaN(R)||(R=ls(R,0,1),this.$video.muted&&(this.$video.muted=!1),this.$video.volume=R,this.player.emit(d0.volumechange,this.player.volume))}clear(){}play(){}pause(){}resume(){}getEngineType(){return"audio"}isPlaybackRateSpeed(){return!1}getAudioBufferSize(){return 0}}class J2 extends Vt{constructor(R){super(R),this.delayTimeout=null,this.player.on(d0.playbackPause,ie=>{this.listenPlaybackPause(ie)}),this.player.debug.log("AudioPlaybackContext","init")}destroy(){this.delayTimeout&&(clearTimeout(this.delayTimeout),this.delayTimeout=null),super.destroy(),this.player.debug.log("AudioPlaybackLoader","destroy")}listenPlaybackPause(R){R?(this.pause(),this.player.playback.isPlaybackPauseClearCache&&this.clear()):this.resume()}initScriptNodeDelay(){var R=this.player._opt.playbackDelayTime;0<R?this.delayTimeout=setTimeout(()=>{this.initScriptNode()},R):this.initScriptNode()}setRate(R){R!==this.defaultPlaybackRate&&this.rateProcessor&&(this.player.debug.log("AudioPlaybackContext","setRate",R),this.defaultPlaybackRate=R,this.updatePlaybackRate(R))}}class Ks extends Vt{constructor(R){super(R),this.TAG_NAME="AudioPlayerLoader",this.player.debug.log(this.TAG_NAME,"init")}destroy(){super.destroy(),this.player.debug.log(this.TAG_NAME,"destroy")}play(R,ie){xi(this.playing)||super.play(R,ie)}pause(){this.player.debug.log(this.TAG_NAME,"pause"),this.playing=!1,this.clear()}resume(){this.player.debug.log(this.TAG_NAME,"resume"),this.playing=!0}}class Qn{constructor(R){return new(Qn.getLoaderFactory(R._opt))(R)}static getLoaderFactory(R){return R.playType===We?J2:R.playType===r?Ks:R.isHls&&xi(R.supportHls265)||R.isWebrtc?Ar:Vt}}class R0 extends me{constructor(R){super(),this.player=R,this.playing=!1,this.abortController=new AbortController,this.streamRate=Ao(ie=>{R.emit(d0.kBps,(ie/1024).toFixed(2))}),this.streamRateInterval=null,R.debug.log("FetchStream","init")}destroy(){this.abort(),this.off(),this.streamRate=null,this.stopStreamRateInterval(),this.player.debug.log("FetchStream","destroy")}startStreamRateInterval(){this.stopStreamRateInterval(),this.streamRateInterval=setInterval(()=>{this.streamRate&&this.streamRate(0)},1e3)}stopStreamRateInterval(){this.streamRateInterval&&(clearInterval(this.streamRateInterval),this.streamRateInterval=null)}fetchStream(R){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};const ae=this.player.demux;this.player._times.streamStart=_i(),ie=Object.assign({signal:this.abortController.signal},{headers:ie.headers||{}}),fetch(R,ie).then(we=>{if(we.ok&&200<=we.status&&we.status<=299)if(this.emit(d0.streamSuccess),this.startStreamRateInterval(),typeof WritableStream<"u")we.body.pipeTo(new WritableStream({write:_e=>(this.streamRate&&this.streamRate(_e.byteLength),ae.dispatch(_e)),close:()=>{ae.close()},abort:_e=>{ae.close();var fe=_e.toString();fe.indexOf(mo)===-1&&fe.indexOf(x1)===-1&&_e.name!==C1&&(this.abort(),this.emit(L0.fetchError,_e))}}));else{this.player.debug.log("FetchStream","not support WritableStream and use getReader() to read stream");const _e=we.body.getReader(),fe=()=>{_e.read().then(Se=>{var{done:Se,value:Pe}=Se;Se?ae.close():(this.streamRate&&this.streamRate(Pe.byteLength),ae.dispatch(Pe),fe())}).catch(de=>{ae.close();var Se=de.toString();Se.indexOf(mo)===-1&&Se.indexOf(x1)===-1&&de.name!==C1&&(this.abort(),this.emit(L0.fetchError,de))})};fe()}else this.player.debug.error("FetchStream",`fetch response status is ${we.status} and ok is ${we.ok} and emit error and next abort()`),this.abort(),this.emit(L0.fetchError,`fetch response status is ${we.status} and ok is `+we.ok)}).catch(we=>{we.name!=="AbortError"&&(ae.close(),this.abort(),this.emit(L0.fetchError,we))})}abort(){this.abortController&&(this.abortController.abort(),this.abortController=null)}getStreamType(){return Ce}}class Ii extends me{constructor(R){super(),this.player=R,this.socket=null,this.socketStatus=Ct,this.wsUrl=null,this.socketDestroyFnList=[],this.streamRate=Ao(ie=>{R.emit(d0.kBps,(ie/1024).toFixed(2))}),this.streamRateInterval=null,R.debug.log("WebsocketStream","init")}destroy(){this._closeWebSocket(),this.stopStreamRateInterval(),this.wsUrl=null,this.off(),this.player.debug.log("WebsocketStream","destroy")}startStreamRateInterval(){this.stopStreamRateInterval(),this.streamRateInterval=setInterval(()=>{this.streamRate&&this.streamRate(0)},1e3)}stopStreamRateInterval(){this.streamRateInterval&&(clearInterval(this.streamRateInterval),this.streamRateInterval=null)}_createWebSocket(){const R=this.player,{debug:ie,events:{proxy:ae},demux:we}=R;this.socket=new WebSocket(this.wsUrl),this.socket.binaryType="arraybuffer";var _e=ae(this.socket,"open",()=>{ie.log("WebsocketStream","socket open"),this.socketStatus=ci,this.emit(d0.streamSuccess),this.player.emit(d0.websocketOpen),this.startStreamRateInterval()}),fe=ae(this.socket,"message",Pe=>{this.streamRate&&this.streamRate(Pe.data.byteLength),this._handleMessage(Pe.data)}),de=ae(this.socket,"close",Pe=>{ie.log("WebsocketStream","socket close and code is "+Pe.code),Pe.code===1006&&ie.error("WebsocketStream","socket close abnormally and code is "+Pe.code),we.close(),this.socketStatus="close",this.player.emit(d0.websocketClose),this.emit(d0.streamEnd)}),Se=ae(this.socket,"error",Pe=>{ie.error("WebsocketStream","socket error",Pe),this.socketStatus="error",this.emit(L0.websocketError,Pe),we.close(),ie.log("WebsocketStream","socket error:",Pe.isTrusted?"websocket user aborted":"websocket error")});this.socketDestroyFnList.push(_e,fe,de,Se)}_closeWebSocket(){this.socketDestroyFnList.forEach(R=>R()),this.socket&&(this.socket.close(1e3,"Client disconnecting"),this.socket=null),this.socketStatus=Ct,this.streamRate=null}_handleMessage(R){var ie=this.player.demux;ie?ie.dispatch(R):this.player.debug.warn("WebsocketStream","websocket handle message demux is null")}fetchStream(R,ie){this.player._times.streamStart=_i(),this.wsUrl=R,this._createWebSocket()}sendMessage(R){this.socket?this.socketStatus===ci?this.socket.send(R):this.player.debug.error("WebsocketStream","websocket send message error and  socket status is "+this.socketStatus):this.player.debug.error("WebsocketStream","websocket send message socket is null")}resetFetchStream(){this._closeWebSocket(),this._createWebSocket()}getStreamType(){return Je}}class oi extends me{constructor(R){super(),(this.player=R).debug.log("HlsStream","init")}destroy(){this.off(),this.player.debug.log("HlsStream","destroy")}fetchStream(R){var ie=this.player.hlsDecoder;this.player._times.streamStart=_i(),ie.loadSource(R).then(()=>{this.player.debug.log("HlsStream","loadSource success"),this.emit(d0.streamSuccess)}).catch(ae=>{this.emit(L0.hlsError,ae)})}getStreamType(){return"hls"}}class nu extends me{constructor(R){super(),this.player=R,this.webrctUrl=null,R.debug.log("WebrtcStream","init")}destroy(){this.webrctUrl=null,this.off(),this.player.debug.log("WebrtcStream","destroy")}fetchStream(R){var ie=this.player.webrtc;this.player._times.streamStart=_i(),this.webrctUrl=R.replace("webrtc:",window.location.protocol),ie.loadSource(this.webrctUrl).then(()=>{this.player.debug.log("WebrtcStream","loadSource success"),this.emit(d0.streamSuccess)}).catch(ae=>{this.emit(L0.webrtcError,ae)})}getStreamType(){return"webrtc"}}class au extends me{constructor(R){super(),this.player=R,this.transport=null,this.wtUrl=null,this.streamRate=Ao(ie=>{R.emit(d0.kBps,(ie/1024).toFixed(2))}),this.streamRateInterval=null,R.debug.log("WebTransportLoader","init")}destroy(){this.abort(),this.off(),this.player.debug.log("WebTransportLoader","destroy")}startStreamRateInterval(){this.stopStreamRateInterval(),this.streamRateInterval=setInterval(()=>{this.streamRate&&this.streamRate(0)},1e3)}stopStreamRateInterval(){this.streamRateInterval&&(clearInterval(this.streamRateInterval),this.streamRateInterval=null)}_createWebTransport(){const R=this.player,{demux:ie}=R;try{this.transport=new WebTransport(this.wtUrl),this.transport.ready.then(()=>{this.emit(d0.streamSuccess),this.startStreamRateInterval(),this.transport.createBidirectionalStream().then(ae=>{ae.readable.pipeTo(new WritableStream(ie.input))})}).catch(ae=>{this.player.debug.warn("WebTransportLoader","_createWebTransport-ready",ae)})}catch(ae){this.player.debug.warn("WebTransportLoader","_createWebTransport",ae)}}fetchStream(R){this.player._times.streamStart=_i(),this.wtUrl=R.replace(/^wt/,"https"),this._createWebTransport()}abort(){if(this.transport)try{this.transport.close(),this.transport=null}catch{this.transport=null}}getStreamType(){return"webTransport"}}class Q2 extends me{constructor(R){super(),this.player=R,this.workUrl=null,R.debug.log("WorkerStream","init")}destroy(){this.workUrl=null,this.off(),this.player.debug.log("WorkerStream","destroy")}sendMessage(R){this.player.decoderWorker.workerSendMessage(R)}fetchStream(R){this.workUrl=R,this.player._times.streamStart=_i(),this.player.decoderWorker.workerFetchStream(R)}getStreamType(){var R=this.player._opt.protocol;return j+" "+(R===2?Ce:Je)}}class Io{constructor(R){return new(Io.getLoaderFactory(R._opt))(R)}static getLoaderFactory(R){var{protocol:ie,useWasm:ae,playType:we}=R;return ie===2?we===r||we!==be||ae&&!G1(R)?Q2:R0:ie===1?we===r||we!==be||ae&&!G1(R)?Q2:Ii:ie===3?oi:ie===4?nu:ie===5?au:void 0}}var ou=P1(function(Se){function R(n0,Me){if(!n0)throw"First parameter is required.";Me=new ie(n0,Me=Me||{type:"video"});var Xe=this;function c0(j0){j0&&(Me.initCallback=function(){j0(),j0=Me.initCallback=null});var ft=new ae(n0,Me);(U0=new ft(n0,Me)).record(),K0("recording"),Me.disableLogs||console.log("Initialized recorderType:",U0.constructor.name,"for output-type:",Me.type)}function h0(j0){function ft(Rt){if(U0){Object.keys(U0).forEach(function(mi){typeof U0[mi]!="function"&&(Xe[mi]=U0[mi])});var Et,Nt=U0.blob;if(!Nt){if(!Rt)throw"Recording failed.";U0.blob=Nt=Rt}if(Nt&&!Me.disableLogs&&console.log(Nt.type,"->",se(Nt.size)),j0){try{Et=Pe.createObjectURL(Nt)}catch{}typeof j0.call=="function"?j0.call(Xe,Et):j0(Et)}Me.autoWriteToDisk&&C0(function(mi){var li={};li[Me.type+"Blob"]=mi,Re.Store(li)})}else typeof j0.call=="function"?j0.call(Xe,""):j0("")}j0=j0||function(){},U0?Xe.state==="paused"?(Xe.resumeRecording(),setTimeout(function(){h0(j0)},1)):(Xe.state==="recording"||Me.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',Xe.state),Me.disableLogs||console.log("Stopped recording "+Me.type+" stream."),Me.type!=="gif"?U0.stop(ft):(U0.stop(),ft()),K0("stopped")):ht()}function w0(j0){postMessage(new FileReaderSync().readAsDataURL(j0))}function C0(j0,ft){if(!j0)throw"Pass a callback function over getDataURL.";var Rt,Et=(ft||U0||{}).blob;Et?typeof Worker>"u"||navigator.mozGetUserMedia?((Rt=new FileReader).readAsDataURL(Et),Rt.onload=function(Nt){j0(Nt.target.result)}):((Rt=(function(Nt){try{var mi=Pe.createObjectURL(new Blob([Nt.toString(),"this.onmessage =  function (eee) {"+Nt.name+"(eee.data);}"],{type:"application/javascript"})),li=new Worker(mi);return Pe.revokeObjectURL(mi),li}catch{}})(w0)).onmessage=function(Nt){j0(Nt.data)},Rt.postMessage(Et)):(Me.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){C0(j0,ft)},1e3))}function q0(j0){j0=j0||0,Xe.state!=="paused"?Xe.state!=="stopped"&&(j0>=Xe.recordingDuration?h0(Xe.onRecordingStopped):(j0+=1e3,setTimeout(function(){q0(j0)},1e3))):setTimeout(function(){q0(j0)},1e3)}function K0(j0){Xe&&(Xe.state=j0,typeof Xe.onStateChanged.call=="function"?Xe.onStateChanged.call(Xe,j0):Xe.onStateChanged(j0))}var U0,st='It seems that recorder is destroyed or "startRecording" is not invoked for '+Me.type+" recorder.";function ht(){Me.disableLogs!==!0&&console.warn(st)}var Dt={startRecording:function(j0){return Me.disableLogs||console.log("RecordRTC version: ",Xe.version),(Me=j0?new ie(n0,j0):Me).disableLogs||console.log("started recording "+Me.type+" stream."),U0?(U0.clearRecordedData(),U0.record(),K0("recording"),Xe.recordingDuration&&q0()):c0(function(){Xe.recordingDuration&&q0()}),Xe},stopRecording:h0,pauseRecording:function(){U0?Xe.state==="recording"?(K0("paused"),U0.pause(),Me.disableLogs||console.log("Paused recording.")):Me.disableLogs||console.warn("Unable to pause the recording. Recording state: ",Xe.state):ht()},resumeRecording:function(){U0?Xe.state==="paused"?(K0("recording"),U0.resume(),Me.disableLogs||console.log("Resumed recording.")):Me.disableLogs||console.warn("Unable to resume the recording. Recording state: ",Xe.state):ht()},initRecorder:c0,setRecordingDuration:function(j0,ft){if(j0===void 0)throw"recordingDuration is required.";if(typeof j0!="number")throw"recordingDuration must be a number.";return Xe.recordingDuration=j0,Xe.onRecordingStopped=ft||function(){},{onRecordingStopped:function(Rt){Xe.onRecordingStopped=Rt}}},clearRecordedData:function(){U0?(U0.clearRecordedData(),Me.disableLogs||console.log("Cleared old recorded data.")):ht()},getBlob:function(){if(U0)return U0.blob;ht()},getDataURL:C0,toURL:function(){if(U0)return Pe.createObjectURL(U0.blob);ht()},getInternalRecorder:function(){return U0},save:function(j0){U0?he(U0.blob,j0):ht()},getFromDisk:function(j0){U0?R.getFromDisk(Me.type,j0):ht()},setAdvertisementArray:function(j0){Me.advertisement=[];for(var ft=j0.length,Rt=0;Rt<ft;Rt++)Me.advertisement.push({duration:Rt,image:j0[Rt]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){Xe.state!=="recording"||Me.disableLogs||console.warn("Stop an active recorder."),U0&&typeof U0.clearRecordedData=="function"&&U0.clearRecordedData(),U0=null,K0("inactive"),Xe.blob=null},onStateChanged:function(j0){Me.disableLogs||console.log("Recorder state changed:",j0)},state:"inactive",getState:function(){return Xe.state},destroy:function(){var j0=Me.disableLogs;Me={disableLogs:!0},Xe.reset(),K0("destroyed"),Dt=Xe=null,Ee.AudioContextConstructor&&(Ee.AudioContextConstructor.close(),Ee.AudioContextConstructor=null),Me.disableLogs=j0,Me.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(this){for(var gt in Dt)this[gt]=Dt[gt];Xe=this}else Xe=Dt;return Dt}function ie(n0,Me){return Me.recorderType||Me.type||(Me.audio&&Me.video?Me.type="video":Me.audio&&!Me.video&&(Me.type="audio")),Me.recorderType&&!Me.type&&(Me.recorderType===De||Me.recorderType===Ie||Me.recorderType===a0?Me.type="video":Me.recorderType===Ze?Me.type="gif":Me.recorderType===$e?Me.type="audio":Me.recorderType===Le&&(Ae(n0,"audio").length&&Ae(n0,"video").length||!Ae(n0,"audio").length&&Ae(n0,"video").length?Me.type="video":Ae(n0,"audio").length&&!Ae(n0,"video").length&&(Me.type="audio"))),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(Me.mimeType||(Me.mimeType="video/webm"),Me.type||(Me.type=Me.mimeType.split("/")[0]),Me.bitsPerSecond),Me.type||(Me.mimeType&&(Me.type=Me.mimeType.split("/")[0]),Me.type)||(Me.type="audio"),Me}function ae(n0,Me){var Xe;return(ye||xe||Oe)&&(Xe=$e),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!ye&&(Xe=Le),Me.type==="video"&&(ye||Oe)&&(Xe=De,typeof ReadableStream<"u")&&(Xe=a0),Me.type==="gif"&&(Xe=Ze),Me.type==="canvas"&&(Xe=Ie),je()&&Xe!==Ie&&Xe!==Ze&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(Ae(n0,"video").length||Ae(n0,"audio").length)&&(Me.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(Xe=Le):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(Xe=Le)),n0 instanceof Array&&n0.length&&(Xe=e0),Me.recorderType&&(Xe=Me.recorderType),!Me.disableLogs&&Xe&&Xe.name&&console.log("Using recorderType:",Xe.name||Xe.constructor.name),Xe=!Xe&&Ne?Le:Xe}function we(n0){this.addStream=function(Me){Me&&(n0=Me)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var Me,Xe,c0,h0,w0=this.mediaType,C0=this.mimeType||{audio:null,video:null,gif:null};if(typeof w0.audio!="function"&&je()&&!Ae(n0,"audio").length&&(w0.audio=!1),typeof w0.video!="function"&&je()&&!Ae(n0,"video").length&&(w0.video=!1),typeof w0.gif!="function"&&je()&&!Ae(n0,"video").length&&(w0.gif=!1),!w0.audio&&!w0.video&&!w0.gif)throw"MediaStream must have either audio or video tracks.";w0.audio&&(Me=null,typeof w0.audio=="function"&&(Me=w0.audio),this.audioRecorder=new R(n0,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:Me,mimeType:C0.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),w0.video||this.audioRecorder.startRecording()),w0.video&&(Me=null,typeof w0.video=="function"&&(Me=w0.video),Xe=n0,je()&&w0.audio&&typeof w0.audio=="function"&&(h0=Ae(n0,"video")[0],Fe?((Xe=new ee).addTrack(h0),Me&&Me===De&&(Me=Le)):(Xe=new ee).addTrack(h0)),this.videoRecorder=new R(Xe,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:Me,mimeType:C0.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),w0.audio||this.videoRecorder.startRecording()),w0.audio&&w0.video&&(c0=this,h0=je()===!0,(h0=w0.audio instanceof $e&&w0.video||w0.audio!==!0&&w0.video!==!0&&w0.audio!==w0.video?!1:h0)===!0?(c0.audioRecorder=null,c0.videoRecorder.startRecording()):c0.videoRecorder.initRecorder(function(){c0.audioRecorder.initRecorder(function(){c0.videoRecorder.startRecording(),c0.audioRecorder.startRecording()})})),w0.gif&&(Me=null,typeof w0.gif=="function"&&(Me=w0.gif),this.gifRecorder=new R(n0,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:Me,mimeType:C0.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(Me){Me=Me||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(Xe){Me(Xe,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(Xe){Me(Xe,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(Xe){Me(Xe,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(Me){var Xe={};return this.audioRecorder&&(Xe.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(Xe.video=this.videoRecorder.getBlob()),this.gifRecorder&&(Xe.gif=this.gifRecorder.getBlob()),Me&&Me(Xe),Xe},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(Me){function Xe(c0,h0){var w0;typeof Worker<"u"?((w0=(function(K0){var q0,K0=Pe.createObjectURL(new Blob([K0.toString(),"this.onmessage =  function (eee) {"+K0.name+"(eee.data);}"],{type:"application/javascript"})),U0=new Worker(K0);if(Pe!==void 0)q0=Pe;else{if(typeof webkitURL>"u")throw"Neither URL nor webkitURL detected.";q0=webkitURL}return q0.revokeObjectURL(K0),U0})(function(C0){postMessage(new FileReaderSync().readAsDataURL(C0))})).onmessage=function(C0){h0(C0.data)},w0.postMessage(c0)):((w0=new FileReader).readAsDataURL(c0),w0.onload=function(C0){h0(C0.target.result)})}this.getBlob(function(c0){c0.audio&&c0.video?Xe(c0.audio,function(h0){Xe(c0.video,function(w0){Me({audio:h0,video:w0})})}):c0.audio?Xe(c0.audio,function(h0){Me({audio:h0})}):c0.video&&Xe(c0.video,function(h0){Me({video:h0})})})},this.writeToDisk=function(){R.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(Me){(Me=Me||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save(typeof Me.audio=="string"?Me.audio:""),Me.video&&this.videoRecorder&&this.videoRecorder.save(typeof Me.video=="string"?Me.video:""),Me.gif&&this.gifRecorder&&this.gifRecorder.save(typeof Me.gif=="string"?Me.gif:"")}}R.version="5.6.2",(Se.exports=R).getFromDisk=function(n0,Me){if(!Me)throw"callback is mandatory.";console.log("Getting recorded "+(n0==="all"?"blobs":n0+" blob ")+" from disk!"),Re.Fetch(function(Xe,c0){n0!=="all"&&c0===n0+"Blob"&&Me&&Me(Xe),n0==="all"&&Me&&Me(Xe,c0.replace("Blob",""))})},R.writeToDisk=function(n0){console.log("Writing recorded blob(s) to disk!"),(n0=n0||{}).audio&&n0.video&&n0.gif?n0.audio.getDataURL(function(Me){n0.video.getDataURL(function(Xe){n0.gif.getDataURL(function(c0){Re.Store({audioBlob:Me,videoBlob:Xe,gifBlob:c0})})})}):n0.audio&&n0.video?n0.audio.getDataURL(function(Me){n0.video.getDataURL(function(Xe){Re.Store({audioBlob:Me,videoBlob:Xe})})}):n0.audio&&n0.gif?n0.audio.getDataURL(function(Me){n0.gif.getDataURL(function(Xe){Re.Store({audioBlob:Me,gifBlob:Xe})})}):n0.video&&n0.gif?n0.video.getDataURL(function(Me){n0.gif.getDataURL(function(Xe){Re.Store({videoBlob:Me,gifBlob:Xe})})}):n0.audio?n0.audio.getDataURL(function(Me){Re.Store({audioBlob:Me})}):n0.video?n0.video.getDataURL(function(Me){Re.Store({videoBlob:Me})}):n0.gif&&n0.gif.getDataURL(function(Me){Re.Store({gifBlob:Me})})},we.getFromDisk=R.getFromDisk,we.writeToDisk=R.writeToDisk,R.MRecordRTC=we,(Se=os!==void 0?os:null)&&typeof window>"u"&&os!==void 0&&(os.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},os.console||(os.console={}),os.console.log!==void 0&&os.console.error!==void 0||(os.console.error=os.console.log=os.console.log||function(){console.log(arguments)}),typeof document>"u"&&(Se.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var n0={getContext:function(){return n0},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return n0},Se.HTMLVideoElement=function(){}),typeof location>"u"&&(Se.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(Se.screen={width:0,height:0}),Pe===void 0&&(Se.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),Se.window=os);var _e,fe=window.requestAnimationFrame,de=(fe===void 0&&(typeof webkitRequestAnimationFrame<"u"?fe=webkitRequestAnimationFrame:typeof mozRequestAnimationFrame<"u"?fe=mozRequestAnimationFrame:typeof msRequestAnimationFrame<"u"?fe=msRequestAnimationFrame:fe===void 0&&(_e=0,fe=function(n0,Me){var Xe=new Date().getTime(),c0=Math.max(0,16-(Xe-_e)),h0=setTimeout(function(){n0(Xe+c0)},c0);return _e=Xe+c0,h0})),window.cancelAnimationFrame),Se=(de===void 0&&(typeof webkitCancelAnimationFrame<"u"?de=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?de=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?de=msCancelAnimationFrame:de===void 0&&(de=function(n0){clearTimeout(n0)})),window.AudioContext),Pe=(Se===void 0&&(typeof webkitAudioContext<"u"&&(Se=webkitAudioContext),typeof mozAudioContext<"u")&&(Se=mozAudioContext),window.URL),xe=(Pe===void 0&&typeof webkitURL<"u"&&(Pe=webkitURL),typeof navigator<"u"&&navigator.getUserMedia===void 0&&(navigator.webkitGetUserMedia!==void 0&&(navigator.getUserMedia=navigator.webkitGetUserMedia),navigator.mozGetUserMedia!==void 0)&&(navigator.getUserMedia=navigator.mozGetUserMedia),!(navigator.userAgent.indexOf("Edge")===-1||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob)),Oe=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,Fe=-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&"netscape"in window&&/ rv:/.test(navigator.userAgent),ye=!Oe&&!xe&&!!navigator.webkitGetUserMedia||ce()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,Ne=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),ee=(Ne&&!ye&&navigator.userAgent.indexOf("CriOS")!==-1&&(ye=!(Ne=!1)),window.MediaStream);function se(n0){var Me;return n0===0?"0 Bytes":(Me=parseInt(Math.floor(Math.log(n0)/Math.log(1e3)),10),(n0/Math.pow(1e3,Me)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][Me])}function he(n0,Me){if(!n0)throw"Blob object is required.";if(!n0.type)try{n0.type="video/webm"}catch{}var Xe=(n0.type||"video/webm").split("/")[1],c0=(Xe.indexOf(";")!==-1&&(Xe=Xe.split(";")[0]),Me&&Me.indexOf(".")!==-1&&(Me=(c0=Me.split("."))[0],Xe=c0[1]),(Me||Math.round(9999999999*Math.random())+888888888)+"."+Xe);return navigator.msSaveOrOpenBlob!==void 0?navigator.msSaveOrOpenBlob(n0,c0):navigator.msSaveBlob!==void 0?navigator.msSaveBlob(n0,c0):((Me=document.createElement("a")).href=Pe.createObjectURL(n0),Me.download=c0,Me.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(Me),typeof Me.click=="function"?Me.click():(Me.target="_blank",Me.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),void Pe.revokeObjectURL(Me.href))}function ce(){return typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||!(typeof process>"u"||typeof process.versions!="object"||!process.versions.electron)||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&0<=navigator.userAgent.indexOf("Electron")}function Ae(n0,Me){return n0&&n0.getTracks?n0.getTracks().filter(function(Xe){return Xe.kind===(Me||"audio")}):[]}function ke(n0,Me){!("srcObject"in Me)&&"mozSrcObject"in Me?Me.mozSrcObject=n0:Me.srcObject=n0}(ee=ee===void 0&&typeof webkitMediaStream<"u"?webkitMediaStream:ee)!==void 0&&ee.prototype.stop===void 0&&(ee.prototype.stop=function(){this.getTracks().forEach(function(n0){n0.stop()})}),R.invokeSaveAsDialog=he,R.getTracks=Ae,R.getSeekableBlob=function(n0,Me){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var Xe=new EBML.Reader,c0=new EBML.Decoder,h0=EBML.tools,w0=new FileReader;w0.onload=function(C0){c0.decode(this.result).forEach(function(U0){Xe.read(U0)}),Xe.stop();var K0=h0.makeMetadataSeekable(Xe.metadatas,Xe.duration,Xe.cues),q0=this.result.slice(Xe.metadataSize),K0=new Blob([K0,q0],{type:"video/webm"});Me(K0)},w0.readAsArrayBuffer(n0)},R.bytesToSize=se,R.isElectron=ce;var Ee={};function je(){var n0,Me,Xe,c0;return!!(Fe||Ne||xe)||(Me=navigator.userAgent,Xe=""+parseFloat(navigator.appVersion),c0=parseInt(navigator.appVersion,10),(ye||Oe)&&(n0=Me.indexOf("Chrome"),Xe=Me.substring(n0+7)),(Me=(Xe=(Me=Xe.indexOf(";"))!==-1?Xe.substring(0,Me):Xe).indexOf(" "))!==-1&&(Xe=Xe.substring(0,Me)),c0=parseInt(""+Xe,10),isNaN(c0)&&(Xe=""+parseFloat(navigator.appVersion),c0=parseInt(navigator.appVersion,10)),49<=c0)}function Le(n0,Me){var Xe,c0=this;if(n0===void 0)throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";(Me=Me||{mimeType:"video/webm"}).type==="audio"&&(Ae(n0,"video").length&&Ae(n0,"audio").length&&(navigator.mozGetUserMedia?(Xe=new ee).addTrack(Ae(n0,"audio")[0]):Xe=new ee(Ae(n0,"audio")),n0=Xe),Me.mimeType&&Me.mimeType.toString().toLowerCase().indexOf("audio")!==-1||(Me.mimeType=ye?"audio/webm":"audio/ogg"),Me.mimeType)&&Me.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(Me.mimeType="audio/ogg");var h0,w0=[];function C0(){c0.timestamps.push(new Date().getTime()),typeof Me.onTimeStamp=="function"&&Me.onTimeStamp(c0.timestamps[c0.timestamps.length-1],c0.timestamps)}function q0(st){return h0&&h0.mimeType?h0.mimeType:st.mimeType||"video/webm"}function K0(){w0=[],h0=null,c0.timestamps=[]}this.getArrayOfBlobs=function(){return w0},this.record=function(){c0.blob=null,c0.clearRecordedData(),c0.timestamps=[],U0=[],w0=[];var st=Me;Me.disableLogs||console.log("Passing following config over MediaRecorder API.",st),h0=h0&&null,ye&&!je()&&(st="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&st.mimeType&&!MediaRecorder.isTypeSupported(st.mimeType)&&(Me.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",st.mimeType),st.mimeType=Me.type==="audio"?"audio/webm":"video/webm");try{h0=new MediaRecorder(n0,st),Me.mimeType=st.mimeType}catch{h0=new MediaRecorder(n0)}st.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in h0&&h0.canRecordMimeType(st.mimeType)===!1&&(Me.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",st.mimeType)),h0.ondataavailable=function(ht){ht.data&&U0.push("ondataavailable: "+se(ht.data.size)),typeof Me.timeSlice!="number"?!ht.data||!ht.data.size||ht.data.size<100||c0.blob?c0.recordingCallback&&(c0.recordingCallback(new Blob([],{type:q0(st)})),c0.recordingCallback=null):(c0.blob=Me.getNativeBlob?ht.data:new Blob([ht.data],{type:q0(st)}),c0.recordingCallback&&(c0.recordingCallback(c0.blob),c0.recordingCallback=null)):ht.data&&ht.data.size&&(w0.push(ht.data),C0(),typeof Me.ondataavailable=="function")&&(ht=Me.getNativeBlob?ht.data:new Blob([ht.data],{type:q0(st)}),Me.ondataavailable(ht))},h0.onstart=function(){U0.push("started")},h0.onpause=function(){U0.push("paused")},h0.onresume=function(){U0.push("resumed")},h0.onstop=function(){U0.push("stopped")},h0.onerror=function(ht){ht&&(ht.name||(ht.name="UnknownError"),U0.push("error: "+ht),Me.disableLogs||(ht.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",ht):ht.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",st.mimeType,") is not supported.",ht):ht.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",ht):ht.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",ht):ht.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",ht):ht.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",ht):ht.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",ht):console.error("MediaRecorder Error",ht)),!c0.manuallyStopped&&h0&&h0.state==="inactive"?(delete Me.timeslice,h0.start(6e5)):setTimeout(void 0,1e3),h0.state!=="inactive")&&h0.state!=="stopped"&&h0.stop()},typeof Me.timeSlice=="number"?(C0(),h0.start(Me.timeSlice)):h0.start(36e5),Me.initCallback&&Me.initCallback()},this.timestamps=[],this.stop=function(st){st=st||function(){},c0.manuallyStopped=!0,h0&&(this.recordingCallback=st,h0.state==="recording"&&h0.stop(),typeof Me.timeSlice=="number")&&setTimeout(function(){c0.blob=new Blob(w0,{type:q0(Me)}),c0.recordingCallback(c0.blob)},100)},this.pause=function(){h0&&h0.state==="recording"&&h0.pause()},this.resume=function(){h0&&h0.state==="paused"&&h0.resume()},this.clearRecordedData=function(){h0&&h0.state==="recording"&&c0.stop(K0),K0()},this.getInternalRecorder=function(){return h0},this.blob=null,this.getState=function(){return h0&&h0.state||"inactive"};var U0=[];this.getAllStates=function(){return U0},Me.checkForInactiveTracks===void 0&&(Me.checkForInactiveTracks=!1),c0=this,(function st(){if(h0&&Me.checkForInactiveTracks!==!1)return(function(){if("active"in n0){if(!n0.active)return!1}else if("ended"in n0&&n0.ended)return!1;return!0})()===!1?(Me.disableLogs||console.log("MediaStream seems stopped."),void c0.stop()):void setTimeout(st,1e3)})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function $e(n0,Me){if(!Ae(n0,"audio").length)throw"Your stream has no audio tracks.";var Xe,c0=this,h0=[],w0=[],C0=!1,q0=0,K0=2,U0=(Me=Me||{}).desiredSampRate;function st(){if(Me.checkForInactiveTracks!==!1){if("active"in n0){if(!n0.active)return!1}else if("ended"in n0&&n0.ended)return!1}return!0}function ht(yi,Fi){function ii(Wi,Yr){var kr,It=Wi.numberOfAudioChannels,Qi=Wi.leftBuffers.slice(0),$0=Wi.rightBuffers.slice(0),Xi=Wi.sampleRate,Pi=Wi.internalInterleavedLength,Wi=Wi.desiredSampRate;function ps(Fr,As,ms){var wr=Math.round(Fr.length*(As/ms)),Tt=[],V0=Number((Fr.length-1)/(wr-1));Tt[0]=Fr[0];for(var Er,Gi=1;Gi<wr-1;Gi++){var h2=Gi*V0,Tr=Number(Math.floor(h2)).toFixed(),Pn=Number(Math.ceil(h2)).toFixed();Tt[Gi]=(Er=Fr[Tr],Pn=Fr[Pn],Er+(Pn-Er)*(h2-Tr))}return Tt[wr-1]=Fr[Fr.length-1],Tt}function Jr(Fr,As){for(var ms=new Float64Array(As),wr=0,Tt=Fr.length,V0=0;V0<Tt;V0++){var Er=Fr[V0];ms.set(Er,wr),wr+=Er.length}return ms}function Sr(Fr,As,ms){for(var wr=ms.length,Tt=0;Tt<wr;Tt++)Fr.setUint8(As+Tt,ms.charCodeAt(Tt))}It===2&&(Qi=Jr(Qi,Pi),$0=Jr($0,Pi),Wi)&&(Qi=ps(Qi,Wi,Xi),$0=ps($0,Wi,Xi)),It===1&&(Qi=Jr(Qi,Pi),Wi)&&(Qi=ps(Qi,Wi,Xi)),Wi&&(Xi=Wi),It===2&&(kr=(function(Fr,As){for(var ms=Fr.length+As.length,wr=new Float64Array(ms),Tt=0,V0=0;V0<ms;)wr[V0++]=Fr[Tt],wr[V0++]=As[Tt],Tt++;return wr})(Qi,$0));var Pi=(kr=It===1?Qi:kr).length,Wi=new ArrayBuffer(44+2*Pi),hr=new DataView(Wi);Sr(hr,0,"RIFF"),hr.setUint32(4,36+2*Pi,!0),Sr(hr,8,"WAVE"),Sr(hr,12,"fmt "),hr.setUint32(16,16,!0),hr.setUint16(20,1,!0),hr.setUint16(22,It,!0),hr.setUint32(24,Xi,!0),hr.setUint32(28,Xi*It*2,!0),hr.setUint16(32,2*It,!0),hr.setUint16(34,16,!0),Sr(hr,36,"data"),hr.setUint32(40,2*Pi,!0);for(var Es=Pi,lr=44,Js=0;Js<Es;Js++)hr.setInt16(lr,32767*kr[Js],!0),lr+=2;if(Yr)return Yr({buffer:Wi,view:hr});postMessage({buffer:Wi,view:hr})}var Ft,Mi,Vi;yi.noWorker?ii(yi,function(or){Fi(or.buffer,or.view)}):(Ft=ii,Ft=Pe.createObjectURL(new Blob([Ft.toString(),";this.onmessage =  function (eee) {"+Ft.name+"(eee.data);}"],{type:"application/javascript"})),(Mi=new Worker(Ft)).workerURL=Ft,(Vi=Mi).onmessage=function(or){Fi(or.data.buffer,or.data.view),Pe.revokeObjectURL(Vi.workerURL),Vi.terminate()},Vi.postMessage(yi))}Me.leftChannel===!0&&(K0=1),(!(K0=Me.numberOfAudioChannels===1?1:K0)||K0<1)&&(K0=2),Me.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+K0),Me.checkForInactiveTracks===void 0&&(Me.checkForInactiveTracks=!0),this.record=function(){if(st()===!1)throw"Please make sure MediaStream is active.";Nt(),li=Et=!1,C0=!0,Me.timeSlice!==void 0&&gi()},this.stop=function(yi){yi=yi||function(){},C0=!1,ht({desiredSampRate:U0,sampleRate:Rt,numberOfAudioChannels:K0,internalInterleavedLength:q0,leftBuffers:h0,rightBuffers:K0===1?[]:w0,noWorker:Me.noWorker},function(Fi,ii){c0.blob=new Blob([ii],{type:"audio/wav"}),c0.buffer=new ArrayBuffer(ii.buffer.byteLength),c0.view=ii,c0.sampleRate=U0||Rt,c0.bufferSize=ft,c0.length=q0,li=!1,yi&&yi(c0.blob)})},(R.Storage=R.Storage===void 0?{AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}:R.Storage).AudioContextConstructor&&R.Storage.AudioContextConstructor.state!=="closed"||(R.Storage.AudioContextConstructor=new R.Storage.AudioContext);var Dt=R.Storage.AudioContextConstructor,gt=Dt.createMediaStreamSource(n0),j0=[0,256,512,1024,2048,4096,8192,16384],ft=Me.bufferSize===void 0?4096:Me.bufferSize;if(j0.indexOf(ft)!==-1||Me.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(j0,null,"	")),Dt.createJavaScriptNode)Xe=Dt.createJavaScriptNode(ft,K0,K0);else{if(!Dt.createScriptProcessor)throw"WebAudio API has no support on this browser.";Xe=Dt.createScriptProcessor(ft,K0,K0)}gt.connect(Xe),Me.bufferSize||(ft=Xe.bufferSize);var Rt=Me.sampleRate!==void 0?Me.sampleRate:Dt.sampleRate||44100,Et=((Rt<22050||96e3<Rt)&&!Me.disableLogs&&console.log("sample-rate must be under range 22050 and 96000."),Me.disableLogs||Me.desiredSampRate&&console.log("Desired sample-rate: "+Me.desiredSampRate),!1);function Nt(){h0=[],q0=0,Et=C0=li=!(w0=[]),Dt=null,c0.leftchannel=h0,c0.rightchannel=w0,c0.numberOfAudioChannels=K0,c0.desiredSampRate=U0,c0.sampleRate=Rt,c0.recordingLength=q0,Yt={left:[],right:[],recordingLength:0}}function mi(){Xe&&(Xe.onaudioprocess=null,Xe.disconnect(),Xe=null),gt&&(gt.disconnect(),gt=null),Nt()}this.pause=function(){Et=!0},this.resume=function(){if(st()===!1)throw"Please make sure MediaStream is active.";C0?Et=!1:(Me.disableLogs||console.log("Seems recording has been restarted."),this.record())},this.clearRecordedData=function(){Me.checkForInactiveTracks=!1,C0&&this.stop(mi),mi()},this.name="StereoAudioRecorder";var li=!(this.toString=function(){return this.name}),Yt=(Xe.onaudioprocess=function(yi){var Fi,ii;Et||(st()===!1&&(Me.disableLogs||console.log("MediaStream seems stopped."),Xe.disconnect(),C0=!1),C0?(li||(li=!0,Me.onAudioProcessStarted&&Me.onAudioProcessStarted(),Me.initCallback&&Me.initCallback()),Fi=yi.inputBuffer.getChannelData(0),Fi=new Float32Array(Fi),h0.push(Fi),K0===2&&(yi=yi.inputBuffer.getChannelData(1),ii=new Float32Array(yi),w0.push(ii)),q0+=ft,c0.recordingLength=q0,Me.timeSlice!==void 0&&(Yt.recordingLength+=ft,Yt.left.push(Fi),K0===2)&&Yt.right.push(ii)):gt&&(gt.disconnect(),gt=null))},Dt.createMediaStreamDestination?Xe.connect(Dt.createMediaStreamDestination()):Xe.connect(Dt.destination),this.leftchannel=h0,this.rightchannel=w0,this.numberOfAudioChannels=K0,this.desiredSampRate=U0,this.sampleRate=Rt,c0.recordingLength=q0,{left:[],right:[],recordingLength:0});function gi(){C0&&typeof Me.ondataavailable=="function"&&Me.timeSlice!==void 0&&(Yt.left.length?(ht({desiredSampRate:U0,sampleRate:Rt,numberOfAudioChannels:K0,internalInterleavedLength:Yt.recordingLength,leftBuffers:Yt.left,rightBuffers:K0===1?[]:Yt.right},function(yi,Fi){Fi=new Blob([Fi],{type:"audio/wav"}),Me.ondataavailable(Fi),setTimeout(gi,Me.timeSlice)}),Yt={left:[],right:[],recordingLength:0}):setTimeout(gi,Me.timeSlice))}}function Ie(n0,Me){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";(Me=Me||{}).frameInterval||(Me.frameInterval=10);var Xe=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(j0){j0 in document.createElement("canvas")&&(Xe=!0)});var c0,h0,w0,C0=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),q0=50,K0=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(C0&&K0&&K0[2]&&(q0=parseInt(K0[2],10)),C0&&q0<52&&(Xe=!1),Xe=Me.useWhammyRecorder?!1:Xe)if(Me.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),n0 instanceof HTMLCanvasElement)c0=n0;else{if(!(n0 instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";c0=n0.canvas}else!navigator.mozGetUserMedia||Me.disableLogs||console.error("Canvas recording is NOT supported in Firefox.");this.record=function(){if(w0=!0,Xe&&!Me.useWhammyRecorder){var j0;"captureStream"in c0?j0=c0.captureStream(25):"mozCaptureStream"in c0?j0=c0.mozCaptureStream(25):"webkitCaptureStream"in c0&&(j0=c0.webkitCaptureStream(25));try{var ft=new ee;ft.addTrack(Ae(j0,"video")[0]),j0=ft}catch{}if(!j0)throw"captureStream API are NOT available.";(h0=new Le(j0,{mimeType:Me.mimeType||"video/webm"})).record()}else gt.frames=[],Dt=new Date().getTime(),ht();Me.initCallback&&Me.initCallback()},this.getWebPImages=function(j0){var ft;n0.nodeName.toLowerCase()==="canvas"&&(ft=gt.frames.length,gt.frames.forEach(function(Rt,Et){var Nt=ft-Et,Nt=(Me.disableLogs||console.log(Nt+"/"+ft+" frames remaining"),Me.onEncodingCallback&&Me.onEncodingCallback(Nt,ft),Rt.image.toDataURL("image/webp",1));gt.frames[Et].image=Nt}),Me.disableLogs||console.log("Generating WebM")),j0()};var U0=!(this.stop=function(j0){w0=!1;var ft=this;Xe&&h0?h0.stop(j0):this.getWebPImages(function(){gt.compile(function(Rt){Me.disableLogs||console.log("Recording finished!"),ft.blob=Rt,ft.blob.forEach&&(ft.blob=new Blob([],{type:"video/webm"})),j0&&j0(ft.blob),gt.frames=[]})})});function st(){gt.frames=[],U0=w0=!1}function ht(){if(U0)return Dt=new Date().getTime(),setTimeout(ht,500);var j0,ft,Rt;n0.nodeName.toLowerCase()==="canvas"?(j0=new Date().getTime()-Dt,Dt=new Date().getTime(),gt.frames.push({image:(Rt=(ft=document.createElement("canvas")).getContext("2d"),ft.width=n0.width,ft.height=n0.height,Rt.drawImage(n0,0,0),ft),duration:j0}),w0&&setTimeout(ht,Me.frameInterval)):html2canvas(n0,{grabMouse:Me.showMousePointer===void 0||Me.showMousePointer,onrendered:function(Et){var Nt=new Date().getTime()-Dt;if(!Nt)return setTimeout(ht,Me.frameInterval);Dt=new Date().getTime(),gt.frames.push({image:Et.toDataURL("image/webp",1),duration:Nt}),w0&&setTimeout(ht,Me.frameInterval)}})}this.pause=function(){U0=!0,h0 instanceof Le&&h0.pause()},this.resume=function(){U0=!1,h0 instanceof Le?h0.resume():w0||this.record()},this.clearRecordedData=function(){w0&&this.stop(st),st()},this.name="CanvasRecorder",this.toString=function(){return this.name};var Dt=new Date().getTime(),gt=new Ue.Video(100)}function De(n0,Me){function Xe(ht){ht=ht!==void 0?ht:10;var Dt=new Date().getTime()-q0;return Dt?h0?(q0=new Date().getTime(),setTimeout(Xe,100)):(q0=new Date().getTime(),C0.paused&&C0.play(),st.drawImage(C0,0,0,U0.width,U0.height),K0.frames.push({duration:Dt,image:U0.toDataURL("image/webp")}),void(c0||setTimeout(Xe,ht,ht))):setTimeout(Xe,ht,ht)}(Me=Me||{}).frameInterval||(Me.frameInterval=10),Me.disableLogs||console.log("Using frames-interval:",Me.frameInterval);var c0=!(this.record=function(){Me.width||(Me.width=320),Me.height||(Me.height=240),Me.video||(Me.video={width:Me.width,height:Me.height}),Me.canvas||(Me.canvas={width:Me.width,height:Me.height}),U0.width=Me.canvas.width||320,U0.height=Me.canvas.height||240,st=U0.getContext("2d"),Me.video&&Me.video instanceof HTMLVideoElement?(C0=Me.video.cloneNode(),Me.initCallback&&Me.initCallback()):(C0=document.createElement("video"),ke(n0,C0),C0.onloadedmetadata=function(){Me.initCallback&&Me.initCallback()},C0.width=Me.video.width,C0.height=Me.video.height),C0.muted=!0,C0.play(),q0=new Date().getTime(),K0=new Ue.Video,Me.disableLogs||(console.log("canvas resolutions",U0.width,"*",U0.height),console.log("video width/height",C0.width||U0.width,"*",C0.height||U0.height)),Xe(Me.frameInterval)}),h0=!(this.stop=function(ht){ht=ht||function(){},c0=!0;var Dt=this;setTimeout(function(){var gt,j0,ft,Rt,Et,Nt,mi,li,Yt,gi,yi,Fi,ii,Ft,Mi,Vi,or;gt=K0.frames,j0=-1,Rt=ft=null,Et=function(Yr){K0.frames=Yr,Me.advertisement&&Me.advertisement.length&&(K0.frames=Me.advertisement.concat(K0.frames)),K0.compile(function(kr){Dt.blob=kr,Dt.blob.forEach&&(Dt.blob=new Blob([],{type:"video/webm"})),ht&&ht(Dt.blob)})},(Nt=document.createElement("canvas")).width=U0.width,Nt.height=U0.height,li=Nt.getContext("2d"),Yt=[],gi=j0===-1,yi=j0&&0<j0&&j0<=gt.length?j0:gt.length,Fi=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),ii=ft&&0<=ft&&ft<=1?ft:0,Ft=Rt&&0<=Rt&&Rt<=1?Rt:0,Mi=!1,Vi=-1,or=(mi={length:yi,functionToLoop:function(Yr,kr){function It(){!Mi&&Xi-Qi<=Xi*Ft||(gi&&(Mi=!0),Yt.push(gt[kr])),Yr()}var Qi,$0,Xi,ps;Mi?It():((ps=new Image).onload=function(){li.drawImage(ps,0,0,U0.width,U0.height);var Jr=li.getImageData(0,0,U0.width,U0.height);Qi=0,$0=Jr.data.length,Xi=Jr.data.length/4;for(var Sr=0;Sr<$0;Sr+=4){var Pi=Jr.data[Sr],Wi=Jr.data[Sr+1],hr=Jr.data[Sr+2];Math.sqrt(Math.pow(+Pi,2)+Math.pow(+Wi,2)+Math.pow(+hr,2))<=Fi*ii&&Qi++}It()},ps.src=gt[kr].image)},callback:function(){(Yt=Yt.concat(gt.slice(yi))).length<=0&&Yt.push(gt[gt.length-1]),Et(Yt)}}).length,(function Yr(){++Vi!==or?setTimeout(function(){mi.functionToLoop(Yr,Vi)},1):mi.callback()})()},10)});function w0(){K0.frames=[],h0=!(c0=!0)}this.pause=function(){h0=!0},this.resume=function(){h0=!1,c0&&this.record()},this.clearRecordedData=function(){c0||this.stop(w0),w0()},this.name="WhammyRecorder",this.toString=function(){return this.name};var C0,q0,K0,U0=document.createElement("canvas"),st=U0.getContext("2d")}Se!==void 0?Ee.AudioContext=Se:typeof webkitAudioContext<"u"&&(Ee.AudioContext=webkitAudioContext),R.Storage=Ee,R.MediaStreamRecorder=Le,R.StereoAudioRecorder=$e,R.CanvasRecorder=Ie,R.WhammyRecorder=De,Ke.prototype.add=function(n0,Me){if("toDataURL"in(n0="canvas"in n0?n0.canvas:n0)&&(n0=n0.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(n0))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:n0,duration:Me||this.duration})},Ke.prototype.compile=function(n0){Xe=t0,Xe=Pe.createObjectURL(new Blob([Xe.toString(),"this.onmessage =  function (eee) {"+Xe.name+"(eee.data);}"],{type:"application/javascript"})),Me=new Worker(Xe),Pe.revokeObjectURL(Xe);var Me,Xe=Me;Xe.onmessage=function(c0){c0.data.error?console.error(c0.data.error):n0(c0.data)},Xe.postMessage(this.frames)};var Ue={Video:Ke};function Ke(n0){this.frames=[],this.duration=n0||1,this.quality=.8}function t0(n0){function Me(h0){var w0=[];h0=(h0.length%8?new Array(9-h0.length%8).join("0"):"")+h0;for(var C0=0;C0<h0.length;C0+=8)w0.push(parseInt(h0.substr(C0,8),2));return new Uint8Array(w0)}function Xe(h0){for(var w0=[],C0=0;C0<h0.length;C0++){var q0=h0[C0].data,K0=(q0=typeof(q0=typeof(q0=typeof q0=="object"?Xe(q0):q0)=="number"?Me(q0.toString(2)):q0)=="string"?new Uint8Array(q0.split("").map(function(st){return st.charCodeAt(0)})):q0).size||q0.byteLength||q0.length,U0=Math.ceil(Math.ceil(Math.log(K0)/Math.log(2))/8),K0=K0.toString(2),K0=new Array(7*U0+7+1-K0.length).join("0")+K0,U0=new Array(U0).join("0")+"1"+K0;w0.push((function(st){for(var ht=[];0<st;)ht.push(255&st),st>>=8;return new Uint8Array(ht.reverse())})(h0[C0].id)),w0.push(Me(U0)),w0.push(q0)}return new Blob(w0,{type:"video/webm"})}function c0(h0){for(var w0=0,C0={};w0<h0.length;){var q0=h0.substr(w0,4),K0=(K0=w0,parseInt(h0.substr(K0+4,4).split("").map(function(st){return st=st.charCodeAt(0).toString(2),new Array(8-st.length+1).join("0")+st}).join(""),2)),U0=h0.substr(w0+4+4,K0);w0+=8+K0,C0[q0]=C0[q0]||[],q0==="RIFF"||q0==="LIST"?C0[q0].push(c0(U0)):C0[q0].push(U0)}return C0}n0=new function(h0){var w0=(function(gt){if(gt[0]){for(var j0=gt[0].width,ft=gt[0].height,Rt=gt[0].duration,Et=1;Et<gt.length;Et++)Rt+=gt[Et].duration;return{duration:Rt,width:j0,height:ft}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})})(h0);if(!w0)return[];for(var C0,q0=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(C0=w0.duration,[].slice.call(new Uint8Array(new Float64Array([C0]).buffer),0).map(function(gt){return String.fromCharCode(gt)}).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:w0.width,id:176},{data:w0.height,id:186}]}]}]}]}],K0=0,U0=0;K0<h0.length;){for(var st=[],ht=0;st.push(h0[K0]),ht+=h0[K0].duration,++K0<h0.length&&ht<3e4;);var Dt={id:524531317,data:(function(gt,j0,ft){return[{data:gt,id:231}].concat(ft.map(function(Rt){var Et=(function(Nt){var mi=0;return mi|=128,127<Nt.trackNum,[128|Nt.trackNum,Nt.timecode>>8,255&Nt.timecode,mi].map(function(li){return String.fromCharCode(li)}).join("")+Nt.frame})({frame:Rt.data.slice(4),trackNum:1,timecode:Math.round(j0)});return j0+=Rt.duration,{data:Et,id:163}}))})(U0,0,st)};q0[1].data.push(Dt),U0+=ht}return Xe(q0)}(n0.map(function(h0){var w0=(function(C0){for(var q0=C0.RIFF[0].WEBP[0],K0=q0.indexOf("*"),U0=0,st=[];U0<4;U0++)st[U0]=q0.charCodeAt(K0+3+U0);return{width:16383&(st[1]<<8|st[0]),height:16383&(st[3]<<8|st[2]),data:q0,riff:C0}})(c0(atob(h0.image.slice(23))));return w0.duration=h0.duration,w0})),postMessage(n0)}R.Whammy=Ue;var Re={init:function(){var n0,Me,Xe,c0=this;function h0(C0){C0.createObjectStore(c0.dataStoreName)}function w0(){var C0=n0.transaction([c0.dataStoreName],"readwrite");function q0(K0){C0.objectStore(c0.dataStoreName).get(K0).onsuccess=function(U0){c0.callback&&c0.callback(U0.target.result,K0)}}c0.videoBlob&&C0.objectStore(c0.dataStoreName).put(c0.videoBlob,"videoBlob"),c0.gifBlob&&C0.objectStore(c0.dataStoreName).put(c0.gifBlob,"gifBlob"),c0.audioBlob&&C0.objectStore(c0.dataStoreName).put(c0.audioBlob,"audioBlob"),q0("audioBlob"),q0("videoBlob"),q0("gifBlob")}typeof indexedDB<"u"&&indexedDB.open!==void 0?(Me=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),(Xe=indexedDB.open(Me,1)).onerror=c0.onError,Xe.onsuccess=function(){(n0=Xe.result).onerror=c0.onError,n0.setVersion&&n0.version!==1?n0.setVersion(1).onsuccess=function(){h0(n0),w0()}:w0()},Xe.onupgradeneeded=function(C0){h0(C0.target.result)}):console.error("IndexedDB API are not available in this browser.")},Fetch:function(n0){return this.callback=n0,this.init(),this},Store:function(n0){return this.audioBlob=n0.audioBlob,this.videoBlob=n0.videoBlob,this.gifBlob=n0.gifBlob,this.init(),this},onError:function(n0){console.error(JSON.stringify(n0,null,"	"))},dataStoreName:"recordRTC",dbName:null};function Ze(n0,Me){typeof GIFEncoder>"u"&&((Xe=document.createElement("script")).src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(Xe)),Me=Me||{};var Xe,c0,h0=n0 instanceof CanvasRenderingContext2D||n0 instanceof HTMLCanvasElement,w0=(this.record=function(){typeof GIFEncoder<"u"&&K0?(h0||(Me.width||(Me.width=c0.offsetWidth||320),Me.height||(Me.height=c0.offsetHeight||240),Me.video||(Me.video={width:Me.width,height:Me.height}),Me.canvas||(Me.canvas={width:Me.width,height:Me.height}),C0.width=Me.canvas.width||320,C0.height=Me.canvas.height||240,c0.width=Me.video.width||320,c0.height=Me.video.height||240),(st=new GIFEncoder).setRepeat(0),st.setDelay(Me.frameRate||200),st.setQuality(Me.quality||10),st.start(),typeof Me.onGifRecordingStarted=="function"&&Me.onGifRecordingStarted(),ht=fe(function gt(j0){if(Dt.clearedRecordedData!==!0){if(w0)return setTimeout(function(){gt(j0)},100);ht=fe(gt),j0-U0<90||(!h0&&c0.paused&&c0.play(),h0||q0.drawImage(c0,0,0,C0.width,C0.height),Me.onGifPreview&&Me.onGifPreview(C0.toDataURL("image/png")),st.addFrame(q0),U0=j0)}}),Me.initCallback&&Me.initCallback()):setTimeout(Dt.record,1e3)},!(this.stop=function(gt){gt=gt||function(){},ht&&de(ht),this.blob=new Blob([new Uint8Array(st.stream().bin)],{type:"image/gif"}),gt(this.blob),st.stream().bin=[]})),C0=(this.pause=function(){w0=!0},this.resume=function(){w0=!1},this.clearRecordedData=function(){Dt.clearedRecordedData=!0,st&&(st.stream().bin=[])},this.name="GifRecorder",this.toString=function(){return this.name},document.createElement("canvas")),q0=C0.getContext("2d"),K0=(h0&&(n0 instanceof CanvasRenderingContext2D?C0=(q0=n0).canvas:n0 instanceof HTMLCanvasElement&&(q0=n0.getContext("2d"),C0=n0)),!0);h0||((c0=document.createElement("video")).muted=!0,c0.autoplay=!0,c0.playsInline=!0,K0=!1,c0.onloadedmetadata=function(){K0=!0},ke(n0,c0),c0.play());var U0,st,ht=null,Dt=this}function i0(n0,Me){Me=Me||"multi-streams-mixer";var Xe=[],c0=!1,h0=document.createElement("canvas"),w0=h0.getContext("2d"),C0=(h0.style.opacity=0,h0.style.position="absolute",h0.style.zIndex=-1,h0.style.top="-1000em",h0.style.left="-1000em",h0.className=Me,(document.body||document.documentElement).appendChild(h0),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0,this),q0=window.AudioContext;q0===void 0&&(typeof webkitAudioContext<"u"&&(q0=webkitAudioContext),typeof mozAudioContext<"u")&&(q0=mozAudioContext),typeof navigator<"u"&&navigator.getUserMedia===void 0&&(navigator.webkitGetUserMedia!==void 0&&(navigator.getUserMedia=navigator.webkitGetUserMedia),navigator.mozGetUserMedia!==void 0)&&(navigator.getUserMedia=navigator.mozGetUserMedia);var K0=window.MediaStream,U0=((K0=K0===void 0&&typeof webkitMediaStream<"u"?webkitMediaStream:K0)!==void 0&&K0.prototype.stop===void 0&&(K0.prototype.stop=function(){this.getTracks().forEach(function(j0){j0.stop()})}),{});function st(){var j0,ft,Rt;c0||(j0=Xe.length,ft=!1,Rt=[],Xe.forEach(function(Et){Et.stream||(Et.stream={}),Et.stream.fullcanvas?ft=Et:Rt.push(Et)}),ft?(h0.width=ft.stream.width,h0.height=ft.stream.height):Rt.length?(h0.width=1<j0?2*Rt[0].width:Rt[0].width,h0.height=Rt[0].height*(j0!==9&&j0!==10?j0!==7&&j0!==8?j0!==5&&j0!==6?j0!==3&&j0!==4?1:2:3:4:5)):(h0.width=C0.width||360,h0.height=C0.height||240),ft&&ft instanceof HTMLVideoElement&&ht(ft),Rt.forEach(function(Et,Nt){ht(Et,Nt)}),setTimeout(st,C0.frameInterval))}function ht(j0,ft){var Rt,Et,Nt,mi;c0||(Et=Rt=0,Nt=j0.width,mi=j0.height,ft===1&&(Rt=j0.width),ft===2&&(Et=j0.height),ft===3&&(Rt=j0.width,Et=j0.height),ft===4&&(Et=2*j0.height),ft===5&&(Rt=j0.width,Et=2*j0.height),ft===6&&(Et=3*j0.height),ft===7&&(Rt=j0.width,Et=3*j0.height),j0.stream.left!==void 0&&(Rt=j0.stream.left),j0.stream.top!==void 0&&(Et=j0.stream.top),j0.stream.width!==void 0&&(Nt=j0.stream.width),j0.stream.height!==void 0&&(mi=j0.stream.height),w0.drawImage(j0,Rt,Et,Nt,mi),typeof j0.stream.onRender=="function"&&j0.stream.onRender(w0,Rt,Et,Nt,mi,ft))}function Dt(j0){var ft,Rt,Et=document.createElement("video");return ft=j0,!("srcObject"in(Rt=Et))&&"mozSrcObject"in Rt?Rt.mozSrcObject=ft:Rt.srcObject=ft,Et.className=Me,Et.muted=!0,Et.volume=0,Et.width=j0.width||C0.width||360,Et.height=j0.height||C0.height||240,Et.play(),Et}function gt(j0){Xe=[],(j0=j0||n0).forEach(function(ft){var Rt;ft.getTracks().filter(function(Et){return Et.kind==="video"}).length&&((Rt=Dt(ft)).stream=ft,Xe.push(Rt))})}q0!==void 0?U0.AudioContext=q0:typeof webkitAudioContext<"u"&&(U0.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){st()},this.appendStreams=function(j0){if(!j0)throw"First parameter is required.";(j0=j0 instanceof Array?j0:[j0]).forEach(function(ft){var Rt,Et=new K0;ft.getTracks().filter(function(Nt){return Nt.kind==="video"}).length&&((Rt=Dt(ft)).stream=ft,Xe.push(Rt),Et.addTrack(ft.getTracks().filter(function(Nt){return Nt.kind==="video"})[0])),ft.getTracks().filter(function(Nt){return Nt.kind==="audio"}).length&&(Rt=C0.audioContext.createMediaStreamSource(ft),C0.audioDestination=C0.audioContext.createMediaStreamDestination(),Rt.connect(C0.audioDestination),Et.addTrack(C0.audioDestination.stream.getTracks().filter(function(Nt){return Nt.kind==="audio"})[0])),n0.push(Et)})},this.releaseStreams=function(){Xe=[],c0=!0,C0.gainNode&&(C0.gainNode.disconnect(),C0.gainNode=null),C0.audioSources.length&&(C0.audioSources.forEach(function(j0){j0.disconnect()}),C0.audioSources=[]),C0.audioDestination&&(C0.audioDestination.disconnect(),C0.audioDestination=null),C0.audioContext&&C0.audioContext.close(),C0.audioContext=null,w0.clearRect(0,0,h0.width,h0.height),h0.stream&&(h0.stream.stop(),h0.stream=null)},this.resetVideoStreams=function(j0){gt(j0=!j0||j0 instanceof Array?j0:[j0])},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=function(){c0=!1,gt(),"captureStream"in h0?Rt=h0.captureStream():"mozCaptureStream"in h0?Rt=h0.mozCaptureStream():C0.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features"),j0=new K0,Rt.getTracks().filter(function(Et){return Et.kind==="video"}).forEach(function(Et){j0.addTrack(Et)});var j0,ft=h0.stream=j0,Rt=(function(){U0.AudioContextConstructor||(U0.AudioContextConstructor=new U0.AudioContext),C0.audioContext=U0.AudioContextConstructor,C0.audioSources=[],C0.useGainNode===!0&&(C0.gainNode=C0.audioContext.createGain(),C0.gainNode.connect(C0.audioContext.destination),C0.gainNode.gain.value=0);var Et=0;if(n0.forEach(function(Nt){Nt.getTracks().filter(function(mi){return mi.kind==="audio"}).length&&(Et++,Nt=C0.audioContext.createMediaStreamSource(Nt),C0.useGainNode===!0&&Nt.connect(C0.gainNode),C0.audioSources.push(Nt))}),Et)return C0.audioDestination=C0.audioContext.createMediaStreamDestination(),C0.audioSources.forEach(function(Nt){Nt.connect(C0.audioDestination)}),C0.audioDestination.stream})();return Rt&&Rt.getTracks().filter(function(Et){return Et.kind==="audio"}).forEach(function(Et){ft.addTrack(Et)}),n0.forEach(function(Et){Et.fullcanvas}),ft}}function e0(n0,Me){n0=n0||[];var Xe,c0,h0=this;(Me=Me||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(Me.frameInterval=10),Me.video||(Me.video={}),Me.video.width||(Me.video.width=360),Me.video.height||(Me.video.height=240),this.record=function(){var w0;Xe=new i0(n0,Me.elementClass||"multi-streams-mixer"),w0=[],n0.forEach(function(C0){Ae(C0,"video").forEach(function(q0){w0.push(q0)})}),w0.length&&(Xe.frameInterval=Me.frameInterval||10,Xe.width=Me.video.width||360,Xe.height=Me.video.height||240,Xe.startDrawingFrames()),Me.previewStream&&typeof Me.previewStream=="function"&&Me.previewStream(Xe.getMixedStream()),(c0=new Le(Xe.getMixedStream(),Me)).record()},this.stop=function(w0){c0&&c0.stop(function(C0){h0.blob=C0,w0(C0),h0.clearRecordedData()})},this.pause=function(){c0&&c0.pause()},this.resume=function(){c0&&c0.resume()},this.clearRecordedData=function(){c0&&(c0.clearRecordedData(),c0=null),Xe&&(Xe.releaseStreams(),Xe=null)},this.addStreams=function(w0){if(!w0)throw"First parameter is required.";w0 instanceof Array||(w0=[w0]),n0.concat(w0),c0&&Xe&&(Xe.appendStreams(w0),Me.previewStream)&&typeof Me.previewStream=="function"&&Me.previewStream(Xe.getMixedStream())},this.resetVideoStreams=function(w0){Xe&&(!w0||w0 instanceof Array||(w0=[w0]),Xe.resetVideoStreams(w0))},this.getMixer=function(){return Xe},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function a0(n0,Me){var Xe,c0,h0;function w0(q0,K0){if(!Me.workerPath&&!K0)return Xe=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(U0){U0.arrayBuffer().then(function(st){w0(q0,st)})});!Me.workerPath&&K0 instanceof ArrayBuffer&&(K0=new Blob([K0],{type:"text/javascript"}),Me.workerPath=Pe.createObjectURL(K0)),Me.workerPath||console.error("workerPath parameter is missing."),(c0=new Worker(Me.workerPath)).postMessage(Me.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),c0.addEventListener("message",function(U0){U0.data==="READY"?(c0.postMessage({width:Me.width,height:Me.height,bitrate:Me.bitrate||1200,timebaseDen:Me.frameRate||30,realtime:Me.realtime}),new ReadableStream({start:function(st){var ht=document.createElement("canvas"),Dt=document.createElement("video"),gt=!0;Dt.srcObject=n0,Dt.muted=!0,Dt.height=Me.height,Dt.width=Me.width,Dt.volume=0,Dt.onplaying=function(){ht.width=Me.width,ht.height=Me.height;var j0=ht.getContext("2d"),ft=1e3/Me.frameRate,Rt=setInterval(function(){if(Xe&&(clearInterval(Rt),st.close()),gt&&(gt=!1,Me.onVideoProcessStarted)&&Me.onVideoProcessStarted(),j0.drawImage(Dt,0,0),st._controlledReadableStream.state!=="closed")try{st.enqueue(j0.getImageData(0,0,Me.width,Me.height))}catch{}},ft)},Dt.play()}}).pipeTo(new WritableStream({write:function(st){Xe?console.error("Got image, but recorder is finished!"):c0.postMessage(st.data.buffer,[st.data.buffer])}}))):!U0.data||h0||C0.push(U0.data)})}typeof ReadableStream<"u"&&typeof WritableStream<"u"||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(Me=Me||{}).width=Me.width||640,Me.height=Me.height||480,Me.frameRate=Me.frameRate||30,Me.bitrate=Me.bitrate||1200,Me.realtime=Me.realtime||!0,this.record=function(){h0=!(C0=[]),this.blob=null,w0(n0),typeof Me.initCallback=="function"&&Me.initCallback()},this.pause=function(){h0=!0},this.resume=function(){h0=!1};var C0=[];this.stop=function(q0){Xe=!0;var K0,U0=this;K0=function(){U0.blob=new Blob(C0,{type:"video/webm"}),q0(U0.blob)},c0?(c0.addEventListener("message",function(st){st.data===null&&(c0.terminate(),c0=null,K0())}),c0.postMessage(null)):K0()},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){h0=!(C0=[]),this.blob=null},this.blob=null}R.DiskStorage=Re,R.GifRecorder=Ze,R.MultiStreamRecorder=e0,R.RecordRTCPromisesHandler=function(n0,Me){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(n0===void 0)throw'First argument "MediaStream" is required.';var Xe=this;Xe.recordRTC=new R(n0,Me),this.startRecording=function(){return new Promise(function(c0,h0){try{Xe.recordRTC.startRecording(),c0()}catch(w0){h0(w0)}})},this.stopRecording=function(){return new Promise(function(c0,h0){try{Xe.recordRTC.stopRecording(function(w0){Xe.blob=Xe.recordRTC.getBlob(),Xe.blob&&Xe.blob.size?c0(w0):h0("Empty blob.",Xe.blob)})}catch(w0){h0(w0)}})},this.pauseRecording=function(){return new Promise(function(c0,h0){try{Xe.recordRTC.pauseRecording(),c0()}catch(w0){h0(w0)}})},this.resumeRecording=function(){return new Promise(function(c0,h0){try{Xe.recordRTC.resumeRecording(),c0()}catch(w0){h0(w0)}})},this.getDataURL=function(c0){return new Promise(function(h0,w0){try{Xe.recordRTC.getDataURL(function(C0){h0(C0)})}catch(C0){w0(C0)}})},this.getBlob=function(){return new Promise(function(c0,h0){try{c0(Xe.recordRTC.getBlob())}catch(w0){h0(w0)}})},this.getInternalRecorder=function(){return new Promise(function(c0,h0){try{c0(Xe.recordRTC.getInternalRecorder())}catch(w0){h0(w0)}})},this.reset=function(){return new Promise(function(c0,h0){try{c0(Xe.recordRTC.reset())}catch(w0){h0(w0)}})},this.destroy=function(){return new Promise(function(c0,h0){try{c0(Xe.recordRTC.destroy())}catch(w0){h0(w0)}})},this.getState=function(){return new Promise(function(c0,h0){try{c0(Xe.recordRTC.getState())}catch(w0){h0(w0)}})},this.blob=null,this.version="5.6.2"},R.WebAssemblyRecorder=a0});class Xn{constructor(R){this._buffer=R,this._buffer_index=0,this._total_bytes=R.byteLength,this._total_bits=8*R.byteLength,this._current_word=0,this._current_word_bits_left=0}destroy(){this._buffer=null}_fillCurrentWord(){var R,ie=this._total_bytes-this._buffer_index;ie<=0?console.error("ExpGolomb: _fillCurrentWord() but no bytes available",this._total_bytes,this._buffer_index):(ie=Math.min(4,ie),(R=new Uint8Array(4)).set(this._buffer.subarray(this._buffer_index,this._buffer_index+ie)),this._current_word=new DataView(R.buffer).getUint32(0,!1),this._buffer_index+=ie,this._current_word_bits_left=8*ie)}readBits(R){var ie,ae;return 32<R&&console.error("ExpGolomb: readBits() bits exceeded max 32bits!"),R<=this._current_word_bits_left?(ie=this._current_word>>>32-R,this._current_word<<=R,this._current_word_bits_left-=R,ie):(ie=this._current_word_bits_left?this._current_word:0,ie>>>=32-this._current_word_bits_left,R=R-this._current_word_bits_left,this._fillCurrentWord(),R=Math.min(R,this._current_word_bits_left),ae=this._current_word>>>32-R,this._current_word<<=R,this._current_word_bits_left-=R,ie<<R|ae)}readBool(){return this.readBits(1)===1}readByte(){return this.readBits(8)}_skipLeadingZero(){let R;for(R=0;R<this._current_word_bits_left;R++)if((this._current_word&2147483648>>>R)!=0)return this._current_word<<=R,this._current_word_bits_left-=R,R;return this._fillCurrentWord(),R+this._skipLeadingZero()}readUEG(){var R=this._skipLeadingZero();return this.readBits(R+1)-1}readSEG(){var R=this.readUEG();return 1&R?R+1>>>1:-1*(R>>>1)}}class Vr{static _ebsp2rbsp(R){let ie=R,ae=ie.byteLength,we=new Uint8Array(ae),_e=0;for(let fe=0;fe<ae;fe++)2<=fe&&ie[fe]===3&&ie[fe-1]===0&&ie[fe-2]===0||(we[_e]=ie[fe],_e++);return new Uint8Array(we.buffer,0,_e)}static parseSPS(Oe){let ie=Vr._ebsp2rbsp(Oe),ae=new Xn(ie);ae.readByte();var Oe=ae.readByte(),t0=(ae.readByte(),ae.readByte());ae.readUEG();let we=Vr.getProfileString(Oe),_e=Vr.getLevelString(t0),fe=1,de=420,Se=8;if((Oe===100||Oe===110||Oe===122||Oe===244||Oe===44||Oe===83||Oe===86||Oe===118||Oe===128||Oe===138||Oe===144)&&((fe=ae.readUEG())===3&&ae.readBits(1),fe<=3&&(de=[0,420,422,444][fe]),Se=ae.readUEG()+8,ae.readUEG(),ae.readBits(1),ae.readBool())){var Pe=fe!==3?8:12;for(let Re=0;Re<Pe;Re++)ae.readBool()&&(Re<6?Vr._skipScalingList(ae,16):Vr._skipScalingList(ae,64))}if(ae.readUEG(),t0=ae.readUEG(),t0===0)ae.readUEG();else if(t0===1){ae.readBits(1),ae.readSEG(),ae.readSEG();var xe=ae.readUEG();for(let Re=0;Re<xe;Re++)ae.readSEG()}var Oe=ae.readUEG(),t0=(ae.readBits(1),ae.readUEG()),Fe=ae.readUEG(),ye=ae.readBits(1);ye===0&&ae.readBits(1),ae.readBits(1);let Ne=0,ee=0,se=0,he=0,ce=(ae.readBool()&&(Ne=ae.readUEG(),ee=ae.readUEG(),se=ae.readUEG(),he=ae.readUEG()),1),Ae=1,ke=0,Ee=!0,je=0,Le=0,$e=(ae.readBool()&&(ae.readBool()&&(0<(Ke=ae.readByte())&&Ke<16?(ce=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][Ke-1],Ae=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][Ke-1]):Ke===255&&(ce=ae.readByte()<<8|ae.readByte(),Ae=ae.readByte()<<8|ae.readByte())),ae.readBool()&&ae.readBool(),ae.readBool()&&(ae.readBits(4),ae.readBool())&&ae.readBits(24),ae.readBool()&&(ae.readUEG(),ae.readUEG()),ae.readBool())&&(Ke=ae.readBits(32),Ue=ae.readBits(32),Ee=ae.readBool(),je=Ue,Le=2*Ke,ke=je/Le),1),Ie=(ce===1&&Ae===1||($e=ce/Ae),0),De=0;De=fe===0?(Ie=1,2-ye):(Ie=fe===3?1:2,(fe===1?2:1)*(2-ye));var Ue=16*(t0+1),Ke=16*(Fe+1)*(2-ye),t0=(Ue-=(Ne+ee)*Ie,Ke-=(se+he)*De,Math.ceil(Ue*$e));return ae.destroy(),ae=null,{profile_string:we,level_string:_e,bit_depth:Se,ref_frames:Oe,chroma_format:de,chroma_format_string:Vr.getChromaFormatString(de),frame_rate:{fixed:Ee,fps:ke,fps_den:Le,fps_num:je},sar_ratio:{width:ce,height:Ae},codec_size:{width:Ue,height:Ke},present_size:{width:t0,height:Ke}}}static parseSPS$2(fe){let ie=fe.subarray(1,4),ae="avc1.";for(let n0=0;n0<3;n0++){let Me=ie[n0].toString(16);Me.length<2&&(Me="0"+Me),ae+=Me}let we=Vr._ebsp2rbsp(fe),_e=new Xn(we);_e.readByte();var fe=_e.readByte(),de=(_e.readByte(),_e.readByte());_e.readUEG();let Se=Vr.getProfileString(fe),Pe=Vr.getLevelString(de),xe=1,Oe=420,Fe=8,ye=8;if((fe===100||fe===110||fe===122||fe===244||fe===44||fe===83||fe===86||fe===118||fe===128||fe===138||fe===144)&&((xe=_e.readUEG())===3&&_e.readBits(1),xe<=3&&(Oe=[0,420,422,444][xe]),Fe=_e.readUEG()+8,ye=_e.readUEG()+8,_e.readBits(1),_e.readBool())){var Ne=xe!==3?8:12;for(let n0=0;n0<Ne;n0++)_e.readBool()&&(n0<6?Vr._skipScalingList(_e,16):Vr._skipScalingList(_e,64))}_e.readUEG();var se=_e.readUEG();if(se===0)_e.readUEG();else if(se===1){_e.readBits(1),_e.readSEG(),_e.readSEG();var ee=_e.readUEG();for(let n0=0;n0<ee;n0++)_e.readSEG()}var se=_e.readUEG(),a0=(_e.readBits(1),_e.readUEG()),he=_e.readUEG(),ce=_e.readBits(1);ce===0&&_e.readBits(1),_e.readBits(1);let Ae=0,ke=0,Ee=0,je=0,Le=(_e.readBool()&&(Ae=_e.readUEG(),ke=_e.readUEG(),Ee=_e.readUEG(),je=_e.readUEG()),1),$e=1,Ie=0,De=!0,Ue=0,Ke=0,t0=(_e.readBool()&&(_e.readBool()&&(0<(e0=_e.readByte())&&e0<16?(Le=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][e0-1],$e=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][e0-1]):e0===255&&(Le=_e.readByte()<<8|_e.readByte(),$e=_e.readByte()<<8|_e.readByte())),_e.readBool()&&_e.readBool(),_e.readBool()&&(_e.readBits(4),_e.readBool())&&_e.readBits(24),_e.readBool()&&(_e.readUEG(),_e.readUEG()),_e.readBool())&&(e0=_e.readBits(32),i0=_e.readBits(32),De=_e.readBool(),Ue=i0,Ke=2*e0,Ie=Ue/Ke),1),Re=(Le===1&&$e===1||(t0=Le/$e),0),Ze=0;Ze=xe===0?(Re=1,2-ce):(Re=xe===3?1:2,(xe===1?2:1)*(2-ce));var i0=16*(a0+1),e0=16*(he+1)*(2-ce),a0=(i0-=(Ae+ke)*Re,e0-=(Ee+je)*Ze,Math.ceil(i0*t0));return _e.destroy(),_e=null,{codec_mimetype:ae,profile_idc:fe,level_idc:de,profile_string:Se,level_string:Pe,chroma_format_idc:xe,bit_depth:Fe,bit_depth_luma:Fe,bit_depth_chroma:ye,ref_frames:se,chroma_format:Oe,chroma_format_string:Vr.getChromaFormatString(Oe),frame_rate:{fixed:De,fps:Ie,fps_den:Ke,fps_num:Ue},sar_ratio:{width:Le,height:$e},codec_size:{width:i0,height:e0},present_size:{width:a0,height:e0}}}static _skipScalingList(R,ie){let ae=8,we=8,_e;for(let fe=0;fe<ie;fe++)we!==0&&(_e=R.readSEG(),we=(ae+_e+256)%256),ae=we===0?ae:we}static getProfileString(R){switch(R){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}static getLevelString(R){return(R/10).toFixed(1)}static getChromaFormatString(R){switch(R){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}class X2{constructor(R){this.buffer=R,this.buflen=R.length,this.bufpos=0,this.bufoff=0,this.iserro=!1}read(R){let ie=0,ae;for(;R;){if(R<0||this.bufpos>=this.buflen)return this.iserro=!0,0;this.iserro=!1,ae=8<this.bufoff+R?8-this.bufoff:R,ie=(ie<<=ae)+(this.buffer[this.bufpos]>>8-this.bufoff-ae&255>>8-ae),this.bufoff+=ae,R-=ae,this.bufoff==8&&(this.bufpos++,this.bufoff=0)}return ie}look(we){var ie=this.bufpos,ae=this.bufoff,we=this.read(we);return this.bufpos=ie,this.bufoff=ae,we}read_golomb(){let R;for(R=0;this.read(1)===0&&!this.iserro;R++);return(1<<R)+this.read(R)-1}}function K1(Qe){const R={},ie=new DataView(Qe.buffer);let ae=ie.getUint8(0),we=ie.getUint8(1);if(ie.getUint8(2),ie.getUint8(3),ae!==1||we===0)return{};var _e=1+(3&ie.getUint8(4));if(_e!=3&&_e!=4)return{};var fe=31&ie.getUint8(5);if(fe==0)return{};let de=6;for(let Ne=0;Ne<fe;Ne++){var Se=ie.getUint16(de,!1);if(de+=2,Se!==0){var Pe=new Uint8Array(Qe.buffer,de,Se),Se=(de+=Se,Vr.parseSPS(Pe));if(Ne===0){R.sps=Pe,R.timescale=1e3,R.codecWidth=Se.codec_size.width,R.codecHeight=Se.codec_size.height,R.presentWidth=Se.present_size.width,R.presentHeight=Se.present_size.height,R.profile=Se.profile_string,R.level=Se.level_string,R.bitDepth=Se.bit_depth,R.chromaFormat=Se.chroma_format,R.sarRatio=Se.sar_ratio,R.frameRate=Se.frame_rate,Se.frame_rate.fixed!==!1&&Se.frame_rate.fps_num!==0&&Se.frame_rate.fps_den!==0||(R.frameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3});var Se=R.frameRate.fps_den,xe=R.frameRate.fps_num;R.refSampleDuration=R.timescale*(Se/xe);let he=Pe.subarray(1,4),ce="avc1.";for(let Ae=0;Ae<3;Ae++){let ke=he[Ae].toString(16);ke.length<2&&(ke="0"+ke),ce+=ke}R.codec=ce}}}var Oe=ie.getUint8(de);if(Oe===0)return{};de++;for(let Ne=0;Ne<Oe;Ne++){var Fe,ye=ie.getUint16(de,!1);de+=2,ye!==0&&(Fe=new Uint8Array(Qe.buffer,de,ye),de+=ye,R.pps=Fe)}if(R.videoType="avc",R.sps){const Ne=R.sps.byteLength,ee=new Uint8Array([Ne>>>24&255,Ne>>>16&255,Ne>>>8&255,255&Ne]),se=new Uint8Array(Ne+4);se.set(ee,0),se.set(R.sps,4),R.sps=se}if(R.pps){const Ne=R.pps.byteLength,ee=new Uint8Array([Ne>>>24&255,Ne>>>16&255,Ne>>>8&255,255&Ne]),se=new Uint8Array(Ne+4);se.set(ee,0),se.set(R.pps,4),R.pps=se}return R}function Z2(Se){let{sps:R,pps:ie}=Se,ae=8+R.byteLength+1+2+ie.byteLength,we=!1;var Se=Vr.parseSPS$2(R),_e=(R[3]!==66&&R[3]!==77&&R[3]!==88&&(we=!0,ae+=4),new Uint8Array(ae)),de=(_e[0]=1,_e[1]=R[1],_e[2]=R[2],_e[3]=R[3],_e[4]=255,_e[5]=225,R.byteLength),fe=(_e[6]=de>>>8,_e[7]=255&de,8),de=(_e.set(R,8),_e[fe+=de]=1,ie.byteLength),de=(_e[fe+1]=de>>>8,_e[fe+2]=255&de,_e.set(ie,fe+3),fe+=3+de,we&&(_e[fe]=252|Se.chroma_format_idc,_e[fe+1]=248|Se.bit_depth_luma-8,_e[fe+2]=248|Se.bit_depth_chroma-8,_e[fe+3]=0,fe+=4),[23,0,0,0,0]),Se=new Uint8Array(de.length+_e.byteLength);return Se.set(de,0),Se.set(_e,de.length),Se}function Po(Qe,ae){var ie=[],ae=(ie[0]=ae?23:39,ie[1]=1,ie[2]=0,ie[3]=0,ie[4]=0,new Uint8Array(ie.length+Qe.byteLength));return ae.set(ie,0),ae.set(Qe,ie.length),ae}function Bo(Qe){var ie=Qe.byteLength,R=new Uint8Array(4),ie=(R[0]=ie>>>24&255,R[1]=ie>>>16&255,R[2]=ie>>>8&255,R[3]=255&ie,new Uint8Array(ie+4));return ie.set(R,0),ie.set(Qe,4),ie}function Dn(Qe){return 31&Qe[0]}function el(Qe){return Qe===ei}function Mo(Qe){return(R=Qe)!==Hs&&R!==zn&&!el(Qe);var R}function tl(Qe){return Qe===m2}const Uo=Qe=>{let R=Qe,ie=R.byteLength,ae=new Uint8Array(ie),we=0;for(let _e=0;_e<ie;_e++)2<=_e&&R[_e]===3&&R[_e-1]===0&&R[_e-2]===0||(ae[we]=R[_e],we++);return new Uint8Array(ae.buffer,0,we)},nt=Qe=>{switch(Qe){case 0:return"4:0:0";case 1:return"4:2:0";case 2:return"4:2:2";case 3:return"4:4:4";default:return"Unknown"}};function _s(Qe){var R={width:0,height:0,profile:0,level:0};Qe=Qe.slice(5);do{var ie={};if(Qe.length<23||(ie.configurationVersion=Qe[0],ie.configurationVersion!=1))break;ie.general_profile_space=Qe[1]>>6&3,ie.general_tier_flag=Qe[1]>>5&1,ie.general_profile_idc=31&Qe[1],ie.general_profile_compatibility_flags=Qe[2]<<24|Qe[3]<<16|Qe[4]<<8|Qe[5],ie.general_constraint_indicator_flags=Qe[6]<<24|Qe[7]<<16|Qe[8]<<8|Qe[9],ie.general_constraint_indicator_flags=ie.general_constraint_indicator_flags<<16|Qe[10]<<8|Qe[11],ie.general_level_idc=Qe[12],ie.min_spatial_segmentation_idc=(15&Qe[13])<<8|Qe[14],ie.parallelismType=3&Qe[15],ie.chromaFormat=3&Qe[16],ie.bitDepthLumaMinus8=7&Qe[17],ie.bitDepthChromaMinus8=7&Qe[18],ie.avgFrameRate=Qe[19]<<8|Qe[20],ie.constantFrameRate=Qe[21]>>6&3,ie.numTemporalLayers=Qe[21]>>3&7,ie.temporalIdNested=Qe[21]>>2&1,ie.lengthSizeMinusOne=3&Qe[21];let de=Qe[22],Se=Qe.slice(23);for(let Pe=0;Pe<de&&!(Se.length<3);Pe++){var ae=63&Se[0],we=Se[1]<<8|Se[2];Se=Se.slice(3);for(let xe=0;xe<we&&!(Se.length<2);xe++){var _e,fe=Se[0]<<8|Se[1];if(Se.length<2+fe)break;Se=Se.slice(2),ae==33&&((_e=new Uint8Array(fe)).set(Se.slice(0,fe),0),ie.psps=(function(Oe){var Fe={},ye=Oe.length,Ne=[],ee=new X2(Oe);ee.read(1),ee.read(6),ee.read(6),ee.read(3);for(let ce=2;ce<ye;ce++)ce+2<ye&&ee.look(24)==3?(Ne.push(ee.read(8)),Ne.push(ee.read(8)),ce+=2,ee.read(8)):Ne.push(ee.read(8));Oe=new Uint8Array(Ne),Oe=new X2(Oe);{var se,he;Fe.sps_video_parameter_set_id=Oe.read(4),Fe.sps_max_sub_layers_minus1=Oe.read(3),Fe.sps_temporal_id_nesting_flag=Oe.read(1),Fe.profile_tier_level=(function(ce,Ae){var ke={};ke.profile_space=ce.read(2),ke.tier_flag=ce.read(1),ke.profile_idc=ce.read(5),ke.profile_compatibility_flags=ce.read(32),ke.general_progressive_source_flag=ce.read(1),ke.general_interlaced_source_flag=ce.read(1),ke.general_non_packed_constraint_flag=ce.read(1),ke.general_frame_only_constraint_flag=ce.read(1),ce.read(32),ce.read(12),ke.level_idc=ce.read(8),ke.sub_layer_profile_present_flag=[],ke.sub_layer_level_present_flag=[];for(let Ee=0;Ee<Ae;Ee++)ke.sub_layer_profile_present_flag[Ee]=ce.read(1),ke.sub_layer_level_present_flag[Ee]=ce.read(1);if(0<Ae)for(let Ee=Ae;Ee<8;Ee++)ce.read(2);ke.sub_layer_profile_space=[],ke.sub_layer_tier_flag=[],ke.sub_layer_profile_idc=[],ke.sub_layer_profile_compatibility_flag=[],ke.sub_layer_progressive_source_flag=[],ke.sub_layer_interlaced_source_flag=[],ke.sub_layer_non_packed_constraint_flag=[],ke.sub_layer_frame_only_constraint_flag=[],ke.sub_layer_level_idc=[];for(let Ee=0;Ee<Ae;Ee++)ke.sub_layer_profile_present_flag[Ee]&&(ke.sub_layer_profile_space[Ee]=ce.read(2),ke.sub_layer_tier_flag[Ee]=ce.read(1),ke.sub_layer_profile_idc[Ee]=ce.read(5),ke.sub_layer_profile_compatibility_flag[Ee]=ce.read(32),ke.sub_layer_progressive_source_flag[Ee]=ce.read(1),ke.sub_layer_interlaced_source_flag[Ee]=ce.read(1),ke.sub_layer_non_packed_constraint_flag[Ee]=ce.read(1),ke.sub_layer_frame_only_constraint_flag[Ee]=ce.read(1),ce.read(32),ce.read(12)),ke.sub_layer_level_present_flag[Ee]?ke.sub_layer_level_idc[Ee]=ce.read(8):ke.sub_layer_level_idc[Ee]=1;return ke})(Oe,Fe.sps_max_sub_layers_minus1),Fe.sps_seq_parameter_set_id=Oe.read_golomb(),Fe.chroma_format_idc=Oe.read_golomb(),Fe.separate_colour_plane_flag=Fe.chroma_format_idc==3?Oe.read(1):0,Fe.pic_width_in_luma_samples=Oe.read_golomb(),Fe.pic_height_in_luma_samples=Oe.read_golomb(),Fe.conformance_window_flag=Oe.read(1),Fe.conformance_window_flag?(se=1+(Fe.chroma_format_idc<2),he=1+(Fe.chroma_format_idc<3),Fe.conf_win_left_offset=Oe.read_golomb()*he,Fe.conf_win_right_offset=Oe.read_golomb()*he,Fe.conf_win_top_offset=Oe.read_golomb()*se,Fe.conf_win_bottom_offset=Oe.read_golomb()*se):(Fe.conf_win_left_offset=0,Fe.conf_win_right_offset=0,Fe.conf_win_top_offset=0,Fe.conf_win_bottom_offset=0)}return Fe})(_e),R.profile=ie.general_profile_idc,R.level=ie.general_level_idc/30,R.width=ie.psps.pic_width_in_luma_samples-(ie.psps.conf_win_left_offset+ie.psps.conf_win_right_offset),R.height=ie.psps.pic_height_in_luma_samples-(ie.psps.conf_win_top_offset+ie.psps.conf_win_bottom_offset)),Se=Se.slice(fe)}}}while(!1);return R.codecWidth=R.width||1920,R.codecHeight=R.height||1080,R.presentHeight=R.codecHeight,R.presentWidth=R.codecWidth,R.timescale=1e3,R.refSampleDuration=1e3/23976*1e3,R.videoType=ql,R}function Fo(R){var{vps:R,pps:ie,sps:ae}=R,we={configurationVersion:1},de=(Se=>(Se=Uo(Se),Se=new Xn(Se),Se.readByte(),Se.readByte(),Se.readBits(4),Se.readBits(2),Se.readBits(6),{num_temporal_layers:Se.readBits(3)+1,temporal_id_nested:Se.readBool()}))(R),_e=(se=>{let Pe=Uo(se),xe=new Xn(Pe),Oe=(xe.readByte(),xe.readByte(),0),Fe=0,ye=0,Ne=0;xe.readBits(4);var ee=xe.readBits(3),se=(xe.readBool(),xe.readBits(2)),he=xe.readBool(),ce=xe.readBits(5),Ae=xe.readByte(),ke=xe.readByte(),Ee=xe.readByte(),je=xe.readByte(),Le=xe.readByte(),$e=xe.readByte(),Ie=xe.readByte(),De=xe.readByte(),Ue=xe.readByte(),Ke=xe.readByte(),t0=xe.readByte(),Re=[],Ze=[];for(let Yt=0;Yt<ee;Yt++)Re.push(xe.readBool()),Ze.push(xe.readBool());if(0<ee)for(let Yt=ee;Yt<8;Yt++)xe.readBits(2);for(let Yt=0;Yt<ee;Yt++)Re[Yt]&&(xe.readByte(),xe.readByte(),xe.readByte(),xe.readByte(),xe.readByte(),xe.readByte(),xe.readByte(),xe.readByte(),xe.readByte(),xe.readByte(),xe.readByte()),Re[Yt]&&xe.readByte();xe.readUEG();var i0,e0=xe.readUEG(),a0=(e0==3&&xe.readBits(1),xe.readUEG()),n0=xe.readUEG(),Me=(xe.readBool()&&(Oe+=xe.readUEG(),Fe+=xe.readUEG(),ye+=xe.readUEG(),Ne+=xe.readUEG()),xe.readUEG()),Xe=xe.readUEG(),c0=xe.readUEG();for(let Yt=xe.readBool()?0:ee;Yt<=ee;Yt++)xe.readUEG(),xe.readUEG(),xe.readUEG();if(xe.readUEG(),xe.readUEG(),xe.readUEG(),xe.readUEG(),xe.readUEG(),xe.readUEG(),xe.readBool()&&xe.readBool())for(let Yt=0;Yt<4;Yt++)for(let gi=0;gi<(Yt===3?2:6);gi++)if(xe.readBool()){var h0=Math.min(64,1<<4+(Yt<<1));1<Yt&&xe.readSEG();for(let yi=0;yi<h0;yi++)xe.readSEG()}else xe.readUEG();xe.readBool(),xe.readBool(),xe.readBool()&&(xe.readByte(),xe.readUEG(),xe.readUEG(),xe.readBool());let w0=xe.readUEG(),C0=0;for(let Yt=0;Yt<w0;Yt++){let gi=!1;if(gi=Yt!==0?xe.readBool():gi){Yt===w0&&xe.readUEG(),xe.readBool(),xe.readUEG();let yi=0;for(let Fi=0;Fi<=C0;Fi++){let ii=xe.readBool(),Ft=!1;ii||(Ft=xe.readBool()),(ii||Ft)&&yi++}C0=yi}else{var q0=xe.readUEG(),K0=xe.readUEG();C0=q0+K0;for(let yi=0;yi<q0;yi++)xe.readUEG(),xe.readBool();for(let yi=0;yi<K0;yi++)xe.readUEG(),xe.readBool()}}if(xe.readBool()){var U0=xe.readUEG();for(let Yt=0;Yt<U0;Yt++){for(let gi=0;gi<c0+4;gi++)xe.readBits(1);xe.readBits(1)}}let st=0,ht=1,Dt=1,gt=!1,j0=1,ft=1;if(xe.readBool(),xe.readBool(),xe.readBool()){if(xe.readBool()&&(0<(i0=xe.readByte())&&i0<16?(ht=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][i0-1],Dt=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][i0-1]):i0===255&&(ht=xe.readBits(16),Dt=xe.readBits(16))),xe.readBool()&&xe.readBool(),xe.readBool()&&(xe.readBits(3),xe.readBool(),xe.readBool())&&(xe.readByte(),xe.readByte(),xe.readByte()),xe.readBool()&&(xe.readUEG(),xe.readUEG()),xe.readBool(),xe.readBool(),xe.readBool(),xe.readBool()&&(Oe+=xe.readUEG(),Fe+=xe.readUEG(),ye+=xe.readUEG(),Ne+=xe.readUEG()),xe.readBool()&&(j0=xe.readBits(32),ft=xe.readBits(32),xe.readBool())&&(xe.readUEG(),xe.readBool())){let Yt,gi,yi=!1;Yt=xe.readBool(),gi=xe.readBool(),(Yt||gi)&&((yi=xe.readBool())&&(xe.readByte(),xe.readBits(5),xe.readBool(),xe.readBits(5)),xe.readBits(4),xe.readBits(4),yi&&xe.readBits(4),xe.readBits(5),xe.readBits(5),xe.readBits(5));for(let Fi=0;Fi<=ee;Fi++){var Rt=xe.readBool();gt=Rt;let ii=!1,Ft=!1;if((ii=Rt?ii:xe.readBool())?xe.readSEG():Ft=xe.readBool(),Ft||(cpbcnt=xe.readUEG()+1),Yt)for(let Mi=0;Mi<1;Mi++)xe.readUEG(),xe.readUEG(),yi&&(xe.readUEG(),xe.readUEG());if(gi)for(let Mi=0;Mi<1;Mi++)xe.readUEG(),xe.readUEG(),yi&&(xe.readUEG(),xe.readUEG())}}xe.readBool()&&(xe.readBool(),xe.readBool(),xe.readBool(),st=xe.readUEG(),xe.readUEG(),xe.readUEG(),xe.readUEG(),xe.readUEG())}xe.readBool();let Et=`hvc1.${ce}.1.L${t0}.B0`,Nt=a0,mi=n0,li=1;return ht!==1&&Dt!==1&&(li=ht/Dt),xe.destroy(),xe=null,{codec_mimetype:Et,level_string:(t0/30).toFixed(1),profile_idc:ce,bit_depth:Me+8,ref_frames:1,chroma_format:e0,chroma_format_string:nt(e0),general_level_idc:t0,general_profile_space:se,general_tier_flag:he,general_profile_idc:ce,general_profile_compatibility_flags_1:Ae,general_profile_compatibility_flags_2:ke,general_profile_compatibility_flags_3:Ee,general_profile_compatibility_flags_4:je,general_constraint_indicator_flags_1:Le,general_constraint_indicator_flags_2:$e,general_constraint_indicator_flags_3:Ie,general_constraint_indicator_flags_4:De,general_constraint_indicator_flags_5:Ue,general_constraint_indicator_flags_6:Ke,min_spatial_segmentation_idc:st,constant_frame_rate:0,chroma_format_idc:e0,bit_depth_luma_minus8:Me,bit_depth_chroma_minus8:Xe,frame_rate:{fixed:gt,fps:ft/j0,fps_den:j0,fps_num:ft},sar_ratio:{width:ht,height:Dt},codec_size:{width:Nt,height:mi},present_size:{width:Nt*li,height:mi}}})(ae),fe=(Se=>{Se=Uo(Se),Se=new Xn(Se),Se.readByte(),Se.readByte(),Se.readUEG(),Se.readUEG(),Se.readBool(),Se.readBool(),Se.readBits(3),Se.readBool(),Se.readBool(),Se.readUEG(),Se.readUEG(),Se.readSEG(),Se.readBool(),Se.readBool(),Se.readBool()&&Se.readUEG(),Se.readSEG(),Se.readSEG(),Se.readBool(),Se.readBool(),Se.readBool(),Se.readBool();let Pe=Se.readBool(),xe=Se.readBool(),Oe=1;return xe&&Pe?Oe=0:xe?Oe=3:Pe&&(Oe=2),{parallelismType:Oe}})(ie),we=Object.assign(we,de,_e,fe),de=23+(5+R.byteLength)+(5+ae.byteLength)+(5+ie.byteLength),_e=new Uint8Array(de),fe=(_e[0]=1,_e[1]=(3&we.general_profile_space)<<6|(we.general_tier_flag?1:0)<<5|31&we.general_profile_idc,_e[2]=we.general_profile_compatibility_flags_1||0,_e[3]=we.general_profile_compatibility_flags_2||0,_e[4]=we.general_profile_compatibility_flags_3||0,_e[5]=we.general_profile_compatibility_flags_4||0,_e[6]=we.general_constraint_indicator_flags_1||0,_e[7]=we.general_constraint_indicator_flags_2||0,_e[8]=we.general_constraint_indicator_flags_3||0,_e[9]=we.general_constraint_indicator_flags_4||0,_e[10]=we.general_constraint_indicator_flags_5||0,_e[11]=we.general_constraint_indicator_flags_6||0,_e[12]=60,_e[13]=240|(3840&we.min_spatial_segmentation_idc)>>8,_e[14]=255&we.min_spatial_segmentation_idc,_e[15]=252|3&we.parallelismType,_e[16]=252|3&we.chroma_format_idc,_e[17]=248|7&we.bit_depth_luma_minus8,_e[18]=248|7&we.bit_depth_chroma_minus8,_e[19]=0,_e[20]=0,_e[21]=(3&we.constant_frame_rate)<<6|(7&we.num_temporal_layers)<<3|(we.temporal_id_nested?1:0)<<2|3,_e[22]=3,_e[23]=128|_1,_e[24]=0,_e[25]=1,_e[26]=(65280&R.byteLength)>>8,_e[27]=(255&R.byteLength)>>0,_e.set(R,28),_e[23+(5+R.byteLength)+0]=128|Gn,_e[23+(5+R.byteLength)+1]=0,_e[23+(5+R.byteLength)+2]=1,_e[23+(5+R.byteLength)+3]=(65280&ae.byteLength)>>8,_e[23+(5+R.byteLength)+4]=(255&ae.byteLength)>>0,_e.set(ae,23+(5+R.byteLength)+5),_e[23+(5+R.byteLength+5+ae.byteLength)+0]=128|wn,_e[23+(5+R.byteLength+5+ae.byteLength)+1]=0,_e[23+(5+R.byteLength+5+ae.byteLength)+2]=1,_e[23+(5+R.byteLength+5+ae.byteLength)+3]=(65280&ie.byteLength)>>8,_e[23+(5+R.byteLength+5+ae.byteLength)+4]=(255&ie.byteLength)>>0,_e.set(ie,23+(5+R.byteLength+5+ae.byteLength)+5),[28,0,0,0,0]),de=new Uint8Array(fe.length+_e.byteLength);return de.set(fe,0),de.set(_e,fe.length),de}function jt(Qe,ae){var ie=[],ae=(ie[0]=ae?28:44,ie[1]=1,ie[2]=0,ie[3]=0,ie[4]=0,new Uint8Array(ie.length+Qe.byteLength));return ae.set(ie,0),ae.set(Qe,ie.length),ae}function pr(Qe){return(126&Qe[0])>>1}function Zn(Qe){return!(32<=Qe&&Qe<=40)}class Rn extends me{constructor(R){super(),this.player=R,this.fileName="",this._isRecording=!1,this._recordingTimestamp=0,this.recordingInterval=null,this.sps=null,this.pps=null,this.vps=null,this.codecId=null,this.mdatBytesLength=0,this.metaInfo={codecWidth:0,codecHeight:0,presentWidth:0,presentHeight:0,refSampleDuration:0,timescale:1e3,avcc:null,videoType:""}}destroy(){this._reset()}get isH264(){return this.codecId===7}get isH265(){return this.codecId===12}setFileName(R){this.fileName=R}get isRecording(){return this._isRecording}get recording(){return this._isRecording}get recordTime(){return this._recordingTimestamp}startRecord(){}handleAddNaluTrack(R,ie,ae,we){}handleAddTrack(R){}stopRecordAndSave(){}startRecordingInterval(){}stopRecordingInterval(){this.recordingInterval&&clearInterval(this.recordingInterval),this.recordingInterval=null}getToTalByteLength(){}_reset(){this.fileName="",this._isRecording=!1,this._recordingTimestamp=0,this.stopRecordingInterval(),this.sps=null,this.pps=null,this.vps=null,this.codecId=null,this.mdatBytesLength=0}initMetaData(R,ie){let ae;var we=R.slice(5);if(this.codecId=ie,this.metaInfo.avcc=we,ie===7)ae=K1(we);else if(ie===12){ae=(function(xe){var Ne=23,de=xe[23];if((63&de)!==_1)return console.warn("parseHEVCDecoderVPSAndSPSAndPPS and vpsTag is "+de),{};Ne+=2,++Ne;var de=xe[27]|xe[26]<<8,Se=(Ne+=2,xe.slice(28,28+de)),ye=xe[Ne+=de];if((63&ye)!==Gn)return console.warn("parseHEVCDecoderVPSAndSPSAndPPS and sps tag is "+ye),{};Ne+=2;var ye=xe[1+ ++Ne]|xe[Ne]<<8,ee=xe.slice(Ne+=2,Ne+ye),Pe=xe[Ne+=ye];if((63&Pe)!==wn)return console.warn("parseHEVCDecoderVPSAndSPSAndPPS and pps tag is "+Pe),{};Ne+=2;var Pe=xe[1+ ++Ne]|xe[Ne]<<8,xe=xe.slice(Ne+=2,Ne+Pe),Ne=new Uint8Array([ye>>>24&255,ye>>>16&255,ye>>>8&255,255&ye]),Oe=new Uint8Array([Pe>>>24&255,Pe>>>16&255,Pe>>>8&255,255&Pe]),Fe=new Uint8Array([de>>>24&255,de>>>16&255,de>>>8&255,255&de]),ye=new Uint8Array(4+ye),Ne=(ye.set(Ne,0),ye.set(ee,4),new Uint8Array(4+Pe)),ee=(Ne.set(Oe,0),Ne.set(xe,4),new Uint8Array(4+de));return ee.set(Fe,0),ee.set(Se,4),{sps:ye,pps:Ne,vps:ee}})(we);const _e=_s(R);ae=Object.assign(ae,_e)}ae&&(ae.vps&&(this.vps=ae.vps),ae.pps&&(this.pps=ae.pps),ae.sps&&(this.sps=ae.sps),ae.presentWidth&&(this.metaInfo.presentWidth=ae.presentWidth),ae.presentHeight&&(this.metaInfo.presentHeight=ae.presentHeight),ae.codecWidth&&(this.metaInfo.codecWidth=ae.codecWidth),ae.codecHeight&&(this.metaInfo.codecHeight=ae.codecHeight),ae.timescale&&(this.metaInfo.timescale=ae.timescale),ae.refSampleDuration&&(this.metaInfo.refSampleDuration=ae.refSampleDuration),ae.videoType)&&(this.metaInfo.videoType=ae.videoType)}}class fi extends Rn{constructor(R){super(R),this.totalByteLength=0,this._startRecordingTimestamp=null,R.debug.log("RecorderRTC","init")}_reset(){super._reset(),this.totalByteLength=0,this._startRecordingTimestamp=null,this.recorder&&(this.recorder.destroy(),this.recorder=null)}destroy(){super.destroy(),this._reset(),this.player.debug.log("RecorderRTC","destroy")}getSeekableBlob(R){const ie=new EBML.Reader,ae=new EBML.Decoder,we=EBML.tools,_e=new FileReader;return new Promise((fe,de)=>{_e.onload=function(Se){ae.decode(this.result).forEach(function(Oe){ie.read(Oe)}),ie.stop();var xe=we.makeMetadataSeekable(ie.metadatas,ie.duration,ie.cues),Pe=this.result.slice(ie.metadataSize),xe=new Blob([xe,Pe],{type:"video/webm"});fe(xe)},_e.readAsArrayBuffer(R)})}startRecord(){const R=this.player.debug,ie={type:"video",mimeType:"video/webm;codecs=h264",timeSlice:1e3,onTimeStamp:ae=>{R.log("RecorderRTC","record timestamp :"+ae),this._startRecordingTimestamp===null&&(this._startRecordingTimestamp=ae),this._recordingTimestamp=(ae-this._startRecordingTimestamp)/1e3},ondataavailable:ae=>{this.totalByteLength+=ae.size,R.log("RecorderRTC","ondataavailable",ae.size)},disableLogs:!this.player._opt.debug};try{let ae=null;if(this.player.getRenderType()===W0?ae=this.player.video.$videoElement.captureStream(25):this.player.video.mediaStream?ae=this.player.video.mediaStream:this.player.isOldHls()||this.player._opt.useMSE||this.player._opt.useWCS?ae=this.player.video.$videoElement.captureStream(25):this.player._opt.isWebrtc&&(ae=this.player.webrtc.videoStream),ae){if(this.player.audio&&this.player.audio.mediaStreamAudioDestinationNode&&this.player.audio.mediaStreamAudioDestinationNode.stream&&!this.player.audio.isStateSuspended()&&this.player.audio.hasAudio&&this.player._opt.hasAudio){const we=this.player.audio.mediaStreamAudioDestinationNode.stream;if(0<we.getAudioTracks().length){const _e=we.getAudioTracks()[0];_e&&_e.enabled&&ae.addTrack(_e)}}this.recorder=ou(ae,ie)}else R.error("RecorderRTC","startRecord error and can not create stream"),this.emit(d0.recordCreateError)}catch(ae){R.error("RecorderRTC","startRecord error",ae),this.emit(d0.recordCreateError)}this.recorder&&(this._isRecording=!0,this.player.emit(d0.recording,!0),this.recorder.startRecording(),R.log("RecorderRTC","start recording"),this.player.emit(d0.recordStart),this.startRecordingInterval())}startRecordingInterval(){this.stopRecordingInterval(),this.recordingInterval=window.setInterval(()=>{this.player.emit(d0.recordingTimestamp,this._recordingTimestamp)},1e3)}stopRecordAndSave(){let R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:Ni,ie=1<arguments.length?arguments[1]:void 0;return new Promise((ae,we)=>{this.recorder&&this._isRecording||we("recorder is not ready"),ie&&this.setFileName(ie),this.recorder.stopRecording(()=>{this.player.debug.log("RecorderRTC","stop recording");var _e=(this.fileName||_i())+"."+it;if(this.recorder.getBlob(),R==="blob"){const fe=this.recorder.getBlob();ae(fe),this.player.emit(d0.recordBlob,fe)}else ae(),this.recorder.save(_e);this.player.emit(d0.recordEnd),this._reset(),this.player.emit(d0.recording,!1)})})}getToTalByteLength(){return this.totalByteLength}getTotalDuration(){return this.recordTime}getType(){return it}initMetaData(){}}class yt{static init(){for(var R in yt.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[],free:[],edts:[],elst:[],stss:[]},yt.types)yt.types.hasOwnProperty(R)&&(yt.types[R]=[R.charCodeAt(0),R.charCodeAt(1),R.charCodeAt(2),R.charCodeAt(3)]);var ie=yt.constants={};ie.FTYP=new Uint8Array([105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,97,118,99,49,109,112,52,49,0,0,0,0]),ie.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),ie.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),ie.STSC=ie.STCO=ie.STTS,ie.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ie.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ie.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ie.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ie.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),ie.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}static box(R){let ie=8,ae=null,we=Array.prototype.slice.call(arguments,1),_e=we.length;for(let de=0;de<_e;de++)ie+=we[de].byteLength;(ae=new Uint8Array(ie))[0]=ie>>>24&255,ae[1]=ie>>>16&255,ae[2]=ie>>>8&255,ae[3]=255&ie,ae.set(R,4);let fe=8;for(let de=0;de<_e;de++)ae.set(we[de],fe),fe+=we[de].byteLength;return ae}static generateInitSegment(R,ie,ae){let we=yt.box(yt.types.ftyp,yt.constants.FTYP),_e=yt.box(yt.types.free),fe=8,de=new Uint8Array;ae+fe>=Math.pow(2,32)-1?(fe=16,(de=new Uint8Array(ae+fe)).set(new Uint8Array([0,0,0,1]),0),de.set(yt.types.mdat,4),de.set(new Uint8Array([ae+8>>>56&255,ae+8>>>48&255,ae+8>>>40&255,ae+8>>>32&255,ae+8>>>24&255,ae+8>>>16&255,ae+8>>>8&255,ae+8&255]),8)):((de=new Uint8Array(ae+fe))[0]=ae+8>>>24&255,de[1]=ae+8>>>16&255,de[2]=ae+8>>>8&255,de[3]=ae+8&255,de.set(yt.types.mdat,4));for(let xe=0;xe<ie.length;xe++){var Se=ie[xe];Se.duration=Se.refSampleDuration*Se.sequenceNumber;for(let Oe=0;Oe<Se.sequenceNumber;Oe++){var Pe=Se.samples[Oe],Pe=(Pe.chunkOffset=we.byteLength+_e.byteLength+fe,Pe.data);de.set(Pe,fe),fe+=Pe.byteLength}}return ae=yt.moov(R,ie),R=new Uint8Array(we.byteLength+ae.byteLength+de.byteLength+_e.byteLength),R.set(we,0),R.set(_e,we.byteLength),R.set(de,we.byteLength+_e.byteLength),R.set(ae,we.byteLength+de.byteLength+_e.byteLength),R}static moov(R,ie){let ae=R.timescale,we=R.duration,_e=ie.length,fe=yt.mvhd(ae,we),de=new Uint8Array;for(let xe=0;xe<_e;xe++){var Se=yt.trak(ie[xe]),Pe=new Uint8Array(Se.byteLength+de.byteLength);Pe.set(de,0),Pe.set(Se,de.byteLength),(de=new Uint8Array(Pe.byteLength)).set(Pe,0)}return yt.box(yt.types.moov,fe,de)}static mvhd(R,ie){return yt.box(yt.types.mvhd,new Uint8Array([0,0,0,0,206,186,253,168,206,186,253,168,R>>>24&255,R>>>16&255,R>>>8&255,255&R,ie>>>24&255,ie>>>16&255,ie>>>8&255,255&ie,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3]))}static trak(R){return yt.box(yt.types.trak,yt.tkhd(R),yt.mdia(R))}static tkhd(_e){var ie=_e.id,ae=_e.duration,we=_e.presentWidth,_e=_e.presentHeight;return yt.box(yt.types.tkhd,new Uint8Array([0,0,0,15,206,186,253,168,206,186,253,168,ie>>>24&255,ie>>>16&255,ie>>>8&255,255&ie,0,0,0,0,ae>>>24&255,ae>>>16&255,ae>>>8&255,255&ae,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,we>>>8&255,255&we,0,0,_e>>>8&255,255&_e,0,0]))}static edts(R,ie){return yt.box(yt.types.edts,yt.elst(R,ie))}static elst(R,ie){let ae=0;for(let _e=0;_e<ie;_e++)R[_e].type==="video"&&(ae+=R[_e].duration);var we=R[ie].duration;return ae===0&&(ae=R[ie].refSampleDuration),yt.box(yt.types.elst,new Uint8Array([0,0,0,0,0,0,0,2,ae>>>24&255,ae>>>16&255,ae>>>8&255,255&ae,255,255,255,255,0,1,0,0,we>>>24&255,we>>>16&255,we>>>8&255,255&we,0,0,0,0,0,1,0,0]))}static mdia(R){return yt.box(yt.types.mdia,yt.mdhd(R),yt.hdlr(R),yt.minf(R))}static mdhd(ae){var ie=ae.timescale/ae.refSampleDuration,ae=ie*ae.duration/ae.timescale;return yt.box(yt.types.mdhd,new Uint8Array([0,0,0,0,206,186,253,168,206,186,253,168,ie>>>24&255,ie>>>16&255,ie>>>8&255,255&ie,ae>>>24&255,ae>>>16&255,ae>>>8&255,255&ae,85,196,0,0]))}static hdlr(R){var ie=yt.constants.HDLR_VIDEO;return yt.box(yt.types.hdlr,ie)}static minf(R){var ie=yt.box(yt.types.vmhd,yt.constants.VMHD);return yt.box(yt.types.minf,ie,yt.dinf(),yt.stbl(R))}static dinf(){return yt.box(yt.types.dinf,yt.box(yt.types.dref,yt.constants.DREF))}static stbl(R){var ie=R.samples,ae=[{No:1,num:0,sampleDelte:1,chunkNo:1,duration:ie[0].duration}],we=[ie[0].duration],_e=ie.length;for(let fe=0;fe<_e;fe++)for(let de=0;de<ae.length;de++)ie[fe].duration===ae[de].duration?ae[de].num++:we.indexOf(ie[fe].duration)<0&&(we.push(ie[fe].duration),ae.push({No:2,num:0,sampleDelte:1,chunkNo:fe+1,duration:ie[fe].duration}));return yt.box(yt.types.stbl,yt.stsd(R),yt.stts(ae),yt.stss(ie),yt.stsc(ae),yt.stsz(ie),yt.stco(ae,ie))}static stts(R){let ie=R.length,ae=new Uint8Array([0,0,0,0,ie>>>24&255,ie>>>16&255,ie>>>8&255,255&ie]),we=ae.byteLength,_e=new Uint8Array(we+8*ie);_e.set(ae,0);for(let fe=0;fe<ie;fe++)_e.set(new Uint8Array([R[fe].num>>>24&255,R[fe].num>>>16&255,R[fe].num>>>8&255,255&R[fe].num,R[fe].sampleDelte>>>24&255,R[fe].sampleDelte>>>16&255,R[fe].sampleDelte>>>8&255,255&R[fe].sampleDelte]),we),we+=8;return yt.box(yt.types.stts,_e)}static stss(R){var ie=[],ae=R.length;for(let Se=0;Se<ae;Se++)R[Se].isKeyframe===!0&&ie.push(Se+1);let we=ie.length,_e=new Uint8Array([0,0,0,0,we>>>24&255,we>>>16&255,we>>>8&255,255&we]),fe=_e.byteLength,de=new Uint8Array(fe+4*we);de.set(_e,0);for(let Se=0;Se<we;Se++)de.set(new Uint8Array([ie[Se]>>>24&255,ie[Se]>>>16&255,ie[Se]>>>8&255,255&ie[Se]]),fe),fe+=4;return yt.box(yt.types.stss,de)}static stsc(R){let ie=R.length,ae=new Uint8Array([0,0,0,0,ie>>>24&255,ie>>>16&255,ie>>>8&255,255&ie]),we=ae.byteLength,_e=new Uint8Array(we+12*ie);_e.set(ae,0);for(let Pe=0;Pe<ie;Pe++){var fe=R[Pe].chunkNo,de=R[Pe].num,Se=R[Pe].sampleDelte;_e.set(new Uint8Array([fe>>>24&255,fe>>>16&255,fe>>>8&255,255&fe,de>>>24&255,de>>>16&255,de>>>8&255,255&de,Se>>>24&255,Se>>>16&255,Se>>>8&255,255&Se]),we),we+=12}return yt.box(yt.types.stsc,_e)}static stsz(R){let ie=R.length,ae=new Uint8Array([0,0,0,0,0,0,0,0,ie>>>24&255,ie>>>16&255,ie>>>8&255,255&ie]),we=ae.byteLength,_e=new Uint8Array(we+4*ie);_e.set(ae,0);for(let de=0;de<ie;de++){var fe=R[de].data.byteLength;_e.set(new Uint8Array([fe>>>24&255,fe>>>16&255,fe>>>8&255,255&fe]),we),we+=4}return yt.box(yt.types.stsz,_e)}static stco(R,ie){return ie=ie[0].chunkOffset,yt.box(yt.types.stco,new Uint8Array([0,0,0,0,0,0,0,1,ie>>>24&255,ie>>>16&255,ie>>>8&255,255&ie]))}static stsd(R){return R.type==="audio"?R.codec==="mp3"?yt.box(yt.types.stsd,yt.constants.STSD_PREFIX,yt.mp3(R)):yt.box(yt.types.stsd,yt.constants.STSD_PREFIX,yt.mp4a(R)):R.videoType==="avc"?yt.box(yt.types.stsd,yt.constants.STSD_PREFIX,yt.avc1(R)):yt.box(yt.types.stsd,yt.constants.STSD_PREFIX,yt.hvc1(R))}static mp3(ie){var ae=ie.channelCount,ie=ie.audioSampleRate,ae=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,ae,0,16,0,0,0,0,ie>>>8&255,255&ie,0,0]);return yt.box(yt.types[".mp3"],ae)}static mp4a(R){var ae=R.channelCount,ie=R.audioSampleRate,ae=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,ae,0,16,0,0,0,0,ie>>>8&255,255&ie,0,0]);return yt.box(yt.types.mp4a,ae,yt.esds(R))}static esds(ie){var ie=ie.config||[],ae=ie.length,ae=new Uint8Array([0,0,0,0,3,23+ae,0,1,0,4,15+ae,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([ae]).concat(ie).concat([6,1,2]));return yt.box(yt.types.esds,ae)}static avc1(ae){var ie=ae.avcc,we=ae.codecWidth,ae=ae.codecHeight,we=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,we>>>8&255,255&we,ae>>>8&255,255&ae,0,72,0,0,0,72,0,0,0,0,0,0,0,1,13,106,101,115,115,105,98,117,99,97,45,112,114,111,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return yt.box(yt.types.avc1,we,yt.box(yt.types.avcC,ie))}static hvc1(ae){var ie=ae.avcc,we=ae.codecWidth,ae=ae.codecHeight,we=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,we>>>8&255,255&we,ae>>>8&255,255&ae,0,72,0,0,0,72,0,0,0,0,0,0,0,1,13,106,101,115,115,105,98,117,99,97,45,112,114,111,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return yt.box(yt.types.hvc1,we,yt.box(yt.types.hvcC,ie))}static mvex(R){return yt.box(yt.types.mvex,yt.trex(R))}static trex(R){return R=R.id,R=new Uint8Array([0,0,0,0,R>>>24&255,R>>>16&255,R>>>8&255,255&R,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]),yt.box(yt.types.trex,R)}static moof(R,ie){return yt.box(yt.types.moof,yt.mfhd(R.sequenceNumber),yt.traf(R,ie))}static mfhd(R){return R=new Uint8Array([0,0,0,0,R>>>24&255,R>>>16&255,R>>>8&255,255&R]),yt.box(yt.types.mfhd,R)}static traf(fe,we){var ae=fe.id,ae=yt.box(yt.types.tfhd,new Uint8Array([0,0,0,0,ae>>>24&255,ae>>>16&255,ae>>>8&255,255&ae])),we=yt.box(yt.types.tfdt,new Uint8Array([0,0,0,0,we>>>24&255,we>>>16&255,we>>>8&255,255&we])),_e=yt.sdtp(fe),fe=yt.trun(fe,_e.byteLength+16+16+8+16+8+8);return yt.box(yt.types.traf,ae,we,fe,_e)}static sdtp(R){var ie=R.samples||[],ae=ie.length,we=new Uint8Array(4+ae);for(let fe=0;fe<ae;fe++){var _e=ie[fe].flags;we[fe+4]=_e.isLeading<<6|_e.dependsOn<<4|_e.isDependedOn<<2|_e.hasRedundancy}return yt.box(yt.types.sdtp,we)}static trun(_e,ie){var ae=_e.samples||[],we=ae.length,_e=12+16*we,fe=new Uint8Array(_e);fe.set([0,0,15,1,we>>>24&255,we>>>16&255,we>>>8&255,255&we,(ie+=8+_e)>>>24&255,ie>>>16&255,ie>>>8&255,255&ie],0);for(let Oe=0;Oe<we;Oe++){var de=ae[Oe].duration,Se=ae[Oe].size,Pe=ae[Oe].flags,xe=ae[Oe].cts;fe.set([de>>>24&255,de>>>16&255,de>>>8&255,255&de,Se>>>24&255,Se>>>16&255,Se>>>8&255,255&Se,Pe.isLeading<<2|Pe.dependsOn,Pe.isDependedOn<<6|Pe.hasRedundancy<<4|Pe.isNonSync,0,0,xe>>>24&255,xe>>>16&255,xe>>>8&255,255&xe],12+16*Oe)}return yt.box(yt.types.trun,fe)}static mdat(R){return yt.box(yt.types.mdat,R)}}yt.init();class Ur extends Rn{constructor(R){super(R),this.tagName="recorderMP4",this.totalDuration=0,this.totalByteLength=0,this.bufferList=[],this.cacheTrack={},this.sequenceNumber=0,R.debug.log(this.tagName,"init")}destroy(){super.destroy(),this._reset(),this.player.debug.log(this.tagName,"destroy")}_reset(){super._reset(),this.totalDuration=0,this.totalByteLength=0,this.sequenceNumber=0,this.cacheTrack={},this.bufferList=[]}startRecord(){var R=this.player.debug;this._isRecording=!0,this.player.emit(d0.recording,!0),R.log(this.tagName,"start recording"),this.player.emit(d0.recordStart),this.startRecordingInterval()}startRecordingInterval(){this.stopRecordingInterval(),this.recordingInterval=window.setInterval(()=>{this.player.emit(d0.recordingTimestamp,this.getTotalDuration())},1e3)}formatFmp4Track(R,ie,ae,we){return{id:1,sequenceNumber:++this.sequenceNumber,size:R.byteLength,dts:ae,cts:we,isKeyframe:ie,data:R,duration:0,flags:{isLeading:0,dependsOn:ie?2:1,isDependedOn:ie?1:0,hasRedundancy:0,isNonSync:ie?0:1}}}handleAddNaluTrack(R,ie,ae,we){this.cacheTrack.id&&ae>=this.cacheTrack.dts?(this.cacheTrack.duration=ae-this.cacheTrack.dts,this.handleAddFmp4Track(this.cacheTrack)):this.cacheTrack={},this.cacheTrack=this.formatFmp4Track(R,ie,ae,we)}handleAddFmp4Track(R){if(this.isRecording)if(this.sps!==null&&this.pps!==null||!this.isH264)if(this.sps!==null&&this.pps!==null&&this.vps!==null||!this.isH265){var ie=Object.assign({},R),ae=(ie.pts=ie.dts+ie.cts,ie.data);if(ie.isKeyframe){if(this.isH264){const _e=new Uint8Array(this.sps.byteLength+this.pps.byteLength);_e.set(this.sps,0),_e.set(this.pps,this.sps.byteLength);var we=new Uint8Array(_e.byteLength+ae.byteLength);we.set(_e,0),we.set(ae,_e.byteLength),ie.data=we}else if(this.isH265){const _e=new Uint8Array(this.sps.byteLength+this.pps.byteLength+this.vps.byteLength);_e.set(this.vps,0),_e.set(this.sps,this.vps.byteLength),_e.set(this.pps,this.vps.byteLength+this.sps.byteLength),we=new Uint8Array(_e.byteLength+ae.byteLength),we.set(_e,0),we.set(ae,_e.byteLength),ie.data=we}}ie.size=ie.data.byteLength,this.totalDuration+=ie.duration,this.totalByteLength+=ie.data.byteLength,ie.duration=0,ie.originalDts=ie.dts,delete ie.id,delete ie.sequenceNumber,this.bufferList.push(ie)}else this.player.debug.error(this.tagName,"handleAddFmp4Track, is h265 and this.sps or this.pps or this.vps is null ");else this.player.debug.error(this.tagName,"handleAddFmp4Track, is h264 and this.sps or this.pps is null ");else this.player.debug.error(this.tagName,"handleAddFmp4Track, isRecording is false ")}getTotalDuration(){return this.totalDuration/1e3}getType(){return f0}getToTalByteLength(){return this.totalByteLength}stopRecordAndSave(){let R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:Ni,ie=1<arguments.length?arguments[1]:void 0;return new Promise((ae,we)=>{if(!this.isRecording)return this.player.debug.error(this.tagName,"stop recording fail, isRecording is false "),we("stop recording fail, isRecording is false ");if(this.bufferList.length===0)return this.player.debug.error(this.tagName,"stop recording fail, this.bufferList.length is 0 "),we("stop recording fail, this.bufferList.length is 0 ");if(ie&&this.setFileName(ie),we={id:1,type:"video",sps:this.sps,pps:this.pps,samples:this.bufferList,sequenceNumber:this.bufferList.length,length:0,addSampleNum:1,duration:0,...this.metaInfo},we=yt.generateInitSegment({timescale:1e3,duration:this.totalDuration},[we],this.totalByteLength),this.player.debug.log(this.tagName,"stop recording"),we=new Blob([we],{type:"application/octet-stream"}),R==="blob")ae(we),this.player.emit(d0.recordBlob,we);else{ae();{ae=(this.fileName||_i())+"."+f0;let _e=window.URL.createObjectURL(we),fe=window.document.createElement("a");fe.download=ae,fe.href=_e,ae=window.document.createEvent("MouseEvents"),ae.initEvent("click",!0,!0),fe.dispatchEvent(ae),setTimeout(()=>{window.URL.revokeObjectURL(_e)},hn()?1e3:0)}}this._reset(),this.player.emit(d0.recording,!1)})}}class fn{constructor(R){return new(fn.getLoaderFactory(R._opt))(R)}static getLoaderFactory(R){return R.recordType===f0&&(R.useWasm||R.useMSE||R.useWCS)?Ur:fi}}class cs{constructor(R){this.player=R,this.destroyResolve=null;let ie=R._opt.decoder;if((ie=xi(this.player._opt.useWasm)?R._opt.decoderAudio:ie).indexOf("http")===0&&this.player._opt.isDecoderUseCDN){const ae=new Blob([`importScripts("${ie}")`],{type:"application/javascript"});ie=window.URL.createObjectURL(ae)}this.decoderWorker=new Worker(ie),this._initDecoderWorker(),R.debug.log("decoderWorker","init"),R.on(d0.visibilityChange,()=>{this.updateWorkConfig({key:"visibility",value:R.visibility})})}destroy(){return new Promise((R,ie)=>{this.player.loaded?(this.player.debug.log("decoderWorker","has loaded and post message to destroy"),this.decoderWorker?(this.decoderWorker.postMessage({cmd:"close"}),this.destroyResolve=R):(this.player.debug.warn("decoderWorker","has loaded but decoderWorker is null and destroy directly"),this._destroy(),setTimeout(()=>{R()},0))):(this.player.debug.log("decoderWorker","has not loaded and destroy directly"),this._destroy(),setTimeout(()=>{R()},0))})}_destroy(){this.decoderWorker&&(this.decoderWorker.terminate(),this.decoderWorker=null),this.player.debug.log("decoderWorker","destroy"),this.destroyResolve&&(this.destroyResolve(),this.destroyResolve=null)}_initDecoderWorker(){const{debug:R}=this.player;this.decoderWorker.onmessage=ie=>{var ae=ie.data;switch(ae.cmd){case u0:R.log("decoderWorker","onmessage:",u0),this.decoderWorker&&this._initWork(),this.player.loaded||this.player.emit(d0.load),this.player.emit(d0.decoderWorkerInit);break;case s0:R.log("decoderWorker","onmessage:",s0,ae.code),this.player._times.decodeStart||(this.player._times.decodeStart=_i()),this.player.video.updateVideoInfo({encTypeCode:ae.code});break;case Q0:R.log("decoderWorker","onmessage:",Q0,ae.codecId),this.player.recorder&&this.player.recorder.initMetaData(ae.buffer,ae.codecId);break;case tr:R.log("decoderWorker","onmessage:",tr,ae.code),this.player.audio&&this.player.audio.updateAudioInfo({encTypeCode:ae.code});break;case Ti:R.log("decoderWorker","onmessage:",Ti,`width:${ae.w},height:`+ae.h),this.player.video.updateVideoInfo({width:ae.w,height:ae.h}),this.player._opt.openWebglAlignment||ae.w/2%4==0||this.player.getRenderType()!==W0?(this.player.video.initCanvasViewSize(),this.player._opt.playType===We&&(this.player.video.initFps(),this.player.video.initVideoDelay())):this.player.emit(L0.webglAlignmentError);break;case Mt:R.log("decoderWorker","onmessage:",Mt,`channels:${ae.channels},sampleRate:`+ae.sampleRate),2<ae.channels?this.player.emitError(L0.audioChannelError,`audio channel is ${ae.channels}, max is 2`):this.player.audio&&(this.player.audio.updateAudioInfo(ae),this.player._opt.playType===be?this.player.audio.initScriptNode():this.player._opt.playType===We&&this.player.audio.initScriptNodeDelay());break;case"render":if(this.player.video)if(this.player._opt.playType===be){if(xi(this.player.video.getHasInit()))return void R.warn("decoderWorker","onmessage render but video has not init");this.player.video.render(ae),this.player.handleRender(),this.player.emit(d0.timeUpdate,ae.ts),this.player.updateStats({dfps:!0,buf:ae.delay}),this.player._times.videoStart||(this.player._times.videoStart=_i(),this.player.handlePlayToRenderTimes())}else this.player._opt.playType===We&&(this.player.updateStats({dfps:!0}),xi(this.player.playbackPause)?(this.player.playback.isUseLocalCalculateTime&&this.player.playback.increaseLocalTimestamp(),this.player.playback.isUseFpsRender?this.player.video.pushData(ae):this.player.video.render$2(ae)):!this.player.playback.isPlaybackPauseClearCache&&this.player.playback.isCacheBeforeDecodeForFpsRender&&this.player.playback.isUseFpsRender&&this.player.video.pushData(ae));else R.warn("decoderWorker","onmessage render but video is null");break;case"videoNalu":this.player.recorder&&this.player.recorder.isRecording&&this.player._opt.recordType===f0&&this.player.recorder.handleAddNaluTrack(ae.buffer,ae.isIFrame,ae.ts,ae.cts);break;case"playAudio":this.player.audio?(this.player.playing&&this.player.audio||!this.player.video)&&(this.player._opt.hasVideo||this.player.handleRender(),this.player._opt.playType===be||this.player._opt.playType===We&&(xi(this.player.playbackPause)||!this.player.playback.isPlaybackPauseClearCache&&this.player.playback.isCacheBeforeDecodeForFpsRender&&this.player.playback.isUseFpsRender))&&this.player.audio.play(ae.buffer,ae.ts):R.warn("decoderWorker","onmessage playAudio but audio is null");break;case"workerFetch":if(ae.type===d0.streamSuccess)this.player.stream?this.player.stream.emit(d0.streamSuccess):R.warn("decoderWorker","onmessage and workerFetch response stream success but stream is null");else if(ae.type===d0.streamRate)this.player.emit(d0.kBps,(ae.value/1024).toFixed(2));else if(ae.type===d0.streamEnd)this.player?(ae.value===Je&&this.player.emit(d0.websocketClose),this.player.stream?this.player.stream.emit(d0.streamEnd):R&&R.warn("decoderWorker","onmessage and workerFetch response stream end but player.stream is null")):R&&R.warn("decoderWorker","onmessage and workerFetch response stream end but player is null");else if(ae.type===L0.websocketError)this.player&&this.player.stream?this.player.stream.emit(L0.websocketError,ae.value):R&&R.warn("decoderWorker","onmessage and workerFetch response websocket error but stream is null");else if(ae.type===L0.fetchError)this.player&&this.player.stream?this.player.stream.emit(L0.fetchError,ae.value):R&&R.warn("decoderWorker","onmessage and workerFetch response fetch error but stream is null");else if(ae.type===d0.streamAbps)this.player.updateStats({abps:ae.value});else if(ae.type===d0.streamVbps)this.player._times.demuxStart||(this.player._times.demuxStart=_i()),this.player.updateStats({vbps:ae.value});else if(ae.type===d0.streamDts)this.player.updateStats({dts:ae.value});else if(ae.type===d0.netBuf)this.player.updateStats({netBuf:ae.value});else if(ae.type===d0.networkDelayTimeout)this.player.emit(d0.networkDelayTimeout,ae.value);else if(ae.type===d0.streamStats){const we=JSON.parse(ae.value);this.player.updateStats({workerStats:we})}else ae.type===d0.websocketOpen&&this.player.emit(d0.websocketOpen);break;case"iframeIntervalTs":this.player&&(this.player.videoIframeIntervalTs=ae.value);break;case"playbackStreamVideoFps":this.player&&this.player.video&&this.player.video.setStreamFps(ae.value);break;case"wasmError":ae.message&&ae.message.indexOf("Invalid NAL unit size")!==-1&&this.player.emitError(L0.wasmDecodeError,"");break;case"wasmDecodeVideoNoResponseError":this.player.emitError(L0.wasmDecodeVideoNoResponseError);break;case"simdH264DecodeVideoWidthIsTooLarge":this.player.emitError(L0.simdH264DecodeVideoWidthIsTooLarge);break;case"wasmWidthOrHeightChange":this.player.emitError(L0.wasmWidthOrHeightChange);break;case dt:R.log("decoderWorker","onmessage:",dt),this._destroy();break;default:this.player[ae.cmd]&&this.player[ae.cmd](ae)}}}_initWork(){var R={debug:this.player._opt.debug,debugLevel:this.player._opt.debugLevel,debugUuid:this.player._opt.debugUuid,useOffscreen:this.player._opt.useOffscreen,useWCS:this.player._opt.useWCS,videoBuffer:this.player._opt.videoBuffer,videoBufferDelay:this.player._opt.videoBufferDelay,openWebglAlignment:this.player._opt.openWebglAlignment,playType:this.player._opt.playType,hasAudio:this.player._opt.hasAudio,hasVideo:this.player._opt.hasVideo,playbackRate:1,playbackForwardMaxRateDecodeIFrame:this.player._opt.playbackForwardMaxRateDecodeIFrame,playbackIsCacheBeforeDecodeForFpsRender:this.player._opt.playbackConfig.isCacheBeforeDecodeForFpsRender,sampleRate:this.player.audio&&this.player.audio.audioContext&&this.player.audio.audioContext.sampleRate||0,audioBufferSize:this.player.audio&&this.player.audio.getAudioBufferSize()||1024,networkDelay:this.player._opt.networkDelay,visibility:this.player.visibility,useSIMD:this.player._opt.useSIMD,recordType:this.player._opt.recordType,isNakedFlow:this.player._opt.isNakedFlow,checkFirstIFrame:this.player._opt.checkFirstIFrame,isCrypto:this.player._opt.isCrypto,isHls265:this.player.isUseHls265(),isFmp4Private:this.player._opt.isFmp4Private};this.decoderWorker.postMessage({cmd:"init",opt:JSON.stringify(R)}),this.player._opt.isCrypto&&(this.updateWorkConfig({key:"cryptoKey",value:this.player._opt.cryptoKey}),this.updateWorkConfig({key:"cryptoIV",value:this.player._opt.cryptoIV}))}decodeVideo(R,ie,ae){this.player._opt.playType===be?this.player.isUseHls265()?this._decodeVideoNoDelay(R,ie,ae):this._decodeVideo(R,ie,ae):this.player._opt.playType===We&&(this.player.video.rate>=this.player._opt.playbackForwardMaxRateDecodeIFrame?ae&&(this.player.debug.log("decoderWorker",`current rate is ${this.player.video.rate},only decode i frame`),this._decodeVideoNoDelay(R,ie,ae)):this.player.video.rate===1?this._decodeVideo(R,ie,ae):this._decodeVideoNoDelay(R,ie,ae))}_decodeVideo(R,ie,ae){ie={type:2,ts:Math.max(ie,0),isIFrame:ae},this.decoderWorker.postMessage({cmd:"decode",buffer:R,options:ie},[R.buffer])}_decodeVideoNoDelay(R,ie,ae){this.decoderWorker.postMessage({cmd:"videoDecode",buffer:R,ts:Math.max(ie,0),isIFrame:ae},[R.buffer])}decodeAudio(R,ie){this.player._opt.playType===be?this.player._opt.useWCS||this.player._opt.useMSE||this.player.isUseHls265()?this._decodeAudioNoDelay(R,ie):this._decodeAudio(R,ie):this.player._opt.playType===We&&(this.player.video.rate===1?this._decodeAudio(R,ie):this._decodeAudioNoDelay(R,ie))}_decodeAudio(R,ie){ie={type:1,ts:Math.max(ie,0)},this.decoderWorker.postMessage({cmd:"decode",buffer:R,options:ie},[R.buffer])}_decodeAudioNoDelay(R,ie){this.decoderWorker.postMessage({cmd:"audioDecode",buffer:R,ts:Math.max(ie,0)},[R.buffer])}updateWorkConfig(R){this.decoderWorker&&this.decoderWorker.postMessage({cmd:"updateConfig",key:R.key,value:R.value})}workerFetchStream(R){var ie=this.player._opt,ie={protocol:ie.protocol,isFlv:ie.isFlv,isFmp4:ie.isFmp4,isMpeg4:ie.isMpeg4};this.decoderWorker.postMessage({cmd:"fetchStream",url:R,opt:JSON.stringify(ie)})}clearWorkBuffer(){this.decoderWorker.postMessage({cmd:"clearBuffer",needClear:0<arguments.length&&arguments[0]!==void 0&&arguments[0]})}workerSendMessage(R){this.decoderWorker.postMessage({cmd:"sendWsMessage",message:R})}}class Ps extends me{constructor(R){super(),this.player=R,this.stopId=null,this.firstTimestamp=null,this.startTimestamp=null,this.preDelayTimestamp=null,this.preLoopTimestamp=null,this.bufferStartDts=null,this.bufferStartLocalTs=null,this.preIframeTs=null,this.preTimestamp=null,this.preTimestampDuration=0,this.prevPayloadBufferSize=0,this.isStreamTsMoreThanLocal=!1,this.delay=-1,this.pushLatestDelay=-1,this.bufferList=[],this.dropping=!1,this.isPushDropping=!1,this.initInterval(),this.player.debug.log("CommonDemux","init")}destroy(){this.bufferList=[],this.stopId&&(clearInterval(this.stopId),this.stopId=null),this.firstTimestamp=null,this.startTimestamp=null,this.bufferStartDts=null,this.bufferStartLocalTs=null,this.preDelayTimestamp=null,this.preLoopTimestamp=null,this.preIframeTs=null,this.preTimestamp=null,this.preTimestampDuration=0,this.prevPayloadBufferSize=0,this.isStreamTsMoreThanLocal=!1,this.delay=-1,this.pushLatestDelay=-1,this.dropping=!1,this.isPushDropping=!1,this.off(),this.player.debug.log("CommonDemux","destroy")}isDropping(){return this.dropping||this.isPushDropping}getDelay(R){var ie,ae;return R&&this.player.isDemuxDecodeFirstIIframeInit()?(this.preDelayTimestamp&&this.preDelayTimestamp>R?1e3<this.preDelayTimestamp-R&&this.player.debug.warn("CommonDemux",`getDelay and preDelayTimestamp is ${this.preDelayTimestamp} > timestamp is ${R} more than ${this.preDelayTimestamp-R}ms`):this.firstTimestamp?R&&(ie=Date.now()-this.startTimestamp,(ae=R-this.firstTimestamp)<=ie?(this.isStreamTsMoreThanLocal=!1,this.delay=ie-ae):(this.isStreamTsMoreThanLocal=!0,this.delay=ae-ie)):(this.firstTimestamp=R,this.startTimestamp=Date.now(),this.delay=-1),this.preDelayTimestamp=R,this.delay):-1}getDelayNotUpdateDelay(R){if(R&&this.player.isDemuxDecodeFirstIIframeInit()){if(this.preDelayTimestamp&&1e3<this.preDelayTimestamp-R)this.player.debug.warn("CommonDemux",`getDelayNotUpdateDelay and preDelayTimestamp is ${this.preDelayTimestamp} > timestamp is ${R} more than ${this.preDelayTimestamp-R}ms`);else if(this.firstTimestamp){let ae=-1;var ie;return R&&(ie=Date.now()-this.startTimestamp,R=R-this.firstTimestamp,ae=R<=ie?ie-R:R-ie),ae}}return-1}resetDelay(){this.firstTimestamp=null,this.startTimestamp=null,this.delay=-1,this.dropping=!1}resetAllDelay(){this.resetDelay(),this.preDelayTimestamp=null}initInterval(){this.player.debug.log("CommonDemux","initInterval()"),this.player.isUseHls265()?this.player.debug.log("CommonDemux","initInterval() and is hls and support hls265 so return"):(this._loop(),this.stopId=setInterval(()=>{var R=new Date().getTime(),R=(this.preLoopTimestamp||(this.preLoopTimestamp=R),R-this.preLoopTimestamp);100<R&&this.player.debug.warn("CommonDemux","loop demux diff time is "+R),this._loop(),this.preLoopTimestamp=new Date().getTime()},10))}_loop(){let R;const ie=this.player._opt.videoBuffer,ae=this.player._opt.videoBufferDelay,we=this.player._opt.playType===be;if(this.bufferList.length)if(this.isPushDropping)this.player.debug.warn("CommonDemux","_loop isPushDropping is true and bufferList length is "+this.bufferList.length);else if(this.player._opt.useMSE&&this.player.mseDecoder&&this.player.mseDecoder.getSourceBufferUpdating())this.player.debug.warn("CommonDemux","_loop getSourceBufferUpdating is true and bufferList length is "+this.bufferList.length);else if(this.dropping){R=this.bufferList.shift();const _e=this.getDelayNotUpdateDelay(R.ts);for(this.player.debug.warn("CommonDemux",`_loop is dropping and data.ts is ${R.ts}, data.isIFrame is ${R.isIFrame} tempDelay is ${_e}, delay is `+this.delay);!R.isIFrame&&this.bufferList.length;)R=this.bufferList.shift();R.isIFrame&&_e<=this.getNotDroppingDelayTs()&&(this.player.debug.log("CommonDemux","_loop data isIFrame is true and delay is "+this.delay),this.dropping=!1,this._doDecoderDecode(R))}else R=this.bufferList[0],this.getDelay(R.ts)===-1?(this.bufferList.shift(),this._doDecoderDecode(R)):this.delay>ae+ie&&we?this.hasIframeInBufferList()?(this.player.debug.warn("CommonDemux",`_loop delay is ${this.delay}, set dropping is true`),this.resetAllDelay(),this.dropping=!0):(this.bufferList.shift(),this._doDecoderDecode(R)):this.delay>ie?(this.bufferList.shift(),this._doDecoderDecode(R)):this.delay<0&&this.player.debug.warn("CommonDemux",`_loop delay is ${this.delay} bufferList is `+this.bufferList);else this.delay!==-1&&this.player.debug.log("CommonDemux","loop() bufferList is empty and reset delay"),this.resetAllDelay()}_doDecode(R,ie,ae,we){var _e=this.player,fe={ts:ae,cts:4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,type:ie,isIFrame:!1};ie===2&&_e._opt.playType===be&&this.calcNetworkDelay(ae),_e._opt.useWCS&&!_e._opt.useOffscreen||_e._opt.useMSE?(ie===2&&(fe.isIFrame=we),this.pushBuffer(R,fe)):ie===2?_e.decoderWorker&&_e.decoderWorker.decodeVideo(R,ae,we):ie===1&&_e._opt.hasAudio&&_e.decoderWorker&&_e.decoderWorker.decodeAudio(R,ae)}_doDecodeByHls(R,ie,ae,we){var _e=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,fe=this.player,{webcodecsDecoder:de,mseDecoder:Se}=fe;ie===2?fe._opt.useWCS&&!fe._opt.useOffscreen?de.decodeVideo(R,ae,we,_e):fe._opt.useMSE?Se.decodeVideo(R,ae,we,_e):fe.decoderWorker&&fe.decoderWorker.decodeVideo(R,ae,we):ie===1&&fe._opt.hasAudio&&fe.decoderWorker&&fe.decoderWorker.decodeAudio(R,ae)}_doDecodeByFmp4(R,ie,ae,we){this._doDecode(R,ie,ae,we,4<arguments.length&&arguments[4]!==void 0?arguments[4]:0)}_doDecoderDecode(R){var ie=this.player,{webcodecsDecoder:ae,mseDecoder:we}=ie;R.type===1?ie._opt.hasAudio&&ie.decoderWorker&&ie.decoderWorker.decodeAudio(R.payload,R.ts):R.type===2&&(ie._opt.useWCS&&!ie._opt.useOffscreen?ae.decodeVideo(R.payload,R.ts,R.isIFrame,R.cts):ie._opt.useMSE&&we.decodeVideo(R.payload,R.ts,R.isIFrame,R.cts))}pushBuffer(R,ie){const ae=this.player._opt.videoBuffer,we=this.player._opt.videoBufferDelay,_e=this.player._opt.playType===be;if(ie.type===1&&b2(R))this.player.debug.log("CommonDemux",`pushBuffer audio ts is ${ie.ts}, isAacCodecPacket is `+b2(R)),this._doDecoderDecode({ts:ie.ts,payload:R,type:1});else{if(0<this.preTimestampDuration&&0<this.preTimestamp&&ie.type===2){const de=ie.ts-this.preTimestamp;de>=2*this.preTimestampDuration-5&&this.player.debug.warn("CommonDemux",`pushBuffer video
                ts is ${ie.ts}, preTimestamp is ${this.preTimestamp},
                diff is ${de} and preTimestampDuration is ${this.preTimestampDuration}
                maybe trigger black screen or flower screen`)}if(0<this.preTimestamp&&ie.ts<this.preTimestamp&&ie.type===2&&36e5<this.preTimestamp-ie.ts&&(this.player.debug.warn("CommonDemux",`pushBuffer video
            ts is ${ie.ts}, preTimestamp is ${this.preTimestamp},
            diff is ${this.preTimestamp-ie.ts} more than 3600000
            and resetAllDelay()`),this.resetAllDelay()),ie.ts<=this.preTimestamp&&0<this.preTimestamp&&ie.type===2&&this.player.debug.warn("CommonDemux",`pushBuffer video
            ts is ${ie.ts} less than (or equal) preTimestamp is ${this.preTimestamp} and
            payloadBufferSize is ${R.byteLength} and prevPayloadBufferSize is `+this.prevPayloadBufferSize),_e&&this.player.isDemuxDecodeFirstIIframeInit()){var fe=this.getDelayNotUpdateDelay(ie.ts);this.pushLatestDelay=fe;const de=we+ae;this.player._opt.useMSE?fe>de&&this.delay<de&&0<this.delay&&this.hasIframeInBufferList()&&this.isPushDropping===!1&&this.player.mseDecoder.getSourceBufferUpdating()===!1&&(this.player.debug.warn("CommonDemux",`useMSE, pushLatestDelay is ${fe} > ${we+ae}, bufferList is ${this.bufferList.length}, delay is ${this.delay} and dropBuffer$2()`),this.dropBuffer$2()):fe>de&&this.delay<de&&0<this.delay&&this.hasIframeInBufferList()&&this.isPushDropping===!1&&(this.player.debug.warn("CommonDemux",`useWCS, pushLatestDelay is ${fe} > ${we+ae},bufferList is ${this.bufferList.length}, delay is ${this.delay} and dropBuffer$2()`),this.dropBuffer$2())}ie.type===2&&(0<this.preTimestamp&&(this.preTimestampDuration=ie.ts-this.preTimestamp),this.prevPayloadBufferSize=R.byteLength,this.preTimestamp=ie.ts),ie.type===1?this.bufferList.push({ts:ie.ts,payload:R,type:1}):ie.type===2&&this.bufferList.push({ts:ie.ts,cts:ie.cts,payload:R,type:2,isIFrame:ie.isIFrame})}}dropBuffer$2(){if(0<this.bufferList.length){this.isPushDropping=!0;let we=this.bufferList.findIndex(_e=>br(_e.isIFrame)&&_e.type===2);if(this.isAllIframeInBufferList())for(let _e=0;_e<this.bufferList.length;_e++){var R=this.bufferList[_e],R=this.getDelayNotUpdateDelay(R.ts);if(R>=this.getNotDroppingDelayTs()){this.player.debug.log("CommonDemux",`dropBuffer$2() isAllIframeInBufferList() is true, and index is ${_e} and tempDelay is ${R} and notDroppingDelayTs is `+this.getNotDroppingDelayTs()),we=_e;break}}var ie,ae;0<=we?(this.bufferList=this.bufferList.slice(we),ie=this.bufferList.shift(),ae=this.getDelayNotUpdateDelay(ie.ts),this._doDecoderDecode(ie),this.isPushDropping=!1,this.player.debug.log("CommonDemux",`dropBuffer$2() iFrameIndex is ${we},and bufferList length is ${this.bufferList.length} and tempDelay is ${ae} ,delay is ${this.delay} `)):this.isPushDropping=!1}this.bufferList.length===0&&(this.isPushDropping=!1)}clearBuffer(){var R=0<arguments.length&&arguments[0]!==void 0&&arguments[0];this.player.debug.log("CommonDemux",`clearBuffer,buffer length is ${this.bufferList.length}, need clear is `+R),R&&(this.bufferList=[]),this.resetAllDelay(),this.dropping=!0}calcNetworkDelay(R){var ie,ae,we;this.player.isDemuxDecodeFirstIIframeInit()&&0<R&&(this.bufferStartDts===null?(this.bufferStartDts=R,this.bufferStartLocalTs=_i()):R<this.bufferStartDts&&(this.player.debug.warn("CommonDemux",`calcNetworkDelay dts is ${R} and bufferStartDts is `+this.bufferStartDts),this.bufferStartDts=R,this.bufferStartLocalTs=_i()),(we=(ie=R-this.bufferStartDts)<(ae=_i()-this.bufferStartLocalTs)?ae-ie:0)>this.player._opt.networkDelay&&this.player._opt.playType===be&&(this.player.debug.warn("CommonDemux",`delay is more than networkDelay and now dts:${R},start dts is ${this.bufferStartDts}, vs start is ${ie},local diff is ${ae} ,delay is ${we}, _opt.networkDelay is `+this.player._opt.networkDelay),this.player.emit(d0.networkDelayTimeout,we)),this.player.updateStats({netBuf:we}))}calcIframeIntervalTimestamp(R){var ie;this.preIframeTs===null?this.preIframeTs=R:this.preIframeTs<R&&(ie=R-this.preIframeTs,this.player&&(this.player.videoIframeIntervalTs=ie),this.preIframeTs=R)}getNotDroppingDelayTs(){return this.player._opt.videoBuffer+this.player._opt.videoBufferDelay/2}getMaxDelayTs(){return this.player._opt.videoBuffer+this.player._opt.videoBufferDelay}getPushLatestDelay(){return this.pushLatestDelay}getVideoBufferLength(){let R=0;return this.bufferList.forEach(ie=>{ie.type===2&&(R+=1)}),R}hasIframeInBufferList(){return this.bufferList.some(R=>R.type===2&&R.isIFrame)}isAllIframeInBufferList(){var R=this.getVideoBufferLength();let ie=0;return this.bufferList.forEach(ae=>{ae.type===2&&ae.isIFrame&&(ie+=1)}),R===ie}getInputByteLength(){return 0}getIsStreamTsMoreThanLocal(){return this.isStreamTsMoreThanLocal}close(){}reset(){}}const hs=Symbol(32),qs=Symbol(16),q1=Symbol(8);class ts{constructor(R){this.g=R,this.consumed=0,R&&(this.need=R.next().value)}setG(R){this.g=R,this.demand(R.next().value,!0)}consume(){this.buffer&&this.consumed&&(this.buffer.copyWithin(0,this.consumed),this.buffer=this.buffer.subarray(0,this.buffer.length-this.consumed),this.consumed=0)}demand(R,ie){return ie&&this.consume(),this.need=R,this.flush()}read(R){return ie=this,_e=function*(){return this.lastReadPromise&&(yield this.lastReadPromise),this.lastReadPromise=new Promise((fe,de)=>{this.reject=de,this.resolve=Se=>{delete this.lastReadPromise,delete this.resolve,delete this.need,fe(Se)},this.demand(R,!0)||(de=this.pull)==null||de.call(this,R)})},new(we=(we=ae=void 0)||Promise)(function(fe,de){function Se(Oe){try{xe(_e.next(Oe))}catch(Fe){de(Fe)}}function Pe(Oe){try{xe(_e.throw(Oe))}catch(Fe){de(Fe)}}function xe(Oe){var Fe;Oe.done?fe(Oe.value):((Fe=Oe.value)instanceof we?Fe:new we(function(ye){ye(Fe)})).then(Se,Pe)}xe((_e=_e.apply(ie,ae||[])).next())});var ie,ae,we,_e}readU32(){return this.read(hs)}readU16(){return this.read(qs)}readU8(){return this.read(q1)}close(){var R;this.g&&this.g.return(),this.buffer&&this.buffer.subarray(0,0),(R=this.reject)!=null&&R.call(this,new Error("EOF")),delete this.lastReadPromise}flush(){if(this.buffer&&this.need){let ie=null;const ae=this.buffer.subarray(this.consumed);let we=0;var R=_e=>ae.length<(we=_e);if(typeof this.need=="number"){if(R(this.need))return;ie=ae.subarray(0,we)}else if(this.need===hs){if(R(4))return;ie=ae[0]<<24|ae[1]<<16|ae[2]<<8|ae[3]}else if(this.need===qs){if(R(2))return;ie=ae[0]<<8|ae[1]}else if(this.need===q1){if(R(1))return;ie=ae[0]}else if("buffer"in this.need){if("byteOffset"in this.need){if(R(this.need.byteLength-this.need.byteOffset))return;new Uint8Array(this.need.buffer,this.need.byteOffset).set(ae.subarray(0,we)),ie=this.need}else if(this.g)return void this.g.throw(new Error("Unsupported type"))}else{if(R(this.need.byteLength))return;new Uint8Array(this.need).set(ae.subarray(0,we)),ie=this.need}return this.consumed+=we,this.g?this.demand(this.g.next(ie).value,!0):this.resolve&&this.resolve(ie),ie}}write(R){if(R instanceof Uint8Array?this.malloc(R.length).set(R):"buffer"in R?this.malloc(R.byteLength).set(new Uint8Array(R.buffer,R.byteOffset,R.byteLength)):this.malloc(R.byteLength).set(new Uint8Array(R)),!this.g&&!this.resolve)return new Promise(ie=>this.pull=ie);this.flush()}writeU32(R){this.malloc(4).set([R>>24&255,R>>16&255,R>>8&255,255&R]),this.flush()}writeU16(R){this.malloc(2).set([R>>8&255,255&R]),this.flush()}writeU8(R){this.malloc(1)[0]=R,this.flush()}malloc(R){if(this.buffer){var ie=this.buffer.length,ae=ie+R;if(ae<=this.buffer.buffer.byteLength-this.buffer.byteOffset)this.buffer=new Uint8Array(this.buffer.buffer,this.buffer.byteOffset,ae);else{const we=new Uint8Array(ae);we.set(this.buffer),this.buffer=we}return this.buffer.subarray(ie,ae)}return this.buffer=new Uint8Array(R),this.buffer}}ts.U32=hs,ts.U16=qs,ts.U8=q1;var Ys,Oo="application/json, text/javascript",No="text/html",il=/^(?:text|application)\/xml/i,ma=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,hi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lu=/^\s*$/,zo={},Go={},rl="",_a={type:"GET",beforeSend:Bs,success:Bs,error:Bs,complete:Bs,context:null,xhr:function(){return new window.XMLHttpRequest},accepts:{json:Oo,xml:"application/xml, text/xml",html:No,text:"text/plain","*":"*/".concat("*")},crossDomain:!1,timeout:0,username:null,password:null,processData:!0,promise:Bs,contentType:"application/x-www-form-urlencoded; charset=UTF-8"};function Bs(){}function Ms(Qe,R){typeof Qe=="object"&&(R=Qe,Qe=void 0);var ie,ae=t1({},R=R||{});for(ie in _a)ae[ie]===void 0&&(ae[ie]=_a[ie]);try{var we={},xe=new Promise(function(ke,Ee){we.resolve=ke,we.reject=Ee});xe.resolve=we.resolve,xe.reject=we.reject,ae.promise=xe}catch{ae.promise={resolve:Bs,reject:Bs}}var _e,fe,de,Se,Pe,xe=hi.exec(window.location.href.toLowerCase())||[],Oe=(ae.url=((Qe||ae.url||window.location.href)+"").replace(/#.*$/,"").replace(/^\/\//,xe[1]+"//"),ae.url),Fe=(ae.crossDomain||(ae.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(ae.url)&&RegExp.$2!==window.location.href),ae.dataType);if(Fe==="jsonp")return/=\?/.test(ae.url)||(xe=(ae.jsonp||"callback")+"=?",ae.url=Ho(ae.url,xe)),de=(_e=ae).jsonpCallback||"jsonp"+Wo(),Se=window.document.createElement("script"),Pe={abort:function(){de in window&&(window[de]=Bs)}},xe=window.document.getElementsByTagName("head")[0]||window.document.documentElement,Se.onerror=function(Ae){Ae=Ae,window.clearTimeout(fe),Pe.abort(),e1(Ae.type,Pe,Ae.type,_e),ye()},window[de]=function(Ae){window.clearTimeout(fe),sl(Ae,Pe,_e),ye()},ol(_e),Se.src=_e.url.replace(/=\?/,"="+de),Se.src=Ho(Se.src,"_="+new Date().getTime()),Se.async=!0,_e.scriptCharset&&(Se.charset=_e.scriptCharset),xe.insertBefore(Se,xe.firstChild),0<_e.timeout&&(fe=window.setTimeout(function(){Pe.abort(),e1("timeout",Pe,"timeout",_e),ye()},_e.timeout)),_e.promise.abort=function(){Pe.abort()},_e.promise.xhr=Pe,_e.promise;function ye(){Se.clearAttributes?Se.clearAttributes():Se.onload=Se.onreadystatechange=Se.onerror=null,Se.parentNode&&Se.parentNode.removeChild(Se),Se=null,delete window[de]}ol(ae);var he=ae.accepts[Fe]||ae.accepts["*"],Ne={};/^([\w-]+:)\/\//.test(ae.url)?RegExp.$1:window.location.protocol;var ee,se=_a.xhr(),he=(ae.crossDomain||Ne["X-Requested-With"]||(Ne["X-Requested-With"]="XMLHttpRequest"),ae.ifModified&&(zo[Oe]&&(Ne["If-Modified-Since"]=zo[Oe]),Go[Oe])&&(Ne["If-None-Match"]=Go[Oe]),he&&(-1<(Ne.Accept=he).indexOf(",")&&(he=he.split(",",2)[0]),se.overrideMimeType)&&se.overrideMimeType(he),!/^(?:GET|HEAD)$/.test(ae.type.toUpperCase())),he=((ae.data&&he&&ae.contentType!==!1||R.contentType)&&(Ne["Content-Type"]=ae.contentType),ae.cache!==!1||he||(ae.url=(R=/([?&])_=[^&]*/).test(Oe)?Oe.replace(R,"$1_="+Wo()):Oe+(/\?/.test(Oe)?"&":"?")+"_="+Wo()),ae.headers=t1(Ne,ae.headers||{}),se.onreadystatechange=function(){if(se.readyState===4){clearTimeout(ee);var Ae,ke=!1;if(200<=se.status&&se.status<300||se.status===304){rl=se.getAllResponseHeaders(),ae.ifModified&&((Ee=al("Last-Modified"))&&(zo[Oe]=Ee),Ee=al("etag"))&&(Go[Oe]=Ee),Fe=Fe||(Ee=se.getResponseHeader("content-type"))&&(Ee===No?"html":Ee===Oo?"json":il.test(Ee)&&"xml")||"text",Ae=se.responseText;try{Fe==="xml"?Ae=se.responseXML:Fe==="json"&&(Ae=lu.test(Ae)?null:JSON.parse(Ae))}catch(je){ke=je}ke?e1(ke,"parseerror",se,ae):sl(Ae,se,ae)}else e1(null,"error",se,ae)}var Ee},!("async"in ae)||ae.async);if(se.open(ae.type,ae.url,he,ae.username,ae.password),ae.xhrFields)for(var ce in ae.xhrFields)se[ce]=ae.xhrFields[ce];for(ce in ae.mimeType&&se.overrideMimeType&&se.overrideMimeType(ae.mimeType),ae.headers)ae.headers[ce]!==void 0&&se.setRequestHeader(ce,ae.headers[ce]+"");return(function(Ae){var ke=Ae.context;if(Ae.beforeSend.call(ke,se,Ae)===!1)return!1})(ae)===!1?(se.abort(),!1):(0<ae.timeout&&(ee=window.setTimeout(function(){se.onreadystatechange=Bs,se.abort(),e1(null,"timeout",se,ae)},ae.timeout)),se.send(ae.data||null),ae.promise.abort=function(){se.abort()},ae.promise)}function sl(Qe,R,ie){var ae=ie.context,we="success";ie.success.call(ae,Qe,we,R),ie.promise.resolve(Qe,we,R),nl(we,R,ie)}function nl(Qe,R,ie){var ae=ie.context;ie.complete.call(ae,R,Qe)}function e1(Qe,R,ie,ae){var we=ae.context;ae.error.call(we,ie,R,Qe),ae.promise.reject(ie,R,Qe),nl(R,ie,ae)}function al(Qe){var R;if(!Ys){for(Ys={};R=ma.exec(rl);)Ys[R[1].toLowerCase()]=R[2];R=Ys[Qe.toLowerCase()]}return R===null?null:R}function Ho(Qe,R){return(Qe+"&"+R).replace(/[&?]{1,2}/,"?")}function ol(Qe){var R,ie;!ll(Qe)||Qe.data instanceof FormData||!Qe.processData||(Qe.data=(R=Qe.data,(ie=[]).add=function(ae,we){this.push(encodeURIComponent(ae)+"="+encodeURIComponent(we))},(function ae(we,_e,fe,de){var Se=(function(Oe){return Object.prototype.toString.call(Oe)==="[object Array]"})(_e);for(var Pe in _e){var xe=_e[Pe];de&&(Pe=de+"["+(Se?"":Pe)+"]"),!de&&Se?we.add(xe.name,xe.value):ll(xe)?ae(we,xe,fe,Pe):we.add(Pe,xe)}})(ie,R,void 0),ie.join("&").replace("%20","+"))),!Qe.data||Qe.type&&Qe.type.toUpperCase()!=="GET"||(Qe.url=Ho(Qe.url,Qe.data))}function t1(Qe){for(var R=Array.prototype.slice.call(arguments,1),ie=0,ae=R.length;ie<ae;ie++){var we,_e=R[ie]||{};for(we in _e)_e.hasOwnProperty(we)&&_e[we]!==void 0&&(Qe[we]=_e[we])}return Qe}function ll(Qe){var R=typeof Qe;return R=="function"||R=="object"&&!!Qe}function Vo(Qe){return typeof Qe=="function"}function Wo(){return new Date().getTime()}function jo(Qe){return parseInt(Qe)===Qe}function ul(Qe){if(jo(Qe.length)){for(var R=0;R<Qe.length;R++)if(!jo(Qe[R])||Qe[R]<0||255<Qe[R])return;return 1}}function is(Qe,R){if(Qe.buffer&&Qe.name==="Uint8Array")return Qe=R?Qe.slice?Qe.slice():Array.prototype.slice.call(Qe):Qe;if(Array.isArray(Qe)){if(ul(Qe))return new Uint8Array(Qe);throw new Error("Array contains invalid value: "+Qe)}if(jo(Qe.length)&&ul(Qe))return new Uint8Array(Qe);throw new Error("unsupported array-like object")}function qr(Qe){return new Uint8Array(Qe)}function ds(Qe,R,ie,ae,we){ae==null&&we==null||(Qe=Qe.slice?Qe.slice(ae,we):Array.prototype.slice.call(Qe,ae,we)),R.set(Qe,ie)}Ms.get=function(Qe,R,ie,ae){return Vo(R)&&(ae=ae||ie,ie=R,R=void 0),Ms({url:Qe,data:R,success:ie,dataType:ae})},Ms.post=function(Qe,R,ie,ae){return Vo(R)&&(ae=ae||ie,ie=R,R=void 0),Ms({type:"POST",url:Qe,data:R,success:ie,dataType:ae})},Ms.getJSON=function(Qe,R,ie){return Vo(R)&&(ie=R,R=void 0),Ms({url:Qe,data:R,success:ie,dataType:"json"})},Ms.ajaxSetup=function(Qe,R){return R?t1(t1(Qe,_a),R):t1(_a,Qe)};var $o,i1={},r1=($o="0123456789abcdef",{toBytes:function(Qe){for(var R=[],ie=0;ie<Qe.length;ie+=2)R.push(parseInt(Qe.substr(ie,2),16));return R},fromBytes:function(Qe){for(var R=[],ie=0;ie<Qe.length;ie++){var ae=Qe[ie];R.push($o[(240&ae)>>4]+$o[15&ae])}return R.join("")}}),uu={16:10,24:12,32:14},cu=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],fs=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Y1=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],hu=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],du=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],fu=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],pu=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],mu=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],gu=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],yu=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],J1=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Au=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],cl=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Ko=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],qo=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function s1(Qe){for(var R=[],ie=0;ie<Qe.length;ie+=4)R.push(Qe[ie]<<24|Qe[ie+1]<<16|Qe[ie+2]<<8|Qe[ie+3]);return R}var ys=function(Qe){if(!(this instanceof ys))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:is(Qe,!0)}),this._prepare()},n1=(ys.prototype._prepare=function(){var Qe=uu[this.key.length];if(Qe==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var R=0;R<=Qe;R++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var ie,ae=4*(Qe+1),we=this.key.length/4,_e=s1(this.key),R=0;R<we;R++)this._Ke[ie=R>>2][R%4]=_e[R],this._Kd[Qe-ie][R%4]=_e[R];for(var fe,de=0,Se=we;Se<ae;){if(fe=_e[we-1],_e[0]^=fs[fe>>16&255]<<24^fs[fe>>8&255]<<16^fs[255&fe]<<8^fs[fe>>24&255]^cu[de]<<24,de+=1,we!=8)for(R=1;R<we;R++)_e[R]^=_e[R-1];else{for(R=1;R<we/2;R++)_e[R]^=_e[R-1];for(fe=_e[we/2-1],_e[we/2]^=fs[255&fe]^fs[fe>>8&255]<<8^fs[fe>>16&255]<<16^fs[fe>>24&255]<<24,R=we/2+1;R<we;R++)_e[R]^=_e[R-1]}for(R=0;R<we&&Se<ae;)this._Ke[Pe=Se>>2][xe=Se%4]=_e[R],this._Kd[Qe-Pe][xe]=_e[R++],Se++}for(var Pe=1;Pe<Qe;Pe++)for(var xe=0;xe<4;xe++)fe=this._Kd[Pe][xe],this._Kd[Pe][xe]=Au[fe>>24&255]^cl[fe>>16&255]^Ko[fe>>8&255]^qo[255&fe]},ys.prototype.encrypt=function(Qe){if(Qe.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var R=this._Ke.length-1,ie=[0,0,0,0],ae=s1(Qe),we=0;we<4;we++)ae[we]^=this._Ke[0][we];for(var _e=1;_e<R;_e++){for(we=0;we<4;we++)ie[we]=hu[ae[we]>>24&255]^du[ae[(we+1)%4]>>16&255]^fu[ae[(we+2)%4]>>8&255]^pu[255&ae[(we+3)%4]]^this._Ke[_e][we];ae=ie.slice()}for(var fe,de=qr(16),we=0;we<4;we++)fe=this._Ke[R][we],de[4*we]=255&(fs[ae[we]>>24&255]^fe>>24),de[4*we+1]=255&(fs[ae[(we+1)%4]>>16&255]^fe>>16),de[4*we+2]=255&(fs[ae[(we+2)%4]>>8&255]^fe>>8),de[4*we+3]=255&(fs[255&ae[(we+3)%4]]^fe);return de},ys.prototype.decrypt=function(Qe){if(Qe.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var R=this._Kd.length-1,ie=[0,0,0,0],ae=s1(Qe),we=0;we<4;we++)ae[we]^=this._Kd[0][we];for(var _e=1;_e<R;_e++){for(we=0;we<4;we++)ie[we]=mu[ae[we]>>24&255]^gu[ae[(we+3)%4]>>16&255]^yu[ae[(we+2)%4]>>8&255]^J1[255&ae[(we+1)%4]]^this._Kd[_e][we];ae=ie.slice()}for(var fe,de=qr(16),we=0;we<4;we++)fe=this._Kd[R][we],de[4*we]=255&(Y1[ae[we]>>24&255]^fe>>24),de[4*we+1]=255&(Y1[ae[(we+3)%4]>>16&255]^fe>>16),de[4*we+2]=255&(Y1[ae[(we+2)%4]>>8&255]^fe>>8),de[4*we+3]=255&(Y1[255&ae[(we+1)%4]]^fe);return de},function(Qe){if(!(this instanceof n1))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new ys(Qe)}),Yo=(n1.prototype.encrypt=function(Qe){if((Qe=is(Qe)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var R=qr(Qe.length),ie=qr(16),ae=0;ae<Qe.length;ae+=16)ds(Qe,ie,0,ae,ae+16),ds(ie=this._aes.encrypt(ie),R,ae);return R},n1.prototype.decrypt=function(Qe){if((Qe=is(Qe)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var R=qr(Qe.length),ie=qr(16),ae=0;ae<Qe.length;ae+=16)ds(Qe,ie,0,ae,ae+16),ds(ie=this._aes.decrypt(ie),R,ae);return R},function(Qe,R){if(!(this instanceof Yo))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",R){if(R.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)")}else R=qr(16);this._lastCipherblock=is(R,!0),this._aes=new ys(Qe)}),Jo=(Yo.prototype.encrypt=function(Qe){if((Qe=is(Qe)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var R=qr(Qe.length),ie=qr(16),ae=0;ae<Qe.length;ae+=16){ds(Qe,ie,0,ae,ae+16);for(var we=0;we<16;we++)ie[we]^=this._lastCipherblock[we];this._lastCipherblock=this._aes.encrypt(ie),ds(this._lastCipherblock,R,ae)}return R},Yo.prototype.decrypt=function(Qe){if((Qe=is(Qe)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var R=qr(Qe.length),ie=qr(16),ae=0;ae<Qe.length;ae+=16){ds(Qe,ie,0,ae,ae+16);for(var ie=this._aes.decrypt(ie),we=0;we<16;we++)R[ae+we]=ie[we]^this._lastCipherblock[we];ds(Qe,this._lastCipherblock,0,ae,ae+16)}return R},function(Qe,R,ie){if(!(this instanceof Jo))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",R){if(R.length!=16)throw new Error("invalid initialation vector size (must be 16 size)")}else R=qr(16);this.segmentSize=ie=ie||1,this._shiftRegister=is(R,!0),this._aes=new ys(Qe)}),Q1=(Jo.prototype.encrypt=function(Qe){if(Qe.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var R=is(Qe,!0),ie=0;ie<R.length;ie+=this.segmentSize){for(var ae=this._aes.encrypt(this._shiftRegister),we=0;we<this.segmentSize;we++)R[ie+we]^=ae[we];ds(this._shiftRegister,this._shiftRegister,0,this.segmentSize),ds(R,this._shiftRegister,16-this.segmentSize,ie,ie+this.segmentSize)}return R},Jo.prototype.decrypt=function(Qe){if(Qe.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var R=is(Qe,!0),ie=0;ie<R.length;ie+=this.segmentSize){for(var ae=this._aes.encrypt(this._shiftRegister),we=0;we<this.segmentSize;we++)R[ie+we]^=ae[we];ds(this._shiftRegister,this._shiftRegister,0,this.segmentSize),ds(Qe,this._shiftRegister,16-this.segmentSize,ie,ie+this.segmentSize)}return R},function(Qe,R){if(!(this instanceof Q1))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",R){if(R.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)")}else R=qr(16);this._lastPrecipher=is(R,!0),this._lastPrecipherIndex=16,this._aes=new ys(Qe)}),pn=(Q1.prototype.encrypt=function(Qe){for(var R=is(Qe,!0),ie=0;ie<R.length;ie++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),R[ie]^=this._lastPrecipher[this._lastPrecipherIndex++];return R},Q1.prototype.decrypt=Q1.prototype.encrypt,function(Qe){if(!(this instanceof pn))throw Error("Counter must be instanitated with `new`");typeof(Qe=Qe!==0?Qe||1:Qe)=="number"?(this._counter=qr(16),this.setValue(Qe)):this.setBytes(Qe)}),a1=(pn.prototype.setValue=function(Qe){if(typeof Qe!="number"||parseInt(Qe)!=Qe)throw new Error("invalid counter value (must be an integer)");if(Qe>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var R=15;0<=R;--R)this._counter[R]=Qe%256,Qe=parseInt(Qe/256)},pn.prototype.setBytes=function(Qe){if((Qe=is(Qe,!0)).length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=Qe},pn.prototype.increment=function(){for(var Qe=15;0<=Qe;Qe--){if(this._counter[Qe]!==255){this._counter[Qe]++;break}this._counter[Qe]=0}},function(Qe,R){if(!(this instanceof a1))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",R instanceof pn||(R=new pn(R)),this._counter=R,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new ys(Qe)});a1.prototype.encrypt=function(Qe){for(var R=is(Qe,!0),ie=0;ie<R.length;ie++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),R[ie]^=this._remainingCounter[this._remainingCounterIndex++];return R},a1.prototype.decrypt=a1.prototype.encrypt;const hl={Counter:pn,ModeOfOperation:{ctr:a1}};class mn extends Ps{constructor(R){super(R),this.input=new ts(this.demux()),R.debug.log("FlvDemux","init")}destroy(){super.destroy(),this.input=null,this.player.debug.log("FlvDemux","destroy")}dispatch(R){this.input?this.input.write(R):this.player&&this.player.debug.warn("FlvDemux","dispatch() this.input is null")}*demux(){yield 9;const R=new ArrayBuffer(4),ie=new Uint8Array(R),ae=new Uint32Array(R),we=this.player;for(;;){if(!this.input)return;ie[3]=0;const Pe=yield 15,xe=Pe[4];ie[0]=Pe[7],ie[1]=Pe[6],ie[2]=Pe[5];var _e=ae[0],fe=(ie[0]=Pe[10],ie[1]=Pe[9],ie[2]=Pe[8],ie[3]=Pe[11],ae[0]),de=(yield _e).slice();if(!we)return;switch(xe){case 8:we._opt.hasAudio&&(we.updateStats({abps:de.byteLength}),0<de.byteLength)&&this._doDecode(de,1,fe);break;case 9:if(we._opt.hasVideo){we.updateStats({vbps:de.byteLength,dts:fe});const Oe=de[0]>>4&15,Fe=Oe==1;if(Oe!=1&&Oe!=2&&we.debug.warn("FlvDemux",`frameType is ${Oe} is not keyFrame or interFrame`),Fe&&this.calcIframeIntervalTimestamp(fe),0<de.byteLength){ae[0]=de[4],ae[1]=de[3],ae[2]=de[2],ae[3]=0;var Se=ae[0];we._times.demuxStart||(we._times.demuxStart=_i());let ye=de;we._opt.isCrypto&&(we._opt.cryptoKey&&0<we._opt.cryptoKey.byteLength&&we._opt.cryptoIV&&0<we._opt.cryptoIV.byteLength?ye=(function(Ne,ee,se){ee=new Uint8Array(ee),se=new Uint8Array(se);const he=Ne.byteLength;let ce=5;for(;ce<he&&(ke=(ke=Ne.slice(ce,ce+4))[3]|ke[2]<<8|ke[1]<<16|ke[0]<<24,!(ke>he));){var Ae=Ne[ce+4];if((Ae&=31)==1||Ae==5){const Ee=Ne.slice(ce+4+2,ce+4+ke);let je=new hl.ModeOfOperation.ctr(ee,new hl.Counter(se));Ae=je.decrypt(Ee),je=null,Ne.set(Ae,ce+4+2)}ce=ce+4+ke}var ke;return Ne})(de,we._opt.cryptoKey,we._opt.cryptoIV):we.debug.error("FlvDemux",`cryptoKey.length is ${we._opt.cryptoKey&&we._opt.cryptoKey.byteLength} or cryptoIV.length is ${we._opt.cryptoIV&&we._opt.cryptoIV.byteLength} null`)),this._doDecode(ye,2,fe,Fe,Se)}}break;default:we.debug.log("FlvDemux","demux() type is "+xe)}}}close(){this.input=null}getInputByteLength(){let R=0;return R=this.input&&this.input.buffer?this.input.buffer.byteLength:R}}class dl extends Ps{constructor(R){super(R),R.debug.log("M7sDemux","init")}destroy(){super.destroy(),this.player.debug.log("M7sDemux","destroy")}dispatch(R){const ie=this.player,ae=new DataView(R),we=ae.getUint8(0),_e=ae.getUint32(1,!1);switch(we){case 1:if(ie._opt.hasAudio){const Se=new Uint8Array(R,5);ie.updateStats({abps:Se.byteLength}),0<Se.byteLength&&this._doDecode(Se,we,_e)}break;case 2:if(ie._opt.hasVideo)if(ie._times.demuxStart||(ie._times.demuxStart=_i()),5<ae.byteLength){var fe=new Uint8Array(R,5),de=ae.getUint8(5)>>4==1;let Se=_e;this.player._opt.useMSE&&Zi(this.player.mseDecoder.firstRenderTime)&&(Se=_e-this.player.mseDecoder.firstRenderTime),ie.updateStats({vbps:fe.byteLength,dts:Se}),0<fe.byteLength&&(de&&this.calcIframeIntervalTimestamp(_e),this._doDecode(fe,we,_e,de))}else this.player.debug.warn("M7sDemux","dispatch","dv byteLength is",ae.byteLength)}}}class Qo extends mn{constructor(R){super(R),R.debug.log("WebTransportDemux","init")}destroy(){this.player.debug.log("WebTransportDemux","destroy"),super.destroy()}}class vu extends Ps{TAG_NAME="NakedFlowDemux";constructor(R){super(R),this.lastBuf=null,this.vps=null,this.sps=null,this.pps=null,this.streamVideoType=null,this.streamAudioType=null,this.tempNaluBufferList=new Uint8Array(0),this.localDts=0,this.isSendSeqHeader=!1,this.isSendAACSeqHeader=!1,R.debug.log(this.TAG_NAME,"init")}destroy(){super.destroy(),this.lastBuf=null,this.vps=null,this.sps=null,this.pps=null,this.streamVideoType=null,this.streamAudioType=null,this.tempNaluBufferList=new Uint8Array(0),this.localDts=0,this.localAudioDts=0,this.isSendSeqHeader=!1,this.isSendAACSeqHeader=!1,this.player.debug.log(this.TAG_NAME,"destroy")}dispatch(R){this.player,R=new Uint8Array(R),this.extractNALu$2(R)}addNaluToBuffer(R){var ie=R.byteLength+this.tempNaluBufferList.byteLength,ie=new Uint8Array(ie);ie.set(this.tempNaluBufferList,0),ie.set(R,this.tempNaluBufferList.byteLength),this.tempNaluBufferList=ie}downloadNakedFlowFile(){var R=new Blob([this.tempNaluBufferList]);try{var ie=document.createElement("a");ie.href=window.URL.createObjectURL(R),ie.download=Date.now()+".h264",ie.click()}catch(ae){console.error("downloadTempNalu",ae)}}getNaluDts(){var R=this.player._opt.nakedFlowFps;return this.localDts=this.localDts+parseInt(1e3/R),this.localDts}getNaluAudioDts(){var R=this.player.audio.audioContext.sampleRate,ie=this.player.audio.audioBufferSize;return this.localDts+parseInt(ie/R*1e3)}extractNALu(R){let ie,ae,we=0,_e=R.byteLength,fe=0,de=[];for(;we<_e;)switch(ie=R[we++],fe){case 0:ie===0&&(fe=1);break;case 1:fe=ie===0?2:0;break;case 2:case 3:fe=ie===0?3:(ie===1&&we<_e&&(R[we],ae&&de.push(R.subarray(ae,we-fe-1)),ae=we),0)}return ae&&de.push(R.subarray(ae,_e)),de}extractNALu$2(R){let ie=null;if(R&&!(R.byteLength<1)){this.lastBuf?((ie=new Uint8Array(R.byteLength+this.lastBuf.length)).set(this.lastBuf),ie.set(new Uint8Array(R),this.lastBuf.length)):ie=new Uint8Array(R);let we=0,_e=-1,fe=-2;var ae=new Array;for(let de=0;de<ie.length;de+=2){const Se=ie[de],Pe=ie[de+1];_e==0&&Se==0&&Pe==0?ae.push(de-1):Pe==1&&Se==0&&_e==0&&fe==0&&ae.push(de-2),fe=Se,_e=Pe}if(1<ae.length)for(let de=0;de<ae.length-1;++de){const Se=ie.subarray(ae[de],ae[de+1]+1);this.handleNALu(Se),we=ae[de+1]}else we=ae[0];if(we!=0&&we<ie.length)this.lastBuf=ie.subarray(we);else{this.lastBuf||(this.lastBuf=ie);const de=new Uint8Array(this.lastBuf.length+R.byteLength);de.set(this.lastBuf),de.set(new Uint8Array(R),this.lastBuf.length),this.lastBuf=de}}}handleNALu(R){R.byteLength<4?this.player.debug.warn(this.TAG_NAME,`handleNALu nalu byteLength is ${R.byteLength} <= 4`):(R=R.slice(4),this.handleVideoNalu(R))}handleVideoNalu(R){const ie=new Uint8Array(R);if(this.streamVideoType||(this.streamVideoType=(function(ae){let we=null,_e=31&ae[0];return we=(we=_e!==Hs&&_e!==zn?we:rr)||(_e=(126&ae[0])>>1)!==_1&&_e!==Gn&&_e!==wn?we:Nr})(ie)),this.streamVideoType===rr){const ae=this.handleAddNaluStartCode(ie),we=this.extractNALu(ae);if(we.length===0)this.player.debug.warn(this.TAG_NAME,"handleVideoNalu","naluList.length === 0");else{const _e=[];if(we.forEach(fe=>{var de=Dn(fe);de===zn||de===Hs?this.handleVideoH264Nalu(fe):Mo(de)&&_e.push(fe)}),_e.length===1)this.handleVideoH264Nalu(_e[0]);else if((function(de){if(de.length===0)return!1;var Se=Dn(de[0]);for(let Pe=1;Pe<de.length;Pe++)if(Se!==Dn(de[Pe]))return!1;return!0})(_e)){const de=Dn(_e[0]),Se=tl(de);this.handleVideoH264NaluList(_e,Se,de)}else _e.forEach(de=>{this.handleVideoH264Nalu(de)})}}else this.streamVideoType===Nr?pr(ie)===wn?this.extractH265PPS(ie):this.handleVideoH265Nalu(ie):this.player.debug.error(this.TAG_NAME," this.streamVideoType is null")}extractH264PPS(R){R=this.handleAddNaluStartCode(R),this.extractNALu(R).forEach(ie=>{el(Dn(ie))?this.extractH264SEI(ie):this.handleVideoH264Nalu(ie)})}extractH265PPS(R){R=this.handleAddNaluStartCode(R),this.extractNALu(R).forEach(ie=>{pr(ie)===39?this.extractH265SEI(ie):this.handleVideoH265Nalu(ie)})}extractH264SEI(R){R=this.handleAddNaluStartCode(R),this.extractNALu(R).forEach(ie=>{this.handleVideoH264Nalu(ie)})}extractH265SEI(R){R=this.handleAddNaluStartCode(R),this.extractNALu(R).forEach(ie=>{this.handleVideoH265Nalu(ie)})}handleAddNaluStartCode(R){var ie=[0,0,0,1],ae=new Uint8Array(R.length+ie.length);return ae.set(ie),ae.set(R,ie.length),ae}handleAudioAACNalu(R){if(R&&!(R.byteLength<1)){this.streamAudioType||(this.streamAudioType=nn.AAC);let ae=new Uint8Array(R);var ie=ae.slice(0,7);if(ae=ae.slice(7),!this.isSendAACSeqHeader){const fe=(192&ie[2])>>6,de=(60&ie[2])>>2,Se=(1&ie[2])<<2|(192&ie[3])>>6,Pe=new Uint8Array([175,0,fe<<3|(14&de)>>1,(1&de)<<7|Se<<3]);this.isSendAACSeqHeader=!0,this._doDecode(Pe,1,0,!1,0)}const we=this.getNaluAudioDts(),_e=new Uint8Array(ae.length+2);_e.set([175,1],0),_e.set(ae,2),this._doDecode(_e,1,we,!1,0)}}handleAudioG711ANalu(R){var ie,ae;!R||R.byteLength<1||(this.streamAudioType||(this.streamAudioType=nn.ALAW),R=new Uint8Array(R),ie=this.getNaluAudioDts(),(ae=new Uint8Array(R.length+1)).set([114],0),ae.set(R,1),this._doDecode(ae,1,ie,!1,0))}handleAudioG711UNalu(R){var ie,ae;!R||R.byteLength<1||(this.streamAudioType||(this.streamAudioType=nn.MULAW),R=new Uint8Array(R),ie=this.getNaluAudioDts(),(ae=new Uint8Array(R.length+1)).set([130],0),ae.set(R,1),this._doDecode(ae,1,ie,!1,0))}handleVideoH264Nalu(R){var ie,ae,we,_e=Dn(R);switch(_e){case Hs:this.sps=R;break;case zn:this.pps=R}if(this.isSendSeqHeader)if(Mo(_e)){this.player._times.demuxStart||(this.player._times.demuxStart=_i());const fe=tl(_e),de=this.getNaluDts(),Se=(ie=R,(ae=[])[0]=fe?23:39,ae[1]=1,ae[2]=0,ae[3]=0,ae[4]=0,ae[5]=ie.byteLength>>24&255,ae[6]=ie.byteLength>>16&255,ae[7]=ie.byteLength>>8&255,ae[8]=255&ie.byteLength,(we=new Uint8Array(ae.length+ie.byteLength)).set(ae,0),we.set(ie,ae.length),we);this.player.updateStats({vbps:Se.byteLength,dts:de}),fe&&this.calcIframeIntervalTimestamp(de),this._doDecode(Se,2,de,fe,0)}else this.player.debug.warn(this.TAG_NAME,"handleVideoH264Nalu is avc seq head nalType is "+_e);else if(this.sps&&this.pps){this.isSendSeqHeader=!0;const fe=Z2({sps:this.sps,pps:this.pps});this._doDecode(fe,2,0,!0,0)}}handleVideoH264NaluList(R,ie,ae){if(this.isSendSeqHeader){this.player._times.demuxStart||(this.player._times.demuxStart=_i());const we=this.getNaluDts(),_e=Po(R.reduce((Se,Pe)=>{var Se=Bo(Se),Pe=Bo(Pe),xe=new Uint8Array(Se.byteLength+Pe.byteLength);return xe.set(Se,0),xe.set(Pe,Se.byteLength),xe}),ie);this.player.updateStats({vbps:_e.byteLength,dts:we}),ie&&this.calcIframeIntervalTimestamp(we),this._doDecode(_e,2,we,ie,0)}else this.player.debug.warn(this.TAG_NAME,"handleVideoH264NaluList isSendSeqHeader is false")}handleVideoH265Nalu(R){var ie,ae,we=pr(R);switch(we){case _1:this.vps=R;break;case Gn:this.sps=R;break;case wn:this.pps=R}if(this.isSendSeqHeader){if(Zn(we)){this.player._times.demuxStart||(this.player._times.demuxStart=_i());const _e=16<=we&&we<=21,fe=this.getNaluDts(),de=(we=R,(ie=[])[0]=_e?28:44,ie[1]=1,ie[2]=0,ie[3]=0,ie[4]=0,ie[5]=we.byteLength>>24&255,ie[6]=we.byteLength>>16&255,ie[7]=we.byteLength>>8&255,ie[8]=255&we.byteLength,(ae=new Uint8Array(ie.length+we.byteLength)).set(ie,0),ae.set(we,ie.length),ae);this.player.updateStats({vbps:de.byteLength,dts:fe}),_e&&this.calcIframeIntervalTimestamp(fe),this._doDecode(de,2,fe,_e,0)}}else if(this.vps&&this.sps&&this.pps){this.isSendSeqHeader=!0;const _e=Fo({vps:this.vps,sps:this.sps,pps:this.pps});this._doDecode(_e,2,0,!0,0)}}getInputByteLength(){let R=0;return R=this.lastBuf?this.lastBuf.byteLength:R}}class fl extends Ps{constructor(R){super(R),(this.player=R).debug.log("EmptyDemux","init")}destroy(){super.destroy(),this.player.debug.log("EmptyDemux","destroy")}}var rs=P1(function(Qe,R){function ie(ee){if(!(ee instanceof ArrayBuffer))throw"Needs an array buffer";this.buffer=ee,this.dataview=new DataView(ee),this.position=0}function ae(ee,se,he){this._byteOffset=se||0,ee instanceof ArrayBuffer?this.buffer=ee:typeof ee=="object"?(this.dataView=ee,se&&(this._byteOffset+=se)):this.buffer=new ArrayBuffer(ee||0),this.position=0,this.endianness=he??ae.LITTLE_ENDIAN}function we(ee){this.buffers=[],this.bufferIndex=-1,ee&&(this.insertBuffer(ee),this.bufferIndex=0)}function _e(){var ee=[],se=(ee[3]="ES_Descriptor",ee[4]="DecoderConfigDescriptor",ee[5]="DecoderSpecificInfo",ee[6]="SLConfigDescriptor",this.getDescriptorName=function(ce){return ee[ce]},this),he={};return this.parseOneDescriptor=function(ce){for(var Ae=0,ke=ce.readUint8(),Ee=ce.readUint8();128&Ee;)Ae=(127&Ee)<<7,Ee=ce.readUint8();return Oe.debug("MPEG4DescriptorParser","Found "+(ee[ke]||"Descriptor "+ke)+", size "+(Ae+=127&Ee)+" at position "+ce.getPosition()),(ke=new(ee[ke]?he[ee[ke]]:he.Descriptor)(Ae)).parse(ce),ke},he.Descriptor=function(ce,Ae){this.tag=ce,this.size=Ae,this.descs=[]},he.Descriptor.prototype.parse=function(ce){this.data=ce.readUint8Array(this.size)},he.Descriptor.prototype.findDescriptor=function(ce){for(var Ae=0;Ae<this.descs.length;Ae++)if(this.descs[Ae].tag==ce)return this.descs[Ae];return null},he.Descriptor.prototype.parseRemainingDescriptors=function(ce){for(var Ae=ce.position;ce.position<Ae+this.size;){var ke=se.parseOneDescriptor(ce);this.descs.push(ke)}},he.ES_Descriptor=function(ce){he.Descriptor.call(this,3,ce)},he.ES_Descriptor.prototype=new he.Descriptor,he.ES_Descriptor.prototype.parse=function(ce){var Ae;this.ES_ID=ce.readUint16(),this.flags=ce.readUint8(),this.size-=3,128&this.flags?(this.dependsOn_ES_ID=ce.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,64&this.flags?(Ae=ce.readUint8(),this.URL=ce.readString(Ae),this.size-=Ae+1):this.URL="",32&this.flags?(this.OCR_ES_ID=ce.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(ce)},he.ES_Descriptor.prototype.getOTI=function(ce){var Ae=this.findDescriptor(4);return Ae?Ae.oti:0},he.ES_Descriptor.prototype.getAudioConfig=function(ce){var Ae,ke=this.findDescriptor(4);return(ke=ke&&ke.findDescriptor(5))&&ke.data?(Ae=(248&ke.data[0])>>3)===31&&2<=ke.data.length?32+((7&ke.data[0])<<3)+((224&ke.data[1])>>5):Ae:null},he.DecoderConfigDescriptor=function(ce){he.Descriptor.call(this,4,ce)},he.DecoderConfigDescriptor.prototype=new he.Descriptor,he.DecoderConfigDescriptor.prototype.parse=function(ce){this.oti=ce.readUint8(),this.streamType=ce.readUint8(),this.bufferSize=ce.readUint24(),this.maxBitrate=ce.readUint32(),this.avgBitrate=ce.readUint32(),this.size-=13,this.parseRemainingDescriptors(ce)},he.DecoderSpecificInfo=function(ce){he.Descriptor.call(this,5,ce)},he.DecoderSpecificInfo.prototype=new he.Descriptor,he.SLConfigDescriptor=function(ce){he.Descriptor.call(this,6,ce)},he.SLConfigDescriptor.prototype=new he.Descriptor,this}function fe(){}function de(){}function Se(ee){this.stream=ee||new we,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.onSidx=null,this.sidxSent=!1}Pe=new Date,xe=4;var Pe,xe,Oe={setLogLevel:function(ee){xe=ee==this.debug?1:ee==this.info?2:ee==this.warn?3:(this.error,4)},debug:function(ee,se){console.debug===void 0&&(console.debug=console.log),xe<=1&&console.debug("["+Oe.getDurationString(new Date-Pe,1e3)+"]","["+ee+"]",se)},log:function(ee,se){this.debug(ee.msg)},info:function(ee,se){xe<=2&&console.info("["+Oe.getDurationString(new Date-Pe,1e3)+"]","["+ee+"]",se)},warn:function(ee,se){xe<=3&&console.warn("["+Oe.getDurationString(new Date-Pe,1e3)+"]","["+ee+"]",se)},error:function(ee,se){xe<=4&&console.error("["+Oe.getDurationString(new Date-Pe,1e3)+"]","["+ee+"]",se)}},Fe=(Oe.getDurationString=function(Ae,ke){var he;function ce(Le,$e){for(var Ie=(""+Le).split(".");Ie[0].length<$e;)Ie[0]="0"+Ie[0];return Ie.join(".")}Ae<0?(he=!0,Ae=-Ae):he=!1;var Ae=Ae/(ke||1),ke=Math.floor(Ae/3600),Ee=(Ae-=3600*ke,Math.floor(Ae/60)),je=1e3*(Ae-=60*Ee);return je-=1e3*(Ae=Math.floor(Ae)),je=Math.floor(je),(he?"-":"")+ke+":"+ce(Ee,2)+":"+ce(Ae,2)+"."+ce(je,3)},Oe.printRanges=function(ee){var se=ee.length;if(0<se){for(var he="",ce=0;ce<se;ce++)0<ce&&(he+=","),he+="["+Oe.getDurationString(ee.start(ce))+","+Oe.getDurationString(ee.end(ce))+"]";return he}return"(empty)"},R.Log=Oe,ie.prototype.getPosition=function(){return this.position},ie.prototype.getEndPosition=function(){return this.buffer.byteLength},ie.prototype.getLength=function(){return this.buffer.byteLength},ie.prototype.seek=function(ee){return ee=Math.max(0,Math.min(this.buffer.byteLength,ee)),this.position=isNaN(ee)||!isFinite(ee)?0:ee,!0},ie.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},ie.prototype.readAnyInt=function(ee,se){var he=0;if(this.position+ee<=this.buffer.byteLength){switch(ee){case 1:he=se?this.dataview.getInt8(this.position):this.dataview.getUint8(this.position);break;case 2:he=se?this.dataview.getInt16(this.position):this.dataview.getUint16(this.position);break;case 3:if(se)throw"No method for reading signed 24 bits values";he=this.dataview.getUint8(this.position)<<16,he=(he|=this.dataview.getUint8(this.position+1)<<8)|this.dataview.getUint8(this.position+2);break;case 4:he=se?this.dataview.getInt32(this.position):this.dataview.getUint32(this.position);break;case 8:if(se)throw"No method for reading signed 64 bits values";he=this.dataview.getUint32(this.position)<<32,he|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+ee}return this.position+=ee,he}throw"Not enough bytes in buffer"},ie.prototype.readUint8=function(){return this.readAnyInt(1,!1)},ie.prototype.readUint16=function(){return this.readAnyInt(2,!1)},ie.prototype.readUint24=function(){return this.readAnyInt(3,!1)},ie.prototype.readUint32=function(){return this.readAnyInt(4,!1)},ie.prototype.readUint64=function(){return this.readAnyInt(8,!1)},ie.prototype.readString=function(ee){if(this.position+ee<=this.buffer.byteLength){for(var se="",he=0;he<ee;he++)se+=String.fromCharCode(this.readUint8());return se}throw"Not enough bytes in buffer"},ie.prototype.readCString=function(){for(var ee=[];;){var se=this.readUint8();if(se===0)break;ee.push(se)}return String.fromCharCode.apply(null,ee)},ie.prototype.readInt8=function(){return this.readAnyInt(1,!0)},ie.prototype.readInt16=function(){return this.readAnyInt(2,!0)},ie.prototype.readInt32=function(){return this.readAnyInt(4,!0)},ie.prototype.readInt64=function(){return this.readAnyInt(8,!1)},ie.prototype.readUint8Array=function(ee){for(var se=new Uint8Array(ee),he=0;he<ee;he++)se[he]=this.readUint8();return se},ie.prototype.readInt16Array=function(ee){for(var se=new Int16Array(ee),he=0;he<ee;he++)se[he]=this.readInt16();return se},ie.prototype.readUint16Array=function(ee){for(var se=new Int16Array(ee),he=0;he<ee;he++)se[he]=this.readUint16();return se},ie.prototype.readUint32Array=function(ee){for(var se=new Uint32Array(ee),he=0;he<ee;he++)se[he]=this.readUint32();return se},ie.prototype.readInt32Array=function(ee){for(var se=new Int32Array(ee),he=0;he<ee;he++)se[he]=this.readInt32();return se},R.MP4BoxStream=ie,(ae.prototype={}).getPosition=function(){return this.position},ae.prototype._realloc=function(ee){if(this._dynamicSize){var se=this._byteOffset+this.position+ee,he=this._buffer.byteLength;if(se<=he)se>this._byteLength&&(this._byteLength=se);else{for(he<1&&(he=1);he<se;)he*=2;var ee=new ArrayBuffer(he),ce=new Uint8Array(this._buffer);new Uint8Array(ee,0,ce.length).set(ce),this.buffer=ee,this._byteLength=se}}},ae.prototype._trimAlloc=function(){var ee,se,he;this._byteLength!=this._buffer.byteLength&&(ee=new ArrayBuffer(this._byteLength),se=new Uint8Array(ee),he=new Uint8Array(this._buffer,0,se.length),se.set(he),this.buffer=ee)},ae.BIG_ENDIAN=!1,ae.LITTLE_ENDIAN=!0,ae.prototype._byteLength=0,Object.defineProperty(ae.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(ae.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(ee){this._buffer=ee,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(ae.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(ee){this._byteOffset=ee,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(ae.prototype,"dataView",{get:function(){return this._dataView},set:function(ee){this._byteOffset=ee.byteOffset,this._buffer=ee.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+ee.byteLength}}),ae.prototype.seek=function(ee){ee=Math.max(0,Math.min(this.byteLength,ee)),this.position=isNaN(ee)||!isFinite(ee)?0:ee},ae.prototype.isEof=function(){return this.position>=this._byteLength},ae.prototype.mapUint8Array=function(ee){this._realloc(+ee);var se=new Uint8Array(this._buffer,this.byteOffset+this.position,ee);return this.position+=+ee,se},ae.prototype.readInt32Array=function(ee,se){ee=ee??this.byteLength-this.position/4;var he=new Int32Array(ee);return ae.memcpy(he.buffer,0,this.buffer,this.byteOffset+this.position,ee*he.BYTES_PER_ELEMENT),ae.arrayToNative(he,se??this.endianness),this.position+=he.byteLength,he},ae.prototype.readInt16Array=function(ee,se){ee=ee??this.byteLength-this.position/2;var he=new Int16Array(ee);return ae.memcpy(he.buffer,0,this.buffer,this.byteOffset+this.position,ee*he.BYTES_PER_ELEMENT),ae.arrayToNative(he,se??this.endianness),this.position+=he.byteLength,he},ae.prototype.readInt8Array=function(ee){ee=ee??this.byteLength-this.position;var se=new Int8Array(ee);return ae.memcpy(se.buffer,0,this.buffer,this.byteOffset+this.position,ee*se.BYTES_PER_ELEMENT),this.position+=se.byteLength,se},ae.prototype.readUint32Array=function(ee,se){ee=ee??this.byteLength-this.position/4;var he=new Uint32Array(ee);return ae.memcpy(he.buffer,0,this.buffer,this.byteOffset+this.position,ee*he.BYTES_PER_ELEMENT),ae.arrayToNative(he,se??this.endianness),this.position+=he.byteLength,he},ae.prototype.readUint16Array=function(ee,se){ee=ee??this.byteLength-this.position/2;var he=new Uint16Array(ee);return ae.memcpy(he.buffer,0,this.buffer,this.byteOffset+this.position,ee*he.BYTES_PER_ELEMENT),ae.arrayToNative(he,se??this.endianness),this.position+=he.byteLength,he},ae.prototype.readUint8Array=function(ee){ee=ee??this.byteLength-this.position;var se=new Uint8Array(ee);return ae.memcpy(se.buffer,0,this.buffer,this.byteOffset+this.position,ee*se.BYTES_PER_ELEMENT),this.position+=se.byteLength,se},ae.prototype.readFloat64Array=function(ee,se){ee=ee??this.byteLength-this.position/8;var he=new Float64Array(ee);return ae.memcpy(he.buffer,0,this.buffer,this.byteOffset+this.position,ee*he.BYTES_PER_ELEMENT),ae.arrayToNative(he,se??this.endianness),this.position+=he.byteLength,he},ae.prototype.readFloat32Array=function(ee,se){ee=ee??this.byteLength-this.position/4;var he=new Float32Array(ee);return ae.memcpy(he.buffer,0,this.buffer,this.byteOffset+this.position,ee*he.BYTES_PER_ELEMENT),ae.arrayToNative(he,se??this.endianness),this.position+=he.byteLength,he},ae.prototype.readInt32=function(ee){return ee=this._dataView.getInt32(this.position,ee??this.endianness),this.position+=4,ee},ae.prototype.readInt16=function(ee){return ee=this._dataView.getInt16(this.position,ee??this.endianness),this.position+=2,ee},ae.prototype.readInt8=function(){var ee=this._dataView.getInt8(this.position);return this.position+=1,ee},ae.prototype.readUint32=function(ee){return ee=this._dataView.getUint32(this.position,ee??this.endianness),this.position+=4,ee},ae.prototype.readUint16=function(ee){return ee=this._dataView.getUint16(this.position,ee??this.endianness),this.position+=2,ee},ae.prototype.readUint8=function(){var ee=this._dataView.getUint8(this.position);return this.position+=1,ee},ae.prototype.readFloat32=function(ee){return ee=this._dataView.getFloat32(this.position,ee??this.endianness),this.position+=4,ee},ae.prototype.readFloat64=function(ee){return ee=this._dataView.getFloat64(this.position,ee??this.endianness),this.position+=8,ee},ae.endianness=0<new Int8Array(new Int16Array([1]).buffer)[0],ae.memcpy=function(ee,se,he,ce,Ae){ee=new Uint8Array(ee,se,Ae),se=new Uint8Array(he,ce,Ae),ee.set(se)},ae.arrayToNative=function(ee,se){return se==this.endianness?ee:this.flipArrayEndianness(ee)},ae.nativeToEndian=function(ee,se){return this.endianness==se?ee:this.flipArrayEndianness(ee)},ae.flipArrayEndianness=function(ee){for(var se=new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength),he=0;he<ee.byteLength;he+=ee.BYTES_PER_ELEMENT)for(var ce=he+ee.BYTES_PER_ELEMENT-1,Ae=he;Ae<ce;ce--,Ae++){var ke=se[Ae];se[Ae]=se[ce],se[ce]=ke}return ee},ae.prototype.failurePosition=0,String.fromCharCodeUint8=function(ee){for(var se=[],he=0;he<ee.length;he++)se[he]=ee[he];return String.fromCharCode.apply(null,se)},ae.prototype.readString=function(ee,se){return se==null||se=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(ee??this.byteLength-this.position)]):new TextDecoder(se).decode(this.mapUint8Array(ee))},ae.prototype.readCString=function(ee){var se=this.byteLength-this.position,he=new Uint8Array(this._buffer,this._byteOffset+this.position),ce=se;ee!=null&&(ce=Math.min(ee,se));for(var Ae=0;Ae<ce&&he[Ae]!==0;Ae++);var ke=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(Ae)]);return ee!=null?this.position+=ce-Ae:Ae!=se&&(this.position+=1),ke},Math.pow(2,32)),ye=(ae.prototype.readInt64=function(){return this.readInt32()*Fe+this.readUint32()},ae.prototype.readUint64=function(){return this.readUint32()*Fe+this.readUint32()},ae.prototype.readInt64=function(){return this.readUint32()*Fe+this.readUint32()},ae.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},(R.DataStream=ae).prototype.save=function(ee){var se=new Blob([this.buffer]);if(!window.URL||!URL.createObjectURL)throw"DataStream.save: Can't create object URL.";var se=window.URL.createObjectURL(se),he=document.createElement("a");document.body.appendChild(he),he.setAttribute("href",se),he.setAttribute("download",ee),he.setAttribute("target","_self"),he.click(),window.URL.revokeObjectURL(se)},ae.prototype._dynamicSize=!0,Object.defineProperty(ae.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(ee){ee||this._trimAlloc(),this._dynamicSize=ee}}),ae.prototype.shift=function(ee){var se=new ArrayBuffer(this._byteLength-ee),he=new Uint8Array(se),ce=new Uint8Array(this._buffer,ee,he.length);he.set(ce),this.buffer=se,this.position-=ee},ae.prototype.writeInt32Array=function(ee,se){if(this._realloc(4*ee.length),ee instanceof Int32Array&&this.byteOffset+this.position%ee.BYTES_PER_ELEMENT===0)ae.memcpy(this._buffer,this.byteOffset+this.position,ee.buffer,0,ee.byteLength),this.mapInt32Array(ee.length,se);else for(var he=0;he<ee.length;he++)this.writeInt32(ee[he],se)},ae.prototype.writeInt16Array=function(ee,se){if(this._realloc(2*ee.length),ee instanceof Int16Array&&this.byteOffset+this.position%ee.BYTES_PER_ELEMENT===0)ae.memcpy(this._buffer,this.byteOffset+this.position,ee.buffer,0,ee.byteLength),this.mapInt16Array(ee.length,se);else for(var he=0;he<ee.length;he++)this.writeInt16(ee[he],se)},ae.prototype.writeInt8Array=function(ee){if(this._realloc(+ee.length),ee instanceof Int8Array&&this.byteOffset+this.position%ee.BYTES_PER_ELEMENT===0)ae.memcpy(this._buffer,this.byteOffset+this.position,ee.buffer,0,ee.byteLength),this.mapInt8Array(ee.length);else for(var se=0;se<ee.length;se++)this.writeInt8(ee[se])},ae.prototype.writeUint32Array=function(ee,se){if(this._realloc(4*ee.length),ee instanceof Uint32Array&&this.byteOffset+this.position%ee.BYTES_PER_ELEMENT===0)ae.memcpy(this._buffer,this.byteOffset+this.position,ee.buffer,0,ee.byteLength),this.mapUint32Array(ee.length,se);else for(var he=0;he<ee.length;he++)this.writeUint32(ee[he],se)},ae.prototype.writeUint16Array=function(ee,se){if(this._realloc(2*ee.length),ee instanceof Uint16Array&&this.byteOffset+this.position%ee.BYTES_PER_ELEMENT===0)ae.memcpy(this._buffer,this.byteOffset+this.position,ee.buffer,0,ee.byteLength),this.mapUint16Array(ee.length,se);else for(var he=0;he<ee.length;he++)this.writeUint16(ee[he],se)},ae.prototype.writeUint8Array=function(ee){if(this._realloc(+ee.length),ee instanceof Uint8Array&&this.byteOffset+this.position%ee.BYTES_PER_ELEMENT===0)ae.memcpy(this._buffer,this.byteOffset+this.position,ee.buffer,0,ee.byteLength),this.mapUint8Array(ee.length);else for(var se=0;se<ee.length;se++)this.writeUint8(ee[se])},ae.prototype.writeFloat64Array=function(ee,se){if(this._realloc(8*ee.length),ee instanceof Float64Array&&this.byteOffset+this.position%ee.BYTES_PER_ELEMENT===0)ae.memcpy(this._buffer,this.byteOffset+this.position,ee.buffer,0,ee.byteLength),this.mapFloat64Array(ee.length,se);else for(var he=0;he<ee.length;he++)this.writeFloat64(ee[he],se)},ae.prototype.writeFloat32Array=function(ee,se){if(this._realloc(4*ee.length),ee instanceof Float32Array&&this.byteOffset+this.position%ee.BYTES_PER_ELEMENT===0)ae.memcpy(this._buffer,this.byteOffset+this.position,ee.buffer,0,ee.byteLength),this.mapFloat32Array(ee.length,se);else for(var he=0;he<ee.length;he++)this.writeFloat32(ee[he],se)},ae.prototype.writeInt32=function(ee,se){this._realloc(4),this._dataView.setInt32(this.position,ee,se??this.endianness),this.position+=4},ae.prototype.writeInt16=function(ee,se){this._realloc(2),this._dataView.setInt16(this.position,ee,se??this.endianness),this.position+=2},ae.prototype.writeInt8=function(ee){this._realloc(1),this._dataView.setInt8(this.position,ee),this.position+=1},ae.prototype.writeUint32=function(ee,se){this._realloc(4),this._dataView.setUint32(this.position,ee,se??this.endianness),this.position+=4},ae.prototype.writeUint16=function(ee,se){this._realloc(2),this._dataView.setUint16(this.position,ee,se??this.endianness),this.position+=2},ae.prototype.writeUint8=function(ee){this._realloc(1),this._dataView.setUint8(this.position,ee),this.position+=1},ae.prototype.writeFloat32=function(ee,se){this._realloc(4),this._dataView.setFloat32(this.position,ee,se??this.endianness),this.position+=4},ae.prototype.writeFloat64=function(ee,se){this._realloc(8),this._dataView.setFloat64(this.position,ee,se??this.endianness),this.position+=8},ae.prototype.writeUCS2String=function(ee,se,he){he==null&&(he=ee.length);for(var ce=0;ce<ee.length&&ce<he;ce++)this.writeUint16(ee.charCodeAt(ce),se);for(;ce<he;ce++)this.writeUint16(0)},ae.prototype.writeString=function(ee,se,he){var ce=0;if(se==null||se=="ASCII")if(he!=null){for(var Ae=Math.min(ee.length,he),ce=0;ce<Ae;ce++)this.writeUint8(ee.charCodeAt(ce));for(;ce<he;ce++)this.writeUint8(0)}else for(ce=0;ce<ee.length;ce++)this.writeUint8(ee.charCodeAt(ce));else this.writeUint8Array(new TextEncoder(se).encode(ee.substring(0,he)))},ae.prototype.writeCString=function(ee,se){var he=0;if(se!=null){for(var ce=Math.min(ee.length,se),he=0;he<ce;he++)this.writeUint8(ee.charCodeAt(he));for(;he<se;he++)this.writeUint8(0)}else{for(he=0;he<ee.length;he++)this.writeUint8(ee.charCodeAt(he));this.writeUint8(0)}},ae.prototype.writeStruct=function(ee,se){for(var he=0;he<ee.length;he+=2){var ce=ee[he+1];this.writeType(ce,se[ee[he]],se)}},ae.prototype.writeType=function(ee,se,Ee){var ce;if(typeof ee=="function")return ee(this,se);if(typeof ee=="object"&&!(ee instanceof Array))return ee.set(this,se,Ee);var Ae=null,ke="ASCII",Ee=this.position;switch(typeof ee=="string"&&/:/.test(ee)&&(ee=(ce=ee.split(":"))[0],Ae=parseInt(ce[1])),typeof ee=="string"&&/,/.test(ee)&&(ee=(ce=ee.split(","))[0],ke=parseInt(ce[1])),ee){case"uint8":this.writeUint8(se);break;case"int8":this.writeInt8(se);break;case"uint16":this.writeUint16(se,this.endianness);break;case"int16":this.writeInt16(se,this.endianness);break;case"uint32":this.writeUint32(se,this.endianness);break;case"int32":this.writeInt32(se,this.endianness);break;case"float32":this.writeFloat32(se,this.endianness);break;case"float64":this.writeFloat64(se,this.endianness);break;case"uint16be":this.writeUint16(se,ae.BIG_ENDIAN);break;case"int16be":this.writeInt16(se,ae.BIG_ENDIAN);break;case"uint32be":this.writeUint32(se,ae.BIG_ENDIAN);break;case"int32be":this.writeInt32(se,ae.BIG_ENDIAN);break;case"float32be":this.writeFloat32(se,ae.BIG_ENDIAN);break;case"float64be":this.writeFloat64(se,ae.BIG_ENDIAN);break;case"uint16le":this.writeUint16(se,ae.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(se,ae.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(se,ae.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(se,ae.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(se,ae.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(se,ae.LITTLE_ENDIAN);break;case"cstring":this.writeCString(se,Ae);break;case"string":this.writeString(se,ke,Ae);break;case"u16string":this.writeUCS2String(se,this.endianness,Ae);break;case"u16stringle":this.writeUCS2String(se,ae.LITTLE_ENDIAN,Ae);break;case"u16stringbe":this.writeUCS2String(se,ae.BIG_ENDIAN,Ae);break;default:if(ee.length==3)for(var je=ee[1],Le=0;Le<se.length;Le++)this.writeType(je,se[Le]);else this.writeStruct(ee,se)}Ae!=null&&(this.position=Ee,this._realloc(Ae),this.position=Ee+Ae)},ae.prototype.writeUint64=function(ee){var se=Math.floor(ee/Fe);this.writeUint32(se),this.writeUint32(4294967295&ee)},ae.prototype.writeUint24=function(ee){this.writeUint8((16711680&ee)>>16),this.writeUint8((65280&ee)>>8),this.writeUint8(255&ee)},ae.prototype.adjustUint32=function(ee,se){var he=this.position;this.seek(ee),this.writeUint32(se),this.seek(he)},ae.prototype.mapInt32Array=function(ee,se){this._realloc(4*ee);var he=new Int32Array(this._buffer,this.byteOffset+this.position,ee);return ae.arrayToNative(he,se??this.endianness),this.position+=4*ee,he},ae.prototype.mapInt16Array=function(ee,se){this._realloc(2*ee);var he=new Int16Array(this._buffer,this.byteOffset+this.position,ee);return ae.arrayToNative(he,se??this.endianness),this.position+=2*ee,he},ae.prototype.mapInt8Array=function(ee){this._realloc(+ee);var se=new Int8Array(this._buffer,this.byteOffset+this.position,ee);return this.position+=+ee,se},ae.prototype.mapUint32Array=function(ee,se){this._realloc(4*ee);var he=new Uint32Array(this._buffer,this.byteOffset+this.position,ee);return ae.arrayToNative(he,se??this.endianness),this.position+=4*ee,he},ae.prototype.mapUint16Array=function(ee,se){this._realloc(2*ee);var he=new Uint16Array(this._buffer,this.byteOffset+this.position,ee);return ae.arrayToNative(he,se??this.endianness),this.position+=2*ee,he},ae.prototype.mapFloat64Array=function(ee,se){this._realloc(8*ee);var he=new Float64Array(this._buffer,this.byteOffset+this.position,ee);return ae.arrayToNative(he,se??this.endianness),this.position+=8*ee,he},ae.prototype.mapFloat32Array=function(ee,se){this._realloc(4*ee);var he=new Float32Array(this._buffer,this.byteOffset+this.position,ee);return ae.arrayToNative(he,se??this.endianness),this.position+=4*ee,he},(we.prototype=new ae(new ArrayBuffer,0,ae.BIG_ENDIAN)).initialized=function(){var ee;return-1<this.bufferIndex||(0<this.buffers.length?(ee=this.buffers[0]).fileStart===0?(this.buffer=ee,this.bufferIndex=0,Oe.debug("MultiBufferStream","Stream ready for parsing"),!0):(Oe.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1):(Oe.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1))},ArrayBuffer.concat=function(ee,se){Oe.debug("ArrayBuffer","Trying to create a new buffer of size: "+(ee.byteLength+se.byteLength));var he=new Uint8Array(ee.byteLength+se.byteLength);return he.set(new Uint8Array(ee),0),he.set(new Uint8Array(se),ee.byteLength),he.buffer},we.prototype.reduceBuffer=function(ee,se,he){var ce;return(ce=new Uint8Array(he)).set(new Uint8Array(ee,se,he)),ce.buffer.fileStart=ee.fileStart+se,ce.buffer.usedBytes=0,ce.buffer},we.prototype.insertBuffer=function(ee){for(var se=!0,he=0;he<this.buffers.length;he++){var ce=this.buffers[he];if(ee.fileStart<=ce.fileStart){if(ee.fileStart===ce.fileStart){if(ee.byteLength>ce.byteLength){this.buffers.splice(he,1),he--;continue}Oe.warn("MultiBufferStream","Buffer (fileStart: "+ee.fileStart+" - Length: "+ee.byteLength+") already appended, ignoring")}else ee.fileStart+ee.byteLength<=ce.fileStart||(ee=this.reduceBuffer(ee,0,ce.fileStart-ee.fileStart)),Oe.debug("MultiBufferStream","Appending new buffer (fileStart: "+ee.fileStart+" - Length: "+ee.byteLength+")"),this.buffers.splice(he,0,ee),he===0&&(this.buffer=ee);se=!1;break}if(ee.fileStart<ce.fileStart+ce.byteLength){var ce=ce.fileStart+ce.byteLength-ee.fileStart,Ae=ee.byteLength-ce;if(!(0<Ae)){se=!1;break}ee=this.reduceBuffer(ee,ce,Ae)}}se&&(Oe.debug("MultiBufferStream","Appending new buffer (fileStart: "+ee.fileStart+" - Length: "+ee.byteLength+")"),this.buffers.push(ee),he===0)&&(this.buffer=ee)},we.prototype.logBufferLevel=function(ee){for(var se,he,ce=[],Ae="",ke=0,Ee=0,je=0;je<this.buffers.length;je++)se=this.buffers[je],je===0?(ce.push(he={}),he.start=se.fileStart,he.end=se.fileStart+se.byteLength,Ae+="["+he.start+"-"):he.end===se.fileStart?he.end=se.fileStart+se.byteLength:((he={}).start=se.fileStart,Ae+=ce[ce.length-1].end-1+"], ["+he.start+"-",he.end=se.fileStart+se.byteLength,ce.push(he)),ke+=se.usedBytes,Ee+=se.byteLength;0<ce.length&&(Ae+=he.end-1+"]"),ee=ee?Oe.info:Oe.debug,this.buffers.length===0?ee("MultiBufferStream","No more buffer in memory"):ee("MultiBufferStream",this.buffers.length+" stored buffer(s) ("+ke+"/"+Ee+" bytes), continuous ranges: "+Ae)},we.prototype.cleanBuffers=function(){for(var ee,se=0;se<this.buffers.length;se++)(ee=this.buffers[se]).usedBytes===ee.byteLength&&(Oe.debug("MultiBufferStream","Removing buffer #"+se),this.buffers.splice(se,1),se--)},we.prototype.mergeNextBuffer=function(){var ee,se,he,ce;return this.bufferIndex+1<this.buffers.length&&(ee=this.buffers[this.bufferIndex+1]).fileStart===this.buffer.fileStart+this.buffer.byteLength&&(se=this.buffer.byteLength,he=this.buffer.usedBytes,ce=this.buffer.fileStart,this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,ee),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=he,this.buffer.fileStart=ce,Oe.debug("ISOFile","Concatenating buffer for box parsing (length: "+se+"->"+this.buffer.byteLength+")"),!0)},we.prototype.findPosition=function(ee,se,he){for(var ce=null,Ae=-1,ke=ee===!0?0:this.bufferIndex;ke<this.buffers.length&&(ce=this.buffers[ke]).fileStart<=se;)Ae=ke,he&&(ce.fileStart+ce.byteLength<=se?ce.usedBytes=ce.byteLength:ce.usedBytes=se-ce.fileStart,this.logBufferLevel()),ke++;return Ae!==-1&&(ce=this.buffers[Ae]).fileStart+ce.byteLength>=se?(Oe.debug("MultiBufferStream","Found position in existing buffer #"+Ae),Ae):-1},we.prototype.findEndContiguousBuf=function(ce){var se,he,ce=ce!==void 0?ce:this.bufferIndex,Ae=this.buffers[ce];if(this.buffers.length>ce+1)for(se=ce+1;se<this.buffers.length&&(he=this.buffers[se]).fileStart===Ae.fileStart+Ae.byteLength;se++)Ae=he;return Ae.fileStart+Ae.byteLength},we.prototype.getEndFilePositionAfter=function(ee){var se=this.findPosition(!0,ee,!1);return se!==-1?this.findEndContiguousBuf(se):ee},we.prototype.addUsedBytes=function(ee){this.buffer.usedBytes+=ee,this.logBufferLevel()},we.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},we.prototype.seek=function(ee,se,he){return(se=this.findPosition(se,ee,he))!==-1?(this.buffer=this.buffers[se],this.bufferIndex=se,this.position=ee-this.buffer.fileStart,Oe.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(Oe.debug("MultiBufferStream","Position "+ee+" not found in buffered data"),!1)},we.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},we.prototype.getLength=function(){return this.byteLength},we.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},R.MultiBufferStream=we,R.MPEG4DescriptorParser=_e,{ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){ye.FullBox.prototype=new ye.Box,ye.ContainerBox.prototype=new ye.Box,ye.SampleEntry.prototype=new ye.Box,ye.TrackGroupTypeBox.prototype=new ye.FullBox,ye.BASIC_BOXES.forEach(function(ee){ye.createBoxCtor(ee)}),ye.FULL_BOXES.forEach(function(ee){ye.createFullBoxCtor(ee)}),ye.CONTAINER_BOXES.forEach(function(ee){ye.createContainerBoxCtor(ee[0],null,ee[1])})},Box:function(ee,se,he){this.type=ee,this.size=se,this.uuid=he},FullBox:function(ee,se,he){ye.Box.call(this,ee,se,he),this.flags=0,this.version=0},ContainerBox:function(ee,se,he){ye.Box.call(this,ee,se,he),this.boxes=[]},SampleEntry:function(ee,se,he,ce){ye.ContainerBox.call(this,ee,se),this.hdr_size=he,this.start=ce},SampleGroupEntry:function(ee){this.grouping_type=ee},TrackGroupTypeBox:function(ee,se){ye.FullBox.call(this,ee,se)},createBoxCtor:function(ee,se){ye.boxCodes.push(ee),ye[ee+"Box"]=function(he){ye.Box.call(this,ee,he)},ye[ee+"Box"].prototype=new ye.Box,se&&(ye[ee+"Box"].prototype.parse=se)},createFullBoxCtor:function(ee,se){ye[ee+"Box"]=function(he){ye.FullBox.call(this,ee,he)},ye[ee+"Box"].prototype=new ye.FullBox,ye[ee+"Box"].prototype.parse=function(he){this.parseFullHeader(he),se&&se.call(this,he)}},addSubBoxArrays:function(ee){if(ee)for(var se=(this.subBoxNames=ee).length,he=0;he<se;he++)this[ee[he]+"s"]=[]},createContainerBoxCtor:function(ee,se,he){ye[ee+"Box"]=function(ce){ye.ContainerBox.call(this,ee,ce),ye.addSubBoxArrays.call(this,he)},ye[ee+"Box"].prototype=new ye.ContainerBox,se&&(ye[ee+"Box"].prototype.parse=se)},createMediaSampleEntryCtor:function(ee,se,he){ye.sampleEntryCodes[ee]=[],ye[ee+"SampleEntry"]=function(ce,Ae){ye.SampleEntry.call(this,ce,Ae),ye.addSubBoxArrays.call(this,he)},ye[ee+"SampleEntry"].prototype=new ye.SampleEntry,se&&(ye[ee+"SampleEntry"].prototype.parse=se)},createSampleEntryCtor:function(ee,se,he,ce){ye.sampleEntryCodes[ee].push(se),ye[se+"SampleEntry"]=function(Ae){ye[ee+"SampleEntry"].call(this,se,Ae),ye.addSubBoxArrays.call(this,ce)},ye[se+"SampleEntry"].prototype=new ye[ee+"SampleEntry"],he&&(ye[se+"SampleEntry"].prototype.parse=he)},createEncryptedSampleEntryCtor:function(ee,se,he){ye.createSampleEntryCtor.call(this,ee,se,he,["sinf"])},createSampleGroupCtor:function(ee,se){ye[ee+"SampleGroupEntry"]=function(he){ye.SampleGroupEntry.call(this,ee,he)},ye[ee+"SampleGroupEntry"].prototype=new ye.SampleGroupEntry,se&&(ye[ee+"SampleGroupEntry"].prototype.parse=se)},createTrackGroupCtor:function(ee,se){ye[ee+"TrackGroupTypeBox"]=function(he){ye.TrackGroupTypeBox.call(this,ee,he)},ye[ee+"TrackGroupTypeBox"].prototype=new ye.TrackGroupTypeBox,se&&(ye[ee+"TrackGroupTypeBox"].prototype.parse=se)},createUUIDBox:function(ee,se,he,ce){ye.UUIDs.push(ee),ye.UUIDBoxes[ee]=function(Ae){(se?ye.FullBox:he?ye.ContainerBox:ye.Box).call(this,"uuid",Ae,ee)},ye.UUIDBoxes[ee].prototype=new(se?ye.FullBox:he?ye.ContainerBox:ye.Box),ce&&(ye.UUIDBoxes[ee].prototype.parse=se?function(Ae){this.parseFullHeader(Ae),ce&&ce.call(this,Ae)}:ce)}});ye.initialize(),ye.TKHD_FLAG_ENABLED=1,ye.TKHD_FLAG_IN_MOVIE=2,ye.TKHD_FLAG_IN_PREVIEW=4,ye.TFHD_FLAG_BASE_DATA_OFFSET=1,ye.TFHD_FLAG_SAMPLE_DESC=2,ye.TFHD_FLAG_SAMPLE_DUR=8,ye.TFHD_FLAG_SAMPLE_SIZE=16,ye.TFHD_FLAG_SAMPLE_FLAGS=32,ye.TFHD_FLAG_DUR_EMPTY=65536,ye.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,ye.TRUN_FLAGS_DATA_OFFSET=1,ye.TRUN_FLAGS_FIRST_FLAG=4,ye.TRUN_FLAGS_DURATION=256,ye.TRUN_FLAGS_SIZE=512,ye.TRUN_FLAGS_FLAGS=1024,ye.TRUN_FLAGS_CTS_OFFSET=2048,ye.Box.prototype.add=function(ee){return this.addBox(new ye[ee+"Box"])},ye.Box.prototype.addBox=function(ee){return this.boxes.push(ee),this[ee.type+"s"]?this[ee.type+"s"].push(ee):this[ee.type]=ee,ee},ye.Box.prototype.set=function(ee,se){return this[ee]=se,this},ye.Box.prototype.addEntry=function(ee,se){return se=se||"entries",this[se]||(this[se]=[]),this[se].push(ee),this},(R.BoxParser=ye).parseUUID=function(ee){return ye.parseHex16(ee)},ye.parseHex16=function(ee){for(var se="",he=0;he<16;he++){var ce=ee.readUint8().toString(16);se+=ce.length===1?"0"+ce:ce}return se},ye.parseOneBox=function(ee,se,he){var ce,Ae,ke=ee.getPosition(),Ee=0;if(ee.getEndPosition()-ke<8)return Oe.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:ye.ERR_NOT_ENOUGH_DATA};if(he&&he<8)return Oe.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:ye.ERR_NOT_ENOUGH_DATA};var je=ee.readUint32(),Le=ee.readString(4),$e=Le;if(Oe.debug("BoxParser","Found box of type '"+Le+"' and size "+je+" at position "+ke),Ee=8,Le=="uuid"){if(ee.getEndPosition()-ee.getPosition()<16||he-Ee<16)return ee.seek(ke),Oe.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:ye.ERR_NOT_ENOUGH_DATA};Ee+=16,$e=Ae=ye.parseUUID(ee)}if(je==1){if(ee.getEndPosition()-ee.getPosition()<8||he&&he-Ee<8)return ee.seek(ke),Oe.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+Le+'" box'),{code:ye.ERR_NOT_ENOUGH_DATA};je=ee.readUint64(),Ee+=8}else if(je===0){if(he)je=he;else if(Le!=="mdat")return Oe.error("BoxParser","Unlimited box size not supported for type: '"+Le+"'"),ce=new ye.Box(Le,je),{code:ye.OK,box:ce,size:ce.size}}return je!==0&&je<Ee?(Oe.error("BoxParser","Box of type "+Le+" has an invalid size "+je+" (too small to be a box)"),{code:ye.ERR_NOT_ENOUGH_DATA,type:Le,size:je,hdr_size:Ee,start:ke}):je!==0&&he&&he<je?(Oe.error("BoxParser","Box of type '"+Le+"' has a size "+je+" greater than its container size "+he),{code:ye.ERR_NOT_ENOUGH_DATA,type:Le,size:je,hdr_size:Ee,start:ke}):je!==0&&ke+je>ee.getEndPosition()?(ee.seek(ke),Oe.info("BoxParser","Not enough data in stream to parse the entire '"+Le+"' box"),{code:ye.ERR_NOT_ENOUGH_DATA,type:Le,size:je,hdr_size:Ee,start:ke}):se?{code:ye.OK,type:Le,size:je,hdr_size:Ee,start:ke}:(ye[Le+"Box"]?ce=new ye[Le+"Box"](je):Le!=="uuid"?(Oe.warn("BoxParser","Unknown box type: '"+Le+"'"),(ce=new ye.Box(Le,je)).has_unparsed_data=!0):ye.UUIDBoxes[Ae]?ce=new ye.UUIDBoxes[Ae](je):(Oe.warn("BoxParser","Unknown uuid type: '"+Ae+"'"),(ce=new ye.Box(Le,je)).uuid=Ae,ce.has_unparsed_data=!0),ce.hdr_size=Ee,ce.start=ke,ce.write===ye.Box.prototype.write&&ce.type!=="mdat"&&(Oe.info("BoxParser","'"+$e+"' box writing not yet implemented, keeping unparsed data in memory for later write"),ce.parseDataAndRewind(ee)),ce.parse(ee),(he=ee.getPosition()-(ce.start+ce.size))<0?(Oe.warn("BoxParser","Parsing of box '"+$e+"' did not read the entire indicated box data size (missing "+-he+" bytes), seeking forward"),ee.seek(ce.start+ce.size)):0<he&&(Oe.error("BoxParser","Parsing of box '"+$e+"' read "+he+" more bytes than the indicated box data size, seeking backwards"),ce.size!==0)&&ee.seek(ce.start+ce.size),{code:ye.OK,box:ce,size:ce.size})},ye.Box.prototype.parse=function(ee){this.type!="mdat"?this.data=ee.readUint8Array(this.size-this.hdr_size):this.size===0?ee.seek(ee.getEndPosition()):ee.seek(this.start+this.size)},ye.Box.prototype.parseDataAndRewind=function(ee){this.data=ee.readUint8Array(this.size-this.hdr_size),ee.position-=this.size-this.hdr_size},ye.FullBox.prototype.parseDataAndRewind=function(ee){this.parseFullHeader(ee),this.data=ee.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,ee.position-=this.size-this.hdr_size},ye.FullBox.prototype.parseFullHeader=function(ee){this.version=ee.readUint8(),this.flags=ee.readUint24(),this.hdr_size+=4},ye.FullBox.prototype.parse=function(ee){this.parseFullHeader(ee),this.data=ee.readUint8Array(this.size-this.hdr_size)},ye.ContainerBox.prototype.parse=function(ee){for(;ee.getPosition()<this.start+this.size;){if((he=ye.parseOneBox(ee,!1,this.size-(ee.getPosition()-this.start))).code!==ye.OK)return;var se,he=he.box;this.boxes.push(he),this.subBoxNames&&this.subBoxNames.indexOf(he.type)!=-1?this[this.subBoxNames[this.subBoxNames.indexOf(he.type)]+"s"].push(he):this[se=he.type!=="uuid"?he.type:he.uuid]?Oe.warn("Box of type "+se+" already stored in field of this type"):this[se]=he}},ye.Box.prototype.parseLanguage=function(ee){this.language=ee.readUint16(),ee=[],ee[0]=this.language>>10&31,ee[1]=this.language>>5&31,ee[2]=31&this.language,this.languageString=String.fromCharCode(ee[0]+96,ee[1]+96,ee[2]+96)},ye.SAMPLE_ENTRY_TYPE_VISUAL="Visual",ye.SAMPLE_ENTRY_TYPE_AUDIO="Audio",ye.SAMPLE_ENTRY_TYPE_HINT="Hint",ye.SAMPLE_ENTRY_TYPE_METADATA="Metadata",ye.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",ye.SAMPLE_ENTRY_TYPE_SYSTEM="System",ye.SAMPLE_ENTRY_TYPE_TEXT="Text",ye.SampleEntry.prototype.parseHeader=function(ee){ee.readUint8Array(6),this.data_reference_index=ee.readUint16(),this.hdr_size+=8},ye.SampleEntry.prototype.parse=function(ee){this.parseHeader(ee),this.data=ee.readUint8Array(this.size-this.hdr_size)},ye.SampleEntry.prototype.parseDataAndRewind=function(ee){this.parseHeader(ee),this.data=ee.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,ee.position-=this.size-this.hdr_size},ye.SampleEntry.prototype.parseFooter=function(ee){ye.ContainerBox.prototype.parse.call(this,ee)},ye.createMediaSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_HINT),ye.createMediaSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_METADATA),ye.createMediaSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_SUBTITLE),ye.createMediaSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_SYSTEM),ye.createMediaSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_TEXT),ye.createMediaSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,function(ee){var se;this.parseHeader(ee),ee.readUint16(),ee.readUint16(),ee.readUint32Array(3),this.width=ee.readUint16(),this.height=ee.readUint16(),this.horizresolution=ee.readUint32(),this.vertresolution=ee.readUint32(),ee.readUint32(),this.frame_count=ee.readUint16(),se=Math.min(31,ee.readUint8()),this.compressorname=ee.readString(se),se<31&&ee.readString(31-se),this.depth=ee.readUint16(),ee.readUint16(),this.parseFooter(ee)}),ye.createMediaSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_AUDIO,function(ee){this.parseHeader(ee),ee.readUint32Array(2),this.channel_count=ee.readUint16(),this.samplesize=ee.readUint16(),ee.readUint16(),ee.readUint16(),this.samplerate=ee.readUint32()/65536,this.parseFooter(ee)}),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),ye.createEncryptedSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),ye.createEncryptedSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),ye.createEncryptedSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),ye.createEncryptedSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),ye.createEncryptedSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_TEXT,"enct"),ye.createEncryptedSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_METADATA,"encm"),ye.createBoxCtor("a1lx",function(ee){var se=16*(1+(1&ee.readUint8()));this.layer_size=[];for(var he=0;he<3;he++)this.layer_size[he]=se==16?ee.readUint16():ee.readUint32()}),ye.createBoxCtor("a1op",function(ee){this.op_index=ee.readUint8()}),ye.createFullBoxCtor("auxC",function(ee){this.aux_type=ee.readCString();var se=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=ee.readUint8Array(se)}),ye.createBoxCtor("av1C",function(ee){var se=ee.readUint8();if(se>>7&!1)Oe.error("av1C marker problem");else if(this.version=127&se,this.version===1)if(se=ee.readUint8(),this.seq_profile=se>>5&7,this.seq_level_idx_0=31&se,se=ee.readUint8(),this.seq_tier_0=se>>7&1,this.high_bitdepth=se>>6&1,this.twelve_bit=se>>5&1,this.monochrome=se>>4&1,this.chroma_subsampling_x=se>>3&1,this.chroma_subsampling_y=se>>2&1,this.chroma_sample_position=3&se,se=ee.readUint8(),this.reserved_1=se>>5&7,this.reserved_1===0){if(this.initial_presentation_delay_present=se>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=15&se;else if(this.reserved_2=15&se,this.reserved_2!==0)return void Oe.error("av1C reserved_2 parsing problem");se=this.size-this.hdr_size-4,this.configOBUs=ee.readUint8Array(se)}else Oe.error("av1C reserved_1 parsing problem");else Oe.error("av1C version "+this.version+" not supported")}),ye.createBoxCtor("avcC",function(ee){var se,he;for(this.configurationVersion=ee.readUint8(),this.AVCProfileIndication=ee.readUint8(),this.profile_compatibility=ee.readUint8(),this.AVCLevelIndication=ee.readUint8(),this.lengthSizeMinusOne=3&ee.readUint8(),this.nb_SPS_nalus=31&ee.readUint8(),he=this.size-this.hdr_size-6,this.SPS=[],se=0;se<this.nb_SPS_nalus;se++)this.SPS[se]={},this.SPS[se].length=ee.readUint16(),this.SPS[se].nalu=ee.readUint8Array(this.SPS[se].length),he-=2+this.SPS[se].length;for(this.nb_PPS_nalus=ee.readUint8(),he--,this.PPS=[],se=0;se<this.nb_PPS_nalus;se++)this.PPS[se]={},this.PPS[se].length=ee.readUint16(),this.PPS[se].nalu=ee.readUint8Array(this.PPS[se].length),he-=2+this.PPS[se].length;0<he&&(this.ext=ee.readUint8Array(he))}),ye.createBoxCtor("btrt",function(ee){this.bufferSizeDB=ee.readUint32(),this.maxBitrate=ee.readUint32(),this.avgBitrate=ee.readUint32()}),ye.createBoxCtor("clap",function(ee){this.cleanApertureWidthN=ee.readUint32(),this.cleanApertureWidthD=ee.readUint32(),this.cleanApertureHeightN=ee.readUint32(),this.cleanApertureHeightD=ee.readUint32(),this.horizOffN=ee.readUint32(),this.horizOffD=ee.readUint32(),this.vertOffN=ee.readUint32(),this.vertOffD=ee.readUint32()}),ye.createBoxCtor("clli",function(ee){this.max_content_light_level=ee.readUint16(),this.max_pic_average_light_level=ee.readUint16()}),ye.createFullBoxCtor("co64",function(ee){var se,he=ee.readUint32();if(this.chunk_offsets=[],this.version===0)for(se=0;se<he;se++)this.chunk_offsets.push(ee.readUint64())}),ye.createFullBoxCtor("CoLL",function(ee){this.maxCLL=ee.readUint16(),this.maxFALL=ee.readUint16()}),ye.createBoxCtor("colr",function(ee){var se;this.colour_type=ee.readString(4),this.colour_type==="nclx"?(this.colour_primaries=ee.readUint16(),this.transfer_characteristics=ee.readUint16(),this.matrix_coefficients=ee.readUint16(),se=ee.readUint8(),this.full_range_flag=se>>7):this.colour_type!=="rICC"&&this.colour_type!=="prof"||(this.ICC_profile=ee.readUint8Array(this.size-4))}),ye.createFullBoxCtor("cprt",function(ee){this.parseLanguage(ee),this.notice=ee.readCString()}),ye.createFullBoxCtor("cslg",function(ee){this.version===0&&(this.compositionToDTSShift=ee.readInt32(),this.leastDecodeToDisplayDelta=ee.readInt32(),this.greatestDecodeToDisplayDelta=ee.readInt32(),this.compositionStartTime=ee.readInt32(),this.compositionEndTime=ee.readInt32())}),ye.createFullBoxCtor("ctts",function(ee){var se,he=ee.readUint32();if(this.sample_counts=[],this.sample_offsets=[],this.version===0)for(se=0;se<he;se++){this.sample_counts.push(ee.readUint32());var ce=ee.readInt32();ce<0&&Oe.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(ce)}else if(this.version==1)for(se=0;se<he;se++)this.sample_counts.push(ee.readUint32()),this.sample_offsets.push(ee.readInt32())}),ye.createBoxCtor("dac3",function(ce){var se=ce.readUint8(),he=ce.readUint8(),ce=ce.readUint8();this.fscod=se>>6,this.bsid=se>>1&31,this.bsmod=(1&se)<<2|he>>6&3,this.acmod=he>>3&7,this.lfeon=he>>2&1,this.bit_rate_code=3&he|ce>>5&7}),ye.createBoxCtor("dec3",function(ee){var se=ee.readUint16();this.data_rate=se>>3,this.num_ind_sub=7&se,this.ind_subs=[];for(var he=0;he<this.num_ind_sub+1;he++){var ce={},Ae=(this.ind_subs.push(ce),ee.readUint8()),ke=ee.readUint8(),Ee=ee.readUint8();ce.fscod=Ae>>6,ce.bsid=Ae>>1&31,ce.bsmod=(1&Ae)<<4|ke>>4&15,ce.acmod=ke>>1&7,ce.lfeon=1&ke,ce.num_dep_sub=Ee>>1&15,0<ce.num_dep_sub&&(ce.chan_loc=(1&Ee)<<8|ee.readUint8())}}),ye.createFullBoxCtor("dfLa",function(ee){var se=[],he=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];for(this.parseFullHeader(ee);;){var ce=ee.readUint8(),Ae=Math.min(127&ce,he.length-1);if(Ae?ee.readUint8Array(ee.readUint24()):(ee.readUint8Array(13),this.samplerate=ee.readUint32()>>12,ee.readUint8Array(20)),se.push(he[Ae]),128&ce)break}this.numMetadataBlocks=se.length+" ("+se.join(", ")+")"}),ye.createBoxCtor("dimm",function(ee){this.bytessent=ee.readUint64()}),ye.createBoxCtor("dmax",function(ee){this.time=ee.readUint32()}),ye.createBoxCtor("dmed",function(ee){this.bytessent=ee.readUint64()}),ye.createBoxCtor("dOps",function(ee){if(this.Version=ee.readUint8(),this.OutputChannelCount=ee.readUint8(),this.PreSkip=ee.readUint16(),this.InputSampleRate=ee.readUint32(),this.OutputGain=ee.readInt16(),this.ChannelMappingFamily=ee.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=ee.readUint8(),this.CoupledCount=ee.readUint8(),this.ChannelMapping=[];for(var se=0;se<this.OutputChannelCount;se++)this.ChannelMapping[se]=ee.readUint8()}}),ye.createFullBoxCtor("dref",function(ee){var se;this.entries=[];for(var he=ee.readUint32(),ce=0;ce<he;ce++){if((se=ye.parseOneBox(ee,!1,this.size-(ee.getPosition()-this.start))).code!==ye.OK)return;se=se.box,this.entries.push(se)}}),ye.createBoxCtor("drep",function(ee){this.bytessent=ee.readUint64()}),ye.createFullBoxCtor("elng",function(ee){this.extended_language=ee.readString(this.size-this.hdr_size)}),ye.createFullBoxCtor("elst",function(ee){this.entries=[];for(var se=ee.readUint32(),he=0;he<se;he++){var ce={};this.entries.push(ce),this.version===1?(ce.segment_duration=ee.readUint64(),ce.media_time=ee.readInt64()):(ce.segment_duration=ee.readUint32(),ce.media_time=ee.readInt32()),ce.media_rate_integer=ee.readInt16(),ce.media_rate_fraction=ee.readInt16()}}),ye.createFullBoxCtor("emsg",function(ee){this.version==1?(this.timescale=ee.readUint32(),this.presentation_time=ee.readUint64(),this.event_duration=ee.readUint32(),this.id=ee.readUint32(),this.scheme_id_uri=ee.readCString(),this.value=ee.readCString()):(this.scheme_id_uri=ee.readCString(),this.value=ee.readCString(),this.timescale=ee.readUint32(),this.presentation_time_delta=ee.readUint32(),this.event_duration=ee.readUint32(),this.id=ee.readUint32());var se=this.size-this.hdr_size-(16+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(se-=4),this.message_data=ee.readUint8Array(se)}),ye.createFullBoxCtor("esds",function(se){var se=se.readUint8Array(this.size-this.hdr_size),he=new _e;this.esd=he.parseOneDescriptor(new ae(se.buffer,0,ae.BIG_ENDIAN))}),ye.createBoxCtor("fiel",function(ee){this.fieldCount=ee.readUint8(),this.fieldOrdering=ee.readUint8()}),ye.createBoxCtor("frma",function(ee){this.data_format=ee.readString(4)}),ye.createBoxCtor("ftyp",function(ee){var se=this.size-this.hdr_size;this.major_brand=ee.readString(4),this.minor_version=ee.readUint32(),se-=8,this.compatible_brands=[];for(var he=0;4<=se;)this.compatible_brands[he]=ee.readString(4),se-=4,he++}),ye.createFullBoxCtor("hdlr",function(ee){this.version===0&&(ee.readUint32(),this.handler=ee.readString(4),ee.readUint32Array(3),this.name=ee.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0")&&(this.name=this.name.slice(0,-1))}),ye.createBoxCtor("hvcC",function(ee){this.configurationVersion=ee.readUint8(),he=ee.readUint8(),this.general_profile_space=he>>6,this.general_tier_flag=(32&he)>>5,this.general_profile_idc=31&he,this.general_profile_compatibility=ee.readUint32(),this.general_constraint_indicator=ee.readUint8Array(6),this.general_level_idc=ee.readUint8(),this.min_spatial_segmentation_idc=4095&ee.readUint16(),this.parallelismType=3&ee.readUint8(),this.chroma_format_idc=3&ee.readUint8(),this.bit_depth_luma_minus8=7&ee.readUint8(),this.bit_depth_chroma_minus8=7&ee.readUint8(),this.avgFrameRate=ee.readUint16(),he=ee.readUint8(),this.constantFrameRate=he>>6,this.numTemporalLayers=(13&he)>>3,this.temporalIdNested=(4&he)>>2,this.lengthSizeMinusOne=3&he,this.nalu_arrays=[];for(var se,he,ce=ee.readUint8(),Ae=0;Ae<ce;Ae++)for(var ke=[],Ee=(this.nalu_arrays.push(ke),he=ee.readUint8(),ke.completeness=(128&he)>>7,ke.nalu_type=63&he,ee.readUint16()),je=0;je<Ee;je++){var Le={};ke.push(Le),se=ee.readUint16(),Le.data=ee.readUint8Array(se)}}),ye.createFullBoxCtor("iinf",function(ee){var se;this.version===0?this.entry_count=ee.readUint16():this.entry_count=ee.readUint32(),this.item_infos=[];for(var he=0;he<this.entry_count;he++){if((se=ye.parseOneBox(ee,!1,this.size-(ee.getPosition()-this.start))).code!==ye.OK)return;se.box.type!=="infe"&&Oe.error("BoxParser","Expected 'infe' box, got "+se.box.type),this.item_infos[he]=se.box}}),ye.createFullBoxCtor("iloc",function(ee){var se=ee.readUint8(),he=(this.offset_size=se>>4&15,this.length_size=15&se,se=ee.readUint8(),this.base_offset_size=se>>4&15,this.version===1||this.version===2?this.index_size=15&se:this.index_size=0,this.items=[],0);if(this.version<2)he=ee.readUint16();else{if(this.version!==2)throw"version of iloc box not supported";he=ee.readUint32()}for(var ce=0;ce<he;ce++){var Ae={};if(this.items.push(Ae),!(this.version<2)&&this.version!==2)throw"version of iloc box not supported";switch(Ae.item_ID=ee.readUint16(),this.version===1||this.version===2?Ae.construction_method=15&ee.readUint16():Ae.construction_method=0,Ae.data_reference_index=ee.readUint16(),this.base_offset_size){case 0:Ae.base_offset=0;break;case 4:Ae.base_offset=ee.readUint32();break;case 8:Ae.base_offset=ee.readUint64();break;default:throw"Error reading base offset size"}var ke=ee.readUint16();Ae.extents=[];for(var Ee=0;Ee<ke;Ee++){var je={};if(Ae.extents.push(je),this.version===1||this.version===2)switch(this.index_size){case 0:je.extent_index=0;break;case 4:je.extent_index=ee.readUint32();break;case 8:je.extent_index=ee.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:je.extent_offset=0;break;case 4:je.extent_offset=ee.readUint32();break;case 8:je.extent_offset=ee.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:je.extent_length=0;break;case 4:je.extent_length=ee.readUint32();break;case 8:je.extent_length=ee.readUint64();break;default:throw"Error reading extent index"}}}}),ye.createBoxCtor("imir",function(ee){ee=ee.readUint8(),this.reserved=ee>>7,this.axis=1&ee}),ye.createFullBoxCtor("infe",function(ee){this.version!==0&&this.version!==1||(this.item_ID=ee.readUint16(),this.item_protection_index=ee.readUint16(),this.item_name=ee.readCString(),this.content_type=ee.readCString(),this.content_encoding=ee.readCString()),this.version===1?(this.extension_type=ee.readString(4),Oe.warn("BoxParser","Cannot parse extension type"),ee.seek(this.start+this.size)):2<=this.version&&(this.version===2?this.item_ID=ee.readUint16():this.version===3&&(this.item_ID=ee.readUint32()),this.item_protection_index=ee.readUint16(),this.item_type=ee.readString(4),this.item_name=ee.readCString(),this.item_type==="mime"?(this.content_type=ee.readCString(),this.content_encoding=ee.readCString()):this.item_type==="uri "&&(this.item_uri_type=ee.readCString()))}),ye.createFullBoxCtor("ipma",function(ee){var se,he;for(entry_count=ee.readUint32(),this.associations=[],se=0;se<entry_count;se++){var ce={},Ae=(this.associations.push(ce),this.version<1?ce.id=ee.readUint16():ce.id=ee.readUint32(),ee.readUint8());for(ce.props=[],he=0;he<Ae;he++){var ke=ee.readUint8(),Ee={};ce.props.push(Ee),Ee.essential=(128&ke)>>7==1,1&this.flags?Ee.property_index=(127&ke)<<8|ee.readUint8():Ee.property_index=127&ke}}}),ye.createFullBoxCtor("iref",function(ee){var se;for(this.references=[];ee.getPosition()<this.start+this.size;){if((se=ye.parseOneBox(ee,!0,this.size-(ee.getPosition()-this.start))).code!==ye.OK)return;(se=new(this.version===0?ye.SingleItemTypeReferenceBox:ye.SingleItemTypeReferenceBoxLarge)(se.type,se.size,se.hdr_size,se.start)).write===ye.Box.prototype.write&&se.type!=="mdat"&&(Oe.warn("BoxParser",se.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),se.parseDataAndRewind(ee)),se.parse(ee),this.references.push(se)}}),ye.createBoxCtor("irot",function(ee){this.angle=3&ee.readUint8()}),ye.createFullBoxCtor("ispe",function(ee){this.image_width=ee.readUint32(),this.image_height=ee.readUint32()}),ye.createFullBoxCtor("kind",function(ee){this.schemeURI=ee.readCString(),this.value=ee.readCString()}),ye.createFullBoxCtor("leva",function(ee){var se=ee.readUint8();this.levels=[];for(var he=0;he<se;he++){var ce={},Ae=((this.levels[he]=ce).track_ID=ee.readUint32(),ee.readUint8());switch(ce.padding_flag=Ae>>7,ce.assignment_type=127&Ae,ce.assignment_type){case 0:ce.grouping_type=ee.readString(4);break;case 1:ce.grouping_type=ee.readString(4),ce.grouping_type_parameter=ee.readUint32();break;case 2:case 3:break;case 4:ce.sub_track_id=ee.readUint32();break;default:Oe.warn("BoxParser","Unknown leva assignement type")}}}),ye.createBoxCtor("lsel",function(ee){this.layer_id=ee.readUint16()}),ye.createBoxCtor("maxr",function(ee){this.period=ee.readUint32(),this.bytes=ee.readUint32()}),ye.createBoxCtor("mdcv",function(ee){this.display_primaries=[],this.display_primaries[0]={},this.display_primaries[0].x=ee.readUint16(),this.display_primaries[0].y=ee.readUint16(),this.display_primaries[1]={},this.display_primaries[1].x=ee.readUint16(),this.display_primaries[1].y=ee.readUint16(),this.display_primaries[2]={},this.display_primaries[2].x=ee.readUint16(),this.display_primaries[2].y=ee.readUint16(),this.white_point={},this.white_point.x=ee.readUint16(),this.white_point.y=ee.readUint16(),this.max_display_mastering_luminance=ee.readUint32(),this.min_display_mastering_luminance=ee.readUint32()}),ye.createFullBoxCtor("mdhd",function(ee){this.version==1?(this.creation_time=ee.readUint64(),this.modification_time=ee.readUint64(),this.timescale=ee.readUint32(),this.duration=ee.readUint64()):(this.creation_time=ee.readUint32(),this.modification_time=ee.readUint32(),this.timescale=ee.readUint32(),this.duration=ee.readUint32()),this.parseLanguage(ee),ee.readUint16()}),ye.createFullBoxCtor("mehd",function(ee){1&this.flags&&(Oe.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=ee.readUint64():this.fragment_duration=ee.readUint32()}),ye.createFullBoxCtor("meta",function(ee){this.boxes=[],ye.ContainerBox.prototype.parse.call(this,ee)}),ye.createFullBoxCtor("mfhd",function(ee){this.sequence_number=ee.readUint32()}),ye.createFullBoxCtor("mfro",function(ee){this._size=ee.readUint32()}),ye.createFullBoxCtor("mvhd",function(ee){this.version==1?(this.creation_time=ee.readUint64(),this.modification_time=ee.readUint64(),this.timescale=ee.readUint32(),this.duration=ee.readUint64()):(this.creation_time=ee.readUint32(),this.modification_time=ee.readUint32(),this.timescale=ee.readUint32(),this.duration=ee.readUint32()),this.rate=ee.readUint32(),this.volume=ee.readUint16()>>8,ee.readUint16(),ee.readUint32Array(2),this.matrix=ee.readUint32Array(9),ee.readUint32Array(6),this.next_track_id=ee.readUint32()}),ye.createBoxCtor("npck",function(ee){this.packetssent=ee.readUint32()}),ye.createBoxCtor("nump",function(ee){this.packetssent=ee.readUint64()}),ye.createFullBoxCtor("padb",function(ee){var se=ee.readUint32();this.padbits=[];for(var he=0;he<Math.floor((se+1)/2);he++)this.padbits=ee.readUint8()}),ye.createBoxCtor("pasp",function(ee){this.hSpacing=ee.readUint32(),this.vSpacing=ee.readUint32()}),ye.createBoxCtor("payl",function(ee){this.text=ee.readString(this.size-this.hdr_size)}),ye.createBoxCtor("payt",function(ee){this.payloadID=ee.readUint32();var se=ee.readUint8();this.rtpmap_string=ee.readString(se)}),ye.createFullBoxCtor("pdin",function(ee){var se=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var he=0;he<se;he++)this.rate[he]=ee.readUint32(),this.initial_delay[he]=ee.readUint32()}),ye.createFullBoxCtor("pitm",function(ee){this.version===0?this.item_id=ee.readUint16():this.item_id=ee.readUint32()}),ye.createFullBoxCtor("pixi",function(ee){var se;for(this.num_channels=ee.readUint8(),this.bits_per_channels=[],se=0;se<this.num_channels;se++)this.bits_per_channels[se]=ee.readUint8()}),ye.createBoxCtor("pmax",function(ee){this.bytes=ee.readUint32()}),ye.createFullBoxCtor("prft",function(ee){this.ref_track_id=ee.readUint32(),this.ntp_timestamp=ee.readUint64(),this.version===0?this.media_time=ee.readUint32():this.media_time=ee.readUint64()}),ye.createFullBoxCtor("pssh",function(ee){if(this.system_id=ye.parseHex16(ee),0<this.version){var se=ee.readUint32();this.kid=[];for(var he=0;he<se;he++)this.kid[he]=ye.parseHex16(ee)}var ce=ee.readUint32();0<ce&&(this.data=ee.readUint8Array(ce))}),ye.createFullBoxCtor("clef",function(ee){this.width=ee.readUint32(),this.height=ee.readUint32()}),ye.createFullBoxCtor("enof",function(ee){this.width=ee.readUint32(),this.height=ee.readUint32()}),ye.createFullBoxCtor("prof",function(ee){this.width=ee.readUint32(),this.height=ee.readUint32()}),ye.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),ye.createBoxCtor("rtp ",function(ee){this.descriptionformat=ee.readString(4),this.sdptext=ee.readString(this.size-this.hdr_size-4)}),ye.createFullBoxCtor("saio",function(ee){1&this.flags&&(this.aux_info_type=ee.readUint32(),this.aux_info_type_parameter=ee.readUint32());var se=ee.readUint32();this.offset=[];for(var he=0;he<se;he++)this.version===0?this.offset[he]=ee.readUint32():this.offset[he]=ee.readUint64()}),ye.createFullBoxCtor("saiz",function(ee){1&this.flags&&(this.aux_info_type=ee.readUint32(),this.aux_info_type_parameter=ee.readUint32()),this.default_sample_info_size=ee.readUint8();var se=ee.readUint32();if(this.sample_info_size=[],this.default_sample_info_size===0)for(var he=0;he<se;he++)this.sample_info_size[he]=ee.readUint8()}),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(ee){this.parseHeader(ee),this.content_encoding=ee.readCString(),this.mime_format=ee.readCString(),this.parseFooter(ee)}),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(ee){this.parseHeader(ee),this.content_encoding=ee.readCString(),this.namespace=ee.readCString(),this.schema_location=ee.readCString(),this.parseFooter(ee)}),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(ee){this.parseHeader(ee),this.content_encoding=ee.readCString(),this.mime_format=ee.readCString(),this.parseFooter(ee)}),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(ee){this.parseHeader(ee),this.namespace=ee.readCString(),this.schema_location=ee.readCString(),this.auxiliary_mime_types=ee.readCString(),this.parseFooter(ee)}),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(ee){this.parseHeader(ee),this.content_encoding=ee.readCString(),this.mime_format=ee.readCString(),this.parseFooter(ee)}),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(ee){this.parseHeader(ee),this.displayFlags=ee.readUint32(),this.horizontal_justification=ee.readInt8(),this.vertical_justification=ee.readInt8(),this.bg_color_rgba=ee.readUint8Array(4),this.box_record=ee.readInt16Array(4),this.style_record=ee.readUint8Array(12),this.parseFooter(ee)}),ye.createSampleEntryCtor(ye.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(ee){this.parseHeader(ee),this.parseFooter(ee)}),ye.createSampleGroupCtor("alst",function(ee){var se,he=ee.readUint16();for(this.first_output_sample=ee.readUint16(),this.sample_offset=[],se=0;se<he;se++)this.sample_offset[se]=ee.readUint32();var ce=this.description_length-4-4*he;for(this.num_output_samples=[],this.num_total_samples=[],se=0;se<ce/4;se++)this.num_output_samples[se]=ee.readUint16(),this.num_total_samples[se]=ee.readUint16()}),ye.createSampleGroupCtor("avll",function(ee){this.layerNumber=ee.readUint8(),this.accurateStatisticsFlag=ee.readUint8(),this.avgBitRate=ee.readUint16(),this.avgFrameRate=ee.readUint16()}),ye.createSampleGroupCtor("avss",function(ee){this.subSequenceIdentifier=ee.readUint16(),this.layerNumber=ee.readUint8();var se=ee.readUint8();this.durationFlag=se>>7,this.avgRateFlag=se>>6&1,this.durationFlag&&(this.duration=ee.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=ee.readUint8(),this.avgBitRate=ee.readUint16(),this.avgFrameRate=ee.readUint16()),this.dependency=[];for(var he=ee.readUint8(),ce=0;ce<he;ce++){var Ae={};this.dependency.push(Ae),Ae.subSeqDirectionFlag=ee.readUint8(),Ae.layerNumber=ee.readUint8(),Ae.subSequenceIdentifier=ee.readUint16()}}),ye.createSampleGroupCtor("dtrt",function(ee){Oe.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),ye.createSampleGroupCtor("mvif",function(ee){Oe.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),ye.createSampleGroupCtor("prol",function(ee){this.roll_distance=ee.readInt16()}),ye.createSampleGroupCtor("rap ",function(ee){ee=ee.readUint8(),this.num_leading_samples_known=ee>>7,this.num_leading_samples=127&ee}),ye.createSampleGroupCtor("rash",function(ee){if(this.operation_point_count=ee.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:6*this.operation_point_count)+9)Oe.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=ee.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=ee.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var se=0;se<this.operation_point_count;se++)this.available_bitrate[se]=ee.readUint32(),this.target_rate_share[se]=ee.readUint16()}this.maximum_bitrate=ee.readUint32(),this.minimum_bitrate=ee.readUint32(),this.discard_priority=ee.readUint8()}}),ye.createSampleGroupCtor("roll",function(ee){this.roll_distance=ee.readInt16()}),ye.SampleGroupEntry.prototype.parse=function(ee){Oe.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=ee.readUint8Array(this.description_length)},ye.createSampleGroupCtor("scif",function(ee){Oe.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),ye.createSampleGroupCtor("scnm",function(ee){Oe.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),ye.createSampleGroupCtor("seig",function(ee){this.reserved=ee.readUint8();var se=ee.readUint8();this.crypt_byte_block=se>>4,this.skip_byte_block=15&se,this.isProtected=ee.readUint8(),this.Per_Sample_IV_Size=ee.readUint8(),this.KID=ye.parseHex16(ee),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=ee.readUint8(),this.constant_IV=ee.readUint8Array(this.constant_IV_size))}),ye.createSampleGroupCtor("stsa",function(ee){Oe.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),ye.createSampleGroupCtor("sync",function(ee){ee=ee.readUint8(),this.NAL_unit_type=63&ee}),ye.createSampleGroupCtor("tele",function(ee){ee=ee.readUint8(),this.level_independently_decodable=ee>>7}),ye.createSampleGroupCtor("tsas",function(ee){Oe.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),ye.createSampleGroupCtor("tscl",function(ee){Oe.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),ye.createSampleGroupCtor("vipr",function(ee){Oe.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),ye.createFullBoxCtor("sbgp",function(ee){this.grouping_type=ee.readString(4),this.version===1?this.grouping_type_parameter=ee.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var se=ee.readUint32(),he=0;he<se;he++){var ce={};this.entries.push(ce),ce.sample_count=ee.readInt32(),ce.group_description_index=ee.readInt32()}}),ye.createFullBoxCtor("schm",function(ee){this.scheme_type=ee.readString(4),this.scheme_version=ee.readUint32(),1&this.flags&&(this.scheme_uri=ee.readString(this.size-this.hdr_size-8))}),ye.createBoxCtor("sdp ",function(ee){this.sdptext=ee.readString(this.size-this.hdr_size)}),ye.createFullBoxCtor("sdtp",function(ee){var se,he=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var ce=0;ce<he;ce++)se=ee.readUint8(),this.is_leading[ce]=se>>6,this.sample_depends_on[ce]=se>>4&3,this.sample_is_depended_on[ce]=se>>2&3,this.sample_has_redundancy[ce]=3&se}),ye.createFullBoxCtor("senc"),ye.createFullBoxCtor("sgpd",function(ee){this.grouping_type=ee.readString(4),Oe.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=ee.readUint32():this.default_length=0,2<=this.version&&(this.default_group_description_index=ee.readUint32()),this.entries=[];for(var se=ee.readUint32(),he=0;he<se;he++){var ce=new(ye[this.grouping_type+"SampleGroupEntry"]?ye[this.grouping_type+"SampleGroupEntry"]:ye.SampleGroupEntry)(this.grouping_type);this.entries.push(ce),this.version===1&&this.default_length===0?ce.description_length=ee.readUint32():ce.description_length=this.default_length,ce.write===ye.SampleGroupEntry.prototype.write&&(Oe.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),ce.data=ee.readUint8Array(ce.description_length),ee.position-=ce.description_length),ce.parse(ee)}}),ye.createFullBoxCtor("sidx",function(ee){this.reference_ID=ee.readUint32(),this.timescale=ee.readUint32(),this.version===0?(this.earliest_presentation_time=ee.readUint32(),this.first_offset=ee.readUint32()):(this.earliest_presentation_time=ee.readUint64(),this.first_offset=ee.readUint64()),ee.readUint16(),this.references=[];for(var se=ee.readUint16(),he=0;he<se;he++){var ce={},Ae=(this.references.push(ce),ee.readUint32());ce.reference_type=Ae>>31&1,ce.referenced_size=2147483647&Ae,ce.subsegment_duration=ee.readUint32(),Ae=ee.readUint32(),ce.starts_with_SAP=Ae>>31&1,ce.SAP_type=Ae>>28&7,ce.SAP_delta_time=268435455&Ae}}),ye.SingleItemTypeReferenceBox=function(ee,se,he,ce){ye.Box.call(this,ee,se),this.hdr_size=he,this.start=ce},ye.SingleItemTypeReferenceBox.prototype=new ye.Box,ye.SingleItemTypeReferenceBox.prototype.parse=function(ee){this.from_item_ID=ee.readUint16();var se=ee.readUint16();this.references=[];for(var he=0;he<se;he++)this.references[he]=ee.readUint16()},ye.SingleItemTypeReferenceBoxLarge=function(ee,se,he,ce){ye.Box.call(this,ee,se),this.hdr_size=he,this.start=ce},ye.SingleItemTypeReferenceBoxLarge.prototype=new ye.Box,ye.SingleItemTypeReferenceBoxLarge.prototype.parse=function(ee){this.from_item_ID=ee.readUint32();var se=ee.readUint16();this.references=[];for(var he=0;he<se;he++)this.references[he]=ee.readUint32()},ye.createFullBoxCtor("SmDm",function(ee){this.primaryRChromaticity_x=ee.readUint16(),this.primaryRChromaticity_y=ee.readUint16(),this.primaryGChromaticity_x=ee.readUint16(),this.primaryGChromaticity_y=ee.readUint16(),this.primaryBChromaticity_x=ee.readUint16(),this.primaryBChromaticity_y=ee.readUint16(),this.whitePointChromaticity_x=ee.readUint16(),this.whitePointChromaticity_y=ee.readUint16(),this.luminanceMax=ee.readUint32(),this.luminanceMin=ee.readUint32()}),ye.createFullBoxCtor("smhd",function(ee){this.balance=ee.readUint16(),ee.readUint16()}),ye.createFullBoxCtor("ssix",function(ee){this.subsegments=[];for(var se=ee.readUint32(),he=0;he<se;he++){var ce={};this.subsegments.push(ce),ce.ranges=[];for(var Ae=ee.readUint32(),ke=0;ke<Ae;ke++){var Ee={};ce.ranges.push(Ee),Ee.level=ee.readUint8(),Ee.range_size=ee.readUint24()}}}),ye.createFullBoxCtor("stco",function(ee){var se=ee.readUint32();if(this.chunk_offsets=[],this.version===0)for(var he=0;he<se;he++)this.chunk_offsets.push(ee.readUint32())}),ye.createFullBoxCtor("stdp",function(ee){var se=(this.size-this.hdr_size)/2;this.priority=[];for(var he=0;he<se;he++)this.priority[he]=ee.readUint16()}),ye.createFullBoxCtor("sthd"),ye.createFullBoxCtor("stri",function(ee){this.switch_group=ee.readUint16(),this.alternate_group=ee.readUint16(),this.sub_track_id=ee.readUint32();var se=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var he=0;he<se;he++)this.attribute_list[he]=ee.readUint32()}),ye.createFullBoxCtor("stsc",function(ee){var se,he=ee.readUint32();if(this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(se=0;se<he;se++)this.first_chunk.push(ee.readUint32()),this.samples_per_chunk.push(ee.readUint32()),this.sample_description_index.push(ee.readUint32())}),ye.createFullBoxCtor("stsd",function(ee){var se,he,ce,Ae;for(this.entries=[],ce=ee.readUint32(),se=1;se<=ce;se++){if((he=ye.parseOneBox(ee,!0,this.size-(ee.getPosition()-this.start))).code!==ye.OK)return;ye[he.type+"SampleEntry"]?((Ae=new ye[he.type+"SampleEntry"](he.size)).hdr_size=he.hdr_size,Ae.start=he.start):(Oe.warn("BoxParser","Unknown sample entry type: "+he.type),Ae=new ye.SampleEntry(he.type,he.size,he.hdr_size,he.start)),Ae.write===ye.SampleEntry.prototype.write&&(Oe.info("BoxParser","SampleEntry "+Ae.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),Ae.parseDataAndRewind(ee)),Ae.parse(ee),this.entries.push(Ae)}}),ye.createFullBoxCtor("stsg",function(ee){this.grouping_type=ee.readUint32();var se=ee.readUint16();this.group_description_index=[];for(var he=0;he<se;he++)this.group_description_index[he]=ee.readUint32()}),ye.createFullBoxCtor("stsh",function(ee){var se,he=ee.readUint32();if(this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(se=0;se<he;se++)this.shadowed_sample_numbers.push(ee.readUint32()),this.sync_sample_numbers.push(ee.readUint32())}),ye.createFullBoxCtor("stss",function(ee){var se,he=ee.readUint32();if(this.version===0)for(this.sample_numbers=[],se=0;se<he;se++)this.sample_numbers.push(ee.readUint32())}),ye.createFullBoxCtor("stsz",function(ee){var se;if(this.sample_sizes=[],this.version===0)for(this.sample_size=ee.readUint32(),this.sample_count=ee.readUint32(),se=0;se<this.sample_count;se++)this.sample_size===0?this.sample_sizes.push(ee.readUint32()):this.sample_sizes[se]=this.sample_size}),ye.createFullBoxCtor("stts",function(ee){var se,he,ce=ee.readUint32();if(this.sample_counts=[],this.sample_deltas=[],this.version===0)for(se=0;se<ce;se++)this.sample_counts.push(ee.readUint32()),(he=ee.readInt32())<0&&(Oe.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),he=1),this.sample_deltas.push(he)}),ye.createFullBoxCtor("stvi",function(ee){var he=ee.readUint32();this.single_view_allowed=3&he,this.stereo_scheme=ee.readUint32();var se,he=ee.readUint32();for(this.stereo_indication_type=ee.readString(he),this.boxes=[];ee.getPosition()<this.start+this.size;){if((se=ye.parseOneBox(ee,!1,this.size-(ee.getPosition()-this.start))).code!==ye.OK)return;se=se.box,this.boxes.push(se),this[se.type]=se}}),ye.createBoxCtor("styp",function(ee){ye.ftypBox.prototype.parse.call(this,ee)}),ye.createFullBoxCtor("stz2",function(ee){var se,he;if(this.sample_sizes=[],this.version===0)if(this.reserved=ee.readUint24(),this.field_size=ee.readUint8(),he=ee.readUint32(),this.field_size===4)for(se=0;se<he;se+=2){var ce=ee.readUint8();this.sample_sizes[se]=ce>>4&15,this.sample_sizes[se+1]=15&ce}else if(this.field_size===8)for(se=0;se<he;se++)this.sample_sizes[se]=ee.readUint8();else if(this.field_size===16)for(se=0;se<he;se++)this.sample_sizes[se]=ee.readUint16();else Oe.error("BoxParser","Error in length field in stz2 box")}),ye.createFullBoxCtor("subs",function(ee){var se,he,ce,Ae=ee.readUint32();for(this.entries=[],se=0;se<Ae;se++){var ke={};if((this.entries[se]=ke).sample_delta=ee.readUint32(),ke.subsamples=[],0<(ce=ee.readUint16()))for(he=0;he<ce;he++){var Ee={};ke.subsamples.push(Ee),this.version==1?Ee.size=ee.readUint32():Ee.size=ee.readUint16(),Ee.priority=ee.readUint8(),Ee.discardable=ee.readUint8(),Ee.codec_specific_parameters=ee.readUint32()}}}),ye.createFullBoxCtor("tenc",function(ee){var se;ee.readUint8(),this.version===0?ee.readUint8():(se=ee.readUint8(),this.default_crypt_byte_block=se>>4&15,this.default_skip_byte_block=15&se),this.default_isProtected=ee.readUint8(),this.default_Per_Sample_IV_Size=ee.readUint8(),this.default_KID=ye.parseHex16(ee),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=ee.readUint8(),this.default_constant_IV=ee.readUint8Array(this.default_constant_IV_size))}),ye.createFullBoxCtor("tfdt",function(ee){this.version==1?this.baseMediaDecodeTime=ee.readUint64():this.baseMediaDecodeTime=ee.readUint32()}),ye.createFullBoxCtor("tfhd",function(ee){var se=0;this.track_id=ee.readUint32(),this.size-this.hdr_size>se&&this.flags&ye.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=ee.readUint64(),se+=8):this.base_data_offset=0,this.size-this.hdr_size>se&&this.flags&ye.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=ee.readUint32(),se+=4):this.default_sample_description_index=0,this.size-this.hdr_size>se&&this.flags&ye.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=ee.readUint32(),se+=4):this.default_sample_duration=0,this.size-this.hdr_size>se&&this.flags&ye.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=ee.readUint32(),se+=4):this.default_sample_size=0,this.size-this.hdr_size>se&&this.flags&ye.TFHD_FLAG_SAMPLE_FLAGS?this.default_sample_flags=ee.readUint32():this.default_sample_flags=0}),ye.createFullBoxCtor("tfra",function(ee){this.track_ID=ee.readUint32(),ee.readUint24();var se=ee.readUint8();this.length_size_of_traf_num=se>>4&3,this.length_size_of_trun_num=se>>2&3,this.length_size_of_sample_num=3&se,this.entries=[];for(var he=ee.readUint32(),ce=0;ce<he;ce++)this.version===1?(this.time=ee.readUint64(),this.moof_offset=ee.readUint64()):(this.time=ee.readUint32(),this.moof_offset=ee.readUint32()),this.traf_number=ee["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=ee["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=ee["readUint"+8*(this.length_size_of_sample_num+1)]()}),ye.createFullBoxCtor("tkhd",function(ee){this.version==1?(this.creation_time=ee.readUint64(),this.modification_time=ee.readUint64(),this.track_id=ee.readUint32(),ee.readUint32(),this.duration=ee.readUint64()):(this.creation_time=ee.readUint32(),this.modification_time=ee.readUint32(),this.track_id=ee.readUint32(),ee.readUint32(),this.duration=ee.readUint32()),ee.readUint32Array(2),this.layer=ee.readInt16(),this.alternate_group=ee.readInt16(),this.volume=ee.readInt16()>>8,ee.readUint16(),this.matrix=ee.readInt32Array(9),this.width=ee.readUint32(),this.height=ee.readUint32()}),ye.createBoxCtor("tmax",function(ee){this.time=ee.readUint32()}),ye.createBoxCtor("tmin",function(ee){this.time=ee.readUint32()}),ye.createBoxCtor("totl",function(ee){this.bytessent=ee.readUint32()}),ye.createBoxCtor("tpay",function(ee){this.bytessent=ee.readUint32()}),ye.createBoxCtor("tpyl",function(ee){this.bytessent=ee.readUint64()}),ye.TrackGroupTypeBox.prototype.parse=function(ee){this.parseFullHeader(ee),this.track_group_id=ee.readUint32()},ye.createTrackGroupCtor("msrc"),ye.TrackReferenceTypeBox=function(ee,se,he,ce){ye.Box.call(this,ee,se),this.hdr_size=he,this.start=ce},ye.TrackReferenceTypeBox.prototype=new ye.Box,ye.TrackReferenceTypeBox.prototype.parse=function(ee){this.track_ids=ee.readUint32Array((this.size-this.hdr_size)/4)},ye.trefBox.prototype.parse=function(ee){for(var se;ee.getPosition()<this.start+this.size;){if((se=ye.parseOneBox(ee,!0,this.size-(ee.getPosition()-this.start))).code!==ye.OK)return;(se=new ye.TrackReferenceTypeBox(se.type,se.size,se.hdr_size,se.start)).write===ye.Box.prototype.write&&se.type!=="mdat"&&(Oe.info("BoxParser","TrackReference "+se.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),se.parseDataAndRewind(ee)),se.parse(ee),this.boxes.push(se)}},ye.createFullBoxCtor("trep",function(ee){for(this.track_ID=ee.readUint32(),this.boxes=[];ee.getPosition()<this.start+this.size;){if((ret=ye.parseOneBox(ee,!1,this.size-(ee.getPosition()-this.start))).code!==ye.OK)return;box=ret.box,this.boxes.push(box)}}),ye.createFullBoxCtor("trex",function(ee){this.track_id=ee.readUint32(),this.default_sample_description_index=ee.readUint32(),this.default_sample_duration=ee.readUint32(),this.default_sample_size=ee.readUint32(),this.default_sample_flags=ee.readUint32()}),ye.createBoxCtor("trpy",function(ee){this.bytessent=ee.readUint64()}),ye.createFullBoxCtor("trun",function(ee){var se=0;if(this.sample_count=ee.readUint32(),this.size-this.hdr_size>(se+=4)&&this.flags&ye.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=ee.readInt32(),se+=4):this.data_offset=0,this.size-this.hdr_size>se&&this.flags&ye.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=ee.readUint32(),se+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>se)for(var he=0;he<this.sample_count;he++)this.flags&ye.TRUN_FLAGS_DURATION&&(this.sample_duration[he]=ee.readUint32()),this.flags&ye.TRUN_FLAGS_SIZE&&(this.sample_size[he]=ee.readUint32()),this.flags&ye.TRUN_FLAGS_FLAGS&&(this.sample_flags[he]=ee.readUint32()),this.flags&ye.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[he]=ee.readUint32():this.sample_composition_time_offset[he]=ee.readInt32())}),ye.createFullBoxCtor("tsel",function(ee){this.switch_group=ee.readUint32();var se=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var he=0;he<se;he++)this.attribute_list[he]=ee.readUint32()}),ye.createFullBoxCtor("txtC",function(ee){this.config=ee.readCString()}),ye.createFullBoxCtor("url ",function(ee){this.flags!==1&&(this.location=ee.readCString())}),ye.createFullBoxCtor("urn ",function(ee){this.name=ee.readCString(),0<this.size-this.hdr_size-this.name.length-1&&(this.location=ee.readCString())}),ye.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(ee){this.LiveServerManifest=ee.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),ye.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(ee){this.system_id=ye.parseHex16(ee);var se=ee.readUint32();0<se&&(this.data=ee.readUint8Array(se))}),ye.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),ye.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(ee){this.default_AlgorithmID=ee.readUint24(),this.default_IV_size=ee.readUint8(),this.default_KID=ye.parseHex16(ee)}),ye.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(ee){this.fragment_count=ee.readUint8(),this.entries=[];for(var se=0;se<this.fragment_count;se++){var he={},ce=0,Ae=0,Ae=this.version===1?(ce=ee.readUint64(),ee.readUint64()):(ce=ee.readUint32(),ee.readUint32());he.absolute_time=ce,he.absolute_duration=Ae,this.entries.push(he)}}),ye.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(ee){this.version===1?(this.absolute_time=ee.readUint64(),this.duration=ee.readUint64()):(this.absolute_time=ee.readUint32(),this.duration=ee.readUint32())}),ye.createFullBoxCtor("vmhd",function(ee){this.graphicsmode=ee.readUint16(),this.opcolor=ee.readUint16Array(3)}),ye.createFullBoxCtor("vpcC",function(ee){var se;this.version===1?(this.profile=ee.readUint8(),this.level=ee.readUint8(),se=ee.readUint8(),this.bitDepth=se>>4,this.chromaSubsampling=se>>1&7,this.videoFullRangeFlag=1&se,this.colourPrimaries=ee.readUint8(),this.transferCharacteristics=ee.readUint8(),this.matrixCoefficients=ee.readUint8()):(this.profile=ee.readUint8(),this.level=ee.readUint8(),se=ee.readUint8(),this.bitDepth=se>>4&15,this.colorSpace=15&se,se=ee.readUint8(),this.chromaSubsampling=se>>4&15,this.transferFunction=se>>1&7,this.videoFullRangeFlag=1&se),this.codecIntializationDataSize=ee.readUint16(),this.codecIntializationData=ee.readUint8Array(this.codecIntializationDataSize)}),ye.createBoxCtor("vttC",function(ee){this.text=ee.readString(this.size-this.hdr_size)}),ye.createFullBoxCtor("vvcC",function(ee){var se,he={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(De){this.held_bits=De.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(De){this.held_bits=De.readUint16(),this.num_held_bits=16},extract_bits:function(De){var Ue=this.held_bits>>this.num_held_bits-De&(1<<De)-1;return this.num_held_bits-=De,Ue}};if(he.stream_read_1_bytes(ee),he.extract_bits(5),this.lengthSizeMinusOne=he.extract_bits(2),this.ptl_present_flag=he.extract_bits(1),this.ptl_present_flag){if(he.stream_read_2_bytes(ee),this.ols_idx=he.extract_bits(9),this.num_sublayers=he.extract_bits(3),this.constant_frame_rate=he.extract_bits(2),this.chroma_format_idc=he.extract_bits(2),he.stream_read_1_bytes(ee),this.bit_depth_minus8=he.extract_bits(3),he.extract_bits(5),he.stream_read_2_bytes(ee),he.extract_bits(2),this.num_bytes_constraint_info=he.extract_bits(6),this.general_profile_idc=he.extract_bits(7),this.general_tier_flag=he.extract_bits(1),this.general_level_idc=ee.readUint8(),he.stream_read_1_bytes(ee),this.ptl_frame_only_constraint_flag=he.extract_bits(1),this.ptl_multilayer_enabled_flag=he.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(je=0;je<this.num_bytes_constraint_info-1;je++){var ce=he.extract_bits(6),Ae=(he.stream_read_1_bytes(ee),he.extract_bits(2));this.general_constraint_info[je]=ce<<2|Ae}this.general_constraint_info[this.num_bytes_constraint_info-1]=he.extract_bits(6)}else he.extract_bits(6);for(he.stream_read_1_bytes(ee),this.ptl_sublayer_present_mask=0,se=this.num_sublayers-2;0<=se;--se){var ke=he.extract_bits(1);this.ptl_sublayer_present_mask|=ke<<se}for(se=this.num_sublayers;se<=8&&1<this.num_sublayers;++se)he.extract_bits(1);for(se=this.num_sublayers-2;0<=se;--se)this.ptl_sublayer_present_mask&1<<se&&(this.sublayer_level_idc[se]=ee.readUint8());if(this.ptl_num_sub_profiles=ee.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(je=0;je<this.ptl_num_sub_profiles;je++)this.general_sub_profile_idc.push(ee.readUint32());this.max_picture_width=ee.readUint16(),this.max_picture_height=ee.readUint16(),this.avg_frame_rate=ee.readUint16()}this.nalu_arrays=[];for(var Ee=ee.readUint8(),je=0;je<Ee;je++){var Le=[],$e=(this.nalu_arrays.push(Le),he.stream_read_1_bytes(ee),Le.completeness=he.extract_bits(1),he.extract_bits(2),Le.nalu_type=he.extract_bits(5),1);for(Le.nalu_type!=13&&Le.nalu_type!=12&&($e=ee.readUint16()),se=0;se<$e;se++){var Ie=ee.readUint16();Le.push({data:ee.readUint8Array(Ie),length:Ie})}}}),ye.createFullBoxCtor("vvnC",function(ee){var se=strm.readUint8();this.lengthSizeMinusOne=3&se}),ye.SampleEntry.prototype.isVideo=function(){return!1},ye.SampleEntry.prototype.isAudio=function(){return!1},ye.SampleEntry.prototype.isSubtitle=function(){return!1},ye.SampleEntry.prototype.isMetadata=function(){return!1},ye.SampleEntry.prototype.isHint=function(){return!1},ye.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},ye.SampleEntry.prototype.getWidth=function(){return""},ye.SampleEntry.prototype.getHeight=function(){return""},ye.SampleEntry.prototype.getChannelCount=function(){return""},ye.SampleEntry.prototype.getSampleRate=function(){return""},ye.SampleEntry.prototype.getSampleSize=function(){return""},ye.VisualSampleEntry.prototype.isVideo=function(){return!0},ye.VisualSampleEntry.prototype.getWidth=function(){return this.width},ye.VisualSampleEntry.prototype.getHeight=function(){return this.height},ye.AudioSampleEntry.prototype.isAudio=function(){return!0},ye.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},ye.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},ye.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},ye.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},ye.MetadataSampleEntry.prototype.isMetadata=function(){return!0},ye.decimalToHex=function(ee,se){var he=Number(ee).toString(16);for(se=se??2;he.length<se;)he="0"+he;return he},ye.avc1SampleEntry.prototype.getCodec=ye.avc2SampleEntry.prototype.getCodec=ye.avc3SampleEntry.prototype.getCodec=ye.avc4SampleEntry.prototype.getCodec=function(){var ee=ye.SampleEntry.prototype.getCodec.call(this);return this.avcC?ee+"."+ye.decimalToHex(this.avcC.AVCProfileIndication)+ye.decimalToHex(this.avcC.profile_compatibility)+ye.decimalToHex(this.avcC.AVCLevelIndication):ee},ye.hev1SampleEntry.prototype.getCodec=ye.hvc1SampleEntry.prototype.getCodec=function(){var ee=ye.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(ee+=".",this.hvcC.general_profile_space){case 0:ee+="";break;case 1:ee+="A";break;case 2:ee+="B";break;case 3:ee+="C"}for(var ee=ee+this.hvcC.general_profile_idc+".",se=this.hvcC.general_profile_compatibility,he=0,ce=0;ce<32&&(he|=1&se,ce!=31);ce++)he<<=1,se>>=1;ee=ee+ye.decimalToHex(he,0)+".",this.hvcC.general_tier_flag===0?ee+="L":ee+="H",ee+=this.hvcC.general_level_idc;var Ae=!1,ke="";for(ce=5;0<=ce;ce--)(this.hvcC.general_constraint_indicator[ce]||Ae)&&(ke="."+ye.decimalToHex(this.hvcC.general_constraint_indicator[ce],0)+ke,Ae=!0);ee+=ke}return ee},ye.vvc1SampleEntry.prototype.getCodec=ye.vvi1SampleEntry.prototype.getCodec=function(){var ee=ye.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){ee+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?ee+=".H":ee+=".L",ee+=this.vvcC.general_level_idc;var se="";if(this.vvcC.general_constraint_info){var he,ce=[],Ae=0,Ae=(Ae|=this.vvcC.ptl_frame_only_constraint<<7)|this.vvcC.ptl_multilayer_enabled<<6;for(Le=0;Le<this.vvcC.general_constraint_info.length;++Le)Ae|=this.vvcC.general_constraint_info[Le]>>2&63,ce.push(Ae),Ae&&(he=Le),Ae=this.vvcC.general_constraint_info[Le]>>2&3;if(he===void 0)se=".CA";else{for(var se=".C",ke="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",Ee=0,je=0,Le=0;Le<=he;++Le)for(Ee=Ee<<8|ce[Le],je+=8;5<=je;)se+=ke[Ee>>je-5&31],Ee&=(1<<(je-=5))-1;je&&(se+=ke[31&(Ee<<=5-je)])}}ee+=se}return ee},ye.mp4aSampleEntry.prototype.getCodec=function(){var ee,se,he=ye.SampleEntry.prototype.getCodec.call(this);return this.esds&&this.esds.esd?(ee=this.esds.esd.getOTI(),se=this.esds.esd.getAudioConfig(),he+"."+ye.decimalToHex(ee)+(se?"."+se:"")):he},ye.stxtSampleEntry.prototype.getCodec=function(){var ee=ye.SampleEntry.prototype.getCodec.call(this);return this.mime_format?ee+"."+this.mime_format:ee},ye.vp08SampleEntry.prototype.getCodec=ye.vp09SampleEntry.prototype.getCodec=function(){var ee=ye.SampleEntry.prototype.getCodec.call(this),se=this.vpcC.level,he=this.vpcC.bitDepth;return ee+".0"+this.vpcC.profile+"."+(se=se==0?"00":se)+"."+(he=he==8?"08":he)},ye.av01SampleEntry.prototype.getCodec=function(){var ee,se=ye.SampleEntry.prototype.getCodec.call(this),he=this.av1C.seq_level_idx_0;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?ee=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(ee=this.av1C.high_bitdepth===1?"10":"08"),se+"."+this.av1C.seq_profile+"."+(he=he<10?"0"+he:he)+(this.av1C.seq_tier_0?"H":"M")+"."+ee},ye.Box.prototype.writeHeader=function(ee,se){this.size+=8,this.size>Fe&&(this.size+=8),this.type==="uuid"&&(this.size+=16),Oe.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+ee.getPosition()+(se||"")),this.size>Fe?ee.writeUint32(1):(this.sizePosition=ee.getPosition(),ee.writeUint32(this.size)),ee.writeString(this.type,null,4),this.type==="uuid"&&ee.writeUint8Array(this.uuid),this.size>Fe&&ee.writeUint64(this.size)},ye.FullBox.prototype.writeHeader=function(ee){this.size+=4,ye.Box.prototype.writeHeader.call(this,ee," v="+this.version+" f="+this.flags),ee.writeUint8(this.version),ee.writeUint24(this.flags)},ye.Box.prototype.write=function(ee){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(ee),ee.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(ee),this.data&&ee.writeUint8Array(this.data))},ye.ContainerBox.prototype.write=function(ee){this.size=0,this.writeHeader(ee);for(var se=0;se<this.boxes.length;se++)this.boxes[se]&&(this.boxes[se].write(ee),this.size+=this.boxes[se].size);Oe.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),ee.adjustUint32(this.sizePosition,this.size)},ye.TrackReferenceTypeBox.prototype.write=function(ee){this.size=4*this.track_ids.length,this.writeHeader(ee),ee.writeUint32Array(this.track_ids)},ye.avcCBox.prototype.write=function(ee){var se;for(this.size=7,se=0;se<this.SPS.length;se++)this.size+=2+this.SPS[se].length;for(se=0;se<this.PPS.length;se++)this.size+=2+this.PPS[se].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(ee),ee.writeUint8(this.configurationVersion),ee.writeUint8(this.AVCProfileIndication),ee.writeUint8(this.profile_compatibility),ee.writeUint8(this.AVCLevelIndication),ee.writeUint8(this.lengthSizeMinusOne+252),ee.writeUint8(this.SPS.length+224),se=0;se<this.SPS.length;se++)ee.writeUint16(this.SPS[se].length),ee.writeUint8Array(this.SPS[se].nalu);for(ee.writeUint8(this.PPS.length),se=0;se<this.PPS.length;se++)ee.writeUint16(this.PPS[se].length),ee.writeUint8Array(this.PPS[se].nalu);this.ext&&ee.writeUint8Array(this.ext)},ye.co64Box.prototype.write=function(ee){var se;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(ee),ee.writeUint32(this.chunk_offsets.length),se=0;se<this.chunk_offsets.length;se++)ee.writeUint64(this.chunk_offsets[se])},ye.cslgBox.prototype.write=function(ee){this.version=0,this.flags=0,this.size=20,this.writeHeader(ee),ee.writeInt32(this.compositionToDTSShift),ee.writeInt32(this.leastDecodeToDisplayDelta),ee.writeInt32(this.greatestDecodeToDisplayDelta),ee.writeInt32(this.compositionStartTime),ee.writeInt32(this.compositionEndTime)},ye.cttsBox.prototype.write=function(ee){var se;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(ee),ee.writeUint32(this.sample_counts.length),se=0;se<this.sample_counts.length;se++)ee.writeUint32(this.sample_counts[se]),this.version===1?ee.writeInt32(this.sample_offsets[se]):ee.writeUint32(this.sample_offsets[se])},ye.drefBox.prototype.write=function(ee){this.version=0,this.flags=0,this.size=4,this.writeHeader(ee),ee.writeUint32(this.entries.length);for(var se=0;se<this.entries.length;se++)this.entries[se].write(ee),this.size+=this.entries[se].size;Oe.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),ee.adjustUint32(this.sizePosition,this.size)},ye.elngBox.prototype.write=function(ee){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(ee),ee.writeString(this.extended_language)},ye.elstBox.prototype.write=function(ee){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(ee),ee.writeUint32(this.entries.length);for(var se=0;se<this.entries.length;se++){var he=this.entries[se];ee.writeUint32(he.segment_duration),ee.writeInt32(he.media_time),ee.writeInt16(he.media_rate_integer),ee.writeInt16(he.media_rate_fraction)}},ye.emsgBox.prototype.write=function(ee){this.version=0,this.flags=0,this.size=16+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(ee),ee.writeCString(this.scheme_id_uri),ee.writeCString(this.value),ee.writeUint32(this.timescale),ee.writeUint32(this.presentation_time_delta),ee.writeUint32(this.event_duration),ee.writeUint32(this.id),ee.writeUint8Array(this.message_data)},ye.ftypBox.prototype.write=function(ee){this.size=8+4*this.compatible_brands.length,this.writeHeader(ee),ee.writeString(this.major_brand,null,4),ee.writeUint32(this.minor_version);for(var se=0;se<this.compatible_brands.length;se++)ee.writeString(this.compatible_brands[se],null,4)},ye.hdlrBox.prototype.write=function(ee){this.size=20+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(ee),ee.writeUint32(0),ee.writeString(this.handler,null,4),ee.writeUint32(0),ee.writeUint32(0),ee.writeUint32(0),ee.writeCString(this.name)},ye.kindBox.prototype.write=function(ee){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(ee),ee.writeCString(this.schemeURI),ee.writeCString(this.value)},ye.mdhdBox.prototype.write=function(ee){this.size=20,this.flags=0,this.version=0,this.writeHeader(ee),ee.writeUint32(this.creation_time),ee.writeUint32(this.modification_time),ee.writeUint32(this.timescale),ee.writeUint32(this.duration),ee.writeUint16(this.language),ee.writeUint16(0)},ye.mehdBox.prototype.write=function(ee){this.version=0,this.flags=0,this.size=4,this.writeHeader(ee),ee.writeUint32(this.fragment_duration)},ye.mfhdBox.prototype.write=function(ee){this.version=0,this.flags=0,this.size=4,this.writeHeader(ee),ee.writeUint32(this.sequence_number)},ye.mvhdBox.prototype.write=function(ee){this.version=0,this.flags=0,this.size=96,this.writeHeader(ee),ee.writeUint32(this.creation_time),ee.writeUint32(this.modification_time),ee.writeUint32(this.timescale),ee.writeUint32(this.duration),ee.writeUint32(this.rate),ee.writeUint16(this.volume<<8),ee.writeUint16(0),ee.writeUint32(0),ee.writeUint32(0),ee.writeUint32Array(this.matrix),ee.writeUint32(0),ee.writeUint32(0),ee.writeUint32(0),ee.writeUint32(0),ee.writeUint32(0),ee.writeUint32(0),ee.writeUint32(this.next_track_id)},ye.SampleEntry.prototype.writeHeader=function(ee){this.size=8,ye.Box.prototype.writeHeader.call(this,ee),ee.writeUint8(0),ee.writeUint8(0),ee.writeUint8(0),ee.writeUint8(0),ee.writeUint8(0),ee.writeUint8(0),ee.writeUint16(this.data_reference_index)},ye.SampleEntry.prototype.writeFooter=function(ee){for(var se=0;se<this.boxes.length;se++)this.boxes[se].write(ee),this.size+=this.boxes[se].size;Oe.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),ee.adjustUint32(this.sizePosition,this.size)},ye.SampleEntry.prototype.write=function(ee){this.writeHeader(ee),ee.writeUint8Array(this.data),this.size+=this.data.length,Oe.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),ee.adjustUint32(this.sizePosition,this.size)},ye.VisualSampleEntry.prototype.write=function(ee){this.writeHeader(ee),this.size+=70,ee.writeUint16(0),ee.writeUint16(0),ee.writeUint32(0),ee.writeUint32(0),ee.writeUint32(0),ee.writeUint16(this.width),ee.writeUint16(this.height),ee.writeUint32(this.horizresolution),ee.writeUint32(this.vertresolution),ee.writeUint32(0),ee.writeUint16(this.frame_count),ee.writeUint8(Math.min(31,this.compressorname.length)),ee.writeString(this.compressorname,null,31),ee.writeUint16(this.depth),ee.writeInt16(-1),this.writeFooter(ee)},ye.AudioSampleEntry.prototype.write=function(ee){this.writeHeader(ee),this.size+=20,ee.writeUint32(0),ee.writeUint32(0),ee.writeUint16(this.channel_count),ee.writeUint16(this.samplesize),ee.writeUint16(0),ee.writeUint16(0),ee.writeUint32(this.samplerate<<16),this.writeFooter(ee)},ye.stppSampleEntry.prototype.write=function(ee){this.writeHeader(ee),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,ee.writeCString(this.namespace),ee.writeCString(this.schema_location),ee.writeCString(this.auxiliary_mime_types),this.writeFooter(ee)},ye.SampleGroupEntry.prototype.write=function(ee){ee.writeUint8Array(this.data)},ye.sbgpBox.prototype.write=function(ee){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(ee),ee.writeString(this.grouping_type,null,4),ee.writeUint32(this.grouping_type_parameter),ee.writeUint32(this.entries.length);for(var se=0;se<this.entries.length;se++){var he=this.entries[se];ee.writeInt32(he.sample_count),ee.writeInt32(he.group_description_index)}},ye.sgpdBox.prototype.write=function(ee){var se,he;for(this.flags=0,this.size=12,se=0;se<this.entries.length;se++)he=this.entries[se],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=he.data.length);for(this.writeHeader(ee),ee.writeString(this.grouping_type,null,4),this.version===1&&ee.writeUint32(this.default_length),2<=this.version&&ee.writeUint32(this.default_sample_description_index),ee.writeUint32(this.entries.length),se=0;se<this.entries.length;se++)he=this.entries[se],this.version===1&&this.default_length===0&&ee.writeUint32(he.description_length),he.write(ee)},ye.sidxBox.prototype.write=function(ee){this.version=0,this.flags=0,this.size=20+12*this.references.length,this.writeHeader(ee),ee.writeUint32(this.reference_ID),ee.writeUint32(this.timescale),ee.writeUint32(this.earliest_presentation_time),ee.writeUint32(this.first_offset),ee.writeUint16(0),ee.writeUint16(this.references.length);for(var se=0;se<this.references.length;se++){var he=this.references[se];ee.writeUint32(he.reference_type<<31|he.referenced_size),ee.writeUint32(he.subsegment_duration),ee.writeUint32(he.starts_with_SAP<<31|he.SAP_type<<28|he.SAP_delta_time)}},ye.smhdBox.prototype.write=function(ee){this.version=0,this.flags=1,this.size=4,this.writeHeader(ee),ee.writeUint16(this.balance),ee.writeUint16(0)},ye.stcoBox.prototype.write=function(ee){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(ee),ee.writeUint32(this.chunk_offsets.length),ee.writeUint32Array(this.chunk_offsets)},ye.stscBox.prototype.write=function(ee){var se;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(ee),ee.writeUint32(this.first_chunk.length),se=0;se<this.first_chunk.length;se++)ee.writeUint32(this.first_chunk[se]),ee.writeUint32(this.samples_per_chunk[se]),ee.writeUint32(this.sample_description_index[se])},ye.stsdBox.prototype.write=function(ee){var se;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(ee),ee.writeUint32(this.entries.length),this.size+=4,se=0;se<this.entries.length;se++)this.entries[se].write(ee),this.size+=this.entries[se].size;Oe.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),ee.adjustUint32(this.sizePosition,this.size)},ye.stshBox.prototype.write=function(ee){var se;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(ee),ee.writeUint32(this.shadowed_sample_numbers.length),se=0;se<this.shadowed_sample_numbers.length;se++)ee.writeUint32(this.shadowed_sample_numbers[se]),ee.writeUint32(this.sync_sample_numbers[se])},ye.stssBox.prototype.write=function(ee){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(ee),ee.writeUint32(this.sample_numbers.length),ee.writeUint32Array(this.sample_numbers)},ye.stszBox.prototype.write=function(ee){var se,he=!0;if(this.version=0,(this.flags=0)<this.sample_sizes.length)for(se=0;se+1<this.sample_sizes.length;){if(this.sample_sizes[se+1]!==this.sample_sizes[0]){he=!1;break}se++}else he=!1;this.size=8,he||(this.size+=4*this.sample_sizes.length),this.writeHeader(ee),he?ee.writeUint32(this.sample_sizes[0]):ee.writeUint32(0),ee.writeUint32(this.sample_sizes.length),he||ee.writeUint32Array(this.sample_sizes)},ye.sttsBox.prototype.write=function(ee){var se;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(ee),ee.writeUint32(this.sample_counts.length),se=0;se<this.sample_counts.length;se++)ee.writeUint32(this.sample_counts[se]),ee.writeUint32(this.sample_deltas[se])},ye.tfdtBox.prototype.write=function(ee){var se=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>se?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(ee),this.version===1?ee.writeUint64(this.baseMediaDecodeTime):ee.writeUint32(this.baseMediaDecodeTime)},ye.tfhdBox.prototype.write=function(ee){this.version=0,this.size=4,this.flags&ye.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&ye.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&ye.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&ye.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&ye.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(ee),ee.writeUint32(this.track_id),this.flags&ye.TFHD_FLAG_BASE_DATA_OFFSET&&ee.writeUint64(this.base_data_offset),this.flags&ye.TFHD_FLAG_SAMPLE_DESC&&ee.writeUint32(this.default_sample_description_index),this.flags&ye.TFHD_FLAG_SAMPLE_DUR&&ee.writeUint32(this.default_sample_duration),this.flags&ye.TFHD_FLAG_SAMPLE_SIZE&&ee.writeUint32(this.default_sample_size),this.flags&ye.TFHD_FLAG_SAMPLE_FLAGS&&ee.writeUint32(this.default_sample_flags)},ye.tkhdBox.prototype.write=function(ee){this.version=0,this.size=80,this.writeHeader(ee),ee.writeUint32(this.creation_time),ee.writeUint32(this.modification_time),ee.writeUint32(this.track_id),ee.writeUint32(0),ee.writeUint32(this.duration),ee.writeUint32(0),ee.writeUint32(0),ee.writeInt16(this.layer),ee.writeInt16(this.alternate_group),ee.writeInt16(this.volume<<8),ee.writeUint16(0),ee.writeInt32Array(this.matrix),ee.writeUint32(this.width),ee.writeUint32(this.height)},ye.trexBox.prototype.write=function(ee){this.version=0,this.flags=0,this.size=20,this.writeHeader(ee),ee.writeUint32(this.track_id),ee.writeUint32(this.default_sample_description_index),ee.writeUint32(this.default_sample_duration),ee.writeUint32(this.default_sample_size),ee.writeUint32(this.default_sample_flags)},ye.trunBox.prototype.write=function(ee){this.version=0,this.size=4,this.flags&ye.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&ye.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&ye.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&ye.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&ye.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&ye.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(ee),ee.writeUint32(this.sample_count),this.flags&ye.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=ee.getPosition(),ee.writeInt32(this.data_offset)),this.flags&ye.TRUN_FLAGS_FIRST_FLAG&&ee.writeUint32(this.first_sample_flags);for(var se=0;se<this.sample_count;se++)this.flags&ye.TRUN_FLAGS_DURATION&&ee.writeUint32(this.sample_duration[se]),this.flags&ye.TRUN_FLAGS_SIZE&&ee.writeUint32(this.sample_size[se]),this.flags&ye.TRUN_FLAGS_FLAGS&&ee.writeUint32(this.sample_flags[se]),this.flags&ye.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?ee.writeUint32(this.sample_composition_time_offset[se]):ee.writeInt32(this.sample_composition_time_offset[se]))},ye["url Box"].prototype.write=function(ee){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(ee),this.location&&ee.writeCString(this.location)},ye["urn Box"].prototype.write=function(ee){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(ee),ee.writeCString(this.name),this.location&&ee.writeCString(this.location)},ye.vmhdBox.prototype.write=function(ee){this.version=0,this.flags=1,this.size=8,this.writeHeader(ee),ee.writeUint16(this.graphicsmode),ee.writeUint16Array(this.opcolor)},ye.cttsBox.prototype.unpack=function(ee){for(var se,he=0,ce=0;ce<this.sample_counts.length;ce++)for(se=0;se<this.sample_counts[ce];se++)ee[he].pts=ee[he].dts+this.sample_offsets[ce],he++},ye.sttsBox.prototype.unpack=function(ee){for(var se,he=0,ce=0;ce<this.sample_counts.length;ce++)for(se=0;se<this.sample_counts[ce];se++)ee[he].dts=he===0?0:ee[he-1].dts+this.sample_deltas[ce],he++},ye.stcoBox.prototype.unpack=function(ee){for(var se=0;se<this.chunk_offsets.length;se++)ee[se].offset=this.chunk_offsets[se]},ye.stscBox.prototype.unpack=function(ee){for(var se,he,ce=0,Ae=0,ke=0;ke<this.first_chunk.length;ke++)for(se=0;se<(ke+1<this.first_chunk.length?this.first_chunk[ke+1]:1/0);se++)for(Ae++,he=0;he<this.samples_per_chunk[ke];he++){if(!ee[ce])return;ee[ce].description_index=this.sample_description_index[ke],ee[ce].chunk_index=Ae,ce++}},ye.stszBox.prototype.unpack=function(ee){for(var se=0;se<this.sample_sizes.length;se++)ee[se].size=this.sample_sizes[se]},ye.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],ye.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],ye.boxEqualFields=function(ee,se){if(ee&&!se)return!1;for(var he in ee)if(!(-1<ye.DIFF_BOXES_PROP_NAMES.indexOf(he)||ee[he]instanceof ye.Box||se[he]instanceof ye.Box||ee[he]===void 0||se[he]===void 0||typeof ee[he]=="function"||typeof se[he]=="function"||ee.subBoxNames&&-1<ee.subBoxNames.indexOf(he.slice(0,4))||se.subBoxNames&&-1<se.subBoxNames.indexOf(he.slice(0,4))||he==="data"||he==="start"||he==="size"||he==="creation_time"||he==="modification_time"||-1<ye.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(he)||ee[he]===se[he]))return!1;return!0},ye.boxEqual=function(ee,se){if(!ye.boxEqualFields(ee,se))return!1;for(var he=0;he<ye.DIFF_BOXES_PROP_NAMES.length;he++){var ce=ye.DIFF_BOXES_PROP_NAMES[he];if(ee[ce]&&se[ce]&&!ye.boxEqual(ee[ce],se[ce]))return!1}return!0},fe.prototype.parseSample=function(ee){var se,he={resources:[]},ce=new ie(ee.data.buffer);if(ee.subsamples&&ee.subsamples.length!==0){if(he.documentString=ce.readString(ee.subsamples[0].size),1<ee.subsamples.length)for(se=1;se<ee.subsamples.length;se++)he.resources[se]=ce.readUint8Array(ee.subsamples[se].size)}else he.documentString=ce.readString(ee.data.length);return typeof DOMParser<"u"&&(he.document=new DOMParser().parseFromString(he.documentString,"application/xml")),he},de.prototype.parseSample=function(ee){return new ie(ee.data.buffer).readString(ee.data.length)},de.prototype.parseConfig=function(ee){return ee=new ie(ee.buffer),ee.readUint32(),ee.readCString()},R.XMLSubtitlein4Parser=fe,R.Textin4Parser=de,Se.prototype.setSegmentOptions=function(ee,se,he){var ce,Ae=this.getTrackById(ee);Ae&&(this.fragmentedTracks.push(ce={}),ce.id=ee,ce.user=se,(ce.trak=Ae).nextSample=0,ce.segmentStream=null,ce.nb_samples=1e3,ce.rapAlignement=!0,he)&&(he.nbSamples&&(ce.nb_samples=he.nbSamples),he.rapAlignement)&&(ce.rapAlignement=he.rapAlignement)},Se.prototype.unsetSegmentOptions=function(ee){for(var se=-1,he=0;he<this.fragmentedTracks.length;he++)this.fragmentedTracks[he].id==ee&&(se=he);-1<se&&this.fragmentedTracks.splice(se,1)},Se.prototype.setExtractionOptions=function(ee,se,he){var ce,Ae=this.getTrackById(ee);Ae&&(this.extractedTracks.push(ce={}),ce.id=ee,ce.user=se,(ce.trak=Ae).nextSample=0,ce.nb_samples=1e3,ce.samples=[],he)&&he.nbSamples&&(ce.nb_samples=he.nbSamples)},Se.prototype.unsetExtractionOptions=function(ee){for(var se=-1,he=0;he<this.extractedTracks.length;he++)this.extractedTracks[he].id==ee&&(se=he);-1<se&&this.extractedTracks.splice(se,1)},Se.prototype.parse=function(){var ee,se;if(!this.restoreParsePosition||this.restoreParsePosition())for(;;){if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}if(this.saveParsePosition&&this.saveParsePosition(),(ee=ye.parseOneBox(this.stream,!1)).code===ye.ERR_NOT_ENOUGH_DATA){if(this.processIncompleteBox){if(this.processIncompleteBox(ee))continue;return}return}var he=(se=ee.box).type!=="uuid"?se.type:se.uuid;switch(this.boxes.push(se),he){case"mdat":this.mdats.push(se);break;case"moof":this.moofs.push(se);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[he]!==void 0&&Oe.warn("ISOFile","Duplicate Box of type: "+he+", overriding previous occurrence"),this[he]=se}this.updateUsedBytes&&this.updateUsedBytes(se,ee)}},Se.prototype.checkBuffer=function(ee){if(ee==null)throw"Buffer must be defined and non empty";if(ee.fileStart===void 0)throw"Buffer must have a fileStart property";return ee.byteLength===0?(Oe.warn("ISOFile","Ignoring empty buffer (fileStart: "+ee.fileStart+")"),this.stream.logBufferLevel(),!1):(Oe.info("ISOFile","Processing buffer (fileStart: "+ee.fileStart+")"),ee.usedBytes=0,this.stream.insertBuffer(ee),this.stream.logBufferLevel(),!!this.stream.initialized()||(Oe.warn("ISOFile","Not ready to start parsing"),!1))},Se.prototype.appendBuffer=function(ee,se){var he;if(this.checkBuffer(ee))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart)&&this.onMoovStart(),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(se),this.nextSeekPosition?(he=this.nextSeekPosition,this.nextSeekPosition=void 0):he=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(he=this.stream.getEndFilePositionAfter(he))):he=this.nextParsePosition||0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems)&&this.processItems(this.onItem),this.stream.cleanBuffers&&(Oe.info("ISOFile","Done processing buffer (fileStart: "+ee.fileStart+") - next buffer to fetch should have a fileStart position of "+he),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),Oe.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),he},Se.prototype.getInfo=function(){var ee,se,he,ce,Ae,ke,Ee={},je=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(Ee.hasMoov=!0,Ee.duration=this.moov.mvhd.duration,Ee.timescale=this.moov.mvhd.timescale,Ee.isFragmented=this.moov.mvex!=null,Ee.isFragmented&&this.moov.mvex.mehd&&(Ee.fragment_duration=this.moov.mvex.mehd.fragment_duration),Ee.isProgressive=this.isProgressive,Ee.hasIOD=this.moov.iods!=null,Ee.brands=[],Ee.brands.push(this.ftyp.major_brand),Ee.brands=Ee.brands.concat(this.ftyp.compatible_brands),Ee.created=new Date(je+1e3*this.moov.mvhd.creation_time),Ee.modified=new Date(je+1e3*this.moov.mvhd.modification_time),Ee.tracks=[],Ee.audioTracks=[],Ee.videoTracks=[],Ee.subtitleTracks=[],Ee.metadataTracks=[],Ee.hintTracks=[],Ee.otherTracks=[],ee=0;ee<this.moov.traks.length;ee++){if(ke=(he=this.moov.traks[ee]).mdia.minf.stbl.stsd.entries[0],Ee.tracks.push(ce={}),ce.id=he.tkhd.track_id,ce.name=he.mdia.hdlr.name,ce.references=[],he.tref)for(se=0;se<he.tref.boxes.length;se++)ce.references.push(Ae={}),Ae.type=he.tref.boxes[se].type,Ae.track_ids=he.tref.boxes[se].track_ids;he.edts&&(ce.edits=he.edts.elst.entries),ce.created=new Date(je+1e3*he.tkhd.creation_time),ce.modified=new Date(je+1e3*he.tkhd.modification_time),ce.movie_duration=he.tkhd.duration,ce.movie_timescale=Ee.timescale,ce.layer=he.tkhd.layer,ce.alternate_group=he.tkhd.alternate_group,ce.volume=he.tkhd.volume,ce.matrix=he.tkhd.matrix,ce.track_width=he.tkhd.width/65536,ce.track_height=he.tkhd.height/65536,ce.timescale=he.mdia.mdhd.timescale,ce.cts_shift=he.mdia.minf.stbl.cslg,ce.duration=he.mdia.mdhd.duration,ce.samples_duration=he.samples_duration,ce.codec=ke.getCodec(),ce.kind=he.udta&&he.udta.kinds.length?he.udta.kinds[0]:{schemeURI:"",value:""},ce.language=he.mdia.elng?he.mdia.elng.extended_language:he.mdia.mdhd.languageString,ce.nb_samples=he.samples.length,ce.size=he.samples_size,ce.bitrate=8*ce.size*ce.timescale/ce.samples_duration,ke.isAudio()?(ce.type="audio",Ee.audioTracks.push(ce),ce.audio={},ce.audio.sample_rate=ke.getSampleRate(),ce.audio.channel_count=ke.getChannelCount(),ce.audio.sample_size=ke.getSampleSize()):ke.isVideo()?(ce.type="video",Ee.videoTracks.push(ce),ce.video={},ce.video.width=ke.getWidth(),ce.video.height=ke.getHeight()):(ke.isSubtitle()?(ce.type="subtitles",Ee.subtitleTracks):ke.isHint()?(ce.type="metadata",Ee.hintTracks):ke.isMetadata()?(ce.type="metadata",Ee.metadataTracks):(ce.type="metadata",Ee.otherTracks)).push(ce)}else Ee.hasMoov=!1;if(Ee.mime="",Ee.hasMoov&&Ee.tracks){for(Ee.videoTracks&&0<Ee.videoTracks.length?Ee.mime+='video/mp4; codecs="':Ee.audioTracks&&0<Ee.audioTracks.length?Ee.mime+='audio/mp4; codecs="':Ee.mime+='application/mp4; codecs="',ee=0;ee<Ee.tracks.length;ee++)ee!==0&&(Ee.mime+=","),Ee.mime+=Ee.tracks[ee].codec;Ee.mime+='"; profiles="',Ee.mime+=this.ftyp.compatible_brands.join(),Ee.mime+='"'}return Ee},Se.prototype.processSamples=function(ee){var se;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(se=0;se<this.fragmentedTracks.length;se++)for(var he=this.fragmentedTracks[se],ce=he.trak;ce.nextSample<ce.samples.length&&this.sampleProcessingStarted;){Oe.debug("ISOFile","Creating media fragment on track #"+he.id+" for sample "+ce.nextSample);var Ae=this.createFragment(he.id,ce.nextSample,he.segmentStream);if(!Ae||(he.segmentStream=Ae,ce.nextSample++,(ce.nextSample%he.nb_samples==0||ee||ce.nextSample>=ce.samples.length)&&(Oe.info("ISOFile","Sending fragmented data on track #"+he.id+" for samples ["+Math.max(0,ce.nextSample-he.nb_samples)+","+(ce.nextSample-1)+"]"),Oe.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(he.id,he.user,he.segmentStream.buffer,ce.nextSample,ee||ce.nextSample>=ce.samples.length),he.segmentStream=null,he!==this.fragmentedTracks[se])))break}if(this.onSamples!==null)for(se=0;se<this.extractedTracks.length;se++){var ke=this.extractedTracks[se];for(ce=ke.trak;ce.nextSample<ce.samples.length&&this.sampleProcessingStarted;){Oe.debug("ISOFile","Exporting on track #"+ke.id+" sample #"+ce.nextSample);var Ee=this.getSample(ce,ce.nextSample);if(!Ee||(ce.nextSample++,ke.samples.push(Ee),(ce.nextSample%ke.nb_samples==0||ce.nextSample>=ce.samples.length)&&(Oe.debug("ISOFile","Sending samples on track #"+ke.id+" for sample "+ce.nextSample),this.onSamples&&this.onSamples(ke.id,ke.user,ke.samples),ke.samples=[],ke!==this.extractedTracks[se])))break}}}},Se.prototype.getBox=function(ee){return ee=this.getBoxes(ee,!0),ee.length?ee[0]:null},Se.prototype.getBoxes=function(ee,se){var he=[];return Se._sweep.call(this,ee,he,se),he},Se._sweep=function(ee,se,he){for(var ce in this.type&&this.type==ee&&se.push(this),this.boxes){if(se.length&&he)return;Se._sweep.call(this.boxes[ce],ee,se,he)}},Se.prototype.getTrackSamplesInfo=function(ee){return ee=this.getTrackById(ee),ee?ee.samples:void 0},Se.prototype.getTrackSample=function(ee,se){return ee=this.getTrackById(ee),this.getSample(ee,se)},Se.prototype.releaseUsedSamples=function(ee,se){var he=0,ce=this.getTrackById(ee);ce.lastValidSample||(ce.lastValidSample=0);for(var Ae=ce.lastValidSample;Ae<se;Ae++)he+=this.releaseSample(ce,Ae);Oe.info("ISOFile","Track #"+ee+" released samples up to "+se+" (released size: "+he+", remaining: "+this.samplesDataSize+")"),ce.lastValidSample=se},Se.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},Se.prototype.stop=function(){this.sampleProcessingStarted=!1},Se.prototype.flush=function(){Oe.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},Se.prototype.seekTrack=function(ee,se,he){var ce,Ae,ke,Ee,je=0,Le=0;if(he.samples.length===0)return Oe.info("ISOFile","No sample in track, cannot seek! Using time "+Oe.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(ce=0;ce<he.samples.length;ce++){if(Ae=he.samples[ce],ce===0)Le=0,Ee=Ae.timescale;else if(Ae.cts>ee*Ae.timescale){Le=ce-1;break}se&&Ae.is_sync&&(je=ce)}for(se&&(Le=je),ee=he.samples[Le].cts,he.nextSample=Le;he.samples[Le].alreadyRead===he.samples[Le].size&&he.samples[Le+1];)Le++;return ke=he.samples[Le].offset+he.samples[Le].alreadyRead,Oe.info("ISOFile","Seeking to "+(se?"RAP":"")+" sample #"+he.nextSample+" on track "+he.tkhd.track_id+", time "+Oe.getDurationString(ee,Ee)+" and offset: "+ke),{offset:ke,time:ee/Ee}},Se.prototype.seek=function(ee,se){var he,ce,Ae=this.moov,ke={offset:1/0,time:1/0};if(this.moov){for(ce=0;ce<Ae.traks.length;ce++)he=Ae.traks[ce],(he=this.seekTrack(ee,se,he)).offset<ke.offset&&(ke.offset=he.offset),he.time<ke.time&&(ke.time=he.time);return Oe.info("ISOFile","Seeking at time "+Oe.getDurationString(ke.time,1)+" needs a buffer with a fileStart position of "+ke.offset),ke.offset===1/0?ke={offset:this.nextParsePosition,time:0}:ke.offset=this.stream.getEndFilePositionAfter(ke.offset),Oe.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+ke.offset),ke}throw"Cannot seek: moov not received!"},Se.prototype.equal=function(ee){for(var se=0;se<this.boxes.length&&se<ee.boxes.length;){var he=this.boxes[se],ce=ee.boxes[se];if(!ye.boxEqual(he,ce))return!1;se++}return!0},(R.ISOFile=Se).prototype.lastBoxStartPosition=0,Se.prototype.parsingMdat=null,Se.prototype.nextParsePosition=0,Se.prototype.discardMdatData=!1,Se.prototype.processIncompleteBox=function(ee){var se;return ee.type==="mdat"?(se=new ye[ee.type+"Box"](ee.size),this.parsingMdat=se,this.boxes.push(se),this.mdats.push(se),se.start=ee.start,se.hdr_size=ee.hdr_size,this.stream.addUsedBytes(se.hdr_size),this.lastBoxStartPosition=se.start+se.size,this.stream.seek(se.start+se.size,!1,this.discardMdatData)?!(this.parsingMdat=null):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=se.start+se.size,!1)):(ee.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0)&&(this.isProgressive=!0),this.stream.mergeNextBuffer&&this.stream.mergeNextBuffer()?(this.nextParsePosition=this.stream.getEndPosition(),!0):(!ee.type||this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+ee.size,!1))},Se.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},Se.prototype.processIncompleteMdat=function(){var ee=this.parsingMdat;return this.stream.seek(ee.start+ee.size,!1,this.discardMdatData)?(Oe.debug("ISOFile","Found 'mdat' end in buffered data"),!(this.parsingMdat=null)):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},Se.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},Se.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},Se.prototype.updateUsedBytes=function(ee,se){this.stream.addUsedBytes&&(ee.type==="mdat"?(this.stream.addUsedBytes(ee.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(ee.size-ee.hdr_size)):this.stream.addUsedBytes(ee.size))},Se.prototype.add=ye.Box.prototype.add,Se.prototype.addBox=ye.Box.prototype.addBox,Se.prototype.init=function(se){var se=se||{},he=(this.add("ftyp").set("major_brand",se.brands&&se.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",se.brands||["iso4"]),this.add("moov"));return he.add("mvhd").set("timescale",se.timescale||600).set("rate",se.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",se.duration||0).set("volume",se.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),he.add("mvex"),this},Se.prototype.addTrack=function(he){this.moov||this.init(he);var se=he||{},he=(se.width=se.width||320,se.height=se.height||320,se.id=se.id||this.moov.mvhd.next_track_id,se.type=se.type||"avc1",this.moov.add("trak")),ce=(this.moov.mvhd.next_track_id=se.id+1,he.add("tkhd").set("flags",ye.TKHD_FLAG_ENABLED|ye.TKHD_FLAG_IN_MOVIE|ye.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",se.id).set("duration",se.duration||0).set("layer",se.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("width",se.width<<16).set("height",se.height<<16),he.add("mdia")),Ae=(ce.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",se.timescale||1).set("duration",se.media_duration||0).set("language",se.language||"und"),ce.add("hdlr").set("handler",se.hdlr||"vide").set("name",se.name||"Track created with MP4Box.js"),ce.add("elng").set("extended_language",se.language||"fr-FR"),ce.add("minf"));if(ye[se.type+"SampleEntry"]!==void 0){var ke,Ee,je,Le=new ye[se.type+"SampleEntry"],$e=(Le.data_reference_index=1,"");for(ke in ye.sampleEntryCodes)for(var Ie=ye.sampleEntryCodes[ke],De=0;De<Ie.length;De++)if(-1<Ie.indexOf(se.type)){$e=ke;break}switch($e){case"Visual":Ae.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),Le.set("width",se.width).set("height",se.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",se.type+" Compressor").set("depth",24),se.avcDecoderConfigRecord&&(Ee=new ye.avcCBox,je=new ie(se.avcDecoderConfigRecord),Ee.parse(je),Le.addBox(Ee));break;case"Audio":Ae.add("smhd").set("balance",se.balance||0),Le.set("channel_count",se.channel_count||2).set("samplesize",se.samplesize||16).set("samplerate",se.samplerate||65536);break;case"Hint":Ae.add("hmhd");break;case"Subtitle":Ae.add("sthd"),se.type==="stpp"&&Le.set("namespace",se.namespace||"nonamespace").set("schema_location",se.schema_location||"").set("auxiliary_mime_types",se.auxiliary_mime_types||"");break;default:Ae.add("nmhd")}return se.description&&Le.addBox(se.description),se.description_boxes&&se.description_boxes.forEach(function(Ue){Le.addBox(Ue)}),Ae.add("dinf").add("dref").addEntry(new ye["url Box"]().set("flags",1)),ce=Ae.add("stbl"),ce.add("stsd").addEntry(Le),ce.add("stts").set("sample_counts",[]).set("sample_deltas",[]),ce.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),ce.add("stco").set("chunk_offsets",[]),ce.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",se.id).set("default_sample_description_index",se.default_sample_description_index||1).set("default_sample_duration",se.default_sample_duration||0).set("default_sample_size",se.default_sample_size||0).set("default_sample_flags",se.default_sample_flags||0),this.buildTrakSampleLists(he),se.id}},ye.Box.prototype.computeSize=function(ee){ee=ee||new ae,ee.endianness=ae.BIG_ENDIAN,this.write(ee)},Se.prototype.addSample=function(ke,se,ce){var ce=ce||{},Ae={},ke=this.getTrackById(ke);if(ke!==null)return Ae.number=ke.samples.length,Ae.track_id=ke.tkhd.track_id,Ae.timescale=ke.mdia.mdhd.timescale,Ae.description_index=ce.sample_description_index?ce.sample_description_index-1:0,Ae.description=ke.mdia.minf.stbl.stsd.entries[Ae.description_index],Ae.data=se,Ae.size=se.byteLength,Ae.alreadyRead=Ae.size,Ae.duration=ce.duration||1,Ae.cts=ce.cts||0,Ae.dts=ce.dts||0,Ae.is_sync=ce.is_sync||!1,Ae.is_leading=ce.is_leading||0,Ae.depends_on=ce.depends_on||0,Ae.is_depended_on=ce.is_depended_on||0,Ae.has_redundancy=ce.has_redundancy||0,Ae.degradation_priority=ce.degradation_priority||0,Ae.offset=0,Ae.subsamples=ce.subsamples,ke.samples.push(Ae),ke.samples_size+=Ae.size,ke.samples_duration+=Ae.duration,ke.first_dts||(ke.first_dts=ce.dts),this.processSamples(),ke=this.createSingleSampleMoof(Ae),this.addBox(ke),ke.computeSize(),ke.trafs[0].truns[0].data_offset=ke.size+8,this.add("mdat").data=new Uint8Array(se),Ae},Se.prototype.createSingleSampleMoof=function(ee){var se=ee.is_sync?33554432:65536,he=new ye.moofBox,ce=(he.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++,he.add("traf")),Ae=this.getTrackById(ee.track_id);return ce.add("tfhd").set("track_id",ee.track_id).set("flags",ye.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),ce.add("tfdt").set("baseMediaDecodeTime",ee.dts-(Ae.first_dts||0)),ce.add("trun").set("flags",ye.TRUN_FLAGS_DATA_OFFSET|ye.TRUN_FLAGS_DURATION|ye.TRUN_FLAGS_SIZE|ye.TRUN_FLAGS_FLAGS|ye.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[ee.duration]).set("sample_size",[ee.size]).set("sample_flags",[se]).set("sample_composition_time_offset",[ee.cts-ee.dts]),he},Se.prototype.lastMoofIndex=0,Se.prototype.samplesDataSize=0,Se.prototype.resetTables=function(){var ee,se;for(this.initial_duration=this.moov.mvhd.duration,ee=this.moov.mvhd.duration=0;ee<this.moov.traks.length;ee++){(se=this.moov.traks[ee]).tkhd.duration=0,se.mdia.mdhd.duration=0,(se.mdia.minf.stbl.stco||se.mdia.minf.stbl.co64).chunk_offsets=[],(he=se.mdia.minf.stbl.stsc).first_chunk=[],he.samples_per_chunk=[],he.sample_description_index=[],(se.mdia.minf.stbl.stsz||se.mdia.minf.stbl.stz2).sample_sizes=[],(he=se.mdia.minf.stbl.stts).sample_counts=[],he.sample_deltas=[],(he=se.mdia.minf.stbl.ctts)&&(he.sample_counts=[],he.sample_offsets=[]);var he=se.mdia.minf.stbl.stss,he=se.mdia.minf.stbl.boxes.indexOf(he);he!=-1&&(se.mdia.minf.stbl.boxes[he]=null)}},Se.initSampleGroups=function(ee,se,he,ce,Ae){var ke,Ee,je,Le;function $e(Ie,De,Ue){this.grouping_type=Ie,this.grouping_type_parameter=De,this.sbgp=Ue,this.last_sample_in_run=-1,this.entry_index=-1}for(se&&(se.sample_groups_info=[]),ee.sample_groups_info||(ee.sample_groups_info=[]),Ee=0;Ee<he.length;Ee++){for(Le=he[Ee].grouping_type+"/"+he[Ee].grouping_type_parameter,je=new $e(he[Ee].grouping_type,he[Ee].grouping_type_parameter,he[Ee]),se&&(se.sample_groups_info[Le]=je),ee.sample_groups_info[Le]||(ee.sample_groups_info[Le]=je),ke=0;ke<ce.length;ke++)ce[ke].grouping_type===he[Ee].grouping_type&&(je.description=ce[ke],je.description.used=!0);if(Ae)for(ke=0;ke<Ae.length;ke++)Ae[ke].grouping_type===he[Ee].grouping_type&&(je.fragment_description=Ae[ke],je.fragment_description.used=!0,je.is_fragment=!0)}if(se){if(Ae)for(Ee=0;Ee<Ae.length;Ee++)!Ae[Ee].used&&2<=Ae[Ee].version&&(Le=Ae[Ee].grouping_type+"/0",(je=new $e(Ae[Ee].grouping_type,0)).is_fragment=!0,se.sample_groups_info[Le]||(se.sample_groups_info[Le]=je))}else for(Ee=0;Ee<ce.length;Ee++)!ce[Ee].used&&2<=ce[Ee].version&&(Le=ce[Ee].grouping_type+"/0",je=new $e(ce[Ee].grouping_type,0),ee.sample_groups_info[Le]||(ee.sample_groups_info[Le]=je))},Se.setSampleGroupProperties=function(ee,se,he,ce){var Ae,ke,Ee;for(Ae in se.sample_groups=[],ce)se.sample_groups[Ae]={},se.sample_groups[Ae].grouping_type=ce[Ae].grouping_type,se.sample_groups[Ae].grouping_type_parameter=ce[Ae].grouping_type_parameter,he>=ce[Ae].last_sample_in_run&&(ce[Ae].last_sample_in_run<0&&(ce[Ae].last_sample_in_run=0),ce[Ae].entry_index++,ce[Ae].entry_index<=ce[Ae].sbgp.entries.length-1)&&(ce[Ae].last_sample_in_run+=ce[Ae].sbgp.entries[ce[Ae].entry_index].sample_count),ce[Ae].entry_index<=ce[Ae].sbgp.entries.length-1?se.sample_groups[Ae].group_description_index=ce[Ae].sbgp.entries[ce[Ae].entry_index].group_description_index:se.sample_groups[Ae].group_description_index=-1,se.sample_groups[Ae].group_description_index!==0&&(Ee=ce[Ae].fragment_description||ce[Ae].description,0<se.sample_groups[Ae].group_description_index?(ke=65535<se.sample_groups[Ae].group_description_index?(se.sample_groups[Ae].group_description_index>>16)-1:se.sample_groups[Ae].group_description_index-1,Ee&&0<=ke&&(se.sample_groups[Ae].description=Ee.entries[ke])):Ee&&2<=Ee.version&&0<Ee.default_group_description_index&&(se.sample_groups[Ae].description=Ee.entries[Ee.default_group_description_index-1]))},Se.process_sdtp=function(ee,se,he){se&&(ee?(se.is_leading=ee.is_leading[he],se.depends_on=ee.sample_depends_on[he],se.is_depended_on=ee.sample_is_depended_on[he],se.has_redundancy=ee.sample_has_redundancy[he]):(se.is_leading=0,se.depends_on=0,se.is_depended_on=0,se.has_redundancy=0))},Se.prototype.buildSampleLists=function(){for(var ee,se=0;se<this.moov.traks.length;se++)ee=this.moov.traks[se],this.buildTrakSampleLists(ee)},Se.prototype.buildTrakSampleLists=function(ee){var se,he,ce,Ae,ke,Ee,je,Le,$e,Ie,De,Ue,Ke,t0,Re,Ze,i0,e0,a0,n0,Me,Xe,c0,h0;if(ee.samples=[],ee.samples_duration=0,ee.samples_size=0,he=ee.mdia.minf.stbl.stco||ee.mdia.minf.stbl.co64,ce=ee.mdia.minf.stbl.stsc,Ae=ee.mdia.minf.stbl.stsz||ee.mdia.minf.stbl.stz2,ke=ee.mdia.minf.stbl.stts,Ee=ee.mdia.minf.stbl.ctts,je=ee.mdia.minf.stbl.stss,Le=ee.mdia.minf.stbl.stsd,$e=ee.mdia.minf.stbl.subs,Ue=ee.mdia.minf.stbl.stdp,Ie=ee.mdia.minf.stbl.sbgps,De=ee.mdia.minf.stbl.sgpds,Me=n0=a0=e0=-1,h0=c0=Xe=0,Se.initSampleGroups(ee,null,Ie,De),Ae!==void 0){for(se=0;se<Ae.sample_sizes.length;se++){var w0={};w0.number=se,w0.track_id=ee.tkhd.track_id,w0.timescale=ee.mdia.mdhd.timescale,w0.alreadyRead=0,(ee.samples[se]=w0).size=Ae.sample_sizes[se],ee.samples_size+=w0.size,se===0?(Ke=0,w0.chunk_index=t0=1,w0.chunk_run_index=Ke,i0=ce.samples_per_chunk[Ke],Ze=0,Re=Ke+1<ce.first_chunk.length?ce.first_chunk[Ke+1]-1:1/0):se<i0?(w0.chunk_index=t0,w0.chunk_run_index=Ke):(Ze=0,(w0.chunk_index=++t0)<=Re||(Re=++Ke+1<ce.first_chunk.length?ce.first_chunk[Ke+1]-1:1/0),w0.chunk_run_index=Ke,i0+=ce.samples_per_chunk[Ke]),w0.description_index=ce.sample_description_index[w0.chunk_run_index]-1,w0.description=Le.entries[w0.description_index],w0.offset=he.chunk_offsets[w0.chunk_index-1]+Ze,Ze+=w0.size,e0<se&&(a0++,e0<0&&(e0=0),e0+=ke.sample_counts[a0]),0<se?(ee.samples[se-1].duration=ke.sample_deltas[a0],ee.samples_duration+=ee.samples[se-1].duration,w0.dts=ee.samples[se-1].dts+ee.samples[se-1].duration):w0.dts=0,Ee?(n0<=se&&(Me++,n0<0&&(n0=0),n0+=Ee.sample_counts[Me]),w0.cts=ee.samples[se].dts+Ee.sample_offsets[Me]):w0.cts=w0.dts,je?(se==je.sample_numbers[Xe]-1?(w0.is_sync=!0,Xe++):(w0.is_sync=!1,w0.degradation_priority=0),$e&&$e.entries[c0].sample_delta+h0==se+1&&(w0.subsamples=$e.entries[c0].subsamples,h0+=$e.entries[c0].sample_delta,c0++)):w0.is_sync=!0,Se.process_sdtp(ee.mdia.minf.stbl.sdtp,w0,w0.number),w0.degradation_priority=Ue?Ue.priority[se]:0,$e&&$e.entries[c0].sample_delta+h0==se&&(w0.subsamples=$e.entries[c0].subsamples,h0+=$e.entries[c0].sample_delta),(0<Ie.length||0<De.length)&&Se.setSampleGroupProperties(ee,w0,se,ee.sample_groups_info)}0<se&&(ee.samples[se-1].duration=Math.max(ee.mdia.mdhd.duration-ee.samples[se-1].dts,0),ee.samples_duration+=ee.samples[se-1].duration)}},Se.prototype.updateSampleLists=function(){var ee,se,he,ce,Ae,ke,Ee,je,Le,$e,Ie,De;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(Ee=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,Ee.type=="moof")for(je=Ee,ee=0;ee<je.trafs.length;ee++){for(Le=je.trafs[ee],$e=this.getTrackById(Le.tfhd.track_id),Ie=this.getTrexById(Le.tfhd.track_id),se=Le.tfhd.flags&ye.TFHD_FLAG_SAMPLE_DESC?Le.tfhd.default_sample_description_index:Ie?Ie.default_sample_description_index:1,he=Le.tfhd.flags&ye.TFHD_FLAG_SAMPLE_DUR?Le.tfhd.default_sample_duration:Ie?Ie.default_sample_duration:0,ce=Le.tfhd.flags&ye.TFHD_FLAG_SAMPLE_SIZE?Le.tfhd.default_sample_size:Ie?Ie.default_sample_size:0,Ae=Le.tfhd.flags&ye.TFHD_FLAG_SAMPLE_FLAGS?Le.tfhd.default_sample_flags:Ie?Ie.default_sample_flags:0,(Le.sample_number=0)<Le.sbgps.length&&Se.initSampleGroups($e,Le,Le.sbgps,$e.mdia.minf.stbl.sgpds,Le.sgpds),e0=0;e0<Le.truns.length;e0++)for(var Ue=Le.truns[e0],Ke=0;Ke<Ue.sample_count;Ke++){(De={}).moof_number=this.lastMoofIndex,De.number_in_traf=Le.sample_number,Le.sample_number++,De.number=$e.samples.length,Le.first_sample_index=$e.samples.length,$e.samples.push(De),De.track_id=$e.tkhd.track_id,De.timescale=$e.mdia.mdhd.timescale,De.description_index=se-1,De.description=$e.mdia.minf.stbl.stsd.entries[De.description_index],De.size=ce,Ue.flags&ye.TRUN_FLAGS_SIZE&&(De.size=Ue.sample_size[Ke]),$e.samples_size+=De.size,De.duration=he,Ue.flags&ye.TRUN_FLAGS_DURATION&&(De.duration=Ue.sample_duration[Ke]),$e.samples_duration+=De.duration,$e.first_traf_merged||0<Ke?De.dts=$e.samples[$e.samples.length-2].dts+$e.samples[$e.samples.length-2].duration:(Le.tfdt?De.dts=Le.tfdt.baseMediaDecodeTime:De.dts=0,$e.first_traf_merged=!0),De.cts=De.dts,Ue.flags&ye.TRUN_FLAGS_CTS_OFFSET&&(De.cts=De.dts+Ue.sample_composition_time_offset[Ke]),Ze=Ae,Ue.flags&ye.TRUN_FLAGS_FLAGS?Ze=Ue.sample_flags[Ke]:Ke===0&&Ue.flags&ye.TRUN_FLAGS_FIRST_FLAG&&(Ze=Ue.first_sample_flags),De.is_sync=!(Ze>>16&1),De.is_leading=Ze>>26&3,De.depends_on=Ze>>24&3,De.is_depended_on=Ze>>22&3,De.has_redundancy=Ze>>20&3,De.degradation_priority=65535&Ze;var Ze=!!(Le.tfhd.flags&ye.TFHD_FLAG_BASE_DATA_OFFSET),t0=!!(Le.tfhd.flags&ye.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),Re=!!(Ue.flags&ye.TRUN_FLAGS_DATA_OFFSET),Ze=Ze?Le.tfhd.base_data_offset:t0||e0===0?je.start:ke;De.offset=e0===0&&Ke===0?Re?Ze+Ue.data_offset:Ze:ke,ke=De.offset+De.size,(0<Le.sbgps.length||0<Le.sgpds.length||0<$e.mdia.minf.stbl.sbgps.length||0<$e.mdia.minf.stbl.sgpds.length)&&Se.setSampleGroupProperties($e,De,De.number_in_traf,Le.sample_groups_info)}if(Le.subs){$e.has_fragment_subsamples=!0;for(var i0=Le.first_sample_index,e0=0;e0<Le.subs.entries.length;e0++)i0+=Le.subs.entries[e0].sample_delta,(De=$e.samples[i0-1]).subsamples=Le.subs.entries[e0].subsamples}}}},Se.prototype.getSample=function(ee,se){var he=ee.samples[se];if(!this.moov)return null;if(he.data){if(he.alreadyRead==he.size)return he}else he.data=new Uint8Array(he.size),he.alreadyRead=0,this.samplesDataSize+=he.size,Oe.debug("ISOFile","Allocating sample #"+se+" on track #"+ee.tkhd.track_id+" of size "+he.size+" (total: "+this.samplesDataSize+")");for(;;){var ce=this.stream.findPosition(!0,he.offset+he.alreadyRead,!1);if(!(-1<ce))return null;var Ae=(ce=this.stream.buffers[ce]).byteLength-(he.offset+he.alreadyRead-ce.fileStart);if(he.size-he.alreadyRead<=Ae)return Oe.debug("ISOFile","Getting sample #"+se+" data (alreadyRead: "+he.alreadyRead+" offset: "+(he.offset+he.alreadyRead-ce.fileStart)+" read size: "+(he.size-he.alreadyRead)+" full size: "+he.size+")"),ae.memcpy(he.data.buffer,he.alreadyRead,ce,he.offset+he.alreadyRead-ce.fileStart,he.size-he.alreadyRead),ce.usedBytes+=he.size-he.alreadyRead,this.stream.logBufferLevel(),he.alreadyRead=he.size,he;if(Ae==0)return null;Oe.debug("ISOFile","Getting sample #"+se+" partial data (alreadyRead: "+he.alreadyRead+" offset: "+(he.offset+he.alreadyRead-ce.fileStart)+" read size: "+Ae+" full size: "+he.size+")"),ae.memcpy(he.data.buffer,he.alreadyRead,ce,he.offset+he.alreadyRead-ce.fileStart,Ae),he.alreadyRead+=Ae,ce.usedBytes+=Ae,this.stream.logBufferLevel()}},Se.prototype.releaseSample=function(ee,se){return ee=ee.samples[se],ee.data?(this.samplesDataSize-=ee.size,ee.data=null,ee.alreadyRead=0,ee.size):0},Se.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},Se.prototype.getCodecs=function(){for(var ee="",se=0;se<this.moov.traks.length;se++)0<se&&(ee+=","),ee+=this.moov.traks[se].mdia.minf.stbl.stsd.entries[0].getCodec();return ee},Se.prototype.getTrexById=function(ee){var se;if(this.moov&&this.moov.mvex)for(se=0;se<this.moov.mvex.trexs.length;se++){var he=this.moov.mvex.trexs[se];if(he.track_id==ee)return he}return null},Se.prototype.getTrackById=function(ee){if(this.moov!==void 0)for(var se=0;se<this.moov.traks.length;se++){var he=this.moov.traks[se];if(he.tkhd.track_id==ee)return he}return null},Se.prototype.items=[],Se.prototype.itemsDataSize=0,Se.prototype.flattenItemInfo=function(){var ee=this.items,se=this.meta;if(se!=null&&se.hdlr!==void 0&&se.iinf!==void 0){for(Le=0;Le<se.iinf.item_infos.length;Le++)(ce={}).id=se.iinf.item_infos[Le].item_ID,(ee[ce.id]=ce).ref_to=[],ce.name=se.iinf.item_infos[Le].item_name,0<se.iinf.item_infos[Le].protection_index&&(ce.protection=se.ipro.protections[se.iinf.item_infos[Le].protection_index-1]),se.iinf.item_infos[Le].item_type?ce.type=se.iinf.item_infos[Le].item_type:ce.type="mime",ce.content_type=se.iinf.item_infos[Le].content_type,ce.content_encoding=se.iinf.item_infos[Le].content_encoding;if(se.iloc)for(Le=0;Le<se.iloc.items.length;Le++){var he=se.iloc.items[Le],ce=ee[he.item_ID];switch(he.data_reference_index!==0&&(Oe.warn("Item storage with reference to other files: not supported"),ce.source=se.dinf.boxes[he.data_reference_index-1]),he.construction_method){case 0:break;case 1:case 2:Oe.warn("Item storage with construction_method : not supported")}for(ce.extents=[],ke=ce.size=0;ke<he.extents.length;ke++)ce.extents[ke]={},ce.extents[ke].offset=he.extents[ke].extent_offset+he.base_offset,ce.extents[ke].length=he.extents[ke].extent_length,ce.extents[ke].alreadyRead=0,ce.size+=ce.extents[ke].length}if(se.pitm&&(ee[se.pitm.item_id].primary=!0),se.iref)for(Le=0;Le<se.iref.references.length;Le++)for(var Ae=se.iref.references[Le],ke=0;ke<Ae.references.length;ke++)ee[Ae.from_item_ID].ref_to.push({type:Ae.type,id:Ae.references[ke]});if(se.iprp)for(var Ee=0;Ee<se.iprp.ipmas.length;Ee++)for(var je=se.iprp.ipmas[Ee],Le=0;Le<je.associations.length;Le++){var $e=je.associations[Le];for((ce=ee[$e.id]).properties===void 0&&(ce.properties={},ce.properties.boxes=[]),ke=0;ke<$e.props.length;ke++){var Ie=$e.props[ke];0<Ie.property_index&&Ie.property_index-1<se.iprp.ipco.boxes.length&&(Ie=se.iprp.ipco.boxes[Ie.property_index-1],ce.properties[Ie.type]=Ie,ce.properties.boxes.push(Ie))}}}},Se.prototype.getItem=function(ee){var se;if(!this.meta)return null;if(!(se=this.items[ee]).data&&se.size)se.data=new Uint8Array(se.size),se.alreadyRead=0,this.itemsDataSize+=se.size,Oe.debug("ISOFile","Allocating item #"+ee+" of size "+se.size+" (total: "+this.itemsDataSize+")");else if(se.alreadyRead===se.size)return se;for(var he=0;he<se.extents.length;he++){var ce=se.extents[he];if(ce.alreadyRead!==ce.length){var Ae=this.stream.findPosition(!0,ce.offset+ce.alreadyRead,!1);if(!(-1<Ae))return null;var ke=(Ae=this.stream.buffers[Ae]).byteLength-(ce.offset+ce.alreadyRead-Ae.fileStart);if(!(ce.length-ce.alreadyRead<=ke))return Oe.debug("ISOFile","Getting item #"+ee+" extent #"+he+" partial data (alreadyRead: "+ce.alreadyRead+" offset: "+(ce.offset+ce.alreadyRead-Ae.fileStart)+" read size: "+ke+" full extent size: "+ce.length+" full item size: "+se.size+")"),ae.memcpy(se.data.buffer,se.alreadyRead,Ae,ce.offset+ce.alreadyRead-Ae.fileStart,ke),ce.alreadyRead+=ke,se.alreadyRead+=ke,Ae.usedBytes+=ke,this.stream.logBufferLevel(),null;Oe.debug("ISOFile","Getting item #"+ee+" extent #"+he+" data (alreadyRead: "+ce.alreadyRead+" offset: "+(ce.offset+ce.alreadyRead-Ae.fileStart)+" read size: "+(ce.length-ce.alreadyRead)+" full extent size: "+ce.length+" full item size: "+se.size+")"),ae.memcpy(se.data.buffer,se.alreadyRead,Ae,ce.offset+ce.alreadyRead-Ae.fileStart,ce.length-ce.alreadyRead),Ae.usedBytes+=ce.length-ce.alreadyRead,this.stream.logBufferLevel(),se.alreadyRead+=ce.length-ce.alreadyRead,ce.alreadyRead=ce.length}}return se.alreadyRead===se.size?se:null},Se.prototype.releaseItem=function(ee){var se=this.items[ee];if(se.data){this.itemsDataSize-=se.size,se.data=null;for(var he=se.alreadyRead=0;he<se.extents.length;he++)se.extents[he].alreadyRead=0;return se.size}return 0},Se.prototype.processItems=function(ee){for(var se in this.items)se=this.items[se],this.getItem(se.id),ee&&!se.sent&&(ee(se),se.sent=!0,se.data=null)},Se.prototype.hasItem=function(ee){for(var se in this.items)if(se=this.items[se],se.name===ee)return se.id;return-1},Se.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},Se.prototype.getPrimaryItem=function(){return this.meta&&this.meta.pitm?this.getItem(this.meta.pitm.item_id):null},Se.prototype.itemToFragmentedTrackFile=function(ce){var se,he,ce=ce||{};return(ce=ce.itemId?this.getItem(ce.itemId):this.getPrimaryItem())!=null&&((se=new Se).discardMdatData=!1,he={type:ce.type,description_boxes:ce.properties.boxes},ce.properties.ispe&&(he.width=ce.properties.ispe.image_width,he.height=ce.properties.ispe.image_height),he=se.addTrack(he))?(se.addSample(he,ce.data),se):null},Se.prototype.write=function(ee){for(var se=0;se<this.boxes.length;se++)this.boxes[se].write(ee)},Se.prototype.createFragment=function(ce,se,he){var ce=this.getTrackById(ce),Ae=this.getSample(ce,se);return Ae==null?(Ae=ce.samples[se],this.nextSeekPosition?this.nextSeekPosition=Math.min(Ae.offset+Ae.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=ce.samples[se].offset+Ae.alreadyRead,null):((ce=he||new ae).endianness=ae.BIG_ENDIAN,(se=this.createSingleSampleMoof(Ae)).write(ce),se.trafs[0].truns[0].data_offset=se.size+8,Oe.debug("MP4Box","Adjusting data_offset with new value "+se.trafs[0].truns[0].data_offset),ce.adjustUint32(se.trafs[0].truns[0].data_offset_position,se.trafs[0].truns[0].data_offset),(he=new ye.mdatBox).data=Ae.data,he.write(ce),ce)},Se.writeInitializationSegment=function(ee,se,he,ce){Oe.debug("ISOFile","Generating initialization segment");var Ae,ke=new ae,Ee=(ke.endianness=ae.BIG_ENDIAN,ee.write(ke),se.add("mvex"));for(he&&Ee.add("mehd").set("fragment_duration",he),Ae=0;Ae<se.traks.length;Ae++)Ee.add("trex").set("track_id",se.traks[Ae].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",ce).set("default_sample_size",0).set("default_sample_flags",65536);return se.write(ke),ke.buffer},Se.prototype.save=function(ee){var se=new ae;se.endianness=ae.BIG_ENDIAN,this.write(se),se.save(ee)},Se.prototype.getBuffer=function(){var ee=new ae;return ee.endianness=ae.BIG_ENDIAN,this.write(ee),ee.buffer},Se.prototype.initializeSegmentation=function(){var ee,se,he,ce;for(this.onSegment===null&&Oe.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),se=[],ee=0;ee<this.fragmentedTracks.length;ee++){var Ae=new ye.moovBox;Ae.mvhd=this.moov.mvhd,Ae.boxes.push(Ae.mvhd),he=this.getTrackById(this.fragmentedTracks[ee].id),Ae.boxes.push(he),Ae.traks.push(he),(ce={}).id=he.tkhd.track_id,ce.user=this.fragmentedTracks[ee].user,ce.buffer=Se.writeInitializationSegment(this.ftyp,Ae,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,0<this.moov.traks[ee].samples.length?this.moov.traks[ee].samples[0].duration:0),se.push(ce)}return se},ye.Box.prototype.printHeader=function(ee){this.size+=8,this.size>Fe&&(this.size+=8),this.type==="uuid"&&(this.size+=16),ee.log(ee.indent+"size:"+this.size),ee.log(ee.indent+"type:"+this.type)},ye.FullBox.prototype.printHeader=function(ee){this.size+=4,ye.Box.prototype.printHeader.call(this,ee),ee.log(ee.indent+"version:"+this.version),ee.log(ee.indent+"flags:"+this.flags)},ye.Box.prototype.print=function(ee){this.printHeader(ee)},ye.ContainerBox.prototype.print=function(ee){this.printHeader(ee);for(var se,he=0;he<this.boxes.length;he++)this.boxes[he]&&(se=ee.indent,ee.indent+=" ",this.boxes[he].print(ee),ee.indent=se)},Se.prototype.print=function(ee){ee.indent="";for(var se=0;se<this.boxes.length;se++)this.boxes[se]&&this.boxes[se].print(ee)},ye.mvhdBox.prototype.print=function(ee){ye.FullBox.prototype.printHeader.call(this,ee),ee.log(ee.indent+"creation_time: "+this.creation_time),ee.log(ee.indent+"modification_time: "+this.modification_time),ee.log(ee.indent+"timescale: "+this.timescale),ee.log(ee.indent+"duration: "+this.duration),ee.log(ee.indent+"rate: "+this.rate),ee.log(ee.indent+"volume: "+(this.volume>>8)),ee.log(ee.indent+"matrix: "+this.matrix.join(", ")),ee.log(ee.indent+"next_track_id: "+this.next_track_id)},ye.tkhdBox.prototype.print=function(ee){ye.FullBox.prototype.printHeader.call(this,ee),ee.log(ee.indent+"creation_time: "+this.creation_time),ee.log(ee.indent+"modification_time: "+this.modification_time),ee.log(ee.indent+"track_id: "+this.track_id),ee.log(ee.indent+"duration: "+this.duration),ee.log(ee.indent+"volume: "+(this.volume>>8)),ee.log(ee.indent+"matrix: "+this.matrix.join(", ")),ee.log(ee.indent+"layer: "+this.layer),ee.log(ee.indent+"alternate_group: "+this.alternate_group),ee.log(ee.indent+"width: "+this.width),ee.log(ee.indent+"height: "+this.height)};var Ne=function(ee,se){return ee=ee===void 0||ee,se=new Se(se),se.discardMdatData=!ee,se};R.createFile=Ne});function Xo(Qe){return Qe.reduce((R,ie)=>256*R+ie)}function pl(Qe){const R=[101,103,119,99],ie=Qe.length-28,ae=Qe.slice(ie,ie+R.length);return R.every((we,_e)=>we===ae[_e])}rs.Log,rs.MP4BoxStream,rs.DataStream,rs.MultiBufferStream,rs.MPEG4DescriptorParser,rs.BoxParser,rs.XMLSubtitlein4Parser,rs.Textin4Parser,rs.ISOFile,rs.createFile;class wu{constructor(){this.s=null,this.a=null,this.l=0,this.c=0,this.u=1/0,this.A=!1,this.d=!1,this.r=4194304,this.n=new Uint8Array([30,158,90,33,244,57,83,165,2,70,35,87,215,231,226,108]),this.t=this.n.slice().reverse()}destroy(){this.s=null,this.a=null,this.l=0,this.c=0,this.u=1/0,this.A=!1,this.d=!1,this.r=4194304,this.n=null,this.t=null}transport(R){if((this.s||!(50<this.l))&&(this.l++,!this.d)){var ie=new Uint8Array(R);if(this.A){if(!(this.c<this.u))return this.a&&this.s?(this.a.set(ie,this.r),this.s.parse(null,this.r,ie.byteLength),this.a.slice(this.r,this.r+ie.byteLength)):(console.error("video_error_2"),this.d=!0,R);pl(ie)&&this.c++}else{var ae=(function(_e,fe){var de=(function(Se,Pe){for(let xe=0;xe<Se.byteLength-Pe.length;xe++)for(let Oe=0;Oe<Pe.length&&Se[xe+Oe]===Pe[Oe];Oe++)if(Oe===Pe.length-1)return xe;return null})(_e,fe);if(de){const Se=Xo(_e.slice(de+16,de+16+8));return[Se,Xo(_e.slice(de+24,de+24+8)),_e.slice(de+32,de+32+Se).map(Pe=>~Pe)]}return null})(ie,this.t);if(!ae)return R;var we=(function(_e){try{if(typeof WebAssembly!="object"||typeof WebAssembly.instantiate!="function")throw null;{const de=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(!(de instanceof WebAssembly.Module&&new WebAssembly.Instance(de)instanceof WebAssembly.Instance))throw null}}catch{return new Error("video_error_4")}let fe;try{fe={env:{__handle_stack_overflow:()=>_e(new Error("video_error_1")),memory:new WebAssembly.Memory({initial:256,maximum:256})}}}catch{return new Error("video_error_5")}return fe})(R);if(we instanceof Error)return console.error(we.message),this.d=!0,R;this.A=!0,this.u=ae[1],pl(ie)&&this.c++,WebAssembly.instantiate(ae[2],we).then(_e=>{var fe;typeof(fe=_e.instance.exports).parse!="function"||typeof fe.memory!="object"?(this.d=!0,console.error("video_error_3")):(this.s=_e.instance.exports,this.a=new Uint8Array(this.s.memory.buffer))}).catch(_e=>{this.d=!0,console.error("video_error_6")})}}return R}}class o1 extends Ps{TAG_NAME="Fmp4Loader";constructor(R){super(R),this.player=R,this.mp4Box=rs.createFile(),this.tempFmp4List=[],this.offset=0,this.videoTrackId=null,this.audioTrackId=null,this.isHevc=!1,this.transportDescarmber=null,this.player._opt.isFmp4Private&&(this.transportDescarmber=new wu),this._listenMp4Box(),R.debug.log(this.TAG_NAME,"init")}destroy(){this.mp4Box&&(this.mp4Box.flush(),this.mp4Box=null),this.transportDescarmber&&(this.transportDescarmber.destroy(),this.transportDescarmber=null),this.tempFmp4List=[],this.offset=0,this.videoTrackId=null,this.audioTrackId=null,this.isHevc=!1,this.player.debug.log(this.TAG_NAME,"destroy")}_listenMp4Box(){this.mp4Box.onReady=this.onReady.bind(this),this.mp4Box.onError=this.onError.bind(this),this.mp4Box.onSamples=this.onSamples.bind(this)}onReady(R){this.player.debug.log(this.TAG_NAME,"onReady",R);const ie=R.videoTracks[0],ae=R.audioTracks[0];if(ie){this.videoTrackId=ie.id;const fe=this.getSeqHeader(ie);fe&&(this.player.debug.log(this.TAG_NAME,"seqHeader",fe),this._doDecodeByFmp4(fe,2,0,!0,0)),this.mp4Box.setExtractionOptions(ie.id)}if(ae){this.audioTrackId=ae.id;const fe=ae.audio||{},de=go.indexOf(fe.sample_rate),Se=ae.codec.replace("mp4a.40.","");this.mp4Box.setExtractionOptions(ae.id);var we={profile:parseInt(Se,10),sampleRate:de,channel:fe.channel_count},_e=_2(we);this.player.debug.log(this.TAG_NAME,"aacADTSHeader",_e,"config",we),this._doDecodeByFmp4(_e,1,0,!1,0)}this.mp4Box.start()}onError(R){this.player.debug.error(this.TAG_NAME,"mp4Box onError",R)}onSamples(R,ie,ae){if(R===this.videoTrackId)for(const fe of ae){const de=fe.data,Se=fe.is_sync,Pe=1e3*fe.cts/fe.timescale;fe.duration,fe.timescale,this.player.updateStats({vbps:de.byteLength,dts:Pe}),Se&&this.calcIframeIntervalTimestamp(Pe);var we=(this.isHevc?jt:Po)(de,Se);this._doDecodeByFmp4(we,2,Pe,Se,0)}else if(R===this.audioTrackId)for(const fe of ae){const de=fe.data,Se=(this.player.updateStats({abps:de.byteLength}),1e3*fe.cts/fe.timescale);fe.duration,fe.timescale;var _e=new Uint8Array(de.byteLength+2);_e.set([175,1],0),_e.set(de,2),this._doDecodeByFmp4(_e,1,Se,!1,0)}else this.player.debug.warn(this.TAG_NAME,"onSamples() trackId error",R)}getSeqHeader(R){const ie=this.mp4Box.getTrackById(R.id);for(const _e of ie.mdia.minf.stbl.stsd.entries)if(_e.avcC||_e.hvcC){const fe=new rs.DataStream(void 0,0,rs.DataStream.BIG_ENDIAN);let de=[];de=_e.avcC?(_e.avcC.write(fe),[23,0,0,0,0]):(this.isHevc=!0,_e.hvcC.write(fe),[28,0,0,0,0]);var ae=new Uint8Array(fe.buffer,8),we=new Uint8Array(de.length+ae.length);return we.set(de,0),we.set(ae,de.length),we}return null}dispatch(R){let ie=new Uint8Array(R);typeof R!="string"?typeof R=="object"?((ie=this.transportDescarmber?this.transportDescarmber.transport(ie):ie).buffer.fileStart=this.offset,this.offset+=ie.byteLength,this.mp4Box.appendBuffer(ie.buffer)):this.player.debug.warn(this.TAG_NAME,"dispatch()","data is not object",R):this.player.debug.warn(this.TAG_NAME,"dispatch()","data is string",R)}downloadFmp4File(){var R=new Blob(this.tempFmp4List,{type:'video/mp4; codecs="avc1.640028,mp4a.40.2"'}),R=URL.createObjectURL(R),ie=document.createElement("a");ie.href=R,ie.download=_i()+".fmp4",ie.click(),URL.revokeObjectURL(R)}}class _u extends Ps{LOG_NAME="Mpeg4Loader";constructor(R){super(R),this.player=R,this.player.debug.log(this.LOG_NAME,"init")}destroy(){super.destroy(),this.player.debug.log(this.LOG_NAME,"destroy")}}class Zo{constructor(R){return new(Zo.getLoaderFactory(R._opt.demuxType))(R)}static getLoaderFactory(R){return R==="m7s"?dl:R===p0?mn:R===D?Qo:R===k0?vu:R===T0?o1:R===J0?_u:fl}}class ml extends me{constructor(R){super(),this.player=R,this.hasInit=!1,this.isDecodeFirstIIframe=!1,this.isInitInfo=!1,this.prevTimestamp=null,this.decodeDiffTimestamp=null,this.prevDts=null,this.decoder=null,this.isWidthOrHeightChanged=!1,this.initDecoder(),R.debug.log("Webcodecs","init")}destroy(){this.decoder&&(this.decoder.state!=="closed"&&this.decoder.close(),this.decoder=null),this.prevTimestamp=null,this.decodeDiffTimestamp=null,this.prevDts=null,this.hasInit=!1,this.isInitInfo=!1,this.isDecodeFirstIIframe=!1,this.isWidthOrHeightChanged=!1,this.off(),this.player.debug.log("Webcodecs","destroy")}initDecoder(){const R=this;this.decoder=new VideoDecoder({output(ie){R.handleDecode(ie)},error(ie){R.handleError(ie)}})}handleDecode(R){this.isInitInfo||(this.player.video.updateVideoInfo({width:R.codedWidth,height:R.codedHeight}),this.player.video.initCanvasViewSize(),this.isInitInfo=!0),this.player._times.videoStart||(this.player._times.videoStart=_i(),this.player.handlePlayToRenderTimes()),this.player.video.render({videoFrame:R,ts:R.timestamp}),this.player.handleRender(),this.player.updateStats({dfps:!0,buf:this.player.demux&&this.player.demux.delay||0})}handleError(R){this.player.debug.error("Webcodecs","VideoDecoder handleError：",R.code,R),R=R.toString(),R.indexOf("Unsupported configuration")!==-1&&this.player.emitError(L0.webcodecsUnsupportedConfigurationError,R)}decodeVideo(R,ie,ae,we){if(this.hasInit)if(this.isDecodeFirstIIframe||ae||this.player.debug.warn("Webcodecs","VideoDecoder isDecodeFirstIIframe false and isIframe is false"),!this.isDecodeFirstIIframe&&ae&&(this.isDecodeFirstIIframe=!0),this.isDecodeFirstIIframe){if(ae&&R[1]===0){const de=15&R[0];let Se={};de==7?Se=K1(R.slice(5)):de==12&&(Se=_s(R));const Pe=this.player.video.videoInfo;Pe&&Pe.width&&Pe.height&&Se&&Se.codecWidth&&Se.codecHeight&&(Se.codecWidth!==Pe.width||Se.codecHeight!==Pe.height)&&(this.player.debug.warn("Webcodecs",`decodeVideo: video width or height is changed, old width is ${videoWidth}, old height is ${videoHeight}, new width is ${Se.codecWidth}, new height is ${Se.codecHeight}, and emit change event`),this.isWidthOrHeightChanged=!0,this.player.emitError(L0.wcsWidthOrHeightChange))}if(this.isWidthOrHeightChanged)this.player.debug.warn("Webcodecs","decodeVideo: video width or height is changed, and return");else if(z2(R))this.player.debug.warn("Webcodecs","decodeVideo and payload is video sequence header so drop this frame");else if(R.byteLength<12)this.player.debug.warn("Webcodecs","decodeVideo and payload is too small , payload length is "+R.byteLength);else{let de=!1,Se=new Date().getTime();this.prevTimestamp||(this.prevTimestamp=Se,de=!0);var _e=Se-this.prevTimestamp,_e=(((this.decodeDiffTimestamp=_e)<5||500<_e)&&!de&&this.player.debug.warn("Webcodecs","decodeVideo diff time is ",_e),R.slice(5)),fe=new EncodedVideoChunk({data:_e,timestamp:ie,type:ae?"key":"delta"});this.player.emit(d0.timeUpdate,ie),this.player.recorder&&this.player.recorder.isRecording&&this.player._opt.recordType===f0&&this.player.recorder.handleAddNaluTrack(_e,ae,ie,we);try{if(this.isDecodeStateClosed())return void this.player.debug.warn("Webcodecs","VideoDecoder isDecodeStateClosed true");this.decoder.decode(fe)}catch(Pe){this.player.debug.error("Webcodecs","VideoDecoder",Pe);const xe=Pe.toString();xe.indexOf("A key frame is required after configure() or flush()")===-1&&xe.indexOf("Cannot call 'decode' on a closed codec")===-1||this.player.emit(L0.webcodecsDecodeError)}this.prevTimestamp=new Date().getTime()}}else this.player.debug.warn("Webcodecs","VideoDecoder isDecodeFirstIIframe false");else if(ae&&R[1]===D1){const de=15&R[0];if(this.player.video.updateVideoInfo({encTypeCode:de}),de!=12||x2()){this.player._times.decodeStart||(this.player._times.decodeStart=_i());let Se=null;const Pe=R.slice(5);de==7?Se=(function(xe){let Oe=xe.subarray(1,4),Fe="avc1.";for(let ye=0;ye<3;ye++){let Ne=Oe[ye].toString(16);Ne.length<2&&(Ne="0"+Ne),Fe+=Ne}return{codec:Fe,description:xe}})(Pe):de==12&&((_e=Pe).subarray(1,4),Se={codec:"hev1.1.6.L120.90",description:_e}),this.player.recorder&&this.player._opt.recordType===f0&&this.player.recorder.initMetaData(R,de),this.player.debug.log("Webcodecs","decodeVideo and webcodecs configure");try{this.decoder.configure(Se),this.hasInit=!0}catch(xe){this.player.debug.log("Webcodecs","configure error",xe.code,xe)}}else{const Se=vo();this.player.debug.warn("Webcodecs","WebcodecsDecoder not support hevc decode",Se.type,Se.version),this.emit(L0.webcodecsH265NotSupport)}}}getDecodeDiffTimes(){return this.decodeDiffTimestamp}isDecodeStateClosed(){return this.decoder.state==="closed"}}const kt={play:"播放",pause:"暂停",audio:"",mute:"",screenshot:"截图",loading:"加载",fullscreen:"全屏",fullscreenExit:"退出全屏",record:"录制",recordStop:"停止录制",narrow:"缩小",expand:"放大",ptz:"操作盘",ptzActive:"操作盘激活",zoom:"电子放大",zoomStop:"关闭电子放大",close:"关闭",performance:"性能面板",performanceActive:"性能面板激活",face:"人脸识别",faceActive:"人脸识别激活"};var ar=Object.keys(kt).reduce((Qe,R)=>(Qe[R]=`
    <i class="jessibuca-icon jessibuca-icon-${R}"></i>
    ${kt[R]?`<span class="icon-title-tips"><span class="icon-title">${kt[R]}</span></span>`:""}
`,Qe),{});function l1(Qe,R){let ie=!1;return Qe.forEach(ae=>{ie||ae.startTimestamp<=R&&ae.endTimestamp>R&&(ie=!0)}),ie}function u1(Qe,R,ie){let ae=0<arguments.length&&Qe!==void 0?Qe:[],we=1<arguments.length&&R!==void 0?R:[],_e=2<arguments.length?ie:void 0;const fe=ae.length,de=we.length,Se=Math.max(fe,de),Pe=2e3,xe=Math.ceil(Se/Pe);let Oe=0,Fe=0;(function ye(){let Ne="",ee="";for(let se=0;se<Pe;se++){const he=ae[Fe],ce=(he&&(Ne+=`
                     <div class="jessibuca-playback-time-minute-one${he.hasRecord?" active":""}${he.isStart?" start":""}" data-has-record="${he.hasRecord}"
                     data-time="${he.timestamp}" data-type="${he.dataType}">
                        <span class="jessibuca-playback-time-title-tips ${Fe>fe-60?"jessibuca-playback-time-title-tips-left":""}"><span class="jessibuca-playback-time-title">${he.title}</span></span>
                    </div>
                `),we[Fe]);ce&&(ee+=`
                  <div class="jessibuca-playback-time-hour" data-hour="${ce.hour}" data-min="${ce.min}" data-second="${ce.second}"><span class="jessibuca-playback-time-hour-text">${ce.title}</span></div>
                `),Fe+=1}Ne&&_e.$playbackTimeListOne.insertAdjacentHTML("beforeend",Ne),ee&&_e.$playbackTimeListSecond.insertAdjacentHTML("beforeend",ee),(Oe+=1)<xe&&(_e.rafId=window.requestAnimationFrame(ye))})()}function bu(Qe,R){u1((function(ie){var ae,we,_e,fe=0<arguments.length&&ie!==void 0?ie:[],de=[],Se=(fe[0]||{}).startTimestamp;for(let xe=0;xe<1440;xe++){var Pe=xe%60==0;let Oe=!1;Se&&(Oe=l1(fe,(ae=Se,we=xe,_e=void 0,_e=Math.floor(we/60)%60,we=Math.floor(we%60),new Date(ae).setHours(_e,we,0,0)))),de.push({title:(function(Fe,ye){let Ne="";var ee;return-1<Fe&&(ee=Math.floor(Fe/60)%60,Fe=Fe%60,Fe=Math.round(Fe),Ne=ee<10?"0"+ee+":":ee+":",Fe<10&&(Ne+="0"),Ne+=Fe,xn(ye)||(Ne+=":"+ye)),Ne})(xe),timestamp:xe,dataType:"min",hasRecord:Oe,isStart:Pe})}return de})(Qe),(function(){var ie=[];for(let ae=0;ae<24;ae++){let we=ae+":00";ae<10&&(we="0"+we),ie.push({title:we,hour:ae,min:0,second:0})}return ie})(),R)}var gl=(Qe,R)=>{const ie=Qe.events.proxy,ae=document.createElement("object");ae.setAttribute("aria-hidden","true"),ae.setAttribute("tabindex",-1),ae.type="text/html",ae.data="about:blank",ri(ae,{display:"block",position:"absolute",top:"0",left:"0",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none",zIndex:"-1"});let we=Qe.width,_e=Qe.height;const fe=T2(()=>{Qe.width===we&&Qe.height===_e||(we=Qe.width,_e=Qe.height,Qe.emit(d0.resize),xe())},500),de=(ie(ae,"load",()=>{ie(ae.contentDocument.defaultView,"resize",()=>{fe()})}),Qe.$container.appendChild(ae),Qe.on(d0.destroy,()=>{Qe.$container.removeChild(ae)}),Qe.on(d0.volumechange,()=>{var Ne,ee,se;(Ne=Qe.volume)===0?(ri(R.$volumeOn,"display","none"),ri(R.$volumeOff,"display","flex"),ri(R.$volumeHandle,"top","48px")):R.$volumeHandle&&R.$volumePanel&&(ee=yo(R.$volumePanel,"height")||60,se=yo(R.$volumeHandle,"height"),ri(R.$volumeHandle,"top",ee-(ee-se)*Ne-se+"px"),ri(R.$volumeOn,"display","flex"),ri(R.$volumeOff,"display","none")),R.$volumePanelText&&(R.$volumePanelText.innerHTML=parseInt(100*Ne))}),Qe.on(d0.loading,Ne=>{ri(R.$loading,"display",Ne?"flex":"none"),(xi(Qe._opt.backgroundLoadingShow)&&br(Ne)||xi(Ne))&&ri(R.$poster,"display","none"),Ne&&ri(R.$playBig,"display","none"),es()||Ne||(R.$loadingBgImage.width=0,R.$loadingBgImage.height=0,R.$loadingBgImage.src="",ri(R.$loadingBg,"display","none"))}),Ne=>{Qe.fullscreen&&Is(Ne)!==Qe.$container||Se()}),Se=Ne=>{Ne=C2(Ne)?Ne:Qe.fullscreen,ri(R.$fullscreenExit,"display",Ne?"flex":"none"),ri(R.$fullscreen,"display",Ne?"none":"flex")},Pe=()=>Qe._opt.playType===We&&Qe._opt.playbackConfig.showControl,xe=Ne=>{es()&&R.$controls&&Qe._opt.useWebFullScreen&&setTimeout(()=>{if(Qe.fullscreen){const he=Pe()?48:38;var ee=Qe.height/2-Qe.width+he/2,se=Qe.height/2-he/2;R.$controls.style.transform=`translateX(${-ee}px) translateY(-${se}px) rotate(-90deg)`}else R.$controls.style.transform="translateX(0) translateY(0) rotate(0)";Ne&&Ne()},10)};try{cr.on("change",de),Qe.events.destroys.push(()=>{cr.off("change",de)})}catch{}Qe.on(d0.webFullscreen,Ne=>{es()&&(Se(Ne),xe(()=>{Fe()}))}),Qe.on(d0.recording,()=>{Qe.playing&&(ri(R.$record,"display",Qe.recording?"none":"flex"),ri(R.$recordStop,"display",Qe.recording?"flex":"none"),Qe._opt.hasControl||Qe._opt.isShowRecordingUI)&&ri(R.$recording,"display",Qe.recording?"flex":"none")}),Qe.on(d0.recordingTimestamp,Ne=>{R.$recordingTime&&(R.$recordingTime.innerHTML=_o(Ne))}),Qe.on(d0.zooming,()=>{Qe.playing&&(ri(R.$zoom,"display",Qe.zooming?"none":"flex"),ri(R.$zoomStop,"display",Qe.zooming?"flex":"none"),Qe._opt.hasControl||Qe._opt.isShowZoomingUI)&&ri(R.$zoomControls,"display",Qe.zooming?"flex":"none")}),Qe.on(d0.playing,Ne=>{Oe(Ne)});const Oe=Ne=>{ri(R.$play,"display",Ne?"none":"flex"),ri(R.$playBig,"display",Ne?"none":"block"),ri(R.$pause,"display",Ne?"flex":"none"),ri(R.$screenshot,"display",Ne?"flex":"none"),ri(R.$record,"display",Ne?"flex":"none"),ri(R.$qualityMenu,"display",Ne?"flex":"none"),ri(R.$volume,"display",Ne?"flex":"none"),ri(R.$ptz,"display",Ne?"flex":"none"),ri(R.$zoom,"display",Ne?"flex":"none"),ri(R.$scaleMenu,"display",Ne?"flex":"none"),ri(R.$faceDetect,"display",Ne?"flex":"none"),ri(R.$controlHtml,"display",Ne?"flex":"none"),Qe.isPlayback()&&ri(R.$speedMenu,"display",Ne?"flex":"none"),Se(),R.extendBtnList.forEach(ee=>{ee.$iconWrap&&ri(ee.$iconWrap,"display",Ne?"flex":"none"),ee.$activeIconWrap&&ri(ee.$activeIconWrap,"display","none")}),Qe._opt.showPerformance?ri(R.$performanceActive,"display",Ne?"flex":"none"):ri(R.$performance,"display",Ne?"flex":"none"),ri(R.$poster,"display","none"),ri(R.$ptzActive,"display","none"),ri(R.$recordStop,"display","none"),ri(R.$zoomStop,"display","none"),ri(R.$faceDetectActive,"display","none"),Ne||(R.$speed&&(R.$speed.innerHTML="0 KB/s"),ri(R.$zoomControls,"display","none"),ri(R.$recording,"display","none"),R.$ptzControl&&R.$ptzControl.classList.remove("jessibuca-ptz-controls-show")),Fe()},Fe=(Qe.on(d0.playbackPause,Ne=>{Oe(!Ne)}),Qe.on(d0.kBps,Ne=>{Ne=(function(he){if(he==null||he===""||parseFloat(he)===0||he==="NaN")return"0 KB/s";var se=["KB/s","MB/s","GB/s","TB/s","PB/s","EB/s","ZB/s","YB/s"],he=parseFloat(he),ce=Math.floor(Math.log(he)/Math.log(1024));let Ae=he/Math.pow(1024,ce);return(Ae=Ae.toFixed(2))+(se[ce]||se[0])})(Ne),R.kbpsShow=Ne,Qe._opt.showBandwidth&&(R.$speed&&(R.$speed.innerHTML=Ne),Fe())}),()=>{if(Pe()){let Ne=R.controlsInnerRect.width-R.controlsLeftRect.width-R.controlsRightRect.width-R.controlsPlaybackBtnsRect.width;es()&&Qe.webFullscreen&&(Ne=R.controlsInnerRect.height-R.controlsLeftRect.height-R.controlsRightRect.height-R.controlsPlaybackBtnsRect.height),R.$playbackTimeInner.style.width=Ne+"px"}});if(Pe()){const Ne=()=>{if(Pe()){let ke=0;var he,ce,Ae=Qe.playback&&Qe.playback.playingTimestamp;Ae&&(he=(Ae=new Date(Ae)).getHours(),ce=Ae.getMinutes(),Ae=Ae.getSeconds(),Qe.playback.is60Min?ke=60*he+ce:Qe.playback.is30Min?ke=2*(60*he+ce)+parseInt(Ae/30,10):Qe.playback.is10Min?ke=6*(60*he+ce)+parseInt(Ae/10,10):Qe.playback.is5Min?ke=12*(60*he+ce)+parseInt(Ae/5,10):Qe.playback.is1Min&&(ke=60*(60*he+ce)+parseInt(Ae,10)),R.$playbackCurrentTime.style.left=ke+"px")}},ee=he=>{R.$playbackNarrow.classList.remove("disabled"),R.$playbackExpand.classList.remove("disabled"),he===ws&&R.$playbackNarrow.classList.add("disabled"),he===b1&&R.$playbackExpand.classList.add("disabled")},se=()=>{var ce=R.$playbackCurrentTime.style.left,ce=parseInt(ce,10),he=R.controlsPlaybackTimeInner.width,ce=0<ce-he/2?parseInt(ce-he/2,10):0;R.$playbackTimeInner.scrollLeft=ce};Qe._opt.showBandwidth&&(R.$controlsLeft.style.width="90px"),Qe.on(d0.playbackTime,he=>{R.$playbackCurrentTimeText&&(R.$playbackCurrentTimeText.innerText=wo(he,"{h}:{i}:{s}")),Ne()}),Qe.on(d0.playbackPrecision,(he,ce)=>{R.$playbackTimeScroll.classList.remove(bn.oneHour,bn.halfHour,bn.fiveMin,bn.tenMin),R.$playbackTimeScroll.classList.add(bn[he]),R.rafId&&(window.cancelAnimationFrame(R.rafId),R.rafId=null),R.changePercisitionInterval&&(clearTimeout(R.changePercisitionInterval),R.changePercisitionInterval=null),R.$playbackTimeListOne.innerHTML="",R.$playbackTimeListSecond.innerHTML="",R.changePercisitionInterval=setTimeout(()=>{switch(R.$playbackTimeListOne.innerHTML="",R.$playbackTimeListSecond.innerHTML="",he){case ws:bu(ce,R);break;case Mr:ke=R,u1((function(Ee){var je=0<arguments.length&&Ee!==void 0?Ee:[],Le=[],$e=(je[0]||{}).startTimestamp;for(let De=0;De<1440;De++){let Ue=60*De,Ke=Ue%1800==0,t0=!1;$e&&(t0=l1(je,N1($e,Ue))),Le.push({title:O1(Ue),timestamp:Ue,dataType:"second",hasRecord:t0,isStart:Ke});var Ie=60*De+30;Ke=Ie%1800==0,$e&&(t0=l1(je,N1($e,Ie))),Le.push({title:O1(Ie),timestamp:Ie,dataType:"second",hasRecord:t0,isStart:Ke})}return Le})(ce),(function(){var Ee=[];for(let je=0;je<24;je++){let Le=je+":00",$e=je+":30";je<10&&(Le="0"+Le,$e="0"+$e),Ee.push({title:Le,hour:je,min:0,second:0}),Ee.push({title:$e,hour:je,min:30,second:0})}return Ee})(),ke);break;case sr:ke=R,u1((function(Ee){var je=0<arguments.length&&Ee!==void 0?Ee:[],Le=[],$e=(je[0]||{}).startTimestamp;for(let Ie=0;Ie<144;Ie++)for(let De=0;De<60;De++){let Ue=10*De+600*Ie,Ke=Ue%600==0,t0=!1;$e&&(t0=l1(je,N1($e,Ue))),Le.push({title:O1(Ue),timestamp:Ue,dataType:"second",isStart:Ke,hasRecord:t0})}return Le})(ce),(function(){var Ee=[];for(let Le=0;Le<24;Le++){let $e=Le+":00";Le<10&&($e="0"+$e),Ee.push({title:$e,hour:Le,min:0,second:0});for(let Ie=1;Ie<6;Ie++){var je=Ie+"0";Ee.push({title:$e.replace(":00",":"+je),hour:Le,min:10*Ie,second:0})}}return Ee})(),ke);break;case b1:Ae=R,u1((function(Ee){var je=0<arguments.length&&Ee!==void 0?Ee:[],Le=[],$e=(je[0]||{}).startTimestamp;for(let Ie=0;Ie<288;Ie++)for(let De=0;De<60;De++){let Ue=5*De+300*Ie,Ke=Ue%300==0,t0=!1;$e&&(t0=l1(je,N1($e,Ue))),Le.push({title:O1(Ue),timestamp:Ue,dataType:"second",isStart:Ke,hasRecord:t0})}return Le})(ce),(function(){var Ee=[];for(let $e=0;$e<24;$e++){let Ie=$e+":00";$e<10&&(Ie="0"+Ie),Ee.push({title:Ie,hour:$e,min:0,second:0}),Ee.push({title:Ie.replace(":00",":05"),hour:$e,min:5,second:0});for(let De=1;De<6;De++){var je=De+"0",Le=De+"5";Ee.push({title:Ie.replace(":00",":"+je),hour:$e,min:10*De,second:0}),Ee.push({title:Ie.replace(":00",":"+Le),hour:$e,min:10*De+5,second:0})}}return Ee})(),Ae)}var Ae,ke;Ne(),ee(he),se()},16)}),Qe.on(d0.resize,()=>{Fe()}),Fe()}if(Qe._opt.operateBtns.quality&&0<Qe._opt.qualityConfig.length){Qe.on(d0.streamQualityChange,ee=>{Ne(ee)});const Ne=ee=>{R.$qualityText.innerText=ee,R.$qualityMenuItems.forEach(se=>{var he=se.dataset.quality;se.classList.remove("jessibuca-quality-menu-item-active"),he===ee&&se.classList.add("jessibuca-quality-menu-item-active")})};{const ee=Qe._opt.qualityConfig||[];let se="";ee.forEach(he=>{se+=`
                    <div class="jessibuca-quality-menu-item" data-quality="${he}">${he}</div>
                `}),se&&(R.$qualityMenuList.insertAdjacentHTML("beforeend",se),Object.defineProperty(R,"$qualityMenuItems",{value:Qe.$container.querySelectorAll(".jessibuca-quality-menu-item")}),setTimeout(()=>{var he=ee[0];Qe.streamQuality=he},0))}Qe.streamQuality&&Ne(Qe.streamQuality)}if(Qe._opt.operateBtns.scale&&0<Qe._opt.scaleConfig.length){Qe.on(d0.viewResizeChange,ee=>{Ne(ee)});const Ne=ee=>{var se=Qe._opt.scaleConfig[ee];R.$scaleText.innerText=se,R.$scaleMenuItems.forEach(he=>{var ce=he.dataset.scale;he.classList.remove("jessibuca-scale-menu-item-active"),Ls(ce)===Ls(ee)&&he.classList.add("jessibuca-scale-menu-item-active")})};{var ye=Qe._opt.scaleConfig||[];let ee="";ye.forEach((se,he)=>{ee+=`
                    <div class="jessibuca-scale-menu-item" data-scale="${he}">${se}</div>
                `}),ee&&(R.$scaleMenuList.insertAdjacentHTML("beforeend",ee),Object.defineProperty(R,"$scaleMenuItems",{value:Qe.$container.querySelectorAll(".jessibuca-scale-menu-item")}))}Ne(Qe.scaleType)}if(Qe.isPlayback()&&Qe._opt.playbackConfig.showRateBtn&&0<Qe._opt.playbackConfig.rateConfig.length){Qe.on(d0.playbackRateChange,se=>{Ne(se)});const Ne=se=>{var he=Qe._opt.playbackConfig.rateConfig.find(ce=>Ls(ce.value)===Ls(se));he&&(R.$speedText.innerText=he.label,R.$speedMenuItems.forEach(ce=>{var Ae=ce.dataset.speed;ce.classList.remove("jessibuca-speed-menu-item-active"),Ls(Ae)===Ls(se)&&ce.classList.add("jessibuca-speed-menu-item-active")}))};{ye=Qe._opt.playbackConfig.rateConfig;let se="";ye.forEach((he,ce)=>{se+=`
                    <div class="jessibuca-speed-menu-item" data-speed="${he.value}">${he.label}</div>
                `}),se&&(R.$speedMenuList.insertAdjacentHTML("beforeend",se),Object.defineProperty(R,"$speedMenuItems",{value:Qe.$container.querySelectorAll(".jessibuca-speed-menu-item")}))}const ee=Qe.playback?Qe.playback.playbackRate:1;Ne(ee)}Qe.on(d0.stats,function(){var Ne,ee,se,he,ce,Ae,ke,Ee,je,Le,$e,Ie,De,Ue,Ke,t0,Re,Ze,i0,e0=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Qe._opt.showPerformance?(ri(R.$performancePanel,"display","block"),R.$performancePanel.innerHTML="",i0=Zl,Ne=window.performance&&window.performance.memory?window.performance.memory:null,ee=Qe.video&&Qe.video.videoInfo||{},se=Qe.audio&&Qe.audio.audioInfo||{},he=Qe._times||{},ce=Qe.getRenderType(),Ae=Qe.getCanvasRenderType(),ke=Qe.getDecodeType(),Ee=Qe.getDemuxType(),je=Qe.getStreamType(),Le=Qe.getAudioEngineType(),De=Qe.getRecordingDuration(),Ue=Qe.getRecordingByteLength(),$e=Qe.isAudioPlaybackRateSpeed(),Ie=Qe.videoIframeIntervalTs,De=_o(De),Ue=F1(Ue),Ke=Qe.isPlayback()?"录播":"直播",t0=e0.isDropping,Re=Qe.control?Qe.control.kbpsShow:"0 KB/s",Ze=Qe.getVideoPlaybackQuality(),i0=`
                <div class="jessibuca-performance-item">
                    <span>版本 ${i0}</span>
                </div>
                ${Ne?`
                    <div class="jessibuca-performance-item">
                        <span>内存大小限制 ${F1(Ne.jsHeapSizeLimit)}</span>
                    </div>
                    <div class="jessibuca-performance-item">
                        <span>可使用的内存 ${F1(Ne.totalJSHeapSize)}</span>
                    </div>
                    <div class="jessibuca-performance-item">
                        <span>已使用的内存 ${F1(Ne.usedJSHeapSize)}</span>
                    </div>
                    `:""}
                ${Ne&&Ne.usedJSHeapSize>Ne.totalJSHeapSize?`
                    <div class="jessibuca-performance-item">
                        <span>可能内存泄漏 是}</span>
                    </div>
                    `:""}
                <div class="jessibuca-performance-item">
                    <span>播放模式 ${Ke}</span>
                </div>
                ${Qe.isPlayback()?`
                        <div class="jessibuca-performance-item">
                            <span>播放倍率 ${Qe.playback.rate}倍</span>
                        </div>
                        <div class="jessibuca-performance-item">
                            <span>播放模式 ${Qe.playback.isUseFpsRender?"固定FPS":"动态FPS"}</span>
                        </div>
                        ${Qe.playback.isUseFpsRender?`
                             <div class="jessibuca-performance-item">
                                <span>固定FPS ${Qe.video.getStreamFps()}</span>
                            </div>
                            `:""}
                    `:""}
                <div class="jessibuca-performance-item">
                    <span>解封装模式 ${rt[Ee]}</span>
                </div>
                <div class="jessibuca-performance-item">
                    <span>解码模式 ${ke}</span>
                </div>
                <div class="jessibuca-performance-item">
                    <span>渲染组件 ${ce}</span>
                </div>
                ${ce===W0?`
                    <div class="jessibuca-performance-item">
                        <span>渲染引擎 ${Ae}</span>
                    </div>
                    `:""}
                 <div class="jessibuca-performance-item">
                    <span>网络请求组件 ${je}</span>
                </div>
                <div class="jessibuca-performance-item">
                    <span>视频格式 ${ee.encType||"-"}</span>
                </div>
                <div class="jessibuca-performance-item">
                    <span>视频(宽x高) ${ee.width||"-"}x${ee.height||"-"}</span>
                </div>
                ${Qe.isPlayer()?`
                    <div class="jessibuca-performance-item">
                        <span>视频GOP(ms) ${Ie||"-"}</span>
                    </div>
                 `:""}
                <div class="jessibuca-performance-item">
                    <span>音频格式 ${nn[se.encType]||"-"}</span>
                </div>
                <div class="jessibuca-performance-item">
                    <span>音频引擎 ${Le||"-"}</span>
                </div>
                <div class="jessibuca-performance-item">
                    <span>音频通道 ${se.channels||"-"}</span>
                </div>
                <div class="jessibuca-performance-item">
                    <span>音频采样率 ${se.sampleRate||"-"}</span>
                </div>
                ${Qe.isPlayer()?`
                    <div class="jessibuca-performance-item">
                        <span>播放器初始化(ms) ${he.playTimestamp}</span>
                    </div>
                    <div class="jessibuca-performance-item">
                        <span>开始请求地址(ms) ${he.streamTimestamp}</span>
                    </div>
                    <div class="jessibuca-performance-item">
                        <span>请求响应(ms) ${he.streamResponseTimestamp}</span>
                    </div>
                    <div class="jessibuca-performance-item">
                        <span>解封装(ms) ${he.demuxTimestamp}</span>
                    </div>
                    <div class="jessibuca-performance-item">
                        <span>解码(ms) ${he.decodeTimestamp}</span>
                    </div>
                    <div class="jessibuca-performance-item">
                        <span>页面开始渲染(ms) ${he.videoTimestamp}</span>
                    </div>
                    <div class="jessibuca-performance-item">
                        <span>初始化到页面渲染(ms) ${he.allTimestamp}</span>
                    </div>
                    ${Qe.recording?`
                        <div class="jessibuca-performance-item">
                            <span>视频录制时间 ${De}</span>
                        </div>
                        <div class="jessibuca-performance-item">
                            <span>视频录制大小 ${Ue}</span>
                        </div>
                    `:""}
                `:""}
                <div class="jessibuca-performance-item">
                    <span>音频码率(bit) ${e0.abps}</span>
                </div>
                <div class="jessibuca-performance-item">
                    <span>视频码率(bit) ${e0.vbps}</span>
                </div>
                <div class="jessibuca-performance-item">
                    <span>视频帧率(fps) ${e0.fps}</span>
                </div>
                <div class="jessibuca-performance-item">
                    <span>视频峰值帧率(fps) ${e0.maxFps}</span>
                </div>
                <div class="jessibuca-performance-item">
                    <span>解码帧率(fps) ${e0.dfps}</span>
                </div>
                <div class="jessibuca-performance-item">
                    <span>音频缓冲帧 ${e0.audioBuffer}</span>
                </div>
                <div class="jessibuca-performance-item">
                    <span>音频缓冲时长(ms) ${e0.audioBufferDelayTs}</span>
                </div>
                ${Qe.isPlayer()?`
                        <div class="jessibuca-performance-item">
                            <span>视频待解码帧 ${e0.demuxBuffer}</span>
                        </div>
                    `:`
                         <div class="jessibuca-performance-item">
                            <span>缓存时长(ms) ${e0.playbackCacheDataDuration}</span>
                         </div>
                         <div class="jessibuca-performance-item">
                            <span>视频待渲染帧 ${e0.playbackVideoBuffer}</span>
                        </div>
                        <div class="jessibuca-performance-item">
                            <span>视频待解码帧 ${e0.demuxBuffer}</span>
                        </div>
                        <div class="jessibuca-performance-item">
                            <span>音频待解码帧 ${e0.audioDemuxBuffer}</span>
                        </div>
                    `}
                <div class="jessibuca-performance-item">
                    <span>待解封装数据(byte) ${e0.flvBuffer}</span>
                </div>
                ${Qe._opt.useMSE?`
                    <div class="jessibuca-performance-item">
                        <span>MSE缓冲时长(ms) ${e0.mseDelay}</span>
                    </div>
                    <div class="jessibuca-performance-item">
                        <span>MSE解码间隔(ms) ${e0.mseDecodeDiffTimes}</span>
                    </div>
                    <div class="jessibuca-performance-item">
                        <span>MSE解码时间(ms) ${e0.mseTs}</span>
                    </div>
                    <div class="jessibuca-performance-item">
                        <span>MSE播放模式 ${1<e0.mseDecodePlaybackRate?"加速":"正常"}</span>
                    </div>
                    `:""}
                ${Qe._opt.useWCS?`
                    <div class="jessibuca-performance-item">
                        <span>WCS解码间隔(ms) ${e0.wcsDecodeDiffTimes}</span>
                    </div>
                    `:""}
                ${Qe.isOldHls()?`<div class="jessibuca-performance-item">
                        <span>HLS缓冲时长(ms) ${e0.hlsDelay}</span>
                     </div>
                     <div class="jessibuca-performance-item">
                        <span>HLS播放模式 ${1<e0.hlsDecodePlaybackRate?"加速":"正常"}</span>
                     </div>
                     `:""}
                ${Qe.isUseHls265()?`<div class="jessibuca-performance-item">
                        <span>HLS缓冲时长(ms) ${e0.hlsDelay}</span>
                     </div>
                     <div class="jessibuca-performance-item">
                        <span>HLS待解码帧 ${e0.hlsDemuxLength}</span>
                     </div>
                     <div class="jessibuca-performance-item">
                        <span>HLS待解码视频帧 ${e0.hlsDemuxVideoLength}</span>
                     </div>
                     <div class="jessibuca-performance-item">
                        <span>HLS待解码音频帧 ${e0.hlsDemuxAudioLength}</span>
                     </div>
                     `:""}
                ${Qe.isPlayer()&&Ze?`
                    <div class="jessibuca-performance-item">
                        <span>已渲染帧 ${Ze.renderedVideoFrames}</span>
                    </div>
                     <div class="jessibuca-performance-item">
                        <span>已丢弃帧 ${Ze.droppedVideoFrames}</span>
                     </div>
                `:""}
                ${Qe.isPlayer()?`
                    <div class="jessibuca-performance-item">
                        <span>网络延迟(ms) ${e0.netBuf}</span>
                    </div>
                    <div class="jessibuca-performance-item">
                        <span>缓冲时长(ms) ${e0.buf}</span>
                    </div>
                    <div class="jessibuca-performance-item">
                        <span>最新缓冲时长(ms) ${e0.pushLatestDelay}</span>
                    </div>
                `:""}
                <div class="jessibuca-performance-item">
                    <span>视频显示时间(ms) ${e0.ts}</span>
                </div>
                ${Qe._opt.hasAudio&&Qe.isAudioNotMute()?`
                        <div class="jessibuca-performance-item">
                            <span>音频显示时间(ms) ${e0.audioTs}</span>
                        </div>
                        ${Qe._opt.hasVideo?`
                            <div class="jessibuca-performance-item">
                                <span>音视频同步时间戳(ms) ${e0.ts-e0.audioTs}</span>
                            </div>
                            `:""}
                        <div class="jessibuca-performance-item">
                            <span>音频播放模式 ${$e?"加速":"正常"}</span>
                        </div>
                        `:""}
                <div class="jessibuca-performance-item">
                    <span>视频解码时间(ms) ${e0.dts}</span>
                </div>
                ${Qe.isPlayer()?`
                    <div class="jessibuca-performance-item">
                        <span>解码前-解码后延迟(ms) ${e0.delayTs}</span>
                    </div>
                    <div class="jessibuca-performance-item">
                        <span>总延迟(网络+解码)(ms) ${e0.totalDelayTs}</span>
                    </div>
                `:""}
                ${Qe.isPlayer()&&e0.isStreamTsMoreThanLocal?`<div class="jessibuca-performance-item">
                        <span>是否超过一倍率推流 是</span>
                    </div>
                   `:""}
                ${Qe.isPlayer()?`
                    <div class="jessibuca-performance-item">
                        <span>是否在丢帧 ${t0}</span>
                    </div>
                    `:""}
                <div class="jessibuca-performance-item">
                    <span>网速 ${Re}</span>
                </div>
                <div class="jessibuca-performance-item">
                    <span>播放时长(s) ${_o(e0.pTs)}</span>
                </div>
                <div class="jessibuca-performance-item-block"></div>
            `,R.$performancePanel.insertAdjacentHTML("beforeend",i0)):(R.$performancePanel.innerHTML="",ri(R.$performancePanel,"display","none"))}),Qe.on(d0.togglePerformancePanel,Ne=>{ri(R.$performance,"display",Ne?"none":"flex"),ri(R.$performanceActive,"display",Ne?"flex":"none")}),Qe.on(d0.faceDetectActive,Ne=>{ri(R.$faceDetect,"display",Ne?"none":"flex"),ri(R.$faceDetectActive,"display",Ne?"flex":"none")})};function yl(Qe,we){var ie,ae,we=(we=we===void 0?{}:we).insertAt;Qe&&typeof document<"u"&&(ie=document.head||document.getElementsByTagName("head")[0],(ae=document.createElement("style")).type="text/css",we==="top"&&ie.firstChild?ie.insertBefore(ae,ie.firstChild):ie.appendChild(ae),ae.styleSheet?ae.styleSheet.cssText=Qe:ae.appendChild(document.createTextNode(Qe)))}function Al(Qe,R){R instanceof Element?Qe.appendChild(R):Qe.insertAdjacentHTML("beforeend",String(R)),Qe.lastElementChild||Qe.lastChild}function vr(Qe,R,ie){Qe.style[R]=ie}function vl(Qe,R){return Qe.composedPath&&-1<Qe.composedPath().indexOf(R)}function bs(Qe){let R=!1;return Qe&&Qe.parentNode&&(Qe.parentNode.removeChild(Qe),R=!0),R}yl('@keyframes rotation{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes magentaPulse{0%{background-color:#630030;-webkit-box-shadow:0 0 9px #333}50%{background-color:#a9014b;-webkit-box-shadow:0 0 18px #a9014b}to{background-color:#630030;-webkit-box-shadow:0 0 9px #333}}.jessibuca-container .jessibuca-icon{cursor:pointer;width:16px;height:16px;display:inline-block}.jessibuca-container .jessibuca-ptz-controls{position:absolute;width:156px;height:156px;visibility:hidden;opacity:0;border-radius:78px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATgAAAE4BAMAAAA9UfJZAAAAMFBMVEUAAABHcEy0tLRZWVmysrKoqKi1tbWvr6+2traBgYG1tbWWlpa1tbW1tbVUVFS1tbVGCHqkAAAAD3RSTlMzAO9U3LSWySp3aZcVRDUDw823AAAJYUlEQVR42u3d32sbVxYH8EPHxgg/lBsa7SBkukmpSbwLI2KbEPpgZ5MQtwmM0wRMmgdhP6RgEuwlSVnYlmGMYaEvMU1KKX4QNq0pocVmm7CYfRBaQguFpbgPKRSC/4V2LGliO+bulWKrkvVrftyZ+WbxeTRG+nDnnnNmRjP3EpMR6tMH18du/0Xj1tGz5+9cf/DUlPKx5PsTkr8s3eZ1cX7ym1zkuI/f1wTFunNt9fP+FIno7/98/tFY+Y8ffBUlLrmkl2Cr96guTv27BMxP5iLCqUvi68+tpqhJKPNXBH3SjACnfimm/7Wmsl3fI/FP75lh457oPH+1Da3M+1T8481QcT0T7UetevR618LDPdH4hTlyHLGH3LoZEk6d4PlvyVW8pfNeMwzcDwa/kCKXoTzk9tfB455o1mXyEIOa+0PrFvcFt+fIU8QM/k6guOQifzNFHkN5l/flgsOJVHibfMR9l2nhBqem+VXyFZ/xghkMTp3il8lnDPKiGQROhs2lzjEuKcVW1uWk4ybk2Eq63pxk3CK/RZLiJO+Ti/vZXw3ZX1E+kon7jv+JJMY/+Q15uIRWIKmRthZk4VTDTsnFKYZtSsItWiskObq1Pjm4f8gqIrUF5W8ycAl+nAKIT/iCf1zSKFAgkW4/7drifrLmgsHF2k87alvhblFAcbJttWuDU/VtCiyyedMXbjGfCg6n6H1+cHE+TQFGFx/3jksa2xRoZO2cZ9xsUJn6e8aOeMX1aGco4Biw1jzilm0KPNJb3nBxvhI8rrtVTlCLK5ptCiEyBS+474POhr2c+NA9Lqm/QaHEiXzONW42yN5Q2ydG3OLU4MvI7+XEdImbCWvgSkN3zB1O1YYptOhoNnRNcDM2hRjGMTc4VZsOE9fVZOioyYyjUKPJrKPGNW44XFxX41rXEPc4vFTdS9iLTnFJ4wyFHAO2U1zcSoWNU7RLDnFTb1DocaLoDJfgc+HjYo3uTjTArW9TBJHdcYJTtdEocJ0NCnE97nGBIon0RQc4YzgaXIfdHhdBHdmrJuNtceubFFFkdtrhVG0lKlx3XUrsxz22KbIwLrbBTQ1Hhxsotsb18FR0OIWvtcT9Z5sijOyfW+KM6ShxXXYrXMJKRYlTtIUWuLubFGlknrXAGaPR4jrt5riERRFH7XGtwc1sRo3LHGuKi/qo7j+uhJOr9flKMBW4QR2uxk1NR4/rKjbGRdpXG/bXKtxrAEdVHNfTDXHLf0TAvbLVCJfU5hBwMSvXABfPE0To4w1wP25i4DLPG+CmRjFwncV6nIpQSF4UE7MOd7hAIJG+VIe7u4GCG3pWh0uPouA6C/txMFOuetIR3JSrmnQEN+WqJh2BVbmaSreLS+JMudKky9Xg4jYBRXq8BndoEwmXOVKDWx5GwnVs1eD0OSRcLF+N67EIKrS1Klx8GwuXHa/C/biBhRt6XoVbnsbCdW1V4bDyoZIRZZwKlg8iI8wKLl5Aw73oEWXcoQ003NCRCm59GA3XsVPBTa2g4bqLFZyWQsMp1h6uJ09woa/t4tCaV6WBEWSy7qYrQSbrbroS2MVNzUUOAXbWSnel0sU+AUbpsl/gEjYizlgo4w5vI+Kyl8o4xEryopYI3N1hRFzHszJueRQR17lVxqXnEHGxQhmHd06yd15CgBcQlcsIYokCJi69IHDxbUycOGki9toGJm7otMC9/ism7tXfBA6zBperMIHW4HIVJsDrwsrVIYE2CNEibIHDbBDlFkFJ0AYhWkSOemxUnLFGqN2r1L8ItXuV+hfFN1FxmXH6wwYqbuivdAgXd4RQ+36p8xNq3y91flqfRsV17dD6KCquc4eWcXFbtLyCiusu0hQ0bg4VFytSGhdXICOFilNs0nFx+QOcZ5xGsGEd4DzjOC6OH+A847QD3P9jtuJ2CGjcQeP3gYM+2YQ+TYe+wMG+NETGQd+OgL6RA30LDPrm4eu/ouJe/Q37hjX0rX7oH0mgf16C/mEO+idN6B+DoX9Gx34AAfrRDeiHXqAfF0Lt/OUHrVAfUcucRn+4D/qxSOgHSqEfxcV+iBn68W/EV3AqD85Dv3IA/bIG9GsumC8IaSb+q1XYL6VBv84H/SIk9Cuk0C/fQr+2jP3CN/Sr8tCLDEAvzwC9sAX0kiDYi6lAL0MDvYAP9NJH0ItGYS+3Bb1QGVaP2LfEG/TieNDLCmIvyAi9lCX0IqDQy6diLzwLvWQv9GLH0MtER76rRqWxPgdemtwYf9kWdYdeDh97IwHoLRigN6/A3vYDesMU6K1msDfpgd7eiOmjSEf1ZdpSC3ozMuht3LA3wIPeOjDSTRdfKb7M21VCb/QJvUUq9uay0NvyYm9oHFFKdDvaChp6E23s7cehN25nh5G3vE8aZ8LGDdjMIY49zoc9dPpFx7ikHnIh7sjnHOPYTMj36oxjzDlO1UI9Xe9oUICb49iMDTBwzXCqFuKsG2gycM1wYtaFlrCK3mTgmuJU7UzkA9cUx2bDGjpFH2FucUk9pA57onGNa4lj31uhnJzEtA+ZexxLh3KpkykwL7g4D+GUuJuPe8Kx5RCuJtJbzBuuJ/hyMmCtecSx2aBzIqaNMK+4pBHwtU7WznnGiZwI9Oykq1U2tMWxxSD7hKL3MT84VQ/wwGbzpi8c+47fCsp2kt9g/nDsp6AyNqb1Mb+4pBFQKU7bpm8cS/DjQdg+aXT/wTWOzfLL8m2DfITJwLFFS/oZQHf7CecQpxq25GqnGO0nnEMcS2iSq13WWmCycKLaHZebDDeYPBz7mb8tz3aff8Rk4tiivJQd5H1MLo5NyNIN8t6cbJw6ZV2WYys6tTnHCZ2MsRM2k8nHSdG5srnBMTXNr/qzfcYLLmyucEyd8FdR7vNeNzZ3OJZc5G967mTKu7wvx4LDMfYFtz2efMYM/o7LL3OLY080byVlULNusqBx7AeDX3B9aJWH3P6aBY8rpUX+W3e2t3SXqeAZVzq0/JyLmRe7wt0fUs849t8Jzv/u8Ngq/+K8d42FhxODp/P8VQc85VPxjzc9folXHFO/1Lh1rc3BjT0S//SeycLGCd6Sxvm51abDp8xf4dyaNL1/gw+caBhLuvj6O6v36mWn5scEPe+H5hMn4uP3hUEAr63e6y+PYX//qflHY+U/fvCVzw/3ixPD98vSbV4X5ye/yfn+aP+4MvDpg+tjZ4+K8bKOnr1z/cFTU8rH/g92biFxn2S73AAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%;transition:visibility .3s,opacity .3s;right:43px;bottom:135px}.jessibuca-container .jessibuca-ptz-controls.jessibuca-ptz-controls-show{visibility:visible;opacity:1}.jessibuca-container .jessibuca-ptz-bg-active{visibility:hidden;opacity:0;width:156px;height:156px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATgAAAE4CAMAAAD4oR9YAAAAM1BMVEX///////////////////////////9HcEz///////////////////////////////////85yRS0AAAAEXRSTlO5DCgVgZBxAK2fQDRkBR5XTPLKM/gAABnnSURBVHja7F0Jkqs6DGQPO9z/tD8Jq6WWbCCvIjKfzAGmulrW3ooedr6ui+M4TdP++SXPr1l/SdL3aRrHhv7ZyA5qb9xe0L3Am+DrkzeCL/BeX908MezTuPsfOArdgl3KsZuhq99fk/Tx3waum+ByAHua5QbYilkzY1aP728YhrH5InrfBa57OLAtVjpRbYaumex04dq4APeC7vnVSfo/45bXLe33jGscMx3f0A1vyg3t69e2dRL/NeA6wrgdcCvjyPM2U25mXDt9xVD3f/qN0yi3Mm6P20S54vlXtGPS/R3GPSbYOsC4ZAvmJtiaGiL3Zlzx/Ht+Y/KXTJXbqmaqe9za1VYn3N7YpX/OVGev2qduOLIiB7xqOzGuWCiXFVmWtU3368A5lkqeOJI21I5XXaORxVRnxmUTdNnY/4U3riNvHMJts9XRtdXVUttipdzrK/4x7UyY6sK4Gbo+nU21T1zKcd9AGJetlMvyLKvj3zXVfeqQElMljINx3MK4xVQ3xj2Ry7N/6CiMOIfYyVUXWxUyBx7HuZRbcHt9bf/Lb9zsHlzKzabauJaK47iVcC7jJujS33/joKkmxDnM4QiJ4xDjZuT+DXQW3jgxV012qcPuiePhCGfchlv1/P0D6Czmqmuq2gPGkbIS8Q4ZsNU3dGP3Y2+cW1RyKpkrbAnwqhi3iXHFHrU3bFVV5c3vBsCsOALjkXErAW85F3rjFvBm5Kos+TngCOXYG7fA1ojFER7GPUHbmer0tfGPANeROM6pjvDMQSkrsWQ1d564Fbr61964TvSqDa6O0ELmAtvGuc2rrpQrn/aa/qCpYq+6mSpOVhnjWBy38u2JXFl9yL8acg6CV3Ur5yxVZfW4AsRxG+XKssz6n3njVMYR4Eg8sj1yi3tgtroxrpyhG38gc+h8PYddPQ551dVQW5jju2/cG7kXdB946Uy9cbDnQOpxuCCHcq5dHDcht8D2/K67VxPNGtLJd7qDTcgb1zLGbXEcY9z0Fd39GReTzIH1B/2lcxrGTYxjXnXyqxNyef8zpipVlfDsyCCmDkuumhGvWq6W+vyisqxvDJwwOxJQO6fNmjaQcRt0ZdR2dwWOFZViuculNWtgBZjk+DNq1cq45y+Lf5NxE25B3oEyLueFJWqtT+Ciqr8r48jsCAyAG+2Na53MAdQxX16VhHEL4Z7Ilc2dGad28pskaULiEdDlyijjdqa6gBeNtwSu63AnP3V6NUnAG9cu1RHOuL2hVi5qr6+9Za4qV0dCGcfCEfDIufWRFbsZvKy7KeNgW7XHvRqxWfOGLhO6XCrjoiiPb/rGdZ75uGRfj9u3B1sWAEtdLuxVF/Cq9HaMe4A4TptkZYwLqI44rmGDbUe5E8hZcg54zquRbHXu5NN6HKuO7N84YqwbdGV/Q8YF5arUN7CJTNLkgplD5T5xG+OOI2ehAhxv00ocOlpWwhHwljns5uNg6bxCb9wbueSupip6VTnj2jGudSvnOeqrVo6h7vl2nHM2K8AkV1WyfDYDvHUcWF+1VBl3EDlLKdc2dQ6aNbhXw2eAt14Nf+MqFse5rDuS8tucHUmhqaJppYF6B8440h7E8cjhqMTiLtcaAL+ga9jWZb35hpbHceyNI9WRSmHcE7n4jqbqTp2D2nnzgm154mB1hJQy1cwBIpd3twCOrjnEoDsoTZ2jepybb2VKrhpx3zB92Z29Khpl1ZN8MHWzJV1CdYQHJEeqTMbqcfEMW+obLBwES83w7AgvY0YlMNT3N96GcXEHGQdxG2t3CQ5kDkoFeO8esHd4fc193jinAtxvXhUN3Ywz5VAFGM3cENfgVM4x5YICYRumqu5yIVMdJuhaLXMAFWBKOIhbWFBiO44Dg4Usxx/cCrDyxqESMIYuu4lX1fYcGnVaaVmtKXZxHOzW5Bvfqtk3iLAFuVaLew4HluDUzIH1VYMZF+AgLMZxcAYY1uNYBTgrwPDIaqxOQ1p540IchBFTJW9c2ofNAO99Q+sYaugbJ35Vd4sKsPbGqVM33KsWmdpXLeXqufsVNwhH8FyhOh8n74foKb5WVDr0zFky1Rgt+iaJZyJTWErKMynpqsqgVy4q0xv0VTvZq0pJPq5jzn41zzzVET0aCYjmTO05OLaaBEwWqhvSenUkKtVw5P0N96mOpNr2YCPuh4AJCGEAoioDver7628Sx8WAcU2i1eM259AWhZBzuQEJieN07JR6sCHgXoSLnepI7yo9NqgCLE5A6K4hjHGKsVqK49JYEGyBg4XIq2b7FREUx5Xu2LkXOtmz2pJBW5sOqdjJF3sOjHG5fz7OT7n8DtURwjjPtBKtx7VLOa6Q4zh5Wkn8xhvU4xbG9al/s2bAbxwYkJO7XCGME43VIuMc56Dnqi7hpPE4cVopBLnibozTp5X4DHAQ49iwfsCX3IhxYFoJB8C0y7Xr1iwBSZXDulIUjF11G6+qr5aPALlCmTrfyWfQzCEK49xoPMnnjFMaq3QlX9tzQPuq0QFbLeNbMU6cHRn3Sb60HwJ6NXAhKQi61nzpPAbtQaY8jUUgQnRHSodxZSjjoig161W7HePIRGZDJzJHQXiEzE4DpRtSjotCHzkUkhj2qqJi4V54T1S6cWwVp/nhjAP1JQuDhbs4TtFW0spKTgW4UHJVFv4GQpcZA64jkt1xDNS8lDEv9Y3z5KpRGY4biIINMC7e2lxKNFJDqUfQquGZA2yrHoINUM7G6ZX1iVM2RKDUI08dssVUfduDRyI5QDkbFWCnscrWVWV1/RZ2uaRc9UyKL1LO0r7q1qwBm761WsmEUjdge9ApAB9iHHWslq4kMalHTbHQieO0zXKljHmIc4XdOE695yCpsg7eOE7t5B/4Uqv1uDSGKhDYq0r6yQWYj5NnRw5BNxjOHJAKRJB+nJqr4jcuOki4qOzs5qrgulSDJzJHUcyrCNMdOc44ty5nel815KDZ4HTypeoILAEfZJxbCjYkSpVKgZx/IpOfXgnarDkKXWIrHAm7kiTqxw1er+oQzg2Bj32FTcYJ2kpCIx9PK2XMq1ZCz+EM46LYZK4qaCsdmo+TqiOV5FWPITdYLZ2jOqYa/6LN8kJSZT1dxkSTJEYKmZ2/OuI5aIYYh+UzKn3TN9A9mLjL1cl6LexKkqof575xVJWVx3HRefdgUbGQNGs2U2Ul4HYQ60o+HeBzjCtt9VXVqXMpc3DEzh2NzEJSnr7OuG35wUTpPGjqXN3lQgdE0AWRA2sOHls1eO2yh/uqWM1LbUgvQzeatOhR5NZM39QIBNyQbviBVajYItbOYa56knCbrRrUj0vxTn5QVQlOnUtdrjKKztuqpbMEJ27WtCG3BzX9uMPfYqsmlW7SPnRfFeSqwTrAp9641VZtXi1PlX1VN44THzlvPe4k45aZLys9h+7cvuqsAqEpBAm6I9HJN24pZ9oIRzp5XzVUsVCZOnd0Ry4zbu52GdMBDn7j+NVyYXaEneW6+sbNrQcjtwdJCTh4WmlrSLcF3axRZ4AvMC6zxjj9annty1X9M8BoefBMQGKudB5UjnMnMltQV1JuD5JK5jnGTUU52zeke+4cfMJ7ygxwSZuDJ6EbzDEuZF+VNLnczCETlPdkdf3Tj5yhAHhNVdV9VXgJGV9JyqWjjRdS1fWRs6vmRctK1KuiLD/b22q2KyvlWJT1HOPeo3IWqyNwlwtrxJNrlwW69ZNr0qKnoBsfNrWVcH+w9gzIFXxDeisr5cxSrzCusFVWkpVukH7coF/0zQRt0a2QGZ1HLrfAuIfDOL/uiLOTz9UMMiTmtXMOVXmxW/P+OqM6wPBKEmLcbuiGMw4lq9cmIPbewa5iIb3LdYxxKHMouYDcSeRqcxd9+dS5VFWCGZd3e9DtR5+21dbYRd/1EAaagUC6IzDLV7YHj4pSKbmDkZRLnmRNcHeQ3azZdvLJ9qCUOVyhXGVmQUSpx9GWAzNW6Y0DmYMzrbTeHjzxxTeI41zktugXtQezAsRxon7caUt9VZZMMQ7pAPMnjnTyB5lxJHPgU+enGTeajONUHWB46wfW41jmAE79nHerNiYyFeXpBu/keycyM8983CWv+sxWLe2rsgpwH7qRxPuqb7pl6IKe61RPYpcbvefQy3e58LSSbwY4B071CuNKk31VtswlTyuJ+6oZuss1h3HVCTEDluZb7Ks6prqrjijlOLTLxRlXUhng85RLo+77por7qp5c1fUN8I1Tbw9eqce9ArkvA6eqxOOr5UQGgrdVC1l5GszHnYSuNsC4OKgeF6au73S5Mt983IU3bvwqcN3jAe9y9VgkvvHPskp7DuI9h7PfYOGNw3EcH7rx91XRPbNPT2TOEbCNNw7uJOGhG+naD8+5PG/cJcI9gYu/CxuYVuqd+6reHbgBWqrvavlV5LLvAqfdc6AFYElcyW1IS0eScqg7ch65/MvABXW5ElWvZXDiOL2Tz3VHzn7Vt4F7iNuDobMjwp7DUh3hfKs+EQCbAs43O9KgG9KDrK6vMe5qIPdd4NS7XFLi4NxzADf0eEPa8aqX1lV35REjb5zac1geuYVwtfjGbTmXsJH0qf7g14Hz9xzE9iD0qigewTv5F71qaeKNwz0HXI+jb5zLODABQWaAP+MbXA2SbxdH9KlzMjw9jvAUMr72o6363hQ4VyQ+lU+vkH70ALVFM2cnP8f1uOojhLPgVZnWI7y9Enjtcr+TT/qDJdj0LW9tqlgFQtUdYQfNQupxnHE3dw5aripmDgOcOt90gHOpOvKRF85EOCJKPSrVEa/y9D9QLDQEXKco3UiqVPtdrjZIIxNuSEeX+qomc9U+3S/WUIUgvD2o7nJ9UnfECnAPWQUiSOu8HYKERz6oO2IDuE7THcHOATIO9xzQhnT1IcblVhjnagRp8QjZVw1gHOFb9ZnSuY1OvutVe3/86w4Be7XOc6GvetsuF47jAq5dElFWn9a5oJF5YUDOBHCdds9BzRw2xrWy1jl946qrC6tfb0i7uWoKZ0eaoJs1e8LR+6pQPy66GMiNhqaV4ljbc/DqjrTC1fL8n/RVa0ummiI1r0a/yyUPT2dcXBR08s9Cl9gVpdKvEvgO00LB7qta585g4eP7jIuDxEXdaSV87TID91WdiUx67uf011lkHBTea/R6HN1XhTdr0AmROw9Pd1h5euurJvxKEh2e9uyrfnYn38q4vnp7cLchXXuVbtxdLoFx1UVtpWnv0uLNGudquTCROXj2HHI6riRK791zJakjIxDKRGatMI5fu8z81y4vzU5bE2yJmYLyFsc1jaythPcc+CW4j2grGVi71GTQgnLV1tFrQduDUj3uWvwb27p2Sefjel/PAXXy+QywoFh4IZKrTF67lC6I1H6NTHEGOBeWB88LoVm6dimoGaxO1a+RiafOpX3V8r7yGayOuZfPgGsOQhy3V4Fgew7wSlJ5hXG1aY1Msj2IK8B0BAK8cYIIxBXG9bZuD6ZUlCqk5zC0x/Yczh9YtSVK9ZA3pAN6Dqq6vnAo9ANx3Ndl0LazXPK0kq/n4J06F+45XMkc7Ajv0Sy/VzZrpAsiLUnyhZ38fQX4vOqIOXX9o9cutRlgfZfrSuZgTVxU9KrKPQdQOgd3CZB7OO9VzcnZ4pYDHddnkoVSrprlAXe5ynN5gxF1/Vi7ocenp7XdcueJyxSt8wtjhRYku2EcB3Hb1LxqHMb9192VJTmuw7DxSsfxdv/Tvn7TSceiAEpylqYnH/lWsWBRXABMVLHQ8B4cjvWUfN1xTYU6wJEqqy7y1ynBEIGt8ycqBxe2BGh3JEt3hO3HtXjm0KFJ/kHIOTDCmEUM2RFMH9ygn8N+WoNmDpcLZEgfFuz2pQPMKof7eHBME0RsxAVX3OFS1Y/Zj77jtGQ34nLRWjVeHtFF/pOIc2EvRdf1m/2UKy11s+8qtXzmAKQMhiNNTDefqiWtFIlkQqEbNJFuO7g6oqr84p8PC710IxN0R0bK5VIFV2svTx9CnCPTxspm1iiGiBKeptmh26tAYOXpp+y3HSGuqUwnONzIZN7bRAdYp4bDZpee5qq5OsAKcdTQISjykUjmM/aq3lRZK3rH6a5SOMmPZw5BQ47yQ05rvm3NVVXhkLCs0YqF2EN60A4iw8Ev1dtcNXvmsGK+qukh/QIRtEHE06cK1fXtKRfLqoTLRadcw8Ev1ZkTXBXzVdkdt5k1PvtQo/24I604520lvq0EFAvxXLXlytPHpjUXcRU4tTuiJvkx4EbugxHojrRJTn4p5jY3gcspucLQKW0lVnNhFQhF5ir+VhsvgZsN/Tji9cOcVybD6wcOuQ5MuXpxirhyt0tTea9NTPKLEVf7CdzMaZdZbpd0Pw6LZ1wiN7PhWGpwk1Uz/BzQDsSEnOB6vXT+cLscntoB3sQZ4qiaV/qOixjSJYgrBNwwu0OcSYKzzbe1ExwYrF6InFdpVp3EG+IIJSlsnWv9uEQ/DrMH497IcOgt4hNxC9vXv2b5ElhU32fuuF78IQ4r3XyreV3NST5V86K16uG6YRF3iIt1gJscxRbgE9oG88E2oa5fdMu14h9x5pZX2I9DuaGn+nGXmOdw6PHrvh+X9OWagGdNbzCkI5uk7NhpwHliSDf2sIY4wQHl6ZysWvoaqcUz4hLyGUrsfF85QIZIvASsh1zZsYsA54qTDyuHSAViM7wH+x6NarDWeRHiFpHT3HE1g5zldsk6wEDOdiiwJejFJeKYvaqtWEhFqShfFSkWHikaPHZH0qJUxEOvnK9a4CE9ibvACVQsbMLKwWTWGP6qMeKOAW6o3AWOXHHZ/TiD55BGXHZW3UScfqqPVdbGMjSLa1VVcRG+KmRI53fOOxGnn2piedpgSK9GB5h0MssBVzsM3AwdfXPuuFh3ZGLaonBUk3/J9eIfcXDmcC1RLEwotgTvuDzIDY3LwM1z0kMam/1gjcyWjQePq7VscjrE2YuFxNHMLFWB1vlwKDO4rlX1tj7ROidZNc1XzZJPZh/q73O5BPBVo90R5PaTyKqYPVhcdK3iGXHxJB8RRLT14KZYl1FW7RJa5zkf6uw2cJJ8x5kbmcDsx+yO6NglQreInO+Oy9oBNry348qh2M5hFTkH4sysihA3WXNVvAIciQSVtH2d745kdZUYQ9pa1o8QNxzLqO4m+eFcNRk6BLmWiHZ3gK+a+FZH8Y444q9qbuuTmcMLlad7Ee+Iq9gOcNJ7cFqZDjCXOs98AV9m8Y84OFitI7fLK0VcwHPoqZ+Dks+wPtRhEf+IS4kZ1ElqOZrW3CBH+ar2O24U34GT8rmqntWsif24jjFrrCtuEjkD4qC2kpqrjrQ9cpDLZXlIt+I+cEl/VernsB7Zj9PTQZIYKjkX4iCz5go7mYpZY2qdI77qH+M9MtRyGsQZXC5rrzBWnt77OQCNzKB2YIi7ipwDcZXJ5YJS54p32UM/h84WAmZZdZMTBE435LLt3sm2foajbyqtTnKCwCkVCFMlHnKSpkhev4UdYHDHke5IK2cIXKACYbuWm7UqVp7uzDsOI66bzxE4ogKBZg5ZtWqCIR2+4wDiLtl2s84m+VW8ra+YNXZ3BHaA4VwVvn8vjcipEJezr8/UDOgOMDeYYv24ZGXvtzuS0Y9jO8AT3QHmnPzhz9G4OZs5QKIvFgJW40FYqraAWRP4OQSRK4qbM55Dxpeqd4B/uiNTmj1oVg5ZhZbvKZdi1mBHMyIuanPydXdk97GW4U28GZqFSjdL8h2nkgN+x7E7bo+40rj50AHOkTq3NYIQ4tpolRXKi36/Q0rj5m2uWkV81ZS6/hRvK/XRyIHRHIby95v/d1y9WEk1lmW1uVx4XekWua4SOSHiKuZnZu3HYXV9yh6EPIc74NojBuQe9uMqUz+ujp4jI+2dt6w7Qp3ghuw+krNaNctBrwYqaNB7MHgAdyk/h5K+pdfx4GzusoafKujHRR3gDu/HhfpxfxF3lTMGbrZtCdB+XIi4KDegmQPagbh1zsufIY4QV2ltJcVXDTn5EeKKuFyqcmgrOWng9g05pZG5RFvnd8SNtDuiPKRbw9H3/ztumkVOjrg5ra2kEIe7IxBx4e7IA3DjMwf3eMfhh9xovH/73dZ5n9cBHrpFzhs4hbhgB5iqeaH5IGDWtCazZuhnOXHg5jmdVX9mDte0u9TjAQz9HB6Iu4zPHt2v7kgNe+cb3FbqeVa9qBfw39C1jZw9cMBDmr7jwqHDylzL+5Sfw2V9wcn9Iy5qZFoTaZRV9b7+k1nB55Sr2gEOaysFiFO+tCSrhqsj2yzyjyAu3lYCHnojyap85gAdfV9wu3l+x2V0R36INSvWAUbvuMvzydRprWogTmfVO+AI4uB+XF/JvxK4UHekMZRucHdkQhsQvdqPuwGurV95cl+LhUR3hPfjTN5lkFa78bUH97StdEdcOJC277h0bvgO24ty6RkQV5OtG5Pn0GIy19S8/OCeKofojlu47gjVT+4/EjZvdu9grnq1uVxAB1il1beEzRtBJJQICv1VMeKU93a0OzItbzq5k90RgLhl+XGCqy3ERdYrO0fftXnb2T3VqjfE5aigMbf3YANirN54co93XMjJT20rhWteP5Hrr/NbT+7xjoPMctOzJkqq6/Luk3u84+7vuGUBSzeBweoE3yPTm8Hm444LiA5gyMXuuJU56G3NR07uAXHVwwo5fgBTf1Xo2rjVnzq7r6yK1LwSr5HHHTdt9fy5k5/R7XLcJdX7FbeOy2dP7trPweQ57FRZx7r6+Mndq3ldEzrAY938ysl9uiQ1cJNVa2SO16X6tZP/dj8uDqJW2VfM/O/ftf7FmPkK3OMZ3MAu8G3T6ytiTTU7OK8jxMlfuN1idg/X91/9VUZ81WOVo8P+Bw+0DogP6NDPAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-ptz-bg-active.jessibuca-ptz-bg-active-up{transform:rotate(-90deg)}.jessibuca-container .jessibuca-ptz-bg-active.jessibuca-ptz-bg-active-left{transform:rotate(180deg)}.jessibuca-container .jessibuca-ptz-bg-active.jessibuca-ptz-bg-active-down{transform:rotate(90deg)}.jessibuca-container .jessibuca-ptz-bg-active.jessibuca-ptz-bg-active-left-up{transform:rotate(-135deg)}.jessibuca-container .jessibuca-ptz-bg-active.jessibuca-ptz-bg-active-right-up{transform:rotate(-45deg)}.jessibuca-container .jessibuca-ptz-bg-active.jessibuca-ptz-bg-active-left-down{transform:rotate(135deg)}.jessibuca-container .jessibuca-ptz-bg-active.jessibuca-ptz-bg-active-right-down{transform:rotate(45deg)}.jessibuca-container .jessibuca-ptz-bg-active.jessibuca-ptz-bg-active-show{visibility:visible;opacity:1}.jessibuca-container .jessibuca-ptz-control{position:absolute;left:53px;top:53px;width:50px;height:50px;background:#fff;border-radius:50%;transition:left .3s,top .3s}.jessibuca-container .jessibuca-ptz-control.jessibuca-ptz-control-left{left:33px}.jessibuca-container .jessibuca-ptz-control.jessibuca-ptz-control-up{top:33px}.jessibuca-container .jessibuca-ptz-control.jessibuca-ptz-control-right{left:73px}.jessibuca-container .jessibuca-ptz-control.jessibuca-ptz-control-down{top:73px}.jessibuca-container .jessibuca-ptz-control.jessibuca-ptz-control-left-up{top:39px;left:39px}.jessibuca-container .jessibuca-ptz-control.jessibuca-ptz-control-left-down{left:39px;top:67px}.jessibuca-container .jessibuca-ptz-control.jessibuca-ptz-control-right-up{top:39px;left:67px}.jessibuca-container .jessibuca-ptz-control.jessibuca-ptz-control-right-down{top:67px;left:67px}.jessibuca-container .jessibuca-ptz-icon{position:relative}.jessibuca-container .jessibuca-ptz-icon:hover .icon-title-tips{visibility:visible;opacity:1}.jessibuca-container .jessibuca-ptz-btns{display:block;position:absolute;left:0;top:156px;width:156px;box-sizing:border-box;padding:0 30px}.jessibuca-container .jessibuca-ptz-btns .jessibuca-ptz-btn{display:flex;justify-content:space-between}.jessibuca-container .jessibuca-ptz-expand .jessibuca-ptz-expand-icon{display:inline-block;width:28px;height:28px;cursor:pointer;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAANlBMVEVfX19fX19fX19fX19fX19fX19fX19HcExfX19fX19fX1/////Pz8+oqKjCwsKhoaHn5+eWlpaOqTaDAAAAC3RSTlP/3CaKxwJiAELtp4ri/s4AAACuSURBVCjPfZPREoUgCERXBdPRyv7/Z6/Z1aQp9oWJMyYLiKUrOIpAJBdGCldgbzBkPM/QEoTI3jBEPBRDhwEvChe08Q1Ge0ImvIq4Qj8ljrLdH77CyQPWlCdHC0Q1e9rmmuC+oQN9Q4LwcQg40L6eyqm0uEpXSUqe3fKpkkqL+Y/o+07SrahNEO0T0LBsvOitf4xsLqiNTB32wtqaVKosGLO2mhUrS93+PZ4D99wPqzMJVcbEyA8AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-ptz-expand:hover .jessibuca-ptz-expand-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAM1BMVEVHcEyZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZn////i4uLZ2dnIyMjExMS8vLy+iXNeAAAACnRSTlMAYomLxwEm9+NCLo6DKwAAALNJREFUKM99k9kWgyAMRIMmEMLm/39tKaVKFJkXl3sYJ4sAXeQ3ZOcYd0+gRYblFBuFLYoS2ot5lpvYn8zJQ65TO2GVNmdCmQq/qczw4gjpejD14BgmhziEIvCjVRlPioftHW6A7xBB1a8CCUMvsuSqEkPM7eZX6h8GrQ67bYpNIbRL6rb4/k2EfVXKsgmqfQrW9qnGq96a28jGQG1ky2HXpVysyYyeDIhWq7le6ua9P36HD6+2GRi8iBZBAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-ptz-narrow .jessibuca-ptz-narrow-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAM1BMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1/9/f2/v7/y8vLUObqxAAAADXRSTlMA3IrE6SZi9wI+y0gNXAn3CgAAAI5JREFUKM+Fk1kOwyAMBQ04bJHT3P+0JVUMNMWv8zvSk1cipfjAKXHwhR7k6KTjYp7dVuWLug1XWB5wz96T/JD2O3Phmv0k5ypL6lVVFIPYpLOka5WKSSFvS0/BloHYlkza5HkMzrvVLo8ZlRr7mtFYWBBsBQ4BjC//GTxcGVw2PpOVHQ6fJj7qS4936OoN2K4e5yE6N1UAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jessibuca-container .jessibuca-ptz-narrow:hover .jessibuca-ptz-narrow-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcBAMAAACAI8KnAAAAJ1BMVEVHcEyZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZn+/v7X19ckk9ihAAAACnRSTlMA9+NCAsuKJsRiPv/2GwAAAJlJREFUGNNjYAAC5gxFoTYDBijw1FoFBIumQHjsUavAYGkBmGu0CgqUwRqlYNyFIO2Fq+BAnIGBJQrBXerAwLkKCUxgYELmKjBYIXMXM2Qhc5cxdCFzVzBoIXMXMYAcsRsMdgEdgs4FKT4DBqdAitGMQrMIzRkojlRB9wKaB9G8z+CMGjgshjCuMCjoWNxRAxYt2KGRYgJiAQAnZcjElaB/xwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-ptz-aperture-far .jessibuca-ptz-aperture-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAASFBMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1////9fX1+kpKRzc3ODg4PFxcW1tbXW1tbk5OT29vaVlZVmZmZ8vCMFAAAADHRSTlMAxGJ5Mssm9+NCiYtiH91SAAABAklEQVQoz41T7Q6DIAyEJQooUL55/zddhVazzZjdHyqXXo8DhWCYTWqltNyN+MZLuxP69UGti/vAsl6c0e4L+tQ2yv1AEbvecMhO5cXdYhk+6aO3WGrNAMwentlMz/ZAKIlNoRsqY2wtFWu9t8wasc0iYVN0LkQfrG1zbxNyrIBcntOQrH1Ukkb60QcxYF1xMA2dh8zWj6ZDsLCsIrL4Ds5Hm9FMbCEROWUB0COaLXEIZJKV7CKybGO7UuxjxY2C/TkMbxboKBQCxgMN6MCJQ6Ch/QjOZg/B13LGx8FDTe3IFvl+Bc9XBi3UWoex68qeL/vxmdyxyvz3NJ8f9dDef36HN7koIK2LjxB0AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jessibuca-container .jessibuca-ptz-aperture-far:hover .jessibuca-ptz-aperture-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAOVBMVEVHcEyZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZn+/v6cnJzr6+u/v7+xsbGlpaXNzc3b29vqh7uRAAAAC3RSTlMAyRjKA59J/3PzPhe1wxwAAAD2SURBVCjPjZPrssMgCIR1mkYtisD7P+zBCyZpM5mzv5hs0M8VnZvaok9BlXzc3FXbO5z0vtifFC5Kn8OL4UfxwVvuHm61d5Z0b6ZGZZwZpQAUosWsjVZntVS1sH3ZFo1IRVYfGXgx+VGwNkkIVbhq9/jm3cAhaNv1Uk3IA8mNn7D3kbQeWK3TLH2jCthrDFcTMwUWaKiClc9mJtJWhS3SF5BpJqMQW1b3xwnkDahMoHYomkeJRgSENA/MFsKML7fgoCBVbGvM+Cx4JcKWbWHKK/h1ZYS1Jy/nK3u8bB3KhzG5deMxtfv3aO7/Heq+9ms8h9fxHP4AHzAWU9zlWNgAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-ptz-aperture-near .jessibuca-ptz-aperture-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAQlBMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX1////9fX1+FhYWbm5vz8/Nzc3OwsLDi4uLDw8PW1tZmZmYgm6a+AAAAC3RSTlMAYmOLx4kn9+NCIVJiPGAAAAD+SURBVCjPjVPttoMgDMOJAqOU8uH7v+qKFN2c597lF5LTJg1VqQG3aGuM1bNTV0wWDtjpg3pq+IB+npyzcIE9ejsDXzDCrjccs+tOariF3n2OLyw5xko0vh9MDjNb9Q0hp2GK3cixlIApe4/JD9appR8SFxWAUFLg6n63iB1irnY1Jv0mlrok7nUdcZRa1YeshxBA9iijChlxI6iZEaBgSEL2tkRcymPGGJpqlbZ6uDg0WR/F0DwuMpxDkYwiIXA8hO2uMJdGCCK6teB8RQoY8xGfevQjxYQt25qoRwDT25MRBjZ7GtP/P/afa3LHmrflXa+ruf661Hvv+et3eAF6Fh3v+sSUGgAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jessibuca-container .jessibuca-ptz-aperture-near:hover .jessibuca-ptz-aperture-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAM1BMVEWZmZmZmZmZmZmZmZmZmZmZmZmZmZlHcEyZmZmZmZn///+qqqq9vb3z8/PMzMzo6Oja2tpXGg+mAAAACnRSTlP/JomLxwJiAONCr+rW2wAAAOtJREFUKM99U9sWhCAInEpLBS///7WLEWy7p9O8qEzCMBIOQ15DAlLYsoegS9yFMKQ93skl4Adh+ZI54Q8pG5nxgKzkgkcsk4zhmQxRyN1OPHqtncjOu5AuppcJ6s1EHTA1YzC3Wgq3YmzGqpsmlwZAo7F8oLEVKoeE6+TbSxK0JJ/3FLOwFnUxzXuoltYDDMLoAlmYXLAWIrkqbdZKs+q4KBfkNV1uwGaBim9TdLWS3R7iGRvCNTPB7JvGlc5EXK8cKbrxooint73RzXh7Msl6Oj/uT/b62O9j8sj6gMXX0Xwf6jP3Zr9DtNAHTYMMXrXSK0YAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-ptz-focus-far .jessibuca-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAPFBMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX1////92dnbs7OyFhYWjo6Pe3t7Ly8uxsbG8vLyG+Q0EAAAAC3RSTlMAiWJjx9wm/0Lti7mfpe0AAADaSURBVCjPfVMJDoQgDERFC/bg8P9/XUSO6CqTqA0TptNDpSrMpC2A1btRT8wrNKzzjdo03KC3zhkLD9imbeAFhd3sG2kvZQ2v0NknfGBJZKkhBM9MxOxDKBV1N4iHi0TRHYjN01Qi7/kK2PtyNDU7DAEJgDAAN0u1jsQEFEkcVVmrqjeXrkWRmC67eqbgG7bJyvkQSQkvUvec7szpek6t9ubWJSK/uJVSm+APzHKCh++DWWuH4plQKNYOpfappcjy2VvJn9744cjGwx6uyXjBxqs5Xuqsvf/9Dj8rLhRg+bQ5VAAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jessibuca-container .jessibuca-ptz-focus-far:hover .jessibuca-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAOVBMVEWZmZmZmZmZmZmZmZmZmZmZmZmZmZlHcEyZmZmZmZmZmZn///+xsbGoqKjt7e309PTExMTQ0NDe3t774OlGAAAAC3RSTlP/itxixwImAELtp8B2gZgAAADmSURBVCjPjZMLjsUgCEVpq60G8Lf/xQ62gvNeOmZuUiWeKHC1cKnC5iJAdFuwJXgmf+xg2g//G54OPuTOCUOEL8WgMMCLwgPP+Abj2aF38CrnBR7whw6Bo4fWUk7MMrQ2OrpAq0GspTLLgKg1wTailNITZA0EaTkZGjIAY5NwlATah5CGRMJYj50tFtlWiapsLvAPRdtL/WOmET7QzZyl5ywzp7NWsjBJ1odsragJqeJ9HGFNZoLaJw71hMTm0O7NeDE1Z6YsU5rGL69sedmXXz0ToW8PzA/oV09T8OJR32fb7+B17Qe3WwtC9PVbHAAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-ptz-focus-near .jessibuca-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAARVBMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1/////t7e2dnZ3W1tbGxsa3t7eDg4Oqqqri4uKTk5NImu/5AAAADXRSTlMAYieJ3MvE/0Lti4oh87zNagAAAOtJREFUKM+NU1sOwyAMY30FtoWS8Lj/UZe2gWpVh2aJH1wcO0mNqbDj4gDc8rLmiscEDdPji3rP8IX5fXLWwQWuaVu4gbKDuyPdsJMz3GLefcIPbJ6PDCEAFDlUAJiORM3NigQFAXAFlqOeRhWJyFFIHxNGvRrN0mp470U++3axGM2RAmXcXqKnkDSN0a9WIk5Sa01MpDXBQAdVtrA8lBhFnnKpsmoo5VBrhszV0KuJ5N2tP92O50iQjpzcctravoihdoi0Q1NrfN56m0VWzFBoje+OrD/s7pr0F0yUr6s5/LvUu/bz+B2ep+IHdMIV2SUZfCsAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jessibuca-container .jessibuca-ptz-focus-near:hover .jessibuca-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAQlBMVEVHcEyZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZn////c3Nz09PTp6enR0dHFxcW7u7uwsLAUKT0cAAAADXRSTlMA3IrE6WIm9wI+y0gNQZpqdwAAAOdJREFUKM99U9GShCAMQ8BF3Cmlpfz/r15dAe88l8zwQiQkoRrTEa3zIXhno7lhWxcYWNbtN/fa4Q/218VFDzf4of0O8A/h3TQfOGU/ytsOj9gPVyt8warkmYEQQAgABYDxTKROz88koS6AVIB1fRCNbSI1cVUy15Jq27LGjTtyzipPeWw40/IXQkrHyZSRmqw3LaQgctFNKYzYyGACfEXossLMojFEj7J0WfdwJ3dD9uY2X25tL0Hj45mTR87Y66u9IQFsDS1bL57o7JbUDNIofvpk08eej8kTe3Hz0ZwP9UFfv8OgfgBUByCEUZhYtAAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-ptz-arrow{cursor:pointer;position:absolute;width:0;height:0}.jessibuca-container .jessibuca-ptz-arrow-up{left:71px;top:15px;border:7px solid transparent;border-bottom:10px solid #fff}.jessibuca-container .jessibuca-ptz-arrow-right{top:71px;right:15px;border:7px solid transparent;border-left:10px solid #fff}.jessibuca-container .jessibuca-ptz-arrow-left{left:15px;top:71px;border:7px solid transparent;border-right:10px solid #fff}.jessibuca-container .jessibuca-ptz-arrow-down{left:71px;bottom:15px;border:7px solid transparent;border-top:10px solid #fff}.jessibuca-container .jessibuca-ptz-arrow-left-up{transform:rotate(45deg);left:32px;top:33px;border:7px solid transparent;border-right:10px solid #fff}.jessibuca-container .jessibuca-ptz-arrow-right-up{transform:rotate(-45deg);right:32px;top:33px;border:7px solid transparent;border-left:10px solid #fff}.jessibuca-container .jessibuca-ptz-arrow-left-down{transform:rotate(45deg);left:32px;bottom:33px;border:7px solid transparent;border-top:10px solid #fff}.jessibuca-container .jessibuca-ptz-arrow-right-down{transform:rotate(-45deg);right:32px;bottom:33px;border:7px solid transparent;border-top:10px solid #fff}.jessibuca-container .jessibuca-loading-bg{display:none;position:absolute;z-index:10;left:0;top:0;right:0;bottom:0;height:100%;width:100%;background-position:50%;background-repeat:no-repeat;background-size:contain;pointer-events:none}.jessibuca-container .jessibuca-loading-bg img{width:100%;height:100%}.jessibuca-container .jessibuca-poster{position:absolute;z-index:10;left:0;top:0;right:0;bottom:0;height:100%;width:100%;background-position:50%;background-repeat:no-repeat;background-size:contain;pointer-events:none}.jessibuca-container .jessibuca-play-big{position:absolute;display:none;height:100%;width:100%;background:rgba(0,0,0,.4)}.jessibuca-container .jessibuca-play-big:after{cursor:pointer;content:"";position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:block;width:48px;height:48px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAIVBMVEVHcEzMzMzMzMzNzc3MzMzPz8/Nzc3MzMzMzMzMzMzMzMzLVn6fAAAACnRSTlMA+duduRUwSGSD8toSsAAAAI9JREFUOMvV07ENgzAQhWG3lLSp6MwCViYIRSpG8AiM4FWMaPymDBKESMF/cQ0S136F353vnLuo3gp1kOYEoCXW4LFKIZAnqAXYICeASoAdzgG+cApwgF4EfwF+oDkCqIwA6gnyAKA8AaizQhsBAjzuqUHofInGIQbjRxXjMrTJuHDestR4Bng4eGrN0929PqNfzC6h06weAAAAAElFTkSuQmCC");background-repeat:no-repeat;background-position:50%}.jessibuca-container .jessibuca-play-big:hover:after{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJFBMVEVHcEz///////////////////////////////////////////8Uel1nAAAAC3RSTlMA+rbVFUecgC7rYhEEz+4AAACbSURBVDjL1dMhDsJAEIXhdeiGpKYWQVKDWc8ReojFc4ReAlPFFQazad7lIGkb0jK/WEPSsZ+YN5mZEP5UrZIP0vgE0Kv3oPlIJlAk8AJM4ASYwAkww2+ABfQg0ImgugPYsfNBVl99kA0AsjOArAPQpRTGHiBB8whxM0y+3skXNltsvMYriIWrpWPA80mFJ5qL3gAfB1/tcAt7rzdiV+HEgs1oBgAAAABJRU5ErkJggg==")}.jessibuca-container .jessibuca-recording{display:none;position:absolute;left:50%;top:0;padding:0 3px;transform:translateX(-50%);justify-content:space-around;align-items:center;width:95px;height:20px;background:#000;opacity:1;border-radius:0 0 8px 8px;z-index:1}.jessibuca-container .jessibuca-recording .jessibuca-recording-red-point{width:8px;height:8px;background:#ff1f1f;border-radius:50%;animation:magentaPulse 1s linear infinite}.jessibuca-container .jessibuca-recording .jessibuca-recording-time{font-size:14px;font-weight:500;color:#ddd}.jessibuca-container .jessibuca-recording .jessibuca-icon-recordStop{width:16px;height:16px;cursor:pointer}.jessibuca-container .jessibuca-zoom-controls{display:none;position:absolute;left:50%;top:0;padding:0 3px;transform:translateX(-50%);justify-content:space-around;align-items:center;width:150px;height:30px;background:#000;opacity:1;border-radius:0 0 8px 8px;z-index:1}.jessibuca-container .jessibuca-zoom-controls .jessibuca-zoom-narrow{width:16px;height:16px;cursor:pointer}.jessibuca-container .jessibuca-zoom-controls .jessibuca-zoom-tips{font-size:14px;font-weight:500;color:#ddd}.jessibuca-container .jessibuca-zoom-controls .jessibuca-zoom-expand,.jessibuca-container .jessibuca-zoom-controls .jessibuca-zoom-stop2{width:16px;height:16px;cursor:pointer}.jessibuca-container .jessibuca-loading{display:none;flex-direction:column;justify-content:center;align-items:center;position:absolute;z-index:20;left:0;top:0;right:0;bottom:0;width:100%;height:100%;pointer-events:none}.jessibuca-container .jessibuca-loading-text{line-height:20px;font-size:13px;color:#fff;margin-top:10px}.jessibuca-container .jessibuca-controls{background-color:#161616;box-sizing:border-box;display:flex;flex-direction:column;justify-content:flex-end;position:absolute;z-index:40;left:0;right:0;bottom:0;height:38px;width:100%;padding-left:13px;padding-right:13px;font-size:14px;color:#fff;opacity:0;visibility:hidden;transition:all .2s ease-in-out;-webkit-user-select:none;user-select:none;transition:width .5s ease-in}.jessibuca-container .jessibuca-controls .jessibuca-controls-item{position:relative;display:flex;justify-content:center;padding:0 8px}.jessibuca-container .jessibuca-controls .jessibuca-controls-item:hover .icon-title-tips{visibility:visible;opacity:1}.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-face,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-face-active,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-fullscreen,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-fullscreen-exit,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-icon-audio,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-microphone-close,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-pause,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-performance,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-performance-active,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-play,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-ptz,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-ptz-active,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-quality-menu,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-record,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-record-stop,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-scale-menu,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-screenshot,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-speed-menu,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-template-menu,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-volume,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-zoom,.jessibuca-container .jessibuca-controls .jessibuca-controls-item.jessibuca-zoom-stop{display:none}.jessibuca-container .jessibuca-controls .jessibuca-controls-item-html{position:relative;display:none;justify-content:center}.jessibuca-container .jessibuca-controls .jessibuca-icon-audio,.jessibuca-container .jessibuca-controls .jessibuca-icon-mute{z-index:1}.jessibuca-container .jessibuca-controls .jessibuca-controls-bottom{display:flex;justify-content:space-between;height:100%}.jessibuca-container .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-left,.jessibuca-container .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-right{display:flex;align-items:center}.jessibuca-container.jessibuca-controls-show .jessibuca-controls{opacity:1;visibility:visible}.jessibuca-container.jessibuca-controls-show-auto-hide .jessibuca-controls{opacity:.8;visibility:visible;display:none}.jessibuca-container.jessibuca-hide-cursor *{cursor:none!important}.jessibuca-container .jessibuca-icon-loading{width:50px;height:50px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8BAMAAADI0sRBAAAAIVBMVEVHcEx4eHh4eHh4eHh4eHh3d3d4eHh4eHh4eHh4eHh4eHiqaCaRAAAACnRSTlMAikwX3CxpwZ7zIGi5xgAAAZ9JREFUOMt9lb9Lw0AUx2Njqm4iGEqmEnBxslKUdhJctFMVcW5wKZ0CLpJJQRw6iVqQbg3FtPdX+l5+XHJ3796bQj557773fe8ujtOI+6jz5p84dHjTkYD4+RhT9CIRZWRPJr1bChnbY532GhT4oUpbI6HEuqvgIH9544dh9J4/rpr0Ms8oV3zMNT7X1MXSmaznzfHjM4n72moe5n8ryYrW9rKRvgf0S93JA7yKa9lbzUg3keJb8OVCtwkrFmoO4MnsAuj5rGqnZg+GZXUXkl9NjEui9n3YA9XgpMgakLXz6ujMTIgrCkPVv0Jil8KgKQN/wRN69hLcb1vrbR2nQkxwiZTGQ5Teb7TO8PUaS8Q03sE+zkjP8qbjzgJtEhRbV4gnlkOFeM7hDYNdxPbiYFvKSHN6L2NmY5WzMYPtplZdTxncRvn2sI+DHIoug22jWMaA12Y7BrXzrG8BX32XPMDKWVzw1bdMOnH1KNqNi8toqn7JGumZnStXLi0e4tcP6R3I635Nc/mzsMxl9aux9b78UVmn2pve8u6eR50j9c0/ywzyVl5+z84AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;animation:rotation 1s linear infinite}.jessibuca-container .jessibuca-icon-screenshot{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJFBMVEVHcEzMzMzMzMzMzMzMzMzNzc3MzMzMzMzNzc3Nzc3MzMzMzMwv5ahDAAAAC3RSTlMAW+8S2UGVwyyZnOTRhEMAAAEfSURBVDjLzZKxbsJADIYdBQpsSCyVMlXAdEuQYGKpWFk6dWHJgsQ7sMDSpUv3PgITAQT0f7ly57ucQ45KXRAZot+/89k+X4ju9KzL4XOhlm3pR0enYrWViSRPXQIQSASkRSkIJEFRimYCuQAHSW89IOv6SH5TCsuAj68Ab1wDzqkAzqoC7AUAPtgsABgkBBgkCJiNHehGok//KRVsHqd+3Dj1/vukt3AH/Jj05s5/AmyZhFVWXDls44iVvfQWkCvgxU6g9ZdJfCLvjJbYaT3GvjOY4mQSG3SJGjhr/Y1Xohp+TGKqqzexZ/1GVGdNCitt6R8zVvb9d+JmKdl8o5sPWbtxT6zFuJcDQtk92MNmYiXHquYlZlVt1j4P6cd7fgHFW7Nhqu29TwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-screenshot:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAALVBMVEVHcEz////////////////////////////////////////////////////////NXt0CAAAADnRSTlMAWe+X2TINXUYZvctoYyuS2NgAAAEVSURBVDjLzZKhDsJADIZLCAsEg8WgEGCWGSwCgZxB4MgEAonB8wQEXoBH4BEWXgPJgEBG0mdgR3u77raRYAgnlq+9+/t3TQF+dKbZcJXSYSnzlViT457lRScKmBqILSFA3GoO8S4E+Ex5JiSJ4CbVdyOQdZNomX9D4dl+ko3NC8vFFmhPy8FIsi0ZlwLBW/LY5BxYYreUSgoFAEmhB5Rc9OCbUoXmTmDadQKTn4y6A/XTaoSKdb6KyGU6RJ7eHgpb3ABinAoil303xB6vQnRahNhXvMdre+fzOgxVrokX4jHAnBh8PALU8Eq8BqgTg/vePF8tpuPy9/NFaalSc273RizarYqfkswjifNMQ/TyTGMv4v87L+ks5gqDbc9OAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-play{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAIVBMVEVHcEzMzMzMzMzNzc3MzMzPz8/Nzc3MzMzMzMzMzMzMzMzLVn6fAAAACnRSTlMA+duduRUwSGSD8toSsAAAAI9JREFUOMvV07ENgzAQhWG3lLSp6MwCViYIRSpG8AiM4FWMaPymDBKESMF/cQ0S136F353vnLuo3gp1kOYEoCXW4LFKIZAnqAXYICeASoAdzgG+cApwgF4EfwF+oDkCqIwA6gnyAKA8AaizQhsBAjzuqUHofInGIQbjRxXjMrTJuHDestR4Bng4eGrN0929PqNfzC6h06weAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-play:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJFBMVEVHcEz///////////////////////////////////////////8Uel1nAAAAC3RSTlMA+rbVFUecgC7rYhEEz+4AAACbSURBVDjL1dMhDsJAEIXhdeiGpKYWQVKDWc8ReojFc4ReAlPFFQazad7lIGkb0jK/WEPSsZ+YN5mZEP5UrZIP0vgE0Kv3oPlIJlAk8AJM4ASYwAkww2+ABfQg0ImgugPYsfNBVl99kA0AsjOArAPQpRTGHiBB8whxM0y+3skXNltsvMYriIWrpWPA80mFJ5qL3gAfB1/tcAt7rzdiV+HEgs1oBgAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-pause{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAFVBMVEVHcEzMzMzHx8fMzMzMzMzOzs7MzMz4IlKVAAAABnRSTlMA6xIU1hVqIuOVAAAAMUlEQVQ4y2NgGFYgLS3RAEQziQFZoxKjEqMSaBJpEAkgIw1ZQlBQRAEs4QhkDeIMDgAWx1gMHyIL4wAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-pause:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAFVBMVEVHcEz///////////////////////+3ygHaAAAABnRSTlMA7OgSFBXMmAA4AAAAM0lEQVQ4y2NgGFYgLS3JAUQzi6WlJY5KjEqMSqBJpEEkgIw0ZAklJSUDsISikpLQIM7gAJjhWp6XcaOxAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-record{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAHlBMVEVHcEzGxsbMzMzMzMzLy8vMzMzMzMzNzc3MzMzMzMxEZ/aQAAAACXRSTlMADPKKKeBxlV6neZ4mAAAArUlEQVQ4y2NgGDZgJhpowCURAJeYpIQENJEkCgWRgCeShAGyjfgl2EqwS7BFToZJiLg4ICTEImdOh0pwRM6cDJcIjpw5E6aDFeh8B5gECBCUYAkKCoMbNXNSOlyCgUEQ4apJJmxIEkjOVWFgxi4RgEsikGQJnEYp4pLA6VxUDyJLIAUJcRLIwY7qXKSIQvOHWCQODzKIleBPPjgTHM4kijNR48oGkajiYUMykwMAAfmZhUjBISQAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-record:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJ1BMVEVHcEz///////////////////////////////////////////////8NopmKAAAADHRSTlMA8gyMLeRw1x2DBpWGN2QDAAAAt0lEQVQ4y2NgGDbgDBpIwCVRAJc4KIgEZM4EwCU2KSEBHySJCcg29iBJGCBLgHUs24FdYlnNYZiESksDXKJALebMaagES8yZw3CJypgzZ2A6WIHOd4BJgABMgh2XBEtpaBjcqDMHs+ESDFyLEK46aMGGkEB2rgQDJ3aJAFwSUSRL4DQKp+VHcTkXxYMoEkhBQpwEcrCjSCBHFJo/1GIO408MOJMPzgSHM4niTNS4skENqnjYkMzkAEgzyFpeX6L3AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-recordStop{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAOVBMVEVHcEz///////////////////////////////////////////////////////////////////////99PJZNAAAAEnRSTlMAMPndsnZj1CSYPcmL6wsdoU80pOJLAAABu0lEQVRIx5VV26KEIAhMA++p9f8fezatFDPr8LSrjMxwiWlqzRuMYKW0ENH46c3WuGyVLXEduuO83UyK59fl1jX5EEUXD9DOaSh43XEP5zUIdZ4pAecTofVnWSt3ip4rx7N61vjnY1D30CpH4QQR8vsP+RA5Rs3KpjfMU/pMim/LgbvH7DF2F8sU0owqapKLqgnhuGWwImUagn2zhUX6WQQoYkXG9WxSAJd700/ygsCpAoliaDsPiG48GM1X5Ft/06sfp8DrDE+3DpekWjxM6366fgEcnklC+AIIWYQmPEeAaUmjFOnhCLDfxZRH+w1gU5b/DYjfNcyJ0p7dxX8B+FwxQVtvAGB5ig0d5gFA5KbzS91hI8CenvlHflfN/XvzJQnxbBEko1gbvVnPii+FadSVRUEaYylQfJtpLB+aRG4LY/80yKdUbCraM0lozGR4ewZ0Wtnj1iC7hjWKNnjYmR62W15cLlL3+2pyMR09jccyuyUrHKsvthc5xsY1iWJ0Xk3t+2XP7AnWwrAQmBH6asXubmL1Z5Lz6o992jWiu9lnMSiQsK27FS9NxhCumZgB2fTBPFsFolhZr5B/D3o9sJAI6skAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-recordStop:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAMFBMVEVHcEwimP0imPwimP8imPwimP0imPsimP0imfsimPwimP0imPwimf8imPwimPwimPxLmg1rAAAAD3RSTlMA15sisGUvdz3szYwMT8H+hDJEAAABx0lEQVQ4y3WUO08CQRCADxBQchBiMDE24KswFlw0Wtig/oHzUWglJBZWio3GDjUxlhhrEzT+ABMrO2iptLLVRluDggI+xtmdXW73LkxxNzvfzuzszNwZhhDzdOxqaPGgYrgkOgFczh90ezAJQmpL2v6OHYnqk2aWxOTtAnu/O/Y5XNZXmTZjo3ot7aESwLdFeqAM0MoJkMf9ltwVQJ9PcQN0UFIJogvdJgLQVFMsAlxyBaPmVBDCE8W7qd+2SDsx0q4OwhSrCG134W54jDfKLjDNxaL8/9AAMM/solptRnoALBbwEPWYrOEzLnrZsTGoMW+fBHG2SiLPUNI6KMOH8QS/XsCMBYQekIEv7NGZF/Rht2yqmA4i3UG9O0iTqgMfhirDhRdU8XJZqqEO8tDAqje8IIt1r+I5HmBjfD9AxQ1MgJQRpc6GJRALHOAS1WRlhMs4VaSFzwIWzCUF3op71kdNsNs/FDCuA58YqCQl7IhN3WbDnlLtfjnuON515WM17c7w41QPOuBIzDT5wqi0T4ESGV3gjtTjkuPATwHoX9+cPRlmmvJ57YAir2qKy459QL/UhrS/uAu3xf8KiX3DI+b22t6jc9F/qfaum9E1pJ4AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-fullscreen{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAALVBMVEVHcEzMzMzOzs7Pz8/MzMzMzMzNzc3MzMzMzMzMzMzMzMzMzMzNzc3MzMzMzMxdHBitAAAADnRSTlMA8AwGYt0aUcg+til5kgmZywUAAAGWSURBVDjL1VM9SwNBEB12IcGkMagxNktQSZFCYimIJAqKpZ3Vco3YBYs0NkKQgBg4ECtLFSFVCGgQrERBsLayPE0Ip7n5De73BdKLTrE3ezPvze6+GYDfsAQKy/Rz0i/OZJjY9XREuohTKulS+ZFGiADfyZXU5uHktI44VH5apDx554aXwJqloiIwiEsStAjCAsRNF1jCmGqa4Vc+BvS4JkjwzyPE6xiwzsxxeTbZxqjkANSWZFkoIj5bQBl4aBDfkPDNpeRRialB+SRAFz8UU1sAaEUjSCDoJ7iukZJ1V+c01bFczM1pWaa+a0Rp7MHn4V8Z1R9vLLCv9WjKdVFfk77JP+bZdz35YAfKXx6KhKp93abUYVbrj49g9aAYSuFCLbPUwzdCsYEWTloXgw1oGwQbENeuKwxzXhxwAADRMFd+zzRc6AAASY6RH8VjUHaXTrlOpDgCUP3gelc01e2d+f16cWbnQ46BGCRNVsWAWQJVw2xGfUXVv2k1OsLfazXqblzS99u1FwKFvBJioXBY2+r82U75Ab7O0ypVV0wKAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-fullscreen:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAANlBMVEVHcEz///////////////////////////////////////////////////////////////////+GUsxbAAAAEXRSTlMA3clDHfdfDQbsVG00u4Cqkr04dRsAAAGaSURBVEjH7VXLdsQgCPUBAROdjP//s1UTDUxsz3TRTc+wC94bHsLVmP9hkE8LIdvgupt2tFhcpy2CMZyVxNePEoqDp4hwEGz5PTqWoZNzLrmD9riltBEYzzpZQ8bweXy56Qy6Tivsp5JQYtawuMH3eJlSxIJtdSSa4xer4lMB89pK23mKrwjZVpsRzLq35vEE3+r26h6w5EKppcp3fP2lIpTPWJvoXoobeNI1sM3haHvx56tu2sdElJ54GbnPQ7RZ1sCpl8qPEMXBNQ8vN82jNbzLCPzGSDOZj/2Bqd19R1rELIEbDFrUJfKYdlALbDuDMko/hz7t8DqtCfr8h1Vt4rn7eh/6Ph37ch20aW8McsfGCOXzcr+GOlQG1rJ2HSHUDO/4Mu01qVAqTCpCJfgZ3phTS2pKm5aZOMUbs7Q6nk6L8UzRh6W78jH+gD/VRxHokPuNgUGTaPPR+zDR1mrlvcGgwkAVacSbeoN4Z0rb5/6XLrW/2GTLk2NhXHRKzrqAt9cD4rr4ddvae0NAYgOICdZyvPj4UYRf2BdfbB8iWvnTUwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-fullscreenExit{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAG1BMVEVHcEzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMxi4XDRAAAACHRSTlMAf3WqJmy+7azWNnMAAADNSURBVDjLxZQ9E4IwDIaLfMzCOTDSOz07OjLir5CR0dmJFVHIzzZtnMzbOzcyZHnuaXpJWmO2ji4GhpAzzZeQzw8FKCj1pMHss9OgpwsGOS0YGOcVUMPsfBVkmJoVCBJW0FFB6SFIaMKAlRGDnEiDkuM00lP3SmL6H5QSh+iIr9ZWVWntUV9Z4qWbHAWrhcUYNLC4Wwm3xb1r2mOQYoVn2EKFAVb81KHiQQq6L3vSUoMBUmSzgCKbVeiL3eTp3Odf8H1sxRAZZNZt/Vt8AHcPQbiQQVF+AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-fullscreenExit:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJ1BMVEVHcEz///////////////////////////////////////////////8NopmKAAAADHRSTlMAe4Fzh7MZbKPtN8gpX19xAAAA3klEQVQ4y8XUIQ7CQBAF0CWhKQHDGtQKQFcURUgqEARBED0Aoqp3IKnoATAEW8MNOACmhQYKcyi6uyjmr+aLqXj56bSbVoh/J3HBxcw0ZfA2c3FiQLGeQcWh1lOVDDJTAeCbCgAR6QqCDj0xCEU5Bl2BIALKMwhdKjGILRUYfCIOEynlvABANk64M5jabJxHfJY2I76yzYu/ZCc0s1WbNYAQ3jxqwMoGHoqWGHpUQajEgcYYcKWFtjLE4FGJQewoxODRDQOqKPPcHl9sfzSXa/0L349tEDsOsp/8+2/xAY+BZBY9KhM5AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-audio{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAIVBMVEVHcEzKysrMzMzMzMzMzMzMzMzMzMzMzMzMzMzNzc3MzMz8gU00AAAACnRSTlMAL0jMZKt96hGJsSKv1QAAAJ9JREFUOMvN078KQFAYBfCbJEw2q6SUyWxTnsJT2JTJ6D38Gb6n5PpT6BwbuaNfTnz3fEp9fZwAP7czD0MsGCzBYJcEYsGwBEHQQRB0EII1CMAWdAOzyJUvJ4jyDVyZVHKGpj9guEI2IuhaDFadYnCkIm9I+kPgn8t+kI7kOsT72HcwQnJR9Gofy8DrwwtHK8pLzdeALg5fNb6cdJ1fOjOGYrl5CLFcggAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-audio:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJ1BMVEVHcEz///////////////////////////////////////////////8NopmKAAAADHRSTlMAL0TQf2frEaZYt8E+idL4AAAAnUlEQVQ4y2NgoDdgUcAuzr4Hh4TaGQHsBp3BLsG+BoeE2hnsEkCDsEqADMIqATIImwTYICwSEIPQJFhnBjKInUGSUA2CSPCcOcIwB1ki5xRM4iiDDrKEzQlsEuUF2CVY0jbgkDhjMLQkEkj0IM4gQQ1EHMHOOXMiakRpTiQQtXgTA+7kgzvB4UyiuBM17myAM+Pgzmq4MyfO7EwjAAAEf+BAxqI/agAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-mute{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAMFBMVEVHcEzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMztXryaAAAAD3RSTlMAHd4P7ztyiy1OnKhdx7uY2gyAAAAB8ElEQVQ4y72Uu0vDQBzHE45C3SJFaSGjUEiRpJRCBifXokkpSv0DfOBrEKxUUSoFH9ClFAUfU7c4OARRCs5WjThIsJuDlLo4ldvPe8SYxGyCt1zgw+dev+8vHPcvYybvfCR2OgUv2CoLdI62bUn3gq5UJxOomZofXPUNrIChJRklfcDSiKK2bYQ6PiCaREk0EQoYPFYa3F73F+DGsBJLmAjBAMBKakG15KAxqIhd2KuK5reRccBDNbqGJhfSlnNc/kBh4OY+vaoR5QrRC0afKgxMrKdXNKI8yxRENpyd+i0VA6wMm5IOBmORCwfAFjGwolofevbuPrvpGhRgpVaqiJflrLuUQQFRToS9l894EMDe7q6yL7/G5wMATc5mQCiAvQo3HAbwLtyYHQZgTxhohgGUa/CP12EA16W2/Ou4ZEj1dNG9oPMkZGiwJWQ8j+huPoJy9Z/XHTfUFSbAURveCtE5px5vs7hQDKS25FSDn2KR5Up1/lRmIHne7BvKd82LMRJbSjr5M40lmaYZ5/PRpiCpizjJyk+CwOGOzACLpSdz02QxkiuRhd8dNOwkV7zl2YX1mcySKJrQiPkXY9klSt6rkJPRwIlmzrcWSGyzHuTb11V/N0y/S6SdwdCR4m/47OIN7XOQCfwJwHGp8IcfyRdBLEZK4Uxp6wAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-mute:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAP1BMVEVHcEz///////////////////////////////////////////////////////////////////////////////9KjZoYAAAAFHRSTlMAbk2o8o0P5TsGnVojFi/XHcV9urLaq0oAAAIQSURBVEjH3ZZZkqswDEXxLM8T+1/rkw0BuwM0f131+IvDyZVk6SrL8p88QCHp8UAnWmoWoG8AwQRN4/vOiqwUuwWqiob646MMhEW+KnMLMIXffgiZoODBusb7kCzjByF7OOszkOyp4amJ7fWVPwCN6BpyWRypvANPCvi7u4aTXe13YI+KkYA5bMRTSMlLnSyGwisSH40B0FJOrKVB6iAw2U7sGgPgQ/DTPQjitCOZT4Q6gWCtGwGFbSM34ENUNSpAKTACmC31rnRgJwjDdkFAJpfkAsZcAJvCSVQB2FaWWKdB/ATMAHwIUYL21lRBZRDiC5AnsBHBUqxEyaraFMoz0AnvHNa6xDWS34FGgNf6PYAEZoCt+BroUWFVbeb5HbCqSvB2cToyca+Adjlycdawt0C/HeyScl1W/w3gsU3aAd7JF8AuAN6isr7NAogXAFeq59Ec7ifAm49hF8wCMWfVNXAeCAkjEGuBr6R5ZGJzBrl4gGniBME+w8aMMyCsNZtfaemnmYaAQ6I3Rz0fnDhHJxc93Vrr7sHWjP3XRtTba2L3EkdFVaPC6YmXxKI9DGF1YPLdiwfD2r37cL5nDVw+uKzU5K27hsXCXPtyC2uyyl0D0p2TY7VaIvFYWU0Dm8TdOXmrVp52HG4lU4K/N38PpS/Kw70dbmb/sC0WCcQwNNzzjrzUj7veUyIIyL/4m/EP8V829O8zh5EAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-ptz{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAM1BMVEVHcEzMzMzMzMzMzMzMzMzMzMzNzc3MzMzNzc3MzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMxDm1AzAAAAEXRSTlMAHqw+E8It/gjxc03jhGDTlgAjE2kAAAI6SURBVEjHpVbZkoQgDBwg3Of/f+12gtfMbK1Yy4NampCju4Ov1y8ruNyyo9fyCibVlNW6vUu29GpWQwTVdPTernqwffHex0WP4Nro3k+PrMKCvew/PcZ95aoNsY9yua+cGxTZsnf2K7ch4CAdGnWwYx/5LgKZCgxGdrhH3BeqNmnwviFXPZbQJmcM25HJ5n7/Pczr2QqksMJfO7BJOHLKLWFdMiL1QXYRwFagMklb4GB1zS7s8Le3fqH7Q28tVLkKdIzeaOJB2OKtY8KfTQCUa4++dNsLbrqpTR7xguHGt8hfg8P+seuaEkNdBjahzOD7g1cHP21SL2LtMNBKMdTRJjffTX1wVgrsEb1ITJU6QknwYJAcQky2cE02NbzPp70KyKggtpu9xM7Ik+CBIqY+8FrYyRUkrs+MEm1TG6tG9LZxNDNFGDue63TYGgIHqUUcuNhvhyZtn5LnlDq3Juxa4noCuX0scErOpNMDCrVcHPCS5rFGuQR9KZpxnB6CQ0ZO+AIBcTPk3UdbTx1L7jLEEHsMW7ZYm8NlIFyxn8+xdL7MURYEhzd5k2N2TabxIAORwC2r00QQfNSgrnqTJfh7cDmDu9ggtV0EZFr7kGu4KAxtNDln406TLwF9iZCIwn9EfjPuncRHYm5x3NfK3cFAS5kWxljSnTFlPHBAUFg5HsCCVOd9cdwXq+027un2QJlMjqISJutCDceRtTTuT4+1Q3HWHR8cu0fh9sGvADTYH9iLah/9nPz5+/MDJnQfoIVoAnQAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-ptz:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAQlBMVEVHcEz////////////////////////////////////////////////////////////////////////////////////1bZCPAAAAFXRSTlMAeVoYDS1pBiPv4/g6lkzO2qSxvoixscijAAACi0lEQVRIx51W2ZLcIAwcLnPf+P9/NS2wp5xkq0ziF3ZRC3R0i/l8fvi04oxx89n+RBi1sqB38TKw7lw7lNzDa3U0e57bHhJ4d567HlqGC08eLAj9Gv8XD4/OwtsdhlfCW2s9LfWtuNrMhG1uLWP17Xh14LF4m8dx1OJ9jkm85YCYch5JzDVy81on3MFYkpTNYGmHHloYI+aqlNhlh5ZSvmH1AyBUwPcMX+u/clW3XYvA2YgRGXyZIZX6PXv0l3GlV9Jp9FKcK7mytJIg8xEeBdaBtV4P8tAixexnp73tY7ZBkrk9WEL8t7ZUDqtIA3jXa8sODSeUVqw5aztT+g4QeNAgM0PGTA0+EmfVeUvU0CEW4hX+lt/zseE7jJKDSmi0EUKBhr7EAMKPvNjOA9Fz4Yk/CFgcGRSdkYOHCLRxQfzKRN5SB/b5Ot8SzzQiKqcb6ipFdCfi1JI84OBdxzarhJ8RkpxHOQszl7bpn0GpmnXq6R4OfTkwwlyUWzeQg7rSLNhNUzEUEqJF3DMHeeXgqRIaYwHimLKipK8hMZOYVfJ5oKtIFSgXk5z4KcNx3GOIPGYfPigh9YGHBNQKVKbZhxMnqq+OHfWBHARZfWm1dnfSXfJuXInplse8wy39zkisdQ5kuLY+Bpc5hwGiH8Mx1rE24DFaLqXkfrNVkjk+8JPTPF0bUw+R9MCVuA8ks/xDyF/9orMqpBQeiob5RbIbmv7/TxvoX1Oqa914TsYg7QUWx8Y7R89JQY8mY6Dat1G5GARuMOgYHY9cbL1vNvc++fk67olLk4nrQSl7457OPqdeKn+vEwm4LPzW87DyXvqIyei9znHS+cZz9SxV+Qf8nNbjn37NkDx4+PmCXzHOLUMtjgmUAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-ptzActive{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAANlBMVEVHcEwgmv8imPwimPwhmP8imP8imPwimPwmmf8imPwimPwhmP0imPwimPwimPwimPsimP0imPoLqfILAAAAEnRSTlMADprCJBnU/gXwh3LiUKxAXjJ/ELXKAAACbklEQVRIx5VW2bbjIAwLa1jM9v8/O7Iht+09MwPlpS2VwLZkJ9f1lxVG1joPdZ0u1ZIxurhv8DH6dMpQI5t439GAEc7xYPgTRnAtV7plReRhd5kDP8+fd+wzt70yPhIJzWT7/6DCJCAYLReZPMIuJC4pClSktHqbNpJO1aTmmAme3cvtWs9NSfq52CPhnJNjlbVHwgmWSWGHeQHcKFjj7fygwidf2fa4mbVOuladcnsoDn9/CKKAWf6HEtpANiJvUp9Fgr0SvocPP/sqjOCK9ktpyCAo4Kt/d4n4/6baseNKAt5XrauPN1A4ZLAd30RUI4kNfELVx+yd3lrXYIg1Bp/B/dGs5N8mPsJoVyiwkofQSlm+K9aiwmoQMDoI4wefoK/rhkESrSuV+BR2i6HZH9juLzxCtBmn6rFmB66gNJQwBOSxncT/N3FAlxAoLQfJDy2+6rMLI3aznl9fhOcGSdZzoNhex2K3TXJEVe3M4Zb6QhHuJc5BWakYIqqietcPw6FK+EHofUHRqtLEQ5X8dKVENXXgEpLOpcjwkFI30YFVHE8fyx2ShZJ/ydTKlZwZ4BCOv/af9uMi0DILe4kieynScgPbhai+DRDckTT6N6zJpI3HMghM3BMg+q9pHmwrbR0Q0D5wc0JHPy0E5Ur7Nf3Rk68LnR0NHfO28/T5P4cNr+uLFR7eEdiNxvMRbd5Onlqsis4iIVdme4di3akWOz+3T0aUnFWHa8QZrO51NO69MeLPafrNuBenxel/3d21j8k/jyxf+75OQabFxOtuT94G3Lpjzb0zBn2Dl0ep/waPidQ/p/XB60Dp7e8F/QO7WSJg4zEzdwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-ptzActive:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAANlBMVEVHcExru/9ru/9qu/9ru/9ru/9ru/9ru/9svP9ruv9ru/9ru/9ru/9ru/9ru/9ru/9ru/9ru/+3uxEqAAAAEnRSTlMA5q0cR/PC/ggSKtN5OIhaa5izIOiAAAACV0lEQVRIx5VW2ZLjMAiMToNu/f/PboNsJ5PaKWv8kKRkWkDTQF6v/zyUfO+JX9sP1dKKd/v2acQcm992kbo1R4il7iHIif0BRNtCUOozH4cikAdt2YfjRLTnzN15/8I85wFCI2xDzlnyMLO7R0aFoTzbFGB+jIkYLkyePvmW8d2fs2ZfZuv8It9s6zvV5uSr2LmKb9oVh37QvpjYOcf8fcO3Cb1jGqOU0SvTTd6X2KUBLgKdLzaiDtE2n+isTh8/+AX7E6/Vh/NNSyfVm10RXIe1nxXRapmsDQB7SMnkmE0IxgqvUn0jteEf1T2CHXgr0gjZllGk1HoJL7lD7fRpD20CgJcwQ6EdSh3lLK0zVfuqz2WvPlPJh7HqnCQ4MysxoAYQE0vHub/toRuqzRy5pEUvbg62MzlJQn1MHBe1x7WSAddpNDSN1c9wRMhKfi2jrICwAIsQvHkD7Al41bOrBNC1Y7QdmSg15LDokGETJB/imxYJKfmFMDqI3FjUkDS3NSEDjBaxknRYSb+4nj4kC43W2OKrkqGB8jV2Fq03YiWbhHQTpUV1mMHXWYf8HlNX7ZUQRC6iwBAIK0r0ILr1UxqKsPattAkhwSIiMl76bT/Ft/TbTy2jHQoM7Cz9isHVMb6GILl0H4DGivbw7xNc8rAtiJn3O/qvD6JT/wgs7Y370ZSdWmbZWEKiG1lXImldW7Q1jGMbZW9tUVKZmGjjGvf+EXAqzWiX5OfFSHVp/zjbfGPc3whdcbTF67V2N1e79qYMru2/AnzVYFsdWFt/+nOypv8vQvoHou4gOtSrG5EAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-performance{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUdwTM7OzszMzM3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzW8hQDoAAAAMdFJOUwC/gO8ra6tUQNmVEKtAA1gAAAE4SURBVDjLzZMhT8RAEIWnpS3tXcWdQ6wgOJIKfFdUICv6AyruB5w4EuSJCwRXgUBWkGArLsEi6JVuaZkfxawguSWz/p7azLdtdt97C3ASagp+PpeXPDjHVx7McMWDCBc8qPCZB4m44YFIeOBh+ckCf9z+sCCYqi8WvA/5Nwu26cfA+JRBs4h7WmX/tr9AXcQHAPdgzEPZh5idTQBOZ3zyiModISKQGxZ7dd85E0SKfMGjM7vXeI/5AE5LvrwpcK9IOrQYB5BlCsFIvjzgrkaSjsBZbmC9XsGsAxfn8gKXpL9sSlnQFBwFTTuaKWXgI5Ar+sfHTrW6DUDO+2jEEtCNQ9wL6gNujMvvdFS3eugxGT51fBXxTvF1wLLngbT0BGphKalAy0MQ3Z4Ha2V7UoMFJKkFVAWcvH4B0OJfd9YsTl0AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-performance:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAzUExURUdwTP///////////////////////////////////////////////////////////////8/RimEAAAAQdFJOUwD2qdfrViyAwW2XORBGtSCsD6SyAAABN0lEQVRIx+2VzQ7DIAyDYfxToH7/p10CbQ+T2s33Rb1MijM3/qDG/EurolD9zSNRggBU0hFelMABmenfADhGkJDhGUFGgiX6I1AAQlDgZK/td8ELtQORiTmIq42I2bYdCD8NjzPmYQxO+rbn2S5qzEUF6YjkgcJude56X3s0SoL7LRAeylyaVPiFq0Jyx230mpeXmXVOHssRbhackhCq25Sny++xcBW1n6Snqw6BTgrqRP6kzfDcgmRLGonDWSf2OecwB491dOrEVZpNsxiyiHzWJ0Z+BbBwzaoWVb49HrqVfSkxHen7WNznLhzl8xpQlT3E9oHUtYaufB+7NY9g9ctbjFfj/h1DwXUrzDltMn1Ql9M814EQWPLmEBg4R7JSzpFQxTmSBMkLvJKOhFHfKEEnv3L/+qw3DuMPzAFH9pIAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-performanceActive{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAtUExURUdwTBGW2xKV2hKW3BKW2xGW3BKW2xGW3BGW2xKW2xKV3RGW2xGW2xGW3BKW2+P2IvgAAAAOdFJOUwC/gCvzq1RAleURc9VmrA9rXAAAAT9JREFUOMvNkzFLw1AUhU+SxtTahnZyC+IsIeAenDuE/oJQcS/FTYTi6hKcHYpDZ/EXBME95BeURpM0Me39Db4Mgk/u23umcL8kvHfOucBBKEr5eW95xoMjeuBBlyY86NOQBwt654HrPPHAca/YuUHrDQsG9eybBWa1+GLBqvS3LJiNX0vGJw/R0N6LJ+/f6x9I3uwG0D+luRU0FnmdCtBy6ZM7KvQdjgXwJYuNZVNrFfqF8IX+nFm/oBvyS2iZ8OWxgH4u1IZmU4kgfoa5E77c0jwhoTYCbTRFGE7QrXFCveCURkK/2cRBCp2gFYiyWk7Jw4AgXOmQZMAqa9uAeCP+JsViihtb9OKIPtBUuvy8jeqyHRpMhvc5X0W6Lvg60HrPg0DREySOoqQJKRbByRWbExaqlSoVwB0rwCLFwesHquttxhcsa64AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-performanceActive:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUdwTH3G63zE6n3G7H3F633G7H3F633G633F7H3F7HvG7H3G7H3F6xOzy+EAAAAMdFJOUwC/hKbvK0BT2XURZct0z00AAAE3SURBVDjLzZMhU8NAEIX3LiSUNqI1qBMMChFRgYxAd07E4CI6HQwzEUXgKjC4CH5ABAKJyA+oaHqBJO3+KPaYYSZh9nyfyuyXu7l77x3ASSgu+flYX/HgHOc8kC4wwikPMnzhQaTueKAiHvi43bFg0m4OLPBM9sWCjyb9ZsHm8NkwPiUQT8MjfSX/fn+F/C3syJf9YB7oLsDkjIaiHix5QCNbGBmAFPve+3lXi/0viLB3ZnmDz5g2ICry5daAvCbZhSE2oIsFeC35ssJljiQbgZitIY7nIGu4wLG+xBnpL5tClxQhCANR1Q5TSmCCQK7YjftOVbYNUOxot0EsHl0uwHdFfcD14PJLG9W9HfpMho81X0V8MnwdcHvkgS4cBcqVo6QKHQ9B1a6XY1zAcSiIFg6QlXDy+gEd714RcAqEowAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-face{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTL+/v76+vsDAwL+/v7+/v7+/v8DAwL+/v7+/v96T4QgAAAAJdFJOUwBAgSCbs9hZap+hQJoAAADvSURBVDjLY2AYRkAJCAygbEZBQUEBKJtpJhDAOJpA9kSYxESgKphuIaBuhASqyYzESjC2hDRilQBZ64BFgm2qMLPYNCwSkQpAwlMBWYIRzJsKYrKCxZSRncKSDFYzBSNY2MD2MqRhSFgqgClPAwwJBxwSbAk4jGKZDCKZp2JIsEOcOx0ztjQDYL5ENwsYJKrTsMSvGSgepzVg2pE5qSikPRPT8sopBuDod0ATZ54JsbZyBrJgAVAp1Ax2oPXMykjxYQaLA2CMoERUZQDMrgBUCc8CKIdzAvHJhyQJpLQLSu0TCaV2lPwBSu0KQy+LAwBuJj5UbruNggAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-face:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUdwTP///////////////////////////////////////////////w2imYoAAAAMdFJOUwBAgBvfrFmcw4wrbtGliFoAAAD2SURBVDjLY2AYRkAJCAygbEZBQUEBKJvpDBDAODpA9kGYxEGgKphuIaBuhASqyYzESjBu79yIVWIP0NoCLBIsR4WZJY5gkYiZACRqFJAlGMG8EyAmK1hMGdkp7M4gkus4RrCwBIApFwwJmwlgqsYAQ6IAIrEAwygHHEaxngJbfhRDgg0sxHoMM7Z0AmC+RAPsJ4S5NE5gid8VoHg8sgHTDh/PzM60HkzLc44bgKMf3RKuMwoQ+dNIgswJDAycUDPYjhgwMCsjxYcJLA6AMYISUTkBMLsaUCVqEqAcngPEJx+SJJDSLii1HySU2lHyByi1Kwy9LA4AqflRBKNSA88AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-faceActive{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAhUExURUdwTBCT2xKV2hGY2hKW2xGW2xGW2xGW2xKX3BGX3BKW23povfoAAAAKdFJOUwBAgRybs9hZLG6hrV9tAAAA80lEQVQ4y2NgGEZACQgMoGxGQUFBASibaRUQwDhaQPZCmMRCoCqYbiGgboQEqsmMxEowTgmZiFViFtBaBywSbEuFmcWWYZGIUgASXgrIEoxg3lIQkxUspozsFJZkEMmxBCNY2MD2MqRhSFgpgCkvAwwJBxwSbAk4jGJZAbZ8KYYEO8S5yzFjSysA5kt0s5YKc6guwxK/baB4XDYB045Vi4pCyrMwLa9aYgCOfgc0cY5VEGurViIJMhcAlULNYF9mwMCsjBQfZrA4AMYISkRVBcDsCkCV8CqAcrgWEJ98SJJASrug1L6QUGpHyR+g1K4w9LI4ALk0RHtSETFcAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-faceActive:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAhUExURUdwTHzD63zE6n7H7H3F7H3F633G63zF7H3G7H3F7H3F68TinBIAAAAKdFJOUwBAgR+Z31ipwW4yAjb9AAAA+UlEQVQ4y2NgGEZACQgMoGxGQUFBASibaRUQwDhaQPZCmMRCoCqYbiGgboQEqsmMxEowTmmZiFViFtBaBywSrMuFmSWWYpGoUgASXgrIEowgHtsKEJMDLKaM7BSWYLCaJRjBwloAploxJKwUwJSXAYYE2KUMVRgSrAFgKhTDKPbFIJJ5OYYEG1iIfRlmbGkVwHyJBlhWCDNrrMASvxageFw6AdOOqKCklrQuTMuzlhiAo98BTZx5FcTarJXIgglApVBr2ZYaMDArI8WHKSwOgDGCElFZBTC7GlAlvBKgHK4FxCcfkiSQ0i4otS8klNpR8gcotSsMvSwOAIs+RIlIrewIAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-zoom{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURUdwTMDAwL+/v7+/v7+/v76+vr+/v7+/v7+/v7+/v7+/v7+/vxtcv/AAAAALdFJOUwBVdZCpGdZE7C3B0wnY6AAAAV9JREFUOMt1lDtPwzAQx20ghGwVsHVJhQRDlsywWKqEULsw8FhRJ2iWiglGGJvFCw8xIVVCSEwkKU25L4ftpOHs2Cclsu7v370smxCLecRh+xOH8Ja5kGEs/6dtYf1XONcWZurbwwRCQjYZ9l7uHAPAOBHpI1QC/QSY9g84ldmnAn7Z3htwsfZnvSe54eJd5hlcC7gccxTwSETZEr5+714vLRdfkFraVNtetXLpR7ha+mkHCV1Y/q8ZOW8AgDkecsIaAEIcGbIGyLUq4KcBYl0o7QAB4FZACBMrQKpaJOCZQqyAIhgayYEpgD1DZghXCvBTNJFKmCvgzmhcCEsBwMjSRx6BslYftRX0JLYKrAsLqzDC54EFMwvy58QhMM8hFNq0UpwET+sLC9/4BmEBTytyRCIbDoAEiR1Qp1dbRxfoyv9g3ogaKVuXhVZZbtqX6Ez6H23PxG4CM259QDwt/h8ABfK8nDqSAAAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-zoom:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAzUExURUdwTP///////////////////////////////////////////////////////////////8/RimEAAAAQdFJOUwCCyreU7KZVRCDaZnETLwj6WaYVAAABUUlEQVRIx5WV2Q6EIAxFoVBWxf7/184AOnGUsvTBqDmXrqRCzNou1kwGtyZIQNuiD0P6evWTURFUMtIoPO+iVoGIZPkMqkdKA0jZgoJ6suQc2EoiGBldOoQ9HSDk5+GTs1Fqo9IlcEpvNv3qv0MBhSalIFSv3+MCJCY8fUaCxasycrMu9dp5VTUhubXZ6CqsAvn66ZAsx+e8fON37oT3bZ4aiRU0kDlavGSrQI95HPBZACt8FuCL16IruBVkzBeBW+CLYHvyfiDQd96IpHpOMqP++fAq9VMQ7rwrM5+6gjwG/3y/D/m8ylPYpvpAeqO7DfvwMPO9D6jnBabG56YFZx77fEjD+9AyLdYEhp8nxoNh5wmJtfY8AS+wzIZZrJNcC4h3wV8IH1p87Iyfnc6XVaAd7ICHAsebw97zgDSxZ/yvViiPuYUfTe650knM2+7Ywz9yOCklzohLOwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-zoomStop{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAzUExURUdwTP///////////////////////////////////////////////////////////////8/RimEAAAAQdFJOUwDjmTC6Y0KBVakX8s8iC3JYR1wyAAABVUlEQVRIx62V2baFIAiGcwJRS97/aU/Zbtht0VzrcJOuvl/AAabpXy1RF0F/m2h2PX5mzucEuO9gMon1MY7KlG8w4LImC1XFQmxDGVkm1DYpXi0qS1gXTEGzKoqNS1ajAxPqJDikFLcFS+aukYJffRfXnAj9kYUXFVi86wzzPjuCFRXBwS3KaC/Pt02Ww7uf1jz3BVYtX/OsyDQFDn7yswPXb+Ovs39eJJWwxrOXV4thgC+//QBf/uMAXwAa4AuRBvgdWR58CB2B+eaRG5e8QO7Jn2sIAvzhbdsDnXzev8q0BengGXv8EciH3y1CY5++yI/BRNx82g/La7lc7b0Am/tUC6n3HoZ4SbDyy5BgzSNivV6wbPXeIPOpHlOU+CjkTQKvQOpXdRdJvn+5xttWQa4EZUOzluonT6+q72X6Zb0+T/lNhQd7hg9vm8LWUhW5gT4iN7c/0ZUo8Q3AttYAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-zoomStop:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAqUExURUdwTBKV2hGW2xKW2xKW2xKW2xGV3BGW2xGW3BGX2xKW3BKW2xCX2xKW2yDN61kAAAANdFJOUwCAVKxm3T/DmhrxKw97YQBGAAABaklEQVQ4y2NgIA6wGqCLMCqAqV4HdIm9F0Ek22UMM9hiG4AkVzQDA+cmx+YyJJnDlw8wMNQaNpfevbu0QgxJgrN3JQPD3VvhjU57kESnOZqvvXuJgcEXxVFMEkDt1w11gZYwoVgue3d5SzaQSgCydZG1TMkBU8vBuq9guBcqNBNDgj0GQrMEb0CVYEmA2ViANRQZ795tQPZduADciXcVUNSthGu4hGrAJawagBIXsWoAClzGqgEocRWrBqDIrQNQDTPRXZ8A0cB41wBNQgGiQfbubTQJAagGDB0GIA0OsnevbkCTCADiu4J374ahW34JqAEIbiXMRJOAgkvMKJYgJBx6717AKiF4F4eOu+jxgQCXGHBIKPDgkBC8JYCURJDtQHYWN4oEcvpZiyR+C9lZtkgSKKG1CyGOGrxItleixjrcLFBWRAYcMIkG9NQMiY67N7AlcxAQwMwA6SBxM2xZQ3jtVRPsRQ83sg8ACMIUxzzE8wsAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-close{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTM3Nzc7Ozs7Ozs3Nzc3NzcrKys3Nzc3Nzc3NzePZJxkAAAAJdFJOUwCtKdPBGAmNTt3jdDcAAADfSURBVDjL1dOxDoIwEADQgwR07GTCZtI/IGHgAzBhM9EPkMTB0Y3V0ZXIcn/rtRR6pefgSKeSu3ellyvA9lZ/5F9p/3K7PZY8oPG5BD6MpPUSgIITzdIStifAshjRQV1PCFT8TxaicTzzwEwINOEdHVmDmcTAkRhMhMAp7iQRjcMtDhCp8SA1v0ARGIIK/gnkv0p1OBTS4QRUIpE7DiYYXTBrzcld3JIrAarXrps4AVNwRSZgExoJmIyAaAdsShUMn/JF2fh4YEkpAcgvnuwYCIb6EbbbP4PsDfLD2dD6Av1qTvAQlzUTAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-close:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTP///////////////////////////////////8kBMKEAAAAJdFJOUwCt0igUwJdJePGbgLgAAADcSURBVDjL1ZMxEoIwFESTCaOWFDapqeicnAALTiANnaWlnVewDTMW/7b+aCAb8jkAVIHN2/lsNkrt73lf8M08nnF1pAYFR/dFmAAx7SIoi4iDbRrWDMAuQFzmmxAGbjjJgjj6dCjMCAND/o8RWQMzUgIRKYE/wsC5TJIRR74rBUZaqqXwLZEXT0WTDGwLW1aavJWQir9qadw++NgykWoMNtcykh8Q5EECgr5C+jjpGjHjPGhPU5eVzyfPJitfnUyhPg6ywMKZ7BygcYcsPCj1Kc8uXYPqpeSLs6PnC4w8S+8OJ9MLAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-narrow{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAzUExURUdwTP///////////////////////////////////////////////////////////////8/RimEAAAAQdFJOUwAyqXf5Hu1TZxDRmrxFjN7ZJa7NAAABXElEQVRIx92VS5KFIAxFgfALoLL/1XaVKPBCQteb9KAzM3Ik3FyiUv8rQqo0MsrL0VQmfJDWa1/5OPn1x1hxFWNMsv3ZsN/vJZy6ZVzoJWam/rcemA+pXwQWoLQXSZN8fAiaDy1dxKMlkvZsdiaIuC3pWPmgKccAIDToYk5x6ykahpF209B3i2sBtAic6wlHRRhHQJhrOghQOAeWyTaRAM1h9ELcq9AuInYVqMXzMBqwO2QC3IU7y5X0+MLYKa44nSFQlR5foxvxYVlN+3CIfbhvhUcKGHE42NX6G7O+do0rYHYbVGTuAz+BCjcHMn9zh/M8stsySp3CoAn8PHFFHJjPl2qa3jiYrBXY7tzIGRwi6mg+nbgQs++8t+tQDnyDNrEQev2fVJt3hIoE8dl1AYXWHrkzvkScJRdHizsiAASNtEk7S/NtXUbs70RSXxKgviPKFz99bVIB9SfxA8uZLAsxki39AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-narrow:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUdwTMzMzMzMzM3NzczMzM7Ozs3NzczMzMzMzMzMzMzMzMzMzMzMzH6OaiEAAAAMdFJOUwBv7U2hEB4zt9NZixFhg1cAAAF+SURBVDjLY2CgF+CacwYKXFHEWXtg4mcOLUCWKDqDAKeRxJnBIhounWDaASFRAzJiO5CR5QNkHUHYoAPkioKZ7CAZAZgEB5AzHcpmBLKPwyRszpw5gWzsSRgbaNIEFIfAXAxkJiBcsgeh7MyZg0hu50RYcuaMAqqnTsMlNiAHgw7c9jNnCpAl9sCtPHMISEQJgoAwxPUGUAmgL9h1IEHYAPYJ1L2g0OGEhi3QfTHwQAFJMCECPQhFggUqAfRCDkIC5DwnSPwJoNhxKICBgS0NBEDuXAN3Ptx5EOADVgiRcEBOGIhIOHPmGJIEIyJMkeMJ7I2jiPhASkw9CJN9kKKZgfsM3G6QZoS79iClH+YzCPsyQL5EVnVmMpgVDQ7kwzAJcEDNNgsNXwINfAOEZ0FASQeWsA8jeQoVwLVUwoVUULUwrISJJ6xB1cJgDcpshxoDGLhgEQYDbIaCUqUMkPhAziRIGRUkcRJbFl6DS4LrDGoyR9HSgFWC3bORnFIEAI39IME59Pz6AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-expand{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAtUExURUdwTM3NzczMzMzMzMzMzMzMzMvLy8vLy8zMzMzMzMzMzMzMzMzMzMzMzMzMzAmiiJAAAAAOdFJOUwAqre7XQBoOxWGeiHNRIXj5WAAAAcNJREFUOMu1VLtKQ0EQ3Ygx5FEIPhpFVLAIaNAUPkACWliGYGEpMWKjIKktJGBjIWIhiAgSRGwESWkhwcpGEAUtRJCYmBjFzDc4szv7uCpYOcXd2T07u2fOzF4h/jLf01H/xdzP9a4koFWi2W/rs8A26UXWwNiEu+5PWADyDnDorMOrPSwo7x186DjYJm/GAM84q+9JzkUKMRnQtkv2Y+j3MtCM/pTeFcHJO/s3nguJCM/QG7MMKaRggBSN99NyJ97ypoEPmSVAjsZ1gE8NyB0hgBcaw4Ywq9AEUKUxgEenGUi5EXTJjgIqdGlnBqCxkFb0FS2o42cXSOFEHPfM69yhzLKQIbEepieIbVgDNSEWXSDiAKsGwKNadA0L7lGUz/LmBia2uaXKk+c80p48iro6nE+IMxdY31sGcq4kPlMQK16NN5S1iJQ6EZNKIKmGKZS8bCUqp9jEw0J7VVtaPInFJdGU8NLObGMhT11MITJua9DT6ONuJWlGNdBGIg0R9271fFp1j0oFx0+vj1nJER3SDl4zIYGYs1h0Q4JJA5z43RCLDKi8cvYZntNy/Er1KpSch7j0uH+X1VKUfv1J+I1a/2xf3OKDpNnEfRYAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-icon-expand:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA5UExURUdwTP///////////////////////////////////////////////////////////////////////308lk0AAAASdFJOUwBFnl8nDsur9hnq2jeLum17VecmAZgAAAGgSURBVEjH1VbZdsUgCIz7boz//7Fto3FBzLk9fSpvUUdgGDDH8WfjV6JKqZC8+eR0kLmZVky8H/cxA7PpBSJoRsyy3XliM24UP8/y1iQW1tljUIl479mQvlv5utptAzE8NMTC5kPkCdZV3VAA4OpFfHGdKoJhCTixJ0NPe7pki9eo3hbGtbLkOwXSqY6ueQgI6PXxN11dASWAEwL6DRQ4LIlLABgEUGIg3UWJycyAvl89DBRHyOxIG+emeLgMNxNRYQLUCJnLWj9lzzqKzsJY7fbloVDjoJw4AUrOYZH2HZXRgKYGSJ8DSkgGdl3YhlThhkoZC8pFGWt1CWzVH0rMsa10jTTNhWMvAAlKf4CUoDT40hFACgF8K5jzAdR4cxVmtX9LZWmgLngTFIMNb5EZQNAWVcgUIHmPoOhkesbPCY+bOs+XAeEedfp5xjxSsXBY8qcJsiKtlZIbHhe+RWQbaUqBylmGK8Lld1sQQuEHbdAbxHFhTqhprK8IccLAFRnrJLGXLkjdnqLTgMrir53xF2OMcLFq4Rf/B0RjQvin9gVLNDmYNA/hrAAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jessibuca-container .jessibuca-menu-icon-text,.jessibuca-container .jessibuca-quality-icon-text,.jessibuca-container .jessibuca-scale-icon-text,.jessibuca-container .jessibuca-speed-icon-text{font-size:14px;min-width:30px;height:20px;line-height:20px;cursor:pointer;text-align:center}.jessibuca-container .jessibuca-speed{font-size:14px;color:#fff}.jessibuca-container .jessibuca-menu-list,.jessibuca-container .jessibuca-quality-menu-list,.jessibuca-container .jessibuca-scale-menu-list,.jessibuca-container .jessibuca-speed-menu-list{position:absolute;left:50%;bottom:100%;visibility:hidden;opacity:0;transform:translateX(-50%);transition:visibility .3s,opacity .3s;background-color:rgba(0,0,0,.5);border-radius:4px;overflow:hidden;width:max-content}.jessibuca-container .jessibuca-menu-list.jessibuca-menu-shown,.jessibuca-container .jessibuca-menu-list.jessibuca-quality-menu-shown,.jessibuca-container .jessibuca-menu-list.jessibuca-scale-menu-shown,.jessibuca-container .jessibuca-menu-list.jessibuca-speed-menu-shown,.jessibuca-container .jessibuca-quality-menu-list.jessibuca-menu-shown,.jessibuca-container .jessibuca-quality-menu-list.jessibuca-quality-menu-shown,.jessibuca-container .jessibuca-quality-menu-list.jessibuca-scale-menu-shown,.jessibuca-container .jessibuca-quality-menu-list.jessibuca-speed-menu-shown,.jessibuca-container .jessibuca-scale-menu-list.jessibuca-menu-shown,.jessibuca-container .jessibuca-scale-menu-list.jessibuca-quality-menu-shown,.jessibuca-container .jessibuca-scale-menu-list.jessibuca-scale-menu-shown,.jessibuca-container .jessibuca-scale-menu-list.jessibuca-speed-menu-shown,.jessibuca-container .jessibuca-speed-menu-list.jessibuca-menu-shown,.jessibuca-container .jessibuca-speed-menu-list.jessibuca-quality-menu-shown,.jessibuca-container .jessibuca-speed-menu-list.jessibuca-scale-menu-shown,.jessibuca-container .jessibuca-speed-menu-list.jessibuca-speed-menu-shown{visibility:visible;opacity:1}.jessibuca-container .icon-title-tips{pointer-events:none;position:absolute;left:50%;bottom:100%;visibility:hidden;opacity:0;transform:translateX(-50%);transition:visibility .3s ease 0s,opacity .3s ease 0s;background-color:rgba(0,0,0,.5);border-radius:4px}.jessibuca-container .icon-title{display:inline-block;padding:5px 10px;font-size:12px;white-space:nowrap;color:#fff}.jessibuca-container .jessibuca-quality-menu{padding:8px 0}.jessibuca-container .jessibuca-menu-item,.jessibuca-container .jessibuca-quality-menu-item,.jessibuca-container .jessibuca-scale-menu-item,.jessibuca-container .jessibuca-speed-menu-item{display:block;height:25px;line-height:25px;margin:0;padding:0 10px;cursor:pointer;font-size:14px;text-align:center;width:50px;color:hsla(0,0%,100%,.5);transition:color .3s,background-color .3s}.jessibuca-container .jessibuca-menu-item:hover,.jessibuca-container .jessibuca-quality-menu-item:hover,.jessibuca-container .jessibuca-scale-menu-item:hover,.jessibuca-container .jessibuca-speed-menu-item:hover{background-color:hsla(0,0%,100%,.2)}.jessibuca-container .jessibuca-menu-item:focus,.jessibuca-container .jessibuca-quality-menu-item:focus,.jessibuca-container .jessibuca-scale-menu-item:focus,.jessibuca-container .jessibuca-speed-menu-item:focus{outline:none}.jessibuca-container .jessibuca-menu-item.jessibuca-menu-item-active,.jessibuca-container .jessibuca-menu-item.jessibuca-quality-menu-item-active,.jessibuca-container .jessibuca-menu-item.jessibuca-scale-menu-item-active,.jessibuca-container .jessibuca-menu-item.jessibuca-speed-menu-item-active,.jessibuca-container .jessibuca-quality-menu-item.jessibuca-menu-item-active,.jessibuca-container .jessibuca-quality-menu-item.jessibuca-quality-menu-item-active,.jessibuca-container .jessibuca-quality-menu-item.jessibuca-scale-menu-item-active,.jessibuca-container .jessibuca-quality-menu-item.jessibuca-speed-menu-item-active,.jessibuca-container .jessibuca-scale-menu-item.jessibuca-menu-item-active,.jessibuca-container .jessibuca-scale-menu-item.jessibuca-quality-menu-item-active,.jessibuca-container .jessibuca-scale-menu-item.jessibuca-scale-menu-item-active,.jessibuca-container .jessibuca-scale-menu-item.jessibuca-speed-menu-item-active,.jessibuca-container .jessibuca-speed-menu-item.jessibuca-menu-item-active,.jessibuca-container .jessibuca-speed-menu-item.jessibuca-quality-menu-item-active,.jessibuca-container .jessibuca-speed-menu-item.jessibuca-scale-menu-item-active,.jessibuca-container .jessibuca-speed-menu-item.jessibuca-speed-menu-item-active{color:#2298fc}.jessibuca-container .jessibuca-volume-panel-wrap{position:absolute;left:50%;bottom:100%;visibility:hidden;opacity:0;transform:translateX(-50%) translateY(22%);transition:visibility .3s,opacity .3s;background-color:rgba(0,0,0,.5);border-radius:4px;height:120px;width:50px;overflow:hidden}.jessibuca-container .jessibuca-volume-panel-wrap.jessibuca-volume-panel-wrap-show{visibility:visible;opacity:1}.jessibuca-container .jessibuca-volume-panel{cursor:pointer;position:absolute;top:21px;height:60px;width:50px;overflow:hidden}.jessibuca-container .jessibuca-volume-panel-text{position:absolute;left:0;top:0;width:50px;height:20px;line-height:20px;text-align:center;color:#fff;font-size:12px}.jessibuca-container .jessibuca-volume-panel-handle{position:absolute;top:48px;left:50%;width:12px;height:12px;border-radius:12px;margin-left:-6px;background:#fff}.jessibuca-container .jessibuca-volume-panel-handle:before{bottom:-54px;background:#fff}.jessibuca-container .jessibuca-volume-panel-handle:after{bottom:6px;background:hsla(0,0%,100%,.2)}.jessibuca-container .jessibuca-volume-panel-handle:after,.jessibuca-container .jessibuca-volume-panel-handle:before{content:"";position:absolute;display:block;left:50%;width:3px;margin-left:-1px;height:60px}.jessibuca-container.jessibuca-fullscreen-web .jessibuca-controls{width:100vh}.jessibuca-container.jessibuca-fullscreen-web .jessibuca-play-big:after{transform:translate(-50%,-50%) rotate(270deg)}.jessibuca-container.jessibuca-fullscreen-web .jessibuca-loading{flex-direction:row}.jessibuca-container.jessibuca-fullscreen-web .jessibuca-loading-text{transform:rotate(270deg)}.jessibuca-container .jessibuca-contextmenus{display:none;flex-direction:column;position:absolute;z-index:120;left:10px;top:10px;min-width:200px;padding:5px 0;background-color:rgba(0,0,0,.9);border-radius:3px}.jessibuca-container .jessibuca-contextmenus .jessibuca-contextmenu{cursor:pointer;font-size:12px;display:block;color:#fff;padding:10px 15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-shadow:0 0 2px rgba(0,0,0,.5);border-bottom:1px solid hsla(0,0%,100%,.1)}.jessibuca-container .jessibuca-contextmenus .jessibuca-contextmenu a{color:#fff;text-decoration:none}.jessibuca-container .jessibuca-contextmenus .jessibuca-contextmenu span{display:inline-block;padding:0 7px}.jessibuca-container .jessibuca-contextmenus .jessibuca-contextmenu span.art-current,.jessibuca-container .jessibuca-contextmenus .jessibuca-contextmenu span:hover{color:var(--theme)}.jessibuca-container .jessibuca-contextmenus .jessibuca-contextmenu:hover{background-color:hsla(0,0%,100%,.1)}.jessibuca-container .jessibuca-contextmenus .jessibuca-contextmenu:last-child{border-bottom:none}.jessibuca-container.jessibuca-contextmenus-show .jessibuca-contextmenus{display:flex}.jessibuca-container-playback .jessibuca-controls{height:48px}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center{flex:1;display:flex;box-sizing:border-box;justify-content:space-between;font-size:12px}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-controls-playback-time{box-sizing:border-box;flex:1;position:relative;height:100%}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-controls-playback-time-inner{width:300px;height:100%;overflow-y:hidden;overflow-x:auto}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-controls-playback-current-time{position:absolute;left:0;top:0;height:15px;width:1px;background-color:red;text-align:center;z-index:1}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-controls-playback-current-time-text{position:absolute;box-sizing:border-box;padding:0 5px;width:60px;left:-25px;top:15px;border:1px solid red;height:15px;line-height:15px;cursor:move;background-color:#fff;color:#000;-webkit-user-select:none;user-select:none}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-controls-playback-time-scroll{position:relative;width:1440px;margin:0 auto}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-controls-playback-time-scroll.one-hour{width:1440px}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-controls-playback-time-scroll.half-hour{width:2880px}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-controls-playback-time-scroll.ten-min{width:8640px}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-controls-playback-time-scroll.five-min{width:17280px}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-controls-playback-time-scroll.one-min{width:86400px}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-controls-playback-time-list{position:relative;background-color:#ccc;height:48px}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-day{height:100%;overflow:hidden}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-one-wrap{height:8px;z-index:1}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-second-wrap{height:25px}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-controls-playback-btns{display:flex;align-items:center}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-minute-one,.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-second-one{float:left;width:1px;height:8px;margin:0;cursor:default;position:relative;z-index:1}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-minute-one.active,.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-second-one.active{background-color:orange;cursor:pointer}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-minute-one.start,.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-second-one.start{background-color:#999}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-minute-one:hover .jessibuca-playback-time-title-tips,.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-second-one:hover .jessibuca-playback-time-title-tips{visibility:visible;opacity:1}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-title-tips{pointer-events:none;position:absolute;left:0;top:100%;visibility:hidden;opacity:0;transform:translateX(13%);transition:visibility .3s ease 0s,opacity .3s ease 0s;background-color:#000;border-radius:4px;z-index:1}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-title-tips.jessibuca-playback-time-title-tips-left{transform:translateX(-100%)}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-title-tips .jessibuca-playback-time-title{display:inline-block;padding:2px 5px;font-size:12px;white-space:nowrap;color:#fff}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-hour,.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-minute{float:left;position:relative;width:60px;box-sizing:border-box;border-top:1px solid #999;-webkit-user-select:none;user-select:none;text-align:left;height:25px;line-height:25px}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-hour:first-child,.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-minute:first-child{border-left:0}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-hour:first-child .jessibuca-playback-time-hour-text,.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-minute:first-child .jessibuca-playback-time-hour-text{left:0}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-hour:after,.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-minute:after{content:"";position:absolute;left:0;top:-8px;width:1px;height:14px;background-color:#999}.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-hour-text,.jessibuca-container-playback .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-center .jessibuca-playback-time-minute-text{position:absolute;left:-13px}.jessibuca-container-playback .jessibuca-playback-expand.disabled .jessibuca-icon-expand,.jessibuca-container-playback .jessibuca-playback-narrow.disabled .jessibuca-icon-narrow{cursor:no-drop}.jessibuca-container-playback.jessibuca-fullscreen-web .jessibuca-controls .jessibuca-controls-bottom .jessibuca-controls-playback-time-inner{overflow-y:auto}.jessibuca-zoom-control{cursor:grab}.jessibuca-performance-panel{position:absolute;box-sizing:border-box;z-index:10000;left:0;top:0;padding:5px;font-size:10px;background:rgba(0,0,0,.2);color:#fff;max-height:100%;overflow-y:auto;display:none}.jessibuca-performance-panel .jessibuca-performance-item{display:flex;align-items:center;margin-top:3px;color:#fff}.jessibuca-performance-panel .jessibuca-performance-item-block{height:10px}');class ku{constructor(R){this.player=R,this.extendBtnList=[],Se=this,(de=R)._opt.hasControl&&de._opt.controlAutoHide?de.$container.classList.add("jessibuca-controls-show-auto-hide"):de.$container.classList.add("jessibuca-controls-show"),Pe=de._opt,xe=Pe.operateBtns,Oe=`
        <div class="jessibuca-controls-center">
            <div class="jessibuca-controls-playback-time">
                <div class="jessibuca-controls-playback-time-inner">
                    <div class="jessibuca-controls-playback-time-scroll">
                        <div class="jessibuca-controls-playback-time-list">
                            <div class="jessibuca-playback-time-day">
                                <div class="jessibuca-playback-time-one-wrap"></div>
                                <div class="jessibuca-playback-time-second-wrap"></div>
                            </div>
                        </div>
                        <div class="jessibuca-controls-playback-current-time">
                            <div class="jessibuca-controls-playback-current-time-text">00:00:00</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="jessibuca-controls-playback-btns">
                <div class="jessibuca-controls-item jessibuca-playback-narrow">${ar.narrow}</div>
                <div class="jessibuca-controls-item jessibuca-playback-expand">${ar.expand}</div>
            </div>
        </div>
    `,de.$container.insertAdjacentHTML("beforeend",`
            ${Pe.background?`<div class="jessibuca-poster" style="background-image: url(${Pe.background})"></div>`:""}
            <div class="jessibuca-loading-bg">
                <img class="jessibuca-loading-bg-image" src="" alt="">
            </div>
            ${Pe.loadingIcon?`
            <div class="jessibuca-loading">
                ${ar.loading}
                ${Pe.loadingText?`<div class="jessibuca-loading-text">${Pe.loadingText}</div>`:""}
            </div>
            `:""}
            ${Pe.hasControl&&xe.play?'<div class="jessibuca-play-big"></div>':""}
            ${Pe.hasControl&&xe.ptz?`
            <div class="jessibuca-ptz-controls">
                <div class="jessibuca-ptz-bg-active"></div>
                <div class="jessibuca-ptz-arrow jessibuca-ptz-arrow-up" data-arrow="up"></div>
                <div class="jessibuca-ptz-arrow jessibuca-ptz-arrow-right" data-arrow="right"></div>
                <div class="jessibuca-ptz-arrow jessibuca-ptz-arrow-down" data-arrow="down"></div>
                <div class="jessibuca-ptz-arrow jessibuca-ptz-arrow-left" data-arrow="left"></div>
                ${Pe.ptzMoreArrowShow?`
                    <div class="jessibuca-ptz-arrow jessibuca-ptz-arrow-left-up" data-arrow="left-up"></div>
                    <div class="jessibuca-ptz-arrow jessibuca-ptz-arrow-right-up" data-arrow="right-up"></div>
                    <div class="jessibuca-ptz-arrow jessibuca-ptz-arrow-left-down" data-arrow="left-down"></div>
                    <div class="jessibuca-ptz-arrow jessibuca-ptz-arrow-right-down" data-arrow="right-down"></div>
                    `:""}
                <div class="jessibuca-ptz-control"></div>
                <div class="jessibuca-ptz-btns">
                    ${Pe.ptzZoomShow?`
                            <div class="jessibuca-ptz-btn">
                                <div class="jessibuca-ptz-expand jessibuca-ptz-icon">
                                    <i class="jessibuca-ptz-expand-icon"></i>
                                    <span class="icon-title-tips">
                                        <span class="icon-title">缩放+</span>
                                    </span>
                                </div>
                                <div class="jessibuca-ptz-narrow jessibuca-ptz-icon">
                                    <i class="jessibuca-ptz-narrow-icon"></i>
                                    <span class="icon-title-tips">
                                        <span class="icon-title">缩放-</span>
                                    </span>
                                </div>
                            </div>
                            `:""}
                    ${Pe.ptzApertureShow?`
                            <div class="jessibuca-ptz-btn">
                                <div class="jessibuca-ptz-aperture-far jessibuca-ptz-icon">
                                    <i class="jessibuca-ptz-aperture-icon"></i>
                                    <span class="icon-title-tips">
                                        <span class="icon-title">光圈+</span>
                                    </span>
                                </div>
                                <div class="jessibuca-ptz-aperture-near jessibuca-ptz-icon">
                                    <i class="jessibuca-ptz-aperture-icon"></i>
                                    <span class="icon-title-tips">
                                        <span class="icon-title">光圈-</span>
                                    </span>
                                </div>
                            </div>
                            `:""}
                    ${Pe.ptzFocusShow?`
                            <div class="jessibuca-ptz-btn">
                                <div class="jessibuca-ptz-focus-far jessibuca-ptz-icon">
                                    <i class="jessibuca-ptz-focus-icon"></i>
                                    <span class="icon-title-tips">
                                        <span class="icon-title">聚焦+</span>
                                    </span>
                                </div>
                                <div class="jessibuca-ptz-focus-near jessibuca-ptz-icon">
                                    <i class="jessibuca-ptz-focus-icon"></i>
                                    <span class="icon-title-tips">
                                        <span class="icon-title">聚焦-</span>
                                    </span>
                                </div>
                            </div>
                            `:""}
                </div>

            </div>
            `:""}
           ${Pe.hasVideo?`
            <div class="jessibuca-zoom-controls">
                <div class="jessibuca-zoom-narrow">${ar.narrow}</div>
                <div class="jessibuca-zoom-tips">电子放大</div>
                <div class="jessibuca-zoom-expand">${ar.expand}</div>
                <div class="jessibuca-zoom-stop2">${ar.zoomStop}</div>
            </div>
            <div class="jessibuca-recording">
                <div class="jessibuca-recording-red-point"></div>
                <div class="jessibuca-recording-time">00:00:00</div>
                <div class="jessibuca-icon-recordStop jessibuca-recording-stop">${ar.recordStop}</div>
            </div>
           `:""}

            ${Pe.hasControl?`
                <div class="jessibuca-controls">
                    <div class="jessibuca-controls-bottom">
                        <div class="jessibuca-controls-left">
                            ${Pe.showBandwidth?'<div class="jessibuca-controls-item jessibuca-speed"></div>':""}
                            <div class="jessibuca-controls-item-html">${Pe.controlHtml}</div>
                        </div>
                        ${Pe.playType===We&&Pe.playbackConfig.showControl?Oe:""}

                        <div class="jessibuca-controls-right">
                            ${Pe.playType===We&&Pe.playbackConfig.showRateBtn?`
                                 <div class="jessibuca-controls-item-wrap">
                                    <div class="jessibuca-controls-item jessibuca-speed-menu">
                                        <div class="jessibuca-speed-icon-text"></div>
                                        <div class="jessibuca-speed-menu-list"></div>
                                    </div>
                                 </div>
                             `:""}
                             ${xe.close?`<div class="jessibuca-controls-item-wrap"><div class="jessibuca-controls-item jessibuca-close">${ar.close}</div></div>`:""}
                             ${xe.performance?`<div class="jessibuca-controls-item-wrap"><div class="jessibuca-controls-item jessibuca-performance">${ar.performance}</div><div class="jessibuca-controls-item jessibuca-performance-active">${ar.performanceActive}</div></div>`:""}
                             ${xe.aiFace?`<div class="jessibuca-controls-item-wrap"><div class="jessibuca-controls-item jessibuca-face">${ar.face}</div><div class="jessibuca-controls-item jessibuca-face-active">${ar.faceActive}</div></div>`:""}
                             ${xe.quality?`
                                 <div class="jessibuca-controls-item-wrap">
                                    <div class="jessibuca-controls-item jessibuca-quality-menu">
                                        <div class="jessibuca-quality-icon-text"></div>
                                        <div class="jessibuca-quality-menu-list"></div>
                                    </div>
                                 </div>
                             `:""}
                             ${xe.scale?`
                                 <div class="jessibuca-controls-item-wrap">
                                    <div class="jessibuca-controls-item jessibuca-scale-menu">
                                        <div class="jessibuca-scale-icon-text"></div>
                                        <div class="jessibuca-scale-menu-list"></div>
                                     </div>
                                 </div>
                             `:""}
                             ${xe.audio?`
                                <div class="jessibuca-controls-item-wrap">
                                    <div class="jessibuca-controls-item jessibuca-volume">
                                         ${ar.audio}
                                         ${ar.mute}
                                         <div class="jessibuca-volume-panel-wrap">
                                              <div class="jessibuca-volume-panel">
                                                     <div class="jessibuca-volume-panel-handle"></div>
                                              </div>
                                              <div class="jessibuca-volume-panel-text"></div>
                                         </div>
                                     </div>
                                </div>
                             `:""}
                             ${xe.play?`<div class="jessibuca-controls-item-wrap"><div class="jessibuca-controls-item jessibuca-play">${ar.play}</div><div class="jessibuca-controls-item jessibuca-pause">${ar.pause}</div></div>`:""}
                             ${xe.screenshot?`<div class="jessibuca-controls-item-wrap"><div class="jessibuca-controls-item jessibuca-screenshot">${ar.screenshot}</div></div>`:""}
                             ${xe.record?` <div class="jessibuca-controls-item-wrap"><div class="jessibuca-controls-item jessibuca-record">${ar.record}</div><div class="jessibuca-controls-item jessibuca-record-stop">${ar.recordStop}</div></div>`:""}
                             ${xe.ptz?` <div class="jessibuca-controls-item-wrap"><div class="jessibuca-controls-item jessibuca-ptz">${ar.ptz}</div><div class="jessibuca-controls-item jessibuca-ptz-active">${ar.ptzActive}</div></div>`:""}
                             ${xe.zoom?` <div class="jessibuca-controls-item-wrap"><div class="jessibuca-controls-item jessibuca-zoom">${ar.zoom}</div><div class="jessibuca-controls-item jessibuca-zoom-stop">${ar.zoomStop}</div></div>`:""}
                             ${xe.fullscreen?`<div class="jessibuca-controls-item-wrap"><div class="jessibuca-controls-item jessibuca-fullscreen">${ar.fullscreen}</div><div class="jessibuca-controls-item jessibuca-fullscreen-exit">${ar.fullscreenExit}</div></div>`:""}
                        </div>
                    </div>
                </div>
            `:""}
             <div class="jessibuca-performance-panel"></div>
             <div class="jessibuca-contextmenus"></div>
        `),Object.defineProperty(Se,"$poster",{value:de.$container.querySelector(".jessibuca-poster")}),Object.defineProperty(Se,"$loadingBg",{value:de.$container.querySelector(".jessibuca-loading-bg")}),Object.defineProperty(Se,"$loadingBgImage",{value:de.$container.querySelector(".jessibuca-loading-bg-image")}),Object.defineProperty(Se,"$loading",{value:de.$container.querySelector(".jessibuca-loading")}),Object.defineProperty(Se,"$play",{value:de.$container.querySelector(".jessibuca-play")}),Object.defineProperty(Se,"$playBig",{value:de.$container.querySelector(".jessibuca-play-big")}),Object.defineProperty(Se,"$recording",{value:de.$container.querySelector(".jessibuca-recording")}),Object.defineProperty(Se,"$recordingTime",{value:de.$container.querySelector(".jessibuca-recording-time")}),Object.defineProperty(Se,"$recordingStop",{value:de.$container.querySelector(".jessibuca-recording-stop")}),Object.defineProperty(Se,"$pause",{value:de.$container.querySelector(".jessibuca-pause")}),Object.defineProperty(Se,"$controls",{value:de.$container.querySelector(".jessibuca-controls")}),Object.defineProperty(Se,"$controlsInner",{value:de.$container.querySelector(".jessibuca-controls-bottom")}),Object.defineProperty(Se,"$controlsLeft",{value:de.$container.querySelector(".jessibuca-controls-left")}),Object.defineProperty(Se,"$controlsRight",{value:de.$container.querySelector(".jessibuca-controls-right")}),Object.defineProperty(Se,"$volume",{value:de.$container.querySelector(".jessibuca-volume")}),Object.defineProperty(Se,"$volumePanelWrap",{value:de.$container.querySelector(".jessibuca-volume-panel-wrap")}),Object.defineProperty(Se,"$volumePanelText",{value:de.$container.querySelector(".jessibuca-volume-panel-text")}),Object.defineProperty(Se,"$volumePanel",{value:de.$container.querySelector(".jessibuca-volume-panel")}),Object.defineProperty(Se,"$volumeHandle",{value:de.$container.querySelector(".jessibuca-volume-panel-handle")}),Object.defineProperty(Se,"$volumeOn",{value:de.$container.querySelector(".jessibuca-icon-audio")}),Object.defineProperty(Se,"$volumeOff",{value:de.$container.querySelector(".jessibuca-icon-mute")}),Object.defineProperty(Se,"$fullscreen",{value:de.$container.querySelector(".jessibuca-fullscreen")}),Object.defineProperty(Se,"$fullscreenExit",{value:de.$container.querySelector(".jessibuca-fullscreen-exit")}),Object.defineProperty(Se,"$record",{value:de.$container.querySelector(".jessibuca-record")}),Object.defineProperty(Se,"$recordStop",{value:de.$container.querySelector(".jessibuca-record-stop")}),Object.defineProperty(Se,"$screenshot",{value:de.$container.querySelector(".jessibuca-screenshot")}),Object.defineProperty(Se,"$speed",{value:de.$container.querySelector(".jessibuca-speed")}),Object.defineProperty(Se,"$controlHtml",{value:de.$container.querySelector(".jessibuca-controls-item-html")}),Object.defineProperty(Se,"$playbackTime",{value:de.$container.querySelector(".jessibuca-controls-playback-time")}),Object.defineProperty(Se,"$playbackTimeInner",{value:de.$container.querySelector(".jessibuca-controls-playback-time-inner")}),Object.defineProperty(Se,"$playbackTimeScroll",{value:de.$container.querySelector(".jessibuca-controls-playback-time-scroll")}),Object.defineProperty(Se,"$playbackTimeList",{value:de.$container.querySelector(".jessibuca-controls-playback-time-list")}),Object.defineProperty(Se,"$playbackTimeListOne",{value:de.$container.querySelector(".jessibuca-playback-time-one-wrap")}),Object.defineProperty(Se,"$playbackTimeListSecond",{value:de.$container.querySelector(".jessibuca-playback-time-second-wrap")}),Object.defineProperty(Se,"$playbackCurrentTime",{value:de.$container.querySelector(".jessibuca-controls-playback-current-time")}),Object.defineProperty(Se,"$playbackCurrentTimeText",{value:de.$container.querySelector(".jessibuca-controls-playback-current-time-text")}),Object.defineProperty(Se,"$controlsPlaybackBtns",{value:de.$container.querySelector(".jessibuca-controls-playback-btns")}),Object.defineProperty(Se,"$playbackNarrow",{value:de.$container.querySelector(".jessibuca-playback-narrow")}),Object.defineProperty(Se,"$playbackExpand",{value:de.$container.querySelector(".jessibuca-playback-expand")}),Object.defineProperty(Se,"$ptz",{value:de.$container.querySelector(".jessibuca-ptz")}),Object.defineProperty(Se,"$ptzActive",{value:de.$container.querySelector(".jessibuca-ptz-active")}),Object.defineProperty(Se,"$ptzControl",{value:de.$container.querySelector(".jessibuca-ptz-controls")}),Object.defineProperty(Se,"$ptzBgActive",{value:de.$container.querySelector(".jessibuca-ptz-bg-active")}),Object.defineProperty(Se,"$ptzControlCircular",{value:de.$container.querySelector(".jessibuca-ptz-control")}),Object.defineProperty(Se,"$ptzArrows",{value:de.$container.querySelectorAll(".jessibuca-ptz-arrow")}),Object.defineProperty(Se,"$ptzExpand",{value:de.$container.querySelector(".jessibuca-ptz-expand")}),Object.defineProperty(Se,"$ptzNarrow",{value:de.$container.querySelector(".jessibuca-ptz-narrow")}),Object.defineProperty(Se,"$ptzApertureFar",{value:de.$container.querySelector(".jessibuca-ptz-aperture-far")}),Object.defineProperty(Se,"$ptzApertureNear",{value:de.$container.querySelector(".jessibuca-ptz-aperture-near")}),Object.defineProperty(Se,"$ptzFocusFar",{value:de.$container.querySelector(".jessibuca-ptz-focus-far")}),Object.defineProperty(Se,"$ptzFocusNear",{value:de.$container.querySelector(".jessibuca-ptz-focus-near")}),Object.defineProperty(Se,"$qualityText",{value:de.$container.querySelector(".jessibuca-quality-icon-text")}),Object.defineProperty(Se,"$qualityMenu",{value:de.$container.querySelector(".jessibuca-quality-menu")}),Object.defineProperty(Se,"$qualityMenuList",{value:de.$container.querySelector(".jessibuca-quality-menu-list")}),Object.defineProperty(Se,"$scaleText",{value:de.$container.querySelector(".jessibuca-scale-icon-text")}),Object.defineProperty(Se,"$scaleMenu",{value:de.$container.querySelector(".jessibuca-scale-menu")}),Object.defineProperty(Se,"$scaleMenuList",{value:de.$container.querySelector(".jessibuca-scale-menu-list")}),Object.defineProperty(Se,"$zoom",{value:de.$container.querySelector(".jessibuca-zoom")}),Object.defineProperty(Se,"$zoomStop",{value:de.$container.querySelector(".jessibuca-zoom-stop")}),Object.defineProperty(Se,"$zoomNarrow",{value:de.$container.querySelector(".jessibuca-zoom-narrow")}),Object.defineProperty(Se,"$zoomExpand",{value:de.$container.querySelector(".jessibuca-zoom-expand")}),Object.defineProperty(Se,"$zoomStop2",{value:de.$container.querySelector(".jessibuca-zoom-stop2")}),Object.defineProperty(Se,"$close",{value:de.$container.querySelector(".jessibuca-close")}),Object.defineProperty(Se,"$zoomControls",{value:de.$container.querySelector(".jessibuca-zoom-controls")}),Object.defineProperty(Se,"$performancePanel",{value:de.$container.querySelector(".jessibuca-performance-panel")}),Object.defineProperty(Se,"$performance",{value:de.$container.querySelector(".jessibuca-performance")}),Object.defineProperty(Se,"$performanceActive",{value:de.$container.querySelector(".jessibuca-performance-active")}),Object.defineProperty(Se,"$faceDetect",{value:de.$container.querySelector(".jessibuca-face")}),Object.defineProperty(Se,"$faceDetectActive",{value:de.$container.querySelector(".jessibuca-face-active")}),Object.defineProperty(Se,"$contextmenus",{value:de.$container.querySelector(".jessibuca-contextmenus")}),Object.defineProperty(Se,"$speedText",{value:de.$container.querySelector(".jessibuca-speed-icon-text")}),Object.defineProperty(Se,"$speedMenu",{value:de.$container.querySelector(".jessibuca-speed-menu")}),Object.defineProperty(Se,"$speedMenuList",{value:de.$container.querySelector(".jessibuca-speed-menu-list")}),0<R._opt.extendOperateBtns.length&&R._opt.extendOperateBtns.forEach(Fe=>{this.addExtendBtn(Fe)}),fe=this,Object.defineProperty(fe,"controlsRect",{get:()=>fe.$controls.getBoundingClientRect()}),Object.defineProperty(fe,"controlsInnerRect",{get:()=>fe.$controlsInner.getBoundingClientRect()}),Object.defineProperty(fe,"controlsLeftRect",{get:()=>fe.$controlsLeft.getBoundingClientRect()}),Object.defineProperty(fe,"controlsRightRect",{get:()=>fe.$controlsRight.getBoundingClientRect()}),Object.defineProperty(fe,"controlsPlaybackTimeInner",{get:()=>fe.$playbackTimeInner&&fe.$playbackTimeInner.getBoundingClientRect()||{}}),Object.defineProperty(fe,"controlsPlaybackBtnsRect",{get:()=>fe.$controlsPlaybackBtns&&fe.$controlsPlaybackBtns.getBoundingClientRect()||{width:0}}),gl(R,this);{let ee=function(se){var{bottom:he,height:ce}=ae.$volumePanel.getBoundingClientRect(),Ae=ae.$volumeHandle.getBoundingClientRect().height;return ls(he-se.y-Ae/2,0,ce-Ae/2)/(ce-Ae)};var ie=R,ae=this;const Fe=ie.events.proxy,ye=ie._opt,Ne=ye.operateBtns;if(Fe(window,["click","contextmenu"],se=>{-1<se.composedPath().indexOf(ie.$container)?ae.isFocus=!0:ae.isFocus=!1}),Fe(window,"orientationchange",()=>{setTimeout(()=>{ie.resize()},300)}),Fe(ae.$controls,"click",se=>{se.stopPropagation()}),Ne.play&&(Fe(ae.$pause,"click",se=>{ye.playType===We&&ye.playbackConfig.uiUsePlaybackPause?ie.playbackPause=!0:us(Ne.pauseFn)?Ne.pauseFn():ie.pause()}),Fe(ae.$play,"click",se=>{ye.playType===We&&ie.playbackPause?ie.playbackPause=!1:us(Ne.playFn)?Ne.playFn():(ie.play(),ie.resumeAudioAfterPause())})),Fe(ae.$playBig,"click",se=>{ye.playType===We&&ie.playbackPause?ie.playbackPause=!1:us(Ne.playFn)?Ne.playFn():(ie.play(),ie.resumeAudioAfterPause())}),Ne.screenshot&&Fe(ae.$screenshot,"click",se=>{se.stopPropagation(),us(Ne.screenshotFn)?Ne.screenshotFn():ie.video.screenshot()}),Ne.audio&&(Fe(ae.$volume,"mouseover",()=>{ae.$volumePanelWrap.classList.add("jessibuca-volume-panel-wrap-show")}),Fe(ae.$volume,"mouseout",()=>{ae.$volumePanelWrap.classList.remove("jessibuca-volume-panel-wrap-show")}),Fe(ae.$volumeOn,"click",se=>{se.stopPropagation(),ri(ae.$volumeOn,"display","none"),ri(ae.$volumeOff,"display","block"),se=ie.volume,ie.volume=0,ie._lastVolume=se}),Fe(ae.$volumeOff,"click",se=>{se.stopPropagation(),ri(ae.$volumeOn,"display","block"),ri(ae.$volumeOff,"display","none"),ie.volume=ie.lastVolume||.5}),Fe(ae.$volumePanel,"click",se=>{se.stopPropagation(),ie.volume=ee(se)}),Fe(ae.$volumeHandle,"mousedown",()=>{ae.isVolumeDroging=!0}),Fe(ae.$volumeHandle,"mousemove",se=>{ae.isVolumeDroging&&(ie.volume=ee(se))}),Fe(document,"mouseup",()=>{ae.isVolumeDroging&&(ae.isVolumeDroging=!1)})),Ne.record&&(Fe(ae.$record,"click",se=>{se.stopPropagation(),us(Ne.recordFn)?Ne.recordFn():ie.recording=!0}),Fe(ae.$recordStop,"click",se=>{se.stopPropagation(),us(Ne.recordStopFn)?Ne.recordStopFn():ie.recording=!1})),Fe(ae.$recordingStop,"click",se=>{se.stopPropagation(),us(Ne.recordStopFn)?Ne.recordStopFn():ie.recording=!1}),Ne.fullscreen&&(Fe(ae.$fullscreen,"click",se=>{se.stopPropagation(),us(Ne.fullscreenFn)?Ne.fullscreenFn():ie.fullscreen=!0}),Fe(ae.$fullscreenExit,"click",se=>{se.stopPropagation(),us(Ne.fullscreenExitFn)?Ne.fullscreenExitFn():ie.fullscreen=!1})),Ne.ptz){if(Fe(ae.$ptz,"click",se=>{se.stopPropagation(),ri(ae.$ptzActive,"display","flex"),ri(ae.$ptz,"display","none"),ae.$ptzControl.classList.add("jessibuca-ptz-controls-show")}),Fe(ae.$ptzActive,"click",se=>{se.stopPropagation(),ri(ae.$ptz,"display","flex"),ri(ae.$ptzActive,"display","none"),ae.$ptzControl.classList.remove("jessibuca-ptz-controls-show")}),ae.$ptzArrows.forEach(se=>{if(ye.ptzClickType===wt)Fe(se,"click",he=>{he.stopPropagation(),he=he.currentTarget.dataset.arrow,ae.$ptzBgActive.classList.add("jessibuca-ptz-bg-active-show"),ae.$ptzBgActive.classList.add("jessibuca-ptz-bg-active-"+he),ae.$ptzControlCircular.classList.add("jessibuca-ptz-control-"+he),ie.emit(d0.ptz,G2(he)),setTimeout(()=>{ae.$ptzBgActive.classList.remove("jessibuca-ptz-bg-active-show"),Ki.forEach(ce=>{ae.$ptzBgActive.classList.remove("jessibuca-ptz-bg-active-"+ce),ae.$ptzControlCircular.classList.remove("jessibuca-ptz-control-"+ce)}),ie.emit(d0.ptz,Vn)},1e3*ye.ptzStopEmitDelay)});else if(ye.ptzClickType===di){let he=!1;Fe(se,"mousedown",Ae=>{Ae.stopPropagation(),he=!0,Ae=Ae.currentTarget.dataset.arrow,ae.$ptzBgActive.classList.add("jessibuca-ptz-bg-active-show"),ae.$ptzBgActive.classList.add("jessibuca-ptz-bg-active-"+Ae),ae.$ptzControlCircular.classList.add("jessibuca-ptz-control-"+Ae),ie.emit(d0.ptz,G2(Ae))});const ce=()=>{he=!1,ae.$ptzBgActive.classList.remove("jessibuca-ptz-bg-active-show"),Ki.forEach(Ae=>{ae.$ptzBgActive.classList.remove("jessibuca-ptz-bg-active-"+Ae),ae.$ptzControlCircular.classList.remove("jessibuca-ptz-control-"+Ae)}),ie.emit(d0.ptz,Vn)};Fe(se,"mouseup",Ae=>{Ae.stopPropagation(),he&&ce()}),Fe(window,"mouseup",Ae=>{Ae.stopPropagation(),he&&ce()})}}),ye.ptzZoomShow){if(ye.ptzClickType===wt)Fe(ae.$ptzExpand,"click",se=>{se.stopPropagation(),ie.emit(d0.ptz,y0),setTimeout(()=>{ie.emit(d0.ptz,Vn)},1e3*ye.ptzStopEmitDelay)}),Fe(ae.$ptzNarrow,"click",se=>{se.stopPropagation(),ie.emit(d0.ptz,po),setTimeout(()=>{ie.emit(d0.ptz,Vn)},1e3*ye.ptzStopEmitDelay)});else if(ye.ptzClickType===di){let se=!1,he=!1;Fe(ae.$ptzExpand,"mousedown",Ae=>{Ae.stopPropagation(),se=!0,ie.emit(d0.ptz,y0)}),Fe(ae.$ptzNarrow,"mousedown",Ae=>{Ae.stopPropagation(),he=!0,ie.emit(d0.ptz,po)});const ce=()=>{se=!1,he=!1,ie.emit(d0.ptz,Vn)};Fe(ae.$ptzExpand,"mouseup",Ae=>{Ae.stopPropagation(),se&&ce()}),Fe(ae.$ptzNarrow,"mouseup",Ae=>{Ae.stopPropagation(),he&&ce()}),Fe(window,"mouseup",Ae=>{Ae.stopPropagation(),(se||he)&&ce()})}}if(ye.ptzApertureShow){if(ye.ptzClickType===wt)Fe(ae.$ptzApertureFar,"click",se=>{se.stopPropagation(),ie.emit(d0.ptz,At),setTimeout(()=>{ie.emit(d0.ptz,an)},1e3*ye.ptzStopEmitDelay)}),Fe(ae.$ptzApertureNear,"click",se=>{se.stopPropagation(),ie.emit(d0.ptz,k1),setTimeout(()=>{ie.emit(d0.ptz,an)},1e3*ye.ptzStopEmitDelay)});else if(ye.ptzClickType===di){let se=!1,he=!1;Fe(ae.$ptzApertureFar,"mousedown",Ae=>{Ae.stopPropagation(),se=!0,ie.emit(d0.ptz,At)}),Fe(ae.$ptzApertureNear,"mousedown",Ae=>{Ae.stopPropagation(),he=!0,ie.emit(d0.ptz,k1)});const ce=()=>{se=!1,he=!1,ie.emit(d0.ptz,an)};Fe(ae.$ptzApertureFar,"mouseup",Ae=>{Ae.stopPropagation(),se&&ce()}),Fe(ae.$ptzApertureNear,"mouseup",Ae=>{Ae.stopPropagation(),he&&ce()}),Fe(window,"mouseup",Ae=>{Ae.stopPropagation(),(se||he)&&ce()})}}if(ye.ptzFocusShow){if(ye.ptzClickType===wt)Fe(ae.$ptzFocusFar,"click",se=>{se.stopPropagation(),ie.emit(d0.ptz,qt),setTimeout(()=>{ie.emit(d0.ptz,an)},1e3*ye.ptzStopEmitDelay)}),Fe(ae.$ptzFocusNear,"click",se=>{se.stopPropagation(),ie.emit(d0.ptz,g2),setTimeout(()=>{ie.emit(d0.ptz,an)},1e3*ye.ptzStopEmitDelay)});else if(ye.ptzClickType===di){let se=!1,he=!1;Fe(ae.$ptzFocusFar,"mousedown",Ae=>{Ae.stopPropagation(),se=!0,ie.emit(d0.ptz,qt)}),Fe(ae.$ptzFocusNear,"mousedown",Ae=>{Ae.stopPropagation(),he=!0,ie.emit(d0.ptz,g2)});const ce=()=>{se=!1,he=!1,ie.emit(d0.ptz,an)};Fe(ae.$ptzFocusFar,"mouseup",Ae=>{Ae.stopPropagation(),se&&ce()}),Fe(ae.$ptzFocusNear,"mouseup",Ae=>{Ae.stopPropagation(),he&&ce()}),Fe(window,"mouseup",Ae=>{Ae.stopPropagation(),(se||he)&&ce()})}}}if(Ne.performance&&(Fe(ae.$performance,"click",se=>{se.stopPropagation(),ie.togglePerformancePanel(!0)}),Fe(ae.$performanceActive,"click",se=>{se.stopPropagation(),ie.togglePerformancePanel(!1)})),Ne.aiFace&&(Fe(ae.$faceDetect,"click",se=>{se.stopPropagation(),ie.faceDetect(!0)}),Fe(ae.$faceDetectActive,"click",se=>{se.stopPropagation(),ie.faceDetect(!1)})),ie._opt.hasControl&&ie._opt.controlAutoHide){Fe(ie.$container,"mouseover",()=>{ie.fullscreen||(ri(ae.$controls,"display","block"),he())}),Fe(ie.$container,"mousemove",()=>{ie.$container&&ae.$controls&&(ie.fullscreen,ae.$controls.style.display==="none")&&(ri(ae.$controls,"display","block"),he())}),Fe(ie.$container,"mouseout",()=>{ce(),ri(ae.$controls,"display","none")});let se=null;const he=()=>{ce(),se=setTimeout(()=>{ri(ae.$controls,"display","none")},5e3)},ce=()=>{se&&(clearTimeout(se),se=null)}}ie._opt.playType===We&&(Fe(ae.$playbackNarrow,"click",se=>{se.stopPropagation(),ie.playback&&ie.playback.narrowPrecision()}),Fe(ae.$playbackExpand,"click",se=>{se.stopPropagation(),ie.playback&&ie.playback.expandPrecision()}),Fe(ae.$playbackTimeList,"click",se=>{se=Is(se),se.matches("div.jessibuca-playback-time-minute-one")&&ie.playback&&ie.playback.seek(se.dataset)}),ie._opt.playbackConfig.showRateBtn&&(Fe(ae.$speedMenu,"mouseover",()=>{ae.$speedMenuList.classList.add("jessibuca-speed-menu-shown")}),Fe(ae.$speedMenu,"mouseout",()=>{ae.$speedMenuList.classList.remove("jessibuca-speed-menu-shown")}),Fe(ae.$speedMenuList,"click",se=>{var he=Is(se);if(he.matches("div.jessibuca-speed-menu-item")){const ce=he.dataset;ie.emit(d0.playbackPreRateChange,ce.speed)}})),ie._opt.playbackConfig.supportWheel)&&Fe(ae.$playbackTimeInner,"wheel",se=>{se.preventDefault(),0<(se.wheelDelta?se.wheelDelta/120:-(se.detail||0)/3)?ie.playback&&ie.playback.expandPrecision():ie.playback&&ie.playback.narrowPrecision()}),Ne.quality&&(Fe(ae.$qualityMenu,"mouseover",()=>{ae.$qualityMenuList.classList.add("jessibuca-quality-menu-shown")}),Fe(ae.$qualityMenu,"mouseout",()=>{ae.$qualityMenuList.classList.remove("jessibuca-quality-menu-shown")}),Fe(ae.$qualityMenuList,"click",se=>{var he=Is(se);if(he.matches("div.jessibuca-quality-menu-item")){const ce=he.dataset;ie.streamQuality=ce.quality}})),Ne.scale&&(Fe(ae.$scaleMenu,"mouseover",()=>{ae.$scaleMenuList.classList.add("jessibuca-scale-menu-shown")}),Fe(ae.$scaleMenu,"mouseout",()=>{ae.$scaleMenuList.classList.remove("jessibuca-scale-menu-shown")}),Fe(ae.$scaleMenuList,"click",se=>{var he=Is(se);if(he.matches("div.jessibuca-scale-menu-item")){const ce=he.dataset;ie.setScaleMode(ce.scale)}})),Ne.zoom&&(Fe(ae.$zoom,"click",se=>{se.stopPropagation(),ie.zooming=!0}),Fe(ae.$zoomStop,"click",se=>{se.stopPropagation(),ie.zooming=!1})),Fe(ae.$zoomExpand,"click",se=>{se.stopPropagation(),ie.zoom&&ie.zoom.expandPrecision()}),Fe(ae.$zoomNarrow,"click",se=>{se.stopPropagation(),ie.zoom&&ie.zoom.narrowPrecision()}),Fe(ae.$zoomStop2,"click",se=>{se.stopPropagation(),ie.zooming=!1}),Ne.close&&Fe(ae.$close,"click",se=>{se.stopPropagation(),ie.doDestroy()})}if(R._opt.hotKey){let Ne=function(ee,se){ye[ee]?ye[ee].push(se):ye[ee]=[se]};var we=R,_e=this;const Fe=we.events.proxy,ye={};Ne(27,()=>{we.fullscreen&&(we.fullscreen=!1)}),Ne(38,()=>{we.volume+=.05}),Ne(40,()=>{we.volume-=.05}),Fe(window,"keydown",ee=>{if(_e.isFocus){const se=document.activeElement.tagName.toUpperCase(),he=document.activeElement.getAttribute("contenteditable");if(se!=="INPUT"&&se!=="TEXTAREA"&&he!==""&&he!=="true"){const ce=ye[ee.keyCode];ce&&(ee.preventDefault(),ce.forEach(Ae=>Ae()))}}})}var fe,de,Se,Pe,xe,Oe;this.btnIndex=0,this.kbpsShow="0 KB/s",this.initLoadingBackground(),this.player.debug.log("Control","init")}destroy(){var R;this.$performancePanel&&(this.$performancePanel.innerHTML="",bs(this.$performancePanel)||(R=this.player.$container.querySelector(".jessibuca-performance-panel"))&&this.player.$container&&this.player.$container.removeChild(R)),this.$poster&&!bs(this.$poster)&&(R=this.player.$container.querySelector(".jessibuca-poster"))&&this.player.$container&&this.player.$container.removeChild(R),this.$loading&&!bs(this.$loading)&&(R=this.player.$container.querySelector(".jessibuca-loading"))&&this.player.$container&&this.player.$container.removeChild(R),this.$loadingBg&&!bs(this.$loadingBg)&&(R=this.player.$container.querySelector(".jessibuca-loading-bg"))&&this.player.$container&&this.player.$container.removeChild(R),this.$controls&&!bs(this.$controls)&&(R=this.player.$container.querySelector(".jessibuca-controls"))&&this.player.$container&&this.player.$container.removeChild(R),this.$playBig&&!bs(this.$playBig)&&(R=this.player.$container.querySelector(".jessibuca-play-big"))&&this.player.$container&&this.player.$container.removeChild(R),this.$recording&&!bs(this.$recording)&&(R=this.player.$container.querySelector(".jessibuca-recording"))&&this.player.$container&&this.player.$container.removeChild(R),this.$ptzControl&&!bs(this.$ptzControl)&&(R=this.player.$container.querySelector(".jessibuca-ptz-controls"))&&this.player.$container&&this.player.$container.removeChild(R),this.$zoomControls&&!bs(this.$zoomControls)&&(R=this.player.$container.querySelector(".jessibuca-zoom-controls"))&&this.player.$container&&this.player.$container.removeChild(R),this.$contextmenus&&(this.$contextmenus.innerHTML="",bs(this.$contextmenus)||(R=this.player.$container.querySelector(".jessibuca-contextmenus"))&&this.player.$container&&this.player.$container.removeChild(R)),this.btnIndex=0,this.extendBtnList=[],this.kbpsShow="0 KB/s",this.player.$container&&(this.player.$container.classList.remove("jessibuca-controls-show-auto-hide"),this.player.$container.classList.remove("jessibuca-controls-show")),this.player.debug.log("control","destroy")}getBtnIndex(){return this.btnIndex++}autoSize(){var R=this.player;R.$container.style.padding="0 0";const ie=R.width,ae=R.height,we=ie/ae,_e=R.video.$videoElement.width/R.video.$videoElement.height;if(we>_e){const fe=(ie-ae*_e)/2;R.$container.style.padding=`0 ${fe}px`}else{const fe=(ae-ie/_e)/2;R.$container.style.padding=fe+"px 0"}}initLoadingBackground(){var R=this.player;if(R._opt.loadingBackground&&R._opt.heartTimeoutReplayUseLastFrameShow){let we=R.height;var ie=R._opt,ae=(ie.hasControl&&!ie.controlAutoHide&&(we-=ie.playType===We?48:38),this.$loadingBgImage.width=R.width,this.$loadingBgImage.height=we,ie.rotate);ae!==270&&ae!==90||(control.$loadingBgImage.width=we,control.$loadingBgImage.height=R.width),this.$loadingBgImage.src=R._opt.loadingBackground;let _e="contain",fe=(ie.isResize||(_e="fill"),ie.isFullResize&&(_e="none"),"");ie.mirrorRotate==="none"&&ae&&(fe+=" rotate("+ae+"deg)"),ie.mirrorRotate==="level"?fe+=" rotateY(180deg)":ie.mirrorRotate==="vertical"&&(fe+=" rotateX(180deg)"),this.$loadingBgImage.style.transform=fe,this.$loadingBgImage.style.objectFit=_e,vr(this.$loadingBg,"display","block")}}_validateExtendBtn(R){let ie=!0;return R.name||(this.player.debug.warn("Control","extend button name is required"),ie=!1),ie&&this.extendBtnList.findIndex(ae=>ae.name===R.name)!==-1&&(this.player.debug.warn("Control",`extend button name: ${R.name} is already exist`),ie=!1),ie&&!R.icon&&(this.player.debug.warn("Control","extend button icon is required"),ie=!1),ie}addExtendBtn(){let R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};var ie=Cn(Ql);if(R=Object.assign({},ie,R),this._validateExtendBtn(R)){const ae=R.name||"",we=this.$controlsRight,_e=R.activeIcon&&R.activeClick,fe=`
            <div class="jessibuca-controls-item-wrap">
               ${R.icon?`<div class="jessibuca-controls-item jessibuca-control-extend-${ae}">
                                <i class="jessibuca-icon jessibuca-icon-extend-${ae}"></i>
                                ${R.iconTitle?`
                                            <span class="icon-title-tips"><span class="icon-title">${R.iconTitle}</span></span>
                                            `:""}
                                </div>`:""}
               ${R.activeIcon?`<div class="jessibuca-controls-item jessibuca-control-extend-${ae}-active">
                                <i class="jessibuca-icon jessibuca-icon-extend-${ae}-active"></i>
                                ${R.activeIconTitle?`
                                            <span class="icon-title-tips"><span class="icon-title">${R.activeIconTitle}</span></span>
                                            `:""}
                            </div>`:""}
               </div>
            `,de=Array.from(we.children)[R.index],Se=(de?de.insertAdjacentHTML("beforebegin",fe):Al(we,fe),R.icon?we.querySelector(".jessibuca-icon-extend-"+ae):null),Pe=R.icon?we.querySelector(".jessibuca-control-extend-"+ae):null,xe=R.activeIcon?we.querySelector(`.jessibuca-icon-extend-${ae}-active`):null,Oe=R.activeIcon?we.querySelector(`.jessibuca-control-extend-${ae}-active`):null,{proxy:Fe}=this.player.events;R.icon&&(vr(Se,"background",`url(${R.icon}) no-repeat center`),vr(Se,"background-size","100% 100%"),vr(Pe,"display","none"),R.iconHover)&&(Fe(Se,"mouseover",()=>{vr(Se,"background",`url(${R.iconHover}) no-repeat center`),vr(Se,"background-size","100% 100%")}),Fe(Se,"mouseout",()=>{vr(Se,"background",`url(${R.icon}) no-repeat center`),vr(Se,"background-size","100% 100%")})),R.activeIcon&&(vr(xe,"background",`url(${R.activeIcon}) no-repeat center`),vr(xe,"background-size","100% 100%"),vr(Oe,"display","none"),R.activeIconHover)&&(Fe(xe,"mouseover",()=>{vr(xe,"background",`url(${R.activeIconHover}) no-repeat center`),vr(xe,"background-size","100% 100%")}),Fe(xe,"mouseout",()=>{vr(xe,"background",`url(${R.activeIcon}) no-repeat center`),vr(xe,"background-size","100% 100%")})),R.click&&Se&&Fe(Se,"click",ye=>{ye.preventDefault(),_e&&(vr(Pe,"display","none"),vr(Oe,"display","flex")),R.click.call(this.player,this,ye)}),R.activeClick&&xe&&Fe(xe,"click",ye=>{ye.preventDefault(),vr(Pe,"display","flex"),vr(Oe,"display","none"),R.activeClick.call(this.player,this,ye)}),this.extendBtnList.push({name:ae,$iconWrap:Pe,$activeIconWrap:Oe})}}}yl(".jessibuca-container{position:relative;width:100%;height:100%;overflow:hidden}.jessibuca-container.jessibuca-fullscreen-web{position:fixed;z-index:9999;left:0;top:0;right:0;bottom:0;width:100vw!important;height:100vh!important;background:#000}");class _t{static init(){for(var R in _t.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},_t.types)_t.types.hasOwnProperty(R)&&(_t.types[R]=[R.charCodeAt(0),R.charCodeAt(1),R.charCodeAt(2),R.charCodeAt(3)]);var ie=_t.constants={};ie.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),ie.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),ie.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),ie.STSC=ie.STCO=ie.STTS,ie.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ie.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ie.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ie.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ie.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),ie.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}static box(R){let ie=8,ae=null,we=Array.prototype.slice.call(arguments,1),_e=we.length;for(let de=0;de<_e;de++)ie+=we[de].byteLength;(ae=new Uint8Array(ie))[0]=ie>>>24&255,ae[1]=ie>>>16&255,ae[2]=ie>>>8&255,ae[3]=255&ie,ae.set(R,4);let fe=8;for(let de=0;de<_e;de++)ae.set(we[de],fe),fe+=we[de].byteLength;return ae}static generateInitSegment(ae){var ie=_t.box(_t.types.ftyp,_t.constants.FTYP),ae=_t.moov(ae),we=new Uint8Array(ie.byteLength+ae.byteLength);return we.set(ie,0),we.set(ae,ie.byteLength),we}static moov(we){var ie=_t.mvhd(we.timescale,we.duration),ae=_t.trak(we),we=_t.mvex(we);return _t.box(_t.types.moov,ie,ae,we)}static mvhd(R,ie){return _t.box(_t.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,R>>>24&255,R>>>16&255,R>>>8&255,255&R,ie>>>24&255,ie>>>16&255,ie>>>8&255,255&ie,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}static trak(R){return _t.box(_t.types.trak,_t.tkhd(R),_t.mdia(R))}static tkhd(_e){var ie=_e.id,ae=_e.duration,we=_e.presentWidth,_e=_e.presentHeight;return _t.box(_t.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,ie>>>24&255,ie>>>16&255,ie>>>8&255,255&ie,0,0,0,0,ae>>>24&255,ae>>>16&255,ae>>>8&255,255&ae,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,we>>>8&255,255&we,0,0,_e>>>8&255,255&_e,0,0]))}static mdia(R){return _t.box(_t.types.mdia,_t.mdhd(R),_t.hdlr(R),_t.minf(R))}static mdhd(ae){var ie=ae.timescale,ae=ae.duration;return _t.box(_t.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,ie>>>24&255,ie>>>16&255,ie>>>8&255,255&ie,ae>>>24&255,ae>>>16&255,ae>>>8&255,255&ae,85,196,0,0]))}static hdlr(R){return R=R.type==="audio"?_t.constants.HDLR_AUDIO:_t.constants.HDLR_VIDEO,_t.box(_t.types.hdlr,R)}static minf(R){var ie=R.type==="audio"?_t.box(_t.types.smhd,_t.constants.SMHD):_t.box(_t.types.vmhd,_t.constants.VMHD);return _t.box(_t.types.minf,ie,_t.dinf(),_t.stbl(R))}static dinf(){return _t.box(_t.types.dinf,_t.box(_t.types.dref,_t.constants.DREF))}static stbl(R){return _t.box(_t.types.stbl,_t.stsd(R),_t.box(_t.types.stts,_t.constants.STTS),_t.box(_t.types.stsc,_t.constants.STSC),_t.box(_t.types.stsz,_t.constants.STSZ),_t.box(_t.types.stco,_t.constants.STCO))}static stsd(R){return R.type==="audio"?_t.box(_t.types.stsd,_t.constants.STSD_PREFIX,_t.mp4a(R)):R.videoType==="avc"?_t.box(_t.types.stsd,_t.constants.STSD_PREFIX,_t.avc1(R)):_t.box(_t.types.stsd,_t.constants.STSD_PREFIX,_t.hvc1(R))}static mp4a(R){var ae=R.channelCount,ie=R.audioSampleRate,ae=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,ae,0,16,0,0,0,0,ie>>>8&255,255&ie,0,0]);return _t.box(_t.types.mp4a,ae,_t.esds(R))}static esds(ie){var ie=ie.config||[],ae=ie.length,ae=new Uint8Array([0,0,0,0,3,23+ae,0,1,0,4,15+ae,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([ae]).concat(ie).concat([6,1,2]));return _t.box(_t.types.esds,ae)}static avc1(ae){var ie=ae.avcc,we=ae.codecWidth,ae=ae.codecHeight,we=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,we>>>8&255,255&we,ae>>>8&255,255&ae,0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return _t.box(_t.types.avc1,we,_t.box(_t.types.avcC,ie))}static hvc1(ae){var ie=ae.avcc,we=ae.codecWidth,ae=ae.codecHeight,we=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,we>>>8&255,255&we,ae>>>8&255,255&ae,0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return _t.box(_t.types.hvc1,we,_t.box(_t.types.hvcC,ie))}static mvex(R){return _t.box(_t.types.mvex,_t.trex(R))}static trex(R){return R=R.id,R=new Uint8Array([0,0,0,0,R>>>24&255,R>>>16&255,R>>>8&255,255&R,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]),_t.box(_t.types.trex,R)}static moof(R,ie){return _t.box(_t.types.moof,_t.mfhd(R.sequenceNumber),_t.traf(R,ie))}static mfhd(R){return R=new Uint8Array([0,0,0,0,R>>>24&255,R>>>16&255,R>>>8&255,255&R]),_t.box(_t.types.mfhd,R)}static traf(fe,we){var ae=fe.id,ae=_t.box(_t.types.tfhd,new Uint8Array([0,0,0,0,ae>>>24&255,ae>>>16&255,ae>>>8&255,255&ae])),we=_t.box(_t.types.tfdt,new Uint8Array([0,0,0,0,we>>>24&255,we>>>16&255,we>>>8&255,255&we])),_e=_t.sdtp(fe),fe=_t.trun(fe,_e.byteLength+16+16+8+16+8+8);return _t.box(_t.types.traf,ae,we,fe,_e)}static sdtp(ae){var ie=new Uint8Array(5),ae=ae.flags;return ie[4]=ae.isLeading<<6|ae.dependsOn<<4|ae.isDependedOn<<2|ae.hasRedundancy,_t.box(_t.types.sdtp,ie)}static trun(de,we){var ae=new Uint8Array(28),we=(ae.set([0,0,15,1,0,0,0,1,(we+=36)>>>24&255,we>>>16&255,we>>>8&255,255&we],0),de.duration),_e=de.size,fe=de.flags,de=de.cts;return ae.set([we>>>24&255,we>>>16&255,we>>>8&255,255&we,_e>>>24&255,_e>>>16&255,_e>>>8&255,255&_e,fe.isLeading<<2|fe.dependsOn,fe.isDependedOn<<6|fe.hasRedundancy<<4|fe.isNonSync,0,0,de>>>24&255,de>>>16&255,de>>>8&255,255&de],12),_t.box(_t.types.trun,ae)}static mdat(R){return _t.box(_t.types.mdat,R)}}_t.init();class wl extends me{constructor(R){super(),this.player=R,this.isAvc=!0,this.mediaSource=new window.MediaSource,this.sourceBuffer=null,this.hasInit=!1,this.isInitInfo=!1,this.cacheTrack={},this.timeInit=!1,this.sequenceNumber=0,this.dropping=!1,this.firstRenderTime=null,this.$videoElement=null,this.mediaSourceAppendBufferFull=!1,this.mediaSourceAppendBufferError=!1,this.isDecodeFirstIIframe=!1,this.prevTimestamp=null,this.decodeDiffTimestamp=null,this.prevDts=null,this.prevPayloadBufferSize=0,this.isWidthOrHeightChanged=!1,this.prevTs=null,this.mediaSourceObjectURL=window.URL.createObjectURL(this.mediaSource),this.eventListenList=[],R._opt.mseUseCanvasRender?(this.$videoElement=document.createElement("video"),this.$videoElement.src=this.mediaSourceObjectURL,this.initVideoEvents()):(this.player.video.$videoElement.src=this.mediaSourceObjectURL,this.$videoElement=this.player.video.$videoElement);const{proxy:ie}=R.events,ae=ie(this.mediaSource,"sourceopen",()=>{this.player&&this.player.emit(d0.mseSourceOpen)}),we=ie(this.mediaSource,"sourceclose",()=>{this.player&&this.player.emit(d0.mseSourceClose)}),_e=ie(this.mediaSource,"sourceended",()=>{this.player&&this.player.emit(d0.mseSourceended)});if(this.eventListenList.push(ae,we,_e),this.player.isPlayer){const fe=ie(this.$videoElement,T1,Se=>{if(this._handleUpdatePlaybackRate(),R._opt.mseUseCanvasRender)if(this.player.checkIsInRender())this.player.handleRender();else{const Pe=parseInt(Se.timeStamp,10);this.player.debug.warn("MediaSource",`mseUseCanvasRender is true and $videoElement ts is ${Pe}, but not in render`)}else this.player.handleRender()}),de=ie(this.$videoElement,A2,()=>{R.debug.log("MediaSource","video playback Rate change",this.$videoElement&&this.$videoElement.playbackRate)});this.eventListenList.push(fe,de)}R.debug.log("MediaSource","init")}destroy(){this.stop(),this.eventListenList.length&&(this.eventListenList.forEach(R=>R()),this.eventListenList=[]),this.mediaSource=null,this.sourceBuffer=null,this.hasInit=!1,this.isInitInfo=!1,this.sequenceNumber=0,this.cacheTrack={},this.timeInit=!1,this.mediaSourceAppendBufferFull=!1,this.mediaSourceAppendBufferError=!1,this.isDecodeFirstIIframe=!1,this.prevTimestamp=null,this.prevDts=null,this.prevPayloadBufferSize=0,this.prevTs=null,this.firstRenderTime=null,this.isWidthOrHeightChanged=!1,this.dropping=!1,this.$videoElement&&(this.player._opt.mseUseCanvasRender&&this.$videoElement.src&&(this.$videoElement.src="",this.$videoElement.removeAttribute("src")),this.$videoElement=null),this.mediaSourceObjectURL&&(window.URL.revokeObjectURL(this.mediaSourceObjectURL),this.mediaSourceObjectURL=null),this.off(),this.player.debug.log("MediaSource","destroy")}get state(){return this.mediaSource&&this.mediaSource.readyState}get isStateOpen(){return this.state==="open"}get isStateClosed(){return this.state==="closed"}get isStateEnded(){return this.state==="ended"}get duration(){return this.mediaSource&&this.mediaSource.duration||-1}set duration(R){this.mediaSource.duration=R}initVideoEvents(){var ae=this.player.events.proxy,R=ae(this.$videoElement,Wn,()=>{this.player.debug.log("MediaSource","video canplay"),this.$videoElement.play().then(()=>{this.player.debug.log("MediaSource","video play")}).catch(we=>{this.player.debug.error("MediaSource","video play error ",we),this.player.emitError(L0.mediaSourceUseCanvasRenderPlayFailed,we)})}),ie=ae(this.$videoElement,y2,()=>{this.player.debug.log("MediaSource","video waiting")}),ae=ae(this.$videoElement,T1,we=>{we=parseInt(we.timeStamp,10),this.player.emit(d0.videoTimeUpdate,we),this.$videoElement.paused&&(this.player.debug.warn("MediaSource","video is paused and next try to replay"),this.$videoElement.play().then(()=>{this.player.debug.log("MediaSource","video is paused and replay success")}).catch(_e=>{this.player.debug.warn("MediaSource","video is paused and replay error ",_e)}))});this.eventListenList.push(R,ie,ae)}decodeVideo(R,ie,ae,we){var _e=this.player;if(_e)if(this.player.isDestroyed())this.player.debug.warn("MediaSource","decodeVideo() player is destroyed");else if(this.hasInit)if(!this.isDecodeFirstIIframe&&ae&&(this.isDecodeFirstIIframe=!0),this.isDecodeFirstIIframe){if(ae&&R[1]===0){const fe=15&R[0];let de={};fe==7?de=K1(R.slice(5)):fe==12&&(de=_s(R));const Se=this.player.video.videoInfo;Se&&Se.width&&Se.height&&de&&de.codecWidth&&de.codecHeight&&(de.codecWidth!==Se.width||de.codecHeight!==Se.height)&&(this.player.debug.warn("MediaSource",`
                        decodeVideo: video width or height is changed,
                        old width is ${Se.width}, old height is ${Se.height},
                        new width is ${de.codecWidth}, new height is ${de.codecHeight},
                        and emit change event`),this.isWidthOrHeightChanged=!0,this.player.emitError(L0.mseWidthOrHeightChange))}if(this.isWidthOrHeightChanged)this.player.debug.warn("MediaSource","decodeVideo: video width or height is changed, and return");else if(z2(R))this.player.debug.warn("MediaSource","decodeVideo and payload is video sequence header so drop this frame");else if(R.byteLength<12)this.player.debug.warn("MediaSource","decodeVideo and payload is too small , payload length is "+R.byteLength);else{this.firstRenderTime===null&&(this.firstRenderTime=ie);let fe=ie-this.firstRenderTime;if(fe<0&&(this.player.debug.warn("MediaSource",`decodeVideo
                     local dts is < 0 , ts is ${ie} and prevTs is ${this.prevTs},
                     firstRenderTime is ${this.firstRenderTime} and mseCorrectTimeDuration is `+this.player._opt.mseCorrectTimeDuration),fe=this.prevDts===null?0:this.prevDts+this.player._opt.mseCorrectTimeDuration,this._checkTsIsMaxDiff(ie)))this.player.debug.warn("MediaSource",`decodeVideo is max diff , ts is ${ie} and prevTs is ${this.prevTs}, diff is `+(this.prevTs-ie)),this.emit(L0.mediaSourceTsIsMaxDiff);else{if(this.prevDts!==null&&fe<=this.prevDts){if(this.player.debug.warn("MediaSource",`
                    decodeVideo dts is less than(or equal) prev dts ,
                    dts is ${fe} and prev dts is ${this.prevDts} ，
                    and now ts is ${ie} and prev ts is ${this.prevTs} ，
                    and diff is ${ie-this.prevTs} and firstRenderTime is ${this.firstRenderTime}，
                    and mseCorrectTimeDuration is ${this.player._opt.mseCorrectTimeDuration},
                    and prevPayloadBufferSize is ${this.prevPayloadBufferSize} and payload size is `+R.byteLength),fe===this.prevDts&&this.prevPayloadBufferSize===R.byteLength)return void this.player.debug.warn("MediaSource","decodeVideo dts is equal to prev dts and payload size is equal to prev payload size so drop this frame");if(fe=this.prevDts+this.player._opt.mseCorrectTimeDuration,this._checkTsIsMaxDiff(ie))return this.player.debug.warn("MediaSource",`decodeVideo is max diff , ts is ${ie} and prevTs is ${this.prevTs}, diff is ${this.prevTs-ie} and emit replay`),void this.emit(L0.mediaSourceTsIsMaxDiff)}this._decodeVideo(R,fe,ae,we,ie),this.prevDts=fe,this.prevPayloadBufferSize=R.byteLength,this.prevTs=ie,this.player.getRenderType()===pt&&this.player.video&&this.player.video.doAddContentToWatermark()}}}else this.player.debug.warn("MediaSource","decodeVideo isDecodeFirstIIframe false");else if(ae&&R[1]===D1){const fe=15&R[0];_e.video.updateVideoInfo({encTypeCode:fe}),fe!=12||I0()?(_e._times.decodeStart||(_e._times.decodeStart=_i()),this.hasInit=this._decodeConfigurationRecord(R,ie,ae,fe)):this.emit(L0.mediaSourceH265NotSupport)}else this.player.debug.warn("MediaSource",`decodeVideo has not init , isIframe is ${ae} , payload is `+R[1])}_checkTsIsMaxDiff(R){return 0<this.prevTs&&R<this.prevTs&&36e5<this.prevTs-R}_decodeConfigurationRecord(R,ie,ae,we){let _e=R.slice(5),fe={};return we===7?fe=K1(_e):we===12&&(fe=_s(R)),this.player.recorder&&this.player._opt.recordType===f0&&this.player.recorder.initMetaData(R,we),fe.codecWidth===0&&fe.codecHeight===0?(this.player.debug.warn("MediaSource","_decodeConfigurationRecord",fe),this.emit(L0.mediaSourceDecoderConfigurationError),!1):(R={id:1,type:"video",timescale:1e3,duration:0,avcc:_e,codecWidth:fe.codecWidth,codecHeight:fe.codecHeight,videoType:fe.videoType},R=_t.generateInitSegment(R),this.isAvc=we===7,this.appendBuffer(R.buffer),this.sequenceNumber=0,this.cacheTrack={},!(this.timeInit=!1))}_decodeVideo(ye,ie,ae,we,_e){var fe=this.player;let de=ye.slice(5),Se=de.byteLength,Pe=new Date().getTime(),xe=!1;this.prevTimestamp||(this.prevTimestamp=Pe,xe=!0);var Oe,Fe,ye=Pe-this.prevTimestamp,ye=(((this.decodeDiffTimestamp=ye)<5||500<ye)&&!xe&&fe.debug.warn("MediaSource",`_decodeVideo now time is ${Pe} and prev time is ${this.prevTimestamp}, diff time is ${ye} ms`),this.$videoElement),Ne=fe._opt.videoBufferDelay+fe._opt.videoBuffer;1<ye.buffered.length&&(this.removeBuffer(ye.buffered.start(0),ye.buffered.end(0)),this.timeInit=!1),this.dropping&&this.cacheTrack.id&&ie-this.cacheTrack.dts>Ne?(fe.debug.warn("MediaSource","dropping time is ",ie-this.cacheTrack.dts),this.dropping=!1,this.cacheTrack={}):this.cacheTrack.id&&ie>=this.cacheTrack.dts?(Ne=8+this.cacheTrack.size,(Oe=new Uint8Array(Ne))[0]=Ne>>>24&255,Oe[1]=Ne>>>16&255,Oe[2]=Ne>>>8&255,Oe[3]=255&Ne,Oe.set(_t.types.mdat,4),Oe.set(this.cacheTrack.data,8),this.cacheTrack.duration=ie-this.cacheTrack.dts,this.player.recorder&&this.player.recorder.isRecording&&this.player._opt.recordType===f0&&this.player.recorder.handleAddFmp4Track(this.cacheTrack),Ne=_t.moof(this.cacheTrack,this.cacheTrack.dts),(Fe=new Uint8Array(Ne.byteLength+Oe.byteLength)).set(Ne,0),Fe.set(Oe,Ne.byteLength),this.appendBuffer(Fe.buffer),fe.emit(d0.timeUpdate,_e),fe.videoTimestamp=_e,fe.updateStats({fps:!0,ts:_e,mseTs:ie,buf:fe.demux&&fe.demux.delay||0}),fe._times.videoStart||(fe._times.videoStart=_i(),fe.handlePlayToRenderTimes())):(fe.debug.log("MediaSource",`timeInit set false , cacheTrack = {} now dts is ${ie}, and ts is ${_e} cacheTrack dts is `+(this.cacheTrack&&this.cacheTrack.dts)),this.timeInit=!1,this.cacheTrack={}),this.cacheTrack||(this.cacheTrack={}),this.cacheTrack.id=1,this.cacheTrack.sequenceNumber=++this.sequenceNumber,this.cacheTrack.size=Se,this.cacheTrack.dts=ie,this.cacheTrack.cts=we,this.cacheTrack.isKeyframe=ae,this.cacheTrack.data=de,this.cacheTrack.flags={isLeading:0,dependsOn:ae?2:1,isDependedOn:ae?1:0,hasRedundancy:0,isNonSync:ae?0:1},this.timeInit||ye.buffered.length!==1||(fe.debug.log("MediaSource","timeInit set true"),this.timeInit=!0,ye.currentTime=ye.buffered.end(0)),!this.isInitInfo&&0<ye.videoWidth&&0<ye.videoHeight&&(fe.debug.log("MediaSource",`updateVideoInfo: ${ye.videoWidth},`+ye.videoHeight),fe.video.updateVideoInfo({width:ye.videoWidth,height:ye.videoHeight}),fe.video.initCanvasViewSize(),this.isInitInfo=!0),fe._opt.mseUseCanvasRender&&fe.video.render({$video:ye,ts:ie}),this.prevTimestamp=new Date().getTime()}appendBuffer(R){const{debug:ie,events:{proxy:ae}}=this.player;if(this.sourceBuffer===null){var we=this.isAvc?_n:fo;try{this.sourceBuffer=this.mediaSource.addSourceBuffer(we)}catch(_e){return ie.warn("MediaSource","this.mediaSource.addSourceBuffer()",_e.code,_e),void this.player.emitError(L0.mseAddSourceBufferError,_e)}if(this.sourceBuffer){const _e=ae(this.sourceBuffer,"error",de=>{this.player.emitError(L0.mseSourceBufferError,de)}),fe=ae(this.sourceBuffer,"updateend",()=>{});this.eventListenList.push(_e,fe)}}if(this.mediaSourceAppendBufferFull)ie.warn("MediaSource","this.mediaSourceAppendBufferFull is true");else if(this.mediaSourceAppendBufferError)ie.warn("MediaSource","this.mediaSourceAppendBufferError is true");else if(this.sourceBuffer.updating===!1&&this.isStateOpen)try{this.sourceBuffer.appendBuffer(R)}catch(_e){ie.warn("MediaSource","this.sourceBuffer.appendBuffer()",_e.code,_e),_e.code===22?(this.stop(),this.mediaSourceAppendBufferFull=!0,this.emit(L0.mediaSourceFull)):_e.code===11?(this.stop(),this.mediaSourceAppendBufferError=!0,this.emit(L0.mediaSourceAppendBufferError)):(ie.error("MediaSource","appendBuffer error",_e),this.player.emitError(d0.mseSourceBufferError,_e))}else this.isStateClosed?this.player.emitError(L0.mseSourceBufferError,"mediaSource is not attached to video or mediaSource is closed"):this.isStateEnded?this.player.emitError(L0.mseSourceBufferError,"mediaSource is end"):br(this.sourceBuffer.updating)&&(ie.warn("MediaSource","mseSourceBufferBusy"),this.player.emit(d0.mseSourceBufferBusy))}getSourceBufferUpdating(){return this.sourceBuffer&&this.sourceBuffer.updating}stop(){this.abortSourceBuffer(),this.endOfStream(),this.removeSourceBuffer()}dropSourceBuffer(R){var ie=this.$videoElement;this.dropping=R,0<ie.buffered.length&&1<ie.buffered.end(0)-ie.currentTime&&(this.player.debug.warn("MediaSource","dropSourceBuffer",`$video.buffered.end(0) is ${ie.buffered.end(0)} - $video.currentTime `+ie.currentTime),ie.currentTime=ie.buffered.end(0))}checkSourceBufferDelay(){var R=this.$videoElement;let ie=0;return(ie=0<R.buffered.length?R.buffered.end(R.buffered.length-1)-R.currentTime:ie)<0&&(this.player.debug.warn("MediaSource",`checkSourceBufferDelay end(0) is ${R.buffered.end(0)} - currentTime is ${R.currentTime} and  result < 0 and result is `+ie),ie=0),ie}getDecodeDiffTimes(){return this.decodeDiffTimestamp}removeBuffer(R,ie){if(this.isStateOpen&&this.sourceBuffer.updating===!1)try{this.sourceBuffer.remove(R,ie)}catch(ae){this.player.debug.warn("MediaSource","removeBuffer() error",ae)}else this.player.debug.warn("MediaSource","removeBuffer() this.isStateOpen is",this.isStateOpen,"this.sourceBuffer.updating",this.sourceBuffer.updating)}endOfStream(){if(this.isStateOpen&&this.$videoElement&&1<=this.$videoElement.readyState)try{this.mediaSource.endOfStream()}catch(R){this.player.debug.warn("MediaSource","endOfStream() error",R)}}abortSourceBuffer(){this.isStateOpen&&this.sourceBuffer&&(this.sourceBuffer.abort(),this.sourceBuffer=null)}removeSourceBuffer(){if(!this.isStateClosed&&this.mediaSource&&this.sourceBuffer)try{this.mediaSource.removeSourceBuffer(this.sourceBuffer)}catch(R){this.player.debug.warn("MediaSource","removeSourceBuffer() error",R)}}_handleUpdatePlaybackRate(){if(this.$videoElement){var R=this.$videoElement,we=(this.player._opt.videoBuffer+this.player._opt.videoBufferDelay)/1e3,ie=R.buffered,ie=(ie.length&&ie.start(0),ie.length?ie.end(ie.length-1):0);let _e=R.currentTime;var ae=ie-_e,we=Math.max(5,3+we),we=(we<ae?(this.player.debug.warn("MediaSource",`handleUpdatePlaybackRate and buffered is ${ie} and current is ${_e} , delay buffer is more than ${we} is ${ae} and new time is `+ie),R.currentTime=ie,_e=R.currentTime):ae<0&&(this.player.debug.warn("MediaSource",`handleUpdatePlaybackRate and delay buffer is ${ie} - current is ${_e} = ${ae} < 0 and check video is paused : ${R.paused} `),R.paused)&&R.play(),this._getPlaybackRate(ie-_e));R.playbackRate!==we&&(this.player.debug.warn("MediaSource",`handleUpdatePlaybackRate and buffered is ${ie} and current time is ${_e} and delay is ${ie-_e}  set playbackRate is ${we} `),R.playbackRate=we)}}getDecodePlaybackRate(){let R=0;var ie=this.$videoElement;return R=ie?ie.playbackRate:R}_getPlaybackRate(R){var ie=this.$videoElement,ae=this.player._opt.videoBuffer,we=ae+this.player._opt.videoBufferDelay;return R*=1e3,ie.playbackRate===1?we<R?1.2:1:R<=ae?1:ie.playbackRate}}const e2=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1&&xi(hn());class X1{constructor(R){this.player=R,this.enabled=!1,e2()?(this.player.debug.log("NoSleep","Native Wake Lock API supported."),this._wakeLock=null,this.handleVisibilityChange=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()},document.addEventListener("visibilitychange",this.handleVisibilityChange),document.addEventListener("fullscreenchange",this.handleVisibilityChange)):(this.player.debug.log("NoSleep","Native Wake Lock API not supported. so use video element."),this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm","data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQRChYECGFOAZwEAAAAAABLfEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHYTbuMU6uEElTDZ1OsggGXTbuMU6uEHFO7a1OsghLJ7AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmsirXsYMPQkBNgI1MYXZmNTguNDUuMTAwV0GNTGF2ZjU4LjQ1LjEwMESJiECzmgAAAAAAFlSua0C5rgEAAAAAAABO14EBc8WI9UhIq9EDJPCcgQAitZyDdW5khoVWX1ZQOIOBASPjg4QF9eEA4AEAAAAAAAAbsIIBQLqB8FSwggElVLqB8FWwiFW3gQFVuIECrgEAAAAAAABZ14ECc8WIUEWPA9J/iJ6cgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4ZGfgQG1iEDncAAAAAAAYmSBIGOik09wdXNIZWFkAQE4AYC7AAAAAAASVMNnQcJzcwEAAAAAAACXY8CAZ8gBAAAAAAAAFUWji01BSk9SX0JSQU5ERIeEaXNvbWfIAQAAAAAAABZFo41NSU5PUl9WRVJTSU9ORIeDNTEyZ8gBAAAAAAAAJ0WjkUNPTVBBVElCTEVfQlJBTkRTRIeQaXNvbWlzbzJhdmMxbXA0MWfIAQAAAAAAABpFo4dFTkNPREVSRIeNTGF2ZjU4LjQ1LjEwMHNzAQAAAAAAAIZjwItjxYj1SEir0QMk8GfIAQAAAAAAAB5Fo4xIQU5ETEVSX05BTUVEh4xWaWRlb0hhbmRsZXJnyAEAAAAAAAAhRaOHRU5DT0RFUkSHlExhdmM1OC45MS4xMDAgbGlidnB4Z8iiRaOIRFVSQVRJT05Eh5QwMDowMDowNS4wMDcwMDAwMDAAAHNzAQAAAAAAAIdjwItjxYhQRY8D0n+InmfIAQAAAAAAAB5Fo4xIQU5ETEVSX05BTUVEh4xTb3VuZEhhbmRsZXJnyAEAAAAAAAAiRaOHRU5DT0RFUkSHlUxhdmM1OC45MS4xMDAgbGlib3B1c2fIokWjiERVUkFUSU9ORIeUMDA6MDA6MDUuMDE4MDAwMDAwAAAfQ7Z1T2TngQCjh4IAAID4//6jQKSBAAeAMBIAnQEqQAHwAABHCIWFiIWEiAICAAYWBPcGgWSfa9ubJzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh69AD+/6tQgKOHggAVgPj//qOHggApgPj//qOHggA9gPj//qOHggBRgPj//qOHggBlgPj//qOegQBrANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCAHmA+P/+o4eCAI2A+P/+o4eCAKGA+P/+o4eCALWA+P/+o4eCAMmA+P/+o56BAM8A0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IA3YD4//6jh4IA8YD4//6jh4IBBYD4//6jh4IBGYD4//6jh4IBLYD4//6jnoEBMwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggFBgPj//qOHggFVgPj//qOHggFpgPj//qOHggF9gPj//qOHggGRgPj//qOegQGXANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCAaWA+P/+o4eCAbmA+P/+o4eCAc2A+P/+o4eCAeGA+P/+o4eCAfWA+P/+o56BAfsA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4ICCYD4//6jh4ICHYD4//6jh4ICMYD4//6jh4ICRYD4//6jh4ICWYD4//6jnoECXwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggJtgPj//qOHggKBgPj//qOHggKVgPj//qOHggKpgPj//qOHggK9gPj//qOegQLDANECAAUQEBRgAGFgv9AAIgAQzX61yT5xzAAAo4eCAtGA+P/+o4eCAuWA+P/+o4eCAvmA+P/+o4eCAw2A+P/+o4eCAyGA+P/+o56BAycA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IDNYD4//6jh4IDSYD4//6jh4IDXYD4//6jh4IDcYD4//6jh4IDhYD4//6jnoEDiwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggOZgPj//qOHggOtgPj//qOHggPBgPj//qOHggPVgPj//qOHggPpgPj//qOegQPvANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCA/2A+P/+o4eCBBGA+P/+o4eCBCWA+P/+o4eCBDmA+P/+o4eCBE2A+P/+o56BBFMA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IEiID4//6jh4IEnID4//6jh4IEsID4//6jnoEEtwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggTEgPj//qOHggTYgPj//qOHggTsgPj//qOHggUAgPj//qOHggUUgPj//qOegQUbANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCBSiA+P/+o4eCBTyA+P/+o4eCBVCA+P/+o4eCBWSA+P/+o4eCBXiA+P/+o56BBX8A0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IFjID4//6jh4IFoID4//6jh4IFtID4//6jh4IFyID4//6jh4IF3ID4//6jnoEF4wDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggXwgPj//qOHggYEgPj//qOHggYYgPj//qOHggYsgPj//qOHggZAgPj//qOegQZHANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCBlSA+P/+o4eCBmiA+P/+o4eCBnyA+P/+o4eCBpCA+P/+o4eCBqSA+P/+o56BBqsA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IGuID4//6jh4IGzID4//6jh4IG4ID4//6jh4IG9ID4//6jh4IHCID4//6jnoEHDwDRAgAFEBAUYABhYL/QACIAEM1+tck+ccwAAKOHggccgPj//qOHggcwgPj//qOHggdEgPj//qOHggdYgPj//qOHggdsgPj//qOegQdzANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCB4CA+P/+o4eCB5SA+P/+o4eCB6iA+P/+o4eCB7yA+P/+o4eCB9CA+P/+o56BB9cA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IH5ID4//6jh4IH+ID4//6jh4IIDID4//6jh4IIIID4//6jh4IINID4//6jnoEIOwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHgghIgPj//qOHgghcgPj//qOHgghwgPj//qOHggiEgPj//qOegQifANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCCMCA+P/+o4eCCNSA+P/+o4eCCOiA+P/+o4eCCPyA+P/+o56BCQMA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IJEID4//6jh4IJJID4//6jh4IJOID4//6jh4IJTID4//6jh4IJYID4//6jnoEJZwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggl0gPj//qOHggmIgPj//qOHggmcgPj//qOHggmwgPj//qOHggnEgPj//qOegQnLANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCCdiA+P/+o4eCCeyA+P/+o4eCCgCA+P/+o4eCChSA+P/+o4eCCiiA+P/+o56BCi8A0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IKPID4//6jh4IKUID4//6jh4IKZID4//6jh4IKeID4//6jh4IKjID4//6jnoEKkwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggqggPj//qOHggq0gPj//qOHggrIgPj//qOHggrcgPj//qOHggrwgPj//qOegQr3ANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCCwSA+P/+o4eCCxiA+P/+o4eCCyyA+P/+o4eCC0CA+P/+o4eCC1SA+P/+o56BC1sA0QIABRAQFGAAYWC/0AAiABDNfrXJPnHMAACjh4ILaID4//6jh4ILfID4//6jh4ILkID4//6jh4ILpID4//6jh4ILuID4//6jnoELvwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggvMgPj//qOHggvggPj//qOHggv0gPj//qOHggwIgPj//qOHggwcgPj//qOegQwjANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCDDCA+P/+o4eCDESA+P/+o4eCDFiA+P/+o4eCDGyA+P/+o4eCDICA+P/+o56BDIcA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IMlID4//6jh4IMqID4//6jh4IMvID4//6jh4IM0ID4//6jnoEM6wDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHgg0MgPj//qOHgg0ggPj//qOHgg00gPj//qOHgg1IgPj//qOegQ1PANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCDVyA+P/+o4eCDXCA+P/+o4eCDYSA+P/+o4eCDZiA+P/+o4eCDayA+P/+o56BDbMA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4INwID4//6jh4IN1ID4//6jh4IN6ID4//6jh4IN/ID4//6jh4IOEID4//6jnoEOFwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHgg4kgPj//qOHgg44gPj//qOHgg5MgPj//qOHgg5ggPj//qOHgg50gPj//qOegQ57ANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCDoiA+P/+o4eCDpyA+P/+o4eCDrCA+P/+o4eCDsSA+P/+o4eCDtiA+P/+o56BDt8A0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IO7ID4//6jh4IPAID4//6jh4IPFID4//6jh4IPKID4//6jh4IPPID4//6jnoEPQwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHgg9QgPj//qOHgg9kgPj//qOHgg94gPj//qOHgg+MgPj//qOHgg+ggPj//qOegQ+nANECAAUQEBRgAGFgv9AAIgAQzX61yT5xzAAAo4eCD7SA+P/+o4eCD8iA+P/+o4eCD9yA+P/+o4eCD/CA+P/+o4eCEASA+P/+o56BEAsA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IQGID4//6jh4IQLID4//6jh4IQQID4//6jh4IQVID4//6jh4IQaID4//6jnoEQbwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHghB8gPj//qOHghCQgPj//qOHghCkgPj//qOHghC4gPj//qOHghDMgPj//qOegRDTANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCEOCA+P/+o4eCEPSA+P/+o4eCEQiA+P/+o56BETcA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IRQ4D4//6jh4IRV4D4//6jh4IRa4D4//6jh4IRf4D4//6jh4IRk4D4//6jnoERmwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHghGngPj//qOHghG7gPj//qOHghHPgPj//qOHghHjgPj//qOHghH3gPj//qOegRH/ANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCEguA+P/+o4eCEh+A+P/+o4eCEjOA+P/+o4eCEkeA+P/+o4eCEluA+P/+o56BEmMA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4ISb4D4//6jh4ISg4D4//6jh4ISl4D4//6jh4ISq4D4//6jh4ISv4D4//6jnoESxwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHghLTgPj//qOHghLngPj//qOHghL7gPj//qOHghMPgPj//qOHghMjgPj//qOegRMrANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCEzeA+P/+o4eCE0uA+P/+o4eCE1+A+P/+o4eCE3OA+P/+oAEAAAAAAAAPoYeCE4cA+P/+daKDB/KBHFO7a5G7j7OBB7eK94EB8YIDX/CBDA=="),this._addSourceToVideo(this.noSleepVideo,"mp4","data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACORtZGF03gIATGF2YzU4LjM1LjEwMAACMEAOAAACcQYF//9t3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE2MSByMzAyNyA0MTIxMjc3IC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAyMCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTAgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTcgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0wIHdlaWdodHA9MCBrZXlpbnQ9MjUwIGtleWludF9taW49MTAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIzLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IGlwX3JhdGlvPTEuNDAgYXE9MToxLjAwAIAAAADvZYiED/JigADD7JycnJycnJycnJycnJycnJycnJ11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111114BGCAHARggBwEYIAcBGCAHARggBwAAAAdBmjgf4BLYARggBwEYIAcBGCAHARggBwAAAAdBmlQH+AS2ARggBwEYIAcBGCAHARggBwAAAAdBmmA/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZqAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZqgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZrAP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0Ga4D/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GbAD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GbID/AJbABGCAHARggBwEYIAcBGCAHARggBwAAAAdBm0A/wCWwARggBwEYIAcBGCAHAAAAB0GbYD/AJbABGCAHARggBwEYIAcAAAAHQZuAP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GboD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GbwD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0Gb4D/AJbABGCAHARggBwEYIAcBGCAHARggBwAAAAdBmgA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmiA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmkA/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZpgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZqAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZqgP8AlsAEYIAcBGCAHARggBwAAAAdBmsA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmuA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmwA/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZsgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZtAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZtgP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GbgD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GboD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GbwD/AJbABGCAHARggBwEYIAcBGCAHARggBwAAAAdBm+A/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmgA/wCWwARggBwEYIAcAAAAHQZogP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GaQD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GaYD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GagD/AJbABGCAHARggBwEYIAcBGCAHARggBwAAAAdBmqA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmsA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmuA/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZsAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZsgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZtAP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GbYD/AJbABGCAHARggBwAAAAdBm4A/wCWwARggBwEYIAcBGCAHARggBwAAAAdBm6A/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZvAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZvgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZoAO8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GaIDfAJbABGCAHARggBwEYIAcBGCAHAAAMxm1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAABOgAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAPLdHJhawAAAFx0a2hkAAAAAwAAAAAAAAAAAAAAAQAAAAAAABOIAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAElVVUA8AAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAATiAAAAAAAAQAAAAADQ21kaWEAAAAgbWRoZAAAAAAAAAAAAAAAAAAAKAAAAMgAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAu5taW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAKuc3RibAAAAKpzdHNkAAAAAAAAAAEAAACaYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAFAAPAASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADRhdmNDAULAC//hABxnQsAL2QFB+/8ACwAMEAAAAwAQAAADAUDxQqSAAQAFaMuDyyAAAAAQcGFzcAAAAAsAAAAMAAAAGHN0dHMAAAAAAAAAAQAAADIAAAQAAAAAFHN0c3MAAAAAAAAAAQAAAAEAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAA3HN0c3oAAAAAAAAAAAAAADIAAANoAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAANhzdGNvAAAAAAAAADIAAABFAAADwQAAA9wAAAP3AAAEFgAABDEAAARMAAAEawAABIYAAAShAAAEwAAABNcAAATuAAAFDQAABSgAAAVDAAAFYgAABX0AAAWYAAAFtwAABdIAAAXtAAAGBAAABh8AAAY6AAAGWQAABnQAAAaPAAAGrgAABskAAAbkAAAHAwAABx4AAAcxAAAHUAAAB2sAAAeGAAAHpQAAB8AAAAfbAAAH+gAACBUAAAgwAAAITwAACGIAAAh9AAAInAAACLcAAAjSAAAI8QAACCV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAAE6AAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAABOIAAAEAAABAAAAAAedbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAACsRAADYVRVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAAHSG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAHDHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAACsRAAAAAAANmVzZHMAAAAAA4CAgCUAAgAEgICAF0AVAAAAAAENiAAABVQFgICABRIIVuUABoCAgAECAAAAYHN0dHMAAAAAAAAACgAAAC8AAAQAAAAAAQAACtUAAAAsAAAEAAAAAAEAAArWAAAALAAABAAAAAABAAAK1QAAACwAAAQAAAAAAQAACtUAAAAaAAAEAAAAAAEAAAH/AAABzHN0c2MAAAAAAAAAJQAAAAEAAAABAAAAAQAAAAIAAAAFAAAAAQAAAAMAAAAEAAAAAQAAAAUAAAAFAAAAAQAAAAYAAAAEAAAAAQAAAAgAAAAFAAAAAQAAAAkAAAAEAAAAAQAAAAsAAAAFAAAAAQAAAAwAAAADAAAAAQAAAA4AAAAFAAAAAQAAAA8AAAAEAAAAAQAAABEAAAAFAAAAAQAAABIAAAAEAAAAAQAAABQAAAAFAAAAAQAAABUAAAAEAAAAAQAAABcAAAADAAAAAQAAABgAAAAEAAAAAQAAABoAAAAFAAAAAQAAABsAAAAEAAAAAQAAAB0AAAAFAAAAAQAAAB4AAAAEAAAAAQAAACAAAAAFAAAAAQAAACEAAAAEAAAAAQAAACIAAAACAAAAAQAAACMAAAAFAAAAAQAAACQAAAAEAAAAAQAAACYAAAAFAAAAAQAAACcAAAAEAAAAAQAAACkAAAAFAAAAAQAAACoAAAAEAAAAAQAAACwAAAAFAAAAAQAAAC0AAAACAAAAAQAAAC4AAAAEAAAAAQAAAC8AAAAFAAAAAQAAADAAAAAEAAAAAQAAADIAAAAFAAAAAQAAADMAAAAEAAAAAQAAA1xzdHN6AAAAAAAAAAAAAADSAAAAFQAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAA3HN0Y28AAAAAAAAAMwAAADAAAAOtAAADzAAAA+cAAAQCAAAEIQAABDwAAARXAAAEdgAABJEAAASsAAAEywAABOIAAAT5AAAFGAAABTMAAAVOAAAFbQAABYgAAAWjAAAFwgAABd0AAAX4AAAGDwAABioAAAZFAAAGZAAABn8AAAaaAAAGuQAABtQAAAbvAAAHDgAABykAAAc8AAAHWwAAB3YAAAeRAAAHsAAAB8sAAAfmAAAIBQAACCAAAAg7AAAIWgAACG0AAAiIAAAIpwAACMIAAAjdAAAI/AAAABpzZ3BkAQAAAHJvbGwAAAACAAAAAf//AAAAHHNiZ3AAAAAAcm9sbAAAAAEAAADSAAAAAQAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTguMjAuMTAw"),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.handleNoSleepVideoTimeUpdate=()=>{this.noSleepVideo&&4<this.noSleepVideo.currentTime&&(this.noSleepVideo.currentTime=1)},this.noSleepVideo.addEventListener("timeupdate",this.handleNoSleepVideoTimeUpdate))}destroy(){if(this._wakeLock&&(this._wakeLock.release(),this._wakeLock=null),this.noSleepVideo){this.handleNoSleepVideoTimeUpdate&&this.noSleepVideo.removeEventListener("timeupdate",this.handleNoSleepVideoTimeUpdate);try{this.noSleepVideo.parentNode&&this.noSleepVideo.parentNode.removeChild(this.noSleepVideo)}catch{this.player.debug.warn("NoSleep","Failed to remove noSleepVideo element.")}this.noSleepVideo=null}this.handleVisibilityChange&&(document.removeEventListener("visibilitychange",this.handleVisibilityChange),document.removeEventListener("fullscreenchange",this.handleVisibilityChange))}_addSourceToVideo(R,ie,ae){var we=document.createElement("source");we.src=ae,we.type="video/"+ie,R.appendChild(we)}get isEnabled(){return this.enabled}enable(){const R=this.player.debug;return e2()?navigator.wakeLock.request("screen").then(ie=>{this._wakeLock=ie,this.enabled=!0,R.log("wakeLock","Wake Lock active."),this._wakeLock.addEventListener("release",()=>{R.log("wakeLock","Wake Lock released.")})}).catch(ie=>{throw this.enabled=!1,R.warn("wakeLock",ie.name+", "+ie.message),ie}):this.noSleepVideo.play().then(ie=>(R.log("wakeLock","noSleepVideo Wake Lock active."),this.enabled=!0,ie)).catch(ie=>{throw R.warn("wakeLock",`noSleepVideo ${ie.name}, `+ie.message),this.enabled=!1,ie})}disable(){e2()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):this.noSleepVideo&&this.noSleepVideo.pause(),this.enabled=!1,this.player.debug.log("wakeLock","Disabling wake lock.")}}var zi=(r1=P1(function(Qe,R){typeof window<"u"&&(Qe.exports=(()=>{return ae={"./src/config.ts":(_e,Se,de)=>{de.r(Se),de.d(Se,{enableStreamingMode:()=>function(Ke){var t0=Ke.loader;t0!==ke.default&&t0!==Ae.default?(Le.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),Ke.progressive=!1):(0,ke.fetchSupported)()&&(Ke.loader=ke.default,Ke.progressive=!0,Ke.enableSoftwareAES=!0,Le.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))},hlsDefaultConfig:()=>Ue,mergeConfig:()=>function(Ke,t0){if((t0.liveSyncDurationCount||t0.liveMaxLatencyDurationCount)&&(t0.liveSyncDuration||t0.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(t0.liveMaxLatencyDurationCount!==void 0&&(t0.liveSyncDurationCount===void 0||t0.liveMaxLatencyDurationCount<=t0.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(t0.liveMaxLatencyDuration!==void 0&&(t0.liveSyncDuration===void 0||t0.liveMaxLatencyDuration<=t0.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return $e({},Ke,t0)}});var Se=de("./src/controller/abr-controller.ts"),Pe=de("./src/controller/audio-stream-controller.ts"),xe=de("./src/controller/audio-track-controller.ts"),Oe=de("./src/controller/subtitle-stream-controller.ts"),Fe=de("./src/controller/subtitle-track-controller.ts"),ye=de("./src/controller/buffer-controller.ts"),Ne=de("./src/controller/timeline-controller.ts"),ee=de("./src/controller/cap-level-controller.ts"),se=de("./src/controller/fps-controller.ts"),he=de("./src/controller/eme-controller.ts"),ce=de("./src/controller/cmcd-controller.ts"),Ae=de("./src/utils/xhr-loader.ts"),ke=de("./src/utils/fetch-loader.ts"),Ee=de("./src/utils/cues.ts"),je=de("./src/utils/mediakeys-helper.ts"),Le=de("./src/utils/logger.ts");function $e(){return($e=Object.assign?Object.assign.bind():function(Ke){for(var t0=1;t0<arguments.length;t0++){var Re,Ze=arguments[t0];for(Re in Ze)Object.prototype.hasOwnProperty.call(Ze,Re)&&(Ke[Re]=Ze[Re])}return Ke}).apply(this,arguments)}function Ie(Ke,t0){var Re,Ze=Object.keys(Ke);return Object.getOwnPropertySymbols&&(Re=Object.getOwnPropertySymbols(Ke),t0&&(Re=Re.filter(function(i0){return Object.getOwnPropertyDescriptor(Ke,i0).enumerable})),Ze.push.apply(Ze,Re)),Ze}function De(Ke){for(var t0=1;t0<arguments.length;t0++){var Re=arguments[t0]!=null?arguments[t0]:{};t0%2?Ie(Object(Re),!0).forEach(function(Ze){var i0,e0;i0=Ke,Ze=Re[e0=Ze],(e0=(function(){var a0=(function(n0){if(typeof n0!="object"||n0===null)return n0;var Me=n0[Symbol.toPrimitive];if(Me===void 0)return String(n0);if(Me=Me.call(n0,"string"),typeof Me!="object")return Me;throw new TypeError("@@toPrimitive must return a primitive value.")})(e0);return typeof a0=="symbol"?a0:String(a0)})())in i0?Object.defineProperty(i0,e0,{value:Ze,enumerable:!0,configurable:!0,writable:!0}):i0[e0]=Ze}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ke,Object.getOwnPropertyDescriptors(Re)):Ie(Object(Re)).forEach(function(Ze){Object.defineProperty(Ke,Ze,Object.getOwnPropertyDescriptor(Re,Ze))})}return Ke}var Ue=De(De({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Ae.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Se.default,bufferController:ye.default,capLevelController:ee.default,fpsController:se.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:je.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},{cueHandler:Ee.default,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:Oe.SubtitleStreamController,subtitleTrackController:Fe.default,timelineController:Ne.TimelineController,audioStreamController:Pe.default,audioTrackController:xe.default,emeController:he.default,cmcdController:ce.default})},"./src/controller/abr-controller.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>se});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/utils/ewma-bandwidth-estimator.ts"),xe=de("./src/events.ts"),Oe=de("./src/errors.ts"),Fe=de("./src/types/loader.ts"),ye=de("./src/utils/logger.ts");function Ne(he,ce){for(var Ae,ke=0;ke<ce.length;ke++){var Ee=ce[ke];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(he,typeof(Ae=(function(je){if(typeof je!="object"||je===null)return je;var Le=je[Symbol.toPrimitive];if(Le===void 0)return String(je);if(Le=Le.call(je,"string"),typeof Le!="object")return Le;throw new TypeError("@@toPrimitive must return a primitive value.")})(Ee.key))=="symbol"?Ae:String(Ae),Ee)}}function ee(he){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,he=(this.hls=he).config,this.bwEstimator=new Pe.default(he.abrEwmaSlowVoD,he.abrEwmaFastVoD,he.abrEwmaDefaultEstimate),this.registerListeners()}(fe=ee.prototype).registerListeners=function(){var he=this.hls;he.on(xe.Events.FRAG_LOADING,this.onFragLoading,this),he.on(xe.Events.FRAG_LOADED,this.onFragLoaded,this),he.on(xe.Events.FRAG_BUFFERED,this.onFragBuffered,this),he.on(xe.Events.LEVEL_LOADED,this.onLevelLoaded,this),he.on(xe.Events.ERROR,this.onError,this)},fe.unregisterListeners=function(){var he=this.hls;he.off(xe.Events.FRAG_LOADING,this.onFragLoading,this),he.off(xe.Events.FRAG_LOADED,this.onFragLoaded,this),he.off(xe.Events.FRAG_BUFFERED,this.onFragBuffered,this),he.off(xe.Events.LEVEL_LOADED,this.onLevelLoaded,this),he.off(xe.Events.ERROR,this.onError,this)},fe.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},fe.onFragLoading=function(he,ce){var Ae=ce.frag;Ae.type!==Fe.PlaylistLevelType.MAIN||this.timer||(this.fragCurrent=Ae,this.partCurrent=(Ae=ce.part)!=null?Ae:null,this.timer=self.setInterval(this.onCheck,100))},fe.onLevelLoaded=function(he,ce){var Ae=this.hls.config;ce.details.live?this.bwEstimator.update(Ae.abrEwmaSlowLive,Ae.abrEwmaFastLive):this.bwEstimator.update(Ae.abrEwmaSlowVoD,Ae.abrEwmaFastVoD)},fe._abandonRulesCheck=function(){var he=this.fragCurrent,ce=this.partCurrent,Ae=this.hls,ke=Ae.autoLevelEnabled,Ee=Ae.media;if(he&&Ee){var je=(ce||he).stats,Le=(ce||he).duration;if(je.aborted||je.loaded&&je.loaded===je.total||he.level===0)this.clearTimer(),this._nextAutoLevel=-1;else if(ke&&!Ee.paused&&Ee.playbackRate&&Ee.readyState&&(ke=Ae.mainForwardBufferInfo,ke!==null)){var $e=performance.now()-je.loading.start,Ee=Math.abs(Ee.playbackRate);if(!($e<=500*Le/Ee)){var Ie=je.loaded&&je.loading.first,De=this.bwEstimator.getEstimate(),Ue=Ae.levels,Ke=Ae.minAutoLevel,Re=Ue[he.level],Re=je.total||Math.max(je.loaded,Math.round(Le*Re.maxBitrate/8)),t0=Ie?1e3*je.loaded/$e:0,Re=t0?(Re-je.loaded)/t0:8*Re/De,Ze=ke.len/Ee;if(!(Re<=Ze)){for(var i0=Number.POSITIVE_INFINITY,e0=he.level-1;Ke<e0;e0--){var a0=Ue[e0].maxBitrate;if((i0=t0?Le*a0/(6.4*t0):Le*a0/De)<Ze)break}Re<=i0||(ye.logger.warn("Fragment "+he.sn+(ce?" part "+ce.index:"")+" of level "+he.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+e0+`
      Current BW estimate: `+((0,Se.isFiniteNumber)(De)?(De/1024).toFixed(3):"Unknown")+` Kb/s
      Estimated load time for current fragment: `+Re.toFixed(3)+` s
      Estimated load time for the next fragment: `+i0.toFixed(3)+` s
      Time to underbuffer: `+Ze.toFixed(3)+" s"),Ae.nextLoadLevel=e0,Ie&&this.bwEstimator.sample($e,je.loaded),this.clearTimer(),(he.loader||he.keyLoader)&&(this.fragCurrent=this.partCurrent=null,he.abortRequests()),Ae.trigger(xe.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:he,part:ce,stats:je}))}}}}},fe.onFragLoaded=function(he,$e){var Ae,ke,Ee,je,Le=$e.frag,$e=$e.part;Le.type===Fe.PlaylistLevelType.MAIN&&(0,Se.isFiniteNumber)(Le.sn)&&(Ae=($e||Le).stats,Ee=($e||Le).duration,this.clearTimer(),this.lastLoadedFragLevel=Le.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate&&(ke=((je=this.hls.levels[Le.level]).loaded?je.loaded.bytes:0)+Ae.loaded,Ee=(je.loaded?je.loaded.duration:0)+Ee,je.loaded={bytes:ke,duration:Ee},je.realBitrate=Math.round(8*ke/Ee)),Le.bitrateTest)&&(je={stats:Ae,frag:Le,part:$e,id:Le.type},this.onFragBuffered(xe.Events.FRAG_BUFFERED,je))},fe.onFragBuffered=function(he,Ee){var Ae,ke=Ee.frag,Ee=Ee.part,Ee=(Ee||ke).stats;Ee.aborted||ke.type!==Fe.PlaylistLevelType.MAIN||ke.sn==="initSegment"||(Ae=Ee.parsing.end-Ee.loading.start,this.bwEstimator.sample(Ae,Ee.loaded),Ee.bwEstimate=this.bwEstimator.getEstimate(),ke.bitrateTest?this.bitrateTestDelay=Ae/1e3:this.bitrateTestDelay=0)},fe.onError=function(he,ce){var Ae;if(((Ae=ce.frag)==null?void 0:Ae.type)===Fe.PlaylistLevelType.MAIN)if(ce.type===Oe.ErrorTypes.KEY_SYSTEM_ERROR)this.clearTimer();else switch(ce.details){case Oe.ErrorDetails.FRAG_LOAD_ERROR:case Oe.ErrorDetails.FRAG_LOAD_TIMEOUT:case Oe.ErrorDetails.KEY_LOAD_ERROR:case Oe.ErrorDetails.KEY_LOAD_TIMEOUT:this.clearTimer()}},fe.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},fe.getNextABRAutoLevel=function(){var Le=this.fragCurrent,ke=this.partCurrent,je=this.hls,he=je.maxAutoLevel,ce=je.config,Ae=je.minAutoLevel,Ee=je.media,ke=ke?ke.duration:Le?Le.duration:0,Le=Ee&&Ee.playbackRate!==0?Math.abs(Ee.playbackRate):1,Ee=this.bwEstimator?this.bwEstimator.getEstimate():ce.abrEwmaDefaultEstimate,je=je.mainForwardBufferInfo,je=(je?je.len:0)/Le,Le=this.findBestLevel(Ee,Ae,he,je,ce.abrBandWidthFactor,ce.abrBandWidthUpFactor);if(0<=Le)return Le;ye.logger.trace((je?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var $e,Ie=ke?Math.min(ke,ce.maxStarvationDelay):ce.maxStarvationDelay,De=ce.abrBandWidthFactor,Ue=ce.abrBandWidthUpFactor;return je||($e=this.bitrateTestDelay)&&(Ie=(ke?Math.min(ke,ce.maxLoadingDelay):ce.maxLoadingDelay)-$e,ye.logger.trace("bitrate test took "+Math.round(1e3*$e)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*Ie)+" ms"),De=Ue=1),Le=this.findBestLevel(Ee,Ae,he,je+Ie,De,Ue),Math.max(Le,0)},fe.findBestLevel=function(he,ce,Ae,ke,Ee,je){for(var Le,$e=this.fragCurrent,Ie=this.partCurrent,De=this.lastLoadedFragLevel,Ue=this.hls.levels,Ke=Ue[De],t0=!(Ke==null||(Le=Ke.details)==null||!Le.live),Re=Ke?.codecSet,Ze=Ie?Ie.duration:$e?$e.duration:0,i0=Ae;ce<=i0;i0--){var e0=Ue[i0];if(e0&&(!Re||e0.codecSet===Re)){var a0,e0=e0.details,e0=(Ie?e0?.partTarget:e0?.averagetargetduration)||Ze,n0=Ue[i0].maxBitrate,Me=n0*e0/(a0=i0<=De?Ee*he:je*he);if(ye.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+i0+"/"+Math.round(a0)+"/"+n0+"/"+e0+"/"+ke+"/"+Me),n0<a0&&(Me==0||!(0,Se.isFiniteNumber)(Me)||t0&&!this.bitrateTestDelay||Me<ke))return i0}}return-1},Ne((fe=ee).prototype,[{key:"nextAutoLevel",get:function(){var he=this._nextAutoLevel,ce=this.bwEstimator;return he!==-1&&!ce.canEstimate()||(ce=this.getNextABRAutoLevel(),he!==-1&&this.hls.levels[ce].loadError)?he:he!==-1?Math.min(he,ce):ce},set:function(he){this._nextAutoLevel=he}}]),Object.defineProperty(fe,"prototype",{writable:!1});const se=ee},"./src/controller/audio-stream-controller.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>De});var Se,Pe=de("./src/polyfills/number.ts"),xe=de("./src/controller/base-stream-controller.ts"),Oe=de("./src/events.ts"),Fe=de("./src/utils/buffer-helper.ts"),ye=de("./src/controller/fragment-tracker.ts"),Ne=de("./src/types/level.ts"),ee=de("./src/types/loader.ts"),se=de("./src/loader/fragment.ts"),he=de("./src/demux/chunk-cache.ts"),ce=de("./src/demux/transmuxer-interface.ts"),Ae=de("./src/types/transmuxer.ts"),ke=de("./src/controller/fragment-finders.ts"),Ee=de("./src/utils/discontinuities.ts"),je=de("./src/errors.ts");function Le(){return(Le=Object.assign?Object.assign.bind():function(Ue){for(var Ke=1;Ke<arguments.length;Ke++){var t0,Re=arguments[Ke];for(t0 in Re)Object.prototype.hasOwnProperty.call(Re,t0)&&(Ue[t0]=Re[t0])}return Ue}).apply(this,arguments)}function $e(Ue,Ke){return($e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t0,Re){return t0.__proto__=Re,t0})(Ue,Ke)}function Ie(Ue,Ke,t0){return(Ue=Se.call(this,Ue,Ke,t0,"[audio-stream-controller]")||this).videoBuffer=null,Ue.videoTrackCC=-1,Ue.waitingVideoCC=-1,Ue.audioSwitch=!1,Ue.trackId=-1,Ue.waitingData=null,Ue.mainDetails=null,Ue.bufferFlushed=!1,Ue.cachedTrackLoadedData=null,Ue._registerListeners(),Ue}Se=xe.default,fe=Se,(de=Ie).prototype=Object.create(fe.prototype),$e(de.prototype.constructor=de,fe),(de=Ie.prototype).onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},de._registerListeners=function(){var Ue=this.hls;Ue.on(Oe.Events.MEDIA_ATTACHED,this.onMediaAttached,this),Ue.on(Oe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),Ue.on(Oe.Events.MANIFEST_LOADING,this.onManifestLoading,this),Ue.on(Oe.Events.LEVEL_LOADED,this.onLevelLoaded,this),Ue.on(Oe.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),Ue.on(Oe.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),Ue.on(Oe.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),Ue.on(Oe.Events.ERROR,this.onError,this),Ue.on(Oe.Events.BUFFER_RESET,this.onBufferReset,this),Ue.on(Oe.Events.BUFFER_CREATED,this.onBufferCreated,this),Ue.on(Oe.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),Ue.on(Oe.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),Ue.on(Oe.Events.FRAG_BUFFERED,this.onFragBuffered,this)},de._unregisterListeners=function(){var Ue=this.hls;Ue.off(Oe.Events.MEDIA_ATTACHED,this.onMediaAttached,this),Ue.off(Oe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),Ue.off(Oe.Events.MANIFEST_LOADING,this.onManifestLoading,this),Ue.off(Oe.Events.LEVEL_LOADED,this.onLevelLoaded,this),Ue.off(Oe.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),Ue.off(Oe.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),Ue.off(Oe.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),Ue.off(Oe.Events.ERROR,this.onError,this),Ue.off(Oe.Events.BUFFER_RESET,this.onBufferReset,this),Ue.off(Oe.Events.BUFFER_CREATED,this.onBufferCreated,this),Ue.off(Oe.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),Ue.off(Oe.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),Ue.off(Oe.Events.FRAG_BUFFERED,this.onFragBuffered,this)},de.onInitPtsFound=function(Ue,Ze){var t0=Ze.frag,Re=Ze.id,Ze=Ze.initPTS;Re==="main"&&(Re=t0.cc,this.initPTS[t0.cc]=Ze,this.log("InitPTS for cc: "+Re+" found from main: "+Ze),this.videoTrackCC=Re,this.state===xe.State.WAITING_INIT_PTS)&&this.tick()},de.startLoad=function(Ue){var Ke;this.levels?(Ke=this.lastCurrentTime,this.stopLoad(),this.setInterval(100),(this.fragLoadError=0)<Ke&&Ue===-1?(this.log("Override startPosition with lastCurrentTime @"+Ke.toFixed(3)),Ue=Ke,this.state=xe.State.IDLE):(this.loadedmetadata=!1,this.state=xe.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=Ue,this.tick()):(this.startPosition=Ue,this.state=xe.State.STOPPED)},de.doTick=function(){switch(this.state){case xe.State.IDLE:this.doTickIdle();break;case xe.State.WAITING_TRACK:var Re=this.levels,Ue=this.trackId,Ue=Re==null||(Re=Re[Ue])==null?void 0:Re.details;if(Ue){if(this.waitForCdnTuneIn(Ue))break;this.state=xe.State.WAITING_INIT_PTS}break;case xe.State.FRAG_LOADING_WAITING_RETRY:Re=performance.now(),Ue=this.retryDate,(!Ue||Ue<=Re||(Ue=this.media)!=null&&Ue.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=xe.State.IDLE);break;case xe.State.WAITING_INIT_PTS:var Ke,t0,Re=this.waitingData;Re?(Ue=Re.frag,Ke=Re.part,t0=Re.cache,Re=Re.complete,this.initPTS[Ue.cc]!==void 0?(this.waitingData=null,this.waitingVideoCC=-1,this.state=xe.State.FRAG_LOADING,Ke={frag:Ue,part:Ke,payload:t0.flush(),networkDetails:null},this._handleFragmentLoadProgress(Ke),Re&&Se.prototype._handleFragmentLoadComplete.call(this,Ke)):this.videoTrackCC!==this.waitingVideoCC?(this.log("Waiting fragment cc ("+Ue.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment()):(t0=this.getLoadPosition(),Re=Fe.BufferHelper.bufferInfo(this.mediaBuffer,t0,this.config.maxBufferHole),(0,ke.fragmentWithinToleranceTest)(Re.end,this.config.maxFragLookUpTolerance,Ue)<0&&(this.log("Waiting fragment cc ("+Ue.cc+") @ "+Ue.start+" cancelled because another fragment at "+Re.end+" is needed"),this.clearWaitingFragment()))):this.state=xe.State.IDLE}this.onTickEnd()},de.clearWaitingFragment=function(){var Ue=this.waitingData;Ue&&(this.fragmentTracker.removeFragment(Ue.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=xe.State.IDLE)},de.resetLoadingState=function(){this.clearWaitingFragment(),Se.prototype.resetLoadingState.call(this)},de.onTickEnd=function(){var Ue=this.media;Ue&&Ue.readyState&&(this.lastCurrentTime=Ue.currentTime)},de.doTickIdle=function(){var Ue,Ke,t0=this.hls,Re=this.levels,Ze=this.media,i0=this.trackId,e0=t0.config;Re&&Re[i0]&&(Ze||!this.startFragRequested&&e0.startFragPrefetch)&&(!(e0=Re[i0].details)||e0.live&&this.levelLastLoaded!==i0||this.waitForCdnTuneIn(e0)?this.state=xe.State.WAITING_TRACK:(Re=this.mediaBuffer||this.media,this.bufferFlushed&&Re&&(this.bufferFlushed=!1,this.afterBufferFlushed(Re,se.ElementaryStreamTypes.AUDIO,ee.PlaylistLevelType.AUDIO)),(i0=this.getFwdBufferInfo(Re,ee.PlaylistLevelType.AUDIO))!==null&&(!(Re=this.audioSwitch)&&this._streamEnded(i0,e0)?(t0.trigger(Oe.Events.BUFFER_EOS,{type:"audio"}),this.state=xe.State.ENDED):(t0=this.getFwdBufferInfo(this.videoBuffer||this.media,ee.PlaylistLevelType.MAIN),i0.len>=this.getMaxBufferLength(t0?.len)&&!Re||(Ue=e0.fragments[0].start,Ke=i0.end,Re&&Ze&&(Ke=Re=this.getLoadPosition(),e0.PTSKnown)&&Re<Ue&&(i0.end>Ue||i0.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),Ze.currentTime=Ue+.05),t0&&Ke>t0.end+e0.targetduration)||!(t0&&t0.len||!i0.len)||((Re=this.getNextFragment(Ke,e0))?this.loadFragment(Re,e0,Ke):this.bufferFlushed=!0)))))},de.getMaxBufferLength=function(Ue){var Ke=Se.prototype.getMaxBufferLength.call(this);return Ue?Math.max(Ke,Ue):Ke},de.onMediaDetaching=function(){this.videoBuffer=null,Se.prototype.onMediaDetaching.call(this)},de.onAudioTracksUpdated=function(Ue,Ke){Ke=Ke.audioTracks,this.resetTransmuxer(),this.levels=Ke.map(function(t0){return new Ne.Level(t0)})},de.onAudioTrackSwitching=function(Ue,Re){var t0=!!Re.url,Re=(this.trackId=Re.id,this.fragCurrent);Re&&Re.abortRequests(),this.fragCurrent=null,this.clearWaitingFragment(),t0?this.setInterval(100):this.resetTransmuxer(),t0?(this.audioSwitch=!0,this.state=xe.State.IDLE):this.state=xe.State.STOPPED,this.tick()},de.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},de.onLevelLoaded=function(Ue,Ke){this.mainDetails=Ke.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(Oe.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},de.onAudioTrackLoaded=function(Ue,Ke){if(this.mainDetails!=null){var t0=this.levels,Re=Ke.details,Ze=Ke.id;if(t0){this.log("Track "+Ze+" loaded ["+Re.startSN+","+Re.endSN+"],duration:"+Re.totalduration);var t0=t0[Ze],i0=0;if(Re.live||(e0=t0.details)!=null&&e0.live){var e0=this.mainDetails;if(Re.fragments[0]||(Re.deltaUpdateFailed=!0),Re.deltaUpdateFailed||!e0)return;i0=!t0.details&&Re.hasProgramDateTime&&e0.hasProgramDateTime?((0,Ee.alignMediaPlaylistByPDT)(Re,e0),Re.fragments[0].start):this.alignPlaylists(Re,t0.details)}t0.details=Re,this.levelLastLoaded=Ze,this.startFragRequested||!this.mainDetails&&Re.live||this.setStartPosition(t0.details,i0),this.state!==xe.State.WAITING_TRACK||this.waitForCdnTuneIn(Re)||(this.state=xe.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+Ze)}else this.cachedTrackLoadedData=Ke},de._handleFragmentLoadProgress=function(a0){var Ke,t0,Re,Ze,i0=a0.frag,e0=a0.part,a0=a0.payload,n0=this.config,Me=this.trackId,Xe=this.levels;Xe?(Xe=Xe[Me],console.assert(Xe,"Audio track is defined on fragment load progress"),Ke=Xe.details,console.assert(Ke,"Audio track details are defined on fragment load progress"),n0=n0.defaultAudioCodec||Xe.audioCodec||"mp4a.40.2",Xe=(Xe=this.transmuxer)||(this.transmuxer=new ce.default(this.hls,ee.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this))),t0=this.initPTS[i0.cc],Re=(Re=i0.initSegment)==null?void 0:Re.data,t0!==void 0?(Ze=e0?e0.index:-1,Ze=new Ae.ChunkMetadata(i0.level,i0.sn,i0.stats.chunkCount,a0.byteLength,Ze,Ze!==-1),Xe.push(a0,Re,n0,"",i0,e0,Ke.totalduration,!1,Ze,t0)):(this.log("Unknown video PTS for cc "+i0.cc+", waiting for video PTS before demuxing audio frag "+i0.sn+" of ["+Ke.startSN+" ,"+Ke.endSN+"],track "+Me),(this.waitingData=this.waitingData||{frag:i0,part:e0,cache:new he.default,complete:!1}).cache.push(new Uint8Array(a0)),this.waitingVideoCC=this.videoTrackCC,this.state=xe.State.WAITING_INIT_PTS)):this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+i0.sn+" of level "+i0.level+" will not be buffered")},de._handleFragmentLoadComplete=function(Ue){this.waitingData?this.waitingData.complete=!0:Se.prototype._handleFragmentLoadComplete.call(this,Ue)},de.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},de.onBufferCreated=function(Ue,Ke){var t0=Ke.tracks.audio;t0&&(this.mediaBuffer=t0.buffer||null),Ke.tracks.video&&(this.videoBuffer=Ke.tracks.video.buffer||null)},de.onFragBuffered=function(Ue,Re){var t0=Re.frag,Re=Re.part;t0.type===ee.PlaylistLevelType.AUDIO?this.fragContextChanged(t0)?this.warn("Fragment "+t0.sn+(Re?" p: "+Re.index:"")+" of level "+t0.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):(t0.sn!=="initSegment"&&(this.fragPrevious=t0,this.audioSwitch)&&(this.audioSwitch=!1,this.hls.trigger(Oe.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.fragBufferedComplete(t0,Re)):this.loadedmetadata||t0.type!==ee.PlaylistLevelType.MAIN||(Re=this.videoBuffer||this.media)!=null&&Re.buffered.length&&(this.loadedmetadata=!0)},de.onError=function(Ue,Ke){if(Ke.type!==je.ErrorTypes.KEY_SYSTEM_ERROR)switch(Ke.details){case je.ErrorDetails.FRAG_LOAD_ERROR:case je.ErrorDetails.FRAG_LOAD_TIMEOUT:case je.ErrorDetails.FRAG_PARSING_ERROR:case je.ErrorDetails.KEY_LOAD_ERROR:case je.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ee.PlaylistLevelType.AUDIO,Ke);break;case je.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case je.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==xe.State.ERROR&&this.state!==xe.State.STOPPED&&(this.state=Ke.fatal?xe.State.ERROR:xe.State.IDLE,this.warn(Ke.details+" while loading frag, switching to "+this.state+" state"));break;case je.ErrorDetails.BUFFER_FULL_ERROR:var t0,Re;Ke.parent!=="audio"||this.state!==xe.State.PARSING&&this.state!==xe.State.PARSED||(t0=!0,(t0=(Re=this.getFwdBufferInfo(this.mediaBuffer,ee.PlaylistLevelType.AUDIO))&&.5<Re.len?!this.reduceMaxBufferLength(Re.len):t0)&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,Se.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState())}else this.onFragmentOrKeyLoadError(ee.PlaylistLevelType.AUDIO,Ke)},de.onBufferFlushed=function(Ue,Ke){Ke.type===se.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0,this.state===xe.State.ENDED)&&(this.state=xe.State.IDLE)},de._handleTransmuxComplete=function(c0){var Ke,t0,Re,Ze,i0,e0,a0,n0,Me=this.hls,Xe=c0.remuxResult,c0=c0.chunkMeta,h0=this.getCurrentContext(c0);h0?(Ke=h0.frag,t0=h0.part,h0=h0.level.details,Re=Xe.audio,Ze=Xe.text,i0=Xe.id3,Xe=Xe.initSegment,!this.fragContextChanged(Ke)&&h0&&(this.state=xe.State.PARSING,this.audioSwitch&&Re&&this.completeAudioSwitch(),Xe!=null&&Xe.tracks&&(this._bufferInitSegment(Xe.tracks,Ke,c0),Me.trigger(Oe.Events.FRAG_PARSING_INIT_SEGMENT,{frag:Ke,id:"audio",tracks:Xe.tracks})),Re&&(Xe=Re.startPTS,a0=Re.endPTS,n0=Re.startDTS,e0=Re.endDTS,t0&&(t0.elementaryStreams[se.ElementaryStreamTypes.AUDIO]={startPTS:Xe,endPTS:a0,startDTS:n0,endDTS:e0}),Ke.setElementaryStreamInfo(se.ElementaryStreamTypes.AUDIO,Xe,a0,n0,e0),this.bufferFragmentData(Re,Ke,t0,c0)),i0!=null&&(Xe=i0.samples)!=null&&Xe.length&&(a0=Le({id:"audio",frag:Ke,details:h0},i0),Me.trigger(Oe.Events.FRAG_PARSING_METADATA,a0)),Ze)&&(n0=Le({id:"audio",frag:Ke,details:h0},Ze),Me.trigger(Oe.Events.FRAG_PARSING_USERDATA,n0))):(this.warn("The loading context changed while buffering fragment "+c0.sn+" of level "+c0.level+". This chunk will not be buffered."),this.resetStartWhenNotLoaded(c0.level))},de._bufferInitSegment=function(Ue,Ke,t0){var Re;this.state===xe.State.PARSING&&(Ue.video&&delete Ue.video,Re=Ue.audio)&&(Re.levelCodec=Re.codec,Re.id="audio",this.log("Init audio buffer, container:"+Re.container+", codecs[parsed]=["+Re.codec+"]"),this.hls.trigger(Oe.Events.BUFFER_CODECS,Ue),(Ue=Re.initSegment)!=null&&Ue.byteLength&&(Re={type:"audio",frag:Ke,part:null,chunkMeta:t0,parent:Ke.type,data:Ue},this.hls.trigger(Oe.Events.BUFFER_APPENDING,Re)),this.tick())},de.loadFragment=function(Ue,Ke,t0){var Re=this.fragmentTracker.getState(Ue);this.fragCurrent=Ue,!this.audioSwitch&&Re!==ye.FragmentState.NOT_LOADED&&Re!==ye.FragmentState.PARTIAL||(Ue.sn==="initSegment"?this._loadInitSegment(Ue,Ke):Ke.live&&!(0,Pe.isFiniteNumber)(this.initPTS[Ue.cc])?(this.log("Waiting for video PTS in continuity counter "+Ue.cc+" of live stream before loading audio fragment "+Ue.sn+" of level "+this.trackId),this.state=xe.State.WAITING_INIT_PTS):(this.startFragRequested=!0,Se.prototype.loadFragment.call(this,Ue,Ke,t0)))},de.completeAudioSwitch=function(){var Ue=this.hls,Ke=this.media,t0=this.trackId;Ke&&(this.log("Switching audio track : flushing all audio"),Se.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,Ue.trigger(Oe.Events.AUDIO_TRACK_SWITCHED,{id:t0})};const De=Ie},"./src/controller/audio-track-controller.ts":(_e,Oe,de)=>{de.r(Oe),de.d(Oe,{default:()=>se});var Se,Pe=de("./src/events.ts"),xe=de("./src/errors.ts"),Oe=de("./src/controller/base-playlist-controller.ts"),Fe=de("./src/types/loader.ts");function ye(he,ce){for(var Ae,ke=0;ke<ce.length;ke++){var Ee=ce[ke];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(he,typeof(Ae=(function(je){if(typeof je!="object"||je===null)return je;var Le=je[Symbol.toPrimitive];if(Le===void 0)return String(je);if(Le=Le.call(je,"string"),typeof Le!="object")return Le;throw new TypeError("@@toPrimitive must return a primitive value.")})(Ee.key))=="symbol"?Ae:String(Ae),Ee)}}function Ne(he,ce){return(Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ae,ke){return Ae.__proto__=ke,Ae})(he,ce)}function ee(he){return(he=Se.call(this,he,"[audio-track-controller]")||this).tracks=[],he.groupId=null,he.tracksInGroup=[],he.trackId=-1,he.trackName="",he.selectDefaultTrack=!0,he.registerListeners(),he}Se=Oe.default,de=Se,(Oe=ee).prototype=Object.create(de.prototype),Ne(Oe.prototype.constructor=Oe,de),(Oe=ee.prototype).registerListeners=function(){var he=this.hls;he.on(Pe.Events.MANIFEST_LOADING,this.onManifestLoading,this),he.on(Pe.Events.MANIFEST_PARSED,this.onManifestParsed,this),he.on(Pe.Events.LEVEL_LOADING,this.onLevelLoading,this),he.on(Pe.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),he.on(Pe.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),he.on(Pe.Events.ERROR,this.onError,this)},Oe.unregisterListeners=function(){var he=this.hls;he.off(Pe.Events.MANIFEST_LOADING,this.onManifestLoading,this),he.off(Pe.Events.MANIFEST_PARSED,this.onManifestParsed,this),he.off(Pe.Events.LEVEL_LOADING,this.onLevelLoading,this),he.off(Pe.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),he.off(Pe.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),he.off(Pe.Events.ERROR,this.onError,this)},Oe.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,Se.prototype.destroy.call(this)},Oe.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},Oe.onManifestParsed=function(he,ce){this.tracks=ce.audioTracks||[]},Oe.onAudioTrackLoaded=function(he,ce){var Ae,ke=ce.id,Ee=ce.details,je=this.tracksInGroup[ke];je?(Ae=je.details,je.details=ce.details,this.log("audioTrack "+ke+" loaded ["+Ee.startSN+"-"+Ee.endSN+"]"),ke===this.trackId&&(this.retryCount=0,this.playlistLoaded(ke,ce,Ae))):this.warn("Invalid audio track id "+ke)},Oe.onLevelLoading=function(he,ce){this.switchLevel(ce.level)},Oe.onLevelSwitching=function(he,ce){this.switchLevel(ce.level)},Oe.switchLevel=function(ke){var ce,Ae,ke=this.hls.levels[ke];ke!=null&&ke.audioGroupIds&&(ce=ke.audioGroupIds[ke.urlId],this.groupId!==ce)&&(this.groupId=ce,ke=this.tracks.filter(function(Ee){return!ce||Ee.groupId===ce}),this.selectDefaultTrack&&!ke.some(function(Ee){return Ee.default})&&(this.selectDefaultTrack=!1),Ae={audioTracks:this.tracksInGroup=ke},this.log("Updating audio tracks, "+ke.length+' track(s) found in "'+ce+'" group-id'),this.hls.trigger(Pe.Events.AUDIO_TRACKS_UPDATED,Ae),this.selectInitialTrack())},Oe.onError=function(he,ce){Se.prototype.onError.call(this,he,ce),!ce.fatal&&ce.context&&ce.context.type===Fe.PlaylistContextType.AUDIO_TRACK&&ce.context.id===this.trackId&&ce.context.groupId===this.groupId&&this.retryLoadingOrFail(ce)},Oe.setAudioTrack=function(he){var ce,Ae,ke,Ee,je,Le,$e=this.tracksInGroup;he<0||he>=$e.length?this.warn("Invalid id passed to audio-track controller"):(this.clearTimer(),ce=$e[this.trackId],this.log("Now switching to audio-track index "+he),Ae=($e=$e[he]).id,ke=(ke=$e.groupId)===void 0?"":ke,Ee=$e.name,je=$e.type,Le=$e.url,this.trackId=he,this.trackName=Ee,this.selectDefaultTrack=!1,this.hls.trigger(Pe.Events.AUDIO_TRACK_SWITCHING,{id:Ae,groupId:ke,name:Ee,type:je,url:Le}),$e.details&&!$e.details.live||(he=this.switchParams($e.url,ce?.details),this.loadPlaylist(he)))},Oe.selectInitialTrack=function(){var he=this.tracksInGroup,he=(console.assert(he.length,"Initial audio track should be selected when tracks are known"),this.trackName),he=this.findTrackId(he)||this.findTrackId();he!==-1?this.setAudioTrack(he):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(Pe.Events.ERROR,{type:xe.ErrorTypes.MEDIA_ERROR,details:xe.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},Oe.findTrackId=function(he){for(var ce=this.tracksInGroup,Ae=0;Ae<ce.length;Ae++){var ke=ce[Ae];if((!this.selectDefaultTrack||ke.default)&&(!he||he===ke.name))return ke.id}return-1},Oe.loadPlaylist=function(he){Se.prototype.loadPlaylist.call(this);var ce=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(ce)){var Ae=ce.id,ke=ce.groupId,ce=ce.url;if(he)try{ce=he.addDirectives(ce)}catch(je){this.warn("Could not construct new URL with HLS Delivery Directives: "+je)}this.log("loading audio-track playlist for id: "+Ae),this.clearTimer(),this.hls.trigger(Pe.Events.AUDIO_TRACK_LOADING,{url:ce,id:Ae,groupId:ke,deliveryDirectives:he||null})}},ye((de=ee).prototype,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(he){this.selectDefaultTrack=!1,this.setAudioTrack(he)}}]),Object.defineProperty(de,"prototype",{writable:!1});const se=ee},"./src/controller/base-playlist-controller.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Fe});var Se=de("./src/types/level.ts"),Pe=de("./src/controller/level-helper.ts"),xe=de("./src/utils/logger.ts"),Oe=de("./src/errors.ts"),Fe=((fe=ye.prototype).destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},fe.onError=function(Ne,ee){!ee.fatal||ee.type!==Oe.ErrorTypes.NETWORK_ERROR&&ee.type!==Oe.ErrorTypes.KEY_SYSTEM_ERROR||this.stopLoad()},fe.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},fe.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.requestScheduled=-1,this.loadPlaylist()},fe.stopLoad=function(){this.canLoad=!1,this.clearTimer()},fe.switchParams=function(Ne,ee){var se=ee?.renditionReports;if(se)for(var he=0;he<se.length;he++){var ce,Ae=se[he],ke=void 0;try{ke=new self.URL(Ae.URI,ee.url).href}catch(Ee){xe.logger.warn("Could not construct new URL for Rendition Report: "+Ee),ke=Ae.URI||""}if(ke===Ne.slice(-ke.length))return ke=parseInt(Ae["LAST-MSN"])||ee?.lastPartSn,Ae=parseInt(Ae["LAST-PART"])||ee?.lastPartIndex,this.hls.config.lowLatencyMode&&(ce=Math.min(ee.age-ee.partTarget,ee.targetduration),0<=Ae)&&ce>ee.partTarget&&(Ae+=1),new Se.HlsUrlParameters(ke,0<=Ae?Ae:void 0,Se.HlsSkip.No)}},fe.loadPlaylist=function(Ne){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())},fe.shouldLoadTrack=function(Ne){return this.canLoad&&Ne&&!!Ne.url&&(!Ne.details||Ne.details.live)},fe.playlistLoaded=function(Ne,ee,se){var he=this,ce=ee.details,Ae=ee.stats,ke=self.performance.now(),Ee=Ae.loading.first?Math.max(0,ke-Ae.loading.first):0;if(ce.advancedDateTime=Date.now()-Ee,ce.live||se!=null&&se.live){if(ce.reloaded(se),se&&this.log("live playlist "+Ne+" "+(ce.advanced?"REFRESHED "+ce.lastPartSn+"-"+ce.lastPartIndex:"MISSED")),se&&0<ce.fragments.length&&(0,Pe.mergeDetails)(se,ce),this.canLoad&&ce.live){var je,Ee=void 0,Le=void 0;if(ce.canBlockReload&&ce.endSN&&ce.advanced){var $e=this.hls.config.lowLatencyMode,De=ce.lastPartSn,Ke=ce.endSN,Ue=ce.lastPartIndex,Ie=De===Ke,De=(Ue!==-1?(Ee=Ie?Ke+1:De,Le=Ie?$e?0:Ue:Ue+1):Ee=Ke+1,ce.age),Ue=De+ce.ageHeader,Ke=Math.min(Ue-ce.partTarget,1.5*ce.targetduration);if(0<Ke&&(se&&Ke>se.tuneInGoal?(this.warn("CDN Tune-in goal increased from: "+se.tuneInGoal+" to: "+Ke+" with playlist age: "+ce.age),Ke=0):(Ee+=Ue=Math.floor(Ke/ce.targetduration),Le!==void 0&&(Le+=Math.round(Ke%ce.targetduration/ce.partTarget)),this.log("CDN Tune-in age: "+ce.ageHeader+"s last advanced "+De.toFixed(2)+"s goal: "+Ke+" skip sn "+Ue+" to part "+Le)),ce.tuneInGoal=Ke),je=this.getDeliveryDirectives(ce,ee.deliveryDirectives,Ee,Le),$e||!Ie)return void this.loadPlaylist(je)}else je=this.getDeliveryDirectives(ce,ee.deliveryDirectives,Ee,Le);se=this.hls.mainForwardBufferInfo,De=se?se.end-se.len:0,Ue=1e3*(ce.edge-De),Ke=(0,Pe.computeReloadInterval)(ce,Ue),$e=(ce.updated?ke>this.requestScheduled+Ke&&(this.requestScheduled=Ae.loading.start):this.requestScheduled=-1,Ee!==void 0&&ce.canBlockReload?this.requestScheduled=Ae.loading.first+Ke-(1e3*ce.partTarget||1e3):this.requestScheduled=(this.requestScheduled===-1?ke:this.requestScheduled)+Ke,this.requestScheduled-ke),$e=Math.max(0,$e),this.log("reload live playlist "+Ne+" in "+Math.round($e)+" ms"),this.timer=self.setTimeout(function(){return he.loadPlaylist(je)},$e)}}else this.clearTimer()},fe.getDeliveryDirectives=function(Ne,ee,se,he){var ce=(0,Se.getSkipValue)(Ne,se);return ee!=null&&ee.skip&&Ne.deltaUpdateFailed&&(se=ee.msn,he=ee.part,ce=Se.HlsSkip.No),new Se.HlsUrlParameters(se,he,ce)},fe.retryLoadingOrFail=function(Ne){var ee,se=this,he=this.hls.config,ce=this.retryCount<he.levelLoadingMaxRetry;return ce?(this.requestScheduled=-1,this.retryCount++,-1<Ne.details.indexOf("LoadTimeOut")&&(ee=Ne.context)!=null&&ee.deliveryDirectives?(this.warn("retry playlist loading #"+this.retryCount+' after "'+Ne.details+'"'),this.loadPlaylist()):(ee=Math.min(Math.pow(2,this.retryCount)*he.levelLoadingRetryDelay,he.levelLoadingMaxRetryTimeout),this.timer=self.setTimeout(function(){return se.loadPlaylist()},ee),this.warn("retry playlist loading #"+this.retryCount+" in "+ee+' ms after "'+Ne.details+'"'))):(this.warn('cannot recover from error "'+Ne.details+'"'),this.clearTimer(),Ne.fatal=!0),ce},ye);function ye(Ne,ee){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=xe.logger.log.bind(xe.logger,ee+":"),this.warn=xe.logger.warn.bind(xe.logger,ee+":"),this.hls=Ne}},"./src/controller/base-stream-controller.ts":(_e,Pe,de)=>{de.r(Pe),de.d(Pe,{State:()=>Ue,default:()=>Ke});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/task-loop.ts"),xe=de("./src/controller/fragment-tracker.ts"),Oe=de("./src/utils/buffer-helper.ts"),Fe=de("./src/utils/logger.ts"),ye=de("./src/events.ts"),Ne=de("./src/errors.ts"),ee=de("./src/types/transmuxer.ts"),se=de("./src/utils/mp4-tools.ts"),he=de("./src/utils/discontinuities.ts"),ce=de("./src/controller/fragment-finders.ts"),Ae=de("./src/controller/level-helper.ts"),ke=de("./src/loader/fragment-loader.ts"),Ee=de("./src/crypt/decrypter.ts"),je=de("./src/utils/time-ranges.ts"),Le=de("./src/types/loader.ts");function $e(Re,Ze){for(var i0,e0=0;e0<Ze.length;e0++){var a0=Ze[e0];a0.enumerable=a0.enumerable||!1,a0.configurable=!0,"value"in a0&&(a0.writable=!0),Object.defineProperty(Re,typeof(i0=(function(n0){if(typeof n0!="object"||n0===null)return n0;var Me=n0[Symbol.toPrimitive];if(Me===void 0)return String(n0);if(Me=Me.call(n0,"string"),typeof Me!="object")return Me;throw new TypeError("@@toPrimitive must return a primitive value.")})(a0.key))=="symbol"?i0:String(i0),a0)}}function Ie(Re,Ze){return(Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i0,e0){return i0.__proto__=e0,i0})(Re,Ze)}var De,Ue={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},Ke=(De=Pe.default,de=De,(Pe=t0).prototype=Object.create(de.prototype),Ie(Pe.prototype.constructor=Pe,de),(Pe=t0.prototype).doTick=function(){this.onTickEnd()},Pe.onTickEnd=function(){},Pe.startLoad=function(Re){},Pe.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort();var Re=this.fragCurrent;Re&&(Re.abortRequests(),this.fragmentTracker.removeFragment(Re)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Ue.STOPPED},Pe._streamEnded=function(Re,Ze){return!(Ze.live||Re.nextStart||!Re.end||!this.media)&&((Re=Ze.partList)!=null&&Re.length?(Re=Re[Re.length-1],Oe.BufferHelper.isBuffered(this.media,Re.start+Re.duration/2)):(Re=Ze.fragments[Ze.fragments.length-1].type,this.fragmentTracker.isEndListAppended(Re)))},Pe.getLevelDetails=function(){var Re;return!this.levels||this.levelLastLoaded===null||(Re=this.levels[this.levelLastLoaded])==null?void 0:Re.details},Pe.onMediaAttached=function(Re,Ze){Ze=this.media=this.mediaBuffer=Ze.media,this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),Ze.addEventListener("seeking",this.onvseeking),Ze.addEventListener("ended",this.onvended),Ze=this.config,this.levels&&Ze.autoStartLoad&&this.state===Ue.STOPPED&&this.startLoad(Ze.startPosition)},Pe.onMediaDetaching=function(){var Re=this.media;Re!=null&&Re.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),Re&&this.onvseeking&&this.onvended&&(Re.removeEventListener("seeking",this.onvseeking),Re.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},Pe.onMediaSeeking=function(){var Re=this.config,Ze=this.fragCurrent,i0=this.media,n0=this.mediaBuffer,e0=this.state,a0=i0?i0.currentTime:0,n0=Oe.BufferHelper.bufferInfo(n0||i0,a0,Re.maxBufferHole);this.log("media seeking to "+((0,Se.isFiniteNumber)(a0)?a0.toFixed(3):a0)+", state: "+e0),this.state===Ue.ENDED?this.resetLoadingState():Ze&&(e0=Re.maxFragLookUpTolerance,Re=Ze.start-e0,e0=Ze.start+Ze.duration+e0,!n0.len||e0<n0.start||Re>n0.end)&&(e0=e0<a0,a0<Re||e0)&&(e0&&Ze.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),Ze.abortRequests()),this.resetLoadingState()),i0&&(this.lastCurrentTime=a0),this.loadedmetadata||n0.len||(this.nextLoadPosition=this.startPosition=a0),this.tickImmediate()},Pe.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},Pe.onLevelSwitching=function(Re,Ze){this.fragLoadError=0},Pe.onHandlerDestroying=function(){this.stopLoad(),De.prototype.onHandlerDestroying.call(this)},Pe.onHandlerDestroyed=function(){this.state=Ue.STOPPED,this.hls.off(ye.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,De.prototype.onHandlerDestroyed.call(this)},Pe.loadFragment=function(Re,Ze,i0){this._loadFragForPlayback(Re,Ze,i0)},Pe._loadFragForPlayback=function(Re,Ze,i0){var e0=this;this._doFragLoad(Re,Ze,i0,function(a0){e0.fragContextChanged(Re)?(e0.warn("Fragment "+Re.sn+(a0.part?" p: "+a0.part.index:"")+" of level "+Re.level+" was dropped during download."),e0.fragmentTracker.removeFragment(Re)):(Re.stats.chunkCount++,e0._handleFragmentLoadProgress(a0))}).then(function(a0){var n0;a0&&(e0.fragLoadError=0,n0=e0.state,e0.fragContextChanged(Re)?n0!==Ue.FRAG_LOADING&&(e0.fragCurrent||n0!==Ue.PARSING)||(e0.fragmentTracker.removeFragment(Re),e0.state=Ue.IDLE):("payload"in a0&&(e0.log("Loaded fragment "+Re.sn+" of level "+Re.level),e0.hls.trigger(ye.Events.FRAG_LOADED,a0)),e0._handleFragmentLoadComplete(a0)))}).catch(function(a0){e0.state!==Ue.STOPPED&&e0.state!==Ue.ERROR&&(e0.warn(a0),e0.resetFragmentLoading(Re))})},Pe.flushMainBuffer=function(Re,Ze,i0){i0===void 0&&(i0=null),Re-Ze&&(Re={startOffset:Re,endOffset:Ze,type:i0},this.fragLoadError=0,this.hls.trigger(ye.Events.BUFFER_FLUSHING,Re))},Pe._loadInitSegment=function(Re,Ze){var i0=this;this._doFragLoad(Re,Ze).then(function(e0){if(e0&&!i0.fragContextChanged(Re)&&i0.levels)return e0;throw new Error("init load aborted")}).then(function(e0){var a0,n0=i0.hls,Me=e0.payload,Xe=Re.decryptdata;return Me&&0<Me.byteLength&&Xe&&Xe.key&&Xe.iv&&Xe.method==="AES-128"?(a0=self.performance.now(),i0.decrypter.decrypt(new Uint8Array(Me),Xe.key.buffer,Xe.iv.buffer).then(function(c0){var h0=self.performance.now();return n0.trigger(ye.Events.FRAG_DECRYPTED,{frag:Re,payload:c0,stats:{tstart:a0,tdecrypt:h0}}),e0.payload=c0,e0})):e0}).then(function(e0){var a0=i0.fragCurrent,n0=i0.hls,Me=i0.levels;if(!Me)throw new Error("init load aborted, missing levels");Me=Me[Re.level].details,console.assert(Me,"Level details are defined when init segment is loaded"),Me=Re.stats,i0.state=Ue.IDLE,i0.fragLoadError=0,Re.data=new Uint8Array(e0.payload),Me.parsing.start=Me.buffering.start=self.performance.now(),Me.parsing.end=Me.buffering.end=self.performance.now(),e0.frag===a0&&n0.trigger(ye.Events.FRAG_BUFFERED,{stats:Me,frag:a0,part:null,id:Re.type}),i0.tick()}).catch(function(e0){i0.state!==Ue.STOPPED&&i0.state!==Ue.ERROR&&(i0.warn(e0),i0.resetFragmentLoading(Re))})},Pe.fragContextChanged=function(Re){var Ze=this.fragCurrent;return!Re||!Ze||Re.level!==Ze.level||Re.sn!==Ze.sn||Re.urlId!==Ze.urlId},Pe.fragBufferedComplete=function(Re,Ze){var i0=this.mediaBuffer||this.media;this.log("Buffered "+Re.type+" sn: "+Re.sn+(Ze?" part: "+Ze.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+Re.level+" (frag:["+(Re.startPTS||NaN).toFixed(3)+"-"+(Re.endPTS||NaN).toFixed(3)+"] > buffer:"+(i0?je.default.toString(Oe.BufferHelper.getBuffered(i0)):"(detached)")+")"),this.state=Ue.IDLE,i0&&(!this.loadedmetadata&&Re.type==Le.PlaylistLevelType.MAIN&&i0.buffered.length&&((Ze=this.fragCurrent)==null?void 0:Ze.sn)===((Re=this.fragPrevious)==null?void 0:Re.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},Pe.seekToStartPos=function(){},Pe._handleFragmentLoadComplete=function(Re){var Ze,i0,e0=this.transmuxer;e0&&(i0=Re.frag,Ze=Re.part,Re=!(Re=Re.partsLoaded)||Re.length===0||Re.some(function(a0){return!a0}),i0=new ee.ChunkMetadata(i0.level,i0.sn,i0.stats.chunkCount+1,0,Ze?Ze.index:-1,!Re),e0.flush(i0))},Pe._handleFragmentLoadProgress=function(Re){},Pe._doFragLoad=function(Re,Ze,i0,e0){var a0=this;if(i0===void 0&&(i0=null),!this.levels)throw new Error("frag load aborted, missing levels");var n0=null;if(!Re.encrypted||(Xe=Re.decryptdata)!=null&&Xe.key?!Re.encrypted&&Ze.encryptedFragments.length&&this.keyLoader.loadClear(Re,Ze.encryptedFragments):(this.log("Loading key for "+Re.sn+" of ["+Ze.startSN+"-"+Ze.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+Re.level),this.state=Ue.KEY_LOADING,this.fragCurrent=Re,n0=this.keyLoader.load(Re).then(function(w0){if(!a0.fragContextChanged(w0.frag))return a0.hls.trigger(ye.Events.KEY_LOADED,w0),w0}),this.hls.trigger(ye.Events.KEY_LOADING,{frag:Re}),this.throwIfFragContextChanged("KEY_LOADING")),i0=Math.max(Re.start,i0||0),this.config.lowLatencyMode&&Ze){var Me=Ze.partList;if(Me&&e0){i0>Re.end&&Ze.fragmentHint&&(Re=Ze.fragmentHint);var Xe,c0=this.getNextPart(Me,Re,i0);if(-1<c0)return Xe=Me[c0],this.log("Loading part sn: "+Re.sn+" p: "+Xe.index+" cc: "+Re.cc+" of playlist ["+Ze.startSN+"-"+Ze.endSN+"] parts [0-"+c0+"-"+(Me.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+Re.level+", target: "+parseFloat(i0.toFixed(3))),this.nextLoadPosition=Xe.start+Xe.duration,this.state=Ue.FRAG_LOADING,this.hls.trigger(ye.Events.FRAG_LOADING,{frag:Re,part:Me[c0],targetBufferTime:i0}),this.throwIfFragContextChanged("FRAG_LOADING parts"),n0?n0.then(function(w0){return!w0||a0.fragContextChanged(w0.frag)?null:a0.doFragPartsLoad(Re,Me,c0,e0)}).catch(function(w0){return a0.handleFragLoadError(w0)}):this.doFragPartsLoad(Re,Me,c0,e0).catch(function(w0){return a0.handleFragLoadError(w0)});if(!Re.url||this.loadedEndOfParts(Me,i0))return Promise.resolve(null)}}this.log("Loading fragment "+Re.sn+" cc: "+Re.cc+" "+(Ze?"of ["+Ze.startSN+"-"+Ze.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+Re.level+", target: "+parseFloat(i0.toFixed(3))),(0,Se.isFiniteNumber)(Re.sn)&&!this.bitrateTest&&(this.nextLoadPosition=Re.start+Re.duration),this.state=Ue.FRAG_LOADING,this.hls.trigger(ye.Events.FRAG_LOADING,{frag:Re,targetBufferTime:i0}),this.throwIfFragContextChanged("FRAG_LOADING");var h0=this.config.progressive;return h0&&n0?n0.then(function(w0){return!w0||a0.fragContextChanged(w0?.frag)?null:a0.fragmentLoader.load(Re,e0)}).catch(function(w0){return a0.handleFragLoadError(w0)}):Promise.all([this.fragmentLoader.load(Re,h0?e0:void 0),n0]).then(function(w0){return w0=w0[0],!h0&&w0&&e0&&e0(w0),w0}).catch(function(w0){return a0.handleFragLoadError(w0)})},Pe.throwIfFragContextChanged=function(Re){if(this.fragCurrent===null)throw new Error("frag load aborted, context changed in "+Re)},Pe.doFragPartsLoad=function(Re,Ze,i0,e0){var a0=this;return new Promise(function(n0,Me){var Xe=[];(function c0(h0){var w0=Ze[h0];a0.fragmentLoader.loadPart(Re,w0,e0).then(function(K0){var q0=(Xe[w0.index]=K0).part,K0=(a0.hls.trigger(ye.Events.FRAG_LOADED,K0),Ze[h0+1]);if(!K0||K0.fragment!==Re)return n0({frag:Re,part:q0,partsLoaded:Xe});c0(h0+1)}).catch(Me)})(i0)})},Pe.handleFragLoadError=function(Re){var Ze;return"data"in Re?(Ze=Re.data,Re.data&&Ze.details===Ne.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(Ze.frag,Ze.part):this.hls.trigger(ye.Events.ERROR,Ze)):this.hls.trigger(ye.Events.ERROR,{type:Ne.ErrorTypes.OTHER_ERROR,details:Ne.ErrorDetails.INTERNAL_EXCEPTION,err:Re,fatal:!0}),null},Pe._handleTransmuxerFlush=function(Re){var Ze,i0,e0,a0=this.getCurrentContext(Re);a0&&this.state===Ue.PARSING?(Ze=a0.frag,i0=a0.part,a0=a0.level,e0=self.performance.now(),Ze.stats.parsing.end=e0,i0&&(i0.stats.parsing.end=e0),this.updateLevelTiming(Ze,i0,a0,Re.partial)):this.fragCurrent||this.state===Ue.STOPPED||this.state===Ue.ERROR||(this.state=Ue.IDLE)},Pe.getCurrentContext=function(n0){var Ze,i0=this.levels,e0=n0.level,a0=n0.sn,n0=n0.part;return i0&&i0[e0]?(i0=i0[e0],(Ze=(n0=-1<n0?(0,Ae.getPartWith)(i0,a0,n0):null)?n0.fragment:(0,Ae.getFragmentWithSN)(i0,a0,this.fragCurrent))?{frag:Ze,part:n0,level:i0}:null):(this.warn("Levels object was unset while buffering fragment "+a0+" of level "+e0+". The current chunk will not be buffered."),null)},Pe.bufferFragmentData=function(Re,Ze,i0,e0){var a0,n0,Me;Re&&this.state===Ue.PARSING&&(Me=Re.data1,a0=Re.data2,n0=(n0=Me)&&a0?(0,se.appendUint8Array)(Me,a0):n0)&&n0.length&&(Me={type:Re.type,frag:Ze,part:i0,chunkMeta:e0,parent:Ze.type,data:n0},this.hls.trigger(ye.Events.BUFFER_APPENDING,Me),Re.dropped)&&Re.independent&&!i0&&this.flushBufferGap(Ze)},Pe.flushBufferGap=function(Re){var Ze,i0,e0=this.media;e0&&(Oe.BufferHelper.isBuffered(e0,e0.currentTime)?(Ze=e0.currentTime,e0=Oe.BufferHelper.bufferInfo(e0,Ze,0),i0=Re.duration,i0=Math.min(2*this.config.maxFragLookUpTolerance,.25*i0),e0=Math.max(Math.min(Re.start-i0,e0.end-i0),Ze+i0),Re.start-e0>i0&&this.flushMainBuffer(e0,Re.start)):this.flushMainBuffer(0,Re.start))},Pe.getFwdBufferInfo=function(Re,Ze){var i0=this.config,e0=this.getLoadPosition();if(!(0,Se.isFiniteNumber)(e0))return null;var a0=Oe.BufferHelper.bufferInfo(Re,e0,i0.maxBufferHole);return a0.len===0&&a0.nextStart!==void 0&&(Ze=this.fragmentTracker.getBufferedFrag(e0,Ze),Ze&&a0.nextStart<Ze.end)?Oe.BufferHelper.bufferInfo(Re,e0,Math.max(a0.nextStart,i0.maxBufferHole)):a0},Pe.getMaxBufferLength=function(i0){var Ze=this.config,i0=i0?Math.max(8*Ze.maxBufferSize/i0,Ze.maxBufferLength):Ze.maxBufferLength;return Math.min(i0,Ze.maxMaxBufferLength)},Pe.reduceMaxBufferLength=function(i0){var Ze=this.config,i0=i0||Ze.maxBufferLength;return Ze.maxMaxBufferLength>=i0&&(Ze.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+Ze.maxMaxBufferLength+"s"),!0)},Pe.getNextFragment=function(Re,Ze){var i0=Ze.fragments,e0=i0.length;if(!e0)return null;var a0,n0=this.config,Me=i0[0].start;if(Ze.live){var Xe=n0.initialLiveManifestSize;if(e0<Xe)return this.warn("Not enough fragments to start playback (have: "+e0+", need: "+Xe+")"),null;Ze.PTSKnown||this.startFragRequested||this.startPosition!==-1||(a0=this.getInitialLiveFragment(Ze,i0),this.startPosition=a0?this.hls.liveSyncPosition||a0.start:Re)}else Re<=Me&&(a0=i0[0]);return a0||(e0=n0.lowLatencyMode?Ze.partEnd:Ze.fragmentEnd,a0=this.getFragmentAtPosition(Re,e0,Ze)),this.mapToInitFragWhenRequired(a0)},Pe.mapToInitFragWhenRequired=function(Re){return Re==null||!Re.initSegment||Re!=null&&Re.initSegment.data||this.bitrateTest?Re:Re.initSegment},Pe.getNextPart=function(Re,Ze,i0){for(var e0=-1,a0=!1,n0=!0,Me=0,Xe=Re.length;Me<Xe;Me++){var c0=Re[Me],n0=n0&&!c0.independent;if(-1<e0&&i0<c0.start)break;var h0=c0.loaded;h0?e0=-1:(a0||c0.independent||n0)&&c0.fragment===Ze&&(e0=Me),a0=h0}return e0},Pe.loadedEndOfParts=function(Re,Ze){return Re=Re[Re.length-1],Re&&Ze>Re.start&&Re.loaded},Pe.getInitialLiveFragment=function(Re,Ze){var i0,e0=this.fragPrevious,a0=null;return e0?(Re.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+e0.programDateTime),a0=(0,ce.findFragmentByPDT)(Ze,e0.endProgramDateTime,this.config.maxFragLookUpTolerance)),a0||((i0=e0.sn+1)>=Re.startSN&&i0<=Re.endSN&&(i0=Ze[i0-Re.startSN],e0.cc===i0.cc)&&this.log("Live playlist, switching playlist, load frag with next SN: "+(a0=i0).sn),a0)||(a0=(0,ce.findFragWithCC)(Ze,e0.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+a0.sn)):(i0=this.hls.liveSyncPosition)!==null&&(a0=this.getFragmentAtPosition(i0,this.bitrateTest?Re.fragmentEnd:Re.edge,Re)),a0},Pe.getFragmentAtPosition=function(Re,Ze,i0){var c0=this.config,e0=this.fragPrevious,a0=i0.fragments,n0=i0.endSN,Me=i0.fragmentHint,Xe=c0.maxFragLookUpTolerance,c0=!!(c0.lowLatencyMode&&i0.partList&&Me);return c0&&Me&&!this.bitrateTest&&(a0=a0.concat(Me),n0=Me.sn),(Me=Re<Ze?(0,ce.findFragmentByPTS)(e0,a0,Re,Ze-Xe<Re?0:Xe):a0[a0.length-1])&&(Ze=Me.sn-i0.startSN,e0=this.fragmentTracker.getState(Me)===xe.FragmentState.OK?Me:e0)&&Me.sn===e0.sn&&!c0&&e0&&Me.level===e0.level&&(Re=a0[1+Ze],Me=Me.sn<n0&&this.fragmentTracker.getState(Re)!==xe.FragmentState.OK?(this.log("SN "+Me.sn+" just loaded, load next one: "+Re.sn),Re):null),Me},Pe.synchronizeToLiveEdge=function(Re){var Ze,i0,e0,a0,n0=this.config,Me=this.media;Me&&(Ze=this.hls.liveSyncPosition,i0=Me.currentTime,a0=Re.fragments[0].start,e0=Re.edge,a0=i0>=a0-n0.maxFragLookUpTolerance&&i0<=e0,Ze!==null)&&Me.duration>Ze&&(i0<Ze||!a0)&&(n0=n0.liveMaxLatencyDuration!==void 0?n0.liveMaxLatencyDuration:n0.liveMaxLatencyDurationCount*Re.targetduration,!a0&&Me.readyState<4||i0<e0-n0)&&(this.loadedmetadata||(this.nextLoadPosition=Ze),Me.readyState)&&(this.warn("Playback: "+i0.toFixed(3)+" is located too far from the end of live sliding playlist: "+e0+", reset currentTime to : "+Ze.toFixed(3)),Me.currentTime=Ze)},Pe.alignPlaylists=function(Re,Ze){var i0,e0,a0,Me=this.levels,Xe=this.levelLastLoaded,n0=this.fragPrevious,Me=Xe!==null?Me[Xe]:null,Xe=Re.fragments.length;return Xe?(i0=Re.fragments[0].start,a0=!Ze,e0=Re.alignedSliding&&(0,Se.isFiniteNumber)(i0),a0||!e0&&!i0?((0,he.alignStream)(n0,Me,Re),a0=Re.fragments[0].start,this.log("Live playlist sliding: "+a0.toFixed(2)+" start-sn: "+(Ze?Ze.startSN:"na")+"->"+Re.startSN+" prev-sn: "+(n0?n0.sn:"na")+" fragments: "+Xe),a0):i0):(this.warn("No fragments in live playlist"),0)},Pe.waitForCdnTuneIn=function(Re){return Re.live&&Re.canBlockReload&&Re.partTarget&&Re.tuneInGoal>Math.max(Re.partHoldBack,3*Re.partTarget)},Pe.setStartPosition=function(Re,Ze){var i0,e0=this.startPosition;(e0=e0<Ze?-1:e0)!==-1&&this.lastCurrentTime!==-1||(i0=Re.startTimeOffset,(0,Se.isFiniteNumber)(i0)?(e0=Ze+i0,i0<0&&(e0+=Re.totalduration),e0=Math.min(Math.max(Ze,e0),Ze+Re.totalduration),this.log("Start time offset "+i0+" found in playlist, adjust startPosition to "+e0),this.startPosition=e0):Re.live?e0=this.hls.liveSyncPosition||Ze:this.startPosition=e0=0,this.lastCurrentTime=e0),this.nextLoadPosition=e0},Pe.getLoadPosition=function(){var Re=this.media,Ze=0;return this.loadedmetadata&&Re?Ze=Re.currentTime:this.nextLoadPosition&&(Ze=this.nextLoadPosition),Ze},Pe.handleFragLoadAborted=function(Re,Ze){this.transmuxer&&Re.sn!=="initSegment"&&Re.stats.aborted&&(this.warn("Fragment "+Re.sn+(Ze?" part"+Ze.index:"")+" of level "+Re.level+" was aborted"),this.resetFragmentLoading(Re))},Pe.resetFragmentLoading=function(Re){this.fragCurrent&&(this.fragContextChanged(Re)||this.state===Ue.FRAG_LOADING_WAITING_RETRY)||(this.state=Ue.IDLE)},Pe.onFragmentOrKeyLoadError=function(Re,Ze){var i0,e0,a0;Ze.fatal?(this.stopLoad(),this.state=Ue.ERROR):(i0=this.config,Ze.chunkMeta&&(e0=this.getCurrentContext(Ze.chunkMeta))&&(Ze.frag=e0.frag,Ze.levelRetry=!0,this.fragLoadError=i0.fragLoadingMaxRetry),(e0=Ze.frag)&&e0.type===Re&&(a0=this.fragCurrent,console.assert(a0&&e0.sn===a0.sn&&e0.level===a0.level&&e0.urlId===a0.urlId,"Frag load error must match current frag to retry"),this.fragLoadError+1<=i0.fragLoadingMaxRetry?(this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),a0=Math.min(Math.pow(2,this.fragLoadError)*i0.fragLoadingRetryDelay,i0.fragLoadingMaxRetryTimeout),this.warn("Fragment "+e0.sn+" of "+Re+" "+e0.level+" failed to load, retrying in "+a0+"ms"),this.retryDate=self.performance.now()+a0,this.fragLoadError++,this.state=Ue.FRAG_LOADING_WAITING_RETRY):Ze.levelRetry?(Re===Le.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=Ue.IDLE):(Fe.logger.error(Ze.details+" reaches max retry, redispatch as fatal ..."),Ze.fatal=!0,this.hls.stopLoad(),this.state=Ue.ERROR)))},Pe.afterBufferFlushed=function(Re,Ze,i0){Re&&(Re=Oe.BufferHelper.getBuffered(Re),this.fragmentTracker.detectEvictedFragments(Ze,Re,i0),this.state===Ue.ENDED)&&this.resetLoadingState()},Pe.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=Ue.IDLE},Pe.resetStartWhenNotLoaded=function(Re){this.loadedmetadata||(this.startFragRequested=!1,(Re=this.levels?this.levels[Re].details:null)!=null&&Re.live?(this.startPosition=-1,this.setStartPosition(Re,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition)},Pe.updateLevelTiming=function(Re,Ze,i0,e0){var a0=this,n0=i0.details;console.assert(!!n0,"level.details must be defined"),Object.keys(Re.elementaryStreams).reduce(function(Me,Xe){var c0,h0=Re.elementaryStreams[Xe];return h0?(c0=h0.endPTS-h0.startPTS)<=0?(a0.warn("Could not parse fragment "+Re.sn+" "+Xe+" duration reliably ("+c0+")"),Me||!1):(c0=e0?0:(0,Ae.updateFragPTSDTS)(n0,Re,h0.startPTS,h0.endPTS,h0.startDTS,h0.endDTS),a0.hls.trigger(ye.Events.LEVEL_PTS_UPDATED,{details:n0,level:i0,drift:c0,type:Xe,frag:Re,start:h0.startPTS,end:h0.endPTS}),!0):Me},!1)||(this.warn("Found no media in fragment "+Re.sn+" of level "+i0.id+" resetting transmuxer to fallback to playlist timing"),this.resetTransmuxer()),this.state=Ue.PARSED,this.hls.trigger(ye.Events.FRAG_PARSED,{frag:Re,part:Ze})},Pe.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},$e((de=t0).prototype,[{key:"state",get:function(){return this._state},set:function(Re){var Ze=this._state;Ze!==Re&&(this._state=Re,this.log(Ze+"->"+Re))}}]),Object.defineProperty(de,"prototype",{writable:!1}),t0);function t0(Re,Ze,i0,e0){var a0;return(a0=De.call(this)||this).hls=void 0,a0.fragPrevious=null,a0.fragCurrent=null,a0.fragmentTracker=void 0,a0.transmuxer=null,a0._state=Ue.STOPPED,a0.media=null,a0.mediaBuffer=null,a0.config=void 0,a0.bitrateTest=!1,a0.lastCurrentTime=0,a0.nextLoadPosition=0,a0.startPosition=0,a0.loadedmetadata=!1,a0.fragLoadError=0,a0.retryDate=0,a0.levels=null,a0.fragmentLoader=void 0,a0.keyLoader=void 0,a0.levelLastLoaded=null,a0.startFragRequested=!1,a0.decrypter=void 0,a0.initPTS=[],a0.onvseeking=null,a0.onvended=null,a0.logPrefix="",a0.log=void 0,a0.warn=void 0,a0.logPrefix=e0,a0.log=Fe.logger.log.bind(Fe.logger,e0+":"),a0.warn=Fe.logger.warn.bind(Fe.logger,e0+":"),a0.hls=Re,a0.fragmentLoader=new ke.default(Re.config),a0.keyLoader=i0,a0.fragmentTracker=Ze,a0.config=Re.config,a0.decrypter=new Ee.default(Re.config),Re.on(ye.Events.LEVEL_SWITCHING,a0.onLevelSwitching,(function(n0){if(n0===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n0})(a0)),a0}},"./src/controller/buffer-controller.ts":(_e,ye,de)=>{de.r(ye),de.d(ye,{default:()=>ce});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/events.ts"),xe=de("./src/utils/logger.ts"),Oe=de("./src/errors.ts"),Fe=de("./src/utils/buffer-helper.ts"),ye=de("./src/utils/mediasource-helper.ts"),Ne=de("./src/loader/fragment.ts"),ee=de("./src/controller/buffer-operation-queue.ts"),se=(0,ye.getMediaSource)(),he=/([ha]vc.)(?:\.[^.,]+)+/,ce=((de=Ae.prototype).hasSourceTypes=function(){return 0<this.getSourceBufferTypes().length||0<Object.keys(this.pendingTracks).length},de.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null},de.registerListeners=function(){var ke=this.hls;ke.on(Pe.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),ke.on(Pe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),ke.on(Pe.Events.MANIFEST_PARSED,this.onManifestParsed,this),ke.on(Pe.Events.BUFFER_RESET,this.onBufferReset,this),ke.on(Pe.Events.BUFFER_APPENDING,this.onBufferAppending,this),ke.on(Pe.Events.BUFFER_CODECS,this.onBufferCodecs,this),ke.on(Pe.Events.BUFFER_EOS,this.onBufferEos,this),ke.on(Pe.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),ke.on(Pe.Events.LEVEL_UPDATED,this.onLevelUpdated,this),ke.on(Pe.Events.FRAG_PARSED,this.onFragParsed,this),ke.on(Pe.Events.FRAG_CHANGED,this.onFragChanged,this)},de.unregisterListeners=function(){var ke=this.hls;ke.off(Pe.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),ke.off(Pe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),ke.off(Pe.Events.MANIFEST_PARSED,this.onManifestParsed,this),ke.off(Pe.Events.BUFFER_RESET,this.onBufferReset,this),ke.off(Pe.Events.BUFFER_APPENDING,this.onBufferAppending,this),ke.off(Pe.Events.BUFFER_CODECS,this.onBufferCodecs,this),ke.off(Pe.Events.BUFFER_EOS,this.onBufferEos,this),ke.off(Pe.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),ke.off(Pe.Events.LEVEL_UPDATED,this.onLevelUpdated,this),ke.off(Pe.Events.FRAG_PARSED,this.onFragParsed,this),ke.off(Pe.Events.FRAG_CHANGED,this.onFragChanged,this)},de._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new ee.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null},de.onManifestParsed=function(ke,Ee){var je=2;(!Ee.audio||Ee.video)&&Ee.altAudio||(je=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=je,this.details=null,xe.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},de.onMediaAttaching=function(ke,Le){var je,Le=this.media=Le.media;Le&&se&&((je=this.mediaSource=new se).addEventListener("sourceopen",this._onMediaSourceOpen),je.addEventListener("sourceended",this._onMediaSourceEnded),je.addEventListener("sourceclose",this._onMediaSourceClose),Le.src=self.URL.createObjectURL(je),this._objectUrl=Le.src)},de.onMediaDetaching=function(){var ke=this.media,Ee=this.mediaSource,je=this._objectUrl;if(Ee){if(xe.logger.log("[buffer-controller]: media source detaching"),Ee.readyState==="open")try{Ee.endOfStream()}catch(Le){xe.logger.warn("[buffer-controller]: onMediaDetaching: "+Le.message+" while calling endOfStream")}this.onBufferReset(),Ee.removeEventListener("sourceopen",this._onMediaSourceOpen),Ee.removeEventListener("sourceended",this._onMediaSourceEnded),Ee.removeEventListener("sourceclose",this._onMediaSourceClose),ke&&(je&&self.URL.revokeObjectURL(je),ke.src===je?(ke.removeAttribute("src"),ke.load()):xe.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(Pe.Events.MEDIA_DETACHED,void 0)},de.onBufferReset=function(){var ke=this;this.getSourceBufferTypes().forEach(function(Ee){var je=ke.sourceBuffer[Ee];try{je&&(ke.removeBufferListeners(Ee),ke.mediaSource&&ke.mediaSource.removeSourceBuffer(je),ke.sourceBuffer[Ee]=void 0)}catch(Le){xe.logger.warn("[buffer-controller]: Failed to reset the "+Ee+" buffer",Le)}}),this._initSourceBuffer()},de.onBufferCodecs=function(ke,Ee){var je=this,Le=this.getSourceBufferTypes().length;Object.keys(Ee).forEach(function($e){var Ie,De,Ue,Ke,t0,Re,Ze,i0;Le?(Ie=je.tracks[$e])&&typeof Ie.buffer.changeType=="function"&&(De=(Re=Ee[$e]).id,Ue=Re.codec,Ke=Re.levelCodec,t0=Re.container,Re=Re.metadata,(Ze=(Ie.levelCodec||Ie.codec).replace(he,"$1"))!==(i0=(Ke||Ue).replace(he,"$1")))&&(je.appendChangeType($e,t0+";codecs="+(Ke||Ue)),xe.logger.log("[buffer-controller]: switching codec "+Ze+" to "+i0),je.tracks[$e]={buffer:Ie.buffer,codec:Ue,container:t0,levelCodec:Ke,metadata:Re,id:De}):je.pendingTracks[$e]=Ee[$e]}),Le||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},de.appendChangeType=function(ke,Ee){var je=this,Le=this.operationQueue;Le.append({execute:function(){var $e=je.sourceBuffer[ke];$e&&(xe.logger.log("[buffer-controller]: changing "+ke+" sourceBuffer type to "+Ee),$e.changeType(Ee)),Le.shiftAndExecuteNext(ke)},onStart:function(){},onComplete:function(){},onError:function($e){xe.logger.warn("[buffer-controller]: Failed to change "+ke+" SourceBuffer type",$e)}},ke)},de.onBufferAppending=function(ke,a0){var je=this,Le=this.hls,$e=this.operationQueue,Ie=this.tracks,De=a0.data,Ue=a0.type,Ke=a0.frag,t0=a0.part,Re=a0.chunkMeta,Ze=Re.buffering[Ue],a0=self.performance.now(),i0=(Ze.start=a0,Ke.stats.buffering),e0=t0?t0.stats.buffering:null,a0=(i0.start===0&&(i0.start=a0),e0&&e0.start===0&&(e0.start=a0),Ie.audio),n0=!1,Me=(Ue==="audio"&&a0?.container==="audio/mpeg"&&(n0=!this.lastMpegAudioChunk||Re.id===1||this.lastMpegAudioChunk.sn!==Re.sn,this.lastMpegAudioChunk=Re),Ke.start);$e.append({execute:function(){var Xe,c0;Ze.executeStart=self.performance.now(),n0&&(Xe=je.sourceBuffer[Ue])&&(c0=Me-Xe.timestampOffset,.1<=Math.abs(c0))&&(xe.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+Me+" (delta: "+c0+") sn: "+Ke.sn+")"),Xe.timestampOffset=Me),je.appendExecutor(De,Ue)},onStart:function(){},onComplete:function(){var Xe,c0=self.performance.now(),h0=(Ze.executeEnd=Ze.end=c0,i0.first===0&&(i0.first=c0),e0&&e0.first===0&&(e0.first=c0),je.sourceBuffer),w0={};for(Xe in h0)w0[Xe]=Fe.BufferHelper.getBuffered(h0[Xe]);je.appendError=0,je.hls.trigger(Pe.Events.BUFFER_APPENDED,{type:Ue,frag:Ke,part:t0,chunkMeta:Re,parent:Ke.type,timeRanges:w0})},onError:function(Xe){xe.logger.error("[buffer-controller]: Error encountered while trying to append to the "+Ue+" SourceBuffer",Xe);var c0={type:Oe.ErrorTypes.MEDIA_ERROR,parent:Ke.type,details:Oe.ErrorDetails.BUFFER_APPEND_ERROR,err:Xe,fatal:!1};Xe.code===DOMException.QUOTA_EXCEEDED_ERR?c0.details=Oe.ErrorDetails.BUFFER_FULL_ERROR:(je.appendError++,c0.details=Oe.ErrorDetails.BUFFER_APPEND_ERROR,je.appendError>Le.config.appendErrorMaxRetry&&(xe.logger.error("[buffer-controller]: Failed "+Le.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),c0.fatal=!0,Le.stopLoad())),Le.trigger(Pe.Events.ERROR,c0)}},Ue)},de.onBufferFlushing=function(ke,Ee){function je(Ie){return{execute:Le.removeExecutor.bind(Le,Ie,Ee.startOffset,Ee.endOffset),onStart:function(){},onComplete:function(){Le.hls.trigger(Pe.Events.BUFFER_FLUSHED,{type:Ie})},onError:function(De){xe.logger.warn("[buffer-controller]: Failed to remove from "+Ie+" SourceBuffer",De)}}}var Le=this,$e=this.operationQueue;Ee.type?$e.append(je(Ee.type),Ee.type):this.getSourceBufferTypes().forEach(function(Ie){$e.append(je(Ie),Ie)})},de.onFragParsed=function(ke,Ie){var je=this,Le=Ie.frag,$e=Ie.part,Ie=[],De=($e||Le).elementaryStreams;De[Ne.ElementaryStreamTypes.AUDIOVIDEO]?Ie.push("audiovideo"):(De[Ne.ElementaryStreamTypes.AUDIO]&&Ie.push("audio"),De[Ne.ElementaryStreamTypes.VIDEO]&&Ie.push("video")),Ie.length===0&&xe.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+Le.type+" level: "+Le.level+" sn: "+Le.sn),this.blockBuffers(function(){var Ue=self.performance.now(),Ue=(Le.stats.buffering.end=Ue,$e&&($e.stats.buffering.end=Ue),($e||Le).stats);je.hls.trigger(Pe.Events.FRAG_BUFFERED,{frag:Le,part:$e,stats:Ue,id:Le.type})},Ie)},de.onFragChanged=function(ke,Ee){this.flushBackBuffer()},de.onBufferEos=function(ke,Ee){var je=this;this.getSourceBufferTypes().reduce(function(Le,$e){var Ie=je.sourceBuffer[$e];return!Ie||Ee.type&&Ee.type!==$e||(Ie.ending=!0,Ie.ended)||(Ie.ended=!0,xe.logger.log("[buffer-controller]: "+$e+" sourceBuffer now EOS")),Le&&!(Ie&&!Ie.ended)},!0)&&(xe.logger.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(function(){je.getSourceBufferTypes().forEach(function($e){$e=je.sourceBuffer[$e],$e&&($e.ending=!1)});var Le=je.mediaSource;Le&&Le.readyState==="open"?(xe.logger.log("[buffer-controller]: Calling mediaSource.endOfStream()"),Le.endOfStream()):Le&&xe.logger.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+Le.readyState)}))},de.onLevelUpdated=function(ke,Ee){Ee=Ee.details,Ee.fragments.length&&(this.details=Ee,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},de.flushBackBuffer=function(){var ke,Ee,je,Le,$e,Ie=this.hls,De=this.details,Ue=this.media,Ke=this.sourceBuffer;Ue&&De!==null&&(ke=this.getSourceBufferTypes()).length&&(Ee=De.live&&Ie.config.liveBackBufferLength!==null?Ie.config.liveBackBufferLength:Ie.config.backBufferLength,!(0,Se.isFiniteNumber)(Ee)||Ee<0||(je=Ue.currentTime,Le=De.levelTargetDuration,Ue=Math.max(Ee,Le),$e=Math.floor(je/Le)*Le-Ue,ke.forEach(function(t0){var Re=Ke[t0];if(Re){var Ze=Fe.BufferHelper.getBuffered(Re);if(0<Ze.length&&$e>Ze.start(0)){if(Ie.trigger(Pe.Events.BACK_BUFFER_REACHED,{bufferEnd:$e}),De.live)Ie.trigger(Pe.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:$e});else if(Re.ended&&Ze.end(Ze.length-1)-je<2*Le)return void xe.logger.info("[buffer-controller]: Cannot flush "+t0+" back buffer while SourceBuffer is in ended state");Ie.trigger(Pe.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:$e,type:t0})}}})))},de.updateMediaElementDuration=function(){var ke,Ee,je,Le,$e,Ie;this.details&&this.media&&this.mediaSource&&this.mediaSource.readyState==="open"&&(ke=this.details,Ee=this.hls,$e=this.media,je=this.mediaSource,Le=ke.fragments[0].start+ke.totalduration,$e=$e.duration,Ie=(0,Se.isFiniteNumber)(je.duration)?je.duration:0,ke.live&&Ee.config.liveDurationInfinity?(xe.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),je.duration=1/0,this.updateSeekableRange(ke)):(Ie<Le&&$e<Le||!(0,Se.isFiniteNumber)($e))&&(xe.logger.log("[buffer-controller]: Updating Media Source duration to "+Le.toFixed(3)),je.duration=Le))},de.updateSeekableRange=function(ke){var Ee=this.mediaSource,je=ke.fragments;je.length&&ke.live&&Ee!=null&&Ee.setLiveSeekableRange&&(je=Math.max(0,je[0].start),ke=Math.max(je,je+ke.totalduration),Ee.setLiveSeekableRange(je,ke))},de.checkPendingTracks=function(){var ke=this.bufferCodecEventsExpected,Ee=this.operationQueue,je=this.pendingTracks,Le=Object.keys(je).length;(Le&&!ke||Le===2)&&(this.createSourceBuffers(je),this.pendingTracks={},(ke=this.getSourceBufferTypes()).length===0?this.hls.trigger(Pe.Events.ERROR,{type:Oe.ErrorTypes.MEDIA_ERROR,details:Oe.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"}):ke.forEach(function($e){Ee.executeNext($e)}))},de.createSourceBuffers=function(ke){var Ee=this.sourceBuffer,je=this.mediaSource;if(!je)throw Error("createSourceBuffers called when mediaSource was null");var Le,$e=0;for(Le in ke)if(!Ee[Le]){var Ie=ke[Le];if(!Ie)throw Error("source buffer exists for track "+Le+", however track does not");var De=Ie.levelCodec||Ie.codec,Ue=Ie.container+";codecs="+De;xe.logger.log("[buffer-controller]: creating sourceBuffer("+Ue+")");try{var Ke=Ee[Le]=je.addSourceBuffer(Ue),t0=Le;this.addBufferListener(t0,"updatestart",this._onSBUpdateStart),this.addBufferListener(t0,"updateend",this._onSBUpdateEnd),this.addBufferListener(t0,"error",this._onSBUpdateError),this.tracks[Le]={buffer:Ke,codec:De,container:Ie.container,levelCodec:Ie.levelCodec,metadata:Ie.metadata,id:Ie.id},$e++}catch(Re){xe.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+Re.message),this.hls.trigger(Pe.Events.ERROR,{type:Oe.ErrorTypes.MEDIA_ERROR,details:Oe.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:Re,mimeType:Ue})}}$e&&this.hls.trigger(Pe.Events.BUFFER_CREATED,{tracks:this.tracks})},de._onSBUpdateStart=function(ke){this.operationQueue.current(ke).onStart()},de._onSBUpdateEnd=function(ke){var Ee=this.operationQueue;Ee.current(ke).onComplete(),Ee.shiftAndExecuteNext(ke)},de._onSBUpdateError=function(ke,Ee){xe.logger.error("[buffer-controller]: "+ke+" SourceBuffer error",Ee),this.hls.trigger(Pe.Events.ERROR,{type:Oe.ErrorTypes.MEDIA_ERROR,details:Oe.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1}),ke=this.operationQueue.current(ke),ke&&ke.onError(Ee)},de.removeExecutor=function(ke,Ee,je){var Le=this.media,$e=this.mediaSource,Ie=this.operationQueue,De=this.sourceBuffer[ke];Le&&$e&&De?(Le=(0,Se.isFiniteNumber)(Le.duration)?Le.duration:1/0,$e=(0,Se.isFiniteNumber)($e.duration)?$e.duration:1/0,(Ee=Math.max(0,Ee))<(je=Math.min(je,Le,$e))&&!De.ending?(De.ended=!1,xe.logger.log("[buffer-controller]: Removing ["+Ee+","+je+"] from the "+ke+" SourceBuffer"),console.assert(!De.updating,ke+" sourceBuffer must not be updating"),De.remove(Ee,je)):Ie.shiftAndExecuteNext(ke)):(xe.logger.warn("[buffer-controller]: Attempting to remove from the "+ke+" SourceBuffer, but it does not exist"),Ie.shiftAndExecuteNext(ke))},de.appendExecutor=function(ke,Ee){var je=this.operationQueue,Le=this.sourceBuffer[Ee];Le?(Le.ended=!1,console.assert(!Le.updating,Ee+" sourceBuffer must not be updating"),Le.appendBuffer(ke)):(xe.logger.warn("[buffer-controller]: Attempting to append to the "+Ee+" SourceBuffer, but it does not exist"),je.shiftAndExecuteNext(Ee))},de.blockBuffers=function(ke,Ee){var je,Le,$e=this;(Ee=Ee===void 0?this.getSourceBufferTypes():Ee).length?(je=this.operationQueue,Le=Ee.map(function(Ie){return je.appendBlocker(Ie)}),Promise.all(Le).then(function(){ke(),Ee.forEach(function(Ie){var De=$e.sourceBuffer[Ie];De&&De.updating||je.shiftAndExecuteNext(Ie)})})):(xe.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(ke))},de.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},de.addBufferListener=function(ke,Ee,je){var Le=this.sourceBuffer[ke];Le&&(je=je.bind(this,ke),this.listeners[ke].push({event:Ee,listener:je}),Le.addEventListener(Ee,je))},de.removeBufferListeners=function(ke){var Ee=this.sourceBuffer[ke];Ee&&this.listeners[ke].forEach(function(je){Ee.removeEventListener(je.event,je.listener)})},Ae);function Ae(ke){var Ee=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var je=Ee.hls,Le=Ee.media,$e=Ee.mediaSource;xe.logger.log("[buffer-controller]: Media source opened"),Le&&(Ee.updateMediaElementDuration(),je.trigger(Pe.Events.MEDIA_ATTACHED,{media:Le})),$e&&$e.removeEventListener("sourceopen",Ee._onMediaSourceOpen),Ee.checkPendingTracks()},this._onMediaSourceClose=function(){xe.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){xe.logger.log("[buffer-controller]: Media source ended")},this.hls=ke,this._initSourceBuffer(),this.registerListeners()}},"./src/controller/buffer-operation-queue.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Pe});var Se=de("./src/utils/logger.ts"),Pe=((fe=xe.prototype).append=function(Oe,Fe){var ye=this.queues[Fe];ye.push(Oe),ye.length===1&&this.buffers[Fe]&&this.executeNext(Fe)},fe.insertAbort=function(Oe,Fe){this.queues[Fe].unshift(Oe),this.executeNext(Fe)},fe.appendBlocker=function(Oe){var Fe,ye=new Promise(function(ee){Fe=ee}),Ne={execute:Fe,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(Ne,Oe),ye},fe.executeNext=function(Oe){var Fe=this.buffers,Ne=this.queues,ye=Fe[Oe],Ne=Ne[Oe];if(Ne.length){var ee=Ne[0];try{ee.execute()}catch(se){Se.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),ee.onError(se),ye&&ye.updating||(Ne.shift(),this.executeNext(Oe))}}},fe.shiftAndExecuteNext=function(Oe){this.queues[Oe].shift(),this.executeNext(Oe)},fe.current=function(Oe){return this.queues[Oe][0]},xe);function xe(Oe){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=Oe}},"./src/controller/cap-level-controller.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Oe});var Se=de("./src/events.ts");function Pe(Fe,ye){for(var Ne,ee=0;ee<ye.length;ee++){var se=ye[ee];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(Fe,typeof(Ne=(function(he){if(typeof he!="object"||he===null)return he;var ce=he[Symbol.toPrimitive];if(ce===void 0)return String(he);if(ce=ce.call(he,"string"),typeof ce!="object")return ce;throw new TypeError("@@toPrimitive must return a primitive value.")})(se.key))=="symbol"?Ne:String(Ne),se)}}function xe(Fe){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=Fe,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}(fe=xe.prototype).setStreamController=function(Fe){this.streamController=Fe},fe.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},fe.registerListeners=function(){var Fe=this.hls;Fe.on(Se.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),Fe.on(Se.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),Fe.on(Se.Events.MANIFEST_PARSED,this.onManifestParsed,this),Fe.on(Se.Events.BUFFER_CODECS,this.onBufferCodecs,this),Fe.on(Se.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},fe.unregisterListener=function(){var Fe=this.hls;Fe.off(Se.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),Fe.off(Se.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),Fe.off(Se.Events.MANIFEST_PARSED,this.onManifestParsed,this),Fe.off(Se.Events.BUFFER_CODECS,this.onBufferCodecs,this),Fe.off(Se.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},fe.onFpsDropLevelCapping=function(Fe,ye){xe.isLevelAllowed(ye.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(ye.droppedLevel)},fe.onMediaAttaching=function(Fe,ye){this.media=ye.media instanceof HTMLVideoElement?ye.media:null,this.clientRect=null},fe.onManifestParsed=function(Fe,ye){var Ne=this.hls;this.restrictedLevels=[],this.firstLevel=ye.firstLevel,Ne.config.capLevelToPlayerSize&&ye.video&&this.startCapping()},fe.onBufferCodecs=function(Fe,ye){this.hls.config.capLevelToPlayerSize&&ye.video&&this.startCapping()},fe.onMediaDetaching=function(){this.stopCapping()},fe.detectPlayerSize=function(){var Fe,ye;this.media&&0<this.mediaHeight&&0<this.mediaWidth&&(Fe=this.hls.levels).length&&((ye=this.hls).autoLevelCapping=this.getMaxLevel(Fe.length-1),ye.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=ye.autoLevelCapping)},fe.getMaxLevel=function(Fe){var ye=this,Ne=this.hls.levels;return Ne.length?(Ne=Ne.filter(function(ee,se){return xe.isLevelAllowed(se,ye.restrictedLevels)&&se<=Fe}),this.clientRect=null,xe.getMaxLevelByMediaSize(Ne,this.mediaWidth,this.mediaHeight)):-1},fe.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},fe.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},fe.getDimensions=function(){var Fe,ye,Ne;return this.clientRect||(ye={width:0,height:0},(Fe=this.media)&&(Ne=Fe.getBoundingClientRect(),ye.width=Ne.width,ye.height=Ne.height,ye.width||ye.height||(ye.width=Ne.right-Ne.left||Fe.width||0,ye.height=Ne.bottom-Ne.top||Fe.height||0)),this.clientRect=ye)},xe.isLevelAllowed=function(Fe,ye){return(ye=ye===void 0?[]:ye).indexOf(Fe)===-1},xe.getMaxLevelByMediaSize=function(Fe,ye,Ne){if(!Fe||!Fe.length)return-1;for(var ee,se=Fe.length-1,he=0;he<Fe.length;he+=1){var ce=Fe[he];if((ce.width>=ye||ce.height>=Ne)&&(!(ee=Fe[he+1])||ce.width!==ee.width||ce.height!==ee.height)){se=he;break}}return se},Pe((fe=xe).prototype,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var Fe=1;if(!this.hls.config.ignoreDevicePixelRatio)try{Fe=self.devicePixelRatio}catch{}return Fe}}]),Object.defineProperty(fe,"prototype",{writable:!1});const Oe=xe},"./src/controller/cmcd-controller.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>he});var Se=de("./src/events.ts"),Pe=de("./src/types/cmcd.ts"),xe=de("./src/utils/buffer-helper.ts"),Oe=de("./src/utils/logger.ts");function Fe(Ae,ke){for(var Ee,je=0;je<ke.length;je++){var Le=ke[je];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(Ae,typeof(Ee=(function($e){if(typeof $e!="object"||$e===null)return $e;var Ie=$e[Symbol.toPrimitive];if(Ie===void 0)return String($e);if(Ie=Ie.call($e,"string"),typeof Ie!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")})(Le.key))=="symbol"?Ee:String(Ee),Le)}}function ye(Ae,ke,Ee){ke&&Fe(Ae.prototype,ke),Object.defineProperty(Ae,"prototype",{writable:!1})}function Ne(Ae,ke){var Ee,je=typeof Symbol<"u"&&Ae[Symbol.iterator]||Ae["@@iterator"];if(je)return(je=je.call(Ae)).next.bind(je);if(Array.isArray(Ae)||(je=(function(Le){var $e;if(Le)return typeof Le=="string"?ee(Le,void 0):($e=($e=Object.prototype.toString.call(Le).slice(8,-1))==="Object"&&Le.constructor?Le.constructor.name:$e)==="Map"||$e==="Set"?Array.from(Le):$e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($e)?ee(Le,void 0):void 0})(Ae))||ke)return je&&(Ae=je),Ee=0,function(){return Ee>=Ae.length?{done:!0}:{done:!1,value:Ae[Ee++]}};throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ee(Ae,ke){(ke==null||ke>Ae.length)&&(ke=Ae.length);for(var Ee=0,je=new Array(ke);Ee<ke;Ee++)je[Ee]=Ae[Ee];return je}function se(){return(se=Object.assign?Object.assign.bind():function(Ae){for(var ke=1;ke<arguments.length;ke++){var Ee,je=arguments[ke];for(Ee in je)Object.prototype.hasOwnProperty.call(je,Ee)&&(Ae[Ee]=je[Ee])}return Ae}).apply(this,arguments)}(fe=ce.prototype).registerListeners=function(){var Ae=this.hls;Ae.on(Se.Events.MEDIA_ATTACHED,this.onMediaAttached,this),Ae.on(Se.Events.MEDIA_DETACHED,this.onMediaDetached,this),Ae.on(Se.Events.BUFFER_CREATED,this.onBufferCreated,this)},fe.unregisterListeners=function(){var Ae=this.hls;Ae.off(Se.Events.MEDIA_ATTACHED,this.onMediaAttached,this),Ae.off(Se.Events.MEDIA_DETACHED,this.onMediaDetached,this),Ae.off(Se.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},fe.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},fe.onMediaAttached=function(Ae,ke){this.media=ke.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},fe.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},fe.onBufferCreated=function(Ae,ke){var Ee;this.audioBuffer=(Ee=ke.tracks.audio)==null?void 0:Ee.buffer,this.videoBuffer=(Ee=ke.tracks.video)==null?void 0:Ee.buffer},fe.createData=function(){var Ae;return{v:Pe.CMCDVersion,sf:Pe.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:(Ae=this.media)==null?void 0:Ae.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},fe.apply=function(Ae,ke){se(ke=ke===void 0?{}:ke,this.createData());var Ee=ke.ot===Pe.CMCDObjectType.INIT||ke.ot===Pe.CMCDObjectType.VIDEO||ke.ot===Pe.CMCDObjectType.MUXED;this.starved&&Ee&&(ke.bs=!0,ke.su=!0,this.starved=!1),ke.su==null&&(ke.su=this.buffering),this.useHeaders?(Ee=ce.toHeaders(ke),Object.keys(Ee).length&&(Ae.headers||(Ae.headers={}),se(Ae.headers,Ee))):(Ee=ce.toQuery(ke))&&(Ae.url=ce.appendQueryToUri(Ae.url,Ee))},fe.getObjectType=function(Ae){var ke=Ae.type;return ke==="subtitle"?Pe.CMCDObjectType.TIMED_TEXT:Ae.sn==="initSegment"?Pe.CMCDObjectType.INIT:ke==="audio"?Pe.CMCDObjectType.AUDIO:ke==="main"?this.hls.audioTracks.length?Pe.CMCDObjectType.VIDEO:Pe.CMCDObjectType.MUXED:void 0},fe.getTopBandwidth=function(Ae){for(var ke=0,Ee=this.hls,je=Ne(Ae===Pe.CMCDObjectType.AUDIO?Ee.audioTracks:(Ae=-1<(Ae=Ee.maxAutoLevel)?Ae+1:Ee.levels.length,Ee.levels.slice(0,Ae)));!(Le=je()).done;){var Le=Le.value;Le.bitrate>ke&&(ke=Le.bitrate)}return 0<ke?ke:NaN},fe.getBufferLength=function(Ee){var ke=this.hls.media,Ee=Ee===Pe.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;return Ee&&ke?1e3*xe.BufferHelper.bufferInfo(Ee,ke.currentTime,this.config.maxBufferHole).len:NaN},fe.createPlaylistLoader=function(){var Ae=this.config.pLoader,ke=this.applyPlaylistData,Ee=Ae||this.config.loader;return(Ae=je.prototype).destroy=function(){this.loader.destroy()},Ae.abort=function(){this.loader.abort()},Ae.load=function(Le,$e,Ie){ke(Le),this.loader.load(Le,$e,Ie)},ye(je,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),je;function je(Le){this.loader=void 0,this.loader=new Ee(Le)}},fe.createFragmentLoader=function(){var Ae=this.config.fLoader,ke=this.applyFragmentData,Ee=Ae||this.config.loader;return(Ae=je.prototype).destroy=function(){this.loader.destroy()},Ae.abort=function(){this.loader.abort()},Ae.load=function(Le,$e,Ie){ke(Le),this.loader.load(Le,$e,Ie)},ye(je,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),je;function je(Le){this.loader=void 0,this.loader=new Ee(Le)}},ce.uuid=function(){var Ae=URL.createObjectURL(new Blob),ke=Ae.toString();return URL.revokeObjectURL(Ae),ke.slice(ke.lastIndexOf("/")+1)},ce.serialize=function(Ae){for(var ke=[],Ee=function(t0){return Math.round(t0)},je=function(t0){return 100*Ee(t0/100)},Le={br:Ee,d:Ee,bl:je,dl:je,mtp:je,nor:function(t0){return encodeURIComponent(t0)},rtp:je,tb:Ee},$e=Ne(Object.keys(Ae||{}).sort());!(Ue=$e()).done;){var Ie,De,Ue=Ue.value,Ke=Ae[Ue];Ie=Ke,Number.isNaN(Ie)||Ie==null||Ie===""||Ie===!1||Ue==="v"&&Ke===1||Ue=="pr"&&Ke===1||(Ie=typeof(Ke=(Ie=Le[Ue])?Ie(Ke):Ke),De=void 0,De=Ue==="ot"||Ue==="sf"||Ue==="st"?Ue+"="+Ke:Ie=="boolean"?Ue:Ie=="number"?Ue+"="+Ke:Ue+"="+JSON.stringify(Ke),ke.push(De))}return ke.join(",")},ce.toHeaders=function(Ae){for(var ke={},Ee=["Object","Request","Session","Status"],je=[{},{},{},{}],Le={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},$e=0,Ie=Object.keys(Ae);$e<Ie.length;$e++){var De=Ie[$e];je[Le[De]!=null?Le[De]:1][De]=Ae[De]}for(var Ue=0;Ue<je.length;Ue++){var Ke=ce.serialize(je[Ue]);Ke&&(ke["CMCD-"+Ee[Ue]]=Ke)}return ke},ce.toQuery=function(Ae){return"CMCD="+encodeURIComponent(ce.serialize(Ae))},ce.appendQueryToUri=function(Ae,ke){var Ee;return ke?(Ee=Ae.includes("?")?"&":"?",Ae+Ee+ke):Ae};var he=ce;function ce(Ee){var ke=this,Ee=(this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){ke.initialized&&(ke.starved=!0),ke.buffering=!0},this.onPlaying=function(){ke.initialized||(ke.initialized=!0),ke.buffering=!1},this.applyPlaylistData=function(Le){try{ke.apply(Le,{ot:Pe.CMCDObjectType.MANIFEST,su:!ke.initialized})}catch($e){Oe.logger.warn("Could not generate manifest CMCD data.",$e)}},this.applyFragmentData=function(Le){try{var $e=Le.frag,Ie=ke.hls.levels[$e.level],De=ke.getObjectType($e),Ue={d:1e3*$e.duration,ot:De};De!==Pe.CMCDObjectType.VIDEO&&De!==Pe.CMCDObjectType.AUDIO&&De!=Pe.CMCDObjectType.MUXED||(Ue.br=Ie.bitrate/1e3,Ue.tb=ke.getTopBandwidth(De)/1e3,Ue.bl=ke.getBufferLength(De)),ke.apply(Le,Ue)}catch(Ke){Oe.logger.warn("Could not generate segment CMCD data.",Ke)}},this.hls=Ee,this.config=Ee.config),je=Ee.cmcd;je!=null&&(Ee.pLoader=this.createPlaylistLoader(),Ee.fLoader=this.createFragmentLoader(),this.sid=je.sessionId||ce.uuid(),this.cid=je.contentId,this.useHeaders=je.useHeaders===!0,this.registerListeners())}},"./src/controller/eme-controller.ts":(_e,Le,de)=>{de.r(Le),de.d(Le,{default:()=>t0});var Se=de("./src/events.ts"),Pe=de("./src/errors.ts"),xe=de("./src/utils/logger.ts"),Oe=de("./src/utils/mediakeys-helper.ts"),Fe=de("./src/utils/keysystem-util.ts"),ye=de("./src/utils/numeric-encoding-utils.ts"),Ne=de("./src/loader/level-key.ts"),ee=de("./src/utils/hex.ts"),se=de("./src/utils/mp4-tools.ts"),Le=de("./node_modules/eventemitter3/index.js"),he=de.n(Le);function ce(Re){var Ze=typeof Map=="function"?new Map:void 0;return(ce=function(i0){if(i0===null||Function.toString.call(i0).indexOf("[native code]")===-1)return i0;if(typeof i0!="function")throw new TypeError("Super expression must either be null or a function");if(Ze!==void 0){if(Ze.has(i0))return Ze.get(i0);Ze.set(i0,e0)}function e0(){return Ae(i0,arguments,Ee(this).constructor)}return e0.prototype=Object.create(i0.prototype,{constructor:{value:e0,enumerable:!1,writable:!0,configurable:!0}}),ke(e0,i0)})(Re)}function Ae(Re,Ze,i0){return(Ae=(function(){if(!(typeof Reflect>"u"||!Reflect.construct)&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch{}}})()?Reflect.construct.bind():function(e0,Xe,n0){var Me=[null],Xe=(Me.push.apply(Me,Xe),new(Function.bind.apply(e0,Me)));return n0&&ke(Xe,n0.prototype),Xe}).apply(null,arguments)}function ke(Re,Ze){return(ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i0,e0){return i0.__proto__=e0,i0})(Re,Ze)}function Ee(Re){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ze){return Ze.__proto__||Object.getPrototypeOf(Ze)})(Re)}var je="[eme]",Le=((de=$e.prototype).destroy=function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null},de.registerListeners=function(){this.hls.on(Se.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Se.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Se.Events.MANIFEST_LOADED,this.onManifestLoaded,this)},de.unregisterListeners=function(){this.hls.off(Se.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Se.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Se.Events.MANIFEST_LOADED,this.onManifestLoaded,this)},de.getLicenseServerUrl=function(Re){var Ze=this.config,i0=Ze.drmSystems,Ze=Ze.widevineLicenseUrl,i0=i0[Re];if(i0)return i0.licenseUrl;if(Re===Oe.KeySystems.WIDEVINE&&Ze)return Ze;throw new Error('no license server URL configured for key-system "'+Re+'"')},de.getServerCertificateUrl=function(Re){var Ze=this.config.drmSystems[Re];if(Ze)return Ze.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+Re+'"]')},de.attemptKeySystemAccess=function(Re){function Ze(Me,Xe,c0){return!!Me&&c0.indexOf(Me)===Xe}var i0=this,e0=this.hls.levels,a0=e0.map(function(Me){return Me.audioCodec}).filter(Ze),n0=e0.map(function(Me){return Me.videoCodec}).filter(Ze);return a0.length+n0.length===0&&n0.push("avc1.42e01e"),new Promise(function(Me,Xe){(function c0(h0){var w0=h0.shift();i0.getMediaKeysPromise(w0,a0,n0).then(function(C0){return Me({keySystem:w0,mediaKeys:C0})}).catch(function(C0){h0.length?c0(h0):Xe(C0 instanceof Ue?C0:new Ue({type:Pe.ErrorTypes.KEY_SYSTEM_ERROR,details:Pe.ErrorDetails.KEY_SYSTEM_NO_ACCESS,error:C0,fatal:!0},C0.message))})})(Re)})},de.requestMediaKeySystemAccess=function(Re,Ze){var i0,e0=this.config.requestMediaKeySystemAccessFunc;return typeof e0!="function"?(i0="Configured requestMediaKeySystemAccess is not a function "+e0,Oe.requestMediaKeySystemAccess===null&&self.location.protocol==="http:"&&(i0="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error(i0))):e0(Re,Ze)},de.getMediaKeysPromise=function(Re,n0,Xe){var e0,a0=this,n0=(0,Oe.getSupportedMediaKeySystemConfigurations)(Re,n0,Xe,this.config.drmSystemOptions),Me=this.keySystemAccessPromises[Re],Xe=Me?.keySystemAccess;return Xe?Xe.then(function(){return Me.mediaKeys}):(this.log('Requesting encrypted media "'+Re+'" key-system access with config: '+JSON.stringify(n0)),Xe=this.requestMediaKeySystemAccess(Re,n0),e0=this.keySystemAccessPromises[Re]={keySystemAccess:Xe},Xe.catch(function(c0){a0.log('Failed to obtain access to key-system "'+Re+'": '+c0)}),Xe.then(function(c0){a0.log('Access for key-system "'+c0.keySystem+'" obtained');var h0=a0.fetchServerCertificate(Re);return a0.log('Create media-keys for "'+Re+'"'),e0.mediaKeys=c0.createMediaKeys().then(function(w0){return a0.log('Media-keys created for "'+Re+'"'),h0.then(function(C0){return C0?a0.setMediaKeysServerCertificate(w0,Re,C0):w0})}),e0.mediaKeys.catch(function(w0){a0.error('Failed to create media-keys for "'+Re+'"}: '+w0)}),e0.mediaKeys}))},de.createMediaKeySessionContext=function(i0){var a0=i0.decryptdata,Ze=i0.keySystem,i0=i0.mediaKeys,e0=(console.assert(!!i0,"mediaKeys is defined"),this.log('Creating key-system session "'+Ze+'" keyId: '+ee.default.hexDump(a0.keyId||[])),i0.createSession()),a0={decryptdata:a0,keySystem:Ze,mediaKeys:i0,mediaKeysSession:e0,keyStatus:"status-pending"};return this.mediaKeySessions.push(a0),a0},de.renewKeySession=function(Re){var Ze,i0,e0=Re.decryptdata;e0.pssh?(Ze=this.createMediaKeySessionContext(Re),i0=this.getKeyIdString(e0),this.keyIdToKeySessionPromise[i0]=this.generateRequestWithPreferredKeySession(Ze,"cenc",e0.pssh,"expired")):this.warn("Could not renew expired session. Missing pssh initData."),this.removeSession(Re)},de.getKeyIdString=function(Re){if(!Re)throw new Error("Could not read keyId of undefined decryptdata");if(Re.keyId===null)throw new Error("keyId is null");return ee.default.hexDump(Re.keyId)},de.updateKeySession=function(Re,Ze){var i0=Re.mediaKeysSession;return this.log('Updating key-session "'+i0.sessionId+'" for keyID '+ee.default.hexDump(((Re=Re.decryptdata)==null?void 0:Re.keyId)||[])+`
      } (data length: `+(Ze&&Ze.byteLength)+")"),i0.update(Ze)},de.selectKeySystemFormat=function(Re){var Ze=Object.keys(Re.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+Re.sn+" "+Re.type+": "+Re.level+") key formats "+Ze.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(Ze)),this.keyFormatPromise},de.getKeyFormatPromise=function(Re){var Ze=this;return new Promise(function(i0,e0){var a0=(0,Oe.getKeySystemsForConfig)(Ze.config),n0=Re.map(Oe.keySystemFormatToKeySystemDomain).filter(function(Me){return!!Me&&a0.indexOf(Me)!==-1});return Ze.getKeySystemSelectionPromise(n0).then(function(Xe){var Xe=Xe.keySystem,c0=(0,Oe.keySystemDomainToKeySystemFormat)(Xe);c0?i0(c0):e0(new Error('Unable to find format for key-system "'+Xe+'"'))}).catch(e0)})},de.loadKey=function(Re){var Ze=this,i0=Re.keyInfo.decryptdata,e0=this.getKeyIdString(i0),a0="(keyId: "+e0+' format: "'+i0.keyFormat+'" method: '+i0.method+" uri: "+i0.uri+")",n0=(this.log("Starting session for key "+a0),this.keyIdToKeySessionPromise[e0]);return n0||(n0=this.keyIdToKeySessionPromise[e0]=this.getKeySystemForKeyPromise(i0).then(function(Me){var Xe=Me.keySystem,c0=Me.mediaKeys;return Ze.throwIfDestroyed(),Ze.log("Handle encrypted media sn: "+Re.frag.sn+" "+Re.frag.type+": "+Re.frag.level+" using key "+a0),Ze.attemptSetMediaKeys(Xe,c0).then(function(){Ze.throwIfDestroyed();var h0=Ze.createMediaKeySessionContext({keySystem:Xe,mediaKeys:c0,decryptdata:i0});return Ze.generateRequestWithPreferredKeySession(h0,"cenc",i0.pssh,"playlist-key")})})).catch(function(Me){return Ze.handleError(Me)}),n0},de.throwIfDestroyed=function(Re){if(!this.hls)throw new Error("invalid state")},de.handleError=function(Re){this.hls&&(this.error(Re.message),Re instanceof Ue?this.hls.trigger(Se.Events.ERROR,Re.data):this.hls.trigger(Se.Events.ERROR,{type:Pe.ErrorTypes.KEY_SYSTEM_ERROR,details:Pe.ErrorDetails.KEY_SYSTEM_NO_KEYS,error:Re,fatal:!0}))},de.getKeySystemForKeyPromise=function(Re){var Ze=this.getKeyIdString(Re),Ze=this.keyIdToKeySessionPromise[Ze];return Ze||(Re=(Ze=(0,Oe.keySystemFormatToKeySystemDomain)(Re.keyFormat))?[Ze]:(0,Oe.getKeySystemsForConfig)(this.config),this.attemptKeySystemAccess(Re))},de.getKeySystemSelectionPromise=function(Re){if((Re=Re.length?Re:(0,Oe.getKeySystemsForConfig)(this.config)).length===0)throw new Ue({type:Pe.ErrorTypes.KEY_SYSTEM_ERROR,details:Pe.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(Re)},de._onMediaEncrypted=function(Re){var Ze,i0,e0=this,a0=Re.initDataType,n0=Re.initData;if(this.debug('"'+Re.type+'" event: init data type: "'+a0+'"'),n0!==null){if(a0==="sinf"&&this.config.drmSystems[Oe.KeySystems.FAIRPLAY]){var Me=(0,se.bin2str)(new Uint8Array(n0));try{var Xe=(0,ye.base64Decode)(JSON.parse(Me).sinf),c0=(0,se.parseSinf)(new Uint8Array(Xe));if(!c0)return;Ze=c0.subarray(8,24),i0=Oe.KeySystems.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{if(Me=(0,se.parsePssh)(n0),Me===null)return;Me.version===0&&Me.systemId===Oe.KeySystemIds.WIDEVINE&&Me.data&&(Ze=Me.data.subarray(8,24)),i0=(0,Oe.keySystemIdToKeySystemDomain)(Me.systemId)}if(i0&&Ze){for(var h0=ee.default.hexDump(Ze),w0=this.keyIdToKeySessionPromise,C0=this.mediaKeySessions,q0=w0[h0],K0=0;K0<C0.length;K0++){var U0=(function(gt){var ht,Dt=C0[gt],gt=Dt.decryptdata;return gt.pssh||!gt.keyId?"continue":(ht=ee.default.hexDump(gt.keyId),h0===ht||gt.uri.replace(/-/g,"").indexOf(h0)!==-1?(q0=w0[ht],delete w0[ht],gt.pssh=new Uint8Array(n0),gt.keyId=Ze,q0=w0[h0]=q0.then(function(){return e0.generateRequestWithPreferredKeySession(Dt,a0,n0,"encrypted-event-key-match")}),"break"):void 0)})(K0);if(U0!=="continue"&&U0==="break")break}(q0=q0||(w0[h0]=this.getKeySystemSelectionPromise([i0]).then(function(st){var ht=st.keySystem,Dt=st.mediaKeys,gt=(e0.throwIfDestroyed(),new Ne.LevelKey("ISO-23001-7",h0,(st=(0,Oe.keySystemDomainToKeySystemFormat)(ht))!=null?st:""));return gt.pssh=new Uint8Array(n0),gt.keyId=Ze,e0.attemptSetMediaKeys(ht,Dt).then(function(){e0.throwIfDestroyed();var j0=e0.createMediaKeySessionContext({decryptdata:gt,keySystem:ht,mediaKeys:Dt});return e0.generateRequestWithPreferredKeySession(j0,a0,n0,"encrypted-event-no-match")})}))).catch(function(st){return e0.handleError(st)})}}},de._onWaitingForKey=function(Re){this.log('"'+Re.type+'" event')},de.attemptSetMediaKeys=function(Re,Ze){var i0=this,e0=this.setMediaKeysQueue.slice(),a0=(this.log('Setting media-keys for "'+Re+'"'),Promise.all(e0).then(function(){if(i0.media)return i0.media.setMediaKeys(Ze);throw new Error("Attempted to set mediaKeys without media element attached")}));return this.setMediaKeysQueue.push(a0),a0.then(function(){i0.log('Media-keys set for "'+Re+'"'),e0.push(a0),i0.setMediaKeysQueue=i0.setMediaKeysQueue.filter(function(n0){return e0.indexOf(n0)===-1})})},de.generateRequestWithPreferredKeySession=function(Re,Ze,i0,e0){var a0,n0,Me,Xe=this,c0=(c0=this.config.drmSystems)==null||(c0=c0[Re.keySystem])==null?void 0:c0.generateRequest;if(c0)try{var h0=c0.call(this.hls,Ze,i0,Re);if(!h0)throw new Error("Invalid response from configured generateRequest filter");Ze=h0.initDataType,i0=Re.decryptdata.pssh=h0.initData?new Uint8Array(h0.initData):null}catch(w0){if(this.warn(w0.message),(c0=this.hls)!=null&&c0.config.debug)throw w0}return i0===null?(this.log('Skipping key-session request for "'+e0+'" (no initData)'),Promise.resolve(Re)):(a0=this.getKeyIdString(Re.decryptdata),this.log('Generating key-session request for "'+e0+'": '+a0+" (init data type: "+Ze+" length: "+(i0?i0.byteLength:null)+")"),n0=new(he()),Re.mediaKeysSession.onmessage=function(w0){var C0,q0=Re.mediaKeysSession;q0?(C0=w0.messageType,w0=w0.message,Xe.log('"'+C0+'" message event for session "'+q0.sessionId+'" message size: '+w0.byteLength),C0==="license-request"||C0==="license-renewal"?Xe.renewLicense(Re,w0).catch(function(K0){Xe.handleError(K0),n0.emit("error",K0)}):C0==="license-release"?Re.keySystem===Oe.KeySystems.FAIRPLAY&&(Xe.updateKeySession(Re,(0,Fe.strToUtf8array)("acknowledged")),Xe.removeSession(Re)):Xe.warn('unhandled media key message type "'+C0+'"')):n0.emit("error",new Error("invalid state"))},Re.mediaKeysSession.onkeystatuseschange=function(w0){var C0;Re.mediaKeysSession?(Xe.onKeyStatusChange(Re),C0=Re.keyStatus,n0.emit("keyStatus",C0),C0==="expired"&&(Xe.warn(Re.keySystem+" expired for key "+a0),Xe.renewKeySession(Re))):n0.emit("error",new Error("invalid state"))},Me=new Promise(function(w0,C0){n0.on("error",C0),n0.on("keyStatus",function(q0){q0.startsWith("usable")?w0():q0==="output-restricted"?C0(new Ue({type:Pe.ErrorTypes.KEY_SYSTEM_ERROR,details:Pe.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):q0==="internal-error"?C0(new Ue({type:Pe.ErrorTypes.KEY_SYSTEM_ERROR,details:Pe.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'+q0+'"')):q0==="expired"?C0(new Error("key expired while generating request")):Xe.warn('unhandled key status change "'+q0+'"')})}),Re.mediaKeysSession.generateRequest(Ze,i0).then(function(){var w0;Xe.log('Request generated for key-session "'+((w0=Re.mediaKeysSession)==null?void 0:w0.sessionId)+'" keyId: '+a0)}).catch(function(w0){throw new Ue({type:Pe.ErrorTypes.KEY_SYSTEM_ERROR,details:Pe.ErrorDetails.KEY_SYSTEM_NO_SESSION,error:w0,fatal:!1},"Error generating key-session request: "+w0)}).then(function(){return Me}).catch(function(w0){throw n0.removeAllListeners(),Xe.removeSession(Re),w0}).then(function(){return n0.removeAllListeners(),Re}))},de.onKeyStatusChange=function(Re){var Ze=this;Re.mediaKeysSession.keyStatuses.forEach(function(i0,e0){Ze.log('key status change "'+i0+'" for keyStatuses keyId: '+ee.default.hexDump("buffer"in e0?new Uint8Array(e0.buffer,e0.byteOffset,e0.byteLength):new Uint8Array(e0))+" session keyId: "+ee.default.hexDump(new Uint8Array(Re.decryptdata.keyId||[]))+" uri: "+Re.decryptdata.uri),Re.keyStatus=i0})},de.fetchServerCertificate=function(Re){var Ze=this;return new Promise(function(i0,e0){var a0=Ze.getServerCertificateUrl(Re);if(!a0)return i0();Ze.log('Fetching serverCertificate for "'+Re+'"');var n0=new XMLHttpRequest;n0.open("GET",a0,!0),n0.responseType="arraybuffer",n0.onreadystatechange=function(){n0.readyState===XMLHttpRequest.DONE&&(n0.status===200?i0(n0.response):e0(new Ue({type:Pe.ErrorTypes.KEY_SYSTEM_ERROR,details:Pe.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:n0},'"'+Re+'" certificate request XHR failed ('+a0+"). Status: "+n0.status+" ("+n0.statusText+")")))},n0.send()})},de.setMediaKeysServerCertificate=function(Re,Ze,i0){var e0=this;return new Promise(function(a0,n0){Re.setServerCertificate(i0).then(function(Me){e0.log("setServerCertificate "+(Me?"success":"not supported by CDM")+" ("+i0?.byteLength+') on "'+Ze+'"'),a0(Re)}).catch(function(Me){n0(new Ue({type:Pe.ErrorTypes.KEY_SYSTEM_ERROR,details:Pe.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:Me,fatal:!0},Me.message))})})},de.renewLicense=function(Re,Ze){var i0=this;return this.requestLicense(Re,new Uint8Array(Ze)).then(function(e0){return i0.updateKeySession(Re,new Uint8Array(e0)).catch(function(a0){throw new Ue({type:Pe.ErrorTypes.KEY_SYSTEM_ERROR,details:Pe.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:a0,fatal:!0},a0.message)})})},de.setupLicenseXHR=function(Re,Ze,i0,e0){var a0=this,n0=this.config.licenseXhrSetup;return n0?Promise.resolve().then(function(){if(i0.decryptdata)return n0.call(a0.hls,Re,Ze,i0,e0);throw new Error("Key removed")}).catch(function(Me){if(i0.decryptdata)return Re.open("POST",Ze,!0),n0.call(a0.hls,Re,Ze,i0,e0);throw Me}).then(function(Me){return Re.readyState||Re.open("POST",Ze,!0),{xhr:Re,licenseChallenge:Me||e0}}):(Re.open("POST",Ze,!0),Promise.resolve({xhr:Re,licenseChallenge:e0}))},de.requestLicense=function(Re,Ze){var i0=this;return new Promise(function(e0,a0){var n0=i0.getLicenseServerUrl(Re.keySystem),Me=(i0.log("Sending license request to URL: "+n0),new XMLHttpRequest);Me.responseType="arraybuffer",Me.onreadystatechange=function(){if(!i0.hls||!Re.mediaKeysSession)return a0(new Error("invalid state"));if(Me.readyState===4)if(Me.status===200){i0._requestLicenseFailureCount=0;var Xe=Me.response,c0=(i0.log("License received "+(Xe instanceof ArrayBuffer?Xe.byteLength:Xe)),i0.config.licenseResponseCallback);if(c0)try{Xe=c0.call(i0.hls,Me,n0,Re)}catch(h0){i0.error(h0)}e0(Xe)}else i0._requestLicenseFailureCount++,3<i0._requestLicenseFailureCount||400<=Me.status&&Me.status<500?a0(new Ue({type:Pe.ErrorTypes.KEY_SYSTEM_ERROR,details:Pe.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:Me},"License Request XHR failed ("+n0+"). Status: "+Me.status+" ("+Me.statusText+")")):(c0=3-i0._requestLicenseFailureCount+1,i0.warn("Retrying license request, "+c0+" attempts left"),i0.requestLicense(Re,Ze).then(e0,a0))},Re.licenseXhr&&Re.licenseXhr.readyState!==XMLHttpRequest.DONE&&Re.licenseXhr.abort(),Re.licenseXhr=Me,i0.setupLicenseXHR(Me,n0,Re,Ze).then(function(h0){var c0=h0.xhr,h0=h0.licenseChallenge;c0.send(h0)})})},de.onMediaAttached=function(Re,Ze){this.config.emeEnabled&&(Ze=Ze.media,(this.media=Ze).addEventListener("encrypted",this.onMediaEncrypted),Ze.addEventListener("waitingforkey",this.onWaitingForKey))},de.onMediaDetached=function(){var Re=this,Ze=this.media,i0=this.mediaKeySessions,e0=(Ze&&(Ze.removeEventListener("encrypted",this.onMediaEncrypted),Ze.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Ne.LevelKey.clearKeyUriToKeyIdMap(),i0.length);$e.CDMCleanupPromise=Promise.all(i0.map(function(a0){return Re.removeSession(a0)}).concat(Ze?.setMediaKeys(null).catch(function(a0){Re.log("Could not clear media keys: "+a0+". media.src: "+Ze?.src)}))).then(function(){e0&&(Re.log("finished closing key sessions and clearing media keys"),i0.length=0)}).catch(function(a0){Re.log("Could not close sessions and clear media keys: "+a0+". media.src: "+Ze?.src)})},de.onManifestLoaded=function(Re,i0){var i0=i0.sessionKeys;i0&&this.config.emeEnabled&&!this.keyFormatPromise&&(i0=i0.reduce(function(e0,a0){return e0.indexOf(a0.keyFormat)===-1&&e0.push(a0.keyFormat),e0},[]),this.log("Selecting key-system from session-keys "+i0.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(i0))},de.removeSession=function(Re){var Ze=this,i0=Re.mediaKeysSession,e0=Re.licenseXhr;if(i0)return this.log("Remove licenses and keys and close session "+i0.sessionId),i0.onmessage=null,i0.onkeystatuseschange=null,e0&&e0.readyState!==XMLHttpRequest.DONE&&e0.abort(),Re.mediaKeysSession=Re.decryptdata=Re.licenseXhr=void 0,-1<(e0=this.mediaKeySessions.indexOf(Re))&&this.mediaKeySessions.splice(e0,1),i0.remove().catch(function(a0){Ze.log("Could not remove session: "+a0)}).then(function(){return i0.close()}).catch(function(a0){Ze.log("Could not close session: "+a0)})},$e);function $e(Re){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=$e.CDMCleanupPromise?[$e.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=xe.logger.debug.bind(xe.logger,je),this.log=xe.logger.log.bind(xe.logger,je),this.warn=xe.logger.warn.bind(xe.logger,je),this.error=xe.logger.error.bind(xe.logger,je),this.hls=Re,this.config=Re.config,this.registerListeners()}Le.CDMCleanupPromise=void 0,Ie=ce(Error),de=Ie,(De=Ke).prototype=Object.create(de.prototype),ke(De.prototype.constructor=De,de);var Ie,De,Ue=Ke;function Ke(Re,Ze){return(Ze=Ie.call(this,Ze)||this).data=void 0,(Ze.data=Re).err=Re.error,Ze}const t0=Le},"./src/controller/fps-controller.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Oe});var Se=de("./src/events.ts"),Pe=de("./src/utils/logger.ts");function xe(Fe){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=Fe,this.registerListeners()}(fe=xe.prototype).setStreamController=function(Fe){this.streamController=Fe},fe.registerListeners=function(){this.hls.on(Se.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},fe.unregisterListeners=function(){this.hls.off(Se.Events.MEDIA_ATTACHING,this.onMediaAttaching)},fe.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},fe.onMediaAttaching=function(Fe,ye){var Ne=this.hls.config;Ne.capLevelOnFPSDrop&&(ye=ye.media instanceof self.HTMLVideoElement?ye.media:null,(this.media=ye)&&typeof ye.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),Ne.fpsDroppedMonitoringPeriod))},fe.checkFPS=function(Fe,ye,Ne){var ee,se,he,ce,Ae=performance.now();ye&&(this.lastTime&&(ce=Ae-this.lastTime,ee=Ne-this.lastDroppedFrames,se=ye-this.lastDecodedFrames,ce=1e3*ee/ce,(he=this.hls).trigger(Se.Events.FPS_DROP,{currentDropped:ee,currentDecoded:se,totalDroppedFrames:Ne}),0<ce)&&ee>he.config.fpsDroppedMonitoringThreshold*se&&(ce=he.currentLevel,Pe.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+ce),0<ce)&&(he.autoLevelCapping===-1||he.autoLevelCapping>=ce)&&(he.trigger(Se.Events.FPS_DROP_LEVEL_CAPPING,{level:--ce,droppedLevel:he.currentLevel}),he.autoLevelCapping=ce,this.streamController.nextLevelSwitch()),this.lastTime=Ae,this.lastDroppedFrames=Ne,this.lastDecodedFrames=ye)},fe.checkFPSInterval=function(){var Fe,ye=this.media;ye&&(this.isVideoPlaybackQualityAvailable?(Fe=ye.getVideoPlaybackQuality(),this.checkFPS(ye,Fe.totalVideoFrames,Fe.droppedVideoFrames)):this.checkFPS(ye,ye.webkitDecodedFrameCount,ye.webkitDroppedFrameCount))};const Oe=xe},"./src/controller/fragment-finders.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{findFragWithCC:()=>function(Fe,ye){return Pe.default.search(Fe,function(Ne){return Ne.cc<ye?1:Ne.cc>ye?-1:0})},findFragmentByPDT:()=>function(Fe,ye,Ne){if(ye!==null&&Array.isArray(Fe)&&Fe.length&&(0,Se.isFiniteNumber)(ye)&&!(ye<(Fe[0].programDateTime||0)||ye>=(Fe[Fe.length-1].endProgramDateTime||0))){Ne=Ne||0;for(var ee=0;ee<Fe.length;++ee){var se=Fe[ee];if(Oe(ye,Ne,se))return se}}return null},findFragmentByPTS:()=>function(Fe,ye,Ne,ee){Ne===void 0&&(Ne=0),ee===void 0&&(ee=0);var se=null;return Fe?se=ye[Fe.sn-ye[0].sn+1]||null:Ne===0&&ye[0].start===0&&(se=ye[0]),se&&xe(Ne,ee,se)===0||!(ye=Pe.default.search(ye,xe.bind(null,Ne,ee)))||ye===Fe&&se?se:ye},fragmentWithinToleranceTest:()=>xe,pdtWithinToleranceTest:()=>Oe});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/utils/binary-search.ts");function xe(Fe,ye,Ne){return ye===void 0&&(ye=0),Ne.start<=(Fe=Fe===void 0?0:Fe)&&Ne.start+Ne.duration>Fe?0:(ye=Math.min(ye,Ne.duration+(Ne.deltaPTS||0)),Ne.start+Ne.duration-ye<=Fe?1:Ne.start-ye>Fe&&Ne.start?-1:0)}function Oe(Fe,ye,Ne){return ye=1e3*Math.min(ye,Ne.duration+(Ne.deltaPTS||0)),(Ne.endProgramDateTime||0)-ye>Fe}},"./src/controller/fragment-tracker.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{FragmentState:()=>Se,FragmentTracker:()=>Oe});var Se,Pe=de("./src/events.ts"),xe=de("./src/types/loader.ts"),Oe=((fe=Se=Se||{}).NOT_LOADED="NOT_LOADED",fe.APPENDING="APPENDING",fe.PARTIAL="PARTIAL",fe.OK="OK",(de=Fe.prototype)._registerListeners=function(){var ee=this.hls;ee.on(Pe.Events.BUFFER_APPENDED,this.onBufferAppended,this),ee.on(Pe.Events.FRAG_BUFFERED,this.onFragBuffered,this),ee.on(Pe.Events.FRAG_LOADED,this.onFragLoaded,this)},de._unregisterListeners=function(){var ee=this.hls;ee.off(Pe.Events.BUFFER_APPENDED,this.onBufferAppended,this),ee.off(Pe.Events.FRAG_BUFFERED,this.onFragBuffered,this),ee.off(Pe.Events.FRAG_LOADED,this.onFragLoaded,this)},de.destroy=function(){this._unregisterListeners(),this.fragments=this.endListFragments=this.timeRanges=this.activeFragment=this.activeParts=null},de.getAppendedFrag=function(ee,se){if(se===xe.PlaylistLevelType.MAIN){var he=this.activeFragment,ce=this.activeParts;if(!he)return null;if(ce)for(var Ae=ce.length;Ae--;){var ke=ce[Ae],Ee=ke?ke.end:he.appendedPTS;if(ke.start<=ee&&Ee!==void 0&&ee<=Ee)return 9<Ae&&(this.activeParts=ce.slice(Ae-9)),ke}else if(he.start<=ee&&he.appendedPTS!==void 0&&ee<=he.appendedPTS)return he}return this.getBufferedFrag(ee,se)},de.getBufferedFrag=function(ee,se){for(var he=this.fragments,ce=Object.keys(he),Ae=ce.length;Ae--;){var ke=he[ce[Ae]];if(ke?.body.type===se&&ke.buffered&&(ke=ke.body,ke.start<=ee&&ee<=ke.end))return ke}return null},de.detectEvictedFragments=function(ee,se,he){var ce=this;this.timeRanges&&(this.timeRanges[ee]=se),Object.keys(this.fragments).forEach(function(Ae){var ke=ce.fragments[Ae];ke&&(ke.buffered||ke.loaded?(Ae=ke.range[ee])&&Ae.time.some(function(Ee){return Ee=!ce.isTimeBuffered(Ee.startPTS,Ee.endPTS,se),Ee&&ce.removeFragment(ke.body),Ee}):ke.body.type===he&&ce.removeFragment(ke.body))})},de.detectPartialFragments=function(ee){var se,he=this,ce=this.timeRanges,Ae=ee.frag,ke=ee.part;ce&&Ae.sn!=="initSegment"&&(ee=Ne(Ae),se=this.fragments[ee])&&(Object.keys(ce).forEach(function(Ee){var je,Le=Ae.elementaryStreams[Ee];Le&&(je=ce[Ee],Le=ke!==null||Le.partial===!0,se.range[Ee]=he.getBufferedTimes(Ae,ke,Le,je))}),se.loaded=null,Object.keys(se.range).length?(se.buffered=!0,se.body.endList&&(this.endListFragments[se.body.type]=se)):this.removeFragment(se.body))},de.fragBuffered=function(ee){ee=Ne(ee),ee=this.fragments[ee],ee&&(ee.loaded=null,ee.buffered=!0)},de.getBufferedTimes=function(ee,se,he,ce){for(var Ae={time:[],partial:he},ke=(se||ee).start,Ee=(se||ee).end,je=ee.minEndPTS||Ee,Le=ee.maxStartPTS||ke,$e=0;$e<ce.length;$e++){var Ie=ce.start($e)-this.bufferPadding,De=ce.end($e)+this.bufferPadding;if(Ie<=Le&&je<=De){Ae.time.push({startPTS:Math.max(ke,ce.start($e)),endPTS:Math.min(Ee,ce.end($e))});break}if(ke<De&&Ie<Ee)Ae.partial=!0,Ae.time.push({startPTS:Math.max(ke,ce.start($e)),endPTS:Math.min(Ee,ce.end($e))});else if(Ee<=Ie)break}return Ae},de.getPartialFragment=function(ee){var se,he,ce=null,Ae=0,ke=this.bufferPadding,Ee=this.fragments;return Object.keys(Ee).forEach(function(je){je=Ee[je],je&&ye(je)&&(se=je.body.start-ke,he=je.body.end+ke,se<=ee)&&ee<=he&&(se=Math.min(ee-se,he-ee),Ae<=se)&&(ce=je.body,Ae=se)}),ce},de.isEndListAppended=function(ee){return ee=this.endListFragments[ee],ee!==void 0&&(ee.buffered||ye(ee))},de.getState=function(ee){return ee=Ne(ee),ee=this.fragments[ee],ee?ee.buffered?ye(ee)?Se.PARTIAL:Se.OK:Se.APPENDING:Se.NOT_LOADED},de.isTimeBuffered=function(ee,se,he){for(var ce,Ae,ke=0;ke<he.length;ke++){if(ce=he.start(ke)-this.bufferPadding,Ae=he.end(ke)+this.bufferPadding,ce<=ee&&se<=Ae)return!0;if(se<=ce)return!1}return!1},de.onFragLoaded=function(ee,se){var he=se.frag,ce=se.part;he.sn==="initSegment"||he.bitrateTest||ce||(ce=Ne(he),this.fragments[ce]={body:he,loaded:se,buffered:!1,range:Object.create(null)})},de.onBufferAppended=function(ee,se){var he=this,ce=se.frag,Ae=se.part,ke=se.timeRanges;ce.type===xe.PlaylistLevelType.MAIN&&(this.activeFragment!==ce&&((this.activeFragment=ce).appendedPTS=void 0),Ae?((se=this.activeParts)||(this.activeParts=se=[]),se.push(Ae)):this.activeParts=null),this.timeRanges=ke,Object.keys(ke).forEach(function(Ee){var je=ke[Ee];if(he.detectEvictedFragments(Ee,je),!Ae&&ce.type===xe.PlaylistLevelType.MAIN){var Le=ce.elementaryStreams[Ee];if(Le)for(var $e=0;$e<je.length;$e++){var Ie=je.end($e);Ie<=Le.endPTS&&Ie>Le.startPTS?ce.appendedPTS=Math.max(Ie,ce.appendedPTS||0):ce.appendedPTS=Le.endPTS}}})},de.onFragBuffered=function(ee,se){this.detectPartialFragments(se)},de.hasFragment=function(ee){return ee=Ne(ee),!!this.fragments[ee]},de.removeFragmentsInRange=function(ee,se,he){var ce=this;Object.keys(this.fragments).forEach(function(ke){var ke=ce.fragments[ke];ke&&ke.buffered&&(ke=ke.body).type===he&&ke.start<se&&ke.end>ee&&ce.removeFragment(ke)})},de.removeFragment=function(ee){var se=Ne(ee);ee.stats.loaded=0,ee.clearElementaryStreamInfo(),ee.appendedPTS=void 0,delete this.fragments[se],ee.endList&&delete this.endListFragments[ee.type]},de.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activeFragment=null,this.activeParts=null},Fe);function Fe(ee){this.activeFragment=null,this.activeParts=null,this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=ee,this._registerListeners()}function ye(ee){var se;return ee.buffered&&(((se=ee.range.video)==null?void 0:se.partial)||((se=ee.range.audio)==null?void 0:se.partial))}function Ne(ee){return ee.type+"_"+ee.level+"_"+ee.urlId+"_"+ee.sn}},"./src/controller/gap-controller.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{MAX_START_GAP_JUMP:()=>ye,SKIP_BUFFER_HOLE_STEP_SECONDS:()=>Ne,SKIP_BUFFER_RANGE_START:()=>ee,STALL_MINIMUM_DURATION_MS:()=>Fe,default:()=>se});var Se=de("./src/utils/buffer-helper.ts"),Pe=de("./src/errors.ts"),xe=de("./src/events.ts"),Oe=de("./src/utils/logger.ts"),Fe=250,ye=2,Ne=.1,ee=.05,se=((fe=he.prototype).destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},fe.poll=function(ce,Ae){var ke=this.config,Ee=this.media,je=this.stalled;if(Ee!==null){var Le=Ee.currentTime,$e=Ee.seeking,Ie=this.seeking&&!$e,De=!this.seeking&&$e;if(this.seeking=$e,Le===ce){if((De||Ie)&&(this.stalled=null),!(Ee.paused&&!$e||Ee.ended||Ee.playbackRate===0)&&Se.BufferHelper.getBuffered(Ee).length&&(ce=Se.BufferHelper.bufferInfo(Ee,Le,0),De=0<ce.len,Ie=ce.nextStart||0,De||Ie)){if($e){if(De=ce.len>ye,Ae=!Ie||Ae&&Ae.start<=Le||ye<Ie-Le&&!this.fragmentTracker.getPartialFragment(Le),De||Ae)return;this.moved=!1}if(!this.moved&&this.stalled!==null&&(De=Math.max(Ie,ce.start||0)-Le,Ae=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,Ie=Ae!=null&&(Ie=Ae.details)!=null&&Ie.live?2*Ae.details.targetduration:ye,0<De&&De<=Ie))return void this._trySkipBufferHole(null);Ae=self.performance.now(),je!==null?(De=Ae-je,!$e&&Fe<=De&&(this._reportStall(ce),!this.media)||(Ie=Se.BufferHelper.bufferInfo(Ee,Le,ke.maxBufferHole),this._tryFixBufferStall(Ie,De))):this.stalled=Ae}}else this.moved=!0,je!==null&&(this.stallReported&&($e=self.performance.now()-je,Oe.logger.warn("playback not stuck anymore @"+Le+", after "+Math.round($e)+"ms"),this.stallReported=!1),this.stalled=null,this.nudgeRetry=0)}},fe._tryFixBufferStall=function(ce,Ae){var ke=this.config,Ee=this.fragmentTracker,je=this.media;je!==null&&(je=je.currentTime,!(Ee=Ee.getPartialFragment(je))||!this._trySkipBufferHole(Ee)&&this.media)&&ce.len>ke.maxBufferHole&&Ae>1e3*ke.highBufferWatchdogPeriod&&(Oe.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},fe._reportStall=function(ce){var Ae=this.hls,ke=this.media;!this.stallReported&&ke&&(this.stallReported=!0,Oe.logger.warn("Playback stalling at @"+ke.currentTime+" due to low buffer ("+JSON.stringify(ce)+")"),Ae.trigger(xe.Events.ERROR,{type:Pe.ErrorTypes.MEDIA_ERROR,details:Pe.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:ce.len}))},fe._trySkipBufferHole=function(ce){var Ae=this.config,ke=this.hls,Ee=this.media;if(Ee!==null)for(var je=Ee.currentTime,Le=0,$e=Se.BufferHelper.getBuffered(Ee),Ie=0;Ie<$e.length;Ie++){var De=$e.start(Ie);if(je+Ae.maxBufferHole>=Le&&je<De)return De=Math.max(De+ee,Ee.currentTime+Ne),Oe.logger.warn("skipping hole, adjusting currentTime from "+je+" to "+De),this.moved=!0,this.stalled=null,Ee.currentTime=De,ce&&ke.trigger(xe.Events.ERROR,{type:Pe.ErrorTypes.MEDIA_ERROR,details:Pe.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+je+" to "+De,frag:ce}),De;Le=$e.end(Ie)}return 0},fe._tryNudgeBuffer=function(){var ce,Ae=this.config,ke=this.hls,Ee=this.media,je=this.nudgeRetry;Ee!==null&&(ce=Ee.currentTime,this.nudgeRetry++,je<Ae.nudgeMaxRetry?(je=ce+(je+1)*Ae.nudgeOffset,Oe.logger.warn("Nudging 'currentTime' from "+ce+" to "+je),Ee.currentTime=je,ke.trigger(xe.Events.ERROR,{type:Pe.ErrorTypes.MEDIA_ERROR,details:Pe.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})):(Oe.logger.error("Playhead still not moving while enough data buffered @"+ce+" after "+Ae.nudgeMaxRetry+" nudges"),ke.trigger(xe.Events.ERROR,{type:Pe.ErrorTypes.MEDIA_ERROR,details:Pe.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})))},he);function he(ce,Ae,ke,Ee){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=ce,this.media=Ae,this.fragmentTracker=ke,this.hls=Ee}},"./src/controller/id3-track-controller.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>ce});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/events.ts"),xe=de("./src/utils/texttrack-utils.ts"),Oe=de("./src/demux/id3.ts"),Fe=de("./src/loader/date-range.ts"),ye=de("./src/types/demuxer.ts");function Ne(){return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var ee=(function(){var Ae=Ne();try{new Ae(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function se(Ae,ke){return Ae.getTime()/1e3-ke}function he(Ae){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=Ae,this._registerListeners()}(fe=he.prototype).destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},fe._registerListeners=function(){var Ae=this.hls;Ae.on(Pe.Events.MEDIA_ATTACHED,this.onMediaAttached,this),Ae.on(Pe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),Ae.on(Pe.Events.MANIFEST_LOADING,this.onManifestLoading,this),Ae.on(Pe.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),Ae.on(Pe.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),Ae.on(Pe.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},fe._unregisterListeners=function(){var Ae=this.hls;Ae.off(Pe.Events.MEDIA_ATTACHED,this.onMediaAttached,this),Ae.off(Pe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),Ae.off(Pe.Events.MANIFEST_LOADING,this.onManifestLoading,this),Ae.off(Pe.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),Ae.off(Pe.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),Ae.off(Pe.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},fe.onMediaAttached=function(Ae,ke){this.media=ke.media},fe.onMediaDetaching=function(){this.id3Track&&((0,xe.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},fe.onManifestLoading=function(){this.dateRangeCuesAppended={}},fe.createTrack=function(Ae){return Ae=this.getID3Track(Ae.textTracks),Ae.mode="hidden",Ae},fe.getID3Track=function(Ae){if(this.media){for(var ke=0;ke<Ae.length;ke++){var Ee=Ae[ke];if(Ee.kind==="metadata"&&Ee.label==="id3")return(0,xe.sendAddTrackEvent)(Ee,this.media),Ee}return this.media.addTextTrack("metadata","id3")}},fe.onFragParsingMetadata=function(Ae,ke){if(this.media){var Ee=this.hls.config,je=Ee.enableEmsgMetadataCues,Le=Ee.enableID3MetadataCues;if(je||Le){var $e=ke.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var Ie=Ne(),De=0;De<$e.length;De++){var Ue=$e[De].type;if((Ue!==ye.MetadataSchema.emsg||je)&&Le){var Ke=Oe.getID3Frames($e[De].data);if(Ke){var t0=$e[De].pts,Re=t0+$e[De].duration;(Re=ee<Re?ee:Re)-t0<=0&&(Re=t0+.25);for(var Ze=0;Ze<Ke.length;Ze++){var i0,e0=Ke[Ze];Oe.isTimeStampFrame(e0)||(this.updateId3CueEnds(t0),(i0=new Ie(t0,Re,"")).value=e0,Ue&&(i0.type=Ue),this.id3Track.addCue(i0))}}}}}}},fe.updateId3CueEnds=function(Ae){var ke,Ee=(ke=this.id3Track)==null?void 0:ke.cues;if(Ee)for(var je=Ee.length;je--;){var Le=Ee[je];Le.startTime<Ae&&Le.endTime===ee&&(Le.endTime=Ae)}},fe.onBufferFlushing=function(Ae,Ie){var Ee,je,Le=Ie.startOffset,$e=Ie.endOffset,Ie=Ie.type,De=this.id3Track,Ue=this.hls;Ue&&(Ue=Ue.config,Ee=Ue.enableEmsgMetadataCues,je=Ue.enableID3MetadataCues,De)&&(Ee||je)&&(0,xe.removeCuesInRange)(De,Le,$e,Ie==="audio"?function(Ke){return Ke.type===ye.MetadataSchema.audioId3&&je}:Ie==="video"?function(Ke){return Ke.type===ye.MetadataSchema.emsg&&Ee}:function(Ke){return Ke.type===ye.MetadataSchema.audioId3&&je||Ke.type===ye.MetadataSchema.emsg&&Ee})},fe.onLevelUpdated=function(Ae,je){var Ee=this,je=je.details;if(this.media&&je.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var Le=this.dateRangeCuesAppended,$e=this.id3Track,Ie=je.dateRanges,De=Object.keys(Ie);if($e)for(var Ue=Object.keys(Le).filter(function(i0){return!De.includes(i0)}),Ke=Ue.length;Ke--;)(function(i0){var e0=Ue[i0];Object.keys(Le[e0].cues).forEach(function(a0){$e.removeCue(Le[e0].cues[a0])}),delete Le[e0]})(Ke);if(je=je.fragments[je.fragments.length-1],De.length!==0&&(0,Se.isFiniteNumber)(je?.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var t0=je.programDateTime/1e3-je.start,Re=Ne(),Ze=0;Ze<De.length;Ze++)(function(e0){var e0=De[e0],a0=Ie[e0],n0=Le[e0],Me=n0?.cues||{},Xe=n0?.durationKnown||!1,c0=se(a0.startDate,t0),h0=ee,w0=a0.endDate;w0?(h0=se(w0,t0),Xe=!0):a0.endOnNext&&!Xe&&(w0=De.reduce(function(Dt,gt){var j0=Ie[gt];return j0.class===a0.class&&j0.id!==gt&&j0.startDate>a0.startDate&&Dt.push(j0),Dt},[]).sort(function(Dt,gt){return Dt.startDate.getTime()-gt.startDate.getTime()})[0])&&(h0=se(w0.startDate,t0),Xe=!0);for(var C0,q0=Object.keys(a0.attr),K0=0;K0<q0.length;K0++){var U0,st,ht=q0[K0];ht!==Fe.DateRangeAttribute.ID&&ht!==Fe.DateRangeAttribute.CLASS&&ht!==Fe.DateRangeAttribute.START_DATE&&ht!==Fe.DateRangeAttribute.DURATION&&ht!==Fe.DateRangeAttribute.END_DATE&&ht!==Fe.DateRangeAttribute.END_ON_NEXT&&((st=Me[ht])?Xe&&!n0.durationKnown&&(st.endTime=h0):(U0=a0.attr[ht],st=new Re(c0,h0,""),ht!==Fe.DateRangeAttribute.SCTE35_OUT&&ht!==Fe.DateRangeAttribute.SCTE35_IN||(C0=U0,U0=Uint8Array.from(C0.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),st.value={key:ht,data:U0},st.type=ye.MetadataSchema.dateRange,Ee.id3Track.addCue(st),Me[ht]=st))}Le[e0]={cues:Me,dateRange:a0,durationKnown:Xe}})(Ze)}}};const ce=he},"./src/controller/latency-controller.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Fe});var Se=de("./src/errors.ts"),Pe=de("./src/events.ts"),xe=de("./src/utils/logger.ts");function Oe(Ne,ee){for(var se,he=0;he<ee.length;he++){var ce=ee[he];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(Ne,typeof(se=(function(Ae){if(typeof Ae!="object"||Ae===null)return Ae;var ke=Ae[Symbol.toPrimitive];if(ke===void 0)return String(Ae);if(ke=ke.call(Ae,"string"),typeof ke!="object")return ke;throw new TypeError("@@toPrimitive must return a primitive value.")})(ce.key))=="symbol"?se:String(se),ce)}}(fe=ye.prototype).destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},fe.registerListeners=function(){this.hls.on(Pe.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Pe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(Pe.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Pe.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(Pe.Events.ERROR,this.onError,this)},fe.unregisterListeners=function(){this.hls.off(Pe.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(Pe.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(Pe.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(Pe.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(Pe.Events.ERROR,this.onError)},fe.onMediaAttached=function(Ne,ee){this.media=ee.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},fe.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},fe.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},fe.onLevelUpdated=function(Ne,ee){ee=ee.details,(this.levelDetails=ee).advanced&&this.timeupdate(),!ee.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},fe.onError=function(Ne,ee){ee.details===Se.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,xe.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},fe.timeupdate=function(){var Ne,ee,se,he=this.media,ce=this.levelDetails;he&&ce&&(this.currentTime=he.currentTime,(ee=this.computeLatency())!==null)&&(this._latency=ee,se=(Ne=this.config).lowLatencyMode,Ne=Ne.maxLiveSyncPlaybackRate,se)&&Ne!==1&&(se=this.targetLatency)!==null&&(se=(ee=ee-se)<Math.min(this.maxLatency,se+ce.targetduration),ce.live&&se&&.05<ee&&1<this.forwardBufferLength?(ce=Math.min(2,Math.max(1,Ne)),se=Math.round(2/(1+Math.exp(-.75*ee-this.edgeStalled))*20)/20,he.playbackRate=Math.min(ce,Math.max(1,se))):he.playbackRate!==1&&he.playbackRate!==0&&(he.playbackRate=1))},fe.estimateLiveEdge=function(){var Ne=this.levelDetails;return Ne===null?null:Ne.edge+Ne.age},fe.computeLatency=function(){var Ne=this.estimateLiveEdge();return Ne===null?null:Ne-this.currentTime},Oe((fe=ye).prototype,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var Ne=this.config,ee=this.levelDetails;return Ne.liveMaxLatencyDuration!==void 0?Ne.liveMaxLatencyDuration:ee?Ne.liveMaxLatencyDurationCount*ee.targetduration:0}},{key:"targetLatency",get:function(){var Ne,ee,se,he,ce,Ae=this.levelDetails;return Ae===null?null:(Ne=Ae.holdBack,he=Ae.partHoldBack,Ae=Ae.targetduration,ee=(ce=this.config).liveSyncDuration,se=ce.liveSyncDurationCount,ce=ce.lowLatencyMode&&he||Ne,(ce=(he=this.hls.userConfig).liveSyncDuration||he.liveSyncDurationCount||ce===0?ee!==void 0?ee:se*Ae:ce)+Math.min(+this.stallCount,Ae))}},{key:"liveSyncPosition",get:function(){var Ne,ee=this.estimateLiveEdge(),se=this.targetLatency,he=this.levelDetails;return ee===null||se===null||he===null?null:(Ne=he.edge,ee=ee-se-this.edgeStalled,se=Ne-he.totalduration,Ne=Ne-(this.config.lowLatencyMode&&he.partTarget||he.targetduration),Math.min(Math.max(se,ee),Ne))}},{key:"drift",get:function(){var Ne=this.levelDetails;return Ne===null?1:Ne.drift}},{key:"edgeStalled",get:function(){var Ne,ee=this.levelDetails;return ee===null?0:(Ne=3*(this.config.lowLatencyMode&&ee.partTarget||ee.targetduration),Math.max(ee.age-Ne,0))}},{key:"forwardBufferLength",get:function(){var Ne,ee=this.media,se=this.levelDetails;return ee&&se?((Ne=ee.buffered.length)?ee.buffered.end(Ne-1):se.edge)-this.currentTime:0}}]),Object.defineProperty(fe,"prototype",{writable:!1});var Fe=ye;function ye(Ne){var ee=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return ee.timeupdate()},this.hls=Ne,this.config=Ne.config,this.registerListeners()}},"./src/controller/level-controller.ts":(_e,ye,de)=>{de.r(ye),de.d(ye,{default:()=>ke});var Se=de("./src/types/level.ts"),Pe=de("./src/events.ts"),xe=de("./src/errors.ts"),Oe=de("./src/utils/codecs.ts"),Fe=de("./src/controller/level-helper.ts"),ye=de("./src/controller/base-playlist-controller.ts"),Ne=de("./src/types/loader.ts");function ee(){return(ee=Object.assign?Object.assign.bind():function(je){for(var Le=1;Le<arguments.length;Le++){var $e,Ie=arguments[Le];for($e in Ie)Object.prototype.hasOwnProperty.call(Ie,$e)&&(je[$e]=Ie[$e])}return je}).apply(this,arguments)}function se(je,Le){for(var $e,Ie=0;Ie<Le.length;Ie++){var De=Le[Ie];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(je,typeof($e=(function(Ue){if(typeof Ue!="object"||Ue===null)return Ue;var Ke=Ue[Symbol.toPrimitive];if(Ke===void 0)return String(Ue);if(Ke=Ke.call(Ue,"string"),typeof Ke!="object")return Ke;throw new TypeError("@@toPrimitive must return a primitive value.")})(De.key))=="symbol"?$e:String($e),De)}}function he(je,Le){return(he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($e,Ie){return $e.__proto__=Ie,$e})(je,Le)}var ce,Ae=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),ke=(ce=ye.default,de=ce,(ye=Ee).prototype=Object.create(de.prototype),he(ye.prototype.constructor=ye,de),(ye=Ee.prototype)._registerListeners=function(){var je=this.hls;je.on(Pe.Events.MANIFEST_LOADED,this.onManifestLoaded,this),je.on(Pe.Events.LEVEL_LOADED,this.onLevelLoaded,this),je.on(Pe.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),je.on(Pe.Events.FRAG_LOADED,this.onFragLoaded,this),je.on(Pe.Events.ERROR,this.onError,this)},ye._unregisterListeners=function(){var je=this.hls;je.off(Pe.Events.MANIFEST_LOADED,this.onManifestLoaded,this),je.off(Pe.Events.LEVEL_LOADED,this.onLevelLoaded,this),je.off(Pe.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),je.off(Pe.Events.FRAG_LOADED,this.onFragLoaded,this),je.off(Pe.Events.ERROR,this.onError,this)},ye.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,ce.prototype.destroy.call(this)},ye.startLoad=function(){this._levels.forEach(function(je){je.loadError=0}),ce.prototype.startLoad.call(this)},ye.onManifestLoaded=function(je,Le){var $e,Ie,De=[],Ue=[],Ke=[],t0={},Re=!1,Ze=!1,i0=!1;if(Le.levels.forEach(function(n0){var Me=n0.attrs,Xe=(Re=Re||!(!n0.width||!n0.height),Ze=Ze||!!n0.videoCodec,i0=i0||!!n0.audioCodec,Ae&&n0.audioCodec&&n0.audioCodec.indexOf("mp4a.40.34")!==-1&&(n0.audioCodec=void 0),n0.bitrate+"-"+n0.attrs.RESOLUTION+"-"+n0.attrs.CODECS);(Ie=t0[Xe])?Ie.url.push(n0.url):(Ie=new Se.Level(n0),t0[Xe]=Ie,De.push(Ie)),Me&&(Me.AUDIO&&(0,Fe.addGroupId)(Ie,"audio",Me.AUDIO),Me.SUBTITLES)&&(0,Fe.addGroupId)(Ie,"text",Me.SUBTITLES)}),De=(De=(Re||Ze)&&i0?De.filter(function(c0){var Me=c0.videoCodec,Xe=c0.width,c0=c0.height;return!!Me||!(!Xe||!c0)}):De).filter(function(Xe){var Me=Xe.audioCodec,Xe=Xe.videoCodec;return(!Me||(0,Oe.isCodecSupportedInMp4)(Me,"audio"))&&(!Xe||(0,Oe.isCodecSupportedInMp4)(Xe,"video"))}),Le.audioTracks&&(Ue=Le.audioTracks.filter(function(n0){return!n0.audioCodec||(0,Oe.isCodecSupportedInMp4)(n0.audioCodec,"audio")}),(0,Fe.assignTrackIdsByGroup)(Ue)),Le.subtitles&&(Ke=Le.subtitles,(0,Fe.assignTrackIdsByGroup)(Ke)),0<De.length){$e=De[0].bitrate,De.sort(function(Me,Xe){return Me.attrs["HDCP-LEVEL"]!==Xe.attrs["HDCP-LEVEL"]?(Me.attrs["HDCP-LEVEL"]||"")>(Xe.attrs["HDCP-LEVEL"]||"")?1:-1:Me.bitrate!==Xe.bitrate?Me.bitrate-Xe.bitrate:Me.attrs.SCORE!==Xe.attrs.SCORE?Me.attrs.decimalFloatingPoint("SCORE")-Xe.attrs.decimalFloatingPoint("SCORE"):Re&&Me.height!==Xe.height?Me.height-Xe.height:0}),this._levels=De;for(var e0=0;e0<De.length;e0++)if(De[e0].bitrate===$e){this._firstLevel=e0,this.log("manifest loaded, "+De.length+" level(s) found, first bitrate: "+$e);break}var a0=i0&&!Ze,Ke={levels:De,audioTracks:Ue,subtitleTracks:Ke,sessionData:Le.sessionData,sessionKeys:Le.sessionKeys,firstLevel:this._firstLevel,stats:Le.stats,audio:i0,video:Ze,altAudio:!a0&&Ue.some(function(Me){return!!Me.url})};this.hls.trigger(Pe.Events.MANIFEST_PARSED,Ke),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(Pe.Events.ERROR,{type:xe.ErrorTypes.MEDIA_ERROR,details:xe.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:Le.url,reason:"no level with compatible codecs found in manifest"})},ye.onError=function(je,Le){if(ce.prototype.onError.call(this,je,Le),!Le.fatal){var $e=Le.context,Ie=this._levels[this.currentLevelIndex];if($e&&($e.type===Ne.PlaylistContextType.AUDIO_TRACK&&Ie.audioGroupIds&&$e.groupId===Ie.audioGroupIds[Ie.urlId]||$e.type===Ne.PlaylistContextType.SUBTITLE_TRACK&&Ie.textGroupIds&&$e.groupId===Ie.textGroupIds[Ie.urlId]))this.redundantFailover(this.currentLevelIndex);else{var De,Ue,Ke=!1,t0=!0;switch(Le.details){case xe.ErrorDetails.FRAG_LOAD_ERROR:case xe.ErrorDetails.FRAG_LOAD_TIMEOUT:case xe.ErrorDetails.KEY_LOAD_ERROR:case xe.ErrorDetails.KEY_LOAD_TIMEOUT:Le.frag&&(Ue=Le.frag.type===Ne.PlaylistLevelType.MAIN?Le.frag.level:this.currentLevelIndex,!(Re=this._levels[Ue])||(Re.fragmentError++,Re.fragmentError>this.hls.config.fragLoadingMaxRetry))&&(De=Ue);break;case xe.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var Re=Ie.attrs["HDCP-LEVEL"];Re&&(this.hls.maxHdcpLevel=Se.HdcpLevels[Se.HdcpLevels.indexOf(Re)-1],this.warn('Restricting playback to HDCP-LEVEL of "'+this.hls.maxHdcpLevel+'" or lower'));case xe.ErrorDetails.FRAG_PARSING_ERROR:case xe.ErrorDetails.KEY_SYSTEM_NO_SESSION:De=((Ue=Le.frag)==null?void 0:Ue.type)===Ne.PlaylistLevelType.MAIN?Le.frag.level:this.currentLevelIndex,Le.levelRetry=!1;break;case xe.ErrorDetails.LEVEL_LOAD_ERROR:case xe.ErrorDetails.LEVEL_LOAD_TIMEOUT:$e&&($e.deliveryDirectives&&(t0=!1),De=$e.level),Ke=!0;break;case xe.ErrorDetails.REMUX_ALLOC_ERROR:De=(Re=Le.level)!=null?Re:this.currentLevelIndex,Ke=!0}De!==void 0&&this.recoverLevel(Le,De,Ke,t0)}}},ye.recoverLevel=function(je,Le,$e,Ie){var De=je.details,Ue=this._levels[Le];if(Ue.loadError++,$e){if(!this.retryLoadingOrFail(je))return void(this.currentLevelIndex=-1);je.levelRetry=!0}if(Ie){if($e=Ue.url.length,1<$e&&Ue.loadError<$e)je.levelRetry=!0,this.redundantFailover(Le);else if(this.manualLevelIndex===-1){for(var Ke=-1,t0=this._levels,Re=t0.length;Re--;){var Ze=(Re+this.currentLevelIndex)%t0.length;if(Ze!==this.currentLevelIndex&&t0[Ze].loadError===0){Ke=Ze;break}}-1<Ke&&this.currentLevelIndex!==Ke?(this.warn(De+": switch to "+Ke),je.levelRetry=!0,this.hls.nextAutoLevel=Ke):je.levelRetry===!1&&(je.fatal=!0)}}},ye.redundantFailover=function(je){var Le,$e=this._levels[je],Ie=$e.url.length;1<Ie&&(Le=($e.urlId+1)%Ie,this.warn("Switching to redundant URL-id "+Le),this._levels.forEach(function(De){De.urlId=Le}),this.level=je)},ye.onFragLoaded=function(je,$e){var $e=$e.frag;$e!==void 0&&$e.type===Ne.PlaylistLevelType.MAIN&&($e=this._levels[$e.level])!==void 0&&($e.fragmentError=0,$e.loadError=0)},ye.onLevelLoaded=function(je,Le){var $e=Le.level,Ie=Le.details,De=this._levels[$e];De?$e===this.currentLevelIndex?(De.fragmentError===0&&(De.loadError=0,this.retryCount=0),this.playlistLoaded($e,Le,De.details)):(De=Le.deliveryDirectives)!=null&&De.skip&&(Ie.deltaUpdateFailed=!0):(this.warn("Invalid level index "+$e),(De=Le.deliveryDirectives)!=null&&De.skip&&(Ie.deltaUpdateFailed=!0))},ye.onAudioTrackSwitched=function(je,Le){var $e=this.hls.levels[this.currentLevelIndex];if($e&&$e.audioGroupIds){for(var Ie=-1,De=this.hls.audioTracks[Le.id].groupId,Ue=0;Ue<$e.audioGroupIds.length;Ue++)if($e.audioGroupIds[Ue]===De){Ie=Ue;break}Ie!==$e.urlId&&($e.urlId=Ie,this.startLoad())}},ye.loadPlaylist=function(je){ce.prototype.loadPlaylist.call(this);var Le=this.currentLevelIndex,$e=this._levels[Le];if(this.canLoad&&$e&&0<$e.url.length){var Ie=$e.urlId,$e=$e.url[Ie];if(je)try{$e=je.addDirectives($e)}catch(Ue){this.warn("Could not construct new URL with HLS Delivery Directives: "+Ue)}this.log("Attempt loading level index "+Le+(je?.msn!==void 0?" at sn "+je.msn+" part "+je.part:"")+" with URL-id "+Ie+" "+$e),this.clearTimer(),this.hls.trigger(Pe.Events.LEVEL_LOADING,{url:$e,level:Le,id:Ie,deliveryDirectives:je||null})}},ye.removeLevel=function(je,Le){function $e(De,Ue){return Ue!==Le}var Ie=this._levels.filter(function(De,Ue){return Ue!==je||1<De.url.length&&Le!==void 0&&(De.url=De.url.filter($e),De.audioGroupIds&&(De.audioGroupIds=De.audioGroupIds.filter($e)),De.textGroupIds&&(De.textGroupIds=De.textGroupIds.filter($e)),!(De.urlId=0))}).map(function(De,Ue){var Ke=De.details;return Ke!=null&&Ke.fragments&&Ke.fragments.forEach(function(t0){t0.level=Ue}),De});this._levels=Ie,this.hls.trigger(Pe.Events.LEVELS_UPDATED,{levels:Ie})},se((de=Ee).prototype,[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(je){var Le=this._levels;if(Le.length!==0&&(this.currentLevelIndex!==je||(Ie=Le[je])==null||!Ie.details)){if(je<0||je>=Le.length){var Ie=je<0;if(this.hls.trigger(Pe.Events.ERROR,{type:xe.ErrorTypes.OTHER_ERROR,details:xe.ErrorDetails.LEVEL_SWITCH_ERROR,level:je,fatal:Ie,reason:"invalid level idx"}),Ie)return;je=Math.min(je,Le.length-1)}this.clearTimer();var Ie=this.currentLevelIndex,$e=Le[Ie],Le=Le[je],Ie=(this.log("switching to level "+je+" from "+Ie),ee({},Le,{level:this.currentLevelIndex=je,maxBitrate:Le.maxBitrate,uri:Le.uri,urlId:Le.urlId})),je=(delete Ie._urlId,this.hls.trigger(Pe.Events.LEVEL_SWITCHING,Ie),Le.details);je&&!je.live||(Ie=this.switchParams(Le.uri,$e?.details),this.loadPlaylist(Ie))}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(je){this.manualLevelIndex=je,this._startLevel===void 0&&(this._startLevel=je),je!==-1&&(this.level=je)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(je){this._firstLevel=je}},{key:"startLevel",get:function(){var je;return this._startLevel===void 0?(je=this.hls.config.startLevel)!==void 0?je:this._firstLevel:this._startLevel},set:function(je){this._startLevel=je}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(je){this.level=je,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=je)}}]),Object.defineProperty(de,"prototype",{writable:!1}),Ee);function Ee(je){return(je=ce.call(this,je,"[level-controller]")||this)._levels=[],je._firstLevel=-1,je._startLevel=void 0,je.currentLevelIndex=-1,je.manualLevelIndex=-1,je.onParsedComplete=void 0,je._registerListeners(),je}},"./src/controller/level-helper.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{addGroupId:()=>function(ce,Ae,ke){switch(Ae){case"audio":ce.audioGroupIds||(ce.audioGroupIds=[]),ce.audioGroupIds.push(ke);break;case"text":ce.textGroupIds||(ce.textGroupIds=[]),ce.textGroupIds.push(ke)}},addSliding:()=>he,adjustSliding:()=>se,assignTrackIdsByGroup:()=>function(ce){var Ae={};ce.forEach(function(ke){var Ee=ke.groupId||"";ke.id=Ae[Ee]=Ae[Ee]||0,Ae[Ee]++})},computeReloadInterval:()=>function(ce,Ae){Ae===void 0&&(Ae=1/0);var ke=1e3*ce.targetduration;return ce.updated?(ce=ce.fragments).length&&Ae<4*ke&&(Ae=1e3*ce[ce.length-1].duration)<ke&&(ke=Ae):ke/=2,Math.round(ke)},getFragmentWithSN:()=>function(ce,Ae,ke){var Ee;return ce&&ce.details?(ce=ce.details,(Ee=ce.fragments[Ae-ce.startSN])||((Ee=ce.fragmentHint)&&Ee.sn===Ae?Ee:Ae<ce.startSN&&ke&&ke.sn===Ae?ke:null)):null},getPartWith:()=>function(ce,Ae,ke){if(ce&&ce.details){var Ee=ce.details.partList;if(Ee)for(var je=Ee.length;je--;){var Le=Ee[je];if(Le.index===ke&&Le.fragment.sn===Ae)return Le}}return null},mapFragmentIntersection:()=>ee,mapPartIntersection:()=>Ne,mergeDetails:()=>function(ce,Ae){for(var ke=null,Ee=ce.fragments,je=Ee.length-1;0<=je;je--){var Le=Ee[je].initSegment;if(Le){ke=Le;break}}ce.fragmentHint&&delete ce.fragmentHint.endPTS;var $e,Ie,De,Ue=0;if(ee(ce,Ae,function(e0,a0){e0.relurl&&(Ue=e0.cc-a0.cc),(0,Se.isFiniteNumber)(e0.startPTS)&&(0,Se.isFiniteNumber)(e0.endPTS)&&(a0.start=a0.startPTS=e0.startPTS,a0.startDTS=e0.startDTS,a0.appendedPTS=e0.appendedPTS,a0.maxStartPTS=e0.maxStartPTS,a0.endPTS=e0.endPTS,a0.endDTS=e0.endDTS,a0.minEndPTS=e0.minEndPTS,a0.duration=e0.endPTS-e0.startPTS,a0.duration&&($e=a0),Ae.PTSKnown=Ae.alignedSliding=!0),a0.elementaryStreams=e0.elementaryStreams,a0.loader=e0.loader,a0.stats=e0.stats,a0.urlId=e0.urlId,e0.initSegment&&(a0.initSegment=e0.initSegment,ke=e0.initSegment)}),ke&&(Ae.fragmentHint?Ae.fragments.concat(Ae.fragmentHint):Ae.fragments).forEach(function(e0){var a0;e0.initSegment&&e0.initSegment.relurl!==((a0=ke)==null?void 0:a0.relurl)||(e0.initSegment=ke)}),Ae.skippedSegments)if(Ae.deltaUpdateFailed=Ae.fragments.some(function(e0){return!e0}),Ae.deltaUpdateFailed){Pe.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var Ke=Ae.skippedSegments;Ke--;)Ae.fragments.shift();Ae.startSN=Ae.fragments[0].sn,Ae.startCC=Ae.fragments[0].cc}else Ae.canSkipDateRanges&&(Ae.dateRanges=(Ze=ce.dateRanges,Ie=Ae.dateRanges,i0=Ae.recentlyRemovedDateranges,De=Oe({},Ze),i0&&i0.forEach(function(e0){delete De[e0]}),Object.keys(Ie).forEach(function(e0){var a0=new xe.DateRange(Ie[e0].attr,De[e0]);a0.isValid?De[e0]=a0:Pe.logger.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(Ie[e0].attr)+'"')}),De));var t0=Ae.fragments;if(Ue){Pe.logger.warn("discontinuity sliding from playlist, take drift into account");for(var Re=0;Re<t0.length;Re++)t0[Re].cc+=Ue}Ae.skippedSegments&&(Ae.startCC=Ae.fragments[0].cc),Ne(ce.partList,Ae.partList,function(e0,a0){a0.elementaryStreams=e0.elementaryStreams,a0.stats=e0.stats}),$e?ye(Ae,$e,$e.startPTS,$e.endPTS,$e.startDTS,$e.endDTS):se(ce,Ae),t0.length&&(Ae.totalduration=Ae.edge-t0[0].start),Ae.driftStartTime=ce.driftStartTime,Ae.driftStart=ce.driftStart;var Ze=Ae.advancedDateTime;{var i0;Ae.advanced&&Ze?(i0=Ae.edge,Ae.driftStart||(Ae.driftStartTime=Ze,Ae.driftStart=i0),Ae.driftEndTime=Ze,Ae.driftEnd=i0):(Ae.driftEndTime=ce.driftEndTime,Ae.driftEnd=ce.driftEnd,Ae.advancedDateTime=ce.advancedDateTime)}},updateFragPTSDTS:()=>ye,updatePTS:()=>function(ce,Ae,ke){Fe(ce[Ae],ce[ke])}});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/utils/logger.ts"),xe=de("./src/loader/date-range.ts");function Oe(){return(Oe=Object.assign?Object.assign.bind():function(ce){for(var Ae=1;Ae<arguments.length;Ae++){var ke,Ee=arguments[Ae];for(ke in Ee)Object.prototype.hasOwnProperty.call(Ee,ke)&&(ce[ke]=Ee[ke])}return ce}).apply(this,arguments)}function Fe(ce,Ae){var ke,Ee=Ae.startPTS;(0,Se.isFiniteNumber)(Ee)?(ke=0,(Ee=Ae.sn>ce.sn?(ke=Ee-ce.start,ce):(ke=ce.start-Ee,Ae)).duration!==ke&&(Ee.duration=ke)):Ae.sn>ce.sn?ce.cc===Ae.cc&&ce.minEndPTS?Ae.start=ce.start+(ce.minEndPTS-ce.start):Ae.start=ce.start+ce.duration:Ae.start=Math.max(ce.start-Ae.duration,0)}function ye(ce,Ae,ke,Ee,je,Le){Ee-ke<=0&&(Pe.logger.warn("Fragment should have a positive duration",Ae),Ee=ke+Ae.duration,Le=je+Ae.duration);var $e=ke,Ie=Ee,Ke=Ae.startPTS,t0=Ae.endPTS,De=((0,Se.isFiniteNumber)(Ke)&&(De=Math.abs(Ke-ke),(0,Se.isFiniteNumber)(Ae.deltaPTS)?Ae.deltaPTS=Math.max(De,Ae.deltaPTS):Ae.deltaPTS=De,$e=Math.max(ke,Ke),ke=Math.min(ke,Ke),je=Math.min(je,Ae.startDTS),Ie=Math.min(Ee,t0),Ee=Math.max(Ee,t0),Le=Math.max(Le,Ae.endDTS)),Ae.duration=Ee-ke,ke-Ae.start);Ae.start=Ae.startPTS=ke,Ae.maxStartPTS=$e,Ae.startDTS=je,Ae.endPTS=Ee,Ae.minEndPTS=Ie,Ae.endDTS=Le;var Ue,Ke=Ae.sn;if(!ce||Ke<ce.startSN||Ke>ce.endSN)return 0;var t0=Ke-ce.startSN,Re=ce.fragments;for(Re[t0]=Ae,Ue=t0;0<Ue;Ue--)Fe(Re[Ue],Re[Ue-1]);for(Ue=t0;Ue<Re.length-1;Ue++)Fe(Re[Ue],Re[Ue+1]);return ce.fragmentHint&&Fe(Re[Re.length-1],ce.fragmentHint),ce.PTSKnown=ce.alignedSliding=!0,De}function Ne(ce,Ae,ke){if(ce&&Ae)for(var Ee=0,je=0,Le=ce.length;je<=Le;je++){var $e=ce[je],Ie=Ae[je+Ee];$e&&Ie&&$e.index===Ie.index&&$e.fragment.sn===Ie.fragment.sn?ke($e,Ie):Ee--}}function ee(ce,Ae,ke){for(var Ee=Ae.skippedSegments,je=Math.max(ce.startSN,Ae.startSN)-Ae.startSN,Le=(ce.fragmentHint?1:0)+(Ee?Ae.endSN:Math.min(ce.endSN,Ae.endSN))-Ae.startSN,$e=Ae.startSN-ce.startSN,Ie=Ae.fragmentHint?Ae.fragments.concat(Ae.fragmentHint):Ae.fragments,De=ce.fragmentHint?ce.fragments.concat(ce.fragmentHint):ce.fragments,Ue=je;Ue<=Le;Ue++){var Ke=De[$e+Ue],t0=Ie[Ue];Ee&&!t0&&Ue<Ee&&(t0=Ae.fragments[Ue]=Ke),Ke&&t0&&ke(Ke,t0)}}function se(Ee,Ae){var ke=Ae.startSN+Ae.skippedSegments-Ee.startSN,Ee=Ee.fragments;ke<0||ke>=Ee.length||he(Ae,Ee[ke].start)}function he(ce,Ae){if(Ae){for(var ke=ce.fragments,Ee=ce.skippedSegments;Ee<ke.length;Ee++)ke[Ee].start+=Ae;ce.fragmentHint&&(ce.fragmentHint.start+=Ae)}}},"./src/controller/stream-controller.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Le});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/controller/base-stream-controller.ts"),xe=de("./src/is-supported.ts"),Oe=de("./src/events.ts"),Fe=de("./src/utils/buffer-helper.ts"),ye=de("./src/controller/fragment-tracker.ts"),Ne=de("./src/types/loader.ts"),ee=de("./src/loader/fragment.ts"),se=de("./src/demux/transmuxer-interface.ts"),he=de("./src/types/transmuxer.ts"),ce=de("./src/controller/gap-controller.ts"),Ae=de("./src/errors.ts");function ke(Ie,De){for(var Ue,Ke=0;Ke<De.length;Ke++){var t0=De[Ke];t0.enumerable=t0.enumerable||!1,t0.configurable=!0,"value"in t0&&(t0.writable=!0),Object.defineProperty(Ie,typeof(Ue=(function(Re){if(typeof Re!="object"||Re===null)return Re;var Ze=Re[Symbol.toPrimitive];if(Ze===void 0)return String(Re);if(Ze=Ze.call(Re,"string"),typeof Ze!="object")return Ze;throw new TypeError("@@toPrimitive must return a primitive value.")})(t0.key))=="symbol"?Ue:String(Ue),t0)}}function Ee(Ie,De){return(Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ue,Ke){return Ue.__proto__=Ke,Ue})(Ie,De)}je=Pe.default,fe=je,(de=$e).prototype=Object.create(fe.prototype),Ee(de.prototype.constructor=de,fe),(de=$e.prototype)._registerListeners=function(){var Ie=this.hls;Ie.on(Oe.Events.MEDIA_ATTACHED,this.onMediaAttached,this),Ie.on(Oe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),Ie.on(Oe.Events.MANIFEST_LOADING,this.onManifestLoading,this),Ie.on(Oe.Events.MANIFEST_PARSED,this.onManifestParsed,this),Ie.on(Oe.Events.LEVEL_LOADING,this.onLevelLoading,this),Ie.on(Oe.Events.LEVEL_LOADED,this.onLevelLoaded,this),Ie.on(Oe.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),Ie.on(Oe.Events.ERROR,this.onError,this),Ie.on(Oe.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),Ie.on(Oe.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),Ie.on(Oe.Events.BUFFER_CREATED,this.onBufferCreated,this),Ie.on(Oe.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),Ie.on(Oe.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),Ie.on(Oe.Events.FRAG_BUFFERED,this.onFragBuffered,this)},de._unregisterListeners=function(){var Ie=this.hls;Ie.off(Oe.Events.MEDIA_ATTACHED,this.onMediaAttached,this),Ie.off(Oe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),Ie.off(Oe.Events.MANIFEST_LOADING,this.onManifestLoading,this),Ie.off(Oe.Events.MANIFEST_PARSED,this.onManifestParsed,this),Ie.off(Oe.Events.LEVEL_LOADED,this.onLevelLoaded,this),Ie.off(Oe.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),Ie.off(Oe.Events.ERROR,this.onError,this),Ie.off(Oe.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),Ie.off(Oe.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),Ie.off(Oe.Events.BUFFER_CREATED,this.onBufferCreated,this),Ie.off(Oe.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),Ie.off(Oe.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),Ie.off(Oe.Events.FRAG_BUFFERED,this.onFragBuffered,this)},de.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},de.startLoad=function(Ie){var De,Ue,Ke;this.levels?(De=this.lastCurrentTime,Ue=this.hls,this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,this.startFragRequested||((Ke=Ue.startLevel)===-1&&(Ue.config.testBandwidth&&1<this.levels.length?this.bitrateTest=!(Ke=0):Ke=Ue.nextAutoLevel),this.level=Ue.nextLoadLevel=Ke,this.loadedmetadata=!1),0<De&&Ie===-1&&(this.log("Override startPosition with lastCurrentTime @"+De.toFixed(3)),Ie=De),this.state=Pe.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=Ie,this.tick()):(this._forceStartLoad=!0,this.state=Pe.State.STOPPED)},de.stopLoad=function(){this._forceStartLoad=!1,je.prototype.stopLoad.call(this)},de.doTick=function(){switch(this.state){case Pe.State.IDLE:this.doTickIdle();break;case Pe.State.WAITING_LEVEL:var Ie=this.levels,De=this.level,De=Ie==null||(Ie=Ie[De])==null?void 0:Ie.details;if(De&&(!De.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(De))break;this.state=Pe.State.IDLE}break;case Pe.State.FRAG_LOADING_WAITING_RETRY:Ie=self.performance.now(),De=this.retryDate,(!De||De<=Ie||(De=this.media)!=null&&De.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.level),this.state=Pe.State.IDLE)}this.onTickEnd()},de.onTickEnd=function(){je.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},de.doTickIdle=function(){var Ie=this.hls,De=this.levelLastLoaded,Ue=this.levels,Ke=this.media,t0=Ie.config,Re=Ie.nextLoadLevel;De===null||!(Ke||!this.startFragRequested&&t0.startFragPrefetch)||this.altAudio&&this.audioOnly||!Ue||!Ue[Re]||(De=Ue[Re],(Ke=this.getMainFwdBufferInfo())!==null&&((t0=this.getLevelDetails())&&this._streamEnded(Ke,t0)?(Ue={},this.altAudio&&(Ue.type="video"),this.hls.trigger(Oe.Events.BUFFER_EOS,Ue),this.state=Pe.State.ENDED):(this.level=Ie.nextLoadLevel=Re,!(t0=De.details)||this.state===Pe.State.WAITING_LEVEL||t0.live&&this.levelLastLoaded!==Re?(this.level=Re,this.state=Pe.State.WAITING_LEVEL):Ke.len>=this.getMaxBufferLength(De.maxBitrate)||(this.backtrackFragment&&this.backtrackFragment.start>Ke.end&&(this.backtrackFragment=null),Ue=this.backtrackFragment?this.backtrackFragment.start:Ke.end,Ie=this.getNextFragment(Ue,t0),this.couldBacktrack&&!this.fragPrevious&&Ie&&Ie.sn!=="initSegment"&&this.fragmentTracker.getState(Ie)!==ye.FragmentState.OK?(De=((Re=this.backtrackFragment)!=null?Re:Ie).sn-t0.startSN,(Re=t0.fragments[De-1])&&Ie.cc===Re.cc&&this.fragmentTracker.removeFragment(Ie=Re)):this.backtrackFragment&&Ke.len&&(this.backtrackFragment=null),Ie&&this.fragmentTracker.getState(Ie)===ye.FragmentState.OK&&this.nextLoadPosition>Ue&&((Re=((De=this.audioOnly&&!this.altAudio?ee.ElementaryStreamTypes.AUDIO:ee.ElementaryStreamTypes.VIDEO)===ee.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media)&&this.afterBufferFlushed(Re,De,Ne.PlaylistLevelType.MAIN),Ie=this.getNextFragment(this.nextLoadPosition,t0)),Ie&&(!Ie.initSegment||Ie.initSegment.data||this.bitrateTest||(Ie=Ie.initSegment),this.loadFragment(Ie,t0,Ue))))))},de.loadFragment=function(Ie,De,Ue){var Ke=this.fragmentTracker.getState(Ie);this.fragCurrent=Ie,Ke===ye.FragmentState.NOT_LOADED?Ie.sn==="initSegment"?this._loadInitSegment(Ie,De):this.bitrateTest?(this.log("Fragment "+Ie.sn+" of level "+Ie.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(Ie,De)):(this.startFragRequested=!0,je.prototype.loadFragment.call(this,Ie,De,Ue)):Ke===ye.FragmentState.APPENDING?this.reduceMaxBufferLength(Ie.duration)&&this.fragmentTracker.removeFragment(Ie):((De=this.media)==null?void 0:De.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},de.getAppendedFrag=function(Ie){return Ie=this.fragmentTracker.getAppendedFrag(Ie,Ne.PlaylistLevelType.MAIN),Ie&&"fragment"in Ie?Ie.fragment:Ie},de.getBufferedFrag=function(Ie){return this.fragmentTracker.getBufferedFrag(Ie,Ne.PlaylistLevelType.MAIN)},de.followingBufferedFrag=function(Ie){return Ie?this.getBufferedFrag(Ie.end+.5):null},de.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},de.nextLevelSwitch=function(){var Ie,De=this.levels,Ue=this.media;Ue!=null&&Ue.readyState&&((Ie=this.getAppendedFrag(Ue.currentTime))&&1<Ie.start&&this.flushMainBuffer(0,Ie.start-1),Ie=!Ue.paused&&De&&(Ie=De[this.hls.nextLoadLevel],De=this.fragLastKbps)&&this.fragCurrent?this.fragCurrent.duration*Ie.maxBitrate/(1e3*De)+1:0,De=this.getBufferedFrag(Ue.currentTime+Ie))&&(Ue=this.followingBufferedFrag(De))&&(this.abortCurrentFrag(),Ie=Ue.maxStartPTS||Ue.start,Ue=Ue.duration,De=Math.max(De.end,Ie+Math.min(Math.max(Ue-this.config.maxFragLookUpTolerance,.5*Ue),.75*Ue)),this.flushMainBuffer(De,Number.POSITIVE_INFINITY))},de.abortCurrentFrag=function(){var Ie=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,Ie&&Ie.abortRequests(),this.state){case Pe.State.KEY_LOADING:case Pe.State.FRAG_LOADING:case Pe.State.FRAG_LOADING_WAITING_RETRY:case Pe.State.PARSING:case Pe.State.PARSED:this.state=Pe.State.IDLE}this.nextLoadPosition=this.getLoadPosition()},de.flushMainBuffer=function(Ie,De){je.prototype.flushMainBuffer.call(this,Ie,De,this.altAudio?"video":null)},de.onMediaAttached=function(Ie,De){je.prototype.onMediaAttached.call(this,Ie,De),Ie=De.media,this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),Ie.addEventListener("playing",this.onvplaying),Ie.addEventListener("seeked",this.onvseeked),this.gapController=new ce.default(this.config,Ie,this.fragmentTracker,this.hls)},de.onMediaDetaching=function(){var Ie=this.media;Ie&&this.onvplaying&&this.onvseeked&&(Ie.removeEventListener("playing",this.onvplaying),Ie.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),je.prototype.onMediaDetaching.call(this)},de.onMediaPlaying=function(){this.tick()},de.onMediaSeeked=function(){var Ie=this.media,Ie=Ie?Ie.currentTime:null;(0,Se.isFiniteNumber)(Ie)&&this.log("Media seeked to "+Ie.toFixed(3)),this.tick()},de.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(Oe.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null,this.backtrackFragment=null},de.onManifestParsed=function(Ie,De){var Ue,Ke=!1,t0=!1;De.levels.forEach(function(Re){(Ue=Re.audioCodec)&&(Ue.indexOf("mp4a.40.2")!==-1&&(Ke=!0),Ue.indexOf("mp4a.40.5")!==-1)&&(t0=!0)}),this.audioCodecSwitch=Ke&&t0&&!(0,xe.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=De.levels,this.startFragRequested=!1},de.onLevelLoading=function(Ie,De){var Ue=this.levels;Ue&&this.state===Pe.State.IDLE&&(!(Ue=Ue[De.level]).details||Ue.details.live&&this.levelLastLoaded!==De.level||this.waitForCdnTuneIn(Ue.details))&&(this.state=Pe.State.WAITING_LEVEL)},de.onLevelLoaded=function(Ie,De){var Ue=this.levels,Ke=De.level,t0=De.details,Re=t0.totalduration;if(Ue){if(this.log("Level "+Ke+" loaded ["+t0.startSN+","+t0.endSN+"], cc ["+t0.startCC+", "+t0.endCC+"] duration:"+Re),Re=this.fragCurrent,De=(!Re||this.state!==Pe.State.FRAG_LOADING&&this.state!==Pe.State.FRAG_LOADING_WAITING_RETRY||Re.level!==De.level&&Re.loader&&(this.state=Pe.State.IDLE,this.backtrackFragment=null,Re.abortRequests()),Ue[Ke]),Re=0,t0.live||(Ue=De.details)!=null&&Ue.live){if(t0.fragments[0]||(t0.deltaUpdateFailed=!0),t0.deltaUpdateFailed)return;Re=this.alignPlaylists(t0,De.details)}if(De.details=t0,this.levelLastLoaded=Ke,this.hls.trigger(Oe.Events.LEVEL_UPDATED,{details:t0,level:Ke}),this.state===Pe.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(t0))return;this.state=Pe.State.IDLE}this.startFragRequested?t0.live&&this.synchronizeToLiveEdge(t0):this.setStartPosition(t0,Re),this.tick()}else this.warn("Levels were reset while loading level "+Ke)},de._handleFragmentLoadProgress=function(n0){var De,Ue,Ke,t0,Re,Ze,i0,e0=n0.frag,a0=n0.part,n0=n0.payload,Me=this.levels;Me?(De=(Me=Me[e0.level]).details)?(Ue=Me.videoCodec,Ke=De.PTSKnown||!De.live,t0=(t0=e0.initSegment)==null?void 0:t0.data,Me=this._getAudioCodec(Me),Re=this.transmuxer=this.transmuxer||new se.default(this.hls,Ne.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),Ze=a0?a0.index:-1,Ze=new he.ChunkMetadata(e0.level,e0.sn,e0.stats.chunkCount,n0.byteLength,Ze,Ze!==-1),i0=this.initPTS[e0.cc],Re.push(n0,t0,Me,Ue,e0,a0,De.totalduration,Ke,Ze,i0)):this.warn("Dropping fragment "+e0.sn+" of level "+e0.level+" after level details were reset"):this.warn("Levels were reset while fragment load was in progress. Fragment "+e0.sn+" of level "+e0.level+" will not be buffered")},de.onAudioTrackSwitching=function(Ie,t0){var Ue=this.altAudio,Ke=!!t0.url,t0=t0.id;Ke||(this.mediaBuffer!==this.media?(this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media,(Ke=this.fragCurrent)&&(this.log("Switching to main audio track, cancel main fragment load"),Ke.abortRequests()),this.resetTransmuxer(),this.resetLoadingState()):this.audioOnly&&this.resetTransmuxer(),Ke=this.hls,Ue&&Ke.trigger(Oe.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),Ke.trigger(Oe.Events.AUDIO_TRACK_SWITCHED,{id:t0}))},de.onAudioTrackSwitched=function(Ie,Ke){var Ue,Ke=Ke.id,Ke=!!this.hls.audioTracks[Ke].url;Ke&&(Ue=this.videoBuffer)&&this.mediaBuffer!==Ue&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=Ue),this.altAudio=Ke,this.tick()},de.onBufferCreated=function(Ie,De){var Ue,Ke=De.tracks,t0=!1;for(Ue in Ke){var Re,Ze,i0=Ke[Ue];i0.id==="main"?(Ze=i0,(Re=Ue)==="video"&&(i0=Ke[Ue])&&(this.videoBuffer=i0.buffer)):t0=!0}t0&&Ze?(this.log("Alternate track found, use "+Re+".buffered to schedule main fragment loading"),this.mediaBuffer=Ze.buffer):this.mediaBuffer=this.media},de.onFragBuffered=function(Ie,t0){var Ue,Ke=t0.frag,t0=t0.part;Ke&&Ke.type!==Ne.PlaylistLevelType.MAIN||(this.fragContextChanged(Ke)?(this.warn("Fragment "+Ke.sn+(t0?" p: "+t0.index:"")+" of level "+Ke.level+" finished buffering, but was aborted. state: "+this.state),this.state===Pe.State.PARSED&&(this.state=Pe.State.IDLE)):(Ue=(t0||Ke).stats,this.fragLastKbps=Math.round(8*Ue.total/(Ue.buffering.end-Ue.loading.first)),Ke.sn!=="initSegment"&&(this.fragPrevious=Ke),this.fragBufferedComplete(Ke,t0)))},de.onError=function(Ie,De){if(De.type!==Ae.ErrorTypes.KEY_SYSTEM_ERROR)switch(De.details){case Ae.ErrorDetails.FRAG_LOAD_ERROR:case Ae.ErrorDetails.FRAG_LOAD_TIMEOUT:case Ae.ErrorDetails.FRAG_PARSING_ERROR:case Ae.ErrorDetails.KEY_LOAD_ERROR:case Ae.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ne.PlaylistLevelType.MAIN,De);break;case Ae.ErrorDetails.LEVEL_LOAD_ERROR:case Ae.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==Pe.State.ERROR&&(De.fatal?(this.warn(""+De.details),this.state=Pe.State.ERROR):De.levelRetry||this.state!==Pe.State.WAITING_LEVEL||(this.state=Pe.State.IDLE));break;case Ae.ErrorDetails.BUFFER_FULL_ERROR:var Ue,Ke;De.parent!=="main"||this.state!==Pe.State.PARSING&&this.state!==Pe.State.PARSED||(Ue=!0,(Ue=(Ke=this.getFwdBufferInfo(this.media,Ne.PlaylistLevelType.MAIN))&&.5<Ke.len?!this.reduceMaxBufferLength(Ke.len):Ue)&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState())}else this.onFragmentOrKeyLoadError(Ne.PlaylistLevelType.MAIN,De)},de.checkBuffer=function(){var Ie,De=this.media,Ue=this.gapController;De&&Ue&&De.readyState&&(!this.loadedmetadata&&Fe.BufferHelper.getBuffered(De).length||(Ie=this.state!==Pe.State.IDLE?this.fragCurrent:null,Ue.poll(this.lastCurrentTime,Ie)),this.lastCurrentTime=De.currentTime)},de.onFragLoadEmergencyAborted=function(){this.state=Pe.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},de.onBufferFlushed=function(Ie,Ke){var Ue,Ke=Ke.type;(Ke!==ee.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio)&&(Ue=(Ke===ee.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media,this.afterBufferFlushed(Ue,Ke,Ne.PlaylistLevelType.MAIN))},de.onLevelsUpdated=function(Ie,De){this.levels=De.levels},de.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},de.seekToStartPos=function(){var Ie,De,Ue,Ke=this.media;Ke&&(Ie=Ke.currentTime,0<=(De=this.startPosition))&&Ie<De&&(Ke.seeking?this.log("could not seek to "+De+", already seeking at "+Ie):(0<(Ue=((Ue=Fe.BufferHelper.getBuffered(Ke)).length?Ue.start(0):0)-De)&&(Ue<this.config.maxBufferHole||Ue<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+Ue+" to match buffer start"),this.startPosition=De+=Ue),this.log("seek to target start position "+De+" from current time "+Ie),Ke.currentTime=De))},de._getAudioCodec=function(Ie){return Ie=this.config.defaultAudioCodec||Ie.audioCodec,this.audioCodecSwap&&Ie&&(this.log("Swapping audio codec"),Ie=Ie.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),Ie},de._loadBitrateTestFrag=function(Ie,De){var Ue=this;Ie.bitrateTest=!0,this._doFragLoad(Ie,De).then(function(Ke){var t0,Re=Ue.hls;Ke&&!Ue.fragContextChanged(Ie)&&(Ue.fragLoadError=0,Ue.state=Pe.State.IDLE,Ue.startFragRequested=!1,Ue.bitrateTest=!1,(t0=Ie.stats).parsing.start=t0.parsing.end=t0.buffering.start=t0.buffering.end=self.performance.now(),Re.trigger(Oe.Events.FRAG_LOADED,Ke),Ie.bitrateTest=!1)})},de._handleTransmuxComplete=function(t0){var De="main",Ue=this.hls,Ke=t0.remuxResult,t0=t0.chunkMeta,Re=this.getCurrentContext(t0);if(Re){var Ze=Re.frag,i0=Re.part,Re=Re.level,e0=Ke.video,a0=Ke.text,n0=Ke.id3,Me=Ke.initSegment,Xe=Re.details,c0=this.altAudio?void 0:Ke.audio;if(!this.fragContextChanged(Ze)){if(this.state=Pe.State.PARSING,Me&&(Me.tracks&&(this._bufferInitSegment(Re,Me.tracks,Ze,t0),Ue.trigger(Oe.Events.FRAG_PARSING_INIT_SEGMENT,{frag:Ze,id:De,tracks:Me.tracks})),Re=Me.initPTS,Me=Me.timescale,(0,Se.isFiniteNumber)(Re))&&(this.initPTS[Ze.cc]=Re,Ue.trigger(Oe.Events.INIT_PTS_FOUND,{frag:Ze,id:De,initPTS:Re,timescale:Me})),e0&&Ke.independent!==!1){if(Xe){var Re=e0.startPTS,Me=e0.endPTS,h0=e0.startDTS,w0=e0.endDTS;if(i0)i0.elementaryStreams[e0.type]={startPTS:Re,endPTS:Me,startDTS:h0,endDTS:w0};else if(e0.firstKeyFrame&&e0.independent&&t0.id===1&&(this.couldBacktrack=!0),e0.dropped&&e0.independent){var C0=this.getMainFwdBufferInfo();if((C0?C0.end:this.getLoadPosition())+this.config.maxBufferHole<(e0.firstKeyFramePTS||Re)-this.config.maxBufferHole)return void this.backtrack(Ze);Ze.setElementaryStreamInfo(e0.type,Ze.start,Me,Ze.start,w0,!0)}Ze.setElementaryStreamInfo(e0.type,Re,Me,h0,w0),this.backtrackFragment&&(this.backtrackFragment=Ze),this.bufferFragmentData(e0,Ze,i0,t0)}}else if(Ke.independent===!1)return void this.backtrack(Ze);c0&&(C0=c0.startPTS,Re=c0.endPTS,Me=c0.startDTS,h0=c0.endDTS,i0&&(i0.elementaryStreams[ee.ElementaryStreamTypes.AUDIO]={startPTS:C0,endPTS:Re,startDTS:Me,endDTS:h0}),Ze.setElementaryStreamInfo(ee.ElementaryStreamTypes.AUDIO,C0,Re,Me,h0),this.bufferFragmentData(c0,Ze,i0,t0)),Xe&&n0!=null&&(w0=n0.samples)!=null&&w0.length&&(e0={id:De,frag:Ze,details:Xe,samples:n0.samples},Ue.trigger(Oe.Events.FRAG_PARSING_METADATA,e0)),Xe&&a0&&(Ke={id:De,frag:Ze,details:Xe,samples:a0.samples},Ue.trigger(Oe.Events.FRAG_PARSING_USERDATA,Ke))}}else this.warn("The loading context changed while buffering fragment "+t0.sn+" of level "+t0.level+". This chunk will not be buffered."),this.resetStartWhenNotLoaded(t0.level)},de._bufferInitSegment=function(Ie,De,Ue,Ke){var t0,Re,Ze,i0,e0,a0=this;this.state===Pe.State.PARSING&&(this.audioOnly=!!De.audio&&!De.video,this.altAudio&&!this.audioOnly&&delete De.audio,t0=De.audio,Re=De.video,Ze=De.audiovideo,t0&&(i0=Ie.audioCodec,e0=navigator.userAgent.toLowerCase(),this.audioCodecSwitch&&(i0=i0&&(i0.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),t0.metadata.channelCount!==1)&&e0.indexOf("firefox")===-1&&(i0="mp4a.40.5"),e0.indexOf("android")!==-1&&t0.container!=="audio/mpeg"&&this.log("Android: force audio codec to "+(i0="mp4a.40.2")),Ie.audioCodec&&Ie.audioCodec!==i0&&this.log('Swapping manifest audio codec "'+Ie.audioCodec+'" for "'+i0+'"'),t0.levelCodec=i0,t0.id="main",this.log("Init audio buffer, container:"+t0.container+", codecs[selected/level/parsed]=["+(i0||"")+"/"+(Ie.audioCodec||"")+"/"+t0.codec+"]")),Re&&(Re.levelCodec=Ie.videoCodec,Re.id="main",this.log("Init video buffer, container:"+Re.container+", codecs[level/parsed]=["+(Ie.videoCodec||"")+"/"+Re.codec+"]")),Ze&&this.log("Init audiovideo buffer, container:"+Ze.container+", codecs[level/parsed]=["+(Ie.attrs.CODECS||"")+"/"+Ze.codec+"]"),this.hls.trigger(Oe.Events.BUFFER_CODECS,De),Object.keys(De).forEach(function(n0){var Me=De[n0].initSegment;Me!=null&&Me.byteLength&&a0.hls.trigger(Oe.Events.BUFFER_APPENDING,{type:n0,data:Me,frag:Ue,part:null,chunkMeta:Ke,parent:Ue.type})}),this.tick())},de.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer||this.media,Ne.PlaylistLevelType.MAIN)},de.backtrack=function(Ie){this.couldBacktrack=!0,this.backtrackFragment=Ie,this.resetTransmuxer(),this.flushBufferGap(Ie),this.fragmentTracker.removeFragment(Ie),this.fragPrevious=null,this.nextLoadPosition=Ie.start,this.state=Pe.State.IDLE},de.checkFragmentChanged=function(){var Ie,De=this.media,Ue=null;De&&1<De.readyState&&De.seeking===!1&&(Ie=De.currentTime,Fe.BufferHelper.isBuffered(De,Ie)?Ue=this.getAppendedFrag(Ie):Fe.BufferHelper.isBuffered(De,Ie+.1)&&(Ue=this.getAppendedFrag(Ie+.1)),Ue)&&(this.backtrackFragment=null,De=this.fragPlaying,Ie=Ue.level,De&&Ue.sn===De.sn&&De.level===Ie&&Ue.urlId===De.urlId||(this.fragPlaying=Ue,this.hls.trigger(Oe.Events.FRAG_CHANGED,{frag:Ue}),De&&De.level===Ie)||this.hls.trigger(Oe.Events.LEVEL_SWITCHED,{level:Ie}))},ke((fe=$e).prototype,[{key:"nextLevel",get:function(){var Ie=this.nextBufferedFrag;return Ie?Ie.level:-1}},{key:"currentFrag",get:function(){var Ie=this.media;return Ie?this.fragPlaying||this.getAppendedFrag(Ie.currentTime):null}},{key:"currentProgramDateTime",get:function(){var Ie=this.media;if(Ie){var Ie=Ie.currentTime,De=this.currentFrag;if(De&&(0,Se.isFiniteNumber)(Ie)&&(0,Se.isFiniteNumber)(De.programDateTime))return Ie=De.programDateTime+1e3*(Ie-De.start),new Date(Ie)}return null}},{key:"currentLevel",get:function(){var Ie=this.currentFrag;return Ie?Ie.level:-1}},{key:"nextBufferedFrag",get:function(){var Ie=this.currentFrag;return Ie?this.followingBufferedFrag(Ie):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),Object.defineProperty(fe,"prototype",{writable:!1});var je,Le=$e;function $e(Ie,De,Ue){return(Ie=je.call(this,Ie,De,Ue,"[stream-controller]")||this).audioCodecSwap=!1,Ie.gapController=null,Ie.level=-1,Ie._forceStartLoad=!1,Ie.altAudio=!1,Ie.audioOnly=!1,Ie.fragPlaying=null,Ie.onvplaying=null,Ie.onvseeked=null,Ie.fragLastKbps=0,Ie.couldBacktrack=!1,Ie.backtrackFragment=null,Ie.audioCodecSwitch=!1,Ie.videoBuffer=null,Ie._registerListeners(),Ie}},"./src/controller/subtitle-stream-controller.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{SubtitleStreamController:()=>ke});var Se=de("./src/events.ts"),Pe=de("./src/utils/buffer-helper.ts"),xe=de("./src/controller/fragment-finders.ts"),Oe=de("./src/utils/discontinuities.ts"),Fe=de("./src/controller/level-helper.ts"),ye=de("./src/controller/fragment-tracker.ts"),Ne=de("./src/controller/base-stream-controller.ts"),ee=de("./src/types/loader.ts"),se=de("./src/types/level.ts");function he(Le,$e){for(var Ie,De=0;De<$e.length;De++){var Ue=$e[De];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(Le,typeof(Ie=(function(Ke){if(typeof Ke!="object"||Ke===null)return Ke;var t0=Ke[Symbol.toPrimitive];if(t0===void 0)return String(Ke);if(t0=t0.call(Ke,"string"),typeof t0!="object")return t0;throw new TypeError("@@toPrimitive must return a primitive value.")})(Ue.key))=="symbol"?Ie:String(Ie),Ue)}}function ce(Le,$e){return(ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ie,De){return Ie.__proto__=De,Ie})(Le,$e)}Ae=Ne.default,fe=Ae,(de=je).prototype=Object.create(fe.prototype),ce(de.prototype.constructor=de,fe),(de=je.prototype).onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},de._registerListeners=function(){var Le=this.hls;Le.on(Se.Events.MEDIA_ATTACHED,this.onMediaAttached,this),Le.on(Se.Events.MEDIA_DETACHING,this.onMediaDetaching,this),Le.on(Se.Events.MANIFEST_LOADING,this.onManifestLoading,this),Le.on(Se.Events.LEVEL_LOADED,this.onLevelLoaded,this),Le.on(Se.Events.ERROR,this.onError,this),Le.on(Se.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),Le.on(Se.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),Le.on(Se.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),Le.on(Se.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),Le.on(Se.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),Le.on(Se.Events.FRAG_BUFFERED,this.onFragBuffered,this)},de._unregisterListeners=function(){var Le=this.hls;Le.off(Se.Events.MEDIA_ATTACHED,this.onMediaAttached,this),Le.off(Se.Events.MEDIA_DETACHING,this.onMediaDetaching,this),Le.off(Se.Events.MANIFEST_LOADING,this.onManifestLoading,this),Le.off(Se.Events.LEVEL_LOADED,this.onLevelLoaded,this),Le.off(Se.Events.ERROR,this.onError,this),Le.off(Se.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),Le.off(Se.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),Le.off(Se.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),Le.off(Se.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),Le.off(Se.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),Le.off(Se.Events.FRAG_BUFFERED,this.onFragBuffered,this)},de.startLoad=function(Le){this.stopLoad(),this.state=Ne.State.IDLE,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=Le,this.tick()},de.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},de.onLevelLoaded=function(Le,$e){this.mainDetails=$e.details},de.onSubtitleFragProcessed=function(Le,De){var Ie=De.frag,De=De.success;if(this.fragPrevious=Ie,this.state=Ne.State.IDLE,De){var Ue=this.tracksBuffered[this.currentTrackId];if(Ue){for(var Ke,t0=Ie.start,Re=0;Re<Ue.length;Re++)if(t0>=Ue[Re].start&&t0<=Ue[Re].end){Ke=Ue[Re];break}De=Ie.start+Ie.duration,Ke?Ke.end=De:Ue.push(Ke={start:t0,end:De}),this.fragmentTracker.fragBuffered(Ie)}}},de.onBufferFlushing=function(Le,$e){var Ie,De,Ue,Ke=$e.startOffset,t0=$e.endOffset;Ke===0&&t0!==Number.POSITIVE_INFINITY&&(Ie=this.currentTrackId,(De=this.levels).length)&&De[Ie]&&De[Ie].details&&((Ue=t0-De[Ie].details.targetduration)<=0||($e.endOffsetSubtitles=Math.max(0,Ue),this.tracksBuffered.forEach(function(Re){for(var Ze=0;Ze<Re.length;)if(Re[Ze].end<=Ue)Re.shift();else{if(!(Re[Ze].start<Ue))break;Re[Ze].start=Ue,Ze++}}),this.fragmentTracker.removeFragmentsInRange(Ke,Ue,ee.PlaylistLevelType.SUBTITLE)))},de.onFragBuffered=function(Le,$e){this.loadedmetadata||$e.frag.type!==ee.PlaylistLevelType.MAIN||($e=this.media)!=null&&$e.buffered.length&&(this.loadedmetadata=!0)},de.onError=function(Le,$e){$e=$e.frag,$e&&$e.type===ee.PlaylistLevelType.SUBTITLE&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state=Ne.State.IDLE)},de.onSubtitleTracksUpdated=function(Le,De){var Ie=this,De=De.subtitleTracks;this.tracksBuffered=[],this.levels=De.map(function(Ue){return new se.Level(Ue)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(Ue){Ie.tracksBuffered[Ue.id]=[]}),this.mediaBuffer=null},de.onSubtitleTrackSwitch=function(Le,$e){this.currentTrackId=$e.id,this.levels.length&&this.currentTrackId!==-1?(($e=this.levels[this.currentTrackId])!=null&&$e.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,$e&&this.setInterval(500)):this.clearInterval()},de.onSubtitleTrackLoaded=function(Le,De){var Ie=De.details,De=De.id,Ue=this.currentTrackId,Ke=this.levels;if(Ke.length){var t0=Ke[Ue];if(!(De>=Ke.length||De!==Ue)&&t0){if(this.mediaBuffer=this.mediaBufferTimeRanges,Ke=0,Ie.live||(Ue=t0.details)!=null&&Ue.live){if(Ue=this.mainDetails,Ie.deltaUpdateFailed||!Ue)return;var Re=Ue.fragments[0];t0.details?(Ke=this.alignPlaylists(Ie,t0.details))===0&&Re&&(Ke=Re.start,(0,Fe.addSliding)(Ie,Ke)):Ie.hasProgramDateTime&&Ue.hasProgramDateTime?((0,Oe.alignMediaPlaylistByPDT)(Ie,Ue),Ke=Ie.fragments[0].start):Re&&(Ke=Re.start,(0,Fe.addSliding)(Ie,Ke))}t0.details=Ie,this.levelLastLoaded=De,this.startFragRequested||!this.mainDetails&&Ie.live||this.setStartPosition(t0.details,Ke),this.tick(),!Ie.live||this.fragCurrent||!this.media||this.state!==Ne.State.IDLE||(0,xe.findFragmentByPTS)(null,Ie.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),t0.details=void 0)}}},de._handleFragmentLoadComplete=function(Ue){var $e,Ie=this,De=Ue.frag,Ue=Ue.payload,Ke=De.decryptdata,t0=this.hls;!this.fragContextChanged(De)&&Ue&&0<Ue.byteLength&&Ke&&Ke.key&&Ke.iv&&Ke.method==="AES-128"&&($e=performance.now(),this.decrypter.decrypt(new Uint8Array(Ue),Ke.key.buffer,Ke.iv.buffer).then(function(Re){var Ze=performance.now();t0.trigger(Se.Events.FRAG_DECRYPTED,{frag:De,payload:Re,stats:{tstart:$e,tdecrypt:Ze}})}).catch(function(Re){Ie.warn(Re.name+": "+Re.message),Ie.state=Ne.State.IDLE}))},de.doTick=function(){var Le,$e,Ie,De,Ue,Ke,t0,Re;this.media?this.state===Ne.State.IDLE&&(Re=this.currentTrackId,(Le=this.levels).length)&&Le[Re]&&Le[Re].details&&(Re=(Le=Le[Re].details).targetduration,$e=this.config,De=this.getLoadPosition(),Ie=(De=Pe.BufferHelper.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],De-Re,$e.maxBufferHole)).end,De=De.len,Ue=this.getFwdBufferInfo(this.media,ee.PlaylistLevelType.MAIN),De>this.getMaxBufferLength(Ue?.len)+Re||(console.assert(Le,"Subtitle track details are defined on idle subtitle stream controller tick"),Ue=(De=Le.fragments).length,Re=Le.edge,Ke=null,t0=this.fragPrevious,Ie<Re?(Re=$e.maxFragLookUpTolerance,!(Ke=(0,xe.findFragmentByPTS)(t0,De,Math.max(De[0].start,Ie),Re))&&t0&&t0.start<De[0].start&&(Ke=De[0])):Ke=De[Ue-1],Ke&&(Ke=this.mapToInitFragWhenRequired(Ke),this.fragmentTracker.getState(Ke)===ye.FragmentState.NOT_LOADED)&&this.loadFragment(Ke,Le,Ie))):this.state=Ne.State.IDLE},de.getMaxBufferLength=function(Le){var $e=Ae.prototype.getMaxBufferLength.call(this);return Le?Math.max($e,Le):$e},de.loadFragment=function(Le,$e,Ie){(this.fragCurrent=Le).sn==="initSegment"?this._loadInitSegment(Le,$e):(this.startFragRequested=!0,Ae.prototype.loadFragment.call(this,Le,$e,Ie))},he((fe=je).prototype,[{key:"mediaBufferTimeRanges",get:function(){return new Ee(this.tracksBuffered[this.currentTrackId]||[])}}]),Object.defineProperty(fe,"prototype",{writable:!1});var Ae,ke=je,Ee=function(Le){this.buffered=void 0;function $e(Ie,De,Ue){if((De>>>=0)>Ue-1)throw new DOMException("Failed to execute '"+Ie+"' on 'TimeRanges': The index provided ("+De+") is greater than the maximum bound ("+Ue+")");return Le[De][Ie]}this.buffered={get length(){return Le.length},end:function(Ie){return $e("end",Ie,Le.length)},start:function(Ie){return $e("start",Ie,Le.length)}}};function je(Le,$e,Ie){return(Le=Ae.call(this,Le,$e,Ie,"[subtitle-stream-controller]")||this).levels=[],Le.currentTrackId=-1,Le.tracksBuffered=[],Le.mainDetails=null,Le._registerListeners(),Le}},"./src/controller/subtitle-track-controller.ts":(_e,Oe,de)=>{de.r(Oe),de.d(Oe,{default:()=>he});var Se,Pe=de("./src/events.ts"),xe=de("./src/utils/texttrack-utils.ts"),Oe=de("./src/controller/base-playlist-controller.ts"),Fe=de("./src/types/loader.ts");function ye(ce,Ae){for(var ke,Ee=0;Ee<Ae.length;Ee++){var je=Ae[Ee];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(ce,typeof(ke=(function(Le){if(typeof Le!="object"||Le===null)return Le;var $e=Le[Symbol.toPrimitive];if($e===void 0)return String(Le);if($e=$e.call(Le,"string"),typeof $e!="object")return $e;throw new TypeError("@@toPrimitive must return a primitive value.")})(je.key))=="symbol"?ke:String(ke),je)}}function Ne(ce,Ae){return(Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ke,Ee){return ke.__proto__=Ee,ke})(ce,Ae)}function ee(ce){var Ae;return(Ae=Se.call(this,ce,"[subtitle-track-controller]")||this).media=null,Ae.tracks=[],Ae.groupId=null,Ae.tracksInGroup=[],Ae.trackId=-1,Ae.selectDefaultTrack=!0,Ae.queuedDefaultTrack=-1,Ae.trackChangeListener=function(){return Ae.onTextTracksChanged()},Ae.asyncPollTrackChange=function(){return Ae.pollTrackChange(0)},Ae.useTextTrackPolling=!1,Ae.subtitlePollingInterval=-1,Ae._subtitleDisplay=!0,Ae.registerListeners(),Ae}function se(ce){for(var Ae=[],ke=0;ke<ce.length;ke++){var Ee=ce[ke];Ee.kind==="subtitles"&&Ee.label&&Ae.push(ce[ke])}return Ae}Se=Oe.default,de=Se,(Oe=ee).prototype=Object.create(de.prototype),Ne(Oe.prototype.constructor=Oe,de),(Oe=ee.prototype).destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,Se.prototype.destroy.call(this)},Oe.registerListeners=function(){var ce=this.hls;ce.on(Pe.Events.MEDIA_ATTACHED,this.onMediaAttached,this),ce.on(Pe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),ce.on(Pe.Events.MANIFEST_LOADING,this.onManifestLoading,this),ce.on(Pe.Events.MANIFEST_PARSED,this.onManifestParsed,this),ce.on(Pe.Events.LEVEL_LOADING,this.onLevelLoading,this),ce.on(Pe.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),ce.on(Pe.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),ce.on(Pe.Events.ERROR,this.onError,this)},Oe.unregisterListeners=function(){var ce=this.hls;ce.off(Pe.Events.MEDIA_ATTACHED,this.onMediaAttached,this),ce.off(Pe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),ce.off(Pe.Events.MANIFEST_LOADING,this.onManifestLoading,this),ce.off(Pe.Events.MANIFEST_PARSED,this.onManifestParsed,this),ce.off(Pe.Events.LEVEL_LOADING,this.onLevelLoading,this),ce.off(Pe.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),ce.off(Pe.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),ce.off(Pe.Events.ERROR,this.onError,this)},Oe.onMediaAttached=function(ce,Ae){this.media=Ae.media,this.media&&(-1<this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},Oe.pollTrackChange=function(ce){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,ce)},Oe.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),-1<this.trackId&&(this.queuedDefaultTrack=this.trackId),se(this.media.textTracks).forEach(function(ce){(0,xe.clearCurrentCues)(ce)}),this.subtitleTrack=-1,this.media=null)},Oe.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},Oe.onManifestParsed=function(ce,Ae){this.tracks=Ae.subtitleTracks},Oe.onSubtitleTrackLoaded=function(ce,Ae){var ke,Ee=Ae.id,je=Ae.details,Le=this.trackId,Le=this.tracksInGroup[Le];Le?(ke=Le.details,Le.details=Ae.details,this.log("subtitle track "+Ee+" loaded ["+je.startSN+"-"+je.endSN+"]"),Ee===this.trackId&&(this.retryCount=0,this.playlistLoaded(Ee,Ae,ke))):this.warn("Invalid subtitle track id "+Ee)},Oe.onLevelLoading=function(ce,Ae){this.switchLevel(Ae.level)},Oe.onLevelSwitching=function(ce,Ae){this.switchLevel(Ae.level)},Oe.switchLevel=function(Le){var Ae,ke,Ee,je,Le=this.hls.levels[Le];Le!=null&&Le.textGroupIds&&(Ae=Le.textGroupIds[Le.urlId],this.groupId!==Ae)&&(Le=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,ke=this.tracks.filter(function($e){return!Ae||$e.groupId===Ae}),this.tracksInGroup=ke,Ee=this.findTrackId(Le?.name)||this.findTrackId(),this.groupId=Ae,je={subtitleTracks:ke},this.log("Updating subtitle tracks, "+ke.length+' track(s) found in "'+Ae+'" group-id'),this.hls.trigger(Pe.Events.SUBTITLE_TRACKS_UPDATED,je),Ee!==-1)&&this.setSubtitleTrack(Ee,Le)},Oe.findTrackId=function(ce){for(var Ae=this.tracksInGroup,ke=0;ke<Ae.length;ke++){var Ee=Ae[ke];if((!this.selectDefaultTrack||Ee.default)&&(!ce||ce===Ee.name))return Ee.id}return-1},Oe.onError=function(ce,Ae){Se.prototype.onError.call(this,ce,Ae),!Ae.fatal&&Ae.context&&Ae.context.type===Fe.PlaylistContextType.SUBTITLE_TRACK&&Ae.context.id===this.trackId&&Ae.context.groupId===this.groupId&&this.retryLoadingOrFail(Ae)},Oe.loadPlaylist=function(ce){Se.prototype.loadPlaylist.call(this);var Ae=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(Ae)){var ke=Ae.id,Ee=Ae.groupId,Ae=Ae.url;if(ce)try{Ae=ce.addDirectives(Ae)}catch(Le){this.warn("Could not construct new URL with HLS Delivery Directives: "+Le)}this.log("Loading subtitle playlist for id "+ke),this.hls.trigger(Pe.Events.SUBTITLE_TRACK_LOADING,{url:Ae,id:ke,groupId:Ee,deliveryDirectives:ce||null})}},Oe.toggleTrackModes=function(ce){var Ae,ke=this,Ee=this.media,je=this.trackId;Ee&&(Ae=(Ee=se(Ee.textTracks)).filter(function(Le){return Le.groupId===ke.groupId}),ce===-1?[].slice.call(Ee).forEach(function(Le){Le.mode="disabled"}):(Ee=Ae[je])&&(Ee.mode="disabled"),je=Ae[ce])&&(je.mode=this.subtitleDisplay?"showing":"hidden")},Oe.setSubtitleTrack=function(ce,Ae){var ke,Ee,je,Le,$e,Ie=this.tracksInGroup;this.media?(this.trackId!==ce&&this.toggleTrackModes(ce),this.trackId===ce&&(ce===-1||(ke=Ie[ce])!=null&&ke.details)||ce<-1||ce>=Ie.length||(this.clearTimer(),ke=Ie[ce],this.log("Switching to subtitle track "+ce),this.trackId=ce,ke?(Ie=ke.id,Ee=ke.groupId,je=ke.name,Le=ke.type,$e=ke.url,this.hls.trigger(Pe.Events.SUBTITLE_TRACK_SWITCH,{id:Ie,groupId:Ee===void 0?"":Ee,name:je,type:Le,url:$e}),Ie=this.switchParams(ke.url,Ae?.details),this.loadPlaylist(Ie)):this.hls.trigger(Pe.Events.SUBTITLE_TRACK_SWITCH,{id:ce}))):this.queuedDefaultTrack=ce},Oe.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var ce=-1,Ae=se(this.media.textTracks),ke=0;ke<Ae.length;ke++)if(Ae[ke].mode==="hidden")ce=ke;else if(Ae[ke].mode==="showing"){ce=ke;break}this.subtitleTrack!==ce&&(this.subtitleTrack=ce)}},ye((de=ee).prototype,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(ce){this._subtitleDisplay=ce,-1<this.trackId&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(ce){this.selectDefaultTrack=!1;var Ae=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(ce,Ae)}}]),Object.defineProperty(de,"prototype",{writable:!1});const he=ee},"./src/controller/timeline-controller.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{TimelineController:()=>ce});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/events.ts"),xe=de("./src/utils/cea-608-parser.ts"),Oe=de("./src/utils/output-filter.ts"),Fe=de("./src/utils/webvtt-parser.ts"),ye=de("./src/utils/texttrack-utils.ts"),Ne=de("./src/utils/imsc1-ttml-parser.ts"),ee=de("./src/utils/mp4-tools.ts"),se=de("./src/types/loader.ts"),he=de("./src/utils/logger.ts"),ce=((fe=Ae.prototype).destroy=function(){var ke=this.hls;ke.off(Pe.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),ke.off(Pe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),ke.off(Pe.Events.MANIFEST_LOADING,this.onManifestLoading,this),ke.off(Pe.Events.MANIFEST_LOADED,this.onManifestLoaded,this),ke.off(Pe.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),ke.off(Pe.Events.FRAG_LOADING,this.onFragLoading,this),ke.off(Pe.Events.FRAG_LOADED,this.onFragLoaded,this),ke.off(Pe.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),ke.off(Pe.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),ke.off(Pe.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),ke.off(Pe.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),ke.off(Pe.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},fe.addCues=function(ke,Ee,je,Le,$e){for(var Ie,De,Ue,Ke=!1,t0=$e.length;t0--;){var Re=$e[t0],Ze=(Ie=Re[0],Ze=Re[1],De=Ee,Math.min(Ze,je)-Math.max(Ie,De));if(0<=Ze&&(Re[0]=Math.min(Re[0],Ee),Re[1]=Math.max(Re[1],je),Ke=!0,.5<Ze/(je-Ee)))return}Ke||$e.push([Ee,je]),this.config.renderTextTracksNatively?(Ue=this.captionsTracks[ke],this.Cues.newCue(Ue,Ee,je,Le)):(Ue=this.Cues.newCue(null,Ee,je,Le),this.hls.trigger(Pe.Events.CUES_PARSED,{type:"captions",cues:Ue,track:ke}))},fe.onInitPtsFound=function(ke,De){var je=this,Le=De.frag,$e=De.id,Ie=De.initPTS,De=De.timescale,Ue=this.unparsedVttFrags;$e==="main"&&(this.initPTS[Le.cc]=Ie,this.timescale[Le.cc]=De),Ue.length&&(this.unparsedVttFrags=[],Ue.forEach(function(Ke){je.onFragLoaded(Pe.Events.FRAG_LOADED,Ke)}))},fe.getExistingTrack=function(ke){var Ee=this.media;if(Ee)for(var je=0;je<Ee.textTracks.length;je++){var Le=Ee.textTracks[je];if(Le[ke])return Le}return null},fe.createCaptionsTrack=function(ke){this.config.renderTextTracksNatively?this.createNativeTrack(ke):this.createNonNativeTrack(ke)},fe.createNativeTrack=function(ke){var Ee,je,Le,$e,Ie;this.captionsTracks[ke]||($e=this.captionsProperties,Ee=this.captionsTracks,je=this.media,Le=($e=$e[ke]).label,$e=$e.languageCode,(Ie=this.getExistingTrack(ke))?(Ee[ke]=Ie,(0,ye.clearCurrentCues)(Ee[ke]),(0,ye.sendAddTrackEvent)(Ee[ke],je)):(Ie=this.createTextTrack("captions",Le,$e))&&(Ie[ke]=!0,Ee[ke]=Ie))},fe.createNonNativeTrack=function(ke){var Ee;this.nonNativeCaptionsTracks[ke]||(Ee=this.captionsProperties[ke])&&(Ee={_id:ke,label:Ee.label,kind:"captions",default:!!Ee.media&&!!Ee.media.default,closedCaptions:Ee.media},this.nonNativeCaptionsTracks[ke]=Ee,this.hls.trigger(Pe.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[Ee]}))},fe.createTextTrack=function(ke,Ee,je){var Le=this.media;if(Le)return Le.addTextTrack(ke,Ee,je)},fe.onMediaAttaching=function(ke,Ee){this.media=Ee.media,this._cleanTracks()},fe.onMediaDetaching=function(){var ke=this.captionsTracks;Object.keys(ke).forEach(function(Ee){(0,ye.clearCurrentCues)(ke[Ee]),delete ke[Ee]}),this.nonNativeCaptionsTracks={}},fe.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},fe._cleanTracks=function(){var ke=this.media;if(ke){var Ee=ke.textTracks;if(Ee)for(var je=0;je<Ee.length;je++)(0,ye.clearCurrentCues)(Ee[je])}},fe.onSubtitleTracksUpdated=function(ke,$e){var je,Le=this,$e=(this.textTracks=[],$e.subtitleTracks||[]),Ie=$e.some(function(De){return De.textCodec===Ne.IMSC1_CODEC});(this.config.enableWebVTT||Ie&&this.config.enableIMSC1)&&(Ie=this.tracks&&$e&&this.tracks.length===$e.length,this.tracks=$e||[],this.config.renderTextTracksNatively?(je=this.media?this.media.textTracks:[],this.tracks.forEach(function(De,Ue){var Ke,t0,Re;if(Ue<je.length){for(var Ze=null,i0=0;i0<je.length;i0++)if(t0=je[i0],Re=De,t0&&t0.label===Re.name&&!t0.textTrack1&&!t0.textTrack2){Ze=je[i0];break}Ze&&(Ke=Ze)}Ke?(0,ye.clearCurrentCues)(Ke):(Ue=Le._captionsOrSubtitlesFromCharacteristics(De),(Ke=Le.createTextTrack(Ue,De.name,De.lang))&&(Ke.mode="disabled")),Ke&&(Ke.groupId=De.groupId,Le.textTracks.push(Ke))})):!Ie&&this.tracks&&this.tracks.length&&($e=this.tracks.map(function(De){return{label:De.name,kind:De.type.toLowerCase(),default:De.default,subtitleTrack:De}}),this.hls.trigger(Pe.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:$e})))},fe._captionsOrSubtitlesFromCharacteristics=function(ke){if((Ee=ke.attrs)!=null&&Ee.CHARACTERISTICS){var Ee=/transcribes-spoken-dialog/gi.test(ke.attrs.CHARACTERISTICS),ke=/describes-music-and-sound/gi.test(ke.attrs.CHARACTERISTICS);if(Ee&&ke)return"captions"}return"subtitles"},fe.onManifestLoaded=function(ke,Ee){var je=this;this.config.enableCEA708Captions&&Ee.captions&&Ee.captions.forEach(function(Le){var $e=/(?:CC|SERVICE)([1-4])/.exec(Le.instreamId);$e&&($e="textTrack"+$e[1],$e=je.captionsProperties[$e])&&($e.label=Le.name,Le.lang&&($e.languageCode=Le.lang),$e.media=Le)})},fe.closedCaptionsForLevel=function(ke){return ke=this.hls.levels[ke.level],ke?.attrs["CLOSED-CAPTIONS"]},fe.onFragLoading=function(ke,Ee){var je,Le=this.cea608Parser1,$e=this.cea608Parser2,Ie=this.lastSn,De=this.lastPartIndex;this.enabled&&Le&&$e&&Ee.frag.type===se.PlaylistLevelType.MAIN&&(je=Ee.frag.sn,Ee=(Ee=Ee==null||(Ee=Ee.part)==null?void 0:Ee.index)!=null?Ee:-1,je===Ie+1||je===Ie&&Ee===De+1||(Le.reset(),$e.reset()),this.lastSn=je,this.lastPartIndex=Ee)},fe.onFragLoaded=function(ke,Ee){var je,Le,$e=Ee.frag,Ie=Ee.payload,De=this.initPTS,Ue=this.unparsedVttFrags;$e.type===se.PlaylistLevelType.SUBTITLE&&(Ie.byteLength?(0,Se.isFiniteNumber)(De[$e.cc])?(je=$e.decryptdata,Le="stats"in Ee,je!=null&&je.encrypted&&!Le||(je=this.tracks[$e.level],(Le=this.vttCCs)[$e.cc]||(Le[$e.cc]={start:$e.start,prevCC:this.prevCC,new:!0},this.prevCC=$e.cc),je&&je.textCodec===Ne.IMSC1_CODEC?this._parseIMSC1($e,Ie):this._parseVTTs($e,Ie,Le))):(Ue.push(Ee),De.length&&this.hls.trigger(Pe.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:$e,error:new Error("Missing initial subtitle PTS")})):this.hls.trigger(Pe.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:$e,error:new Error("Empty subtitle payload")}))},fe._parseIMSC1=function(ke,Ee){var je=this,Le=this.hls;(0,Ne.parseIMSC1)(Ee,this.initPTS[ke.cc],this.timescale[ke.cc],function($e){je._appendCues($e,ke.level),Le.trigger(Pe.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:ke})},function($e){he.logger.log("Failed to parse IMSC1: "+$e),Le.trigger(Pe.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:ke,error:$e})})},fe._parseVTTs=function(ke,Ee,je){var Le=this,$e=this.hls,Ie=(Ie=ke.initSegment)!=null&&Ie.data?(0,ee.appendUint8Array)(ke.initSegment.data,new Uint8Array(Ee)):Ee;(0,Fe.parseWebVTT)(Ie,this.initPTS[ke.cc],this.timescale[ke.cc],je,ke.cc,ke.start,function(De){Le._appendCues(De,ke.level),$e.trigger(Pe.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:ke})},function(De){Le._fallbackToIMSC1(ke,Ee),he.logger.log("Failed to parse VTT cue: "+De),$e.trigger(Pe.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:ke,error:De})})},fe._fallbackToIMSC1=function(ke,Ee){var je=this,Le=this.tracks[ke.level];Le.textCodec||(0,Ne.parseIMSC1)(Ee,this.initPTS[ke.cc],this.timescale[ke.cc],function(){Le.textCodec=Ne.IMSC1_CODEC,je._parseIMSC1(ke,Ee)},function(){Le.textCodec="wvtt"})},fe._appendCues=function(ke,Ee){var je,Le,$e=this.hls;this.config.renderTextTracksNatively?(je=this.textTracks[Ee])&&je.mode!=="disabled"&&ke.forEach(function(Ie){return(0,ye.addCueToTrack)(je,Ie)}):(Le=this.tracks[Ee])&&(Le=Le.default?"default":"subtitles"+Ee,$e.trigger(Pe.Events.CUES_PARSED,{type:"subtitles",cues:ke,track:Le}))},fe.onFragDecrypted=function(ke,Ee){var je=Ee.frag;je.type===se.PlaylistLevelType.SUBTITLE&&((0,Se.isFiniteNumber)(this.initPTS[je.cc])?this.onFragLoaded(Pe.Events.FRAG_LOADED,Ee):this.unparsedVttFrags.push(Ee))},fe.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},fe.onFragParsingUserdata=function(ke,Ee){var je=this.cea608Parser1,Le=this.cea608Parser2;if(this.enabled&&je&&Le){var $e=Ee.frag,Ie=Ee.samples;if($e.type!==se.PlaylistLevelType.MAIN||this.closedCaptionsForLevel($e)!=="NONE")for(var De=0;De<Ie.length;De++){var Ue=Ie[De].bytes;Ue&&(Ue=this.extractCea608Data(Ue),je.addData(Ie[De].pts,Ue[0]),Le.addData(Ie[De].pts,Ue[1]))}}},fe.onBufferFlushing=function(ke,Ue){var je,Le,$e=Ue.startOffset,Ie=Ue.endOffset,De=Ue.endOffsetSubtitles,Ue=Ue.type,Ke=this.media;!Ke||Ke.currentTime<Ie||(Ue&&Ue!=="video"||(je=this.captionsTracks,Object.keys(je).forEach(function(t0){return(0,ye.removeCuesInRange)(je[t0],$e,Ie)})),this.config.renderTextTracksNatively&&$e===0&&De!==void 0&&(Le=this.textTracks,Object.keys(Le).forEach(function(t0){return(0,ye.removeCuesInRange)(Le[t0],$e,De)})))},fe.extractCea608Data=function(ke){for(var Ee=[[],[]],je=31&ke[0],Le=2,$e=0;$e<je;$e++){var Ie=ke[Le++],De=127&ke[Le++],Ue=127&ke[Le++];De==0&&Ue==0||(4&Ie)==0||(Ie=3&Ie)!=0&&Ie!=1||(Ee[Ie].push(De),Ee[Ie].push(Ue))}return Ee},Ae);function Ae(ke){var Ee,je,Le,$e;this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=ke,this.config=ke.config,this.Cues=ke.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions&&(Ee=new Oe.default(this,"textTrack1"),je=new Oe.default(this,"textTrack2"),Le=new Oe.default(this,"textTrack3"),$e=new Oe.default(this,"textTrack4"),this.cea608Parser1=new xe.default(1,Ee,je),this.cea608Parser2=new xe.default(3,Le,$e)),ke.on(Pe.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),ke.on(Pe.Events.MEDIA_DETACHING,this.onMediaDetaching,this),ke.on(Pe.Events.MANIFEST_LOADING,this.onManifestLoading,this),ke.on(Pe.Events.MANIFEST_LOADED,this.onManifestLoaded,this),ke.on(Pe.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),ke.on(Pe.Events.FRAG_LOADING,this.onFragLoading,this),ke.on(Pe.Events.FRAG_LOADED,this.onFragLoaded,this),ke.on(Pe.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),ke.on(Pe.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),ke.on(Pe.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),ke.on(Pe.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),ke.on(Pe.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}},"./src/crypt/aes-crypto.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Se}),Pe.prototype.decrypt=function(xe,Oe){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},Oe,xe)};var Se=Pe;function Pe(xe,Oe){this.subtle=void 0,this.aesIV=void 0,this.subtle=xe,this.aesIV=Oe}},"./src/crypt/aes-decryptor.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Pe,removePadding:()=>function(Oe){var Fe=Oe.byteLength,ye=Fe&&new DataView(Oe.buffer).getUint8(Fe-1);return ye?(0,Se.sliceUint8)(Oe,0,Fe-ye):Oe}});var Se=de("./src/utils/typed-array.ts");(fe=xe.prototype).uint8ArrayToUint32Array_=function(Oe){for(var Fe=new DataView(Oe),ye=new Uint32Array(4),Ne=0;Ne<4;Ne++)ye[Ne]=Fe.getUint32(4*Ne);return ye},fe.initTable=function(){for(var Oe=this.sBox,Fe=this.invSBox,he=this.subMix,ye=he[0],Ne=he[1],ee=he[2],se=he[3],he=this.invSubMix,ce=he[0],Ae=he[1],ke=he[2],Ee=he[3],je=new Uint32Array(256),Le=0,$e=0,Ie=0,Ie=0;Ie<256;Ie++)je[Ie]=Ie<128?Ie<<1:Ie<<1^283;for(Ie=0;Ie<256;Ie++){var De=$e^$e<<1^$e<<2^$e<<3^$e<<4,Ue=(Oe[Le]=De=De>>>8^255&De^99,je[Fe[De]=Le]),Ke=je[Ue],t0=je[Ke],Re=257*je[De]^16843008*De;ye[Le]=Re<<24|Re>>>8,Ne[Le]=Re<<16|Re>>>16,ee[Le]=Re<<8|Re>>>24,se[Le]=Re,ce[De]=(Re=16843009*t0^65537*Ke^257*Ue^16843008*Le)<<24|Re>>>8,Ae[De]=Re<<16|Re>>>16,ke[De]=Re<<8|Re>>>24,Ee[De]=Re,Le?(Le=Ue^je[je[je[t0^Ue]]],$e^=je[je[$e]]):Le=$e=1}},fe.expandKey=function(Oe){for(var Fe=this.uint8ArrayToUint32Array_(Oe),ye=!0,Ne=0;Ne<Fe.length&&ye;)ye=Fe[Ne]===this.key[Ne],Ne++;if(!ye){this.key=Fe;var ee=this.keySize=Fe.length;if(ee!==4&&ee!==6&&ee!==8)throw new Error("Invalid aes key size="+ee);for(var se,he,ce,Ae=this.ksRows=4*(ee+6+1),ke=this.keySchedule=new Uint32Array(Ae),Ee=this.invKeySchedule=new Uint32Array(Ae),je=this.sBox,Le=this.rcon,Oe=this.invSubMix,$e=Oe[0],Ie=Oe[1],De=Oe[2],Ue=Oe[3],Ke=0;Ke<Ae;Ke++)Ke<ee?he=ke[Ke]=Fe[Ke]:(ce=he,Ke%ee==0?(ce=je[(ce=ce<<8|ce>>>24)>>>24]<<24|je[ce>>>16&255]<<16|je[ce>>>8&255]<<8|je[255&ce],ce^=Le[Ke/ee|0]<<24):6<ee&&Ke%ee==4&&(ce=je[ce>>>24]<<24|je[ce>>>16&255]<<16|je[ce>>>8&255]<<8|je[255&ce]),ke[Ke]=he=(ke[Ke-ee]^ce)>>>0);for(se=0;se<Ae;se++)Ke=Ae-se,ce=3&se?ke[Ke]:ke[Ke-4],Ee[se]=se<4||Ke<=4?ce:$e[je[ce>>>24]]^Ie[je[ce>>>16&255]]^De[je[ce>>>8&255]]^Ue[je[255&ce]],Ee[se]=Ee[se]>>>0}},fe.networkToHostOrderSwap=function(Oe){return Oe<<24|(65280&Oe)<<8|(16711680&Oe)>>8|Oe>>>24},fe.decrypt=function(Oe,Fe,ye){for(var Ne,ee,se,he,ce,Ae,ke,Ee,je,Le,$e,Ie,De,Ue,Ke=this.keySize+6,t0=this.invKeySchedule,Re=this.invSBox,n0=this.invSubMix,Ze=n0[0],i0=n0[1],e0=n0[2],a0=n0[3],n0=this.uint8ArrayToUint32Array_(ye),Me=n0[0],Xe=n0[1],c0=n0[2],h0=n0[3],w0=new Int32Array(Oe),C0=new Int32Array(w0.length),q0=this.networkToHostOrderSwap;Fe<w0.length;){for(je=q0(w0[Fe]),Le=q0(w0[Fe+1]),$e=q0(w0[Fe+2]),Ie=q0(w0[Fe+3]),ce=je^t0[0],Ae=Ie^t0[1],ke=$e^t0[2],Ee=Le^t0[3],De=4,Ue=1;Ue<Ke;Ue++)Ne=Ze[ce>>>24]^i0[Ae>>16&255]^e0[ke>>8&255]^a0[255&Ee]^t0[De],ee=Ze[Ae>>>24]^i0[ke>>16&255]^e0[Ee>>8&255]^a0[255&ce]^t0[De+1],se=Ze[ke>>>24]^i0[Ee>>16&255]^e0[ce>>8&255]^a0[255&Ae]^t0[De+2],he=Ze[Ee>>>24]^i0[ce>>16&255]^e0[Ae>>8&255]^a0[255&ke]^t0[De+3],ce=Ne,Ae=ee,ke=se,Ee=he,De+=4;Ne=Re[ce>>>24]<<24^Re[Ae>>16&255]<<16^Re[ke>>8&255]<<8^Re[255&Ee]^t0[De],ee=Re[Ae>>>24]<<24^Re[ke>>16&255]<<16^Re[Ee>>8&255]<<8^Re[255&ce]^t0[De+1],se=Re[ke>>>24]<<24^Re[Ee>>16&255]<<16^Re[ce>>8&255]<<8^Re[255&Ae]^t0[De+2],he=Re[Ee>>>24]<<24^Re[ce>>16&255]<<16^Re[Ae>>8&255]<<8^Re[255&ke]^t0[De+3],C0[Fe]=q0(Ne^Me),C0[Fe+1]=q0(he^Xe),C0[Fe+2]=q0(se^c0),C0[Fe+3]=q0(ee^h0),Me=je,Xe=Le,c0=$e,h0=Ie,Fe+=4}return C0.buffer};var Pe=xe;function xe(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}},"./src/crypt/decrypter.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Ne});var Se=de("./src/crypt/aes-crypto.ts"),Pe=de("./src/crypt/fast-aes-key.ts"),xe=de("./src/crypt/aes-decryptor.ts"),Oe=de("./src/utils/logger.ts"),Fe=de("./src/utils/mp4-tools.ts"),ye=de("./src/utils/typed-array.ts"),Ne=((fe=ee.prototype).destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},fe.isSync=function(){return this.useSoftware},fe.flush=function(){var se=this.currentResult,he=this.remainderData;return!se||he?(Oe.logger.error("[softwareDecrypt] "+(he?"overflow bytes: "+he.byteLength:"no result")),this.reset(),null):(he=new Uint8Array(se),this.reset(),this.removePKCS7Padding?(0,xe.removePadding)(he):he)},fe.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},fe.decrypt=function(se,he,ce){var Ae=this;return this.useSoftware?new Promise(function(ke,Ee){Ae.softwareDecrypt(new Uint8Array(se),he,ce);var je=Ae.flush();je?ke(je.buffer):Ee(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(se),he,ce)},fe.softwareDecrypt=function(se,he,ce){var Ae=this.currentIV,ke=this.currentResult,Ee=this.remainderData,Ee=(this.logOnce("JS AES decrypt"),Ee&&(se=(0,Fe.appendUint8Array)(Ee,se),this.remainderData=null),this.getValidChunk(se));return Ee.length?(Ae&&(ce=Ae),se=this.softwareDecrypter,(se=se||(this.softwareDecrypter=new xe.default)).expandKey(he),Ae=ke,this.currentResult=se.decrypt(Ee.buffer,0,ce),this.currentIV=(0,ye.sliceUint8)(Ee,-16).buffer,Ae||null):null},fe.webCryptoDecrypt=function(se,he,ce){var Ae=this,ke=this.subtle;return this.key===he&&this.fastAesKey||(this.key=he,this.fastAesKey=new Pe.default(ke,he)),this.fastAesKey.expandKey().then(function(Ee){return ke?(Ae.logOnce("WebCrypto AES decrypt"),new Se.default(ke,new Uint8Array(ce)).decrypt(se.buffer,Ee)):Promise.reject(new Error("web crypto not initialized"))}).catch(function(Ee){return Oe.logger.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+Ee.name+": "+Ee.message),Ae.onWebCryptoError(se,he,ce)})},fe.onWebCryptoError=function(se,he,ce){if(this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(se,he,ce),se=this.flush(),se)return se.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")},fe.getValidChunk=function(se){var he=se,ce=se.length-se.length%16;return ce!==se.length&&(he=(0,ye.sliceUint8)(se,0,ce),this.remainderData=(0,ye.sliceUint8)(se,ce)),he},fe.logOnce=function(se){this.logEnabled&&(Oe.logger.log("[decrypter]: "+se),this.logEnabled=!1)},ee);function ee(se,he){if(he=(he===void 0?{}:he).removePKCS7Padding,he=he===void 0||he,this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=se.enableSoftwareAES,this.removePKCS7Padding=he)try{var ce=self.crypto;ce&&(this.subtle=ce.subtle||ce.webkitSubtle)}catch{}this.subtle===null&&(this.useSoftware=!0)}},"./src/crypt/fast-aes-key.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Se}),Pe.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])};var Se=Pe;function Pe(xe,Oe){this.subtle=void 0,this.key=void 0,this.subtle=xe,this.key=Oe}},"./src/demux/aacdemuxer.ts":(_e,Pe,de)=>{de.r(Pe),de.d(Pe,{default:()=>ee});var Se,Pe=de("./src/demux/base-audio-demuxer.ts"),xe=de("./src/demux/adts.ts"),Oe=de("./src/utils/logger.ts"),Fe=de("./src/demux/id3.ts");function ye(se,he){return(ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ce,Ae){return ce.__proto__=Ae,ce})(se,he)}function Ne(se,he){var ce;return(ce=Se.call(this)||this).observer=void 0,ce.config=void 0,ce.observer=se,ce.config=he,ce}Se=Pe.default,de=Se,(Pe=Ne).prototype=Object.create(de.prototype),ye(Pe.prototype.constructor=Pe,de),(Pe=Ne.prototype).resetInitSegment=function(se,he,ce,Ae){Se.prototype.resetInitSegment.call(this,se,he,ce,Ae),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:he,duration:Ae,inputTimeScale:9e4,dropped:0}},Ne.probe=function(se){if(se){for(var he=(Fe.getID3Data(se,0)||[]).length,ce=se.length;he<ce;he++)if(xe.probe(se,he))return Oe.logger.log("ADTS sync word found !"),!0}return!1},Pe.canParse=function(se,he){return xe.canParse(se,he)},Pe.appendFrame=function(se,he,ce){if(xe.initTrackConfig(se,this.observer,he,ce,se.manifestCodec),se=xe.appendFrame(se,he,ce,this.basePTS,this.frameIndex),se&&se.missing===0)return se};const ee=Ne},"./src/demux/adts.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{appendFrame:()=>function(Ae,ke,Ee,Ie,De){var $e,Ie=Ie+De*he(Ae.samplerate),De=ce(ke,Ee);{var Ue,Ke;if(De)return Ue=De.frameLength,De=De.headerLength,Ue=De+Ue,(Ke=Math.max(0,Ee+Ue-ke.length))?($e=new Uint8Array(Ue-De)).set(ke.subarray(Ee+De,ke.length),0):$e=ke.subarray(Ee+De,Ee+Ue),De={unit:$e,pts:Ie},Ke||Ae.samples.push(De),{sample:De,length:Ue,missing:Ke}}return Ae=ke.length-Ee,($e=new Uint8Array(Ae)).set(ke.subarray(Ee,ke.length),0),{sample:{unit:$e,pts:Ie},length:Ae,missing:-1}},canGetFrameLength:()=>ee,canParse:()=>function(Ae,ke){return ee(Ae,ke)&&Fe(Ae,ke)&&Ne(Ae,ke)<=Ae.length-ke},getAudioConfig:()=>Oe,getFrameDuration:()=>he,getFullFrameLength:()=>Ne,getHeaderLength:()=>ye,initTrackConfig:()=>function(Ae,ke,Ee,je,Le){Ae.samplerate||(ke=Oe(ke,Ee,je,Le))&&(Ae.config=ke.config,Ae.samplerate=ke.samplerate,Ae.channelCount=ke.channelCount,Ae.codec=ke.codec,Ae.manifestCodec=ke.manifestCodec,Se.logger.log("parsed codec:"+Ae.codec+", rate:"+ke.samplerate+", channels:"+ke.channelCount))},isHeader:()=>se,isHeaderPattern:()=>Fe,parseFrameHeader:()=>ce,probe:()=>function(Ae,ke){{var Ee,je;if(se(Ae,ke))return je=ye(Ae,ke),!(ke+je>=Ae.length||(Ee=Ne(Ae,ke))<=je)&&((je=ke+Ee)===Ae.length||se(Ae,je))}return!1}});var Se=de("./src/utils/logger.ts"),Pe=de("./src/errors.ts"),xe=de("./src/events.ts");function Oe(Ae,ke,Ee,je){var Le,$e,Ie=navigator.userAgent.toLowerCase(),De=je,Ue=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Ke=1+((192&ke[Ee+2])>>>6),t0=(60&ke[Ee+2])>>>2;if(!(Ue.length-1<t0))return Le=(1&ke[Ee+2])<<2,Le|=(192&ke[Ee+3])>>>6,Se.logger.log("manifest codec:"+je+", ADTS type:"+Ke+", samplingIndex:"+t0),ke=/firefox/i.test(Ie)?6<=t0?(Ke=5,$e=new Array(4),t0-3):(Ke=2,$e=new Array(2),t0):Ie.indexOf("android")!==-1?(Ke=2,$e=new Array(2),t0):(Ke=5,$e=new Array(4),je&&(je.indexOf("mp4a.40.29")!==-1||je.indexOf("mp4a.40.5")!==-1)||!je&&6<=t0?t0-3:((je&&je.indexOf("mp4a.40.2")!==-1&&(6<=t0&&Le==1||/vivaldi/i.test(Ie))||!je&&Le==1)&&(Ke=2,$e=new Array(2)),t0)),$e[0]=Ke<<3,$e[0]|=(14&t0)>>1,$e[1]|=(1&t0)<<7,$e[1]|=Le<<3,Ke===5&&($e[1]|=(14&ke)>>1,$e[2]=(1&ke)<<7,$e[2]|=8,$e[3]=0),{config:$e,samplerate:Ue[t0],channelCount:Le,codec:"mp4a.40."+Ke,manifestCodec:De};Ae.trigger(xe.Events.ERROR,{type:Pe.ErrorTypes.MEDIA_ERROR,details:Pe.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+t0})}function Fe(Ae,ke){return Ae[ke]===255&&(246&Ae[ke+1])==240}function ye(Ae,ke){return 1&Ae[ke+1]?7:9}function Ne(Ae,ke){return(3&Ae[ke+3])<<11|Ae[ke+4]<<3|(224&Ae[ke+5])>>>5}function ee(Ae,ke){return ke+5<Ae.length}function se(Ae,ke){return ke+1<Ae.length&&Fe(Ae,ke)}function he(Ae){return 9216e4/Ae}function ce(Ae,ke){var Ee=ye(Ae,ke);if(ke+Ee<=Ae.length&&(Ae=Ne(Ae,ke)-Ee,0<Ae))return{headerLength:Ee,frameLength:Ae}}},"./src/demux/base-audio-demuxer.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>se,initPTSFn:()=>Ne});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/demux/id3.ts"),xe=de("./src/types/demuxer.ts"),Oe=de("./src/demux/dummy-demuxed-track.ts"),Fe=de("./src/utils/mp4-tools.ts"),ye=de("./src/utils/typed-array.ts");(fe=ee.prototype).resetInitSegment=function(he,ce,Ae,ke){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},fe.resetTimeStamp=function(he){this.initPTS=he,this.resetContiguity()},fe.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},fe.canParse=function(he,ce){return!1},fe.appendFrame=function(he,ce,Ae){},fe.demux=function(he,ce){this.cachedData&&(he=(0,Fe.appendUint8Array)(this.cachedData,he),this.cachedData=null);var Ae,ke,Ee=Pe.getID3Data(he,0),je=Ee?Ee.length:0,Le=this._audioTrack,$e=this._id3Track,Ie=Ee?Pe.getTimeStamp(Ee):void 0,De=he.length;for((this.basePTS===null||this.frameIndex===0&&(0,Se.isFiniteNumber)(Ie))&&(this.basePTS=Ne(Ie,ce,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),Ee&&0<Ee.length&&$e.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:Ee,type:xe.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});je<De;)this.canParse(he,je)?(ke=this.appendFrame(Le,he,je))?(this.frameIndex++,this.lastPTS=ke.sample.pts,Ae=je+=ke.length):je=De:Pe.canParse(he,je)?(Ee=Pe.getID3Data(he,je),$e.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:Ee,type:xe.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),Ae=je+=Ee.length):je++,je===De&&Ae!==De&&(ke=(0,ye.sliceUint8)(he,Ae),this.cachedData?this.cachedData=(0,Fe.appendUint8Array)(this.cachedData,ke):this.cachedData=ke);return{audioTrack:Le,videoTrack:(0,Oe.dummyTrack)(),id3Track:$e,textTrack:(0,Oe.dummyTrack)()}},fe.demuxSampleAes=function(he,ce,Ae){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},fe.flush=function(he){var ce=this.cachedData;return ce&&(this.cachedData=null,this.demux(ce,0)),{audioTrack:this._audioTrack,videoTrack:(0,Oe.dummyTrack)(),id3Track:this._id3Track,textTrack:(0,Oe.dummyTrack)()}},fe.destroy=function(){};var Ne=function(he,ce,Ae){return(0,Se.isFiniteNumber)(he)?90*he:9e4*ce+(Ae||0)};function ee(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}const se=ee},"./src/demux/chunk-cache.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Se}),(de=Pe.prototype).push=function(xe){this.chunks.push(xe),this.dataLength+=xe.length},de.flush=function(){var xe=this.chunks,Oe=this.dataLength;return xe.length?(xe=xe.length===1?xe[0]:(function(Fe){for(var ye=new Uint8Array(Oe),Ne=0,ee=0;ee<Fe.length;ee++){var se=Fe[ee];ye.set(se,Ne),Ne+=se.length}return ye})(xe),this.reset(),xe):new Uint8Array(0)},de.reset=function(){this.chunks.length=0,this.dataLength=0};var Se=Pe;function Pe(){this.chunks=[],this.dataLength=0}},"./src/demux/dummy-demuxed-track.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{dummyTrack:()=>function(Se,Pe){return{type:Se=Se===void 0?"":Se,id:-1,pid:-1,inputTimeScale:Pe=Pe===void 0?9e4:Pe,sequenceNumber:-1,samples:[],dropped:0}}})},"./src/demux/exp-golomb.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Pe});var Se=de("./src/utils/logger.ts");(fe=xe.prototype).loadWord=function(){var Oe=this.data,Ne=this.bytesAvailable,Fe=Oe.byteLength-Ne,ye=new Uint8Array(4),Ne=Math.min(4,Ne);if(Ne===0)throw new Error("no bytes available");ye.set(Oe.subarray(Fe,Fe+Ne)),this.word=new DataView(ye.buffer).getUint32(0),this.bitsAvailable=8*Ne,this.bytesAvailable-=Ne},fe.skipBits=function(Oe){var Fe;Oe=Math.min(Oe,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>Oe||(Oe=(Oe-=this.bitsAvailable)-((Fe=Oe>>3)<<3),this.bytesAvailable-=Fe,this.loadWord()),this.word<<=Oe,this.bitsAvailable-=Oe},fe.readBits=function(Oe){var Fe=Math.min(this.bitsAvailable,Oe),ye=this.word>>>32-Fe;if(32<Oe&&Se.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=Fe,0<this.bitsAvailable)this.word<<=Fe;else{if(!(0<this.bytesAvailable))throw new Error("no bits available");this.loadWord()}return 0<(Fe=Oe-Fe)&&this.bitsAvailable?ye<<Fe|this.readBits(Fe):ye},fe.skipLZ=function(){for(var Oe=0;Oe<this.bitsAvailable;++Oe)if((this.word&2147483648>>>Oe)!=0)return this.word<<=Oe,this.bitsAvailable-=Oe,Oe;return this.loadWord(),Oe+this.skipLZ()},fe.skipUEG=function(){this.skipBits(1+this.skipLZ())},fe.skipEG=function(){this.skipBits(1+this.skipLZ())},fe.readUEG=function(){var Oe=this.skipLZ();return this.readBits(Oe+1)-1},fe.readEG=function(){var Oe=this.readUEG();return 1&Oe?1+Oe>>>1:-1*(Oe>>>1)},fe.readBoolean=function(){return this.readBits(1)===1},fe.readUByte=function(){return this.readBits(8)},fe.readUShort=function(){return this.readBits(16)},fe.readUInt=function(){return this.readBits(32)},fe.skipScalingList=function(Oe){for(var Fe=8,ye=8,Ne=0;Ne<Oe;Ne++)Fe=(ye=ye!==0?(Fe+this.readEG()+256)%256:ye)===0?Fe:ye},fe.readSPS=function(){var Oe,Fe,ye,Ne=0,ee=0,se=0,he=0,ce=this.readUByte.bind(this),De=this.readBits.bind(this),Ae=this.readUEG.bind(this),ke=this.readBoolean.bind(this),Ee=this.skipBits.bind(this),je=this.skipEG.bind(this),Ie=this.skipUEG.bind(this),Le=this.skipScalingList.bind(this),$e=(ce(),ce());if(De(5),Ee(3),ce(),Ie(),($e===100||$e===110||$e===122||$e===244||$e===44||$e===83||$e===86||$e===118||$e===128)&&($e=Ae(),$e===3&&Ee(1),Ie(),Ie(),Ee(1),ke()))for(Fe=$e!==3?8:12,ye=0;ye<Fe;ye++)ke()&&Le(ye<6?16:64);if(Ie(),$e=Ae(),$e===0)Ae();else if($e===1)for(Ee(1),je(),je(),Oe=Ae(),ye=0;ye<Oe;ye++)je();Ie(),Ee(1);var $e=Ae(),Ie=Ae(),De=De(1),Ue=(De===0&&Ee(1),Ee(1),ke()&&(Ne=Ae(),ee=Ae(),se=Ae(),he=Ae()),[1,1]);if(ke()&&ke())switch(ce()){case 1:Ue=[1,1];break;case 2:Ue=[12,11];break;case 3:Ue=[10,11];break;case 4:Ue=[16,11];break;case 5:Ue=[40,33];break;case 6:Ue=[24,11];break;case 7:Ue=[20,11];break;case 8:Ue=[32,11];break;case 9:Ue=[80,33];break;case 10:Ue=[18,11];break;case 11:Ue=[15,11];break;case 12:Ue=[64,33];break;case 13:Ue=[160,99];break;case 14:Ue=[4,3];break;case 15:Ue=[3,2];break;case 16:Ue=[2,1];break;case 255:Ue=[ce()<<8|ce(),ce()<<8|ce()]}return{width:Math.ceil(16*($e+1)-2*Ne-2*ee),height:(2-De)*(Ie+1)*16-(De?2:4)*(se+he),pixelRatio:Ue}},fe.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()};const Pe=xe;function xe(Oe){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=Oe,this.bytesAvailable=Oe.byteLength,this.word=0,this.bitsAvailable=0}},"./src/demux/id3.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{canParse:()=>ye,decodeFrame:()=>ce,getID3Data:()=>Oe,getID3Frames:()=>he,getTimeStamp:()=>Ne,isFooter:()=>xe,isHeader:()=>Pe,isTimeStampFrame:()=>ee,testables:()=>$e,utf8ArrayToStr:()=>Le});var Se,Pe=function(Ie,De){return De+10<=Ie.length&&Ie[De]===73&&Ie[De+1]===68&&Ie[De+2]===51&&Ie[De+3]<255&&Ie[De+4]<255&&Ie[De+6]<128&&Ie[De+7]<128&&Ie[De+8]<128&&Ie[De+9]<128},xe=function(Ie,De){return De+10<=Ie.length&&Ie[De]===51&&Ie[De+1]===68&&Ie[De+2]===73&&Ie[De+3]<255&&Ie[De+4]<255&&Ie[De+6]<128&&Ie[De+7]<128&&Ie[De+8]<128&&Ie[De+9]<128},Oe=function(Ie,De){for(var Ue=De,Ke=0;Pe(Ie,De);)Ke=(Ke+=10)+Fe(Ie,De+6),xe(Ie,De+10)&&(Ke+=10),De+=Ke;if(0<Ke)return Ie.subarray(Ue,Ue+Ke)},Fe=function(Ie,De){var Ue=0,Ue=(127&Ie[De])<<21;return(Ue=(Ue|=(127&Ie[De+1])<<14)|(127&Ie[De+2])<<7)|127&Ie[De+3]},ye=function(Ie,De){return Pe(Ie,De)&&Fe(Ie,De+6)+10<=Ie.length-De},Ne=function(Ie){for(var De=he(Ie),Ue=0;Ue<De.length;Ue++){var Ke=De[Ue];if(ee(Ke))return je(Ke)}},ee=function(Ie){return Ie&&Ie.key==="PRIV"&&Ie.info==="com.apple.streaming.transportStreamTimestamp"},se=function(Ie){var De=String.fromCharCode(Ie[0],Ie[1],Ie[2],Ie[3]),Ue=Fe(Ie,4);return{type:De,size:Ue,data:Ie.subarray(10,10+Ue)}},he=function(Ie){for(var De=0,Ue=[];Pe(Ie,De);){for(var Ke=Fe(Ie,De+6),t0=(De+=10)+Ke;De+8<t0;){var Re=se(Ie.subarray(De)),Ze=ce(Re);Ze&&Ue.push(Ze),De+=Re.size+10}xe(Ie,De)&&(De+=10)}return Ue},ce=function(Ie){return(Ie.type==="PRIV"?Ae:Ie.type[0]==="W"?Ee:ke)(Ie)},Ae=function(Ie){var De,Ue;if(!(Ie.size<2))return De=Le(Ie.data,!0),Ue=new Uint8Array(Ie.data.subarray(De.length+1)),{key:Ie.type,info:De,data:Ue.buffer}},ke=function(Ie){var De,Ue;if(!(Ie.size<2))return Ie.type==="TXXX"?(De=1,De+=(Ue=Le(Ie.data.subarray(1),!0)).length+1,De=Le(Ie.data.subarray(De)),{key:Ie.type,info:Ue,data:De}):(Ue=Le(Ie.data.subarray(1)),{key:Ie.type,data:Ue})},Ee=function(Ie){var De,Ue;return Ie.type==="WXXX"?Ie.size<2?void 0:(De=1,De+=(Ue=Le(Ie.data.subarray(1),!0)).length+1,De=Le(Ie.data.subarray(De)),{key:Ie.type,info:Ue,data:De}):(Ue=Le(Ie.data),{key:Ie.type,data:Ue})},je=function(Ie){var De;if(Ie.data.byteLength===8)return De=1&(Ie=new Uint8Array(Ie.data))[3],Ie=(Ie[4]<<23)+(Ie[5]<<15)+(Ie[6]<<7)+Ie[7],Ie/=45,De&&(Ie+=4772185884e-2),Math.round(Ie)},Le=function(Ie,De){De===void 0&&(De=!1);var Ue,Ke;if(Se=Se||self.TextDecoder===void 0?Se:new self.TextDecoder("utf-8"),Se)return Ue=Se.decode(Ie),De?(Ke=Ue.indexOf("\0"))!==-1?Ue.substring(0,Ke):Ue:Ue.replace(/\0/g,"");for(var t0,Re,Ze,i0=Ie.length,e0="",a0=0;a0<i0;){if((t0=Ie[a0++])===0&&De)return e0;if(t0!==0&&t0!==3)switch(t0>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e0+=String.fromCharCode(t0);break;case 12:case 13:Re=Ie[a0++],e0+=String.fromCharCode((31&t0)<<6|63&Re);break;case 14:Re=Ie[a0++],Ze=Ie[a0++],e0+=String.fromCharCode((15&t0)<<12|(63&Re)<<6|(63&Ze)<<0)}}return e0},$e={decodeTextFrame:ke}},"./src/demux/mp3demuxer.ts":(_e,Pe,de)=>{de.r(Pe),de.d(Pe,{default:()=>ee});var Se,Pe=de("./src/demux/base-audio-demuxer.ts"),xe=de("./src/demux/id3.ts"),Oe=de("./src/utils/logger.ts"),Fe=de("./src/demux/mpegaudio.ts");function ye(se,he){return(ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ce,Ae){return ce.__proto__=Ae,ce})(se,he)}function Ne(){return Se.apply(this,arguments)||this}Se=Pe.default,de=Se,(Pe=Ne).prototype=Object.create(de.prototype),ye(Pe.prototype.constructor=Pe,de),(Pe=Ne.prototype).resetInitSegment=function(se,he,ce,Ae){Se.prototype.resetInitSegment.call(this,se,he,ce,Ae),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:he,duration:Ae,inputTimeScale:9e4,dropped:0}},Ne.probe=function(se){if(se){for(var he=(xe.getID3Data(se,0)||[]).length,ce=se.length;he<ce;he++)if(Fe.probe(se,he))return Oe.logger.log("MPEG Audio sync word found !"),!0}return!1},Pe.canParse=function(se,he){return Fe.canParse(se,he)},Pe.appendFrame=function(se,he,ce){if(this.basePTS!==null)return Fe.appendFrame(se,he,ce,this.basePTS,this.frameIndex)};const ee=Ne},"./src/demux/mp4demuxer.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>ye});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/types/demuxer.ts"),xe=de("./src/utils/mp4-tools.ts"),Oe=de("./src/demux/dummy-demuxed-track.ts"),Fe=/\/emsg[-/]ID3/i;(fe=Ne.prototype).resetTimeStamp=function(){},fe.resetInitSegment=function(ee,se,he,ce){var Ae,ke,Ee,je=this.videoTrack=(0,Oe.dummyTrack)("video",1),Le=this.audioTrack=(0,Oe.dummyTrack)("audio",1),$e=this.txtTrack=(0,Oe.dummyTrack)("text",1);this.id3Track=(0,Oe.dummyTrack)("id3",1),this.timeOffset=0,ee&&ee.byteLength&&((ee=(0,xe.parseInitSegment)(ee)).video&&(Ae=(Ee=ee.video).id,ke=Ee.timescale,Ee=Ee.codec,je.id=Ae,je.timescale=$e.timescale=ke,je.codec=Ee),ee.audio&&(ke=(Ae=ee.audio).id,Ee=Ae.timescale,ee=Ae.codec,Le.id=ke,Le.timescale=Ee,Le.codec=ee),$e.id=xe.RemuxerTrackIdConfig.text,je.sampleDuration=0,je.duration=Le.duration=ce)},fe.resetContiguity=function(){},Ne.probe=function(ee){return ee=16384<ee.length?ee.subarray(0,16384):ee,0<(0,xe.findBox)(ee,["moof"]).length},fe.demux=function(ke,se){this.timeOffset=se;var he=ke,ce=this.videoTrack,Ae=this.txtTrack,ke=(this.config.progressive?(this.remainderData&&(he=(0,xe.appendUint8Array)(this.remainderData,ke)),ke=(0,xe.segmentValidRange)(he),this.remainderData=ke.remainder,ce.samples=ke.valid||new Uint8Array):ce.samples=he,this.extractID3Track(ce,se));return Ae.samples=(0,xe.parseSamples)(se,ce),{videoTrack:ce,audioTrack:this.audioTrack,id3Track:ke,textTrack:this.txtTrack}},fe.flush=function(){var ee=this.timeOffset,se=this.videoTrack,he=this.txtTrack,ce=(se.samples=this.remainderData||new Uint8Array,this.remainderData=null,this.extractID3Track(se,this.timeOffset));return he.samples=(0,xe.parseSamples)(ee,se),{videoTrack:se,audioTrack:(0,Oe.dummyTrack)(),id3Track:ce,textTrack:(0,Oe.dummyTrack)()}},fe.extractID3Track=function(ee,se){var he=this.id3Track;return ee.samples.length&&(ee=(0,xe.findBox)(ee.samples,["emsg"]))&&ee.forEach(function(Ee){var Ae,ke,Ee=(0,xe.parseEmsg)(Ee);Fe.test(Ee.schemeIdUri)&&(Ae=(0,Se.isFiniteNumber)(Ee.presentationTime)?Ee.presentationTime/Ee.timeScale:se+Ee.presentationTimeDelta/Ee.timeScale,(ke=Ee.eventDuration===4294967295?Number.POSITIVE_INFINITY:Ee.eventDuration/Ee.timeScale)<=.001&&(ke=Number.POSITIVE_INFINITY),Ee=Ee.payload,he.samples.push({data:Ee,len:Ee.byteLength,dts:Ae,pts:Ae,type:Pe.MetadataSchema.emsg,duration:ke}))}),he},fe.demuxSampleAes=function(ee,se,he){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},fe.destroy=function(){};const ye=Ne;function Ne(ee,se){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=se}},"./src/demux/mpegaudio.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{appendFrame:()=>function(se,he,ce,Ae,ke){if(!(ce+24>he.length)){var Ee=ye(he,ce);if(Ee&&ce+Ee.frameLength<=he.length)return Ae=Ae+ke*(9e4*Ee.samplesPerFrame/Ee.sampleRate),ke={unit:he.subarray(ce,ce+Ee.frameLength),pts:Ae,dts:Ae},se.config=[],se.channelCount=Ee.channelCount,se.samplerate=Ee.sampleRate,se.samples.push(ke),{sample:ke,length:Ee.frameLength,missing:0}}},canParse:()=>function(se,he){return Ne(se,he)&&4<=se.length-he},isHeader:()=>ee,isHeaderPattern:()=>Ne,parseHeader:()=>ye,probe:()=>function(se,he){{var ce,Ae;if(he+1<se.length&&Ne(se,he))return Ae=ye(se,he),ce=4,Ae!=null&&Ae.frameLength&&(ce=Ae.frameLength),(Ae=he+ce)===se.length||ee(se,Ae)}return!1}});var Se=null,Pe=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],xe=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Oe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Fe=[0,1,1,4];function ye(se,he){var ce,Ae,ke,Ee,je,Le=se[he+1]>>3&3,$e=se[he+1]>>1&3,Ie=se[he+2]>>4&15,De=se[he+2]>>2&3;if(Le!=1&&Ie!=0&&Ie!=15&&De!=3)return je=se[he+2]>>1&1,ce=se[he+3]>>6,Ie=1e3*Pe[14*(Le==3?3-$e:$e==3?3:4)+Ie-1],De=xe[3*(Le==3?0:Le==2?1:2)+De],Ae=ce==3?1:2,Ee=8*(Le=Oe[Le][$e])*(ke=Fe[$e]),Le=Math.floor(Le*Ie/De+je)*ke,Se===null&&(je=(navigator.userAgent||"").match(/Chrome\/(\d+)/i),Se=je?parseInt(je[1]):0),Se&&Se<=87&&$e==2&&224e3<=Ie&&ce==0&&(se[he+3]=128|se[he+3]),{sampleRate:De,channelCount:Ae,frameLength:Le,samplesPerFrame:Ee}}function Ne(se,he){return se[he]===255&&(224&se[he+1])==224&&(6&se[he+1])!=0}function ee(se,he){return he+1<se.length&&Ne(se,he)}},"./src/demux/sample-aes.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>xe});var Se=de("./src/crypt/decrypter.ts"),Pe=de("./src/utils/mp4-tools.ts");(fe=Oe.prototype).decryptBuffer=function(Fe){return this.decrypter.decrypt(Fe,this.keyData.key.buffer,this.keyData.iv.buffer)},fe.decryptAacSample=function(Fe,ye,Ne){var ee,se=this,he=Fe[ye].unit;he.length<=16||(ee=(ee=he.subarray(16,he.length-he.length%16)).buffer.slice(ee.byteOffset,ee.byteOffset+ee.length),this.decryptBuffer(ee).then(function(ce){ce=new Uint8Array(ce),he.set(ce,16),se.decrypter.isSync()||se.decryptAacSamples(Fe,ye+1,Ne)}))},fe.decryptAacSamples=function(Fe,ye,Ne){for(;;ye++){if(ye>=Fe.length)return void Ne();if(!(Fe[ye].unit.length<32||(this.decryptAacSample(Fe,ye,Ne),this.decrypter.isSync())))return}},fe.getAvcEncryptedData=function(Fe){for(var ye=16*Math.floor((Fe.length-48)/160)+16,Ne=new Int8Array(ye),ee=0,se=32;se<Fe.length-16;se+=160,ee+=16)Ne.set(Fe.subarray(se,se+16),ee);return Ne},fe.getAvcDecryptedUnit=function(Fe,ye){for(var Ne=new Uint8Array(ye),ee=0,se=32;se<Fe.length-16;se+=160,ee+=16)Fe.set(Ne.subarray(ee,ee+16),se);return Fe},fe.decryptAvcSample=function(Fe,ye,Ne,ee,se){var he=this,ce=(0,Pe.discardEPB)(se.data),Ae=this.getAvcEncryptedData(ce);this.decryptBuffer(Ae.buffer).then(function(ke){se.data=he.getAvcDecryptedUnit(ce,ke),he.decrypter.isSync()||he.decryptAvcSamples(Fe,ye,Ne+1,ee)})},fe.decryptAvcSamples=function(Fe,ye,Ne,ee){if(Fe instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;ye++,Ne=0){if(ye>=Fe.length)return void ee();for(var se=Fe[ye].units;!(Ne>=se.length);Ne++){var he=se[Ne];if(!(he.data.length<=48||he.type!==1&&he.type!==5||(this.decryptAvcSample(Fe,ye,Ne,ee,he),this.decrypter.isSync())))return}}};const xe=Oe;function Oe(Fe,ye,Ne){this.keyData=void 0,this.decrypter=void 0,this.keyData=Ne,this.decrypter=new Se.default(ye,{removePKCS7Padding:!1})}},"./src/demux/transmuxer-interface.ts":(_e,ye,de)=>{de.r(ye),de.d(ye,{default:()=>se});var Se=de("./src/demux/webworkify-webpack.js"),Pe=de("./src/events.ts"),xe=de("./src/demux/transmuxer.ts"),Oe=de("./src/utils/logger.ts"),Fe=de("./src/errors.ts"),ye=de("./src/utils/mediasource-helper.ts"),Ne=de("./node_modules/eventemitter3/index.js"),ee=(0,ye.getMediaSource)()||{isTypeSupported:function(){return!1}},se=((de=he.prototype).destroy=function(){var ce=this.worker,ce=(ce?(ce.removeEventListener("message",this.onwmsg),ce.terminate(),this.worker=null,this.onwmsg=void 0):(ce=this.transmuxer)&&(ce.destroy(),this.transmuxer=null),this.observer);ce&&ce.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},de.push=function(ce,Ae,ke,Ee,je,Le,$e,Ie,De,Ue){var Ke=this,t0=(De.transmuxing.start=self.performance.now(),this.transmuxer),Re=this.worker,Ze=(Le||je).start,i0=je.decryptdata,e0=this.frag,a0=!(e0&&je.cc===e0.cc),n0=!(e0&&De.level===e0.level),h0=e0?De.sn-e0.sn:-1,Me=this.part?De.part-this.part.index:-1,Xe=h0==0&&1<De.id&&De.id===e0?.stats.chunkCount,Xe=!n0&&(h0==1||h0==0&&(Me==1||Xe&&Me<=0)),c0=self.performance.now(),c0=((n0||h0||je.stats.parsing.start===0)&&(je.stats.parsing.start=c0),!Le||!Me&&Xe||(Le.stats.parsing.start=c0),!(e0&&((h0=je.initSegment)==null?void 0:h0.url)===((Me=e0.initSegment)==null?void 0:Me.url))),h0=new xe.TransmuxState(a0,Xe,Ie,n0,Ze,c0);Xe&&!a0&&!c0||(Oe.logger.log("[transmuxer-interface, "+je.type+"]: Starting new transmux session for sn: "+De.sn+" p: "+De.part+" level: "+De.level+" id: "+De.id+`
        discontinuity: `+a0+`
        trackSwitch: `+n0+`
        contiguous: `+Xe+`
        accurateTimeOffset: `+Ie+`
        timeOffset: `+Ze+`
        initSegmentChange: `+c0),e0=new xe.TransmuxConfig(ke,Ee,Ae,$e,Ue),this.configureTransmuxer(e0)),this.frag=je,this.part=Le,Re?Re.postMessage({cmd:"demux",data:ce,decryptdata:i0,chunkMeta:De,state:h0},ce instanceof ArrayBuffer?[ce]:[]):t0&&(Me=t0.push(ce,i0,De,h0),(0,xe.isPromise)(Me)?(t0.async=!0,Me.then(function(w0){Ke.handleTransmuxComplete(w0)}).catch(function(w0){Ke.transmuxerError(w0,De,"transmuxer-interface push error")})):(t0.async=!1,this.handleTransmuxComplete(Me)))},de.flush=function(ce){var Ae=this,ke=(ce.transmuxing.start=self.performance.now(),this.transmuxer),Ee=this.worker;Ee?Ee.postMessage({cmd:"flush",chunkMeta:ce}):ke&&(Ee=ke.flush(ce),(0,xe.isPromise)(Ee)||ke.async?(Ee=(0,xe.isPromise)(Ee)?Ee:Promise.resolve(Ee)).then(function(je){Ae.handleFlushResult(je,ce)}).catch(function(je){Ae.transmuxerError(je,ce,"transmuxer-interface flush error")}):this.handleFlushResult(Ee,ce))},de.transmuxerError=function(ce,Ae,ke){this.hls&&this.hls.trigger(Pe.Events.ERROR,{type:Fe.ErrorTypes.MEDIA_ERROR,details:Fe.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:Ae,fatal:!1,error:ce,err:ce,reason:ke})},de.handleFlushResult=function(ce,Ae){var ke=this;ce.forEach(function(Ee){ke.handleTransmuxComplete(Ee)}),this.onFlush(Ae)},de.onWorkerMessage=function(ce){var Ae=ce.data,ke=this.hls;switch(Ae.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(Ae.data);break;case"flush":this.onFlush(Ae.data);break;case"workerLog":Oe.logger[Ae.data.logType]&&Oe.logger[Ae.data.logType](Ae.data.message);break;default:Ae.data=Ae.data||{},Ae.data.frag=this.frag,Ae.data.id=this.id,ke.trigger(Ae.event,Ae.data)}},de.configureTransmuxer=function(ce){var Ae=this.worker,ke=this.transmuxer;Ae?Ae.postMessage({cmd:"configure",config:ce}):ke&&ke.configure(ce)},de.handleTransmuxComplete=function(ce){ce.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(ce)},he);function he(ce,Ae,De,Ue){function je(Ke,t0){(t0=t0||{}).frag=$e.frag,t0.id=$e.id,$e.hls.trigger(Ke,t0)}var Le,$e=this,Ie=(this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,ce.config),De=(this.hls=ce,this.id=Ae,this.useWorker=!!Ie.enableWorker,this.onTransmuxComplete=De,this.onFlush=Ue,this.observer=new Ne.EventEmitter,this.observer.on(Pe.Events.FRAG_DECRYPTED,je),this.observer.on(Pe.Events.ERROR,je),{mp4:ee.isTypeSupported("video/mp4"),mpeg:ee.isTypeSupported("audio/mpeg"),mp3:ee.isTypeSupported('audio/mp4; codecs="mp3"')}),Ue=navigator.vendor;if(this.useWorker&&typeof Worker<"u"){Oe.logger.log("demuxing in webworker");try{Le=this.worker=(0,Se.default)("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),Le.addEventListener("message",this.onwmsg),Le.onerror=function(Ke){$e.useWorker=!1,Oe.logger.warn("Exception in webworker, fallback to inline"),$e.hls.trigger(Pe.Events.ERROR,{type:Fe.ErrorTypes.OTHER_ERROR,details:Fe.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:new Error(Ke.message+"  ("+Ke.filename+":"+Ke.lineno+")")})},Le.postMessage({cmd:"init",typeSupported:De,vendor:Ue,id:Ae,config:JSON.stringify(Ie)})}catch(Ke){Oe.logger.warn("Error in worker:",Ke),Oe.logger.error("Error while initializing DemuxerWorker, fallback to inline"),Le&&self.URL.revokeObjectURL(Le.objectURL),this.transmuxer=new xe.default(this.observer,De,Ie,Ue,Ae),this.worker=null}}else this.transmuxer=new xe.default(this.observer,De,Ie,Ue,Ae)}},"./src/demux/transmuxer-worker.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>function(se){function he(Ae,ke){se.postMessage({event:Ae,data:ke})}var ce=new Oe.EventEmitter;ce.on(Pe.Events.FRAG_DECRYPTED,he),ce.on(Pe.Events.ERROR,he),se.addEventListener("message",function(Ae){var ke=Ae.data;switch(ke.cmd){case"init":var Ee,Le=JSON.parse(ke.config);for(Ee in se.transmuxer=new Se.default(ce,ke.typeSupported,Le,ke.vendor,ke.id),(0,xe.enableLogs)(Le.debug,ke.id),xe.logger)(function($e){xe.logger[$e]=function(Ie){he("workerLog",{logType:$e,message:Ie})}})(Ee);he("init",null);break;case"configure":se.transmuxer.configure(ke.config);break;case"demux":Le=se.transmuxer.push(ke.data,ke.decryptdata,ke.chunkMeta,ke.state),(0,Se.isPromise)(Le)?(se.transmuxer.async=!0,Le.then(function($e){ye(se,$e)}).catch(function($e){he(Pe.Events.ERROR,{type:Fe.ErrorTypes.MEDIA_ERROR,details:Fe.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:ke.chunkMeta,fatal:!1,error:$e,err:$e,reason:"transmuxer-worker push error"})})):(se.transmuxer.async=!1,ye(se,Le));break;case"flush":var je=ke.chunkMeta,Le=se.transmuxer.flush(je);(0,Se.isPromise)(Le)||se.transmuxer.async?(Le=(0,Se.isPromise)(Le)?Le:Promise.resolve(Le)).then(function($e){ee(se,$e,je)}).catch(function($e){he(Pe.Events.ERROR,{type:Fe.ErrorTypes.MEDIA_ERROR,details:Fe.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:ke.chunkMeta,fatal:!1,error:$e,err:$e,reason:"transmuxer-worker flush error"})}):ee(se,Le,je)}})}});var Se=de("./src/demux/transmuxer.ts"),Pe=de("./src/events.ts"),xe=de("./src/utils/logger.ts"),Oe=de("./node_modules/eventemitter3/index.js"),Fe=de("./src/errors.ts");function ye(se,he){var ce,Ae,ke;return!!((ce=he.remuxResult).audio||ce.video||ce.text||ce.id3||ce.initSegment)&&(ce=[],Ae=(ke=he.remuxResult).audio,ke=ke.video,Ae&&Ne(ce,Ae),ke&&Ne(ce,ke),se.postMessage({event:"transmuxComplete",data:he},ce),!0)}function Ne(se,he){he.data1&&se.push(he.data1.buffer),he.data2&&se.push(he.data2.buffer)}function ee(se,he,ce){he.reduce(function(Ae,ke){return ye(se,ke)||Ae},!1)||se.postMessage({event:"transmuxComplete",data:he[0]}),se.postMessage({event:"flush",data:ce})}},"./src/demux/transmuxer.ts":(_e,Fe,de)=>{de.r(Fe),de.d(Fe,{TransmuxConfig:()=>$e,TransmuxState:()=>Ie,default:()=>ke,isPromise:()=>Le});var Se,Pe=de("./src/events.ts"),xe=de("./src/errors.ts"),Oe=de("./src/crypt/decrypter.ts"),Fe=de("./src/demux/aacdemuxer.ts"),ye=de("./src/demux/mp4demuxer.ts"),Ne=de("./src/demux/tsdemuxer.ts"),ee=de("./src/demux/mp3demuxer.ts"),se=de("./src/remux/mp4-remuxer.ts"),he=de("./src/remux/passthrough-remuxer.ts"),ce=de("./src/utils/logger.ts");try{Se=self.performance.now.bind(self.performance)}catch{ce.logger.debug("Unable to use Performance API on this environment"),Se=self.Date.now}var Ae=[{demux:ye.default,remux:he.default},{demux:Ne.default,remux:se.default},{demux:Fe.default,remux:se.default},{demux:ee.default,remux:se.default}],ke=((de=je.prototype).configure=function(De){this.transmuxConfig=De,this.decrypter&&this.decrypter.reset()},de.push=function(i0,Ue,Ke,c0){var Re=this,Ze=Ke.transmuxing,i0=(Ze.executeStart=Se(),new Uint8Array(i0)),e0=this.currentTransmuxState,K0=this.transmuxConfig,c0=(c0&&(this.currentTransmuxState=c0),c0||e0),e0=c0.contiguous,a0=c0.discontinuity,n0=c0.trackSwitch,Me=c0.accurateTimeOffset,Xe=c0.timeOffset,c0=c0.initSegmentChange,h0=K0.audioCodec,w0=K0.videoCodec,C0=K0.defaultInitPts,q0=K0.duration,K0=K0.initSegmentData,U0=(U0=null,U0=0<i0.byteLength&&Ue!=null&&Ue.key!=null&&Ue.iv!==null&&Ue.method!=null?Ue:U0);if(U0&&U0.method==="AES-128"){var st=this.getDecrypter();if(!st.isSync())return this.decryptionPromise=st.webCryptoDecrypt(i0,U0.key.buffer,U0.iv.buffer).then(function(ht){return ht=Re.push(ht,null,Ke),Re.decryptionPromise=null,ht}),this.decryptionPromise;if(st=st.softwareDecrypt(i0,U0.key.buffer,U0.iv.buffer),!st)return Ze.executeEnd=Se(),Ee(Ke);i0=new Uint8Array(st)}return st=this.needsProbing(a0,n0),st&&this.configureTransmuxer(i0),(a0||n0||c0||st)&&this.resetInitSegment(K0,h0,w0,q0,Ue),(a0||c0||st)&&this.resetInitialTimestamp(C0),e0||this.resetContiguity(),n0=this.transmux(i0,U0,Xe,Me,Ke),K0=this.currentTransmuxState,K0.contiguous=!0,K0.discontinuity=!1,K0.trackSwitch=!1,Ze.executeEnd=Se(),n0},de.flush=function(De){var Ue,Ke=this,t0=De.transmuxing,Re=(t0.executeStart=Se(),this.decrypter),Ze=this.currentTransmuxState,i0=this.decryptionPromise;return i0?i0.then(function(){return Ke.flush(De)}):(Ue=[],i0=Ze.timeOffset,Re&&(Ze=Re.flush())&&Ue.push(this.push(Ze,null,De)),Re=this.demuxer,Ze=this.remuxer,Re&&Ze?Le(Ze=Re.flush(i0))?Ze.then(function(e0){return Ke.flushRemux(Ue,e0,De),Ue}):(this.flushRemux(Ue,Ze,De),Ue):(this.observer.emit(Pe.Events.ERROR,Pe.Events.ERROR,{type:xe.ErrorTypes.MEDIA_ERROR,details:xe.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),t0.executeEnd=Se(),[Ee(De)]))},de.flushRemux=function(De,Ze,Ke){var a0=Ze.audioTrack,t0=Ze.videoTrack,Re=Ze.id3Track,Ze=Ze.textTrack,e0=this.currentTransmuxState,i0=e0.accurateTimeOffset,e0=e0.timeOffset,a0=(ce.logger.log("[transmuxer.ts]: Flushed fragment "+Ke.sn+(-1<Ke.part?" p: "+Ke.part:"")+" of level "+Ke.level),this.remuxer.remux(a0,t0,Re,Ze,e0,i0,!0,this.id));De.push({remuxResult:a0,chunkMeta:Ke}),Ke.transmuxing.executeEnd=Se()},de.resetInitialTimestamp=function(De){var Ue=this.demuxer,Ke=this.remuxer;Ue&&Ke&&(Ue.resetTimeStamp(De),Ke.resetTimeStamp(De))},de.resetContiguity=function(){var De=this.demuxer,Ue=this.remuxer;De&&Ue&&(De.resetContiguity(),Ue.resetNextTimestamp())},de.resetInitSegment=function(De,Ue,Ke,t0,Re){var Ze=this.demuxer,i0=this.remuxer;Ze&&i0&&(Ze.resetInitSegment(De,Ue,Ke,t0),i0.resetInitSegment(De,Ue,Ke,Re))},de.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},de.transmux=function(De,Ue,Ke,t0,Re){return Ue&&Ue.method==="SAMPLE-AES"?this.transmuxSampleAes(De,Ue,Ke,t0,Re):this.transmuxUnencrypted(De,Ke,t0,Re)},de.transmuxUnencrypted=function(e0,Ue,Ke,t0){var e0=this.demuxer.demux(e0,Ue,!1,!this.config.progressive),Re=e0.audioTrack,Ze=e0.videoTrack,i0=e0.id3Track,e0=e0.textTrack;return{remuxResult:this.remuxer.remux(Re,Ze,i0,e0,Ue,Ke,!1,this.id),chunkMeta:t0}},de.transmuxSampleAes=function(De,Ue,Ke,t0,Re){var Ze=this;return this.demuxer.demuxSampleAes(De,Ue,Ke).then(function(i0){return{remuxResult:Ze.remuxer.remux(i0.audioTrack,i0.videoTrack,i0.id3Track,i0.textTrack,Ke,t0,!1,Ze.id),chunkMeta:Re}})},de.configureTransmuxer=function(De){for(var Ue,Ke=this.config,t0=this.observer,Re=this.typeSupported,Ze=this.vendor,i0=0,e0=Ae.length;i0<e0;i0++)if(Ae[i0].demux.probe(De)){Ue=Ae[i0];break}Ue||(ce.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),Ue={demux:ye.default,remux:he.default});var a0=this.demuxer,n0=this.remuxer,Me=Ue.remux,Xe=Ue.demux;n0&&n0 instanceof Me||(this.remuxer=new Me(t0,Ke,Re,Ze)),a0&&a0 instanceof Xe||(this.demuxer=new Xe(t0,Ke,Re),this.probe=Xe.probe)},de.needsProbing=function(De,Ue){return!this.demuxer||!this.remuxer||De||Ue},de.getDecrypter=function(){return this.decrypter||(this.decrypter=new Oe.default(this.config))},je),Ee=function(De){return{remuxResult:{},chunkMeta:De}};function je(De,Ue,Ke,t0,Re){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=De,this.typeSupported=Ue,this.config=Ke,this.vendor=t0,this.id=Re}function Le(De){return"then"in De&&De.then instanceof Function}var $e=function(De,Ue,Ke,t0,Re){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=De,this.videoCodec=Ue,this.initSegmentData=Ke,this.duration=t0,this.defaultInitPts=Re},Ie=function(De,Ue,Ke,t0,Re,Ze){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=De,this.contiguous=Ue,this.accurateTimeOffset=Ke,this.trackSwitch=t0,this.timeOffset=Re,this.initSegmentChange=Ze}},"./src/demux/tsdemuxer.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>je});var Se=de("./src/demux/adts.ts"),Pe=de("./src/demux/mpegaudio.ts"),xe=de("./src/demux/exp-golomb.ts"),Oe=de("./src/demux/sample-aes.ts"),Fe=de("./src/events.ts"),ye=de("./src/utils/mp4-tools.ts"),Ne=de("./src/utils/logger.ts"),ee=de("./src/errors.ts"),se=de("./src/types/demuxer.ts");function he(){return(he=Object.assign?Object.assign.bind():function(Le){for(var $e=1;$e<arguments.length;$e++){var Ie,De=arguments[$e];for(Ie in De)Object.prototype.hasOwnProperty.call(De,Ie)&&(Le[Ie]=De[Ie])}return Le}).apply(this,arguments)}function ce(Le,$e,Ie){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=Le,this.config=$e,this.typeSupported=Ie}function Ae(Le,$e,Ie,De){return{key:Le,frame:!1,pts:$e,dts:Ie,units:[],debug:De,length:0}}function ke(Le){var $e,Ie,De,Ue,Ke=0,t0=Le.data;if(!Le||Le.size===0)return null;for(;t0[0].length<19&&1<t0.length;){var Re=new Uint8Array(t0[0].length+t0[1].length);Re.set(t0[0]),Re.set(t0[1],t0[0].length),t0[0]=Re,t0.splice(1,1)}if((($e=t0[0])[0]<<16)+($e[1]<<8)+$e[2]!==1||(Ie=($e[4]<<8)+$e[5])&&Ie>Le.size-6)return null;var Ze=$e[7],i0=(192&Ze&&(De=536870912*(14&$e[9])+4194304*(255&$e[10])+16384*(254&$e[11])+128*(255&$e[12])+(254&$e[13])/2,64&Ze?54e5<De-(Ue=536870912*(14&$e[14])+4194304*(255&$e[15])+16384*(254&$e[16])+128*(255&$e[17])+(254&$e[18])/2)&&(Ne.logger.warn(Math.round((De-Ue)/9e4)+"s delta between PTS and DTS, align them"),De=Ue):Ue=De),(Ze=$e[8])+9);if(Le.size<=i0)return null;Le.size-=i0;for(var e0=new Uint8Array(Le.size),a0=0,n0=t0.length;a0<n0;a0++){var Me=($e=t0[a0]).byteLength;if(i0){if(Me<i0){i0-=Me;continue}$e=$e.subarray(i0),Me-=i0,i0=0}e0.set($e,Ke),Ke+=Me}return Ie&&(Ie-=Ze+3),{data:e0,pts:De,dts:Ue,len:Ie}}function Ee(Le,$e){if(Le.units.length&&Le.frame){if(Le.pts===void 0){var Ie=$e.samples,De=Ie.length;if(!De)return $e.dropped++;Ie=Ie[De-1],Le.pts=Ie.pts,Le.dts=Ie.dts}$e.samples.push(Le)}Le.debug.length&&Ne.logger.log(Le.pts+"/"+Le.dts+":"+Le.debug)}ce.probe=function(Le){return Le=ce.syncOffset(Le),0<Le&&Ne.logger.warn("MPEG2-TS detected but first sync word found @ offset "+Le),Le!==-1},ce.syncOffset=function(Le){for(var $e=Math.min(940,Le.length-376)+1,Ie=0;Ie<$e;){if(Le[Ie]===71&&Le[Ie+188]===71)return Ie;Ie++}return-1},ce.createTrack=function(Le,$e){return{container:Le==="video"||Le==="audio"?"video/mp2t":void 0,type:Le,id:ye.RemuxerTrackIdConfig[Le],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:Le==="audio"?$e:void 0}},(fe=ce.prototype).resetInitSegment=function(Le,$e,Ie,De){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=ce.createTrack("video"),this._audioTrack=ce.createTrack("audio",De),this._id3Track=ce.createTrack("id3"),this._txtTrack=ce.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=$e,this.videoCodec=Ie,this._duration=De},fe.resetTimeStamp=function(){},fe.resetContiguity=function(){var Le=this._audioTrack,$e=this._avcTrack,Ie=this._id3Track;Le&&(Le.pesData=null),$e&&($e.pesData=null),Ie&&(Ie.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},fe.demux=function(Le,$e,Ie,De){De===void 0&&(De=!1),(Ie=Ie===void 0?!1:Ie)||(this.sampleAes=null);var Ue,Ke=this._avcTrack,t0=this._audioTrack,Re=this._id3Track,Ze=this._txtTrack,i0=Ke.pid,e0=Ke.pesData,a0=t0.pid,n0=Re.pid,Me=t0.pesData,Xe=Re.pesData,c0=null,h0=this.pmtParsed,w0=this._pmtId,C0=Le.length;if(this.remainderData&&(C0=(Le=(0,ye.appendUint8Array)(this.remainderData,Le)).length,this.remainderData=null),C0<188&&!De)return this.remainderData=Le,{audioTrack:t0,videoTrack:Ke,id3Track:Re,textTrack:Ze};var q0=Math.max(0,ce.syncOffset(Le));(C0-=(C0-q0)%188)<Le.byteLength&&!De&&(this.remainderData=new Uint8Array(Le.buffer,C0,Le.buffer.byteLength-C0));for(var K0,U0=0,st=q0;st<C0;st+=188)if(Le[st]===71){var ht=!!(64&Le[st+1]),Dt=((31&Le[st+1])<<8)+Le[st+2],gt=void 0;if(1<(48&Le[st+3])>>4){if((gt=st+5+Le[st+4])===st+188)continue}else gt=st+4;switch(Dt){case i0:ht&&(e0&&(Ue=ke(e0))&&this.parseAVCPES(Ke,Ze,Ue,!1),e0={data:[],size:0}),e0&&(e0.data.push(Le.subarray(gt,st+188)),e0.size+=st+188-gt);break;case a0:if(ht){if(Me&&(Ue=ke(Me)))switch(t0.segmentCodec){case"aac":this.parseAACPES(t0,Ue);break;case"mp3":this.parseMPEGPES(t0,Ue)}Me={data:[],size:0}}Me&&(Me.data.push(Le.subarray(gt,st+188)),Me.size+=st+188-gt);break;case n0:ht&&(Xe&&(Ue=ke(Xe))&&this.parseID3PES(Re,Ue),Xe={data:[],size:0}),Xe&&(Xe.data.push(Le.subarray(gt,st+188)),Xe.size+=st+188-gt);break;case 0:ht&&(gt+=Le[gt]+1),w0=this._pmtId=(31&(j0=Le)[(K0=gt)+10])<<8|j0[K0+11];break;case w0:ht&&(gt+=Le[gt]+1);var j0=(function(Rt,Et,Nt,mi){var li={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},Yt=Et+3+((15&Rt[Et+1])<<8|Rt[Et+2])-4;for(Et+=12+((15&Rt[Et+10])<<8|Rt[Et+11]);Et<Yt;){var gi=(31&Rt[Et+1])<<8|Rt[Et+2];switch(Rt[Et]){case 207:if(!mi){Ne.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:li.audio===-1&&(li.audio=gi);break;case 21:li.id3===-1&&(li.id3=gi);break;case 219:if(!mi){Ne.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:li.avc===-1&&(li.avc=gi);break;case 3:case 4:Nt.mpeg!==!0&&Nt.mp3!==!0?Ne.logger.log("MPEG audio found, not supported in this browser"):li.audio===-1&&(li.audio=gi,li.segmentCodec="mp3");break;case 36:Ne.logger.warn("Unsupported HEVC stream type found")}Et+=5+((15&Rt[Et+3])<<8|Rt[Et+4])}return li})(Le,gt,this.typeSupported,Ie);0<(i0=j0.avc)&&(Ke.pid=i0),0<(a0=j0.audio)&&(t0.pid=a0,t0.segmentCodec=j0.segmentCodec),0<(n0=j0.id3)&&(Re.pid=n0),c0===null||h0||(Ne.logger.log("unknown PID '"+c0+"' in TS found"),c0=null,st=q0-188),h0=this.pmtParsed=!0;break;case 17:case 8191:break;default:c0=Dt}}else U0++;0<U0&&this.observer.emit(Fe.Events.ERROR,Fe.Events.ERROR,{type:ee.ErrorTypes.MEDIA_ERROR,details:ee.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+U0+" TS packet/s that do not start with 0x47"}),Ke.pesData=e0,t0.pesData=Me,Re.pesData=Xe;var ft={audioTrack:t0,videoTrack:Ke,id3Track:Re,textTrack:Ze};return De&&this.extractRemainingSamples(ft),ft},fe.flush=function(){var Le=this.remainderData;return this.remainderData=null,Le=Le?this.demux(Le,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(Le),this.sampleAes?this.decrypt(Le,this.sampleAes):Le},fe.extractRemainingSamples=function(Ke){var $e,Ie=Ke.audioTrack,De=Ke.videoTrack,Ue=Ke.id3Track,Ke=Ke.textTrack,t0=De.pesData,Re=Ie.pesData,Ze=Ue.pesData;if(t0&&($e=ke(t0))?(this.parseAVCPES(De,Ke,$e,!0),De.pesData=null):De.pesData=t0,Re&&($e=ke(Re))){switch(Ie.segmentCodec){case"aac":this.parseAACPES(Ie,$e);break;case"mp3":this.parseMPEGPES(Ie,$e)}Ie.pesData=null}else Re!=null&&Re.size&&Ne.logger.log("last AAC PES packet truncated,might overlap between fragments"),Ie.pesData=Re;Ze&&($e=ke(Ze))?(this.parseID3PES(Ue,$e),Ue.pesData=null):Ue.pesData=Ze},fe.demuxSampleAes=function(Le,$e,Ie){return Le=this.demux(Le,Ie,!0,!this.config.progressive),Ie=this.sampleAes=new Oe.default(this.observer,this.config,$e),this.decrypt(Le,Ie)},fe.decrypt=function(Le,$e){return new Promise(function(Ie){var De=Le.audioTrack,Ue=Le.videoTrack;De.samples&&De.segmentCodec==="aac"?$e.decryptAacSamples(De.samples,0,function(){Ue.samples?$e.decryptAvcSamples(Ue.samples,0,0,function(){Ie(Le)}):Ie(Le)}):Ue.samples&&$e.decryptAvcSamples(Ue.samples,0,0,function(){Ie(Le)})})},fe.destroy=function(){this._duration=0},fe.parseAVCPES=function(Le,$e,Ie,De){var Ue,Ke=this,t0=this.parseAVCNALu(Le,Ie.data),Re=this.avcSample,Ze=!1;Ie.data=null,Re&&t0.length&&!Le.audFound&&(Ee(Re,Le),Re=this.avcSample=Ae(!1,Ie.pts,Ie.dts,"")),t0.forEach(function(i0){switch(i0.type){case 1:Ue=!0,(Re=Re||(Ke.avcSample=Ae(!0,Ie.pts,Ie.dts,""))).frame=!0;var e0=i0.data;Ze&&4<e0.length&&((e0=new xe.default(e0).readSliceType())!==2&&e0!==4&&e0!==7&&e0!==9||(Re.key=!0));break;case 5:Ue=!0,(Re=Re||(Ke.avcSample=Ae(!0,Ie.pts,Ie.dts,""))).key=!0,Re.frame=!0;break;case 6:Ue=!0,(0,ye.parseSEIMessageFromNALu)(i0.data,1,Ie.pts,$e.samples);break;case 7:if(Ze=Ue=!0,!Le.sps){e0=new xe.default(i0.data).readSPS(),Le.width=e0.width,Le.height=e0.height,Le.pixelRatio=e0.pixelRatio,Le.sps=[i0.data],Le.duration=Ke._duration;for(var a0=i0.data.subarray(1,4),n0="avc1.",Me=0;Me<3;Me++){var Xe=a0[Me].toString(16);n0+=Xe=Xe.length<2?"0"+Xe:Xe}Le.codec=n0}break;case 8:Ue=!0,Le.pps||(Le.pps=[i0.data]);break;case 9:Ue=!1,Le.audFound=!0,Re&&Ee(Re,Le),Re=Ke.avcSample=Ae(!1,Ie.pts,Ie.dts,"");break;case 12:Ue=!0;break;default:Ue=!1,Re&&(Re.debug+="unknown NAL "+i0.type+" ")}Re&&Ue&&Re.units.push(i0)}),De&&Re&&(Ee(Re,Le),this.avcSample=null)},fe.getLastNalUnit=function(Le){var $e,Ie=this.avcSample;return $e=(Le=Ie=Ie&&Ie.units.length!==0?Ie:Le[Le.length-1])!=null&&Le.units?(Le=Ie.units)[Le.length-1]:$e},fe.parseAVCNALu=function(Le,$e){var Ie,De,Ue,Ke,t0,Re,Ze=$e.byteLength,i0=Le.naluState||0,e0=i0,a0=[],n0=0,Me=-1,Xe=0;for(i0===-1&&(Xe=31&$e[Me=0],i0=0,n0=1);n0<Ze;)Ie=$e[n0++],i0=i0?i0!==1?Ie?Ie===1?(0<=Me?(Ue={data:$e.subarray(Me,n0-i0-1),type:Xe},a0.push(Ue)):(Ue=this.getLastNalUnit(Le.samples))&&(e0&&n0<=4-e0&&Ue.state&&(Ue.data=Ue.data.subarray(0,Ue.data.byteLength-e0)),0<(De=n0-i0-1))&&((Ke=new Uint8Array(Ue.data.byteLength+De)).set(Ue.data,0),Ke.set($e.subarray(0,De),Ue.data.byteLength),Ue.data=Ke,Ue.state=0),n0<Ze?(Xe=31&$e[Me=n0],0):-1):0:3:Ie?0:2:Ie?0:1;return 0<=Me&&0<=i0&&(t0={data:$e.subarray(Me,Ze),type:Xe,state:i0},a0.push(t0)),a0.length===0&&(t0=this.getLastNalUnit(Le.samples))&&((Re=new Uint8Array(t0.data.byteLength+$e.byteLength)).set(t0.data,0),Re.set($e,t0.data.byteLength),t0.data=Re),Le.naluState=i0,a0},fe.parseAACPES=function(Le,$e){var Ie,De,Ue,Ke,t0,Re=0,Ze=this.aacOverFlow,i0=$e.data;for(Ze&&(this.aacOverFlow=null,e0=Ze.missing,Ke=Ze.sample.unit.byteLength,e0===-1?((t0=new Uint8Array(Ke+i0.byteLength)).set(Ze.sample.unit,0),t0.set(i0,Ke),i0=t0):(t0=Ke-e0,Ze.sample.unit.set(i0.subarray(0,e0),t0),Le.samples.push(Ze.sample),Re=Ze.missing)),Ie=Re,De=i0.length;Ie<De-1&&!Se.isHeader(i0,Ie);Ie++);if(Ie===Re||(Ke=Ie<De-1?(Ue="AAC PES did not start with ADTS header,offset:"+Ie,!1):(Ue="no ADTS header found in AAC PES",!0),Ne.logger.warn("parsing error:"+Ue),this.observer.emit(Fe.Events.ERROR,Fe.Events.ERROR,{type:ee.ErrorTypes.MEDIA_ERROR,details:ee.ErrorDetails.FRAG_PARSING_ERROR,fatal:Ke,reason:Ue}),!Ke)){if(Se.initTrackConfig(Le,this.observer,i0,Ie,this.audioCodec),$e.pts!==void 0)a0=$e.pts;else{if(!Ze)return void Ne.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var e0=Se.getFrameDuration(Le.samplerate),a0=Ze.sample.pts+e0}for(var n0,Me=0;Ie<De;){if(Ie+=(n0=Se.appendFrame(Le,i0,Ie,a0,Me)).length,n0.missing){this.aacOverFlow=n0;break}for(Me++;Ie<De-1&&!Se.isHeader(i0,Ie);Ie++);}}},fe.parseMPEGPES=function(Le,$e){var Ie=$e.data,De=Ie.length,Ue=0,Ke=0,t0=$e.pts;if(t0!==void 0)for(;Ke<De;)if(Pe.isHeader(Ie,Ke)){var Re=Pe.appendFrame(Le,Ie,Ke,t0,Ue);if(!Re)break;Ke+=Re.length,Ue++}else Ke++;else Ne.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},fe.parseID3PES=function(Le,$e){$e.pts!==void 0?($e=he({},$e,{type:this._avcTrack?se.MetadataSchema.emsg:se.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),Le.samples.push($e)):Ne.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")};const je=ce},"./src/demux/webworkify-webpack.js":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>function(ye,ce){ce=ce||{};var ee={main:de.m},se=ce.all?{main:Object.keys(ee.main)}:(function(ke){for(var Ee={main:[ye]},je={main:[]},Le={main:{}};(function(Ze){return Object.keys(Ze).reduce(function(i0,e0){return i0||0<Ze[e0].length},!1)})(Ee);)for(var $e=Object.keys(Ee),Ie=0;Ie<$e.length;Ie++){var De=$e[Ie],Ue=Ee[De].pop();if(Le[De]=Le[De]||{},!Le[De][Ue]&&ke[De][Ue]){Le[De][Ue]=!0,je[De]=je[De]||[],je[De].push(Ue);for(var Ke=(function(Ze,Me,e0){var a0={},n0=(a0[e0]=[],Me.toString().replace(/^"[^"]+"/,"function")),Me=n0.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||n0.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?\=\s?\>/);if(Me){for(var Xe,Me=Me[1],c0=new RegExp("(\\\\n|\\W)"+Oe(Me)+xe,"g");Xe=c0.exec(n0);)Xe[3]!=="dll-reference"&&a0[e0].push(Xe[3]);for(c0=new RegExp("\\("+Oe(Me)+'\\("(dll-reference\\s('+Pe+'))"\\)\\)'+xe,"g");Xe=c0.exec(n0);)Ze[Xe[2]]||(a0[e0].push(Xe[1]),Ze[Xe[2]]=de(Xe[1]).m),a0[Xe[2]]=a0[Xe[2]]||[],a0[Xe[2]].push(Xe[4]);for(var h0,w0=Object.keys(a0),C0=0;C0<w0.length;C0++)for(var q0=0;q0<a0[w0[C0]].length;q0++)h0=a0[w0[C0]][q0],isNaN(+h0)||(a0[w0[C0]][q0]=+a0[w0[C0]][q0])}return a0})(ke,ke[De][Ue],De),t0=Object.keys(Ke),Re=0;Re<t0.length;Re++)Ee[t0[Re]]=Ee[t0[Re]]||[],Ee[t0[Re]]=Ee[t0[Re]].concat(Ke[t0[Re]])}}return je})(ee),he="",ce=(Object.keys(se).filter(function(ke){return ke!=="main"}).forEach(function(ke){for(var Ee=0;se[ke][Ee];)Ee++;se[ke].push(Ee),ee[ke][Ee]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",he=he+"var "+ke+" = ("+Fe(se,ee,Ee,modules)+`)();
`}),he=he+"new (("+Fe(se,ee,ye,"main")+")())(self);",new window.Blob([he],{type:"text/javascript"})),ce=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(ce),Ae=new window.Worker(ce);return Ae.objectURL=ce,Ae}});var Se=(function(){function ye(he){var ce=ee[he];return ce!==void 0||(ce=ee[he]={exports:{}},Ne[he].call(ce.exports,ce,ce.exports,ye)),ce.exports}var Ne=ENTRY_MODULE,ee={},se=(ye.m=Ne,ye.n=function(he){var ce=he&&he.__esModule?function(){return he.default}:function(){return he};return ye.d(ce,{a:ce}),ce},ye.d=function(he,ce){for(var Ae in ce)ye.o(ce,Ae)&&!ye.o(he,Ae)&&Object.defineProperty(he,Ae,{enumerable:!0,get:ce[Ae]})},ye.o=function(he,ce){return Object.prototype.hasOwnProperty.call(he,ce)},ye.r=function(he){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(he,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(he,"__esModule",{value:!0})},ye(ENTRY_MODULE));return se.default||se}).toString().split("ENTRY_MODULE"),Pe="[\\.|\\-|\\+|\\w|/|@]+",xe="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function Oe(ye){return(ye+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function Fe(ye,Ne,ee,se){return ye=ye[se].map(function(he){return'"'+he+'": '+Ne[se][he].toString().replace(/^"[^"]+"/,"function")}).join(","),Se[0]+"{"+ye+"}"+Se[1]+'"'+ee+'"'+Se[2]}},"./src/errors.ts":(_e,fe,de)=>{var Se,Pe;de.r(fe),de.d(fe,{ErrorDetails:()=>Pe,ErrorTypes:()=>Se}),(de=Se=Se||{}).NETWORK_ERROR="networkError",de.MEDIA_ERROR="mediaError",de.KEY_SYSTEM_ERROR="keySystemError",de.MUX_ERROR="muxError",de.OTHER_ERROR="otherError",(fe=Pe=Pe||{}).KEY_SYSTEM_NO_KEYS="keySystemNoKeys",fe.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",fe.KEY_SYSTEM_NO_SESSION="keySystemNoSession",fe.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",fe.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",fe.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",fe.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",fe.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",fe.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",fe.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",fe.MANIFEST_LOAD_ERROR="manifestLoadError",fe.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",fe.MANIFEST_PARSING_ERROR="manifestParsingError",fe.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",fe.LEVEL_EMPTY_ERROR="levelEmptyError",fe.LEVEL_LOAD_ERROR="levelLoadError",fe.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",fe.LEVEL_SWITCH_ERROR="levelSwitchError",fe.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",fe.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",fe.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",fe.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",fe.FRAG_LOAD_ERROR="fragLoadError",fe.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",fe.FRAG_DECRYPT_ERROR="fragDecryptError",fe.FRAG_PARSING_ERROR="fragParsingError",fe.REMUX_ALLOC_ERROR="remuxAllocError",fe.KEY_LOAD_ERROR="keyLoadError",fe.KEY_LOAD_TIMEOUT="keyLoadTimeOut",fe.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",fe.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",fe.BUFFER_APPEND_ERROR="bufferAppendError",fe.BUFFER_APPENDING_ERROR="bufferAppendingError",fe.BUFFER_STALLED_ERROR="bufferStalledError",fe.BUFFER_FULL_ERROR="bufferFullError",fe.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",fe.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",fe.INTERNAL_EXCEPTION="internalException",fe.INTERNAL_ABORTED="aborted",fe.UNKNOWN="unknown"},"./src/events.ts":(_e,fe,de)=>{var Se;de.r(fe),de.d(fe,{Events:()=>Se}),(de=Se=Se||{}).MEDIA_ATTACHING="hlsMediaAttaching",de.MEDIA_ATTACHED="hlsMediaAttached",de.MEDIA_DETACHING="hlsMediaDetaching",de.MEDIA_DETACHED="hlsMediaDetached",de.BUFFER_RESET="hlsBufferReset",de.BUFFER_CODECS="hlsBufferCodecs",de.BUFFER_CREATED="hlsBufferCreated",de.BUFFER_APPENDING="hlsBufferAppending",de.BUFFER_APPENDED="hlsBufferAppended",de.BUFFER_EOS="hlsBufferEos",de.BUFFER_FLUSHING="hlsBufferFlushing",de.BUFFER_FLUSHED="hlsBufferFlushed",de.MANIFEST_LOADING="hlsManifestLoading",de.MANIFEST_LOADED="hlsManifestLoaded",de.MANIFEST_PARSED="hlsManifestParsed",de.LEVEL_SWITCHING="hlsLevelSwitching",de.LEVEL_SWITCHED="hlsLevelSwitched",de.LEVEL_LOADING="hlsLevelLoading",de.LEVEL_LOADED="hlsLevelLoaded",de.LEVEL_UPDATED="hlsLevelUpdated",de.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",de.LEVELS_UPDATED="hlsLevelsUpdated",de.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",de.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",de.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",de.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",de.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",de.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",de.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",de.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",de.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",de.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",de.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",de.CUES_PARSED="hlsCuesParsed",de.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",de.INIT_PTS_FOUND="hlsInitPtsFound",de.FRAG_LOADING="hlsFragLoading",de.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",de.FRAG_LOADED="hlsFragLoaded",de.FRAG_DECRYPTED="hlsFragDecrypted",de.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",de.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",de.FRAG_PARSING_METADATA="hlsFragParsingMetadata",de.FRAG_PARSED="hlsFragParsed",de.FRAG_BUFFERED="hlsFragBuffered",de.FRAG_CHANGED="hlsFragChanged",de.FPS_DROP="hlsFpsDrop",de.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",de.ERROR="hlsError",de.DESTROYING="hlsDestroying",de.KEY_LOADING="hlsKeyLoading",de.KEY_LOADED="hlsKeyLoaded",de.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",de.BACK_BUFFER_REACHED="hlsBackBufferReached"},"./src/hls.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>$e});var Se=de("./node_modules/url-toolkit/src/url-toolkit.js"),Pe=de("./src/loader/playlist-loader.ts"),xe=de("./src/controller/id3-track-controller.ts"),Oe=de("./src/controller/latency-controller.ts"),Fe=de("./src/controller/level-controller.ts"),ye=de("./src/controller/fragment-tracker.ts"),Ne=de("./src/loader/key-loader.ts"),ee=de("./src/controller/stream-controller.ts"),se=de("./src/is-supported.ts"),he=de("./src/utils/logger.ts"),ce=de("./src/config.ts"),Ae=de("./node_modules/eventemitter3/index.js"),ke=de("./src/events.ts"),Ee=de("./src/errors.ts"),je=de("./src/types/level.ts");function Le(De,Ue){for(var Ke,t0=0;t0<Ue.length;t0++){var Re=Ue[t0];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(De,typeof(Ke=(function(Ze){if(typeof Ze!="object"||Ze===null)return Ze;var i0=Ze[Symbol.toPrimitive];if(i0===void 0)return String(Ze);if(i0=i0.call(Ze,"string"),typeof i0!="object")return i0;throw new TypeError("@@toPrimitive must return a primitive value.")})(Re.key))=="symbol"?Ke:String(Ke),Re)}}Ie.isSupported=function(){return(0,se.isSupported)()},(fe=Ie.prototype).createController=function(De,Ue){return De?(De=new De(this),Ue&&Ue.push(De),De):null},fe.on=function(De,Ue,Ke){this._emitter.on(De,Ue,Ke=Ke===void 0?this:Ke)},fe.once=function(De,Ue,Ke){this._emitter.once(De,Ue,Ke=Ke===void 0?this:Ke)},fe.removeAllListeners=function(De){this._emitter.removeAllListeners(De)},fe.off=function(De,Ue,Ke,t0){this._emitter.off(De,Ue,Ke=Ke===void 0?this:Ke,t0)},fe.listeners=function(De){return this._emitter.listeners(De)},fe.emit=function(De,Ue,Ke){return this._emitter.emit(De,Ue,Ke)},fe.trigger=function(De,Ue){if(this.config.debug)return this.emit(De,De,Ue);try{return this.emit(De,De,Ue)}catch(Ke){he.logger.error("An internal error happened while handling event "+De+'. Error message: "'+Ke.message+'". Here is a stacktrace:',Ke),this.trigger(ke.Events.ERROR,{type:Ee.ErrorTypes.OTHER_ERROR,details:Ee.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:De,error:Ke})}return!1},fe.listenerCount=function(De){return this._emitter.listenerCount(De)},fe.destroy=function(){he.logger.log("destroy"),this.trigger(ke.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(De){return De.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(De){return De.destroy()}),this.coreComponents.length=0},fe.attachMedia=function(De){he.logger.log("attachMedia"),this._media=De,this.trigger(ke.Events.MEDIA_ATTACHING,{media:De})},fe.detachMedia=function(){he.logger.log("detachMedia"),this.trigger(ke.Events.MEDIA_DETACHING,void 0),this._media=null},fe.loadSource=function(De){this.stopLoad();var Ue=this.media,Ke=this.url,t0=this.url=Se.buildAbsoluteURL(self.location.href,De,{alwaysNormalize:!0});he.logger.log("loadSource:"+t0),Ue&&Ke&&Ke!==t0&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(Ue)),this.trigger(ke.Events.MANIFEST_LOADING,{url:De})},fe.startLoad=function(De){De===void 0&&(De=-1),he.logger.log("startLoad("+De+")"),this.networkControllers.forEach(function(Ue){Ue.startLoad(De)})},fe.stopLoad=function(){he.logger.log("stopLoad"),this.networkControllers.forEach(function(De){De.stopLoad()})},fe.swapAudioCodec=function(){he.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},fe.recoverMediaError=function(){he.logger.log("recoverMediaError");var De=this._media;this.detachMedia(),De&&this.attachMedia(De)},fe.removeLevel=function(De,Ue){this.levelController.removeLevel(De,Ue=Ue===void 0?0:Ue)},fe=[{key:"version",get:function(){return"1.3.2"}},{key:"Events",get:function(){return ke.Events}},{key:"ErrorTypes",get:function(){return Ee.ErrorTypes}},{key:"ErrorDetails",get:function(){return Ee.ErrorDetails}},{key:"DefaultConfig",get:function(){return Ie.defaultConfig||ce.hlsDefaultConfig},set:function(De){Ie.defaultConfig=De}}],Le((de=Ie).prototype,[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(De){he.logger.log("set currentLevel:"+De),this.loadLevel=De,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(De){he.logger.log("set nextLevel:"+De),this.levelController.manualLevel=De,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(De){he.logger.log("set loadLevel:"+De),this.levelController.manualLevel=De}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(De){this.levelController.nextLoadLevel=De}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(De){he.logger.log("set firstLevel:"+De),this.levelController.firstLevel=De}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(De){he.logger.log("set startLevel:"+De),De!==-1&&(De=Math.max(De,this.minAutoLevel)),this.levelController.startLevel=De}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(De){De=!!De,De!==this.config.capLevelToPlayerSize&&(De?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=De)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(De){this._autoLevelCapping!==De&&(he.logger.log("set autoLevelCapping:"+De),this._autoLevelCapping=De)}},{key:"bandwidthEstimate",get:function(){var De=this.abrController.bwEstimator;return De?De.getEstimate():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(De){-1<je.HdcpLevels.indexOf(De)&&(this._maxHdcpLevel=De)}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var De=this.levels,Ue=this.config.minAutoBitrate;if(De){for(var Ke=De.length,t0=0;t0<Ke;t0++)if(De[t0].maxBitrate>=Ue)return t0}return 0}},{key:"maxAutoLevel",get:function(){var De=this.levels,Ke=this.autoLevelCapping,Ue=this.maxHdcpLevel,Ke=Ke===-1&&De&&De.length?De.length-1:Ke;if(Ue)for(var t0=Ke;t0--;){var Re=De[t0].attrs["HDCP-LEVEL"];if(Re&&Re<=Ue)return t0}return Ke}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(De){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,De)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var De=this.audioTrackController;return De?De.audioTracks:[]}},{key:"audioTrack",get:function(){var De=this.audioTrackController;return De?De.audioTrack:-1},set:function(De){var Ue=this.audioTrackController;Ue&&(Ue.audioTrack=De)}},{key:"subtitleTracks",get:function(){var De=this.subtitleTrackController;return De?De.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var De=this.subtitleTrackController;return De?De.subtitleTrack:-1},set:function(De){var Ue=this.subtitleTrackController;Ue&&(Ue.subtitleTrack=De)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var De=this.subtitleTrackController;return!!De&&De.subtitleDisplay},set:function(De){var Ue=this.subtitleTrackController;Ue&&(Ue.subtitleDisplay=De)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(De){this.config.lowLatencyMode=De}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}]),Le(de,fe),Object.defineProperty(de,"prototype",{writable:!1});var $e=Ie;function Ie(Xe){Xe===void 0&&(Xe={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Ae.EventEmitter,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var Ue=this.config=(0,ce.mergeConfig)(Ie.DefaultConfig,Xe),Xe=(this.userConfig=Xe,(0,he.enableLogs)(Ue.debug,"Hls instance"),this._autoLevelCapping=-1,Ue.progressive&&(0,ce.enableStreamingMode)(Ue),Ue.abrController),Ke=Ue.bufferController,t0=Ue.capLevelController,Re=Ue.fpsController,Xe=this.abrController=new Xe(this),Ke=this.bufferController=new Ke(this),t0=this.capLevelController=new t0(this),Re=new Re(this),a0=new Pe.default(this),Ze=new xe.default(this),n0=this.levelController=new Fe.default(this),i0=new ye.FragmentTracker(this),e0=new Ne.default(this.config),Me=this.streamController=new ee.default(this,i0,e0),a0=(t0.setStreamController(Me),Re.setStreamController(Me),[a0,n0,Me]),n0=(this.networkControllers=a0,[Xe,Ke,t0,Re,Ze,i0]),Me=(this.audioTrackController=this.createController(Ue.audioTrackController,a0),Ue.audioStreamController),Xe=(Me&&a0.push(new Me(this,i0,e0)),this.subtitleTrackController=this.createController(Ue.subtitleTrackController,a0),Ue.subtitleStreamController);Xe&&a0.push(new Xe(this,i0,e0)),this.createController(Ue.timelineController,n0),e0.emeController=this.emeController=this.createController(Ue.emeController,n0),this.cmcdController=this.createController(Ue.cmcdController,n0),this.latencyController=this.createController(Oe.default,n0),this.coreComponents=n0}$e.defaultConfig=void 0},"./src/is-supported.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{changeTypeSupported:()=>function(){var xe=Pe();return typeof(xe==null||(xe=xe.prototype)==null?void 0:xe.changeType)=="function"},isSupported:()=>function(){var xe,Oe=(0,Se.getMediaSource)();return!!Oe&&(xe=Pe(),Oe=Oe&&typeof Oe.isTypeSupported=="function"&&Oe.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),xe=!xe||xe.prototype&&typeof xe.prototype.appendBuffer=="function"&&typeof xe.prototype.remove=="function",!!Oe)&&!!xe}});var Se=de("./src/utils/mediasource-helper.ts");function Pe(){return self.SourceBuffer||self.WebKitSourceBuffer}},"./src/loader/date-range.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{DateRange:()=>Ne,DateRangeAttribute:()=>Se});var Se,Pe=de("./src/polyfills/number.ts"),xe=de("./src/utils/attr-list.ts"),Oe=de("./src/utils/logger.ts");function Fe(){return(Fe=Object.assign?Object.assign.bind():function(se){for(var he=1;he<arguments.length;he++){var ce,Ae=arguments[he];for(ce in Ae)Object.prototype.hasOwnProperty.call(Ae,ce)&&(se[ce]=Ae[ce])}return se}).apply(this,arguments)}function ye(se,he){for(var ce,Ae=0;Ae<he.length;Ae++){var ke=he[Ae];ke.enumerable=ke.enumerable||!1,ke.configurable=!0,"value"in ke&&(ke.writable=!0),Object.defineProperty(se,typeof(ce=(function(Ee){if(typeof Ee!="object"||Ee===null)return Ee;var je=Ee[Symbol.toPrimitive];if(je===void 0)return String(Ee);if(je=je.call(Ee,"string"),typeof je!="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")})(ke.key))=="symbol"?ce:String(ce),ke)}}(fe=Se=Se||{}).ID="ID",fe.CLASS="CLASS",fe.START_DATE="START-DATE",fe.DURATION="DURATION",fe.END_DATE="END-DATE",fe.END_ON_NEXT="END-ON-NEXT",fe.PLANNED_DURATION="PLANNED-DURATION",fe.SCTE35_OUT="SCTE35-OUT",fe.SCTE35_IN="SCTE35-IN",ye((de=ee).prototype,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){var se;return this._endDate||((se=this.duration)!==null?new Date(this._startDate.getTime()+1e3*se):null)}},{key:"duration",get:function(){if(Se.DURATION in this.attr){var se=this.attr.decimalFloatingPoint(Se.DURATION);if((0,Pe.isFiniteNumber)(se))return se}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return Se.PLANNED_DURATION in this.attr?this.attr.decimalFloatingPoint(Se.PLANNED_DURATION):null}},{key:"endOnNext",get:function(){return this.attr.bool(Se.END_ON_NEXT)}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&(0,Pe.isFiniteNumber)(this.startDate.getTime())&&(this.duration===null||0<=this.duration)&&(!this.endOnNext||!!this.class)}}]),Object.defineProperty(de,"prototype",{writable:!1});var Ne=ee;function ee(se,he){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,he){var ce,Ae=he.attr;for(ce in Ae)if(Object.prototype.hasOwnProperty.call(se,ce)&&se[ce]!==Ae[ce]){Oe.logger.warn('DATERANGE tag attribute: "'+ce+'" does not match for tags with ID: "'+se.ID+'"'),this._badValueForSameId=ce;break}se=Fe(new xe.AttrList({}),Ae,se)}this.attr=se,this._startDate=new Date(se[Se.START_DATE]),Se.END_DATE in this.attr&&(he=new Date(this.attr[Se.END_DATE]),(0,Pe.isFiniteNumber)(he.getTime()))&&(this._endDate=he)}},"./src/loader/fragment-loader.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{LoadError:()=>Ae,default:()=>ee});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/errors.ts");function xe(Ee){var je=typeof Map=="function"?new Map:void 0;return(xe=function(Le){if(Le===null||Function.toString.call(Le).indexOf("[native code]")===-1)return Le;if(typeof Le!="function")throw new TypeError("Super expression must either be null or a function");if(je!==void 0){if(je.has(Le))return je.get(Le);je.set(Le,$e)}function $e(){return Oe(Le,arguments,ye(this).constructor)}return $e.prototype=Object.create(Le.prototype,{constructor:{value:$e,enumerable:!1,writable:!0,configurable:!0}}),Fe($e,Le)})(Ee)}function Oe(Ee,je,Le){return(Oe=(function(){if(!(typeof Reflect>"u"||!Reflect.construct)&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch{}}})()?Reflect.construct.bind():function($e,Ke,De){var Ue=[null],Ke=(Ue.push.apply(Ue,Ke),new(Function.bind.apply($e,Ue)));return De&&Fe(Ke,De.prototype),Ke}).apply(null,arguments)}function Fe(Ee,je){return(Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Le,$e){return Le.__proto__=$e,Le})(Ee,je)}function ye(Ee){return(ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(je){return je.__proto__||Object.getPrototypeOf(je)})(Ee)}var Ne=Math.pow(2,17),ee=((fe=se.prototype).destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},fe.abort=function(){this.loader&&this.loader.abort()},fe.load=function(Ee,je){var Le=this,$e=Ee.url;if(!$e)return Promise.reject(new Ae({type:Pe.ErrorTypes.NETWORK_ERROR,details:Pe.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:Ee,networkDetails:null},"Fragment does not have a "+($e?"part list":"url")));this.abort();var Ie=this.config,De=Ie.fLoader,Ue=Ie.loader;return new Promise(function(Ke,t0){Le.loader&&Le.loader.destroy();var Re=Le.loader=Ee.loader=new(De||Ue)(Ie),Ze=he(Ee),i0={timeout:Ie.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:Ie.fragLoadingMaxRetryTimeout,highWaterMark:Ee.sn==="initSegment"?1/0:Ne};Ee.stats=Re.stats,Re.load(Ze,i0,{onSuccess:function(e0,a0,n0,Me){Le.resetLoader(Ee,Re),e0=e0.data,n0.resetIV&&Ee.decryptdata&&(Ee.decryptdata.iv=new Uint8Array(e0.slice(0,16)),e0=e0.slice(16)),Ke({frag:Ee,part:null,payload:e0,networkDetails:Me})},onError:function(e0,a0,n0){Le.resetLoader(Ee,Re),t0(new Ae({type:Pe.ErrorTypes.NETWORK_ERROR,details:Pe.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:Ee,response:e0,networkDetails:n0}))},onAbort:function(e0,a0,n0){Le.resetLoader(Ee,Re),t0(new Ae({type:Pe.ErrorTypes.NETWORK_ERROR,details:Pe.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:Ee,networkDetails:n0}))},onTimeout:function(e0,a0,n0){Le.resetLoader(Ee,Re),t0(new Ae({type:Pe.ErrorTypes.NETWORK_ERROR,details:Pe.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:Ee,networkDetails:n0}))},onProgress:function(e0,a0,n0,Me){je&&je({frag:Ee,part:null,payload:n0,networkDetails:Me})}})})},fe.loadPart=function(Ee,je,Le){var $e=this,Ie=(this.abort(),this.config),De=Ie.fLoader,Ue=Ie.loader;return new Promise(function(Ke,t0){$e.loader&&$e.loader.destroy();var Re=$e.loader=Ee.loader=new(De||Ue)(Ie),Ze=he(Ee,je),i0={timeout:Ie.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:Ie.fragLoadingMaxRetryTimeout,highWaterMark:Ne};je.stats=Re.stats,Re.load(Ze,i0,{onSuccess:function(e0,a0,n0,Me){$e.resetLoader(Ee,Re),$e.updateStatsFromPart(Ee,je),e0={frag:Ee,part:je,payload:e0.data,networkDetails:Me},Le(e0),Ke(e0)},onError:function(e0,a0,n0){$e.resetLoader(Ee,Re),t0(new Ae({type:Pe.ErrorTypes.NETWORK_ERROR,details:Pe.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:Ee,part:je,response:e0,networkDetails:n0}))},onAbort:function(e0,a0,n0){Ee.stats.aborted=je.stats.aborted,$e.resetLoader(Ee,Re),t0(new Ae({type:Pe.ErrorTypes.NETWORK_ERROR,details:Pe.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:Ee,part:je,networkDetails:n0}))},onTimeout:function(e0,a0,n0){$e.resetLoader(Ee,Re),t0(new Ae({type:Pe.ErrorTypes.NETWORK_ERROR,details:Pe.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:Ee,part:je,networkDetails:n0}))}})})},fe.updateStatsFromPart=function(De,Ue){var Le=De.stats,$e=Ue.stats,Ie=$e.total,De=(Le.loaded+=$e.loaded,Ie?(Ie=((De=Math.round(De.duration/Ue.duration))-(Ue=Math.min(Math.round(Le.loaded/Ie),De)))*Math.round(Le.loaded/Ue),Le.total=Le.loaded+Ie):Le.total=Math.max(Le.loaded,Le.total),Le.loading),Ue=$e.loading;De.start?De.first+=Ue.first-Ue.start:(De.start=Ue.start,De.first=Ue.first),De.end=Ue.end},fe.resetLoader=function(Ee,je){Ee.loader=null,this.loader===je&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),je.destroy()},se);function se(Ee){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=Ee}function he(Ee,Ie){var Le,$e,Ue=(Ie=Ie===void 0?null:Ie)||Ee,Ie={frag:Ee,part:Ie,responseType:"arraybuffer",url:Ue.url,headers:{},rangeStart:0,rangeEnd:0},De=Ue.byteRangeStartOffset,Ue=Ue.byteRangeEndOffset;return(0,Se.isFiniteNumber)(De)&&(0,Se.isFiniteNumber)(Ue)&&(Le=De,$e=Ue,Ee.sn==="initSegment"&&((Ee=Ee.decryptdata)==null?void 0:Ee.method)==="AES-128"&&((Ee=Ue-De)%16&&($e=Ue+(16-Ee%16)),De!==0)&&(Ie.resetIV=!0,Le=De-16),Ie.rangeStart=Le,Ie.rangeEnd=$e),Ie}ce=xe(Error),de=ce,(fe=ke).prototype=Object.create(de.prototype),Fe(fe.prototype.constructor=fe,de);var ce,Ae=ke;function ke(Ee){for(var je,Le=arguments.length,$e=new Array(1<Le?Le-1:0),Ie=1;Ie<Le;Ie++)$e[Ie-1]=arguments[Ie];return(je=ce.call.apply(ce,[this].concat($e))||this).data=void 0,je.data=Ee,je}},"./src/loader/fragment.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{BaseSegment:()=>ce,ElementaryStreamTypes:()=>Se,Fragment:()=>Ae,Part:()=>ke});var Se,Pe=de("./src/polyfills/number.ts"),xe=de("./node_modules/url-toolkit/src/url-toolkit.js"),Oe=de("./src/loader/load-stats.ts");function Fe($e,Ie){$e.prototype=Object.create(Ie.prototype),ye($e.prototype.constructor=$e,Ie)}function ye($e,Ie){return(ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(De,Ue){return De.__proto__=Ue,De})($e,Ie)}function Ne($e,Ie){for(var De,Ue=0;Ue<Ie.length;Ue++){var Ke=Ie[Ue];Ke.enumerable=Ke.enumerable||!1,Ke.configurable=!0,"value"in Ke&&(Ke.writable=!0),Object.defineProperty($e,typeof(De=(function(t0){if(typeof t0!="object"||t0===null)return t0;var Re=t0[Symbol.toPrimitive];if(Re===void 0)return String(t0);if(Re=Re.call(t0,"string"),typeof Re!="object")return Re;throw new TypeError("@@toPrimitive must return a primitive value.")})(Ke.key))=="symbol"?De:String(De),Ke)}}function ee($e,Ie,De){Ie&&Ne($e.prototype,Ie),Object.defineProperty($e,"prototype",{writable:!1})}(fe=Se=Se||{}).AUDIO="audio",fe.VIDEO="video",fe.AUDIOVIDEO="audiovideo",Le.prototype.setByteRange=function(De,Ie){var De=De.split("@",2),Ue=[];De.length===1?Ue[0]=Ie?Ie.byteRangeEndOffset:0:Ue[0]=parseInt(De[1]),Ue[1]=parseInt(De[0])+Ue[0],this._byteRange=Ue},ee(Le,[{key:"byteRange",get:function(){return this._byteRange||[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=(0,xe.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function($e){this._url=$e}}]);var se,he,ce=Le,Ae=(Fe(je,he=ce),(de=je.prototype).setKeyFormat=function($e){this.levelkeys&&($e=this.levelkeys[$e])&&!this._decryptdata&&(this._decryptdata=$e.getDecryptData(this.sn))},de.abortRequests=function(){var $e;($e=this.loader)!=null&&$e.abort(),($e=this.keyLoader)!=null&&$e.abort()},de.setElementaryStreamInfo=function($e,Ie,De,Ue,Ke,t0){t0===void 0&&(t0=!1);var Re=this.elementaryStreams,Ze=Re[$e];Ze?(Ze.startPTS=Math.min(Ze.startPTS,Ie),Ze.endPTS=Math.max(Ze.endPTS,De),Ze.startDTS=Math.min(Ze.startDTS,Ue),Ze.endDTS=Math.max(Ze.endDTS,Ke)):Re[$e]={startPTS:Ie,endPTS:De,startDTS:Ue,endDTS:Ke,partial:t0}},de.clearElementaryStreamInfo=function(){var $e=this.elementaryStreams;$e[Se.AUDIO]=null,$e[Se.VIDEO]=null,$e[Se.AUDIOVIDEO]=null},ee(je,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var $e=this.levelkeys.identity;if($e)this._decryptdata=$e.getDecryptData(this.sn);else if($e=Object.keys(this.levelkeys),$e.length===1)return this._decryptdata=this.levelkeys[$e[0]].getDecryptData(this.sn)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){var $e;return this.programDateTime!==null&&(0,Pe.isFiniteNumber)(this.programDateTime)?($e=(0,Pe.isFiniteNumber)(this.duration)?this.duration:0,this.programDateTime+1e3*$e):null}},{key:"encrypted",get:function(){if(($e=this._decryptdata)!=null&&$e.encrypted)return!0;if(this.levelkeys){var $e=Object.keys(this.levelkeys),Ie=$e.length;if(1<Ie||Ie===1&&this.levelkeys[$e[0]].encrypted)return!0}return!1}}]),je),ke=(Fe(Ee,se=ce),ee(Ee,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var $e=this.elementaryStreams;return!!($e.audio||$e.video||$e.audiovideo)}}]),Ee);function Ee($e,Ie,De,Ue,Ke){return(De=se.call(this,De)||this).fragOffset=0,De.duration=0,De.gap=!1,De.independent=!1,De.relurl=void 0,De.fragment=void 0,De.index=void 0,De.stats=new Oe.LoadStats,De.duration=$e.decimalFloatingPoint("DURATION"),De.gap=$e.bool("GAP"),De.independent=$e.bool("INDEPENDENT"),De.relurl=$e.enumeratedString("URI"),De.fragment=Ie,De.index=Ue,Ie=$e.enumeratedString("BYTERANGE"),Ie&&De.setByteRange(Ie,Ke),Ke&&(De.fragOffset=Ke.fragOffset+Ke.duration),De}function je($e,Ie){return(Ie=he.call(this,Ie)||this)._decryptdata=null,Ie.rawProgramDateTime=null,Ie.programDateTime=null,Ie.tagList=[],Ie.duration=0,Ie.sn=0,Ie.levelkeys=void 0,Ie.type=void 0,Ie.loader=null,Ie.keyLoader=null,Ie.level=-1,Ie.cc=0,Ie.startPTS=void 0,Ie.endPTS=void 0,Ie.appendedPTS=void 0,Ie.startDTS=void 0,Ie.endDTS=void 0,Ie.start=0,Ie.deltaPTS=void 0,Ie.maxStartPTS=void 0,Ie.minEndPTS=void 0,Ie.stats=new Oe.LoadStats,Ie.urlId=0,Ie.data=void 0,Ie.bitrateTest=!1,Ie.title=null,Ie.initSegment=null,Ie.endList=void 0,Ie.type=$e,Ie}function Le($e){var Ie;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((Ie={})[Se.AUDIO]=null,Ie[Se.VIDEO]=null,Ie[Se.AUDIOVIDEO]=null,Ie),this.baseurl=$e}},"./src/loader/key-loader.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>xe});var Se=de("./src/errors.ts"),Pe=de("./src/loader/fragment-loader.ts"),xe=((fe=Oe.prototype).abort=function(){for(var Fe in this.keyUriToKeyInfo)Fe=this.keyUriToKeyInfo[Fe].loader,Fe&&Fe.abort()},fe.detach=function(){for(var Fe in this.keyUriToKeyInfo){var ye=this.keyUriToKeyInfo[Fe];(ye.mediaKeySessionContext||ye.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[Fe]}},fe.destroy=function(){for(var Fe in this.detach(),this.keyUriToKeyInfo)Fe=this.keyUriToKeyInfo[Fe].loader,Fe&&Fe.destroy();this.keyUriToKeyInfo={}},fe.createKeyLoadError=function(Fe,ye,Ne,ee){return ye===void 0&&(ye=Se.ErrorDetails.KEY_LOAD_ERROR),new Pe.LoadError({type:Se.ErrorTypes.NETWORK_ERROR,details:ye,fatal:!1,frag:Fe,networkDetails:Ne})},fe.loadClear=function(Fe,ye){var Ne=this;if(this.emeController&&this.config.emeEnabled)for(var ee=Fe.sn,se=Fe.cc,he=0;he<ye.length&&(function(ce){var Ae=ye[ce];if(se<=Ae.cc&&(ee==="initSegment"||ee<Ae.sn))return Ne.emeController.selectKeySystemFormat(Ae).then(function(ke){Ae.setKeyFormat(ke)}),"break"})(he)!=="break";he++);},fe.load=function(Fe){var ye=this;return!Fe.decryptdata&&Fe.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(Fe).then(function(Ne){return ye.loadInternal(Fe,Ne)}):this.loadInternal(Fe)},fe.loadInternal=function(Fe,ye){ye&&Fe.setKeyFormat(ye);var Ne=Fe.decryptdata;if(!Ne)return Promise.reject(this.createKeyLoadError(Fe,Se.ErrorDetails.KEY_LOAD_ERROR,null,ye?"Expected frag.decryptdata to be defined after setting format "+ye:"Missing decryption data on fragment in onKeyLoading"));if(ye=Ne.uri,!ye)return Promise.reject(this.createKeyLoadError(Fe,Se.ErrorDetails.KEY_LOAD_ERROR,null,'Invalid key URI: "'+ye+'"'));var ee,se=this.keyUriToKeyInfo[ye];if((ee=se)!=null&&ee.decryptdata.key)return Ne.key=se.decryptdata.key,Promise.resolve({frag:Fe,keyInfo:se});if((ee=se)!=null&&ee.keyLoadPromise)switch((ee=se.mediaKeySessionContext)==null?void 0:ee.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return se.keyLoadPromise}switch(se=this.keyUriToKeyInfo[ye]={decryptdata:Ne,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},Ne.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return Ne.keyFormat==="identity"?this.loadKeyHTTP(se,Fe):this.loadKeyEME(se,Fe);case"AES-128":return this.loadKeyHTTP(se,Fe);default:return Promise.reject(this.createKeyLoadError(Fe,Se.ErrorDetails.KEY_LOAD_ERROR,null,'Key supplied with unsupported METHOD: "'+Ne.method+'"'))}},fe.loadKeyEME=function(Fe,ye){var Ne={frag:ye,keyInfo:Fe};return this.emeController&&this.config.emeEnabled&&(ye=this.emeController.loadKey(Ne),ye)?(Fe.keyLoadPromise=ye.then(function(ee){return Fe.mediaKeySessionContext=ee,Ne})).catch(function(ee){throw Fe.keyLoadPromise=null,ee}):Promise.resolve(Ne)},fe.loadKeyHTTP=function(Fe,ye){var Ne=this,ee=this.config,se=new ee.loader(ee);return ye.keyLoader=Fe.loader=se,Fe.keyLoadPromise=new Promise(function(he,ce){var Ae={keyInfo:Fe,frag:ye,responseType:"arraybuffer",url:Fe.decryptdata.uri},ke={timeout:ee.fragLoadingTimeOut,maxRetry:0,retryDelay:ee.fragLoadingRetryDelay,maxRetryDelay:ee.fragLoadingMaxRetryTimeout,highWaterMark:0};se.load(Ae,ke,{onSuccess:function(Ee,je,Ue,$e){var Ie=Ue.frag,De=Ue.keyInfo,Ue=Ue.url;if(!Ie.decryptdata||De!==Ne.keyUriToKeyInfo[Ue])return ce(Ne.createKeyLoadError(Ie,Se.ErrorDetails.KEY_LOAD_ERROR,$e,"after key load, decryptdata unset or changed"));De.decryptdata.key=Ie.decryptdata.key=new Uint8Array(Ee.data),Ie.keyLoader=null,De.loader=null,he({frag:Ie,keyInfo:De})},onError:function(Ee,je,Le){Ne.resetLoader(je),ce(Ne.createKeyLoadError(ye,Se.ErrorDetails.KEY_LOAD_ERROR,Le))},onTimeout:function(Ee,je,Le){Ne.resetLoader(je),ce(Ne.createKeyLoadError(ye,Se.ErrorDetails.KEY_LOAD_TIMEOUT,Le))},onAbort:function(Ee,je,Le){Ne.resetLoader(je),ce(Ne.createKeyLoadError(ye,Se.ErrorDetails.INTERNAL_ABORTED,Le))}})})},fe.resetLoader=function(ee){var ye=ee.frag,Ne=ee.keyInfo,ee=ee.url,se=Ne.loader;ye.keyLoader===se&&(ye.keyLoader=null,Ne.loader=null),delete this.keyUriToKeyInfo[ee],se&&se.destroy()},Oe);function Oe(Fe){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=Fe}},"./src/loader/level-details.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{LevelDetails:()=>xe});var Se=de("./src/polyfills/number.ts");function Pe(Fe,ye){for(var Ne,ee=0;ee<ye.length;ee++){var se=ye[ee];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(Fe,typeof(Ne=(function(he){if(typeof he!="object"||he===null)return he;var ce=he[Symbol.toPrimitive];if(ce===void 0)return String(he);if(ce=ce.call(he,"string"),typeof ce!="object")return ce;throw new TypeError("@@toPrimitive must return a primitive value.")})(se.key))=="symbol"?Ne:String(Ne),se)}}Oe.prototype.reloaded=function(Fe){var ye,Ne;Fe?(ye=this.lastPartSn-Fe.lastPartSn,Ne=this.lastPartIndex-Fe.lastPartIndex,this.updated=this.endSN!==Fe.endSN||!!Ne||!!ye,this.advanced=this.endSN>Fe.endSN||0<ye||ye==0&&0<Ne,this.updated||this.advanced?this.misses=Math.floor(.6*Fe.misses):this.misses=Fe.misses+1,this.availabilityDelay=Fe.availabilityDelay):(this.advanced=!0,this.updated=!0)},Pe((fe=Oe).prototype,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&(0,Se.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var Fe=this.driftEndTime-this.driftStartTime;return 0<Fe?1e3*(this.driftEnd-this.driftStart)/Fe:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var Fe;return(Fe=this.partList)!=null&&Fe.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var Fe;return(Fe=this.fragments)!=null&&Fe.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var Fe;return(Fe=this.partList)!=null&&Fe.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var Fe;return(Fe=this.partList)!=null&&Fe.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),Object.defineProperty(fe,"prototype",{writable:!1});var xe=Oe;function Oe(Fe){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=Fe}},"./src/loader/level-key.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{LevelKey:()=>Ne});var Se=de("./src/utils/keysystem-util.ts"),Pe=de("./src/utils/mediakeys-helper.ts"),xe=de("./src/utils/mp4-tools.ts"),Oe=de("./src/utils/logger.ts"),Fe=de("./src/utils/numeric-encoding-utils.ts"),ye={},Ne=(ee.clearKeyUriToKeyIdMap=function(){ye={}},(fe=ee.prototype).isSupported=function(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;switch(this.keyFormat){case"identity":return this.method==="SAMPLE-AES";case Pe.KeySystemFormats.FAIRPLAY:case Pe.KeySystemFormats.WIDEVINE:case Pe.KeySystemFormats.PLAYREADY:case Pe.KeySystemFormats.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1},fe.getDecryptData=function(se){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv)return typeof se!="number"&&(this.method!=="AES-128"||this.iv||Oe.logger.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),se=0),se=(function(Ee){for(var je=new Uint8Array(16),Le=12;Le<16;Le++)je[Le]=Ee>>8*(15-Le)&255;return je})(se),new ee(this.method,this.uri,"identity",this.keyFormatVersions,se);var he,ce=(0,Se.convertDataUriToArrayBytes)(this.uri);if(ce)switch(this.keyFormat){case Pe.KeySystemFormats.WIDEVINE:22<=(this.pssh=ce).length&&(this.keyId=ce.subarray(ce.length-22,ce.length-6));break;case Pe.KeySystemFormats.PLAYREADY:var ke=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),ke=(this.pssh=(0,xe.mp4pssh)(ke,null,ce),new Uint16Array(ce.buffer,ce.byteOffset,ce.byteLength/2)),ke=String.fromCharCode.apply(null,Array.from(ke)),ke=ke.substring(ke.indexOf("<"),ke.length),ke=new DOMParser().parseFromString(ke,"text/xml").getElementsByTagName("KID")[0];ke&&(ke=ke.childNodes[0]?ke.childNodes[0].nodeValue:ke.getAttribute("VALUE"))&&(ke=(0,Fe.base64Decode)(ke).subarray(0,16),(0,Se.changeEndianness)(ke),this.keyId=ke);break;default:var Ae,ke=ce.subarray(0,16);ke.length!==16&&((Ae=new Uint8Array(16)).set(ke,16-ke.length),ke=Ae),this.keyId=ke}return this.keyId&&this.keyId.byteLength===16||((se=ye[this.uri])||(he=Object.keys(ye).length%Number.MAX_SAFE_INTEGER,se=new Uint8Array(16),new DataView(se.buffer,12,4).setUint32(0,he),ye[this.uri]=se),this.keyId=se),this},ee);function ee(se,he,ce,Ae,ke){Ae===void 0&&(Ae=[1]),ke===void 0&&(ke=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=se,this.uri=he,this.keyFormat=ce,this.keyFormatVersions=Ae,this.iv=ke,this.encrypted=!!se&&se!=="NONE",this.isCommonEncryption=this.encrypted&&se!=="AES-128"}},"./src/loader/load-stats.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{LoadStats:()=>Se});var Se=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>je});var Se=de("./src/polyfills/number.ts"),Pe=de("./node_modules/url-toolkit/src/url-toolkit.js"),xe=de("./src/loader/date-range.ts"),Oe=de("./src/loader/fragment.ts"),Fe=de("./src/loader/level-details.ts"),ye=de("./src/loader/level-key.ts"),Ne=de("./src/utils/attr-list.ts"),ee=de("./src/utils/logger.ts"),se=de("./src/utils/codecs.ts");function he(){return(he=Object.assign?Object.assign.bind():function(Ke){for(var t0=1;t0<arguments.length;t0++){var Re,Ze=arguments[t0];for(Re in Ze)Object.prototype.hasOwnProperty.call(Ze,Re)&&(Ke[Re]=Ze[Re])}return Ke}).apply(this,arguments)}var ce=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+|#EXT-X-SESSION-KEY:([^\n\r]*)[\r\n]+/g,Ae=/#EXT-X-MEDIA:(.*)/g,ke=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Ee=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),je=(Le.findGroup=function(Ke,t0){for(var Re=0;Re<Ke.length;Re++){var Ze=Ke[Re];if(Ze.id===t0)return Ze}},Le.convertAVC1ToAVCOTI=function(Ke){var t0,Re=Ke.split(".");return 2<Re.length?(t0=Re.shift()+".",(t0+=parseInt(Re.shift()).toString(16))+("000"+parseInt(Re.shift()).toString(16)).slice(-4)):Ke},Le.resolve=function(Ke,t0){return(0,Pe.buildAbsoluteURL)(t0,Ke,{alwaysNormalize:!0})},Le.parseMasterPlaylist=function(Ke,t0){var Re,Ze,i0,e0,a0=[],n0=[],Me={},Xe=[],c0=!1;for(ce.lastIndex=0;(Re=ce.exec(Ke))!=null;)Re[1]?(e0={attrs:Ze=new Ne.AttrList(Re[1]),bitrate:Ze.decimalInteger("AVERAGE-BANDWIDTH")||Ze.decimalInteger("BANDWIDTH"),name:Ze.NAME,url:Le.resolve(Re[2],t0)},(i0=Ze.decimalResolution("RESOLUTION"))&&(e0.width=i0.width,e0.height=i0.height),(function(h0,w0){["video","audio","text"].forEach(function(C0){var q0,K0=h0.filter(function(U0){return(0,se.isCodecType)(U0,C0)});K0.length&&(q0=K0.filter(function(U0){return U0.lastIndexOf("avc1",0)===0||U0.lastIndexOf("mp4a",0)===0}),w0[C0+"Codec"]=(0<q0.length?q0:K0)[0],h0=h0.filter(function(U0){return K0.indexOf(U0)===-1}))}),w0.unknownCodecs=h0})((Ze.CODECS||"").split(/[ ,]+/).filter(function(h0){return h0}),e0),e0.videoCodec&&e0.videoCodec.indexOf("avc1")!==-1&&(e0.videoCodec=Le.convertAVC1ToAVCOTI(e0.videoCodec)),(i0=e0.unknownCodecs)!=null&&i0.length||n0.push(e0),a0.push(e0)):Re[3]?(Ze=new Ne.AttrList(Re[3]))["DATA-ID"]&&(c0=!0,Me[Ze["DATA-ID"]]=Ze):Re[4]&&((e0=$e(i0=Re[4],t0)).encrypted&&e0.isSupported()?Xe.push(e0):ee.logger.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+i0+'"'));return{levels:0<n0.length&&n0.length<a0.length?n0:a0,sessionData:c0?Me:null,sessionKeys:Xe.length?Xe:null}},Le.parseMasterPlaylistMedia=function(Ke,t0,Re,Ze){Ze===void 0&&(Ze=[]);var i0=[],e0=0;for(Ae.lastIndex=0;(n0=Ae.exec(Ke))!==null;){var a0,n0=new Ne.AttrList(n0[1]);n0.TYPE===Re&&(n0={attrs:n0,bitrate:0,id:e0++,groupId:n0["GROUP-ID"],instreamId:n0["INSTREAM-ID"],name:n0.NAME||n0.LANGUAGE||"",type:Re,default:n0.bool("DEFAULT"),autoselect:n0.bool("AUTOSELECT"),forced:n0.bool("FORCED"),lang:n0.LANGUAGE,url:n0.URI?Le.resolve(n0.URI,t0):""},Ze.length&&(Ie(n0,a0=Le.findGroup(Ze,n0.groupId)||Ze[0],"audioCodec"),Ie(n0,a0,"textCodec")),i0.push(n0))}return i0},Le.parseLevelPlaylist=function(Ke,t0,Re,Ze,i0){var e0,a0,n0,Me=new Fe.LevelDetails(t0),Xe=Me.fragments,c0=null,h0=0,w0=0,C0=0,q0=0,K0=null,U0=new Oe.Fragment(Ze,t0),st=-1,ht=!1;for(ke.lastIndex=0,Me.m3u8=Ke;(e0=ke.exec(Ke))!==null;){ht&&(ht=!1,(U0=new Oe.Fragment(Ze,t0)).start=C0,U0.sn=h0,U0.cc=q0,U0.level=Re,c0)&&(U0.initSegment=c0,U0.rawProgramDateTime=c0.rawProgramDateTime,c0.rawProgramDateTime=null);var Dt=e0[1];if(Dt){U0.duration=parseFloat(Dt);var gt=(" "+e0[2]).slice(1);U0.title=gt||null,U0.tagList.push(gt?["INF",Dt,gt]:["INF",Dt])}else if(e0[3])(0,Se.isFiniteNumber)(U0.duration)&&(U0.start=C0,n0&&(U0.levelkeys=n0,gt=Me.encryptedFragments,!U0.levelkeys||!Object.keys(U0.levelkeys).some(function(or){return U0.levelkeys[or].isCommonEncryption})||gt.length&&gt[gt.length-1].levelkeys===n0||gt.push(U0)),U0.sn=h0,U0.level=Re,U0.cc=q0,U0.urlId=i0,Xe.push(U0),U0.relurl=(" "+e0[3]).slice(1),De(U0,K0),C0+=(K0=U0).duration,h0++,ht=!(w0=0));else if(e0[4])Dt=(" "+e0[4]).slice(1),K0?U0.setByteRange(Dt,K0):U0.setByteRange(Dt);else if(e0[5])U0.rawProgramDateTime=(" "+e0[5]).slice(1),U0.tagList.push(["PROGRAM-DATE-TIME",U0.rawProgramDateTime]),st===-1&&(st=Xe.length);else if(e0=e0[0].match(Ee)){for(a0=1;a0<e0.length&&e0[a0]===void 0;a0++);var j0=(" "+e0[a0]).slice(1),ft=(" "+e0[a0+1]).slice(1),Rt=e0[a0+2]?(" "+e0[a0+2]).slice(1):"";switch(j0){case"PLAYLIST-TYPE":Me.type=ft.toUpperCase();break;case"MEDIA-SEQUENCE":h0=Me.startSN=parseInt(ft);break;case"SKIP":var Et=new Ne.AttrList(ft),Nt=Et.decimalInteger("SKIPPED-SEGMENTS");if((0,Se.isFiniteNumber)(Nt)){for(var mi=Me.skippedSegments=Nt;mi--;)Xe.unshift(null);h0+=Nt}Nt=Et.enumeratedString("RECENTLY-REMOVED-DATERANGES"),Nt&&(Me.recentlyRemovedDateranges=Nt.split("	"));break;case"TARGETDURATION":Me.targetduration=parseFloat(ft);break;case"VERSION":Me.version=parseInt(ft);break;case"EXTM3U":break;case"ENDLIST":Me.live=!1;break;case"#":(ft||Rt)&&U0.tagList.push(Rt?[ft,Rt]:[ft]);break;case"DISCONTINUITY":q0++,U0.tagList.push(["DIS"]);break;case"GAP":U0.tagList.push([j0]);break;case"BITRATE":U0.tagList.push([j0,ft]);break;case"DATERANGE":Et=new Ne.AttrList(ft),Nt=new xe.DateRange(Et,Me.dateRanges[Et.ID]),Nt.isValid||Me.skippedSegments?Me.dateRanges[Nt.id]=Nt:ee.logger.warn('Ignoring invalid DATERANGE tag: "'+ft+'"'),U0.tagList.push(["EXT-X-DATERANGE",ft]);break;case"DISCONTINUITY-SEQUENCE":q0=parseInt(ft);break;case"KEY":var li=$e(ft,t0);if(li.isSupported()){if(li.method==="NONE"){n0=void 0;break}(n0=(n0=n0||{})[li.keyFormat]?he({},n0):n0)[li.keyFormat]=li}else ee.logger.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+ft+'"');break;case"START":li=new Ne.AttrList(ft).decimalFloatingPoint("TIME-OFFSET"),(0,Se.isFiniteNumber)(li)&&(Me.startTimeOffset=li);break;case"MAP":var Yt=new Ne.AttrList(ft);U0.duration?(Ue(gi=new Oe.Fragment(Ze,t0),Yt,Re,n0),(U0.initSegment=c0=gi).rawProgramDateTime&&!U0.rawProgramDateTime&&(U0.rawProgramDateTime=c0.rawProgramDateTime)):(Ue(U0,Yt,Re,n0),c0=U0,ht=!0);break;case"SERVER-CONTROL":var gi=new Ne.AttrList(ft);Me.canBlockReload=gi.bool("CAN-BLOCK-RELOAD"),Me.canSkipUntil=gi.optionalFloat("CAN-SKIP-UNTIL",0),Me.canSkipDateRanges=0<Me.canSkipUntil&&gi.bool("CAN-SKIP-DATERANGES"),Me.partHoldBack=gi.optionalFloat("PART-HOLD-BACK",0),Me.holdBack=gi.optionalFloat("HOLD-BACK",0);break;case"PART-INF":Yt=new Ne.AttrList(ft),Me.partTarget=Yt.decimalFloatingPoint("PART-TARGET");break;case"PART":var yi=(yi=Me.partList)||(Me.partList=[]),Fi=0<w0?yi[yi.length-1]:void 0,ii=w0++,ii=new Oe.Part(new Ne.AttrList(ft),U0,t0,ii,Fi);yi.push(ii),U0.duration+=ii.duration;break;case"PRELOAD-HINT":Fi=new Ne.AttrList(ft),Me.preloadHint=Fi;break;case"RENDITION-REPORT":yi=new Ne.AttrList(ft),Me.renditionReports=Me.renditionReports||[],Me.renditionReports.push(yi);break;default:ee.logger.warn("line parsed but not handled: "+e0)}}else ee.logger.warn("No matches on slow regex match for level playlist!")}K0&&!K0.relurl?(Xe.pop(),C0-=K0.duration,Me.partList&&(Me.fragmentHint=K0)):Me.partList&&(De(U0,K0),U0.cc=q0,Me.fragmentHint=U0);var Ft=Xe.length,Mi=Xe[0],Vi=Xe[Ft-1];return 0<(C0+=Me.skippedSegments*Me.targetduration)&&Ft&&Vi?(Me.averagetargetduration=C0/Ft,Ft=Vi.sn,Me.endSN=Ft!=="initSegment"?Ft:0,Me.live||(Vi.endList=!0),Mi&&(Me.startCC=Mi.cc)):(Me.endSN=0,Me.startCC=0),Me.fragmentHint&&(C0+=Me.fragmentHint.duration),Me.totalduration=C0,Me.endCC=q0,0<st&&(function(or,Yr){for(var kr=or[Yr],It=Yr;It--;){var Qi=or[It];if(!Qi)return;Qi.programDateTime=kr.programDateTime-1e3*Qi.duration,kr=Qi}})(Xe,st),Me},Le);function Le(){}function $e(a0,t0){var a0=new Ne.AttrList(a0),Re=(Re=a0.enumeratedString("METHOD"))!=null?Re:"",n0=a0.URI,Ze=a0.hexadecimalInteger("IV"),i0=a0.enumeratedString("KEYFORMATVERSIONS"),e0=(e0=a0.enumeratedString("KEYFORMAT"))!=null?e0:"identity",a0=(n0&&a0.IV&&!Ze&&ee.logger.error("Invalid IV: "+a0.IV),n0?je.resolve(n0,t0):""),n0=(i0||"1").split("/").map(Number).filter(Number.isFinite);return new ye.LevelKey(Re,a0,e0,n0,Ze)}function Ie(Ke,t0,Re){t0=t0[Re],t0&&(Ke[Re]=t0)}function De(Ke,t0){Ke.rawProgramDateTime?Ke.programDateTime=Date.parse(Ke.rawProgramDateTime):t0!=null&&t0.programDateTime&&(Ke.programDateTime=t0.endProgramDateTime),(0,Se.isFiniteNumber)(Ke.programDateTime)||(Ke.programDateTime=null,Ke.rawProgramDateTime=null)}function Ue(Ke,t0,Re,Ze){Ke.relurl=t0.URI,t0.BYTERANGE&&Ke.setByteRange(t0.BYTERANGE),Ke.level=Re,Ke.sn="initSegment",Ze&&(Ke.levelkeys=Ze),Ke.initSegment=null}},"./src/loader/playlist-loader.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>he});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/events.ts"),xe=de("./src/errors.ts"),Oe=de("./src/utils/logger.ts"),Fe=de("./src/loader/m3u8-parser.ts"),ye=de("./src/types/loader.ts"),Ne=de("./src/utils/attr-list.ts");function ee(ce,Ae){return ce=ce.url,ce=ce!==void 0&&ce.indexOf("data:")!==0?ce:Ae.url}function se(ce){this.hls=void 0,this.loaders=Object.create(null),this.hls=ce,this.registerListeners()}(fe=se.prototype).startLoad=function(ce){},fe.stopLoad=function(){this.destroyInternalLoaders()},fe.registerListeners=function(){var ce=this.hls;ce.on(Pe.Events.MANIFEST_LOADING,this.onManifestLoading,this),ce.on(Pe.Events.LEVEL_LOADING,this.onLevelLoading,this),ce.on(Pe.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),ce.on(Pe.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},fe.unregisterListeners=function(){var ce=this.hls;ce.off(Pe.Events.MANIFEST_LOADING,this.onManifestLoading,this),ce.off(Pe.Events.LEVEL_LOADING,this.onLevelLoading,this),ce.off(Pe.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),ce.off(Pe.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},fe.createInternalLoader=function(ce){var Ae=this.hls.config,Ee=Ae.pLoader,ke=Ae.loader,Ee=new(Ee||ke)(Ae);return ce.loader=Ee,this.loaders[ce.type]=Ee},fe.getInternalLoader=function(ce){return this.loaders[ce.type]},fe.resetInternalLoader=function(ce){this.loaders[ce]&&delete this.loaders[ce]},fe.destroyInternalLoaders=function(){for(var ce in this.loaders){var Ae=this.loaders[ce];Ae&&Ae.destroy(),this.resetInternalLoader(ce)}},fe.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},fe.onManifestLoading=function(ce,Ae){Ae=Ae.url,this.load({id:null,groupId:null,level:0,responseType:"text",type:ye.PlaylistContextType.MANIFEST,url:Ae,deliveryDirectives:null})},fe.onLevelLoading=function(ce,Le){var ke=Le.id,Ee=Le.level,je=Le.url,Le=Le.deliveryDirectives;this.load({id:ke,groupId:null,level:Ee,responseType:"text",type:ye.PlaylistContextType.LEVEL,url:je,deliveryDirectives:Le})},fe.onAudioTrackLoading=function(ce,Le){var ke=Le.id,Ee=Le.groupId,je=Le.url,Le=Le.deliveryDirectives;this.load({id:ke,groupId:Ee,level:null,responseType:"text",type:ye.PlaylistContextType.AUDIO_TRACK,url:je,deliveryDirectives:Le})},fe.onSubtitleTrackLoading=function(ce,Le){var ke=Le.id,Ee=Le.groupId,je=Le.url,Le=Le.deliveryDirectives;this.load({id:ke,groupId:Ee,level:null,responseType:"text",type:ye.PlaylistContextType.SUBTITLE_TRACK,url:je,deliveryDirectives:Le})},fe.load=function(ce){var Ae,ke,Ee,je,Le=this.hls.config;if($e=this.getInternalLoader(ce)){var Ie=$e.context;if(Ie&&Ie.url===ce.url)return void Oe.logger.trace("[playlist-loader]: playlist request ongoing");Oe.logger.log("[playlist-loader]: aborting previous loader for type: "+ce.type),$e.abort()}switch(ce.type){case ye.PlaylistContextType.MANIFEST:Ae=Le.manifestLoadingMaxRetry,ke=Le.manifestLoadingTimeOut,Ee=Le.manifestLoadingRetryDelay,je=Le.manifestLoadingMaxRetryTimeout;break;case ye.PlaylistContextType.LEVEL:case ye.PlaylistContextType.AUDIO_TRACK:case ye.PlaylistContextType.SUBTITLE_TRACK:Ae=0,ke=Le.levelLoadingTimeOut;break;default:Ae=Le.levelLoadingMaxRetry,ke=Le.levelLoadingTimeOut,Ee=Le.levelLoadingRetryDelay,je=Le.levelLoadingMaxRetryTimeout}var $e=this.createInternalLoader(ce),Ie=((Ie=ce.deliveryDirectives)!=null&&Ie.part&&(ce.type===ye.PlaylistContextType.LEVEL&&ce.level!==null?De=this.hls.levels[ce.level].details:ce.type===ye.PlaylistContextType.AUDIO_TRACK&&ce.id!==null?De=this.hls.audioTracks[ce.id].details:ce.type===ye.PlaylistContextType.SUBTITLE_TRACK&&ce.id!==null&&(De=this.hls.subtitleTracks[ce.id].details),De)&&(Ie=De.partTarget,De=De.targetduration,Ie&&De&&(ke=Math.min(1e3*Math.max(3*Ie,.8*De),ke))),{timeout:ke,maxRetry:Ae,retryDelay:Ee,maxRetryDelay:je,highWaterMark:0}),De={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};$e.load(ce,Ie,De)},fe.loadsuccess=function(ce,Ae,ke,Ee){Ee===void 0&&(Ee=null),this.resetInternalLoader(ke.type);var je=ce.data;je.indexOf("#EXTM3U")===0?(Ae.parsing.start=performance.now(),0<je.indexOf("#EXTINF:")||0<je.indexOf("#EXT-X-TARGETDURATION:")?this.handleTrackOrLevelPlaylist(ce,Ae,ke,Ee):this.handleMasterPlaylist(ce,Ae,ke,Ee)):this.handleManifestParsingError(ce,ke,"no EXTM3U delimiter",Ee)},fe.loaderror=function(ce,Ae,ke){this.handleNetworkError(Ae,ke=ke===void 0?null:ke,!1,ce)},fe.loadtimeout=function(ce,Ae,ke){this.handleNetworkError(Ae,ke=ke===void 0?null:ke,!0)},fe.handleMasterPlaylist=function(ce,Ae,ke,Ee){var je,Le,$e=this.hls,Ie=ce.data,De=ee(ce,ke),t0=Fe.default.parseMasterPlaylist(Ie,De),Ue=t0.levels,Ke=t0.sessionData,t0=t0.sessionKeys;Ue.length?(je=Ue.map(function(Re){return{id:Re.attrs.AUDIO,audioCodec:Re.audioCodec}}),Le=Ue.map(function(Re){return{id:Re.attrs.SUBTITLES,textCodec:Re.textCodec}}),je=Fe.default.parseMasterPlaylistMedia(Ie,De,"AUDIO",je),Le=Fe.default.parseMasterPlaylistMedia(Ie,De,"SUBTITLES",Le),Ie=Fe.default.parseMasterPlaylistMedia(Ie,De,"CLOSED-CAPTIONS"),je.length&&!je.some(function(Re){return!Re.url})&&Ue[0].audioCodec&&!Ue[0].attrs.AUDIO&&(Oe.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),je.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Ne.AttrList({}),bitrate:0,url:""})),$e.trigger(Pe.Events.MANIFEST_LOADED,{levels:Ue,audioTracks:je,subtitles:Le,captions:Ie,url:De,stats:Ae,networkDetails:Ee,sessionData:Ke,sessionKeys:t0})):this.handleManifestParsingError(ce,ke,"no level found in manifest",Ee)},fe.handleTrackOrLevelPlaylist=function(ce,Ae,ke,Ee){var je=this.hls,Ie=ke.id,Ue=ke.level,Le=ke.type,$e=ee(ce,ke),Ie=(0,Se.isFiniteNumber)(Ie)?Ie:0,Ue=(0,Se.isFiniteNumber)(Ue)?Ue:Ie,De=(function(){switch(ke.type){case ye.PlaylistContextType.AUDIO_TRACK:return ye.PlaylistLevelType.AUDIO;case ye.PlaylistContextType.SUBTITLE_TRACK:return ye.PlaylistLevelType.SUBTITLE;default:return ye.PlaylistLevelType.MAIN}})(),Ue=Fe.default.parseLevelPlaylist(ce.data,$e,Ue,De,Ie);Ue.fragments.length?(Le===ye.PlaylistContextType.MANIFEST&&(De={attrs:new Ne.AttrList({}),bitrate:0,details:Ue,name:"",url:$e},je.trigger(Pe.Events.MANIFEST_LOADED,{levels:[De],audioTracks:[],url:$e,stats:Ae,networkDetails:Ee,sessionData:null,sessionKeys:null})),Ae.parsing.end=performance.now(),ke.levelDetails=Ue,this.handlePlaylistLoaded(ce,Ae,ke,Ee)):je.trigger(Pe.Events.ERROR,{type:xe.ErrorTypes.NETWORK_ERROR,details:xe.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:$e,reason:"no fragments found in level",level:typeof ke.level=="number"?ke.level:void 0})},fe.handleManifestParsingError=function(ce,Ae,ke,Ee){this.hls.trigger(Pe.Events.ERROR,{type:xe.ErrorTypes.NETWORK_ERROR,details:xe.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:Ae.type===ye.PlaylistContextType.MANIFEST,url:ce.url,reason:ke,response:ce,context:Ae,networkDetails:Ee})},fe.handleNetworkError=function(ce,Ae,ke,Ee){Oe.logger.warn("[playlist-loader]: A network "+((ke=ke===void 0?!1:ke)?"timeout":"error")+" occurred while loading "+ce.type+" level: "+ce.level+" id: "+ce.id+' group-id: "'+ce.groupId+'"');var je=xe.ErrorDetails.UNKNOWN,Le=!1,$e=this.getInternalLoader(ce);switch(ce.type){case ye.PlaylistContextType.MANIFEST:je=ke?xe.ErrorDetails.MANIFEST_LOAD_TIMEOUT:xe.ErrorDetails.MANIFEST_LOAD_ERROR,Le=!0;break;case ye.PlaylistContextType.LEVEL:je=ke?xe.ErrorDetails.LEVEL_LOAD_TIMEOUT:xe.ErrorDetails.LEVEL_LOAD_ERROR,Le=!1;break;case ye.PlaylistContextType.AUDIO_TRACK:je=ke?xe.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:xe.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,Le=!1;break;case ye.PlaylistContextType.SUBTITLE_TRACK:je=ke?xe.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:xe.ErrorDetails.SUBTITLE_LOAD_ERROR,Le=!1}$e&&this.resetInternalLoader(ce.type),$e={type:xe.ErrorTypes.NETWORK_ERROR,details:je,fatal:Le,url:ce.url,loader:$e,context:ce,networkDetails:Ae},Ee&&($e.response=Ee),this.hls.trigger(Pe.Events.ERROR,$e)},fe.handlePlaylistLoaded=function(ce,Ae,ke,Ee){var je=ke.type,Le=ke.level,$e=ke.id,Ie=ke.groupId,De=ke.loader,Ue=ke.levelDetails,Ke=ke.deliveryDirectives;if(Ue!=null&&Ue.targetduration){if(De)switch(Ue.live&&(De.getCacheAge&&(Ue.ageHeader=De.getCacheAge()||0),De.getCacheAge&&!isNaN(Ue.ageHeader)||(Ue.ageHeader=0)),je){case ye.PlaylistContextType.MANIFEST:case ye.PlaylistContextType.LEVEL:this.hls.trigger(Pe.Events.LEVEL_LOADED,{details:Ue,level:Le||0,id:$e||0,stats:Ae,networkDetails:Ee,deliveryDirectives:Ke});break;case ye.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(Pe.Events.AUDIO_TRACK_LOADED,{details:Ue,id:$e||0,groupId:Ie||"",stats:Ae,networkDetails:Ee,deliveryDirectives:Ke});break;case ye.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(Pe.Events.SUBTITLE_TRACK_LOADED,{details:Ue,id:$e||0,groupId:Ie||"",stats:Ae,networkDetails:Ee,deliveryDirectives:Ke})}}else this.handleManifestParsingError(ce,ke,"invalid target duration",Ee)};const he=se},"./src/polyfills/number.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{MAX_SAFE_INTEGER:()=>Pe,isFiniteNumber:()=>Se});var Se=Number.isFinite||function(xe){return typeof xe=="number"&&isFinite(xe)},Pe=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Se}),Pe.getSilentFrame=function(xe,Oe){return xe==="mp4a.40.2"?Oe===1?new Uint8Array([0,200,0,128,35,128]):Oe===2?new Uint8Array([33,0,73,144,2,25,0,35,128]):Oe===3?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]):Oe===4?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]):Oe===5?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]):Oe===6?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]):void 0:Oe===1?new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]):Oe===2||Oe===3?new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]):void 0};const Se=Pe;function Pe(){}},"./src/remux/mp4-generator.ts":(_e,fe,Pe)=>{Pe.r(fe),Pe.d(fe,{default:()=>Oe});var Se=Math.pow(2,32)-1,Pe=(xe.init=function(){for(var Fe in xe.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]})xe.types.hasOwnProperty(Fe)&&(xe.types[Fe]=[Fe.charCodeAt(0),Fe.charCodeAt(1),Fe.charCodeAt(2),Fe.charCodeAt(3)]);var ye=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Ne=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ye=(xe.HDLR_TYPES={video:ye,audio:Ne},new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1])),Ne=new Uint8Array([0,0,0,0,0,0,0,0]),Ne=(xe.STTS=xe.STSC=xe.STCO=Ne,xe.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),xe.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),xe.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),xe.STSD=new Uint8Array([0,0,0,0,0,0,0,1]),new Uint8Array([105,115,111,109])),ee=new Uint8Array([97,118,99,49]),se=new Uint8Array([0,0,0,1]);xe.FTYP=xe.box(xe.types.ftyp,Ne,se,Ne,ee),xe.DINF=xe.box(xe.types.dinf,xe.box(xe.types.dref,ye))},xe.box=function(Fe){for(var ye=8,Ne=arguments.length,ee=new Array(1<Ne?Ne-1:0),se=1;se<Ne;se++)ee[se-1]=arguments[se];for(var he=ee.length,ce=he;he--;)ye+=ee[he].byteLength;var Ae=new Uint8Array(ye);for(Ae[0]=ye>>24&255,Ae[1]=ye>>16&255,Ae[2]=ye>>8&255,Ae[3]=255&ye,Ae.set(Fe,4),he=0,ye=8;he<ce;he++)Ae.set(ee[he],ye),ye+=ee[he].byteLength;return Ae},xe.hdlr=function(Fe){return xe.box(xe.types.hdlr,xe.HDLR_TYPES[Fe])},xe.mdat=function(Fe){return xe.box(xe.types.mdat,Fe)},xe.mdhd=function(Fe,ee){ee*=Fe;var Ne=Math.floor(ee/(1+Se)),ee=Math.floor(ee%(1+Se));return xe.box(xe.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,Fe>>24&255,Fe>>16&255,Fe>>8&255,255&Fe,Ne>>24,Ne>>16&255,Ne>>8&255,255&Ne,ee>>24,ee>>16&255,ee>>8&255,255&ee,85,196,0,0]))},xe.mdia=function(Fe){return xe.box(xe.types.mdia,xe.mdhd(Fe.timescale,Fe.duration),xe.hdlr(Fe.type),xe.minf(Fe))},xe.mfhd=function(Fe){return xe.box(xe.types.mfhd,new Uint8Array([0,0,0,0,Fe>>24,Fe>>16&255,Fe>>8&255,255&Fe]))},xe.minf=function(Fe){return Fe.type==="audio"?xe.box(xe.types.minf,xe.box(xe.types.smhd,xe.SMHD),xe.DINF,xe.stbl(Fe)):xe.box(xe.types.minf,xe.box(xe.types.vmhd,xe.VMHD),xe.DINF,xe.stbl(Fe))},xe.moof=function(Fe,ye,Ne){return xe.box(xe.types.moof,xe.mfhd(Fe),xe.traf(Ne,ye))},xe.moov=function(Fe){for(var ye=Fe.length,Ne=[];ye--;)Ne[ye]=xe.trak(Fe[ye]);return xe.box.apply(null,[xe.types.moov,xe.mvhd(Fe[0].timescale,Fe[0].duration)].concat(Ne).concat(xe.mvex(Fe)))},xe.mvex=function(Fe){for(var ye=Fe.length,Ne=[];ye--;)Ne[ye]=xe.trex(Fe[ye]);return xe.box.apply(null,[xe.types.mvex].concat(Ne))},xe.mvhd=function(se,ee){ee*=se;var Ne=Math.floor(ee/(1+Se)),ee=Math.floor(ee%(1+Se)),se=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,se>>24&255,se>>16&255,se>>8&255,255&se,Ne>>24,Ne>>16&255,Ne>>8&255,255&Ne,ee>>24,ee>>16&255,ee>>8&255,255&ee,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return xe.box(xe.types.mvhd,se)},xe.sdtp=function(Fe){for(var ye,Ne=Fe.samples||[],ee=new Uint8Array(4+Ne.length),se=0;se<Ne.length;se++)ye=Ne[se].flags,ee[se+4]=ye.dependsOn<<4|ye.isDependedOn<<2|ye.hasRedundancy;return xe.box(xe.types.sdtp,ee)},xe.stbl=function(Fe){return xe.box(xe.types.stbl,xe.stsd(Fe),xe.box(xe.types.stts,xe.STTS),xe.box(xe.types.stsc,xe.STSC),xe.box(xe.types.stsz,xe.STSZ),xe.box(xe.types.stco,xe.STCO))},xe.avc1=function(Fe){for(var ye,Ne,ee=[],se=[],he=0;he<Fe.sps.length;he++)Ne=(ye=Fe.sps[he]).byteLength,ee.push(Ne>>>8&255),ee.push(255&Ne),ee=ee.concat(Array.prototype.slice.call(ye));for(he=0;he<Fe.pps.length;he++)Ne=(ye=Fe.pps[he]).byteLength,se.push(Ne>>>8&255),se.push(255&Ne),se=se.concat(Array.prototype.slice.call(ye));var ce=xe.box(xe.types.avcC,new Uint8Array([1,ee[3],ee[4],ee[5],255,224|Fe.sps.length].concat(ee).concat([Fe.pps.length]).concat(se))),Ae=Fe.width,ke=Fe.height,Ee=Fe.pixelRatio[0],je=Fe.pixelRatio[1];return xe.box(xe.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Ae>>8&255,255&Ae,ke>>8&255,255&ke,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),ce,xe.box(xe.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),xe.box(xe.types.pasp,new Uint8Array([Ee>>24,Ee>>16&255,Ee>>8&255,255&Ee,je>>24,je>>16&255,je>>8&255,255&je])))},xe.esds=function(Fe){var ye=Fe.config.length;return new Uint8Array([0,0,0,0,3,23+ye,0,1,0,4,15+ye,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([ye]).concat(Fe.config).concat([6,1,2]))},xe.mp4a=function(Fe){var ye=Fe.samplerate;return xe.box(xe.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,Fe.channelCount,0,16,0,0,0,0,ye>>8&255,255&ye,0,0]),xe.box(xe.types.esds,xe.esds(Fe)))},xe.mp3=function(Fe){var ye=Fe.samplerate;return xe.box(xe.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,Fe.channelCount,0,16,0,0,0,0,ye>>8&255,255&ye,0,0]))},xe.stsd=function(Fe){return Fe.type==="audio"?Fe.segmentCodec==="mp3"&&Fe.codec==="mp3"?xe.box(xe.types.stsd,xe.STSD,xe.mp3(Fe)):xe.box(xe.types.stsd,xe.STSD,xe.mp4a(Fe)):xe.box(xe.types.stsd,xe.STSD,xe.avc1(Fe))},xe.tkhd=function(ee){var ye=ee.id,he=ee.duration*ee.timescale,Ne=ee.width,ee=ee.height,se=Math.floor(he/(1+Se)),he=Math.floor(he%(1+Se));return xe.box(xe.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,ye>>24&255,ye>>16&255,ye>>8&255,255&ye,0,0,0,0,se>>24,se>>16&255,se>>8&255,255&se,he>>24,he>>16&255,he>>8&255,255&he,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,Ne>>8&255,255&Ne,0,0,ee>>8&255,255&ee,0,0]))},xe.traf=function(Fe,he){var Ne=xe.sdtp(Fe),ee=Fe.id,se=Math.floor(he/(1+Se)),he=Math.floor(he%(1+Se));return xe.box(xe.types.traf,xe.box(xe.types.tfhd,new Uint8Array([0,0,0,0,ee>>24,ee>>16&255,ee>>8&255,255&ee])),xe.box(xe.types.tfdt,new Uint8Array([1,0,0,0,se>>24,se>>16&255,se>>8&255,255&se,he>>24,he>>16&255,he>>8&255,255&he])),xe.trun(Fe,Ne.length+16+20+8+16+8+8),Ne)},xe.trak=function(Fe){return Fe.duration=Fe.duration||4294967295,xe.box(xe.types.trak,xe.tkhd(Fe),xe.mdia(Fe))},xe.trex=function(Fe){return Fe=Fe.id,xe.box(xe.types.trex,new Uint8Array([0,0,0,0,Fe>>24,Fe>>16&255,Fe>>8&255,255&Fe,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},xe.trun=function(Fe,ye){var Ne,ee,se,he,ce,Ae=Fe.samples||[],ke=Ae.length,Ee=12+16*ke,je=new Uint8Array(Ee);for(je.set([Fe.type==="video"?1:0,0,15,1,ke>>>24&255,ke>>>16&255,ke>>>8&255,255&ke,(ye+=8+Ee)>>>24&255,ye>>>16&255,ye>>>8&255,255&ye],0),Ne=0;Ne<ke;Ne++)ee=(ce=Ae[Ne]).duration,se=ce.size,he=ce.flags,ce=ce.cts,je.set([ee>>>24&255,ee>>>16&255,ee>>>8&255,255&ee,se>>>24&255,se>>>16&255,se>>>8&255,255&se,he.isLeading<<2|he.dependsOn,he.isDependedOn<<6|he.hasRedundancy<<4|he.paddingValue<<1|he.isNonSync,61440&he.degradPrio,15&he.degradPrio,ce>>>24&255,ce>>>16&255,ce>>>8&255,255&ce],12+16*Ne);return xe.box(xe.types.trun,je)},xe.initSegment=function(ye){xe.types||xe.init();var ye=xe.moov(ye),Ne=new Uint8Array(xe.FTYP.byteLength+ye.byteLength);return Ne.set(xe.FTYP),Ne.set(ye,xe.FTYP.byteLength),Ne},xe);function xe(){}Pe.types=void 0,Pe.HDLR_TYPES=void 0,Pe.STTS=void 0,Pe.STSC=void 0,Pe.STCO=void 0,Pe.STSZ=void 0,Pe.VMHD=void 0,Pe.SMHD=void 0,Pe.STSD=void 0,Pe.FTYP=void 0,Pe.DINF=void 0;const Oe=Pe},"./src/remux/mp4-remuxer.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Ae,flushTextTrackMetadataCueSamples:()=>je,flushTextTrackUserdataCueSamples:()=>Le,normalizePts:()=>Ee});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/remux/aac-helper.ts"),xe=de("./src/remux/mp4-generator.ts"),Oe=de("./src/events.ts"),Fe=de("./src/errors.ts"),ye=de("./src/utils/logger.ts"),Ne=de("./src/types/loader.ts"),ee=de("./src/utils/timescale-conversion.ts");function se(){return(se=Object.assign?Object.assign.bind():function(De){for(var Ue=1;Ue<arguments.length;Ue++){var Ke,t0=arguments[Ue];for(Ke in t0)Object.prototype.hasOwnProperty.call(t0,Ke)&&(De[Ke]=t0[Ke])}return De}).apply(this,arguments)}var he=null,ce=null,Ae=((fe=ke.prototype).destroy=function(){},fe.resetTimeStamp=function(De){ye.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=De},fe.resetNextTimestamp=function(){ye.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},fe.resetInitSegment=function(){ye.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},fe.getVideoStartPts=function(Ke){var Ue=!1,Ke=Ke.reduce(function(t0,Re){var Ze=Re.pts-t0;return Ze<-4294967296?(Ue=!0,Ee(t0,Re.pts)):0<Ze?t0:Re.pts},Ke[0].pts);return Ue&&ye.logger.debug("PTS rollover detected"),Ke},fe.remux=function(De,Ue,Ke,t0,Re,Ze,i0,e0){var a0,n0,Me,Xe,c0,h0,w0,C0=Re,q0=Re,K0=-1<De.pid,U0=-1<Ue.pid,st=Ue.samples.length,ht=0<De.samples.length,Dt=i0&&0<st||1<st;return(K0&&!ht||U0&&!Dt)&&!this.ISGenerated&&!i0||(this.ISGenerated||(Me=this.generateIS(De,Ue,Re)),K0=this.isVideoContiguous,i0=-1,Dt&&(i0=(function(gt){for(var j0=0;j0<gt.length;j0++)if(gt[j0].key)return j0;return-1})(Ue.samples),!K0)&&this.config.forceKeyFrameOnDiscontinuity&&(h0=!0,0<i0?(ye.logger.warn("[mp4-remuxer]: Dropped "+i0+" out of "+st+" video samples due to a missing keyframe"),w0=this.getVideoStartPts(Ue.samples),Ue.samples=Ue.samples.slice(i0),Ue.dropped+=i0,w0=q0+=(Ue.samples[0].pts-w0)/Ue.inputTimeScale):i0===-1&&(ye.logger.warn("[mp4-remuxer]: No keyframe found out of "+st+" video samples"),h0=!1)),this.ISGenerated&&(ht&&Dt&&(st=this.getVideoStartPts(Ue.samples),st=(Ee(De.samples[0].pts,st)-st)/Ue.inputTimeScale,C0+=Math.max(0,st),q0+=Math.max(0,-st)),ht?(De.samplerate||(ye.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),Me=this.generateIS(De,Ue,Re)),n0=this.remuxAudio(De,C0,this.isAudioContiguous,Ze,U0||Dt||e0===Ne.PlaylistLevelType.AUDIO?q0:void 0),Dt&&(st=n0?n0.endPTS-n0.startPTS:0,Ue.inputTimeScale||(ye.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),Me=this.generateIS(De,Ue,Re)),a0=this.remuxVideo(Ue,q0,K0,st))):Dt&&(a0=this.remuxVideo(Ue,q0,K0,0)),a0)&&(a0.firstKeyFrame=i0,a0.independent=i0!==-1,a0.firstKeyFramePTS=w0)),{audio:n0,video:a0,initSegment:Me,independent:h0,text:Xe=this.ISGenerated&&(Ke.samples.length&&(c0=je(Ke,Re,this._initPTS,this._initDTS)),t0.samples.length)?Le(t0,Re,this._initPTS):Xe,id3:c0}},fe.generateIS=function(De,Ue,Ke){var t0,Re,Ze,i0=De.samples,e0=Ue.samples,a0=this.typeSupported,n0={},Me=!(0,Se.isFiniteNumber)(this._initPTS),Xe="audio/mp4";if(Me&&(Ze=Re=1/0),De.config&&i0.length&&(De.timescale=De.samplerate,De.segmentCodec==="mp3"&&(a0.mpeg?(Xe="audio/mpeg",De.codec=""):a0.mp3&&(De.codec="mp3")),n0.audio={id:"audio",container:Xe,codec:De.codec,initSegment:De.segmentCodec==="mp3"&&a0.mpeg?new Uint8Array(0):xe.default.initSegment([De]),metadata:{channelCount:De.channelCount}},Me)&&(t0=De.inputTimeScale,Ze=Re=i0[0].pts-Math.round(t0*Ke)),Ue.sps&&Ue.pps&&e0.length&&(Ue.timescale=Ue.inputTimeScale,n0.video={id:"main",container:"video/mp4",codec:Ue.codec,initSegment:xe.default.initSegment([Ue]),metadata:{width:Ue.width,height:Ue.height}},Me)&&(t0=Ue.inputTimeScale,Xe=this.getVideoStartPts(e0),a0=Math.round(t0*Ke),Re=Math.min(Re,Ee(e0[0].dts,Xe)-a0),Ze=Math.min(Ze,Xe-a0)),Object.keys(n0).length)return this.ISGenerated=!0,Me&&(this._initPTS=Ze,this._initDTS=Re),{tracks:n0,initPTS:Ze,timescale:t0}},fe.remuxVideo=function(De,U0,li,t0){var Re=De.inputTimeScale,Ze=De.samples,i0=[],e0=Ze.length,a0=this._initPTS,n0=this.nextAvcDts,Me=8,Xe=this.videoSampleDuration,c0=Number.POSITIVE_INFINITY,h0=Number.NEGATIVE_INFINITY,w0=!1;li&&n0!==null||(n0=U0*Re-(Ze[0].pts-Ee(Ze[0].dts,Ze[0].pts)));for(var C0=0;C0<e0;C0++){var q0=Ze[C0];q0.pts=Ee(q0.pts-a0,n0),q0.dts=Ee(q0.dts-a0,n0),q0.dts<Ze[0<C0?C0-1:C0].dts&&(w0=!0)}w0&&Ze.sort(function(wr,As){var ms=wr.dts-As.dts,wr=wr.pts-As.pts;return ms||wr}),K0=Ze[0].dts;var K0,U0=Ze[Ze.length-1].dts-K0,st=U0?Math.round(U0/(e0-1)):Xe||De.inputTimeScale/30;li&&(li=(U0=K0-n0)<-1,(Yt=st<U0)||li)&&(Yt?ye.logger.warn("AVC: "+(0,ee.toMsFromMpegTsClock)(U0,!0)+" ms ("+U0+"dts) hole between fragments detected, filling it"):ye.logger.warn("AVC: "+(0,ee.toMsFromMpegTsClock)(-U0,!0)+" ms ("+U0+"dts) overlapping between fragments detected"),!li||n0>Ze[0].pts)&&(K0=n0,Yt=Ze[0].pts-U0,Ze[0].dts=K0,Ze[0].pts=Yt,ye.logger.log("Video: First PTS/DTS adjusted: "+(0,ee.toMsFromMpegTsClock)(Yt,!0)+"/"+(0,ee.toMsFromMpegTsClock)(K0,!0)+", delta: "+(0,ee.toMsFromMpegTsClock)(U0,!0)+" ms")),K0=Math.max(0,K0);for(var ht=0,Dt=0,gt=0;gt<e0;gt++){for(var j0=Ze[gt],ft=j0.units,Rt=ft.length,Et=0,Nt=0;Nt<Rt;Nt++)Et+=ft[Nt].data.length;Dt+=Et,ht+=Rt,j0.length=Et,j0.dts=Math.max(j0.dts,K0),c0=Math.min(j0.pts,c0),h0=Math.max(j0.pts,h0)}var mi,li=Ze[e0-1].dts,Yt=Dt+4*ht+8;try{mi=new Uint8Array(Yt)}catch{return void this.observer.emit(Oe.Events.ERROR,Oe.Events.ERROR,{type:Fe.ErrorTypes.MUX_ERROR,details:Fe.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Yt,reason:"fail allocating video mdat "+Yt})}var gi=new DataView(mi.buffer);gi.setUint32(0,Yt),mi.set(xe.default.types.mdat,4);for(var yi=!1,Fi=Number.POSITIVE_INFINITY,ii=Number.POSITIVE_INFINITY,Ft=Number.NEGATIVE_INFINITY,Mi=Number.NEGATIVE_INFINITY,Vi=0;Vi<e0;Vi++){for(var or=Ze[Vi],Yr=or.units,kr=0,It=0,Qi=Yr.length;It<Qi;It++){var Xi=Yr[It],$0=Xi.data,Xi=Xi.data.byteLength;gi.setUint32(Me,Xi),Me+=4,mi.set($0,Me),Me+=Xi,kr+=4+Xi}var ps,Jr=void 0,Sr=(Vi<e0-1?(Xe=Ze[Vi+1].dts-or.dts,Jr=Ze[Vi+1].pts-or.pts):(Sr=this.config,ps=0<Vi?or.dts-Ze[Vi-1].dts:st,Jr=0<Vi?or.pts-Ze[Vi-1].pts:st,Sr.stretchShortVideoTrack&&this.nextAudioPts!==null&&Math.floor(Sr.maxBufferHole*Re)<(Sr=(t0?c0+t0*Re:this.nextAudioPts)-or.pts)?((Xe=Sr-ps)<0?Xe=ps:yi=!0,ye.logger.log("[mp4-remuxer]: It is approximately "+Sr/90+" ms to the next segment; using duration "+Xe/90+" ms for the last video frame.")):Xe=ps),Math.round(or.pts-or.dts)),Fi=Math.min(Fi,Xe),Ft=Math.max(Ft,Xe),ii=Math.min(ii,Jr),Mi=Math.max(Mi,Jr);i0.push(new $e(or.key,Xe,kr,Sr))}if(i0.length){if(he)he<70&&((U0=i0[0].flags).dependsOn=2,U0.isNonSync=0);else if(ce&&Mi-ii<Ft-Fi&&st/Ft<.025&&i0[0].cts===0){ye.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var Pi=K0,Wi=0,hr=i0.length;Wi<hr;Wi++){var Es,lr=Pi+i0[Wi].duration,Js=Pi+i0[Wi].cts;Wi<hr-1?(Es=lr+i0[Wi+1].cts,i0[Wi].duration=Es-Js):i0[Wi].duration=Wi?i0[Wi-1].duration:st,i0[Wi].cts=0,Pi=lr}}}return console.assert(Xe!==null,"mp4SampleDuration must be computed"),this.nextAvcDts=n0=li+(Xe=yi||!Xe?st:Xe),this.videoSampleDuration=Xe,this.isVideoContiguous=!0,Yt={data1:xe.default.moof(De.sequenceNumber++,K0,se({},De,{samples:i0})),data2:mi,startPTS:c0/Re,endPTS:(h0+Xe)/Re,startDTS:K0/Re,endDTS:n0/Re,type:"video",hasAudio:!1,hasVideo:!0,nb:i0.length,dropped:De.dropped},De.samples=[],De.dropped=0,console.assert(mi.length,"MDAT length must not be zero"),Yt},fe.remuxAudio=function(De,Ue,Ke,t0,Re){var Ze=De.inputTimeScale,i0=Ze/(De.samplerate||Ze),e0=De.segmentCodec==="aac"?1024:1152,a0=e0*i0,n0=this._initPTS,Me=De.segmentCodec==="mp3"&&this.typeSupported.mpeg,Xe=[],c0=Re!==void 0,h0=De.samples,w0=Me?0:8,C0=this.nextAudioPts||-1,q0=Ue*Ze;if(this.isAudioContiguous=Ke=Ke||h0.length&&0<C0&&(t0&&Math.abs(q0-C0)<9e3||Math.abs(Ee(h0[0].pts-n0,q0)-C0)<20*a0),h0.forEach(function(Vi){Vi.pts=Ee(Vi.pts-n0,q0)}),!Ke||C0<0){if(!(h0=h0.filter(function(Vi){return 0<=Vi.pts})).length)return;C0=Re===0?0:t0&&!c0?Math.max(0,q0):h0[0].pts}if(De.segmentCodec==="aac")for(var K0=this.config.maxAudioFramesDrift,U0=0,st=C0;U0<h0.length;U0++){var ht=h0[U0],Dt=ht.pts,gt=Dt-st,j0=Math.abs(1e3*gt/Ze);if(gt<=-K0*a0&&c0)U0===0&&(ye.logger.warn("Audio frame @ "+(Dt/Ze).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*gt/Ze)+" ms."),this.nextAudioPts=C0=st=Dt);else if(K0*a0<=gt&&j0<1e4&&c0){var ft=Math.round(gt/a0);(st=Dt-ft*a0)<0&&(ft--,st+=a0),U0===0&&(this.nextAudioPts=C0=st),ye.logger.warn("[mp4-remuxer]: Injecting "+ft+" audio frame @ "+(st/Ze).toFixed(3)+"s due to "+Math.round(1e3*gt/Ze)+" ms gap.");for(var Rt=0;Rt<ft;Rt++){var Et=Math.max(st,0),Nt=Pe.default.getSilentFrame(De.manifestCodec||De.codec,De.channelCount);Nt||(ye.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Nt=ht.unit.subarray()),h0.splice(U0,0,{unit:Nt,pts:Et}),st+=a0,U0++}}ht.pts=st,st+=a0}for(var mi,li=null,Yt=null,gi=0,yi=h0.length;yi--;)gi+=h0[yi].unit.byteLength;for(var Fi=0,ii=h0.length;Fi<ii;Fi++){var Mi=h0[Fi],Ft=Mi.unit,Mi=Mi.pts;if(Yt!==null)Xe[Fi-1].duration=Math.round((Mi-Yt)/i0);else{if(li=Mi=Ke&&De.segmentCodec==="aac"?C0:Mi,!(0<gi))return;gi+=w0;try{mi=new Uint8Array(gi)}catch{return void this.observer.emit(Oe.Events.ERROR,Oe.Events.ERROR,{type:Fe.ErrorTypes.MUX_ERROR,details:Fe.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:gi,reason:"fail allocating audio mdat "+gi})}Me||(new DataView(mi.buffer).setUint32(0,gi),mi.set(xe.default.types.mdat,4))}mi.set(Ft,w0),Ft=Ft.byteLength,w0+=Ft,Xe.push(new $e(!0,e0,Ft,0)),Yt=Mi}if(Ue=Xe.length,Ue)return this.nextAudioPts=C0=Yt+i0*Xe[Xe.length-1].duration,Re={data1:Me?new Uint8Array(0):xe.default.moof(De.sequenceNumber++,li/i0,se({},De,{samples:Xe})),data2:mi,startPTS:Re=li/Ze,endPTS:t0=C0/Ze,startDTS:Re,endDTS:t0,type:"audio",hasAudio:!0,hasVideo:!(De.samples=[]),nb:Ue},this.isAudioContiguous=!0,console.assert(mi.length,"MDAT length must not be zero"),Re},fe.remuxEmptyAudio=function(De,Ue,Ke,t0){var Re=De.inputTimeScale,Ze=Re/(De.samplerate||Re),e0=this.nextAudioPts,i0=(e0!==null?e0:t0.startDTS*Re)+this._initDTS,e0=t0.endDTS*Re+this._initDTS,a0=1024*Ze,n0=Math.ceil((e0-i0)/a0),Me=Pe.default.getSilentFrame(De.manifestCodec||De.codec,De.channelCount);if(ye.logger.warn("[mp4-remuxer]: remux empty Audio"),Me){for(var Xe=[],c0=0;c0<n0;c0++){var h0=i0+c0*a0;Xe.push({unit:Me,pts:h0,dts:h0})}return De.samples=Xe,this.remuxAudio(De,Ue,Ke,!1)}ye.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},ke);function ke(De,Ue,Ke,t0){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=De,this.config=Ue,this.typeSupported=Ke,this.ISGenerated=!1,he===null&&(De=(navigator.userAgent||"").match(/Chrome\/(\d+)/i),he=De?parseInt(De[1]):0),ce===null&&(Ue=navigator.userAgent.match(/Safari\/(\d+)/i),ce=Ue?parseInt(Ue[1]):0)}function Ee(De,Ue){var Ke;if(Ue!==null)for(Ke=Ue<De?-8589934592:8589934592;4294967296<Math.abs(De-Ue);)De+=Ke;return De}function je(De,Ue,Ke,t0){var Re=De.samples.length;if(Re){for(var Ze=De.inputTimeScale,i0=0;i0<Re;i0++){var e0=De.samples[i0];e0.pts=Ee(e0.pts-Ke,Ue*Ze)/Ze,e0.dts=Ee(e0.dts-t0,Ue*Ze)/Ze}var a0=De.samples;return De.samples=[],{samples:a0}}}function Le(De,Ue,Ke){var t0=De.samples.length;if(t0){for(var Re=De.inputTimeScale,Ze=0;Ze<t0;Ze++){var i0=De.samples[Ze];i0.pts=Ee(i0.pts-Ke,Ue*Re)/Re}De.samples.sort(function(a0,n0){return a0.pts-n0.pts});var e0=De.samples;return De.samples=[],{samples:e0}}}var $e=function(De,Ue,Ke,t0){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=Ue,this.size=Ke,this.cts=t0,this.flags=new Ie(De)},Ie=function(De){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=De?2:1,this.isNonSync=De?0:1}},"./src/remux/passthrough-remuxer.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Ne});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/remux/mp4-remuxer.ts"),xe=de("./src/utils/mp4-tools.ts"),Oe=de("./src/loader/fragment.ts"),Fe=de("./src/utils/logger.ts");function ye(se,he){return se=se?.codec,se&&4<se.length?se:se==="hvc1"||se==="hev1"?"hvc1.1.c.L120.90":se==="av01"?"av01.0.04M.08":se==="avc1"||he===Oe.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}(fe=ee.prototype).destroy=function(){},fe.resetTimeStamp=function(se){this.initPTS=se,this.lastEndTime=null},fe.resetNextTimestamp=function(){this.lastEndTime=null},fe.resetInitSegment=function(se,he,ce,Ae){this.audioCodec=he,this.videoCodec=ce,this.generateInitSegment((0,xe.patchEncyptionData)(se,Ae)),this.emitInitSegment=!0},fe.generateInitSegment=function(se){var he,ce,Ae=this.audioCodec,ke=this.videoCodec;se&&se.byteLength?(he=this.initData=(0,xe.parseInitSegment)(se),Ae=Ae||ye(he.audio,Oe.ElementaryStreamTypes.AUDIO),ke=ke||ye(he.video,Oe.ElementaryStreamTypes.VIDEO),ce={},he.audio&&he.video?ce.audiovideo={container:"video/mp4",codec:Ae+","+ke,initSegment:se,id:"main"}:he.audio?ce.audio={container:"audio/mp4",codec:Ae,initSegment:se,id:"audio"}:he.video?ce.video={container:"video/mp4",codec:ke,initSegment:se,id:"main"}:Fe.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=ce):(this.initTracks=void 0,this.initData=void 0)},fe.remux=function(se,Ue,ce,Ae,ke){var Ee,je,Le,$e=this.initPTS,Ie=this.lastEndTime,De={audio:void 0,video:void 0,text:Ae,id3:ce,initSegment:void 0},Ue=((0,Se.isFiniteNumber)(Ie)||(Ie=this.lastEndTime=ke||0),Ue.samples);return Ue&&Ue.length&&(Ee={initPTS:void 0,timescale:1},(Le=this.initData)&&Le.length||(this.generateInitSegment(Ue),Le=this.initData),Le&&Le.length?(this.emitInitSegment&&(Ee.tracks=this.initTracks,this.emitInitSegment=!1),je=(0,xe.getStartDTS)(Le,Ue),(0,Se.isFiniteNumber)($e)||(this.initPTS=Ee.initPTS=$e=je-ke),Ie=(se=se?je-$e:Ie)+(je=(0,xe.getDuration)(Ue,Le)),(0,xe.offsetStartDTS)(Le,Ue,$e),0<je?this.lastEndTime=Ie:(Fe.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp()),$e="",(je=!!Le.audio)&&($e+="audio"),(Le=!!Le.video)&&($e+="video"),De.audio=(Ue={data1:Ue,startPTS:se,startDTS:se,endPTS:Ie,endDTS:Ie,type:$e,hasAudio:je,hasVideo:Le,nb:1,dropped:0}).type==="audio"?Ue:void 0,De.video=Ue.type!=="audio"?Ue:void 0,De.initSegment=Ee,Ie=(se=this.initPTS)!=null?se:0,De.id3=(0,Pe.flushTextTrackMetadataCueSamples)(ce,ke,Ie,Ie),Ae.samples.length&&(De.text=(0,Pe.flushTextTrackUserdataCueSamples)(Ae,ke,Ie))):Fe.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment.")),De};const Ne=ee;function ee(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndTime=null}},"./src/task-loop.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Se}),(de=Pe.prototype).destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},de.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},de.onHandlerDestroyed=function(){},de.hasInterval=function(){return!!this._tickInterval},de.hasNextTick=function(){return!!this._tickTimer},de.setInterval=function(xe){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,xe),!0)},de.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),!(this._tickInterval=null))},de.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),!(this._tickTimer=null))},de.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),1<this._tickCallCount&&this.tickImmediate(),this._tickCallCount=0)},de.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},de.doTick=function(){};var Se=Pe;function Pe(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}},"./src/types/cmcd.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{CMCDObjectType:()=>Se,CMCDStreamType:()=>xe,CMCDStreamingFormat:()=>Pe,CMCDVersion:()=>Oe});var Se,Pe,xe,Oe=1;(de=Se=Se||{}).MANIFEST="m",de.AUDIO="a",de.VIDEO="v",de.MUXED="av",de.INIT="i",de.CAPTION="c",de.TIMED_TEXT="tt",de.KEY="k",de.OTHER="o",(fe=Pe=Pe||{}).DASH="d",fe.HLS="h",fe.SMOOTH="s",fe.OTHER="o",(de=xe=xe||{}).VOD="v",de.LIVE="l"},"./src/types/demuxer.ts":(_e,fe,de)=>{var Se;de.r(fe),de.d(fe,{MetadataSchema:()=>Se}),(de=Se=Se||{}).audioId3="org.id3",de.dateRange="com.apple.quicktime.HLS",de.emsg="https://aomedia.org/emsg/ID3"},"./src/types/level.ts":(_e,fe,de)=>{function Se(ee,se){for(var he,ce=0;ce<se.length;ce++){var Ae=se[ce];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(ee,typeof(he=(function(ke){if(typeof ke!="object"||ke===null)return ke;var Ee=ke[Symbol.toPrimitive];if(Ee===void 0)return String(ke);if(Ee=Ee.call(ke,"string"),typeof Ee!="object")return Ee;throw new TypeError("@@toPrimitive must return a primitive value.")})(Ae.key))=="symbol"?he:String(he),Ae)}}de.r(fe),de.d(fe,{HdcpLevels:()=>xe,HlsSkip:()=>Pe,HlsUrlParameters:()=>Oe,Level:()=>Fe,getSkipValue:()=>function(Ae,se){var he=Ae.canSkipUntil,ce=Ae.canSkipDateRanges,Ae=Ae.endSN;return he&&(se!==void 0?se-Ae:0)<he?ce?Pe.v2:Pe.Yes:Pe.No}});var Pe,xe=["NONE","TYPE-0","TYPE-1","TYPE-2",null];(de=Pe=Pe||{}).No="",de.Yes="YES",de.v2="v2",Ne.prototype.addDirectives=function(ee){return ee=new self.URL(ee),this.msn!==void 0&&ee.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&ee.searchParams.set("_HLS_part",this.part.toString()),this.skip&&ee.searchParams.set("_HLS_skip",this.skip),ee.href};var Oe=Ne,Fe=(Se((fe=ye).prototype,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(ee){ee%=this.url.length,this._urlId!==ee&&(this.details=void 0,this._urlId=ee)}}]),Object.defineProperty(fe,"prototype",{writable:!1}),ye);function ye(ee){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[ee.url],this.attrs=ee.attrs,this.bitrate=ee.bitrate,ee.details&&(this.details=ee.details),this.id=ee.id||0,this.name=ee.name,this.width=ee.width||0,this.height=ee.height||0,this.audioCodec=ee.audioCodec,this.videoCodec=ee.videoCodec,this.unknownCodecs=ee.unknownCodecs,this.codecSet=[ee.videoCodec,ee.audioCodec].filter(function(se){return se}).join(",").replace(/\.[^.,]+/g,"")}function Ne(ee,se,he){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=ee,this.part=se,this.skip=he}},"./src/types/loader.ts":(_e,fe,de)=>{var Se,Pe;de.r(fe),de.d(fe,{PlaylistContextType:()=>Se,PlaylistLevelType:()=>Pe}),(de=Se=Se||{}).MANIFEST="manifest",de.LEVEL="level",de.AUDIO_TRACK="audioTrack",de.SUBTITLE_TRACK="subtitleTrack",(fe=Pe=Pe||{}).MAIN="main",fe.AUDIO="audio",fe.SUBTITLE="subtitle"},"./src/types/transmuxer.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{ChunkMetadata:()=>Se});var Se=function(Pe,xe,Oe,Fe,ye,Ne){Fe===void 0&&(Fe=0),ye===void 0&&(ye=-1),Ne===void 0&&(Ne=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=Pe,this.sn=xe,this.id=Oe,this.size=Fe,this.part=ye,this.partial=Ne}},"./src/utils/attr-list.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{AttrList:()=>xe});var Se=/^(\d+)x(\d+)$/,Pe=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,xe=((de=Oe.prototype).decimalInteger=function(Fe){return Fe=parseInt(this[Fe],10),Fe>Number.MAX_SAFE_INTEGER?1/0:Fe},de.hexadecimalInteger=function(Fe){if(this[Fe]){for(var ye=(1&(ye=(this[Fe]||"0x").slice(2)).length?"0":"")+ye,Ne=new Uint8Array(ye.length/2),ee=0;ee<ye.length/2;ee++)Ne[ee]=parseInt(ye.slice(2*ee,2*ee+2),16);return Ne}return null},de.hexadecimalIntegerAsNumber=function(Fe){return Fe=parseInt(this[Fe],16),Fe>Number.MAX_SAFE_INTEGER?1/0:Fe},de.decimalFloatingPoint=function(Fe){return parseFloat(this[Fe])},de.optionalFloat=function(Fe,ye){return Fe=this[Fe],Fe?parseFloat(Fe):ye},de.enumeratedString=function(Fe){return this[Fe]},de.bool=function(Fe){return this[Fe]==="YES"},de.decimalResolution=function(Fe){if(Fe=Se.exec(this[Fe]),Fe!==null)return{width:parseInt(Fe[1],10),height:parseInt(Fe[2],10)}},Oe.parseAttrList=function(Fe){var ye,Ne={};for(Pe.lastIndex=0;(ye=Pe.exec(Fe))!==null;){var ee=ye[2];ee.indexOf('"')===0&&ee.lastIndexOf('"')===ee.length-1&&(ee=ee.slice(1,-1)),Ne[ye[1]]=ee}return Ne},Oe);function Oe(Fe){for(var ye in Fe=typeof Fe=="string"?Oe.parseAttrList(Fe):Fe)Fe.hasOwnProperty(ye)&&(this[ye]=Fe[ye])}},"./src/utils/binary-search.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Se});const Se={search:function(Pe,xe){for(var Oe,Fe,ye=0,Ne=Pe.length-1;ye<=Ne;){var ee=xe(Fe=Pe[Oe=(ye+Ne)/2|0]);if(0<ee)ye=1+Oe;else{if(!(ee<0))return Fe;Ne=Oe-1}}return null}}},"./src/utils/buffer-helper.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{BufferHelper:()=>xe});var Se=de("./src/utils/logger.ts"),Pe={length:0,start:function(){return 0},end:function(){return 0}},xe=(Oe.isBuffered=function(Fe,ye){try{if(Fe){for(var Ne=Oe.getBuffered(Fe),ee=0;ee<Ne.length;ee++)if(ye>=Ne.start(ee)&&ye<=Ne.end(ee))return!0}}catch{}return!1},Oe.bufferInfo=function(Fe,ye,Ne){try{if(Fe){for(var ee=Oe.getBuffered(Fe),se=[],he=0;he<ee.length;he++)se.push({start:ee.start(he),end:ee.end(he)});return this.bufferedInfo(se,ye,Ne)}}catch{}return{len:0,start:ye,end:ye,nextStart:void 0}},Oe.bufferedInfo=function(Fe,ye,Ne){ye=Math.max(0,ye),Fe.sort(function(De,Ue){return De.start-Ue.start||Ue.end-De.end});var ee=[];if(Ne)for(var se=0;se<Fe.length;se++){var he,ce=ee.length;ce&&(he=ee[ce-1].end,Fe[se].start-he<Ne)?Fe[se].end>he&&(ee[ce-1].end=Fe[se].end):ee.push(Fe[se])}else ee=Fe;for(var Ae,ke=0,Ee=ye,je=ye,Le=0;Le<ee.length;Le++){var $e=ee[Le].start,Ie=ee[Le].end;if($e<=ye+Ne&&ye<Ie)Ee=$e,ke=(je=Ie)-ye;else if(ye+Ne<$e){Ae=$e;break}}return{len:ke,start:Ee||0,end:je||0,nextStart:Ae}},Oe.getBuffered=function(Fe){try{return Fe.buffered}catch(ye){return Se.logger.log("failed to get media.buffered",ye),Pe}},Oe);function Oe(){}},"./src/utils/cea-608-parser.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{CaptionScreen:()=>$e,Row:()=>Le,default:()=>a0});function Se(Me){var Xe=Me;return Fe.hasOwnProperty(Me)&&(Xe=Fe[Me]),String.fromCharCode(Xe)}function Pe(Me){for(var Xe=[],c0=0;c0<Me.length;c0++)Xe.push(Me[c0].toString(16));return Xe}var xe,Oe=de("./src/utils/logger.ts"),Fe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},ye=15,Ne=100,ee={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},se={17:2,18:4,21:6,22:8,23:10,19:13,20:15},he={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},ce={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Ae=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],ke=((fe=xe=xe||{})[fe.ERROR=0]="ERROR",fe[fe.TEXT=1]="TEXT",fe[fe.WARNING=2]="WARNING",fe[fe.INFO=2]="INFO",fe[fe.DEBUG=3]="DEBUG",fe[fe.DATA=3]="DATA",Ze.prototype.log=function(Me,Xe){this.verboseLevel>=Me&&(Xe=typeof Xe=="function"?Xe():Xe,Oe.logger.log(this.time+" ["+Me+"] "+Xe))},Ze),Ee=((de=Re.prototype).reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},de.setStyles=function(Me){for(var Xe=["foreground","underline","italics","background","flash"],c0=0;c0<Xe.length;c0++){var h0=Xe[c0];Me.hasOwnProperty(h0)&&(this[h0]=Me[h0])}},de.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},de.equals=function(Me){return this.foreground===Me.foreground&&this.underline===Me.underline&&this.italics===Me.italics&&this.background===Me.background&&this.flash===Me.flash},de.copy=function(Me){this.foreground=Me.foreground,this.underline=Me.underline,this.italics=Me.italics,this.background=Me.background,this.flash=Me.flash},de.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},Re),je=((fe=t0.prototype).reset=function(){this.uchar=" ",this.penState.reset()},fe.setChar=function(Me,Xe){this.uchar=Me,this.penState.copy(Xe)},fe.setPenState=function(Me){this.penState.copy(Me)},fe.equals=function(Me){return this.uchar===Me.uchar&&this.penState.equals(Me.penState)},fe.copy=function(Me){this.uchar=Me.uchar,this.penState.copy(Me.penState)},fe.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},t0),Le=((de=Ke.prototype).equals=function(Me){for(var Xe=!0,c0=0;c0<Ne;c0++)if(!this.chars[c0].equals(Me.chars[c0])){Xe=!1;break}return Xe},de.copy=function(Me){for(var Xe=0;Xe<Ne;Xe++)this.chars[Xe].copy(Me.chars[Xe])},de.isEmpty=function(){for(var Me=!0,Xe=0;Xe<Ne;Xe++)if(!this.chars[Xe].isEmpty()){Me=!1;break}return Me},de.setCursor=function(Me){this.pos!==Me&&(this.pos=Me),this.pos<0?(this.logger.log(xe.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>Ne&&(this.logger.log(xe.DEBUG,"Too large cursor position "+this.pos),this.pos=Ne)},de.moveCursor=function(Me){var Xe=this.pos+Me;if(1<Me)for(var c0=this.pos+1;c0<Xe+1;c0++)this.chars[c0].setPenState(this.currPenState);this.setCursor(Xe)},de.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},de.insertChar=function(Me){var Xe=this,c0=(144<=Me&&this.backSpace(),Se(Me));this.pos>=Ne?this.logger.log(xe.ERROR,function(){return"Cannot insert "+Me.toString(16)+" ("+c0+") at position "+Xe.pos+". Skipping it!"}):(this.chars[this.pos].setChar(c0,this.currPenState),this.moveCursor(1))},de.clearFromPos=function(Me){for(var Xe=Me;Xe<Ne;Xe++)this.chars[Xe].reset()},de.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},de.clearToEndOfRow=function(){this.clearFromPos(this.pos)},de.getTextString=function(){for(var Me=[],Xe=!0,c0=0;c0<Ne;c0++){var h0=this.chars[c0].uchar;h0!==" "&&(Xe=!1),Me.push(h0)}return Xe?"":Me.join("")},de.setPenStyles=function(Me){this.currPenState.setStyles(Me),this.chars[this.pos].setPenState(this.currPenState)},Ke),$e=((fe=Ue.prototype).reset=function(){for(var Me=0;Me<ye;Me++)this.rows[Me].clear();this.currRow=14},fe.equals=function(Me){for(var Xe=!0,c0=0;c0<ye;c0++)if(!this.rows[c0].equals(Me.rows[c0])){Xe=!1;break}return Xe},fe.copy=function(Me){for(var Xe=0;Xe<ye;Xe++)this.rows[Xe].copy(Me.rows[Xe])},fe.isEmpty=function(){for(var Me=!0,Xe=0;Xe<ye;Xe++)if(!this.rows[Xe].isEmpty()){Me=!1;break}return Me},fe.backSpace=function(){this.rows[this.currRow].backSpace()},fe.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},fe.insertChar=function(Me){this.rows[this.currRow].insertChar(Me)},fe.setPen=function(Me){this.rows[this.currRow].setPenStyles(Me)},fe.moveCursor=function(Me){this.rows[this.currRow].moveCursor(Me)},fe.setCursor=function(Me){this.logger.log(xe.INFO,"setCursor: "+Me),this.rows[this.currRow].setCursor(Me)},fe.setPAC=function(Me){this.logger.log(xe.INFO,function(){return"pacData = "+JSON.stringify(Me)});var Xe=Me.row-1;if(this.nrRollUpRows&&Xe<this.nrRollUpRows-1&&(Xe=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==Xe){for(var c0=0;c0<ye;c0++)this.rows[c0].clear();var h0=this.currRow+1-this.nrRollUpRows,w0=this.lastOutputScreen;if(w0){var C0=w0.rows[h0].cueStartTime,q0=this.logger.time;if(C0&&q0!==null&&C0<q0)for(var K0=0;K0<this.nrRollUpRows;K0++)this.rows[Xe-this.nrRollUpRows+K0+1].copy(w0.rows[h0+K0])}}this.currRow=Xe,C0=this.rows[this.currRow],Me.indent!==null&&(q0=Me.indent,q0=Math.max(q0-1,0),C0.setCursor(Me.indent),Me.color=C0.chars[q0].penState.foreground),C0={foreground:Me.color,underline:Me.underline,italics:Me.italics,background:"black",flash:!1},this.setPen(C0)},fe.setBkgData=function(Me){this.logger.log(xe.INFO,function(){return"bkgData = "+JSON.stringify(Me)}),this.backSpace(),this.setPen(Me),this.insertChar(32)},fe.setRollUpRows=function(Me){this.nrRollUpRows=Me},fe.rollUp=function(){var Me,Xe=this;this.nrRollUpRows!==null?(this.logger.log(xe.TEXT,function(){return Xe.getDisplayText()}),Me=this.currRow+1-this.nrRollUpRows,(Me=this.rows.splice(Me,1)[0]).clear(),this.rows.splice(this.currRow,0,Me),this.logger.log(xe.INFO,"Rolling up")):this.logger.log(xe.DEBUG,"roll_up but nrRollUpRows not set yet")},fe.getDisplayText=function(Me){Me=Me||!1;for(var Xe=[],c0="",h0=0;h0<ye;h0++){var w0=this.rows[h0].getTextString();w0&&Xe.push(Me?"Row "+(h0+1)+": '"+w0+"'":w0.trim())}return c0=0<Xe.length?Me?"["+Xe.join(" | ")+"]":Xe.join(`
`):c0},fe.getTextAndFormat=function(){return this.rows},Ue),Ie=((de=De.prototype).reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},de.getHandler=function(){return this.outputFilter},de.setHandler=function(Me){this.outputFilter=Me},de.setPAC=function(Me){this.writeScreen.setPAC(Me)},de.setBkgData=function(Me){this.writeScreen.setBkgData(Me)},de.setMode=function(Me){Me!==this.mode&&(this.mode=Me,this.logger.log(xe.INFO,function(){return"MODE="+Me}),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=Me)},de.insertChars=function(Me){for(var Xe=this,c0=0;c0<Me.length;c0++)this.writeScreen.insertChar(Me[c0]);var h0=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(xe.INFO,function(){return h0+": "+Xe.writeScreen.getDisplayText(!0)}),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(xe.TEXT,function(){return"DISPLAYED: "+Xe.displayedMemory.getDisplayText(!0)}),this.outputDataUpdate())},de.ccRCL=function(){this.logger.log(xe.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},de.ccBS=function(){this.logger.log(xe.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory)&&this.outputDataUpdate()},de.ccAOF=function(){},de.ccAON=function(){},de.ccDER=function(){this.logger.log(xe.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},de.ccRU=function(Me){this.logger.log(xe.INFO,"RU("+Me+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(Me)},de.ccFON=function(){this.logger.log(xe.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},de.ccRDC=function(){this.logger.log(xe.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},de.ccTR=function(){this.logger.log(xe.INFO,"TR"),this.setMode("MODE_TEXT")},de.ccRTD=function(){this.logger.log(xe.INFO,"RTD"),this.setMode("MODE_TEXT")},de.ccEDM=function(){this.logger.log(xe.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},de.ccCR=function(){this.logger.log(xe.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},de.ccENM=function(){this.logger.log(xe.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},de.ccEOC=function(){var Me,Xe=this;this.logger.log(xe.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"&&(Me=this.displayedMemory,this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=Me,this.writeScreen=this.nonDisplayedMemory,this.logger.log(xe.TEXT,function(){return"DISP: "+Xe.displayedMemory.getDisplayText()})),this.outputDataUpdate(!0)},de.ccTO=function(Me){this.logger.log(xe.INFO,"TO("+Me+") - Tab Offset"),this.writeScreen.moveCursor(Me)},de.ccMIDROW=function(Me){var Xe={flash:!1};Xe.underline=Me%2==1,Xe.italics=46<=Me,Xe.italics?Xe.foreground="white":(Me=Math.floor(Me/2)-16,Xe.foreground=["white","green","blue","cyan","red","yellow","magenta"][Me]),this.logger.log(xe.INFO,"MIDROW: "+JSON.stringify(Xe)),this.writeScreen.setPen(Xe)},de.outputDataUpdate=function(Me){Me===void 0&&(Me=!1);var Xe=this.logger.time;Xe!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,Xe,this.lastOutputScreen),Me&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:Xe):this.cueStartTime=Xe,this.lastOutputScreen.copy(this.displayedMemory))},de.cueSplitAtTime=function(Me){!this.outputFilter||this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,Me,this.displayedMemory),this.cueStartTime=Me)},De);function De(Me,Xe,c0){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=Me,this.outputFilter=Xe,this.mode=null,this.verbose=0,this.displayedMemory=new $e(c0),this.nonDisplayedMemory=new $e(c0),this.lastOutputScreen=new $e(c0),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=c0}function Ue(Me){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var Xe=0;Xe<ye;Xe++)this.rows.push(new Le(Me));this.logger=Me,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}function Ke(Me){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var Xe=0;Xe<Ne;Xe++)this.chars.push(new je);this.logger=Me,this.pos=0,this.currPenState=new Ee}function t0(Me,Xe,c0,h0,w0,C0){this.uchar=void 0,this.penState=void 0,this.uchar=Me||" ",this.penState=new Ee(Xe,c0,h0,w0,C0)}function Re(Me,Xe,c0,h0,w0){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=Me||"white",this.underline=Xe||!1,this.italics=c0||!1,this.background=h0||"black",this.flash=w0||!1}function Ze(){this.time=null,this.verboseLevel=xe.ERROR}function i0(Me,Xe,c0){c0.a=Me,c0.b=Xe}function e0(Me,Xe,c0){return c0.a===Me&&c0.b===Xe}(fe=n0.prototype).getHandler=function(Me){return this.channels[Me].getHandler()},fe.setHandler=function(Me,Xe){this.channels[Me].setHandler(Xe)},fe.addData=function(Me,Xe){var c0,h0=!1;this.logger.time=Me;for(var w0=0;w0<Xe.length;w0+=2){var C0,q0=127&Xe[w0],K0=127&Xe[w0+1];q0==0&&K0==0||(this.logger.log(xe.DATA,"["+Pe([Xe[w0],Xe[w0+1]])+"] -> ("+Pe([q0,K0])+")"),!(c0=(c0=(c0=(c0=this.parseCmd(q0,K0))||this.parseMidrow(q0,K0))||this.parsePAC(q0,K0))||this.parseBackgroundAttributes(q0,K0))&&(h0=this.parseChars(q0,K0))&&((C0=this.currentChannel)&&0<C0?this.channels[C0].insertChars(h0):this.logger.log(xe.WARNING,"No channel found yet. TEXT-MODE?")),c0)||h0||this.logger.log(xe.WARNING,"Couldn't parse cleaned data "+Pe([q0,K0])+" orig: "+Pe([Xe[w0],Xe[w0+1]]))}},fe.parseCmd=function(Me,Xe){var c0,h0,w0=this.cmdHistory;return((Me===20||Me===28||Me===21||Me===29)&&32<=Xe&&Xe<=47||(Me===23||Me===31)&&33<=Xe&&Xe<=35)&&(e0(Me,Xe,w0)?(i0(null,null,w0),this.logger.log(xe.DEBUG,"Repeated command ("+Pe([Me,Xe])+") is dropped")):(h0=this.channels[c0=Me===20||Me===21||Me===23?1:2],Me===20||Me===21||Me===28||Me===29?Xe===32?h0.ccRCL():Xe===33?h0.ccBS():Xe===34?h0.ccAOF():Xe===35?h0.ccAON():Xe===36?h0.ccDER():Xe===37?h0.ccRU(2):Xe===38?h0.ccRU(3):Xe===39?h0.ccRU(4):Xe===40?h0.ccFON():Xe===41?h0.ccRDC():Xe===42?h0.ccTR():Xe===43?h0.ccRTD():Xe===44?h0.ccEDM():Xe===45?h0.ccCR():Xe===46?h0.ccENM():Xe===47&&h0.ccEOC():h0.ccTO(Xe-32),i0(Me,Xe,w0),this.currentChannel=c0),!0)},fe.parseMidrow=function(Me,Xe){var c0;return(Me===17||Me===25)&&32<=Xe&&Xe<=47&&((c0=Me===17?1:2)!==this.currentChannel?(this.logger.log(xe.ERROR,"Mismatch channel in midrow parsing"),!1):!!(c0=this.channels[c0])&&(c0.ccMIDROW(Xe),this.logger.log(xe.DEBUG,"MIDROW ("+Pe([Me,Xe])+")"),!0))},fe.parsePAC=function(Me,Xe){var c0,h0,w0=this.cmdHistory;return((17<=Me&&Me<=23||25<=Me&&Me<=31)&&64<=Xe&&Xe<=127||(Me===16||Me===24)&&64<=Xe&&Xe<=95)&&(e0(Me,Xe,w0)?(i0(null,null,w0),!0):!!(h0=this.channels[c0=Me<=23?1:2])&&(h0.setPAC(this.interpretPAC((64<=Xe&&Xe<=95?c0==1?ee:he:c0==1?se:ce)[Me],Xe)),i0(Me,Xe,w0),this.currentChannel=c0,!0))},fe.interpretPAC=function(Me,Xe){return Me={color:null,italics:!1,indent:null,underline:!1,row:Me},Xe=95<Xe?Xe-96:Xe-64,Me.underline=(1&Xe)==1,Xe<=13?Me.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(Xe/2)]:Xe<=15?(Me.italics=!0,Me.color="white"):Me.indent=4*Math.floor((Xe-16)/2),Me},fe.parseChars=function(Me,Xe){var c0,h0=null,w0=null;return 17<=(w0=25<=Me?(c0=2,Me-8):(c0=1,Me))&&w0<=19?(this.logger.log(xe.INFO,"Special char '"+Se(w0=w0===17?Xe+80:w0===18?Xe+112:Xe+144)+"' in channel "+c0),h0=[w0]):32<=Me&&Me<=127&&(h0=Xe===0?[Me]:[Me,Xe]),h0&&(c0=Pe(h0),this.logger.log(xe.DEBUG,"Char codes =  "+c0.join(",")),i0(Me,Xe,this.cmdHistory)),h0},fe.parseBackgroundAttributes=function(Me,Xe){var c0,h0;return((Me===16||Me===24)&&32<=Xe&&Xe<=47||(Me===23||Me===31)&&45<=Xe&&Xe<=47)&&(h0={},Me===16||Me===24?(c0=Math.floor((Xe-32)/2),h0.background=Ae[c0],Xe%2==1&&(h0.background=h0.background+"_semi")):Xe===45?h0.background="transparent":(h0.foreground="black",Xe===47&&(h0.underline=!0)),this.channels[Me<=23?1:2].setBkgData(h0),i0(Me,Xe,this.cmdHistory),!0)},fe.reset=function(){for(var Me=0;Me<Object.keys(this.channels).length;Me++){var Xe=this.channels[Me];Xe&&Xe.reset()}this.cmdHistory={a:null,b:null}},fe.cueSplitAtTime=function(Me){for(var Xe=0;Xe<this.channels.length;Xe++){var c0=this.channels[Xe];c0&&c0.cueSplitAtTime(Me)}};const a0=n0;function n0(Me,Xe,c0){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var h0=new ke;this.channels=[null,new Ie(Me,Xe,h0),new Ie(Me+1,c0,h0)],this.cmdHistory={a:null,b:null},this.logger=h0}},"./src/utils/codecs.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{isCodecSupportedInMp4:()=>function(Pe,xe){return MediaSource.isTypeSupported((xe||"video")+'/mp4;codecs="'+Pe+'"')},isCodecType:()=>function(Pe,xe){return xe=Se[xe],!!xe&&xe[Pe.slice(0,4)]===!0}});var Se={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}}},"./src/utils/cues.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Fe});var Se=de("./src/utils/vttparser.ts"),Pe=de("./src/utils/webvtt-parser.ts"),xe=de("./src/utils/texttrack-utils.ts"),Oe=/\s/;const Fe={newCue:function(ye,Ne,ee,se){for(var he,ce,Ae,ke,Ee=[],je=self.VTTCue||self.TextTrackCue,Le=0;Le<se.rows.length;Le++)if(ce=!0,Ae=0,ke="",!(he=se.rows[Le]).isEmpty()){for(var $e=0;$e<he.chars.length;$e++)Oe.test(he.chars[$e].uchar)&&ce?Ae++:(ke+=he.chars[$e].uchar,ce=!1);(he.cueStartTime=Ne)===ee&&(ee+=1e-4),16<=Ae?Ae--:Ae++;var Ie=(0,Se.fixLineBreaks)(ke.trim()),De=(0,Pe.generateCueId)(Ne,ee,Ie);ye&&ye.cues&&ye.cues.getCueById(De)||((Ie=new je(Ne,ee,Ie)).id=De,Ie.line=Le+1,Ie.align="left",Ie.position=10+Math.min(80,10*Math.floor(8*Ae/32)),Ee.push(Ie))}return ye&&Ee.length&&(Ee.sort(function(Ue,Ke){return Ue.line==="auto"||Ke.line==="auto"?0:8<Ue.line&&8<Ke.line?Ke.line-Ue.line:Ue.line-Ke.line}),Ee.forEach(function(Ue){return(0,xe.addCueToTrack)(ye,Ue)})),Ee}}},"./src/utils/discontinuities.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{adjustSlidingStart:()=>ee,alignMediaPlaylistByPDT:()=>function(he,ce){{var Ae,ke,Ee;he.hasProgramDateTime&&ce.hasProgramDateTime&&(Ae=he.fragments,ce=ce.fragments,Ae.length)&&ce.length&&(ce=ce[Math.round(ce.length/2)-1],Ae=Oe(Ae,ce.cc)||Ae[Math.round(Ae.length/2)-1],ke=ce.programDateTime,Ee=Ae.programDateTime,ke!==null)&&Ee!==null&&ee((Ee-ke)/1e3-(Ae.start-ce.start),he)}},alignPDT:()=>se,alignStream:()=>function(he,ce,Ae){var ke;ce&&(Fe(he,he=ce,ke=Ae)&&(he=ye(he.details,ke))&&(0,Se.isFiniteNumber)(he.start)&&(Pe.logger.log("Adjusting PTS using last level due to CC increase within current level "+ke.url),ee(he.start,ke)),!Ae.alignedSliding&&ce.details&&se(Ae,ce.details),Ae.alignedSliding||!ce.details||Ae.skippedSegments||(0,xe.adjustSliding)(ce.details,Ae))},findDiscontinuousReferenceFrag:()=>ye,findFirstFragWithCC:()=>Oe,shouldAlignOnDiscontinuities:()=>Fe});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/utils/logger.ts"),xe=de("./src/controller/level-helper.ts");function Oe(he,ce){for(var Ae=null,ke=0,Ee=he.length;ke<Ee;ke++){var je=he[ke];if(je&&je.cc===ce){Ae=je;break}}return Ae}function Fe(he,ce,Ae){return!(!ce.details||!(Ae.endCC>Ae.startCC||he&&he.cc<Ae.startCC))}function ye(he,ce,Ae){if(he=he.fragments,ce=ce.fragments,ce.length&&he.length){if(he=Oe(he,ce[0].cc),he&&(!he||he.startPTS))return he;Pe.logger.log("No frag in previous level to align on")}else Pe.logger.log("No fragments to align")}function Ne(he,ce){he&&(ce=he.start+ce,he.start=he.startPTS=ce,he.endPTS=ce+he.duration)}function ee(he,ce){for(var Ae=ce.fragments,ke=0,Ee=Ae.length;ke<Ee;ke++)Ne(Ae[ke],he);ce.fragmentHint&&Ne(ce.fragmentHint,he),ce.alignedSliding=!0}function se(he,ce){var Ae,ke;ce.fragments.length&&he.hasProgramDateTime&&ce.hasProgramDateTime&&(Ae=ce.fragments[0].programDateTime,ce=((ke=he.fragments[0].programDateTime)-Ae)/1e3+ce.fragments[0].start)&&(0,Se.isFiniteNumber)(ce)&&(Pe.logger.log("Adjusting PTS using programDateTime delta "+(ke-Ae)+"ms, sliding:"+ce.toFixed(3)+" "+he.url+" "),ee(ce,he))}},"./src/utils/ewma-bandwidth-estimator.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Pe});var Se=de("./src/utils/ewma.ts");(fe=xe.prototype).update=function(Oe,Fe){var ye=this.slow_,Ne=this.fast_;this.slow_.halfLife!==Oe&&(this.slow_=new Se.default(Oe,ye.getEstimate(),ye.getTotalWeight())),this.fast_.halfLife!==Fe&&(this.fast_=new Se.default(Fe,Ne.getEstimate(),Ne.getTotalWeight()))},fe.sample=function(Oe,Fe){Oe=(Oe=Math.max(Oe,this.minDelayMs_))/1e3,Fe=8*Fe/Oe,this.fast_.sample(Oe,Fe),this.slow_.sample(Oe,Fe)},fe.canEstimate=function(){var Oe=this.fast_;return Oe&&Oe.getTotalWeight()>=this.minWeight_},fe.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},fe.destroy=function(){};const Pe=xe;function xe(Oe,Fe,ye){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=ye,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Se.default(Oe),this.fast_=new Se.default(Fe)}},"./src/utils/ewma.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Se}),(de=Pe.prototype).sample=function(xe,Oe){var Fe=Math.pow(this.alpha_,xe);this.estimate_=Oe*(1-Fe)+Fe*this.estimate_,this.totalWeight_+=xe},de.getTotalWeight=function(){return this.totalWeight_},de.getEstimate=function(){if(this.alpha_){var xe=1-Math.pow(this.alpha_,this.totalWeight_);if(xe)return this.estimate_/xe}return this.estimate_};const Se=Pe;function Pe(xe,Oe,Fe){Oe===void 0&&(Oe=0),Fe===void 0&&(Fe=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=xe,this.alpha_=xe?Math.exp(Math.log(.5)/xe):0,this.estimate_=Oe,this.totalWeight_=Fe}},"./src/utils/fetch-loader.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>je,fetchSupported:()=>function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/loader/load-stats.ts"),xe=de("./src/demux/chunk-cache.ts");function Oe(Le){var $e=typeof Map=="function"?new Map:void 0;return(Oe=function(Ie){if(Ie===null||Function.toString.call(Ie).indexOf("[native code]")===-1)return Ie;if(typeof Ie!="function")throw new TypeError("Super expression must either be null or a function");if($e!==void 0){if($e.has(Ie))return $e.get(Ie);$e.set(Ie,De)}function De(){return Fe(Ie,arguments,Ne(this).constructor)}return De.prototype=Object.create(Ie.prototype,{constructor:{value:De,enumerable:!1,writable:!0,configurable:!0}}),ye(De,Ie)})(Le)}function Fe(Le,$e,Ie){return(Fe=(function(){if(!(typeof Reflect>"u"||!Reflect.construct)&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch{}}})()?Reflect.construct.bind():function(De,Re,Ke){var t0=[null],Re=(t0.push.apply(t0,Re),new(Function.bind.apply(De,t0)));return Ke&&ye(Re,Ke.prototype),Re}).apply(null,arguments)}function ye(Le,$e){return(ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ie,De){return Ie.__proto__=De,Ie})(Le,$e)}function Ne(Le){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($e){return $e.__proto__||Object.getPrototypeOf($e)})(Le)}function ee(){return(ee=Object.assign?Object.assign.bind():function(Le){for(var $e=1;$e<arguments.length;$e++){var Ie,De=arguments[$e];for(Ie in De)Object.prototype.hasOwnProperty.call(De,Ie)&&(Le[Ie]=De[Ie])}return Le}).apply(this,arguments)}(fe=se.prototype).destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},fe.abortInternal=function(){var Le=this.response;Le&&Le.ok||(this.stats.aborted=!0,this.controller.abort())},fe.abort=function(){var Le;this.abortInternal(),(Le=this.callbacks)!=null&&Le.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},fe.load=function(Le,$e,Ie){var De=this,Ue=this.stats;if(Ue.loading.start)throw new Error("Loader can only be used once.");Ue.loading.start=self.performance.now();var Ke=(function(i0,e0){return e0={method:"GET",mode:"cors",credentials:"same-origin",signal:e0,headers:new self.Headers(ee({},i0.headers))},i0.rangeEnd&&e0.headers.set("Range","bytes="+i0.rangeStart+"-"+String(i0.rangeEnd-1)),e0})(Le,this.controller.signal),t0=Ie.onProgress,Re=Le.responseType==="arraybuffer",Ze=Re?"byteLength":"length";this.context=Le,this.config=$e,this.callbacks=Ie,this.request=this.fetchSetup(Le,Ke),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){De.abortInternal(),Ie.onTimeout(Ue,Le,De.response)},$e.timeout),self.fetch(this.request).then(function(i0){var e0,a0;if((De.response=De.loader=i0).ok)return Ue.loading.first=Math.max(self.performance.now(),Ue.loading.start),Ue.total=parseInt(i0.headers.get("Content-Length")||"0"),t0&&(0,Se.isFiniteNumber)($e.highWaterMark)?De.loadProgressively(i0,Ue,Le,$e.highWaterMark,t0):Re?i0.arrayBuffer():i0.text();throw e0=i0.status,a0=i0.statusText,new ke(a0||"fetch, bad network response",e0,i0)}).then(function(i0){var e0=De.response,a0=(self.clearTimeout(De.requestTimeout),Ue.loading.end=Math.max(self.performance.now(),Ue.loading.first),i0[Ze]),a0=(a0&&(Ue.loaded=Ue.total=a0),{url:e0.url,data:i0});t0&&!(0,Se.isFiniteNumber)($e.highWaterMark)&&t0(Ue,Le,i0,e0),Ie.onSuccess(a0,Ue,Le,e0)}).catch(function(i0){var e0,a0;self.clearTimeout(De.requestTimeout),Ue.aborted||(e0=i0&&i0.code||0,a0=i0?i0.message:null,Ie.onError({code:e0,text:a0},Le,i0?i0.details:null))})},fe.getCacheAge=function(){var Le,$e=null;return $e=this.response?(Le=this.response.headers.get("age"))?parseFloat(Le):null:$e},fe.loadProgressively=function(Le,$e,Ie,De,Ue){De===void 0&&(De=0);var Ke=new xe.default,t0=Le.body.getReader();return(function Re(){return t0.read().then(function(Ze){var i0;return Ze.done?(Ke.dataLength&&Ue($e,Ie,Ke.flush(),Le),Promise.resolve(new ArrayBuffer(0))):(i0=(Ze=Ze.value).length,$e.loaded+=i0,i0<De||Ke.dataLength?(Ke.push(Ze),Ke.dataLength>=De&&Ue($e,Ie,Ke.flush(),Le)):Ue($e,Ie,Ze,Le),Re())}).catch(function(){return Promise.reject()})})()},de=se;function se(Le){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=Le.fetchSetup||he,this.controller=new self.AbortController,this.stats=new Pe.LoadStats}function he(Le,$e){return new self.Request(Le.url,$e)}ce=Oe(Error),fe=ce,(Ae=Ee).prototype=Object.create(fe.prototype),ye(Ae.prototype.constructor=Ae,fe);var ce,Ae,ke=Ee;function Ee(Le,$e,Ie){return(Le=ce.call(this,Le)||this).code=void 0,Le.details=void 0,Le.code=$e,Le.details=Ie,Le}const je=de},"./src/utils/hex.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Se});const Se={hexDump:function(Pe){for(var xe="",Oe=0;Oe<Pe.length;Oe++){var Fe=Pe[Oe].toString(16);xe+=Fe=Fe.length<2?"0"+Fe:Fe}return xe}}},"./src/utils/imsc1-ttml-parser.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{IMSC1_CODEC:()=>ee,parseIMSC1:()=>function($e,Ie,De,Ue,Ke){var t0=(0,Se.findBox)(new Uint8Array($e),["mdat"]);if(t0.length!==0){var t0=t0.map(function(i0){return(0,Oe.utf8ArrayToStr)(i0)}),Re=(0,Fe.toTimescaleFromScale)(Ie,1,De);try{t0.forEach(function(i0){return Ue((function(e0,a0){var n0,Me,Xe,c0,h0,w0=new DOMParser().parseFromString(e0,"text/xml").getElementsByTagName("tt")[0];if(w0)return n0={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},Me=Object.keys(n0).reduce(function(C0,q0){return C0[q0]=w0.getAttribute("ttp:"+q0)||n0[q0],C0},{}),Xe=w0.getAttribute("xml:space")!=="preserve",c0=ke(Ae(w0,"styling","style")),h0=ke(Ae(w0,"layout","region")),e0=Ae(w0,"body","[begin]"),[].map.call(e0,function(ft){var j0=(function Rt(Et,Nt){return[].slice.call(Et.childNodes).reduce(function(mi,li,Yt){return li.nodeName==="br"&&Yt?mi+`
`:(Yt=li.childNodes)!=null&&Yt.length?Rt(li,Nt):Nt?mi+li.textContent.trim().replace(/\s+/g," "):mi+li.textContent},"")})(ft,Xe);if(!j0||!ft.hasAttribute("begin"))return null;var q0=Le(ft.getAttribute("begin"),Me),gt=Le(ft.getAttribute("dur"),Me),K0=Le(ft.getAttribute("end"),Me);if(q0===null)throw je(ft);if(K0===null){if(gt===null)throw je(ft);K0=q0+gt}var U0,st,ht,Dt,gt=new xe.default(q0-a0,K0-a0,j0),j0=(gt.id=(0,ye.generateCueId)(gt.startTime,gt.endTime,gt.text),U0=h0[ft.getAttribute("region")],st=c0[ft.getAttribute("style")],q0=c0,ht="http://www.w3.org/ns/ttml#styling",(K0=(Dt=null)!=U0&&U0.hasAttribute("style")?U0.getAttribute("style"):null)&&q0.hasOwnProperty(K0)&&(Dt=q0[K0]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(function(Rt,Et){var Nt=Ee(st,ht,Et)||Ee(U0,ht,Et)||Ee(Dt,ht,Et);return Nt&&(Rt[Et]=Nt),Rt},{})),ft=j0.textAlign;return ft&&((q0=ce[ft])&&(gt.lineAlign=q0),gt.align=ft),Ne(gt,j0),gt}).filter(function(C0){return C0!==null});throw new Error("Invalid ttml")})(i0,Re))})}catch(i0){Ke(i0)}}else Ke(new Error("Could not parse IMSC1 mdat"))}});var Se=de("./src/utils/mp4-tools.ts"),Pe=de("./src/utils/vttparser.ts"),xe=de("./src/utils/vttcue.ts"),Oe=de("./src/demux/id3.ts"),Fe=de("./src/utils/timescale-conversion.ts"),ye=de("./src/utils/webvtt-parser.ts");function Ne(){return(Ne=Object.assign?Object.assign.bind():function($e){for(var Ie=1;Ie<arguments.length;Ie++){var De,Ue=arguments[Ie];for(De in Ue)Object.prototype.hasOwnProperty.call(Ue,De)&&($e[De]=Ue[De])}return $e}).apply(this,arguments)}var ee="stpp.ttml.im1t",se=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,he=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,ce={left:"start",center:"center",right:"end",start:"start",end:"end"};function Ae($e,Ie,De){return $e=$e.getElementsByTagName(Ie)[0],$e?[].slice.call($e.querySelectorAll(De)):[]}function ke($e){return $e.reduce(function(Ie,De){var Ue=De.getAttribute("xml:id");return Ue&&(Ie[Ue]=De),Ie},{})}function Ee($e,Ie,De){return $e&&$e.hasAttributeNS(Ie,De)?$e.getAttributeNS(Ie,De):null}function je($e){return new Error("Could not parse ttml timestamp "+$e)}function Le($e,Ie){var De,Ue,Ke,t0;return $e?((De=(0,Pe.parseTimeStamp)($e))===null&&(se.test($e)?(Ue=Ie,Ke=se.exec($e),t0=(0|Ke[4])+(0|Ke[5])/Ue.subFrameRate,De=3600*(0|Ke[1])+60*(0|Ke[2])+(0|Ke[3])+t0/Ue.frameRate):he.test($e)&&(De=(function(Re){var Ze=he.exec($e),i0=Number(Ze[1]);switch(Ze[2]){case"h":return 3600*i0;case"m":return 60*i0;case"ms":return 1e3*i0;case"f":return i0/Re.frameRate;case"t":return i0/Re.tickRate}return i0})(Ie))),De):null}},"./src/utils/keysystem-util.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{changeEndianness:()=>function(xe){function Oe(Fe,ye,Ne){var ee=Fe[ye];Fe[ye]=Fe[Ne],Fe[Ne]=ee}Oe(xe,0,3),Oe(xe,1,2),Oe(xe,4,5),Oe(xe,6,7)},convertDataUriToArrayBytes:()=>function(Oe){var Oe=Oe.split(":"),Fe=null;{var ye,Ne;Oe[0]==="data"&&Oe.length===2&&(Oe=Oe[1].split(";"),(Ne=Oe[Oe.length-1].split(",")).length===2)&&(ye=Ne[0]==="base64",Ne=Ne[1],Fe=ye?(Oe.splice(-1,1),(0,Se.base64Decode)(Ne)):(ye=Pe(Ne).subarray(0,16),(Oe=new Uint8Array(16)).set(ye,16-ye.length),Oe))}return Fe},strToUtf8array:()=>Pe});var Se=de("./src/utils/numeric-encoding-utils.ts");function Pe(xe){return Uint8Array.from(unescape(encodeURIComponent(xe)),function(Oe){return Oe.charCodeAt(0)})}},"./src/utils/logger.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{enableLogs:()=>function(Fe,ye){if(self.console&&Fe===!0||typeof Fe=="object"){(function(Ne){for(var ee=arguments.length,se=new Array(1<ee?ee-1:0),he=1;he<ee;he++)se[he-1]=arguments[he];se.forEach(function(ce){var Ae;xe[ce]=Ne[ce]?Ne[ce].bind(Ne):(ce=ce,(Ae=self.console[ce])?Ae.bind(self.console,"["+ce+"] >"):Se)})})(Fe,"debug","log","info","warn","error");try{xe.log('Debug logs enabled for "'+ye+'"')}catch{xe=Pe}}else xe=Pe},logger:()=>Oe});function Se(){}var Pe={trace:Se,debug:Se,log:Se,warn:Se,info:Se,error:Se},xe=Pe,Oe=Pe},"./src/utils/mediakeys-helper.ts":(_e,fe,de)=>{var Se,Pe,xe;de.r(fe),de.d(fe,{KeySystemFormats:()=>Pe,KeySystemIds:()=>xe,KeySystems:()=>Se,getKeySystemsForConfig:()=>function(Ne){var ye=Ne.drmSystems,Ne=Ne.widevineLicenseUrl,ee=ye?[Se.FAIRPLAY,Se.WIDEVINE,Se.PLAYREADY,Se.CLEARKEY].filter(function(se){return!!ye[se]}):[];return!ee[Se.WIDEVINE]&&Ne&&ee.push(Se.WIDEVINE),ee},getSupportedMediaKeySystemConfigurations:()=>function(Fe,ye,Ne,ee){var se;switch(Fe){case Se.FAIRPLAY:se=["cenc","sinf"];break;case Se.WIDEVINE:case Se.PLAYREADY:se=["cenc"];break;case Se.CLEARKEY:se=["cenc","keyids"];break;default:throw new Error("Unknown key-system: "+Fe)}var he=ee;return[{initDataTypes:se,persistentState:he.persistentState||"not-allowed",distinctiveIdentifier:he.distinctiveIdentifier||"not-allowed",sessionTypes:he.sessionTypes||[he.sessionType||"temporary"],audioCapabilities:ye.map(function(ce){return{contentType:'audio/mp4; codecs="'+ce+'"',robustness:he.audioRobustness||"",encryptionScheme:he.audioEncryptionScheme||null}}),videoCapabilities:Ne.map(function(ce){return{contentType:'video/mp4; codecs="'+ce+'"',robustness:he.videoRobustness||"",encryptionScheme:he.videoEncryptionScheme||null}})}]},keySystemDomainToKeySystemFormat:()=>function(Fe){switch(Fe){case Se.FAIRPLAY:return Pe.FAIRPLAY;case Se.PLAYREADY:return Pe.PLAYREADY;case Se.WIDEVINE:return Pe.WIDEVINE;case Se.CLEARKEY:return Pe.CLEARKEY}},keySystemFormatToKeySystemDomain:()=>function(Fe){switch(Fe){case Pe.FAIRPLAY:return Se.FAIRPLAY;case Pe.PLAYREADY:return Se.PLAYREADY;case Pe.WIDEVINE:return Se.WIDEVINE;case Pe.CLEARKEY:return Se.CLEARKEY}},keySystemIdToKeySystemDomain:()=>function(Fe){if(Fe===xe.WIDEVINE)return Se.WIDEVINE},requestMediaKeySystemAccess:()=>Oe}),(de=Se=Se||{}).CLEARKEY="org.w3.clearkey",de.FAIRPLAY="com.apple.fps",de.PLAYREADY="com.microsoft.playready",de.WIDEVINE="com.widevine.alpha",(fe=Pe=Pe||{}).CLEARKEY="org.w3.clearkey",fe.FAIRPLAY="com.apple.streamingkeydelivery",fe.PLAYREADY="com.microsoft.playready",fe.WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",(xe=xe||{}).WIDEVINE="edef8ba979d64acea3c827dcd51d21ed";var Oe=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{getMediaSource:()=>function(){return self.MediaSource||self.WebKitMediaSource}})},"./src/utils/mp4-tools.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{RemuxerTrackIdConfig:()=>ee,appendUint8Array:()=>function(Ke,t0){var Re=new Uint8Array(Ke.length+t0.length);return Re.set(Ke),Re.set(t0,Ke.length),Re},bin2str:()=>se,computeRawDurationFromSamples:()=>$e,discardEPB:()=>De,findBox:()=>Ee,getDuration:()=>function(Ke,t0){for(var Re=0,Ze=0,i0=0,e0=Ee(Ke,["moof","traf"]),a0=0;a0<e0.length;a0++){var n0=e0[a0],Me=Ee(n0,["tfhd"])[0],Xe=t0[ce(Me,4)];if(Xe){var c0=Xe.default,h0=ce(Me,0)|c0?.flags,w0=c0?.duration;8&h0&&(w0=ce(Me,2&h0?12:8));for(var C0=Xe.timescale||9e4,q0=Ee(n0,["trun"]),K0=0;K0<q0.length;K0++)!(Re=$e(q0[K0]))&&w0&&(Re=w0*ce(q0[K0],4)),Xe.type===Se.ElementaryStreamTypes.VIDEO?Ze+=Re/C0:Xe.type===Se.ElementaryStreamTypes.AUDIO&&(i0+=Re/C0)}}if(Ze!==0||i0!==0)return Ze||i0;for(var U0=0,st=Ee(Ke,["sidx"]),ht=0;ht<st.length;ht++){var Dt=je(st[ht]);Dt!=null&&Dt.references&&(U0+=Dt.references.reduce(function(gt,j0){return gt+j0.info.duration||0},0))}return U0},getStartDTS:()=>function(Ke,t0){return Ee(t0,["moof","traf"]).reduce(function(Re,a0){var i0=Ee(a0,["tfdt"])[0],e0=i0[0],a0=Ee(a0,["tfhd"]).reduce(function(n0,Me){if(Me=ce(Me,4),Me=Ke[Me],Me){var Xe=ce(i0,4),Xe=(Xe=e0===1?(Xe*=Math.pow(2,32))+ce(i0,8):Xe)/(Me.timescale||9e4);if(isFinite(Xe)&&(n0===null||Xe<n0))return Xe}return n0},null);return a0!==null&&isFinite(a0)&&(Re===null||a0<Re)?a0:Re},null)||0},mp4Box:()=>Ue,mp4pssh:()=>function(Ke,t0,Re){if(Ke.byteLength!==16)throw new RangeError("Invalid system id");var Ze,i0,e0;if(t0){Ze=1,i0=new Uint8Array(16*t0.length);for(var a0=0;a0<t0.length;a0++){var n0=t0[a0];if(n0.byteLength!==16)throw new RangeError("Invalid key");i0.set(n0,16*a0)}}else Ze=0,i0=new Uint8Array;0<Ze?(e0=new Uint8Array(4),0<t0.length&&new DataView(e0.buffer).setUint32(0,t0.length,!1)):e0=new Uint8Array;var Me=new Uint8Array(4);return Re&&0<Re.byteLength&&new DataView(Me.buffer).setUint32(0,Re.byteLength,!1),Ue([112,115,115,104],new Uint8Array([Ze,0,0,0]),Ke,e0,i0,Me,Re||new Uint8Array)},offsetStartDTS:()=>function(Ke,t0,Re){Ee(t0,["moof","traf"]).forEach(function(Ze){Ee(Ze,["tfhd"]).forEach(function(a0){var e0,a0=ce(a0,4),a0=Ke[a0];a0&&(e0=a0.timescale||9e4,Ee(Ze,["tfdt"]).forEach(function(n0){var Me=n0[0],Xe=ce(n0,4);Me===0?(Xe-=Re*e0,ke(n0,4,Xe=Math.max(Xe,0))):(Xe=(Xe=(Xe*=Math.pow(2,32))+ce(n0,8))-Re*e0,Xe=Math.max(Xe,0),Me=Math.floor(Xe/(ye+1)),Xe=Math.floor(Xe%(ye+1)),ke(n0,4,Me),ke(n0,8,Xe))}))})})},parseEmsg:()=>function(Ke){var t0=Ke[0],Re="",Ze="",i0=0,e0=0,a0=0,n0=0,Me=0,Xe=0;if(t0===0){for(;se(Ke.subarray(Xe,Xe+1))!=="\0";)Re+=se(Ke.subarray(Xe,Xe+1)),Xe+=1;for(Re+=se(Ke.subarray(Xe,Xe+1)),Xe+=1;se(Ke.subarray(Xe,Xe+1))!=="\0";)Ze+=se(Ke.subarray(Xe,Xe+1)),Xe+=1;Ze+=se(Ke.subarray(Xe,Xe+1)),Xe+=1,i0=ce(Ke,12),e0=ce(Ke,16),n0=ce(Ke,20),Me=ce(Ke,24),Xe=28}else if(t0===1){i0=ce(Ke,Xe+=4);var t0=ce(Ke,Xe+=4),c0=ce(Ke,Xe+=4);for(Xe+=4,a0=Math.pow(2,32)*t0+c0,Number.isSafeInteger(a0)||(a0=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),n0=ce(Ke,Xe),Me=ce(Ke,Xe+=4),Xe+=4;se(Ke.subarray(Xe,Xe+1))!=="\0";)Re+=se(Ke.subarray(Xe,Xe+1)),Xe+=1;for(Re+=se(Ke.subarray(Xe,Xe+1)),Xe+=1;se(Ke.subarray(Xe,Xe+1))!=="\0";)Ze+=se(Ke.subarray(Xe,Xe+1)),Xe+=1;Ze+=se(Ke.subarray(Xe,Xe+1)),Xe+=1}return{schemeIdUri:Re,value:Ze,timeScale:i0,presentationTime:a0,presentationTimeDelta:e0,eventDuration:n0,id:Me,payload:Ke.subarray(Xe,Ke.byteLength)}},parseInitSegment:()=>function(Ke){for(var t0=[],Re=Ee(Ke,["moov","trak"]),Ze=0;Ze<Re.length;Ze++){var i0,e0,a0,n0=Re[Ze],Me=Ee(n0,["tkhd"])[0];Me&&(e0=Me[0],Me=ce(Me,e0===0?12:20),i0=Ee(n0,["mdia","mdhd"])[0])&&(i0=ce(i0,(e0=i0[0])===0?12:20),e0=Ee(n0,["mdia","hdlr"])[0])&&(e0=se(e0.subarray(8,12)),e0={soun:Se.ElementaryStreamTypes.AUDIO,vide:Se.ElementaryStreamTypes.VIDEO}[e0])&&(n0=Ee(n0,["mdia","minf","stbl","stsd"])[0],a0=void 0,n0&&(a0=se(n0.subarray(12,16))),t0[Me]={timescale:i0,type:e0},t0[e0]={timescale:i0,id:Me,codec:a0})}return Ee(Ke,["moov","mvex","trex"]).forEach(function(Xe){var c0=ce(Xe,4),c0=t0[c0];c0&&(c0.default={duration:ce(Xe,12),flags:ce(Xe,20)})}),t0},parsePssh:()=>function(Ke){if(!(Ke instanceof ArrayBuffer)||Ke.byteLength<32)return null;var t0={version:0,systemId:"",kids:null,data:null},Re=new DataView(Ke),Ze=Re.getUint32(0);if(Ke.byteLength!==Ze&&44<Ze||Re.getUint32(4)!==1886614376||(t0.version=Re.getUint32(8)>>>24,1<t0.version))return null;t0.systemId=Fe.default.hexDump(new Uint8Array(Ke,12,16));var i0=Re.getUint32(28);if(t0.version===0){if(Ze-32<i0)return null;t0.data=new Uint8Array(Ke,32,i0)}else if(t0.version===1){t0.kids=[];for(var e0=0;e0<i0;e0++)t0.kids.push(new Uint8Array(Ke,32+16*e0,16))}return t0},parseSEIMessageFromNALu:()=>Ie,parseSamples:()=>function(Ke,t0){var Re=[],Ze=t0.samples,i0=t0.timescale,e0=t0.id,a0=!1;return Ee(Ze,["moof"]).map(function(n0){var Me=n0.byteOffset-8;Ee(n0,["traf"]).map(function(Xe){var c0=Ee(Xe,["tfdt"]).map(function(h0){var w0=h0[0],C0=ce(h0,4);return(C0=w0===1?(C0*=Math.pow(2,32))+ce(h0,8):C0)/i0})[0];return c0!==void 0&&(Ke=c0),Ee(Xe,["tfhd"]).map(function(h0){var w0=ce(h0,4),C0=16777215&ce(h0,0),q0=0,K0=0,U0=8;w0===e0&&((1&C0)!=0&&(U0+=8),(2&C0)!=0&&(U0+=4),(8&C0)!=0&&(q0=ce(h0,U0),U0+=4),(16&C0)!=0&&(K0=ce(h0,U0),U0+=4),(32&C0)!=0&&(U0+=4),t0.type==="video"&&(w0=t0.codec,a0=!!w0&&((w0=(h0=w0.indexOf("."))<0?w0:w0.substring(0,h0))==="hvc1"||w0==="hev1"||w0==="dvh1"||w0==="dvhe")),Ee(Xe,["trun"]).map(function(st){var ht=st[0],Dt=16777215&ce(st,0),gt=0,j0=(256&Dt)!=0,ft=0,Rt=(512&Dt)!=0,Et=0,Nt=(1024&Dt)!=0,mi=(2048&Dt)!=0,li=0,Yt=ce(st,4),gi=8;(1&Dt)!=0&&(gt=ce(st,gi),gi+=4),(4&Dt)!=0&&(gi+=4);for(var yi=gt+Me,Fi=0;Fi<Yt;Fi++){if(j0?(ft=ce(st,gi),gi+=4):ft=q0,Rt?(Et=ce(st,gi),gi+=4):Et=K0,Nt&&(gi+=4),mi&&(li=(ht===0?ce:Ae)(st,gi),gi+=4),t0.type===Se.ElementaryStreamTypes.VIDEO)for(var ii=0;ii<Et;){var Ft=ce(Ze,yi);!(function(Mi,Vi){return Mi?(Mi=Vi>>1&63)==39||Mi==40:(31&Vi)==6})(a0,Ze[yi+=4])||Ie(Ze.subarray(yi,yi+Ft),a0?2:1,Ke+li/i0,Re),yi+=Ft,ii+=Ft+4}Ke+=ft/i0}}))})})}),Re},parseSegmentIndex:()=>je,parseSinf:()=>Le,patchEncyptionData:()=>function(Ke,t0){var Re;return Ke&&t0&&(Re=t0.keyId)&&t0.isCommonEncryption&&Ee(Ke,["moov","trak"]).forEach(function(i0){var i0=Ee(i0,["mdia","minf","stbl","stsd"])[0].subarray(8),e0=Ee(i0,["enca"]),a0=0<e0.length;(e0=a0?e0:Ee(i0,["encv"])).forEach(function(n0){Ee(a0?n0.subarray(28):n0.subarray(78),["sinf"]).forEach(function(c0){var Xe,c0=Le(c0);c0&&!(Xe=c0.subarray(8,24)).some(function(h0){return h0!==0})&&(Oe.logger.log("[eme] Patching keyId in 'enc"+(a0?"a":"v")+">sinf>>tenc' box: "+Fe.default.hexDump(Xe)+" -> "+Fe.default.hexDump(Re)),c0.set(Re,8))})})}),Ke},readSint32:()=>Ae,readUint16:()=>he,readUint32:()=>ce,segmentValidRange:()=>function(Ke){var t0={valid:null,remainder:null},Re=Ee(Ke,["moof"]);return Re&&(Re.length<2?t0.remainder=Ke:(Re=Re[Re.length-1],t0.valid=(0,Pe.sliceUint8)(Ke,0,Re.byteOffset-8),t0.remainder=(0,Pe.sliceUint8)(Ke,Re.byteOffset-8))),t0},writeUint32:()=>ke});var Se=de("./src/loader/fragment.ts"),Pe=de("./src/utils/typed-array.ts"),xe=de("./src/demux/id3.ts"),Oe=de("./src/utils/logger.ts"),Fe=de("./src/utils/hex.ts"),ye=Math.pow(2,32)-1,Ne=[].push,ee={video:1,audio:2,id3:3,text:4};function se(Ke){return String.fromCharCode.apply(null,Ke)}function he(Ke,t0){return Ke=Ke[t0]<<8|Ke[t0+1],Ke<0?65536+Ke:Ke}function ce(Ke,t0){return Ke=Ae(Ke,t0),Ke<0?4294967296+Ke:Ke}function Ae(Ke,t0){return Ke[t0]<<24|Ke[t0+1]<<16|Ke[t0+2]<<8|Ke[t0+3]}function ke(Ke,t0,Re){Ke[t0]=Re>>24,Ke[t0+1]=Re>>16&255,Ke[t0+2]=Re>>8&255,Ke[t0+3]=255&Re}function Ee(Ke,t0){var Re=[];if(t0.length)for(var Ze=Ke.byteLength,i0=0;i0<Ze;){var e0,a0=ce(Ke,i0),a0=1<a0?i0+a0:Ze;se(Ke.subarray(i0+4,i0+8))===t0[0]&&(t0.length===1?Re.push(Ke.subarray(i0+8,a0)):(e0=Ee(Ke.subarray(i0+8,a0),t0.slice(1))).length&&Ne.apply(Re,e0)),i0=a0}return Re}function je(Ke){var t0=[],Re=Ke[0],Ze=8,i0=ce(Ke,Ze),e0=Ke.length+0,a0=he(Ke,Ze=(Ze+=4)+(Re===0?8:16)+2);Ze+=2;for(var n0=0;n0<a0;n0++){var Me=Ze,Xe=ce(Ke,Me),c0=(Me+=4,2147483647&Xe);if((2147483648&Xe)>>>31==1)return console.warn("SIDX has hierarchical references (not supported)"),null;Xe=ce(Ke,Me),Me+=4,t0.push({referenceSize:c0,subsegmentDuration:Xe,info:{duration:Xe/i0,start:e0,end:e0+c0-1}}),e0+=c0,Ze=Me+=4}return{earliestPresentationTime:0,timescale:i0,version:Re,referencesCount:a0,references:t0}}function Le(Ke){var t0=Ee(Ke,["schm"])[0];return t0&&(t0=se(t0.subarray(4,8)),t0==="cbcs"||t0==="cenc")?Ee(Ke,["schi","tenc"])[0]:(Oe.logger.error("[eme] missing 'schm' box"),null)}function $e(Ke){var t0=ce(Ke,0),Re=8;1&t0&&(Re+=4),4&t0&&(Re+=4);for(var Ze=0,i0=ce(Ke,4),e0=0;e0<i0;e0++)256&t0&&(Ze+=ce(Ke,Re),Re+=4),512&t0&&(Re+=4),1024&t0&&(Re+=4),2048&t0&&(Re+=4);return Ze}function Ie(Ke,t0,Re,Ze){var i0=De(Ke),e0=0;e0+=t0;for(var a0=0,n0=0,Me=!1,Xe=0;e0<i0.length;){for(a0=0;!(e0>=i0.length)&&(a0+=Xe=i0[e0++],Xe===255););for(n0=0;!(e0>=i0.length)&&(n0+=Xe=i0[e0++],Xe===255););var c0=i0.length-e0;if(!Me&&a0===4&&e0<i0.length){if(Me=!0,i0[e0++]===181){var h0=he(i0,e0);if(e0+=2,h0===49&&(h0=ce(i0,e0),e0+=4,h0===1195456820&&(h0=i0[e0++],h0===3))){var w0=i0[e0++],C0=64&w0,q0=C0?2+3*(31&w0):0,K0=new Uint8Array(q0);if(C0){K0[0]=w0;for(var U0=1;U0<q0;U0++)K0[U0]=i0[e0++]}Ze.push({type:h0,payloadType:a0,pts:Re,bytes:K0})}}}else if(a0===5&&n0<c0){if(Me=!0,16<n0){for(var st=[],ht=0;ht<16;ht++){var Dt=i0[e0++].toString(16);st.push(Dt.length==1?"0"+Dt:Dt),ht!==3&&ht!==5&&ht!==7&&ht!==9||st.push("-")}for(var gt=n0-16,j0=new Uint8Array(gt),ft=0;ft<gt;ft++)j0[ft]=i0[e0++];Ze.push({payloadType:a0,pts:Re,uuid:st.join(""),userData:(0,xe.utf8ArrayToStr)(j0),userDataBytes:j0})}}else if(n0<c0)e0+=n0;else if(c0<n0)break}}function De(Ke){for(var t0=Ke.byteLength,Re=[],Ze=1;Ze<t0-2;)Ke[Ze]===0&&Ke[Ze+1]===0&&Ke[Ze+2]===3?(Re.push(Ze+2),Ze+=2):Ze++;if(Re.length===0)return Ke;for(var i0=t0-Re.length,e0=new Uint8Array(i0),a0=0,Ze=0;Ze<i0;a0++,Ze++)a0===Re[0]&&(a0++,Re.shift()),e0[Ze]=Ke[a0];return e0}function Ue(Ke){for(var t0=arguments.length,Re=new Array(1<t0?t0-1:0),Ze=1;Ze<t0;Ze++)Re[Ze-1]=arguments[Ze];for(var i0=Re.length,e0=8,a0=i0;a0--;)e0+=Re[a0].byteLength;var n0=new Uint8Array(e0);for(n0[0]=e0>>24&255,n0[1]=e0>>16&255,n0[2]=e0>>8&255,n0[3]=255&e0,n0.set(Ke,4),a0=0,e0=8;a0<i0;a0++)n0.set(Re[a0],e0),e0+=Re[a0].byteLength;return n0}},"./src/utils/numeric-encoding-utils.ts":(_e,fe,de)=>{function Se(xe){return xe.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Pe(xe){return btoa(String.fromCharCode.apply(String,xe))}de.r(fe),de.d(fe,{base64Decode:()=>function(xe){return Uint8Array.from(atob(xe),function(Oe){return Oe.charCodeAt(0)})},base64DecodeToStr:()=>function(xe){return atob(xe)},base64Encode:()=>Pe,base64ToBase64Url:()=>Se,base64UrlEncode:()=>function(xe){return Se(Pe(xe))},strToBase64Encode:()=>function(xe){return btoa(xe)}})},"./src/utils/output-filter.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Se}),(de=Pe.prototype).dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},de.newCue=function(xe,Oe,Fe){(this.startTime===null||this.startTime>xe)&&(this.startTime=xe),this.endTime=Oe,this.screen=Fe,this.timelineController.createCaptionsTrack(this.trackName)},de.reset=function(){this.cueRanges=[],this.startTime=null};var Se=Pe;function Pe(xe,Oe){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=xe,this.trackName=Oe}},"./src/utils/texttrack-utils.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{addCueToTrack:()=>function(xe,Oe){var Fe=xe.mode;if(Fe==="disabled"&&(xe.mode="hidden"),xe.cues&&!xe.cues.getCueById(Oe.id))try{if(xe.addCue(Oe),!xe.cues.getCueById(Oe.id))throw new Error("addCue is failed for: "+Oe)}catch(Ne){Se.logger.debug("[texttrack-utils]: "+Ne);var ye=new self.TextTrackCue(Oe.startTime,Oe.endTime,Oe.text);ye.id=Oe.id,xe.addCue(ye)}Fe==="disabled"&&(xe.mode=Fe)},clearCurrentCues:()=>function(xe){var Oe=xe.mode;if(Oe==="disabled"&&(xe.mode="hidden"),xe.cues)for(var Fe=xe.cues.length;Fe--;)xe.removeCue(xe.cues[Fe]);Oe==="disabled"&&(xe.mode=Oe)},getCuesInRange:()=>Pe,removeCuesInRange:()=>function(xe,Oe,Fe,ye){var Ne=xe.mode;if(Ne==="disabled"&&(xe.mode="hidden"),xe.cues&&0<xe.cues.length)for(var ee=Pe(xe.cues,Oe,Fe),se=0;se<ee.length;se++)ye&&!ye(ee[se])||xe.removeCue(ee[se]);Ne==="disabled"&&(xe.mode=Ne)},sendAddTrackEvent:()=>function(xe,Oe){var Fe;try{Fe=new Event("addtrack")}catch{(Fe=document.createEvent("Event")).initEvent("addtrack",!1,!1)}Fe.track=xe,Oe.dispatchEvent(Fe)}});var Se=de("./src/utils/logger.ts");function Pe(xe,Oe,Fe){var ye=[],Ne=(function(ce,Ae){if(Ae<ce[0].startTime)return 0;var ke=ce.length-1;if(Ae>ce[ke].endTime)return-1;for(var Ee=0,je=ke;Ee<=je;){var Le=Math.floor((je+Ee)/2);if(Ae<ce[Le].startTime)je=Le-1;else{if(!(Ae>ce[Le].startTime&&Ee<ke))return Le;Ee=Le+1}}return ce[Ee].startTime-Ae<Ae-ce[je].startTime?Ee:je})(xe,Oe);if(-1<Ne)for(var ee=Ne,se=xe.length;ee<se;ee++){var he=xe[ee];if(he.startTime>=Oe&&he.endTime<=Fe)ye.push(he);else if(he.startTime>Fe)return ye}return ye}},"./src/utils/time-ranges.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Se});const Se={toString:function(Pe){for(var xe="",Oe=Pe.length,Fe=0;Fe<Oe;Fe++)xe+="["+Pe.start(Fe).toFixed(3)+"-"+Pe.end(Fe).toFixed(3)+"]";return xe}}},"./src/utils/timescale-conversion.ts":(_e,fe,de)=>{function Se(Pe,xe,Oe,Fe){return Pe=Pe*xe*(Oe=Oe===void 0?1:Oe),(Fe=Fe===void 0?!1:Fe)?Math.round(Pe):Pe}de.r(fe),de.d(fe,{toMpegTsClockFromTimescale:()=>function(Pe,xe){return Se(Pe,9e4,1/(xe=xe===void 0?1:xe))},toMsFromMpegTsClock:()=>function(Pe,xe){return Se(Pe,1e3,1/9e4,xe=xe===void 0?!1:xe)},toTimescaleFromBase:()=>Se,toTimescaleFromScale:()=>function(Pe,xe,Oe,Fe){return Se(Pe,xe,1/(Oe=Oe===void 0?1:Oe),Fe=Fe===void 0?!1:Fe)}})},"./src/utils/typed-array.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{sliceUint8:()=>function(Se,Pe,xe){return Uint8Array.prototype.slice?Se.slice(Pe,xe):new Uint8Array(Array.prototype.slice.call(Se,Pe,xe))}})},"./src/utils/vttcue.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Se});const Se=typeof self<"u"&&self.VTTCue?self.VTTCue:(ye=["","lr","rl"],Ne=["start","middle","end","left","right"],Fe.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},Fe);function Pe(ee,se){return typeof se=="string"&&!!Array.isArray(ee)&&(se=se.toLowerCase(),!!~ee.indexOf(se))&&se}function xe(ee){return Pe(Ne,ee)}function Oe(ee){for(var se=arguments.length,he=new Array(1<se?se-1:0),ce=1;ce<se;ce++)he[ce-1]=arguments[ce];for(var Ae=1;Ae<arguments.length;Ae++){var ke,Ee=arguments[Ae];for(ke in Ee)ee[ke]=Ee[ke]}return ee}function Fe(ee,se,he){var ce=this,Ae={enumerable:!0},ke=(ce.hasBeenReset=!1,""),Ee=!1,je=ee,Le=se,$e=he,Ie=null,De="",Ue=!0,Ke="auto",t0="start",Re=50,Ze="middle",i0=50,e0="middle";Object.defineProperty(ce,"id",Oe({},Ae,{get:function(){return ke},set:function(a0){ke=""+a0}})),Object.defineProperty(ce,"pauseOnExit",Oe({},Ae,{get:function(){return Ee},set:function(a0){Ee=!!a0}})),Object.defineProperty(ce,"startTime",Oe({},Ae,{get:function(){return je},set:function(a0){if(typeof a0!="number")throw new TypeError("Start time must be set to a number.");je=a0,this.hasBeenReset=!0}})),Object.defineProperty(ce,"endTime",Oe({},Ae,{get:function(){return Le},set:function(a0){if(typeof a0!="number")throw new TypeError("End time must be set to a number.");Le=a0,this.hasBeenReset=!0}})),Object.defineProperty(ce,"text",Oe({},Ae,{get:function(){return $e},set:function(a0){$e=""+a0,this.hasBeenReset=!0}})),Object.defineProperty(ce,"region",Oe({},Ae,{get:function(){return Ie},set:function(a0){Ie=a0,this.hasBeenReset=!0}})),Object.defineProperty(ce,"vertical",Oe({},Ae,{get:function(){return De},set:function(a0){if(a0=Pe(ye,a0),a0===!1)throw new SyntaxError("An invalid or illegal string was specified.");De=a0,this.hasBeenReset=!0}})),Object.defineProperty(ce,"snapToLines",Oe({},Ae,{get:function(){return Ue},set:function(a0){Ue=!!a0,this.hasBeenReset=!0}})),Object.defineProperty(ce,"line",Oe({},Ae,{get:function(){return Ke},set:function(a0){if(typeof a0!="number"&&a0!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");Ke=a0,this.hasBeenReset=!0}})),Object.defineProperty(ce,"lineAlign",Oe({},Ae,{get:function(){return t0},set:function(a0){if(a0=xe(a0),!a0)throw new SyntaxError("An invalid or illegal string was specified.");t0=a0,this.hasBeenReset=!0}})),Object.defineProperty(ce,"position",Oe({},Ae,{get:function(){return Re},set:function(a0){if(a0<0||100<a0)throw new Error("Position must be between 0 and 100.");Re=a0,this.hasBeenReset=!0}})),Object.defineProperty(ce,"positionAlign",Oe({},Ae,{get:function(){return Ze},set:function(a0){if(a0=xe(a0),!a0)throw new SyntaxError("An invalid or illegal string was specified.");Ze=a0,this.hasBeenReset=!0}})),Object.defineProperty(ce,"size",Oe({},Ae,{get:function(){return i0},set:function(a0){if(a0<0||100<a0)throw new Error("Size must be between 0 and 100.");i0=a0,this.hasBeenReset=!0}})),Object.defineProperty(ce,"align",Oe({},Ae,{get:function(){return e0},set:function(a0){if(a0=xe(a0),!a0)throw new SyntaxError("An invalid or illegal string was specified.");e0=a0,this.hasBeenReset=!0}})),ce.displayState=void 0}var ye,Ne},"./src/utils/vttparser.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{VTTParser:()=>ce,fixLineBreaks:()=>he,parseTimeStamp:()=>Oe});var Se=de("./src/utils/vttcue.ts"),Pe=(xe.prototype.decode=function(ke,Ee){if(!ke)return"";if(typeof ke!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(ke))},xe);function xe(){}function Oe(ke){function Ee(je,Le,$e,Ie){return 3600*(0|je)+60*(0|Le)+(0|$e)+parseFloat(Ie||0)}return ke=ke.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/),ke?59<parseFloat(ke[2])?Ee(ke[2],ke[3],0,ke[4]):Ee(ke[1],ke[2],ke[3],ke[4]):null}(fe=ye.prototype).set=function(ke,Ee){this.get(ke)||Ee===""||(this.values[ke]=Ee)},fe.get=function(ke,Ee,je){return je?this.has(ke)?this.values[ke]:Ee[je]:this.has(ke)?this.values[ke]:Ee},fe.has=function(ke){return ke in this.values},fe.alt=function(ke,Ee,je){for(var Le=0;Le<je.length;++Le)if(Ee===je[Le]){this.set(ke,Ee);break}},fe.integer=function(ke,Ee){/^-?\d+$/.test(Ee)&&this.set(ke,parseInt(Ee,10))},fe.percent=function(ke,Ee){return/^([\d]{1,3})(\.[\d]*)?%$/.test(Ee)&&(Ee=parseFloat(Ee),0<=Ee&&Ee<=100)?(this.set(ke,Ee),!0):!1};var Fe=ye;function ye(){this.values=Object.create(null)}function Ne(ke,Ee,je,Le){var $e,Ie,De=Le?ke.split(Le):[ke];for($e in De)typeof De[$e]=="string"&&(Ie=De[$e].split(je)).length===2&&Ee(Ie[0],Ie[1])}var ee=new Se.default(0,0,""),se=ee.align==="middle"?"middle":"center";function he(ke){return ke.replace(/<br(?: \/)?>/gi,`
`)}(de=Ae.prototype).parse=function(ke){var Ee=this;function je(){for(var Ue=0,Ke=he(Ke=Ee.buffer);Ue<Ke.length&&Ke[Ue]!=="\r"&&Ke[Ue]!==`
`;)++Ue;var t0=Ke.slice(0,Ue);return Ke[Ue]==="\r"&&++Ue,Ke[Ue]===`
`&&++Ue,Ee.buffer=Ke.slice(Ue),t0}ke&&(Ee.buffer+=Ee.decoder.decode(ke,{stream:!0}));try{var Le="";if(Ee.state==="INITIAL"){if(!/\r\n|\n/.test(Ee.buffer))return this;var $e=(Le=je()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!$e||!$e[0])throw new Error("Malformed WebVTT signature.");Ee.state="HEADER"}for(var Ie=!1;Ee.buffer;){if(!/\r\n|\n/.test(Ee.buffer))return this;switch(Ie?Ie=!1:Le=je(),Ee.state){case"HEADER":/:/.test(Le)?Ne(Le,function(Ue,Ke){},/:/):Le||(Ee.state="ID");continue;case"NOTE":Le||(Ee.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(Le)){Ee.state="NOTE";break}if(!Le)continue;if(Ee.cue=new Se.default(0,0,""),Ee.state="CUE",Le.indexOf("-->")===-1){Ee.cue.id=Le;continue}case"CUE":if(!Ee.cue){Ee.state="BADCUE";continue}try{(function(Ue,Ke,t0){var Re,Ze,i0=Ue;function e0(){var n0=Oe(Ue);if(n0===null)throw new Error("Malformed timestamp: "+i0);return Ue=Ue.replace(/^[^\sa-zA-Z-]+/,""),n0}function a0(){Ue=Ue.replace(/^\s+/,"")}if(a0(),Ke.startTime=e0(),a0(),Ue.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+i0);Ue=Ue.slice(3),a0(),Ke.endTime=e0(),a0(),Re=Ue,Ke=Ke,Ze=new Fe,Ne(Re,function(n0,Me){var Xe;switch(n0){case"region":for(var c0=t0.length-1;0<=c0;c0--)if(t0[c0].id===Me){Ze.set(n0,t0[c0].region);break}break;case"vertical":Ze.alt(n0,Me,["rl","lr"]);break;case"line":Xe=Me.split(","),Ze.integer(n0,Xe[0]),Ze.percent(n0,Xe[0])&&Ze.set("snapToLines",!1),Ze.alt(n0,Xe[0],["auto"]),Xe.length===2&&Ze.alt("lineAlign",Xe[1],["start",se,"end"]);break;case"position":Xe=Me.split(","),Ze.percent(n0,Xe[0]),Xe.length===2&&Ze.alt("positionAlign",Xe[1],["start",se,"end","line-left","line-right","auto"]);break;case"size":Ze.percent(n0,Me);break;case"align":Ze.alt(n0,Me,["start",se,"end","left","right"])}},/:/,/\s/),Ke.region=Ze.get("region",null),Ke.vertical=Ze.get("vertical",""),(Re=Ze.get("line","auto"))==="auto"&&ee.line===-1&&(Re=-1),Ke.line=Re,Ke.lineAlign=Ze.get("lineAlign","start"),Ke.snapToLines=Ze.get("snapToLines",!0),Ke.size=Ze.get("size",100),Ke.align=Ze.get("align",se),(Re=Ze.get("position","auto"))==="auto"&&ee.position===50&&(Re=Ke.align==="start"||Ke.align==="left"?0:Ke.align==="end"||Ke.align==="right"?100:50),Ke.position=Re})(Le,Ee.cue,Ee.regionList)}catch{Ee.cue=null,Ee.state="BADCUE";continue}Ee.state="CUETEXT";continue;case"CUETEXT":var De=Le.indexOf("-->")!==-1;if(!Le||De&&(Ie=!0)){Ee.oncue&&Ee.cue&&Ee.oncue(Ee.cue),Ee.cue=null,Ee.state="ID";continue}if(Ee.cue===null)continue;Ee.cue.text&&(Ee.cue.text+=`
`),Ee.cue.text+=Le;continue;case"BADCUE":Le||(Ee.state="ID")}}}catch{Ee.state==="CUETEXT"&&Ee.cue&&Ee.oncue&&Ee.oncue(Ee.cue),Ee.cue=null,Ee.state=Ee.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},de.flush=function(){var ke=this;try{if(!ke.cue&&ke.state!=="HEADER"||(ke.buffer+=`

`,ke.parse()),ke.state==="INITIAL"||ke.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(Ee){ke.onparsingerror&&ke.onparsingerror(Ee)}return ke.onflush&&ke.onflush(),this};var ce=Ae;function Ae(){this.state="INITIAL",this.buffer="",this.decoder=new Pe,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}},"./src/utils/webvtt-parser.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{generateCueId:()=>se,parseWebVTT:()=>function(Ue,ce,Ae,ke,Ee,je,Le,$e){var Ie,De=new Pe.VTTParser,Ue=(0,xe.utf8ArrayToStr)(new Uint8Array(Ue)).trim().replace(ye,`
`).split(`
`),Ke=[],t0=(0,Oe.toMpegTsClockFromTimescale)(ce,Ae),Re="00:00.000",Ze=0,i0=0,e0=!0;De.oncue=function(a0){var n0=ke[Ee],Xe=ke.ccOffset,Me=(Ze-t0)/9e4,n0=(n0!=null&&n0.new&&(i0!==void 0?Xe=ke.ccOffset=n0.start:(function(c0,h0){var w0,C0=c0[Ee],q0=c0[C0.prevCC];if(!q0||!q0.new&&C0.new)return c0.ccOffset=c0.presentationOffset=C0.start,C0.new=!1;for(;(w0=q0)!=null&&w0.new;)c0.ccOffset+=C0.start-q0.start,C0.new=!1,q0=c0[(C0=q0).prevCC];c0.presentationOffset=h0})(ke,Me)),Me&&(Xe=Me-ke.presentationOffset),a0.endTime-a0.startTime),Me=(0,Fe.normalizePts)(9e4*(a0.startTime+Xe-i0),9e4*je)/9e4,Xe=(a0.startTime=Math.max(Me,0),a0.endTime=Math.max(Me+n0,0),a0.text.trim());a0.text=decodeURIComponent(encodeURIComponent(Xe)),a0.id||(a0.id=se(a0.startTime,a0.endTime,Xe)),0<a0.endTime&&Ke.push(a0)},De.onparsingerror=function(a0){Ie=a0},De.onflush=function(){Ie?$e(Ie):Le(Ke)},Ue.forEach(function(a0){if(e0){if(Ne(a0,"X-TIMESTAMP-MAP=")){e0=!1,a0.slice(16).split(",").forEach(function(n0){Ne(n0,"LOCAL:")?Re=n0.slice(6):Ne(n0,"MPEGTS:")&&(Ze=parseInt(n0.slice(7)))});try{i0=(function(n0){var Me=parseInt(n0.slice(-3)),Xe=parseInt(n0.slice(-6,-4)),c0=parseInt(n0.slice(-9,-7)),h0=9<n0.length?parseInt(n0.substring(0,n0.indexOf(":"))):0;if((0,Se.isFiniteNumber)(Me)&&(0,Se.isFiniteNumber)(Xe)&&(0,Se.isFiniteNumber)(c0)&&(0,Se.isFiniteNumber)(h0))return Me+1e3*Xe+6e4*c0+36e5*h0;throw Error("Malformed X-TIMESTAMP-MAP: Local:"+n0)})(Re)/1e3}catch(n0){Ie=n0}return}a0===""&&(e0=!1)}De.parse(a0+`
`)}),De.flush()}});var Se=de("./src/polyfills/number.ts"),Pe=de("./src/utils/vttparser.ts"),xe=de("./src/demux/id3.ts"),Oe=de("./src/utils/timescale-conversion.ts"),Fe=de("./src/remux/mp4-remuxer.ts"),ye=/\r\n|\n\r|\n|\r/g,Ne=function(he,ce,Ae){return he.slice(Ae=Ae===void 0?0:Ae,Ae+ce.length)===ce},ee=function(he){for(var ce=5381,Ae=he.length;Ae;)ce=33*ce^he.charCodeAt(--Ae);return(ce>>>0).toString()};function se(he,ce,Ae){return ee(he.toString())+ee(ce.toString())+ee(Ae)}},"./src/utils/xhr-loader.ts":(_e,fe,de)=>{de.r(fe),de.d(fe,{default:()=>Oe});var Se=de("./src/utils/logger.ts"),Pe=de("./src/loader/load-stats.ts"),xe=/^age:\s*[\d.]+\s*$/m;(fe=Fe.prototype).destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},fe.abortInternal=function(){var ye=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),ye&&(ye.onreadystatechange=null,ye.onprogress=null,ye.readyState!==4)&&(this.stats.aborted=!0,ye.abort())},fe.abort=function(){var ye;this.abortInternal(),(ye=this.callbacks)!=null&&ye.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},fe.load=function(ye,Ne,ee){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=ye,this.config=Ne,this.callbacks=ee,this.retryDelay=Ne.retryDelay,this.loadInternal()},fe.loadInternal=function(){var ye=this.config,Ne=this.context;if(ye){var ee=this.loader=new self.XMLHttpRequest,se=this.stats,se=(se.loading.first=0,se.loaded=0,this.xhrSetup);try{if(se)try{se(ee,Ne.url)}catch{ee.open("GET",Ne.url,!0),se(ee,Ne.url)}ee.readyState||ee.open("GET",Ne.url,!0);var he=this.context.headers;if(he)for(var ce in he)ee.setRequestHeader(ce,he[ce])}catch(Ae){return void this.callbacks.onError({code:ee.status,text:Ae.message},Ne,ee)}Ne.rangeEnd&&ee.setRequestHeader("Range","bytes="+Ne.rangeStart+"-"+(Ne.rangeEnd-1)),ee.onreadystatechange=this.readystatechange.bind(this),ee.onprogress=this.loadprogress.bind(this),ee.responseType=Ne.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),ye.timeout),ee.send()}},fe.readystatechange=function(){var ye,Ne,ee,se,he=this.context,ce=this.loader,Ae=this.stats;he&&ce&&(Ne=ce.readyState,ye=this.config,!Ae.aborted)&&2<=Ne&&(self.clearTimeout(this.requestTimeout),Ae.loading.first===0&&(Ae.loading.first=Math.max(self.performance.now(),Ae.loading.start)),Ne===4?(ce.onreadystatechange=null,ce.onprogress=null,Ne=ce.status,se=ce.responseType==="arraybuffer",200<=Ne&&Ne<300&&(se&&ce.response||ce.responseText!==null)?(Ae.loading.end=Math.max(self.performance.now(),Ae.loading.first),se=se?(ee=ce.response).byteLength:(ee=ce.responseText).length,Ae.loaded=Ae.total=se,this.callbacks&&((se=this.callbacks.onProgress)&&se(Ae,he,ee,ce),this.callbacks)&&(se={url:ce.responseURL,data:ee},this.callbacks.onSuccess(se,Ae,he,ce))):Ae.retry>=ye.maxRetry||400<=Ne&&Ne<499?(Se.logger.error(Ne+" while loading "+he.url),this.callbacks.onError({code:Ne,text:ce.statusText},he,ce)):(Se.logger.warn(Ne+" while loading "+he.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,ye.maxRetryDelay),Ae.retry++)):(self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),ye.timeout)))},fe.loadtimeout=function(){Se.logger.warn("timeout while loading "+this.context.url);var ye=this.callbacks;ye&&(this.abortInternal(),ye.onTimeout(this.stats,this.context,this.loader))},fe.loadprogress=function(ye){var Ne=this.stats;Ne.loaded=ye.loaded,ye.lengthComputable&&(Ne.total=ye.total)},fe.getCacheAge=function(){var ye,Ne=null;return Ne=this.loader&&xe.test(this.loader.getAllResponseHeaders())?(ye=this.loader.getResponseHeader("age"))?parseFloat(ye):null:Ne};const Oe=Fe;function Fe(ye){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=ye?ye.xhrSetup:null,this.stats=new Pe.LoadStats,this.retryDelay=0}},"./node_modules/eventemitter3/index.js":_e=>{var fe=Object.prototype.hasOwnProperty,de="~";function Se(){}function Pe(ye,Ne,ee){this.fn=ye,this.context=Ne,this.once=ee||!1}function xe(ye,Ne,ee,se,he){if(typeof ee!="function")throw new TypeError("The listener must be a function");return ee=new Pe(ee,se||ye,he),se=de?de+Ne:Ne,ye._events[se]?ye._events[se].fn?ye._events[se]=[ye._events[se],ee]:ye._events[se].push(ee):(ye._events[se]=ee,ye._eventsCount++),ye}function Oe(ye,Ne){--ye._eventsCount==0?ye._events=new Se:delete ye._events[Ne]}function Fe(){this._events=new Se,this._eventsCount=0}Object.create&&(Se.prototype=Object.create(null),new Se().__proto__||(de=!1)),Fe.prototype.eventNames=function(){var ye,Ne,ee=[];if(this._eventsCount===0)return ee;for(Ne in ye=this._events)fe.call(ye,Ne)&&ee.push(de?Ne.slice(1):Ne);return Object.getOwnPropertySymbols?ee.concat(Object.getOwnPropertySymbols(ye)):ee},Fe.prototype.listeners=function(Ne){var Ne=de?de+Ne:Ne,ee=this._events[Ne];if(!ee)return[];if(ee.fn)return[ee.fn];for(var se=0,he=ee.length,ce=new Array(he);se<he;se++)ce[se]=ee[se].fn;return ce},Fe.prototype.listenerCount=function(ye){return ye=de?de+ye:ye,ye=this._events[ye],ye?ye.fn?1:ye.length:0},Fe.prototype.emit=function(ye,Ne,ee,se,he,ce){var Ae=de?de+ye:ye;if(!this._events[Ae])return!1;var ke,Ee=this._events[Ae],je=arguments.length;if(Ee.fn){switch(Ee.once&&this.removeListener(ye,Ee.fn,void 0,!0),je){case 1:return Ee.fn.call(Ee.context),!0;case 2:return Ee.fn.call(Ee.context,Ne),!0;case 3:return Ee.fn.call(Ee.context,Ne,ee),!0;case 4:return Ee.fn.call(Ee.context,Ne,ee,se),!0;case 5:return Ee.fn.call(Ee.context,Ne,ee,se,he),!0;case 6:return Ee.fn.call(Ee.context,Ne,ee,se,he,ce),!0}for(Ie=1,ke=new Array(je-1);Ie<je;Ie++)ke[Ie-1]=arguments[Ie];Ee.fn.apply(Ee.context,ke)}else for(var Le,$e=Ee.length,Ie=0;Ie<$e;Ie++)switch(Ee[Ie].once&&this.removeListener(ye,Ee[Ie].fn,void 0,!0),je){case 1:Ee[Ie].fn.call(Ee[Ie].context);break;case 2:Ee[Ie].fn.call(Ee[Ie].context,Ne);break;case 3:Ee[Ie].fn.call(Ee[Ie].context,Ne,ee);break;case 4:Ee[Ie].fn.call(Ee[Ie].context,Ne,ee,se);break;default:if(!ke)for(Le=1,ke=new Array(je-1);Le<je;Le++)ke[Le-1]=arguments[Le];Ee[Ie].fn.apply(Ee[Ie].context,ke)}return!0},Fe.prototype.on=function(ye,Ne,ee){return xe(this,ye,Ne,ee,!1)},Fe.prototype.once=function(ye,Ne,ee){return xe(this,ye,Ne,ee,!0)},Fe.prototype.removeListener=function(ye,Ne,ee,se){if(ye=de?de+ye:ye,this._events[ye])if(Ne){var he=this._events[ye];if(he.fn)he.fn!==Ne||se&&!he.once||ee&&he.context!==ee||Oe(this,ye);else{for(var ce=0,Ae=[],ke=he.length;ce<ke;ce++)(he[ce].fn!==Ne||se&&!he[ce].once||ee&&he[ce].context!==ee)&&Ae.push(he[ce]);Ae.length?this._events[ye]=Ae.length===1?Ae[0]:Ae:Oe(this,ye)}}else Oe(this,ye);return this},Fe.prototype.removeAllListeners=function(ye){return ye?(ye=de?de+ye:ye,this._events[ye]&&Oe(this,ye)):(this._events=new Se,this._eventsCount=0),this},Fe.prototype.off=Fe.prototype.removeListener,Fe.prototype.addListener=Fe.prototype.on,Fe.prefixed=de,_e.exports=Fe.EventEmitter=Fe},"./node_modules/url-toolkit/src/url-toolkit.js":function(_e){var fe=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,de=/^(?=([^\/?#]*))\1([^]*)$/,Se=/(?:\/|^)\.(?=\/)/g,Pe=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,xe={buildAbsoluteURL:function(se,Fe,ye){if(ye=ye||{},se=se.trim(),!(Fe=Fe.trim())){if(!ye.alwaysNormalize)return se;var Ne=xe.parseURL(se);if(Ne)return Ne.path=xe.normalizePath(Ne.path),xe.buildURLFromParts(Ne);throw new Error("Error trying to parse base URL.")}if(Ne=xe.parseURL(Fe),!Ne)throw new Error("Error trying to parse relative URL.");if(Ne.scheme)return ye.alwaysNormalize?(Ne.path=xe.normalizePath(Ne.path),xe.buildURLFromParts(Ne)):Fe;if(Fe=xe.parseURL(se),!Fe)throw new Error("Error trying to parse base URL.");!Fe.netLoc&&Fe.path&&Fe.path[0]!=="/"&&(se=de.exec(Fe.path),Fe.netLoc=se[1],Fe.path=se[2]),Fe.netLoc&&!Fe.path&&(Fe.path="/");var ee,se={scheme:Fe.scheme,netLoc:Ne.netLoc,path:null,params:Ne.params,query:Ne.query,fragment:Ne.fragment};return Ne.netLoc||(se.netLoc=Fe.netLoc,Ne.path[0]==="/")||(Ne.path?(ee=(ee=Fe.path).substring(0,ee.lastIndexOf("/")+1)+Ne.path,se.path=xe.normalizePath(ee)):(se.path=Fe.path,Ne.params||(se.params=Fe.params,Ne.query)||(se.query=Fe.query))),se.path===null&&(se.path=ye.alwaysNormalize?xe.normalizePath(Ne.path):Ne.path),xe.buildURLFromParts(se)},parseURL:function(Oe){return Oe=fe.exec(Oe),Oe?{scheme:Oe[1]||"",netLoc:Oe[2]||"",path:Oe[3]||"",params:Oe[4]||"",query:Oe[5]||"",fragment:Oe[6]||""}:null},normalizePath:function(Oe){for(Oe=Oe.split("").reverse().join("").replace(Se,"");Oe.length!==(Oe=Oe.replace(Pe,"")).length;);return Oe.split("").reverse().join("")},buildURLFromParts:function(Oe){return Oe.scheme+Oe.netLoc+Oe.path+Oe.params+Oe.query+Oe.fragment}};_e.exports=xe}},we={},ie.m=ae,ie.n=_e=>{var fe=_e&&_e.__esModule?()=>_e.default:()=>_e;return ie.d(fe,{a:fe}),fe},ie.d=(_e,fe)=>{for(var de in fe)ie.o(fe,de)&&!ie.o(_e,de)&&Object.defineProperty(_e,de,{enumerable:!0,get:fe[de]})},ie.o=(_e,fe)=>Object.prototype.hasOwnProperty.call(_e,fe),ie.r=_e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_e,"__esModule",{value:!0})},ie("./src/hls.ts").default;function ie(_e){var fe=we[_e];return fe!==void 0||(fe=we[_e]={exports:{}},ae[_e].call(fe.exports,fe,fe.exports,ie)),fe.exports}var ae,we})())}))&&r1.__esModule&&Object.prototype.hasOwnProperty.call(r1,"default")?r1.default:r1;class t2 extends me{constructor(R){super(),(this.player=R)._opt,this.canVideoPlay=!1,this.$videoElement=null,this.canvasRenderInterval=null,this.bandwidthEstimateInterval=null,this.fpsInterval=null,this.hlsFps=0,this.hlsPrevFrams=0,this.isInitInfo=!1,this.eventsDestroy=[],B2()?(this.$videoElement=this.player.video.$videoElement,this.canVideoPlay=!0):zi.isSupported()?(this.$videoElement=this.player.video.$videoElement,this.hls=new zi({}),this._initHls(),this._bindEvents()):this.player.debug.error("HlsDecoder","init hls error ,not support "),this.player.debug.log("HlsDecoder","init")}destroy(){return new Promise((R,ie)=>{this.hls&&(this.hls.destroy(),this.hls=null),this.eventsDestroy.length&&(this.eventsDestroy.forEach(ae=>ae()),this.eventsDestroy=[]),this.isInitInfo=!1,this._stopCanvasRender(),this._stopBandwidthEstimateInterval(),this._stopFpsInterval(),this.$videoElement=null,this.hlsFps=0,this.player.debug.log("HlsDecoder","destroy"),setTimeout(()=>{R()},0)})}checkHlsBufferedDelay(){var R=this.$videoElement;let ie=0;var ae=R.buffered,ae=ae.length?ae.end(ae.length-1):0;return(ie=ae-R.currentTime)<0&&(this.player.debug.warn("HlsDecoder","checkHlsBufferedDelay result < 0",ie,ae,R.currentTime),ie=0),ie}getFps(){return this.hlsFps}_startCanvasRender(){this._stopCanvasRender(),this.canvasRenderInterval=setInterval(()=>{this.player.video.render({$video:this.$videoElement,ts:0})},40)}_stopCanvasRender(){this.canvasRenderInterval&&(clearInterval(this.canvasRenderInterval),this.canvasRenderInterval=null)}_startBandwidthEstimateInterval(){this._stopBandwidthEstimateInterval(),this.bandwidthEstimateInterval=setInterval(()=>{let R=0;this.hls.bandwidthEstimate&&(R=this.hls.bandwidthEstimate),this.player.emit(d0.kBps,(R/1024/8/10).toFixed(2))},1e3)}_stopBandwidthEstimateInterval(){this.bandwidthEstimateInterval&&(clearInterval(this.bandwidthEstimateInterval),this.bandwidthEstimateInterval=null)}_startFpsInterval(){this._stopCanvasRender(),this.fpsInterval=setInterval(()=>{var R=this.$videoElement.getVideoPlaybackQuality();this.hlsFps=R.totalVideoFrames-this.hlsPrevFrams,this.hlsPrevFrams=R.totalVideoFrames},1e3)}_stopFpsInterval(){this.fpsInterval&&(clearInterval(this.fpsInterval),this.fpsInterval=null)}_initHls(){this.player._opt.useCanvasRender&&(this.$videoElement=document.createElement("video"),this.$videoElement.muted=!0,M1()&&(this.$videoElement.style.position="absolute"),this.initVideoEvents()),this.hls.attachMedia(this.$videoElement)}_bindEvents(){const R=this.player,ie=this.player.events.proxy;this.hls;var ae=ie(this.$videoElement,T1,we=>{this.hls&&(we=parseInt(we.timeStamp,10),R.handleRender(),R.updateStats({ts:we,dts:we,fps:!0}),R.emit(d0.videoTimeUpdate,we))});this.eventsDestroy.push(ae),this._startBandwidthEstimateInterval(),this._startFpsInterval(),this.hls.on(zi.Events.ERROR,(we,_e)=>{if(_e.fatal)switch(_e.type){case zi.ErrorTypes.NETWORK_ERROR:this.player.debug.warn("HlsDecoder","fatal network error encountered, try to recover"),this.hls.startLoad();break;case zi.ErrorTypes.MEDIA_ERROR:this.player.debug.warn("HlsDecoder","fatal media error encountered, try to recover"),this.hls.recoverMediaError()}}),this.hls.on(zi.Events.MEDIA_ATTACHING,()=>{}),this.hls.on(zi.Events.MEDIA_ATTACHED,()=>{}),this.hls.on(zi.Events.MEDIA_DETACHING,()=>{}),this.hls.on(zi.Events.MEDIA_DETACHED,()=>{}),this.hls.on(zi.Events.BUFFER_RESET,()=>{}),this.hls.on(zi.Events.BUFFER_CODECS,()=>{}),this.hls.on(zi.Events.BUFFER_CREATED,()=>{}),this.hls.on(zi.Events.BUFFER_APPENDING,(we,_e)=>{this.player.debug.log("HlsDecoder","BUFFER_APPENDING",_e)}),this.hls.on(zi.Events.BUFFER_APPENDED,()=>{}),this.hls.on(zi.Events.BUFFER_EOS,()=>{}),this.hls.on(zi.Events.BUFFER_FLUSHING,()=>{}),this.hls.on(zi.Events.BUFFER_FLUSHED,()=>{}),this.hls.on(zi.Events.MANIFEST_LOADING,()=>{this.player.debug.log("HlsDecoder","MANIFEST_LOADING 开始加载playlist m3u8资源")}),this.hls.on(zi.Events.MANIFEST_LOADED,(we,_e)=>{this.player.debug.log("HlsDecoder","MANIFEST_LOADED playlist m3u8文件加载完成",_e)}),this.hls.on(zi.Events.MANIFEST_PARSED,()=>{this.player.debug.log("HlsDecoder","MANIFEST_PARSED playlist m3u8解析完成"),R._times.demuxStart||(R._times.demuxStart=_i())}),this.hls.on(zi.Events.LEVEL_LOADING,()=>{}),this.hls.on(zi.Events.LEVEL_LOADED,(we,_e)=>{}),this.hls.on(zi.Events.FRAG_LOADING,()=>{}),this.hls.on(zi.Events.FRAG_LOADED,(we,_e)=>{R._times.decodeStart||(R._times.decodeStart=_i())}),this.hls.on(zi.Events.BUFFER_APPENDING,()=>{R._times.videoStart||(R._times.videoStart=_i(),R.handlePlayToRenderTimes())}),this.hls.on(zi.Events.FRAG_DECRYPTED,()=>{}),this.hls.on(zi.Events.KEY_LOADING,()=>{}),this.hls.on(zi.Events.KEY_LOADING,()=>{}),this.hls.on(zi.Events.FPS_DROP,we=>{}),this.hls.on(zi.Events.FPS_DROP_LEVEL_CAPPING,we=>{}),this.hls.on(zi.Events.FRAG_PARSING_INIT_SEGMENT,(we,_e)=>{this.player.debug.log("HlsDecoder","FRAG_PARSING_INIT_SEGMENT",_e);const fe=!!(_e&&_e.tracks&&_e.tracks.audio),de=!!(_e&&_e.tracks&&_e.tracks.video);if(fe&&_e.tracks.audio){var Se=_e.tracks.audio;const xe=Se.metadata&&Se.metadata.channelCount?Se.metadata.channelCount:0,Oe=Se.codec;this.player.audio&&this.player.audio.updateAudioInfo({encType:Oe,channels:xe,sampleRate:44100})}var Pe;de&&_e.tracks.video&&(_e=(Se=_e.tracks.video).codec,Pe=Se.metadata&&Se.metadata.width?Se.metadata.width:0,Se=Se.metadata&&Se.metadata.height?Se.metadata.height:0,this.player.video)&&this.player.video.updateVideoInfo({encTypeCode:_e.indexOf("avc")!==-1?7:12,width:Pe,height:Se})})}initVideoPlay(R){this.player._opt.useCanvasRender&&(this.$videoElement=document.createElement("video"),this.initVideoEvents()),this.$videoElement.muted=!0,this.$videoElement.src=R}initRenderSize(){this.isInitInfo||(this.player.video.updateVideoInfo({width:this.$videoElement.videoWidth,height:this.$videoElement.videoHeight}),this.player.video.initCanvasViewSize(),this.isInitInfo=!0)}initVideoEvents(){var we=this.player.events.proxy,R=we(this.$videoElement,Wn,()=>{this.player.debug.log("HlsDecoder","video canplay"),this.$videoElement.play().then(()=>{this.player.debug.log("HlsDecoder","video play"),this._startCanvasRender(),this.initRenderSize()}).catch(_e=>{this.player.debug.warn("HlsDecoder","video play error ",_e)})}),ie=we(this.$videoElement,y2,()=>{this.player.debug.log("HlsDecoder","video waiting")}),ae=we(this.$videoElement,T1,_e=>{_e=parseInt(_e.timeStamp,10),this.player.handleRender(),this.player.updateStats({ts:_e}),this.player.emit(d0.videoTimeUpdate,_e),this.$videoElement.paused&&(this.player.debug.warn("HlsDecoder","video is paused and next try to replay"),this.$videoElement.play().then(()=>{this.player.debug.log("HlsDecoder","video is paused and replay success")}).catch(fe=>{this.player.debug.warn("HlsDecoder","video is paused and replay error ",fe)}))}),we=we(this.$videoElement,A2,()=>{this.player.debug.log("HlsDecoder","video playback Rate change",this.$videoElement&&this.$videoElement.playbackRate)});this.eventsDestroy.push(R,ie,ae,we)}loadSource(R){return new Promise((ie,ae)=>{this.canVideoPlay?(this.initVideoPlay(R),ie()):this.hls.on(zi.Events.MEDIA_ATTACHED,()=>{this.hls.loadSource(R),ie()})})}_handleUpdatePlaybackRate(){if(this.$videoElement){var R=this.$videoElement,we=(this.player._opt.videoBuffer+this.player._opt.videoBufferDelay)/1e3,ie=R.buffered,ie=(ie.length&&ie.start(0),ie.length?ie.end(ie.length-1):0);let _e=R.currentTime;var ae=ie-_e,we=Math.max(5,3+we),we=(we<ae?(this.player.debug.warn("HlsDecoder",`handleUpdatePlaybackRate and delay buffer is more than ${we} is ${ae} and new time is ${ie} `),R.currentTime=ie,_e=R.currentTime):ae<0&&this.player.debug.warn("HlsDecoder",`handleUpdatePlaybackRate and delay buffer is less than 0 is ${ae} and new time is `+ie),this._getPlaybackRate(ie-_e));R.playbackRate!==we&&(R.playbackRate=we)}}_getPlaybackRate(R){var ie=this.$videoElement,ae=this.player._opt.videoBuffer,we=ae+this.player._opt.videoBufferDelay;return R*=1e3,ie.playbackRate===1?we<R?1.2:1:R<=ae?1:ie.playbackRate}getDecodePlaybackRate(){let R=0;var ie=this.$videoElement;return R=ie?ie.playbackRate:R}}const c1="fetch",_l="arraybuffer",h1="real_time_speed",i2=Object.prototype.toString;function gn(Qe){if(i2.call(Qe)==="[object Object]")return(Qe=Object.getPrototypeOf(Qe))===null||Qe===Object.prototype}function r2(Qe){if(Qe&&Qe[0]!==null&&Qe[0]!==void 0&&(Qe[0]!==0||Qe[1]!==null&&Qe[1]!==void 0)){let R="bytes="+Qe[0]+"-";return Qe[1]&&(R+=Qe[1]),R}}function s2(Qe){return encodeURIComponent(Qe).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Z1(Qe,R){if(Qe){if(R){let ae;var ie=Object.keys(R).map(we=>{if((ae=R[we])!=null)return Array.isArray(ae)?we+="[]":ae=[ae],ae.map(_e=>{var fe=_e;return i2.call(fe)==="[object Date]"?_e=_e.toISOString():_e!==null&&typeof _e=="object"&&(_e=JSON.stringify(_e)),s2(we)+"="+s2(_e)}).join("&")}).filter(Boolean).join("&");if(ie){const we=Qe.indexOf("#");we!==-1&&(Qe=Qe.slice(0,we)),Qe+=(Qe.indexOf("?")===-1?"?":"&")+ie}}return Qe}}function n2(Qe,R,ie,ae,we,_e,fe,de,Se,Pe,xe){return we=we!=null?parseFloat(we):null,ae=parseInt(ae||"0",10),{data:Qe,done:R,option:{range:Se,vid:Pe,index:de,contentLength:ae=Number.isNaN(ae)?0:ae,age:we,startTime:_e,firstByteTime:fe,endTime:Date.now(),priOptions:xe},response:ie}}function a2(Qe,R){return Math.round(8*Qe*1e3/R/1024)}class ks extends Error{retryCount=0;isTimeout=!1;loaderType=c1;startTime=0;endTime=0;options={};constructor(R,ie,ae,we){super(we),this.url=R,this.request=ie,this.response=ae}}class o2 extends me{_abortController=null;_timeoutTimer=null;_reader=null;_response=null;_aborted=!1;_index=-1;_range=null;_receivedLength=0;_running=!1;_logger=null;_vid="";_onProcessMinLen=0;_onCancel=null;_priOptions=null;TAG_NAME="FetchLoader";constructor(R){super(),this.player=R}load(R){let{url:ie,vid:ae,timeout:we,responseType:_e,onProgress:fe,index:de,onTimeout:Se,onCancel:Pe,range:xe,transformResponse:Oe,request:Fe,params:ye,method:Ne,headers:ee,body:se,mode:he,credentials:ce,cache:Ae,redirect:ke,referrer:Ee,referrerPolicy:je,onProcessMinLen:Le,priOptions:$e}=R;this._aborted=!1,this._onProcessMinLen=Le,this._onCancel=Pe,this._abortController=typeof AbortController<"u"&&new AbortController,this._running=!0,this._index=de,this._range=xe||[0,0],this._vid=ae||ie,this._priOptions=$e||{};const Ie={method:Ne,headers:ee,body:se,mode:he,credentials:ce,cache:Ae,redirect:ke,referrer:Ee,referrerPolicy:je,signal:this._abortController?.signal};let De=!1;clearTimeout(this._timeoutTimer),ie=Z1(ie,ye),R=r2(xe),R&&(ee=Fe?Fe.headers:Ie.headers=Ie.headers||(Headers?new Headers:{}),Headers&&ee instanceof Headers?ee.append("Range",R):ee.Range=R),we&&(this._timeoutTimer=setTimeout(()=>{var Ke;De=!0,this.cancel(),Se&&((Ke=new ks(ie,Ie,null,"timeout")).isTimeout=!0,Se(Ke,{index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions}))},we));const Ue=Date.now();return(Zi(de)||Zi(xe))&&this.player.debug.log(this.TAG_NAME,"[fetch load start], index,",de,",range,",xe),new Promise((Ke,t0)=>{fetch(Fe||ie,Fe?void 0:Ie).then(async Re=>{if(clearTimeout(this._timeoutTimer),this._response=Re,!this._aborted&&this._running){if(!(Re=Oe&&Oe(Re,ie)||Re).ok)throw new ks(ie,Ie,Re,"bad network response");var Ze=Date.now();let i0;if(_e==="text")i0=await Re.text(),this._running=!1;else if(_e==="json")i0=await Re.json(),this._running=!1;else{if(fe)return this.resolve=Ke,this.reject=t0,void this._loadChunk(Re,fe,Ue,Ze);{i0=await Re.arrayBuffer(),i0=new Uint8Array(i0),this._running=!1;const e0=Date.now()-Ue,a0=a2(i0.byteLength,e0);this.emit(h1,{speed:a0,len:i0.byteLength,time:e0,vid:this._vid,index:this._index,range:this._range,priOptions:this._priOptions})}}(Zi(de)||Zi(xe))&&this.player.debug.log(this.TAG_NAME,"[fetch load end], index,",de,",range,",xe),Ke(n2(i0,!0,Re,Re.headers.get("Content-Length"),Re.headers.get("age"),Ue,Ze,de,xe,this._vid,this._priOptions))}}).catch(Re=>{clearTimeout(this._timeoutTimer),this._running=!1,this._aborted&&!De||((Re=Re instanceof ks?Re:new ks(ie,Ie,null,Re?.message)).startTime=Ue,Re.endTime=Date.now(),Re.isTimeout=De,Re.options={index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions},t0(Re))})})}async cancel(){if(!this._aborted){if(this._aborted=!0,this._running=!1,this._response){try{this._reader&&await this._reader.cancel()}catch{}this._response=this._reader=null}if(this._abortController){try{this._abortController.abort()}catch{}this._abortController=null}this._onCancel&&this._onCancel({index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions})}}_loadChunk(R,ie,ae,we){if(R.body&&R.body.getReader){0<this._onProcessMinLen&&(this._cache=new Uint8Array(2097152),this._writeIdx=0);const _e=this._reader=R.body.getReader();let fe,de,Se;const Pe=async()=>{de=Date.now();try{fe=await _e.read(),Se=Date.now()}catch(ye){return Se=Date.now(),void(this._aborted||(this._running=!1,ye.options={index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions},this.reject(ye)))}var xe=0<this._range?.length?this._range[0]:0,Oe=xe+this._receivedLength;if(this._aborted)this._running=!1,ie(void 0,!1,{range:[Oe,Oe],vid:this._vid,index:this._index,startTime:de,endTime:Se,st:ae,firstByteTime:we,priOptions:this._priOptions},R);else{var Fe=fe.value?fe.value.byteLength:0;let ye;if(this._receivedLength+=Fe,this.player.debug.log(this.TAG_NAME,"【fetchLoader,onProgress call】,task,",this._range,", start,",Oe,", end,",xe+this._receivedLength,", done,",fe.done),0<this._onProcessMinLen){if(this._writeIdx+Fe>=this._onProcessMinLen||fe.done)(ye=new Uint8Array(this._writeIdx+Fe)).set(this._cache.slice(0,this._writeIdx),0),0<Fe&&ye.set(fe.value,this._writeIdx),this._writeIdx=0,this.player.debug.log(this.TAG_NAME,"【fetchLoader,onProgress enough】,done,",fe.done,",len,",ye.byteLength,", writeIdx,",this._writeIdx);else if(0<Fe&&this._writeIdx+Fe<2097152)this._cache.set(fe.value,this._writeIdx),this._writeIdx+=Fe,this.player.debug.log(this.TAG_NAME,"【fetchLoader,onProgress cache】,len,",Fe,", writeIdx,",this._writeIdx);else if(0<Fe){const Ne=new Uint8Array(this._writeIdx+Fe+2048);this.player.debug.log(this.TAG_NAME,"【fetchLoader,onProgress extra start】,size,",this._writeIdx+Fe+2048,", datalen,",Fe,", writeIdx,",this._writeIdx),Ne.set(this._cache.slice(0,this._writeIdx),0),0<Fe&&Ne.set(fe.value,this._writeIdx),this._writeIdx+=Fe,delete this._cache,this._cache=Ne,this.player.debug.log(this.TAG_NAME,"【fetchLoader,onProgress extra end】,len,",Fe,", writeIdx,",this._writeIdx)}}else ye=fe.value;if((ye&&0<ye.byteLength||fe.done)&&ie(ye,fe.done,{range:[this._range[0]+this._receivedLength-(ye?ye.byteLength:0),this._range[0]+this._receivedLength],vid:this._vid,index:this._index,startTime:de,endTime:Se,st:ae,firstByteTime:we,priOptions:this._priOptions},R),fe.done){const Ne=Date.now()-ae,ee=a2(this._receivedLength,Ne);this.emit(h1,{speed:ee,len:this._receivedLength,time:Ne,vid:this._vid,index:this._index,range:this._range,priOptions:this._priOptions}),this._running=!1,this.player.debug.log(this.TAG_NAME,"[fetchLoader onProgress end],task,",this._range,",done,",fe.done),this.resolve(n2(fe,!0,R,R.headers.get("Content-Length"),R.headers.get("age"),ae,we,this._index,this._range,this._vid,this._priOptions))}else Pe()}};Pe()}else{this._running=!1;const _e=new ks(R.url,"",R,"onProgress of bad response.body.getReader");_e.options={index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions},this.reject(_e)}}get receiveLen(){return this._receivedLength}get running(){return this._running}set running(R){this._running=R}static isSupported(){return!(typeof fetch>"u")}}class Su{TAG_NAME="Task";constructor(R,ie,ae){this.promise=(function(){let we,_e;const fe=new Promise((de,Se)=>{we=de,_e=Se});return fe.used=!1,fe.resolve=function(){return fe.used=!0,we(...arguments)},fe.reject=function(){return fe.used=!0,_e(...arguments)},fe})(),this.alive=!!ie.onProgress,this._loaderType=R,this.player=ae,this._loader=new(R===c1&&window.fetch?o2:Eu)(ae),this._config=ie,this._retryCount=0,this._retryTimer=null,this._canceled=!1,this._retryCheckFunc=ie.retryCheckFunc}exec(){const{retry:R,retryDelay:ie,onRetryError:ae,transformError:we,..._e}=this._config,fe=async()=>{try{const de=await this._loader.load(_e);this.promise.resolve(de)}catch(de){if(this._loader.running=!1,this.player.debug.log(this.TAG_NAME,"[task request catch err]",de),!this._canceled){de.loaderType=this._loaderType,de.retryCount=this._retryCount;let Se=de,Pe=(we&&(Se=we(Se)||Se),ae&&0<this._retryCount&&ae(Se,this._retryCount,{index:_e.index,vid:_e.vid,range:_e.range,priOptions:_e.priOptions}),this._retryCount++,!0);(Pe=this._retryCheckFunc?this._retryCheckFunc(de):Pe)&&this._retryCount<=R?(clearTimeout(this._retryTimer),this.player.debug.log(this.TAG_NAME,"[task request setTimeout],retry",this._retryCount,",retry range,",_e.range),this._retryTimer=setTimeout(fe,ie)):this.promise.reject(Se)}}};return fe(),this.promise}async cancel(){return clearTimeout(this._retryTimer),this._canceled=!0,this._loader.running=!1,this._loader.cancel()}get running(){return this._loader&&this._loader.running}get loader(){return this._loader}}class Eu extends me{_xhr=null;_aborted=!1;_timeoutTimer=null;_range=null;_receivedLength=0;_url=null;_onProgress=null;_index=-1;_headers=null;_currentChunkSizeKB=384;_timeout=null;_xhr=null;_withCredentials=null;_startTime=-1;_loadCompleteResolve=null;_loadCompleteReject=null;_runing=!1;_logger=!1;_vid="";_responseType;_credentials;_method;_transformResponse;_firstRtt;_onCancel=null;_priOptions=null;TAG_NAME="XhrLoader";constructor(R){super(),this.player=R}load(R){clearTimeout(this._timeoutTimer),this._range=R.range,this._onProgress=R.onProgress,this._index=R.index,this._headers=R.headers,this._withCredentials=R.credentials==="include"||R.credentials==="same-origin",this._body=R.body||null,R.method&&(this._method=R.method),this._timeout=R.timeout||null,this._runing=!0,this._vid=R.vid||R.url,this._responseType=R.responseType,this._firstRtt=-1,this._onTimeout=R.onTimeout,this._onCancel=R.onCancel,this._request=R.request,this._priOptions=R.priOptions||{},this.player.debug.log(this.TAG_NAME,"【xhrLoader task】, range",this._range),this._url=Z1(R.url,R.params);const ie=Date.now();return new Promise((ae,we)=>{this._loadCompleteResolve=ae,this._loadCompleteReject=we,this._startLoad()}).catch(ae=>{if(clearTimeout(this._timeoutTimer),this._runing=!1,!this._aborted)throw(ae=ae instanceof ks?ae:new ks(this._url,this._request)).startTime=ie,ae.endTime=Date.now(),ae.options={index:this._index,vid:this._vid,priOptions:this._priOptions},ae})}_startLoad(){let R=null;if(this._responseType===_l&&this._range&&1<this._range.length)if(this._onProgress){this._firstRtt=-1;var ie=1024*this._currentChunkSizeKB,ae=this._range[0]+this._receivedLength;let we=this._range[1];ie<this._range[1]-ae&&(we=ae+ie),R=[ae,we],this.player.debug.log(this.TAG_NAME,"[xhr_loader->],tast :",this._range,", SubRange, ",R)}else R=this._range,this.player.debug.log(this.TAG_NAME,"[xhr_loader->],tast :",this._range,", allRange, ",R);this._internalOpen(R)}_internalOpen(R){try{this._startTime=Date.now();const ie=this._xhr=new XMLHttpRequest,ae=(ie.open(this._method||"GET",this._url,!0),ie.responseType=this._responseType,this._timeout&&(ie.timeout=this._timeout),ie.withCredentials=this._withCredentials,ie.onload=this._onLoad.bind(this),ie.onreadystatechange=this._onReadyStatechange.bind(this),ie.onerror=_e=>{this._running=!1,_e=new ks(this._url,this._request,_e?.currentTarget?.response,"xhr.onerror.status:"+_e?.currentTarget?.status+",statusText,"+_e?.currentTarget?.statusText),_e.options={index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions},this._loadCompleteReject(_e)},ie.ontimeout=_e=>{this.cancel();var fe=new ks(this._url,this._request,{status:408},"timeout");this._onTimeout&&(fe.isTimeout=!0,this._onTimeout(fe,{index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions})),fe.options={index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions},this._loadCompleteReject(fe)},this._headers||{}),we=r2(R);we&&(ae.Range=we),ae&&Object.keys(ae).forEach(_e=>{ie.setRequestHeader(_e,ae[_e])}),this.player.debug.log(this.TAG_NAME,"[xhr.send->] tast,",this._range,",load sub range, ",R),ie.send(this._body)}catch(ie){ie.options={index:this._index,range:R,vid:this._vid,priOptions:this._priOptions},this._loadCompleteReject(ie)}}_onReadyStatechange(R){R.target.readyState===2&&this._firstRtt<0&&(this._firstRtt=Date.now())}_onLoad(R){const ie=R.target.status;if(ie<200||299<ie){const Se=new ks(this._url,null,{...R.target.response,status:ie},"bad response,status:"+ie);return Se.options={index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions},this._loadCompleteReject(Se)}let ae,we=null,_e=!1;var fe=0<this._range?.length?this._range[0]:0;if(this._responseType===_l){const Se=new Uint8Array(R.target.response);if(ae=fe+this._receivedLength,Se&&0<Se.byteLength){this._receivedLength+=Se.byteLength;const Pe=Date.now()-this._startTime,xe=a2(this._receivedLength,Pe);this.emit(h1,{speed:xe,len:this._receivedLength,time:Pe,vid:this._vid,index:this._index,range:[ae,fe+this._receivedLength],priOptions:this._priOptions})}we=Se,_e=!(1<this._range?.length&&this._range[1]&&this._receivedLength<this._range[1]-this._range[0]),this.player.debug.log(this.TAG_NAME,"[xhr load done->], tast :",this._range,", start",ae,"end ",fe+this._receivedLength,",dataLen,",Se?Se.byteLength:0,",receivedLength",this._receivedLength,",index,",this._index,", done,",_e)}else _e=!0,we=R.target.response;let de={ok:200<=ie&&ie<300,status:ie,statusText:this._xhr.statusText,url:this._xhr.responseURL,headers:this._getHeaders(this._xhr),body:this._xhr.response};this._transformResponse&&(de=this._transformResponse(de,this._url)||de),this._onProgress&&this._onProgress(we,_e,{index:this._index,vid:this._vid,range:[ae,fe+this._receivedLength],startTime:this._startTime,endTime:Date.now(),priOptions:this._priOptions},de),_e?(this._runing=!1,this._loadCompleteResolve&&this._loadCompleteResolve(n2(this._onProgress?null:we,_e,de,de.headers["content-length"],de.headers.age,this._startTime,this._firstRtt,this._index,this._range,this._vid,this._priOptions))):this._startLoad()}cancel(){if(!this._aborted)return this._aborted=!0,this._runing=!1,super.removeAllListeners(),this._onCancel&&this._onCancel({index:this._index,range:this._range,vid:this._vid,priOptions:this._priOptions}),this._xhr?this._xhr.abort():void 0}static isSupported(){return typeof XMLHttpRequest<"u"}get receiveLen(){return this._receivedLength}get running(){return this._running}set running(R){this._running=R}_getHeaders(R){const ie=R.getAllResponseHeaders().trim().split(`\r
`),ae={};for(const we of ie){const _e=we.split(": ");ae[_e[0].toLowerCase()]=_e.slice(1).join(": ")}return ae}}class Ss extends me{type=c1;_queue=[];_alive=[];_currentTask=null;_config;constructor(R,ie){super(),this.player=ie,this._config=(ie=R,{loaderType:c1,retry:0,retryDelay:0,timeout:0,request:null,onTimeout:void 0,onProgress:void 0,onRetryError:void 0,transformRequest:void 0,transformResponse:void 0,transformError:void 0,responseType:"text",range:void 0,url:"",params:void 0,method:"GET",headers:{},body:void 0,mode:void 0,credentials:void 0,cache:void 0,redirect:void 0,referrer:void 0,referrerPolicy:void 0,integrity:void 0,onProcessMinLen:0,...ie}),this._config.loaderType!=="xhr"&&o2.isSupported()||(this.type="xhr")}destroy(){this._queue=[],this._alive=[],this._currentTask=null}isFetch(){return this.type===c1}static isFetchSupport(){return o2.isSupported()}load(R){let ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return typeof R!="string"&&R?ie=R:ie.url=R||ie.url||this._config.url,(ie=Object.assign({},this._config,ie)).params&&(ie.params=Object.assign({},ie.params)),ie.headers&&gn(ie.headers)&&(ie.headers=Object.assign({},ie.headers)),ie.body&&gn(ie.body)&&(ie.body=Object.assign({},ie.body)),ie.transformRequest&&(ie=ie.transformRequest(ie)||ie),R=new Su(this.type,ie,this.player),R.loader.on(h1,ae=>{this.emit(h1,ae)}),this._queue.push(R),this._queue.length!==1||this._currentTask&&this._currentTask.running||this._processTask(),R.promise}async cancel(){var R=this._queue.map(ie=>ie.cancel()).concat(this._alive.map(ie=>ie.cancel()));this._currentTask&&R.push(this._currentTask.cancel()),this._queue=[],this._alive=[],await Promise.all(R),await(function(ie){let ae=0;return new Promise(we=>setTimeout(we,ae))})()}_processTask(){var R;this._currentTask=this._queue.shift(),this._currentTask&&(this._currentTask.alive&&this._alive.push(this._currentTask),R=this._currentTask.exec().catch(ie=>{}))&&typeof R.finally=="function"&&R.finally(()=>{this._currentTask?.alive&&0<this._alive?.length&&(this._alive=this._alive.filter(ie=>ie&&ie!==this._currentTask)),this._processTask()})}}const Ln="network",mr="network_timeout",l2="other";class Wr extends Error{constructor(R,ie,ae,we,_e){super(_e||ae?.message),this.errorType=R===mr?Ln:R,this.originError=ae,this.ext=we,this.errorMessage=this.message}static create(R,ie,ae,we,_e){return R instanceof Wr?R:(R instanceof Error&&(ae=R,R=""),R=R||l2,new Wr(R,ie,ae,we,_e))}static network(R){return new Wr(R?.isTimeout?mr:Ln,null,R instanceof Error?R:null,{url:R?.url,response:R?.response,httpCode:R?.response?.status})}}const Tu=/^#(EXT[^:]*)(?::(.*))?$/,xu=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g,Cu=/^(?:[a-zA-Z0-9+\-.]+:)?\/\//,Du=/^((?:[a-zA-Z0-9+\-.]+:)?\/\/[^/?#]*)?([^?#]*\/)?/;function u2(Qe){if(Qe=Qe.match(Tu),Qe&&Qe[1])return[Qe[1].replace("EXT-X-",""),Qe[2]]}function eo(Qe){var R={};let ie=xu.exec(Qe);for(;ie;)R[ie[1]]=ie[2]||ie[3],ie=xu.exec(Qe);return R}function d1(Qe,R){return R&&Qe&&!Cu.test(Qe)&&(R=Du.exec(R))?Qe[0]==="/"?R[1]+Qe:R[1]+R[2]+Qe:Qe}const Ru={audio:[/^mp4a/,/^vorbis$/,/^opus$/,/^flac$/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function to(Qe,R){var ie=Ru[Qe];if(ie&&R&&R.length){for(let ae=0;ae<ie.length;ae++)for(let we=0;we<R.length;we++)if(ie[ae].test(R[we]))return R[we]}}class Lu{version=0;streams=[];isMaster=!0}class c2{id=0;url="";default=!1;autoSelect=!1;forced=!1;group="";name="";lang="";segments=[];endSN=0}class f1 extends c2{mediaType="AUDIO";channels=0}class Us extends c2{mediaType="SUBTITLE"}class bl{id=0;bitrate=0;width=0;height=0;name="";url="";audioCodec="";videoCodec="";textCodec="";audioGroup="";audioStreams=[];subtitleStreams=[];closedCaptionsStream=[]}class Fs{version=0;url="";type="";startCC=0;endCC=0;startSN=0;endSN=0;totalDuration=0;targetDuration=0;live=!0;segments=[]}class In{sn=0;cc=0;url="";title="";start=0;duration=0;key=null;byteRange=null;isInitSegment=!1;initSegment=null;isLast=!1;hasAudio=!1;hasVideo=!1;get end(){return this.start+this.duration}setTrackExist(R,ie){this.hasVideo=R,this.hasAudio=ie}setByteRange(R,ie){this.byteRange=[0],R=R.split("@"),R.length===1&&ie&&ie.byteRange?(this.byteRange[0]=ie.byteRange[1]||0,this.byteRange[0]&&(this.byteRange[0]+=1)):this.byteRange[0]=parseInt(R[1]),this.byteRange[1]=this.byteRange[0]+parseInt(R[0])-1}}class p1{method="";url="";iv=null;keyFormat="";keyFormatVersions="";constructor(R){R instanceof p1&&(this.method=R.method,this.url=R.url,this.keyFormat=R.keyFormat,this.keyFormatVersions=R.keyFormatVersions,R.iv)&&(this.iv=new Uint8Array(R.iv))}clone(R){var ie=new p1(this);return R!=null&&ie.setIVFromSN(R),ie}setIVFromSN(R){if(!this.iv&&this.method==="AES-128"&&typeof R=="number"&&this.url){this.iv=new Uint8Array(16);for(let ie=12;ie<16;ie++)this.iv[ie]=R>>8*(15-ie)&255}}}class gr{static parse(){var R,ie=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",ae=1<arguments.length?arguments[1]:void 0;if(ie.includes("#EXTM3U"))return R=ie.split(/[\r\n]/).map(we=>we.trim()).filter(Boolean),(gr.isMediaPlaylist(ie)?function(we,_e){var fe=new Fs;fe.url=_e;let de,Se=new In,Pe=null,xe=null,Oe=0,Fe=0,ye=0,Ne=0,ee=!1;for(;(de=we[Ne++])&&!ee;)if(de[0]!=="#")Se.sn=Fe,Se.cc=ye,Se.url=d1(de,_e),xe&&(Se.key=xe.clone(Fe)),Pe&&(Se.initSegment=Pe),fe.segments.push(Se),Se=new In,Fe++;else{const ce=u2(de);if(ce){const[Ae,ke]=ce;switch(Ae){case"VERSION":fe.version=parseInt(ke);break;case"PLAYLIST-TYPE":fe.type=ke?.toUpperCase();break;case"TARGETDURATION":fe.targetDuration=parseFloat(ke);break;case"ENDLIST":{const Ee=fe.segments[fe.segments.length-1];Ee&&(Ee.isLast=!0),fe.live=!1,ee=!0}break;case"MEDIA-SEQUENCE":Fe=fe.startSN=parseInt(ke);break;case"DISCONTINUITY-SEQUENCE":ye=fe.startCC=parseInt(ke);break;case"DISCONTINUITY":ye++;break;case"BYTERANGE":Se.setByteRange(ke,fe.segments[fe.segments.length-1]);break;case"EXTINF":{const[Ee,je]=ke.split(",");Se.start=Oe,Se.duration=parseFloat(Ee),Oe+=Se.duration,Se.title=je}break;case"KEY":{const Ee=eo(ke);if(Ee.METHOD==="NONE"){xe=null;break}if(Ee.METHOD!=="AES-128")throw new Error(`encrypt ${Ee.METHOD}/${Ee.KEYFORMAT} is not supported`);if((xe=new p1).method=Ee.METHOD,xe.url=/^blob:/.test(Ee.URI)?Ee.URI:d1(Ee.URI,_e),xe.keyFormat=Ee.KEYFORMAT||"identity",xe.keyFormatVersions=Ee.KEYFORMATVERSIONS,Ee.IV){var se=(1&(se=Ee.IV.slice(2)).length?"0":"")+se;xe.iv=new Uint8Array(se.length/2);for(let je=0,Le=se.length/2;je<Le;je++)xe.iv[je]=parseInt(se.slice(2*je,2*je+2),16)}}break;case"MAP":{const Ee=eo(ke);Se.url=d1(Ee.URI,_e),Ee.BYTERANGE&&Se.setByteRange(Ee.BYTERANGE),Se.isInitSegment=!0,Se.sn=0,xe&&(Se.key=xe.clone(0)),Pe=Se,Se=new In}}}}const he=fe.segments[fe.segments.length-1];return he&&(fe.endSN=he.sn),fe.totalDuration=Oe,fe.endCC=ye,fe}:function(we,_e){var fe=new Lu;let de,Se=0;const Pe=[],xe=[];for(;de=we[Se++];){var Oe=u2(de);if(Oe){var[Oe,Fe]=Oe;if(Oe==="VERSION")fe.version=parseInt(Fe);else if(Oe==="MEDIA"&&Fe){const Ne=eo(Fe);let ee;switch(Ne.TYPE){case"AUDIO":ee=new f1;break;case"SUBTITLES":ee=new Us;break;default:ee=new c2}ee.url=d1(Ne.URI,_e),ee.default=Ne.DEFAULT==="YES",ee.autoSelect=Ne.AUTOSELECT==="YES",ee.group=Ne["GROUP-ID"],ee.name=Ne.NAME,ee.lang=Ne.LANGUAGE,Ne.CHANNELS&&(ee.channels=Number(Ne.CHANNELS.split("/")[0]),Number.isNaN(ee.channels))&&(ee.channels=0),Ne.TYPE==="AUDIO"&&Ne.URI&&Pe.push(ee),Ne.TYPE==="SUBTITLES"&&xe.push(ee)}else if(Oe==="STREAM-INF"&&Fe){const Ne=new bl,ee=eo(Fe);if(Ne.bitrate=parseInt(ee["AVERAGE-BANDWIDTH"]||ee.BANDWIDTH),Ne.name=ee.NAME,Ne.url=d1(we[Se++],_e),ee.RESOLUTION){const[se,he]=ee.RESOLUTION.split("x");Ne.width=parseInt(se),Ne.height=parseInt(he)}if(ee.CODECS){const se=ee.CODECS.split(/[ ,]+/).filter(Boolean);Ne.videoCodec=to("video",se),Ne.audioCodec=to("audio",se),Ne.textCodec=to("text",se)}Ne.audioGroup=ee.AUDIO,Ne.subtitleGroup=ee.SUBTITLES,fe.streams.push(Ne)}}}return fe.streams.forEach((ye,Ne)=>{ye.id=Ne}),Pe.length&&(Pe.forEach((ye,Ne)=>{ye.id=Ne}),fe.streams.forEach(ye=>{ye.audioGroup&&(ye.audioStreams=Pe.filter(Ne=>Ne.group===ye.audioGroup))})),xe.length&&(xe.forEach((ye,Ne)=>{ye.id=Ne}),fe.streams.forEach(ye=>{ye.subtitleGroup&&(ye.subtitleStreams=xe.filter(Ne=>Ne.group===ye.subtitleGroup))})),fe})(R,ae);throw new Error("Invalid m3u8 file")}static isMediaPlaylist(R){return R.includes("#EXTINF:")||R.includes("#EXT-X-TARGETDURATION:")}}class Iu{TAG_NAME="HlsManifestLoader";constructor(ie){this.hls=ie,this.player=ie.player,this._timer=null;var{retryCount:ie,retryDelay:ae,loadTimeout:we,fetchOptions:_e}=this.hls.config;this._loader=new Ss({..._e,responseType:"text",retry:ie,retryDelay:ae,timeout:we,onRetryError:this._onLoaderRetry},this.player),this._audioLoader=new Ss({..._e,responseType:"text",retry:ie,retryDelay:ae,timeout:we,onRetryError:this._onLoaderRetry},this.player),this._subtitleLoader=new Ss({..._e,responseType:"text",retry:ie,retryDelay:ae,timeout:we,onRetryError:this._onLoaderRetry},this.player)}async destroy(){await this.stopPoll(),this._audioLoader&&(this._audioLoader.destroy(),this._audioLoader=null),this._subtitleLoader&&(this._subtitleLoader.destroy(),this._subtitleLoader=null),this._loader&&(this._loader.destroy(),this._loader=null)}async load(R,ie,ae){this.player.debug.log(this.TAG_NAME,"load()",R,ie,ae);var we=[this._loader.load(R)];let _e,fe,de,Se,Pe,xe;ie&&we.push(this._audioLoader.load(ie)),ae&&we.push(this._subtitleLoader.load(ae));try{const[Oe,Fe,ye]=await Promise.all(we);if(!Oe)return[];_e=Oe.data,de=(ie?(fe=Fe?.data,ye):Fe)?.data}catch(Oe){throw Wr.network(Oe)}try{if((Se=gr.parse(_e,R))?.live===!1&&Se.segments&&!Se.segments.length)throw new Error("empty segments list");fe&&(Pe=gr.parse(fe,ie)),de&&(xe=gr.parse(de,ae))}catch(Oe){throw new Wr("manifest","hls",Oe)}return Se&&(Se.isMaster?this.hls.emit("hls-manifest-loaded",{playlist:Se}):this.hls.emit("hls-level-loaded",{playlist:Se})),[Se,Pe,xe]}poll(R,ie,ae,we,_e,fe){clearTimeout(this._timer),fe=fe||3e3;let de=this.hls.config.pollRetryCount;const Se=async()=>{clearTimeout(this._timer);try{const Pe=await this.load(R,ie,ae);if(!Pe[0])return;de=this.hls.config.pollRetryCount,we(Pe[0],Pe[1],Pe[2])}catch(Pe){--de<=0&&_e(Pe)}this._timer=setTimeout(Se,fe)};this._timer=setTimeout(Se,fe)}stopPoll(){return clearTimeout(this._timer),this.cancel()}cancel(){return Promise.all([this._loader.cancel(),this._audioLoader.cancel()])}_onLoaderRetry=(R,ie)=>{this.hls.emit(w2,{error:Wr.network(R),retryTime:ie})}}class Pu{_chunkSpeeds=[];_speeds=[];addRecord(R,ie){R&&ie&&(this._speeds.push(8e3*R/ie),this._speeds=this._speeds.slice(-3))}addChunkRecord(R,ie){R&&ie&&(this._chunkSpeeds.push(8e3*R/ie),this._chunkSpeeds=this._chunkSpeeds.slice(-100))}getAvgSpeed(){return this._chunkSpeeds.length||this._speeds.length?this._speeds.length?this._speeds.reduce((R,ie)=>R+ie)/this._speeds.length:this._chunkSpeeds.reduce((R,ie)=>R+ie)/this._chunkSpeeds.length:0}getLatestSpeed(){return this._chunkSpeeds.length||this._speeds.length?this._speeds.length?this._speeds[this._speeds.length-1]:this._chunkSpeeds[this._chunkSpeeds.length-1]:0}reset(){this._chunkSpeeds=[],this._speeds=[]}}class Bu{constructor(ie){this.hls=ie,this.player=ie.player,this._bandwidthService=new Pu;var{retryCount:ie,retryDelay:ae,loadTimeout:we,fetchOptions:_e}=this.hls.config;this._segmentLoader=new Ss({..._e,responseType:"arraybuffer",retry:ie,retryDelay:ae,timeout:we,onRetryError:this._onLoaderRetry},this.player),this._audioSegmentLoader=new Ss({..._e,responseType:"arraybuffer",retry:ie,retryDelay:ae,timeout:we,onRetryError:this._onLoaderRetry},this.player),this._keyLoader=new Ss({..._e,responseType:"arraybuffer",retry:ie,retryDelay:ae,timeout:we,onRetryError:this._onLoaderRetry},this.player)}destroy(){this.reset(),this._keyLoader&&(this._keyLoader.destroy(),this._keyLoader=null),this._audioSegmentLoader&&(this._audioSegmentLoader.destroy(),this._audioSegmentLoader=null),this._segmentLoader&&(this._segmentLoader.destroy(),this._segmentLoader=null)}speedInfo(){return{speed:this._bandwidthService.getLatestSpeed(),avgSpeed:this._bandwidthService.getAvgSpeed()}}load(R,ie,ae){var we=3<arguments.length&&arguments[3]!==void 0?arguments[3]:ae,_e=[];return R&&(_e[0]=this.loadVideoSegment(R,ae)),ie&&(_e[1]=this.loadAudioSegment(ie,we)),Promise.all(_e)}loadVideoSegment(R,ie){return this._loadSegment(this._segmentLoader,R,ie)}loadAudioSegment(R,ie){return this._loadSegment(this._audioSegmentLoader,R,ie)}async _loadSegment(R,ie,Oe){let we,_e,fe,de,Se;var Pe=[];if(this.hls.emit(L1,{url:ie.url}),Pe[0]=R.load(ie.url),Oe&&ie.initSegment){const Fe=ie.initSegment.url,ye=((we=this._mapCache[Fe])||(this.hls.emit(L1,{url:Fe}),Pe[1]=R.load(Fe).then(Ne=>{Ne&&(30<Object.keys(this._mapCache)&&(this._mapCache={}),we=this._mapCache[Fe]=Ne.data,this._emitOnLoaded(Ne,Fe))})),ie.initSegment.key?.url);ye&&(Se=ie.initSegment.key.iv,(de=this._keyCache[ye])||(this.hls.emit(L1,{url:ye}),Pe[2]=this._keyLoader.load(ye).then(Ne=>{Ne&&(de=this._keyCache[ye]=Ne.data,this._emitOnLoaded(Ne,ye))})))}const xe=ie.key?.url;!xe||(fe=ie.key.iv,_e=this._keyCache[xe])||(this.hls.emit(L1,{url:xe}),Pe[3]=this._keyLoader.load(xe).then(Fe=>{Fe&&(_e=this._keyCache[xe]=Fe.data,this._emitOnLoaded(Fe,xe))}));var[Oe]=await Promise.all(Pe);if(Oe)return R=Oe.data,this._emitOnLoaded(Oe,ie.url),{data:R,map:we,key:_e,mapKey:de,keyIv:fe,mapKeyIv:Se}}reset(){this.error=null,this._mapCache={},this._keyCache={},this._bandwidthService.reset()}async cancel(){await Promise.all([this._keyLoader.cancel(),this._segmentLoader.cancel(),this._audioSegmentLoader.cancel()])}_emitOnLoaded=(ae,ie)=>{var{data:ae,response:we,option:_e}=ae,{firstByteTime:_e,startTime:fe,endTime:Se,contentLength:de}=_e||{},Se=Se-fe;this._bandwidthService.addRecord(de||ae.byteLength,Se),this.hls.emit("speed",{time:Se,byteLength:de,url:ie}),this.hls.emit("load-complete",{url:ie,elapsed:Se||0}),this.hls.emit("ttfb",{url:ie,responseUrl:we.url,elapsed:_e-fe}),this.hls.emit("load-response-headers",{headers:we.headers})};_onLoaderRetry=(R,ie)=>{this.hls.emit(w2,{error:Wr.network(R),retryTime:ie})}}class kl{live=void 0;id=0;bitrate=0;width=0;height=0;name="";url="";audioCodec="";videoCodec="";textCodec="";startCC=0;endCC=0;startSN=0;endSN=-1;totalDuration=0;targetDuration=0;snDiff=null;segments=[];audioStreams=[];subtitleStreams=[];closedCaptions=[];currentAudioStream=null;currentSubtitleStream=null;TAG_NAME="HlsStream";get lastSegment(){return this.segments.length?this.segments[this.segments.length-1]:null}get segmentDuration(){return this.targetDuration||this.segments[0]?.duration||0}get liveEdge(){return this.endTime}get endTime(){return this.lastSegment?.end||0}get currentSubtitleEndSn(){return this.currentSubtitleStream?.endSN||0}constructor(R,ie,ae){this.update(R,ie,ae)}clearOldSegment(R,ie){return this._clearSegments(R,ie)}getAudioSegment(R){if(R&&this.currentAudioStream){const ie=R.sn-this.snDiff;return this.currentAudioStream.segments.find(ae=>ae.sn===ie)}}update(R,ie){this.url=R.url,Array.isArray(R.segments)?(this.live!==null&&this.live!==void 0||(this.live=R.live),this._updateSegments(R,this),this.startCC=R.startCC,this.endCC=R.endCC,this.startSN=R.startSN,this.endSN=R.endSN||-1,this.totalDuration=R.totalDuration,this.targetDuration=R.targetDuration,this.live=R.live,ie&&this.currentAudioStream&&Array.isArray(ie.segments)&&(this._updateSegments(ie,this.currentAudioStream),this.snDiff===null||this.snDiff===void 0)&&R.segments.length&&ie.segments.length&&(this.snDiff=R.segments[0].sn-ie.segments[0].sn)):(this.id=R.id,this.bitrate=R.bitrate,this.width=R.width,this.height=R.height,this.name=R.name,this.audioCodec=R.audioCodec,this.videoCodec=R.videoCodec,this.textCodec=R.textCodec,this.audioStreams=R.audioStreams,this.subtitleStreams=R.subtitleStreams,!this.currentAudioStream&&this.audioStreams.length&&(this.currentAudioStream=this.audioStreams.find(ae=>ae.default)||this.audioStreams[0]),!this.currentSubtitleStream&&this.subtitleStreams.length&&(this.currentSubtitleStream=this.subtitleStreams.find(ae=>ae.default)||this.subtitleStreams[0]))}updateSubtitle(R){var ie;if(R&&this.currentSubtitleStream&&Array.isArray(R.segments))return R=this._updateSegments(R,this.currentSubtitleStream),100<(ie=this.currentSubtitleStream.segments).length&&(this.currentSubtitleStream.segments=ie.slice(100)),R?R.map(ae=>({sn:ae.sn,url:ae.url,duration:ae.duration,start:ae.start,end:ae.end,lang:this.currentSubtitleStream.lang})):void 0}switchSubtitle(R){var ie=this.subtitleStreams.find(we=>we.lang===R),ae=this.currentSubtitleStream;ie&&(this.currentSubtitleStream=ie,ae.segments=[])}_clearSegments(R,ie){let ae=0;var we=this.segments;for(let _e=0,fe=we.length;_e<fe;_e++)if(we[_e].end>=R){ae=_e;break}return(ae=ae>ie?ie:ae)&&(this.segments=this.segments.slice(ae),this.currentAudioStream)&&(this.currentAudioStream.segments=this.currentAudioStream.segments.slice(ae)),ie-ae}_updateSegments(R,ie){var ae=ie.segments;if(this.live){const _e=ae[ae.length-1],fe=_e?.sn||-1;if(fe<R.endSN&&R.segments.length){var we=R.segments.findIndex(de=>de.sn===fe),we=we<0?R.segments:R.segments.slice(we+1);if(ae.length&&we.length){let de=_e.end;we.forEach(Pe=>{Pe.start=de,de=Pe.end});const Se=_e?.cc||-1;Se>we[0].cc&&we.forEach(Pe=>Pe.cc+=Se)}return ie.endSN=R.endSN,ie.segments=ae.concat(we),we}}else ie.segments=R.segments}}class Mu{streams=[];currentStream=null;dvrWindow=0;_segmentPointer=-1;TAG_NAME="HlsPlaylist";constructor(R){this.hls=R,this.player=R.player}destroy(){this.reset()}get lastSegment(){return this.currentStream?.lastSegment}get currentSegment(){return this.currentSegments?.[this._segmentPointer]}get nextSegment(){return this.currentSegments?.[this._segmentPointer+1]}get currentSegments(){return this.currentStream?.segments}get currentSubtitleEndSn(){return this.currentStream?.currentSubtitleEndSn}get liveEdge(){return this.currentStream?.liveEdge}get totalDuration(){return this.currentStream?.totalDuration||0}get seekRange(){var R=this.currentSegments;if(R&&R.length)return[R[0].start,R[R.length-1].end]}get isEmpty(){return!this.currentSegments?.length}get isLive(){return this.currentStream?.live}get hasSubtitle(){return!!this.currentStream?.currentSubtitleStream}getAudioSegment(R){return this.currentStream?.getAudioSegment(R)}moveSegmentPointer(R){R==null&&(R=this._segmentPointer+1),this._segmentPointer=ls(R,-1,this.currentSegments?.length),this.player.debug.log(this.TAG_NAME,"moveSegmentPointer()",R,this._segmentPointer)}reset(){this.streams=[],this.currentStream=null,this.dvrWindow=0,this._segmentPointer=-1}getSegmentByIndex(R){return this.currentSegments?.[R]}setNextSegmentByIndex(){var R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;this._segmentPointer=R-1,this.player.debug.log(this.TAG_NAME,"setNextSegmentByIndex()",R,this._segmentPointer)}findSegmentIndexByTime(R){var ie=this.currentSegments;if(ie){for(let we,_e=0,fe=ie.length;_e<fe;_e++)if(R>=(we=ie[_e]).start&&R<we.end)return _e;var ae=ie[ie.length-1];if(Math.abs(R-ae.end)<.2)return ie.length-1}}upsertPlaylist(R,ie,ae){var we;R?(R.isMaster?(this.streams.length=R.streams.length,R.streams.filter(_e=>_e.url).forEach((_e,fe)=>{this.streams[fe]?this.streams[fe].update(_e):this.streams[fe]=new kl(_e)}),this.currentStream=this.streams[0]):Array.isArray(R.segments)&&((we=this.currentStream)?(we.update(R,ie,ae),(we=we.updateSubtitle(ae))&&this.hls.emit("subtitle-segments",{list:we})):(this.reset(),this.currentStream=this.streams[0]=new kl(R,ie,ae))),this.currentStream&&this.hls.isLive&&!this.dvrWindow&&(this.dvrWindow=this.currentSegments.reduce((_e,fe)=>_e+fe.duration,0))):this.player.debug.warn(this.TAG_NAME,"upsertPlaylist() playlist is null")}switchSubtitle(R){this.currentStream?.switchSubtitle(R)}clearOldSegment(){var R,ie,ae=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,we=this.currentStream;this.dvrWindow&&we&&((R=we.endTime-this.dvrWindow)<=0?this.player.debug.log(this.TAG_NAME,`clearOldSegment() stream.endTime:${we.endTime}, this.dvrWindow:${this.dvrWindow}  startTime <= 0`):(ie=we.segments).length<=ae?this.player.debug.log(this.TAG_NAME,`clearOldSegment() segments.length:${ie.length} <= maxPlaylistSize:`+ae):(ie=this._segmentPointer,this._segmentPointer=we.clearOldSegment(R,ie),this.player.debug.log(this.TAG_NAME,"clearOldSegment() update _segmentPointer:",ie,this._segmentPointer),this.player.debug.log(this.TAG_NAME,"currentSegments",this.currentSegments)))}checkSegmentTrackChange(R,ie){var ae=this.findSegmentIndexByTime(R),we=this.getSegmentByIndex(ae);if(we&&(we.hasAudio||we.hasVideo))return ie!==2&&we.hasAudio&&we.hasVideo?we:.3<we.end-R||!(ie=this.getSegmentByIndex(ae+1))||!ie.hasAudio&&!ie.hasVideo||ie.hasAudio===we.hasAudio&&ie.hasVideo===we.hasVideo?void 0:ie}}function m1(){for(var Qe=arguments.length,R=new Array(Qe),ie=0;ie<Qe;ie++)R[ie]=arguments[ie];if((R=R.filter(Boolean)).length<2)return R[0];const ae=new Uint8Array(R.reduce((_e,fe)=>_e+fe.byteLength,0));let we=0;return R.forEach(_e=>{ae.set(_e,we),we+=_e.byteLength}),ae}class Uu{constructor(){var R=window.crypto||window.msCrypto;this.subtle=R&&(R.subtle||R.webkitSubtle),this.externalDecryptor=null}decrypt(R,ie){var ae;if(R||ie)return ae=[],R&&(ae[0]=this._decryptSegment(R)),ie&&(ae[1]=this._decryptSegment(ie)),Promise.all(ae)}async _decryptSegment(R){let ie=R.data;return R.key&&(ie=await this._decryptData(R.data,R.key,R.keyIv)),R.map?m1(R.map,ie):ie}async _decryptData(R,ie,ae){if(this.externalDecryptor)return this.externalDecryptor.decrypt(R,ie,ae);if(this.subtle)return ie=await this.subtle.importKey("raw",ie,{name:"AES-CBC"},!1,["encrypt","decrypt"]),new Uint8Array(await this.subtle.decrypt({name:"AES-CBC",iv:ae},ie,R));throw new Error("crypto is not defined")}}class Os extends Ps{_pmtId=-1;_remainingPacketData=null;_videoPesData=[];_audioPesData=[];_gopId=0;_videoPid=-1;_audioPid=-1;_codecType=7;_audioCodecType=Pr;_vps=null;_sps=null;_pps=null;TAG_NAME="TsLoader";constructor(R){super(R),this.player=R,this.videoTrack=Os.initVideoTrack(),this.audioTrack=Os.initAudioTrack(),this._baseDts=-1,this._baseDtsInited=!1,this._basefps=25,this._baseFpsInterval=null,this._allSampleList=[],this._tempSampleTsList=[],this._hasAudio=!1,this._hasVideo=!1,this._audioNextPts=void 0,this._videoNextDts=void 0,this._audioTimestampBreak=!1,this._videoTimestampBreak=!1,this._lastAudioExceptionGapDot=0,this._lastAudioExceptionOverlapDot=0,this._lastAudioExceptionLargeGapDot=0,this._isSendAACSeqHeader=!1,this.player.debug.log(this.TAG_NAME,"init")}destroy(){super.destroy(),this._stopDecodeLoopInterval(),this.videoTrack=null,this.audioTrack=null,this._baseDts=-1,this._baseDtsInited=!1,this._basefps=50,this._hasCalcFps=!1,this._allSampleList=[],this._audioNextPts=void 0,this._videoNextDts=void 0,this._audioTimestampBreak=!1,this._videoTimestampBreak=!1,this._lastAudioExceptionGapDot=0,this._lastAudioExceptionOverlapDot=0,this._lastAudioExceptionLargeGapDot=0,this._isSendAACSeqHeader=!1,this.player.debug.log(this.TAG_NAME,"destroy")}static initVideoTrack(){return{samples:[]}}static initAudioTrack(){return{samples:[]}}static probe(R){return!!R.length&&R[0]===71&&R[188]===71&&R[376]===71}static _parsePES(R){var ie=R[8];if(!(ie==null||R.length<ie+9)&&(R[0]<<16|R[1]<<8|R[2])==1){var ae=(R[4]<<8)+R[5];if(!(ae&&ae>R.length-6)){let we,_e;return ae=R[7],192&ae&&(we=536870912*(14&R[9])+4194304*(255&R[10])+16384*(254&R[11])+128*(255&R[12])+(254&R[13])/2,64&ae?(_e=536870912*(14&R[14])+4194304*(255&R[15])+16384*(254&R[16])+128*(255&R[17])+(254&R[18])/2,54e5<we-_e&&(we=_e)):_e=we),{data:R.subarray(9+ie),pts:we,dts:_e,originalPts:we,originalDts:_e}}}}_demux(R){let ie=1<arguments.length&&arguments[1]!==void 0&&arguments[1],ae=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2],we=(ie&&(this._pmtId=-1,this.videoTrack=Os.initVideoTrack(),this.audioTrack=Os.initAudioTrack()),!ae||ie?(this._remainingPacketData=null,this._videoPesData=[],this._audioPesData=[]):(this.videoTrack.samples=[],this.audioTrack.samples=[],this._remainingPacketData&&(R=m1(this._remainingPacketData,R),this._remainingPacketData=null)),R.length);var _e=we%188;_e&&(this._remainingPacketData=R.subarray(we-_e),we-=_e);for(let fe=0;fe<we;fe+=188){if(R[fe]!==71)throw new Error("TS packet did not start with 0x47");const de=!!(64&R[fe+1]),Se=((31&R[fe+1])<<8)+R[fe+2];let Pe;if(1<(48&R[fe+3])>>4){if((Pe=fe+5+R[fe+4])===fe+188)continue}else Pe=fe+4;switch(Se){case 0:de&&(Pe+=R[Pe]+1),this._pmtId=(31&R[Pe+10])<<8|R[Pe+11];break;case this._pmtId:{de&&(Pe+=R[Pe]+1);const xe=Pe+3+((15&R[Pe+1])<<8|R[Pe+2])-4;for(Pe+=12+((15&R[Pe+10])<<8|R[Pe+11]);Pe<xe;){const Oe=(31&R[Pe+1])<<8|R[Pe+2];switch(R[Pe]){case 15:this._audioPid=Oe,this._audioCodecType=Pr;break;case 27:this._videoPid=Oe,this._codecType=7;break;case 36:this._videoPid=Oe,this._codecType=12;break;default:console.warn(`Unsupported stream. type: ${R[Pe]}, pid: `+Oe)}Pe+=5+((15&R[Pe+3])<<8|R[Pe+4])}}break;case this._videoPid:de&&this._videoPesData.length&&this._parseVideoData(),this._videoPesData.push(R.subarray(Pe,fe+188));break;case this._audioPid:de&&this._audioPesData.length&&this._parseAudioData(),this._audioPesData.push(R.subarray(Pe,fe+188));break;case 17:case 8191:break;default:console.warn("Unknown pid: "+Se)}}this._parseVideoData(),this._parseAudioData(),this.audioTrack.formatTimescale=this.videoTrack.formatTimescale=this.videoTrack.timescale=9e4,this.audioTrack.timescale=this.audioTrack.sampleRate||0}demuxAndFix(R,ie,ae,we){this.player._times.demuxStart||(this.player._times.demuxStart=_i()),this._demux(R,ie,ae,we),this._fix(we,ie,ae)}_parseVideoData(){var R,ie;this._videoPesData.length?(R=Os._parsePES(m1(...this._videoPesData)))?(this.player.updateStats({vbps:R.data.byteLength}),(ie=(function(ae){var we=ae.length;let _e=2,fe=0;for(;ae[_e]!==null&&ae[_e]!==void 0&&ae[_e]!==1;)_e++;if(_e++,(fe=_e+2)>=we)return[];for(var de=[];fe<we;)switch(ae[fe]){case 0:if(ae[fe-1]!==0)fe+=2;else if(ae[fe-2]!==0)fe++;else{for(_e!==fe-2&&de.push(ae.subarray(_e,fe-2));ae[++fe]!==1&&fe<we;);_e=fe+1,fe=_e+2}break;case 1:ae[fe-1]!==0||ae[fe-2]!==0?fe+=3:(_e!==fe-2&&de.push(ae.subarray(_e,fe-2)),_e=fe+1,fe=_e+2);break;default:fe+=3}return _e<we&&de.push(ae.subarray(_e)),de})(R.data))?this._createVideoSample(ie,R.pts,R.dts):this.player.debug.warn(this.TAG_NAME,"Cannot parse avc units",R),this._videoPesData=[]):console.warn("Cannot parse video pes",this._videoPesData):console.log("_parseVideoData","no video pes data")}_createVideoSample(R,ie,ae){if(R.length){const we=this._codecType===12,_e={isIFrame:!1,type:2,isHevc:we,vps:null,sps:null,pps:null,sei:null,pts:ie,dts:ae,payload:null};R.forEach(de=>{const Se=we?de[0]>>>1&63:31&de[0];switch(Se){case 5:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:!we&&Se!==5||we&&Se===5||(_e.isIFrame=!0,this._gopId++);break;case 6:case 39:case 40:if(!we&&Se!==6||we&&Se===6)break;return void(_e.sei=(function(Pe,xe){var Oe=Pe.length;let Fe=xe?2:1,ye=0,Ne=0,ee="";for(;Pe[Fe]===255;)ye+=255,Fe++;for(ye+=Pe[Fe++];Pe[Fe]===255;)Ne+=255,Fe++;if(Ne+=Pe[Fe++],ye===5&&Oe>Fe+16)for(let se=0;se<16;se++)ee+=Pe[Fe].toString(16),Fe++;return{payload:Pe.subarray(Fe),type:ye,size:Ne,uuid:ee}})((function(Pe){var xe=Pe.byteLength,Oe=[];let Fe=1;for(;Fe<xe-2;)Pe[Fe]===0&&Pe[Fe+1]===0&&Pe[Fe+2]===3?(Oe.push(Fe+2),Fe+=2):Fe++;if(!Oe.length)return Pe;var ye=xe-Oe.length,Ne=new Uint8Array(ye);let ee=0;for(Fe=0;Fe<ye;ee++,Fe++)ee===Oe[0]&&(ee++,Oe.shift()),Ne[Fe]=Pe[ee];return Ne})(de),we));case 32:!we||_e.vps||(_e.vps=de);break;case 7:case 33:!we&&Se!==7||we&&Se===7||_e.sps||(_e.sps=de);break;case 8:case 34:!we&&Se!==8||we&&Se===8||_e.pps||(_e.pps=de)}if(we&&Zn(Se)||!we&&Mo(Se)){const Pe=Bo(de);if(_e.payload){this.player.debug.log(this.TAG_NAME,"append nal unit to payload");const xe=new Uint8Array(_e.payload.byteLength+Pe.byteLength);xe.set(_e.payload,0),xe.set(Pe,_e.payload.byteLength),_e.payload=xe}else _e.payload=Pe}});let fe=null;we?_e.sps&&_e.vps&&_e.pps&&(fe=Fo({vps:_e.vps,sps:_e.sps,pps:_e.pps})):_e.sps&&_e.pps&&(fe=Z2({sps:_e.sps,pps:_e.pps})),fe&&(this.player.debug.log(this.TAG_NAME,"_createVideoSample","seqHeader"),this._doDecodeByHls(fe,2,_e.pts,!0,0)),_e.isIFrame&&this.calcIframeIntervalTimestamp(_e.dts/90),this.videoTrack.samples=this.videoTrack.samples.concat(_e)}}_parseAudioData(){if(this._audioPesData.length){const ie=Os._parsePES(m1(...this._audioPesData));if(ie){if(this.player._opt.hasAudio){if(this.player.updateStats({abps:ie.data.byteLength}),this._audioCodecType===Pr){var R=(function(ae,we){var _e=ae.length;let fe=0;for(;fe+2<_e&&(ae[fe]!==255||(246&ae[fe+1])!=240);)fe++;if(!(fe>=_e)){var de=fe,Se=[],Pe=(60&ae[fe+2])>>>2,xe=k2[Pe];if(!xe)throw new Error("Invalid sampling index: "+Pe);var Oe=1+((192&ae[fe+2])>>>6),Fe=(1&ae[fe+2])<<2|(192&ae[fe+3])>>>6;let Ne,ee,se=0;for(var ye=S2(xe);fe+7<_e;)if(ae[fe]===255&&(246&ae[fe+1])==240){if(ee=(3&ae[fe+3])<<11|ae[fe+4]<<3|(224&ae[fe+5])>>5,_e-fe<ee)break;Ne=2*(1&~ae[fe+1]),Se.push({pts:we+se*ye,data:ae.subarray(fe+7+Ne,fe+ee)}),se++,fe+=ee}else fe++;return{skip:de,remaining:fe>=_e?void 0:ae.subarray(fe),frames:Se,samplingFrequencyIndex:Pe,sampleRate:xe,objectType:Oe,channelCount:Fe,originCodec:"mp4a.40."+Oe}}})(ie.data,ie.originalPts);if(R){if(this.audioTrack.codec=R.codec,this.audioTrack.sampleRate=R.sampleRate,this.audioTrack.channelCount=R.channelCount,!this._isSendAACSeqHeader){const ae=_2({profile:R.objectType,sampleRate:R.samplingFrequencyIndex,channel:R.channelCount});this._isSendAACSeqHeader=!0,this.player.debug.log(this.TAG_NAME,"aac seq header",`profile: ${R.objectType}, sampleRate:${R.sampleRate},sampleRateIndex: ${R.samplingFrequencyIndex}, channel: `+R.channelCount),this._doDecodeByHls(ae,1,0,!1,0)}if(this._isSendAACSeqHeader){const ae=[];R.frames.forEach(de=>{var _e=de.pts,fe=new Uint8Array(de.data.length+2),de=(fe.set([175,1],0),fe.set(de.data,2),{type:1,pts:_e,dts:_e,payload:fe});ae.push(de)}),this.audioTrack.samples=this.audioTrack.samples.concat(ae)}else this.player.debug.warn(this.TAG_NAME,"aac seq header not send")}else this.player.debug.warn(this.TAG_NAME,"aac parseADTS error")}this._audioPesData=[]}}else console.warn("Cannot parse audio pes",this._audioPesData)}}_fix(){let R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,ie=1<arguments.length&&arguments[1]!==void 0&&arguments[1],ae=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];R=Math.round(9e4*R);var we=this.videoTrack,_e=this.audioTrack,fe=we.samples,de=_e.samples;if(fe.length||de.length){var Se=fe[0],Pe=de[0];let xe=0;if(fe.length&&de.length&&(xe=Se.dts-Pe.pts),this._baseDtsInited||this._calculateBaseDts(),ie&&(this._calculateBaseDts(),this._baseDts-=R),!ae){this._videoNextDts=0<xe?R+xe:R,this._audioNextPts=0<xe?R:R-xe;const Fe=Se?Se.dts-this._baseDts-this._videoNextDts:0,ye=Pe?Pe.pts-this._baseDts-this._audioNextPts:0;9e4<Math.abs(Fe||ye)&&(this._calculateBaseDts(this.audioTrack,this.videoTrack),this._baseDts-=R)}this._resetBaseDtsWhenStreamBreaked(),this._fixAudio(_e),this._fixVideo(we);let Oe=we.samples.concat(_e.samples);Oe=Oe.map(Fe=>(Fe.dts=Fe.dts/90,Fe.pts=Fe.pts/90,Fe.cts=Fe.pts-Fe.dts,Fe)).sort((Fe,ye)=>Fe.dts-ye.dts),this._allSampleList=this._allSampleList.concat(Oe),xi(this._hasCalcFps)&&(this._hasCalcFps=!0,this._calcDecodeFps(Oe))}}_calculateBaseDts(){var R=this.audioTrack,ie=this.videoTrack,ae=R.samples,we=ie.samples;if(!ae.length&&!we.length)return!1;let _e=1/0,fe=1/0;return ae.length&&(R.baseDts=_e=ae[0].pts),we.length&&(ie.baseDts=fe=we[0].dts),this._baseDts=Math.min(_e,fe),R=fe-_e,Number.isFinite(R)&&45e3<Math.abs(R)&&this.player.debug.warn(this.TAG_NAME,`large av first frame gap,
                video pts: ${fe},
                audio pts: ${_e},
                base dts: ${this._baseDts},
                detect is: `+R),this._baseDtsInited=!0}_resetBaseDtsWhenStreamBreaked(){this._baseDtsInited&&this._videoTimestampBreak&&this._audioTimestampBreak&&this._calculateBaseDts(this.audioTrack,this.videoTrack)&&(this._baseDts-=Math.min(this._audioNextPts,this._videoNextDts),this._audioLastSample=null,this._videoLastSample=null,this._videoTimestampBreak=!1,this._audioTimestampBreak=!1)}_fixAudio(R){var ie=R.samples;ie.length&&(ie.forEach(ae=>{ae.pts-=this._baseDts,ae.dts=ae.pts}),this._doFixAudioInternal(R,ie,9e4))}_fixVideo(R){var ie=R.samples;if(ie.length){if(ie.forEach(Oe=>{Oe.dts-=this._baseDts,Oe.pts-=this._baseDts}),this._videoNextDts===void 0){const Oe=ie[0];this._videoNextDts=Oe.dts}const fe=ie.length;let de=0;const Se=ie[0],Pe=ie[1],xe=this._videoNextDts-Se.dts;45e3<Math.abs(xe)&&(Se.dts+=xe,Se.pts+=xe,this.player.debug.warn(this.TAG_NAME,`large video gap between chunk,
             next dts is ${this._videoNextDts},
             first dts is ${Se.dts},
             next dts is ${Pe.dts},
             duration is `+xe),Pe)&&9e4<Math.abs(Pe.dts-Se.dts)&&(this._videoTimestampBreak=!0,ie.forEach((Oe,Fe)=>{Fe!==0&&(Oe.dts+=xe,Oe.pts+=xe)}));var ae=R.samples[0],we=R.samples[fe-1],_e=fe===1?9e3:Math.floor((we.dts-ae.dts)/(fe-1));for(let Oe=0;Oe<fe;Oe++){const Fe=ie[Oe].dts,ye=ie[Oe+1];if(9e4<(de=Oe<fe-1?ye.dts-Fe:ie[Oe-1]?Math.min(Fe-ie[Oe-1].dts,_e):_e)||de<0){this._videoTimestampBreak=!0,de=this._audioTimestampBreak?_e:Math.max(de,2700);const Ne=this._audioNextPts||0;ye&&ye.dts>Ne&&(de=_e),this.player.debug.warn(this.TAG_NAME,`large video gap between frames,
                time is ${Fe/R.timescale},
                dts is ${Fe},
                origin dts is ${ie[Oe].originalDts},
                next dts is ${this._videoNextDts},
                sample Duration is ${de} ,
                ref Sample DurationInt is `+_e)}ie[Oe].duration=de,this._videoNextDts+=de}}}_doFixAudioInternal(R,ie,ae){R.sampleDuration||(R.sampleDuration=S2(R.timescale,ae));var we,_e,fe=R.sampleDuration;if(this._audioNextPts===void 0){const Oe=ie[0];this._audioNextPts=Oe.pts}for(let Oe=0;Oe<ie.length;Oe++){var de=this._audioNextPts,Se=ie[Oe],Pe=Se.pts-de;if(!this._audioTimestampBreak&&3*fe<=Pe&&Pe<=9e4&&!M1()){we=R.codec,_e=R.channelCount,(we==="mp4a.40.2"?_e===1?new Uint8Array([0,200,0,128,35,128]):_e===2?new Uint8Array([33,0,73,144,2,25,0,35,128]):_e===3?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]):_e===4?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]):_e===5?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]):_e===6&&new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]):_e===1?new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]):(_e===2||_e===3)&&new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]))||ie[0].data.subarray();var xe=Math.floor(Pe/fe);45e4<Math.abs(Se.pts-this._lastAudioExceptionGapDot)&&(this._lastAudioExceptionGapDot=Se.pts),this.player.debug.warn(this.TAG_NAME,`audio gap detected,
                pts is ${ie.pts},
                originPts is ${ie.originalPts},
                count is ${xe},
                nextPts is ${de},
                ref sample duration is `+fe);for(let Fe=0;Fe<xe;Fe++)this._audioNextPts+=fe,Oe++;Oe--}else Pe<=-3*fe&&-9e4<=Pe?(45e4<Math.abs(Se.pts-this._lastAudioExceptionOverlapDot)&&(this._lastAudioExceptionOverlapDot=Se.pts,this.player.debug.warn(this.TAG_NAME,`audio overlap detected,
                    pts is ${Se.pts},
                    originPts is ${Se.originalPts},
                    nextPts is ${de},
                    ref sample duration is `+fe)),ie.splice(Oe,1),Oe--):(9e4<=Math.abs(Pe)&&(this._audioTimestampBreak=!0,45e4<Math.abs(Se.pts-this._lastAudioExceptionLargeGapDot))&&(this._lastAudioExceptionLargeGapDot=Se.pts,this.player.debug.warn(this.TAG_NAME,`large audio gap detected,
                        time is ${Se.pts/1e3}
                        pts is ${Se.pts},
                        originPts is ${Se.originalPts},
                        nextPts is ${de},
                        sample duration is ${Pe}
                        ref sample duration is `+fe)),Se.dts=Se.pts=de,this._audioNextPts+=fe)}}_calcDecodeFps(R){R=F2(R.map(ie=>({ts:ie.dts||ie.pts,type:ie.type})),2),R&&(this._basefps=R,this._startDecodeLoopInterval(),this.player.debug.log(this.TAG_NAME,`_calcDecodeFps()  video fps is ${R}, update base fps is `+this._basefps))}_startDecodeLoopInterval(){this.player.debug.log(this.TAG_NAME,"_startDecodeLoopInterval()"),this._stopDecodeLoopInterval(),this._loop();var R=Math.ceil(1e3/this._basefps);this._baseFpsInterval=setInterval(()=>{var ie=new Date().getTime(),ie=(this.preLoopTimestamp||(this.preLoopTimestamp=ie),ie-this.preLoopTimestamp);ie>2*this._basefps&&this.player.debug.warn(this.TAG_NAME,`hls loop demux diff time is ${ie} and more than `+2*this._basefps),this._loop(),this.preLoopTimestamp=new Date().getTime()},R)}_loop(){let R=null;if(this._allSampleList.length)if((R=this._allSampleList.shift()).type===2){this._doDecodeVideo(R);let ie=this._allSampleList[0];for(;ie&&ie.type===1;)R=this._allSampleList.shift(),this._doDecodeAudio(R),ie=this._allSampleList[0]}else R.type===1&&(this._doDecodeAudio(R),this._allSampleList.length)&&this._allSampleList[0].type===2&&(R=this._allSampleList.shift(),this._doDecodeVideo(R))}_doDecodeAudio(R){this._doDecodeByHls(R.payload,1,R.dts,!1,0)}_doDecodeVideo(R){var ie=new Uint8Array(R.payload),ie=(R.isHevc?jt:Po)(ie,R.isIFrame),ae=(this.player.updateStats({dts:R.dts}),R.pts-R.dts);this._doDecodeByHls(ie,2,R.dts,R.isIFrame,ae)}_stopDecodeLoopInterval(){this._baseFpsInterval&&(clearInterval(this._baseFpsInterval),this._baseFpsInterval=null)}getBuferredDuration(){let R=0;return this._allSampleList&&this._allSampleList.forEach(ie=>{ie.duration&&ie.type===2&&(R+=ie.duration)}),R/90}getSampleListLength(){return this._allSampleList.length}getSampleAudioListLength(){return this._allSampleList.filter(R=>R.type===1).length}getSampleVideoListLength(){return this._allSampleList.filter(R=>R.type===2).length}}class Fu{_initSegmentId="";TAG_NAME="HlsTransmuxer";constructor(R,ie,ae){this.hls=R,this.player=this.hls.player,this._demuxer=new(ie?o1:Os)(this.hls.player),this._isMP4=ie,ae&&console.log("hls needRemux")}destroy(){this._demuxer&&(this._demuxer.destroy(),this._demuxer=null)}transmux(R,ie,ae,we,_e,fe){this.player.debug.log(this.TAG_NAME,`transmux videoChunk:${R&&R.byteLength}, audioChunk:${ie&&ie.byteLength}, discontinuity:${ae}, contiguous:${we}, startTime:${_e}, needInit:`+fe),fe=this._demuxer;try{this._isMP4?fe.demux(R,ie):fe.demuxAndFix(m1(R,ie),ae,we,_e)}catch(de){throw new Wr("demux","hls",de)}}}class Ou{_decryptor=new Uu;_transmuxer=null;_mse=null;_softVideo=null;_sourceCreated=!1;_needInitSegment=!0;_directAppend=!1;TAG_NAME="HlsBufferService";constructor(R){this.hls=R,this.player=R.player}async destroy(){this._softVideo=null,this._transmuxer&&(this._transmuxer.destroy(),this._transmuxer=null)}get baseDts(){return this._transmuxer?._demuxer?._baseDts}get nbSb(){return 0}async updateDuration(R){this.player.debug.log(this.TAG_NAME,"updateDuration()",R)}getBuferredDuration(){return this._transmuxer?._demuxer?.getBuferredDuration()}getBufferedSegments(){return this._transmuxer?._demuxer?.getSampleListLength()}getBufferedAudioSegments(){return this._transmuxer?._demuxer?.getSampleAudioListLength()}getBufferedVideoSegments(){return this._transmuxer?._demuxer?.getSampleVideoListLength()}createSource(R,ie,ae,we){this._sourceCreated||(R=R||ie)&&(Os.probe(R)?this._transmuxer||(this._transmuxer=new Fu(this.hls,!1,!this._softVideo)):console.error("createSource error: chunk is not ts"))}async appendBuffer(R,ie,ae,we,_e,fe,de){if(ae?.length||we?.length)return this._needInitSegment,this._transmuxer.transmux(ae,we,_e,fe,de,this._needInitSegment||_e),!0}async clearAllBuffer(){this.player.debug.log(this.TAG_NAME,"clearAllBuffer")}decryptBuffer(R,ie){return this._decryptor.decrypt(R,ie)}async reset(){this._transmuxer=null,this._needInitSegment=!0,this._directAppend=!1}async endOfStream(){this._softVideo&&this._softVideo.endOfStream()}async setLiveSeekableRange(R,ie){}seamlessSwitch(){this._needInitSegment=!0}}class Nu{_seiSet=new Set;constructor(R){(this.emitter=R).on("sei",ie=>{ie&&this._seiSet.add(ie)})}throw(R){if(R!=null&&this._seiSet.size){const ie=R-.2,ae=R+.2,we=[];this._seiSet.forEach(_e=>{_e.time>=ie&&_e.time<=ae&&we.push(_e)}),we.forEach(_e=>{this._seiSet.delete(_e),this.emitter.emit("sei-in-time",_e)})}}reset(){this._seiSet.clear()}}class Sl{encodeType="";audioCodec="";videoCodec="";domain="";fps=0;bitrate=0;width=0;height=0;samplerate=0;channelCount=0;gop=0;_bitsAccumulateSize=0;_bitsAccumulateDuration=0;constructor(R){this._timescale=R}getStats(){return{encodeType:this.encodeType,audioCodec:this.audioCodec,videoCodec:this.videoCodec,domain:this.domain,fps:this.fps,bitrate:this.bitrate,width:this.width,height:this.height,samplerate:this.samplerate,channelCount:this.channelCount,gop:this.gop}}setEncodeType(R){this.encodeType=R}setFpsFromScriptData(R){R=R.data,R=R?.onMetaData?.framerate,R&&0<R&&R<100&&(this.fps=R)}setVideoMeta(R){this.width=R.width,this.height=R.height,this.videoCodec=R.codec,this.encodeType=R.codecType,R.fpsNum&&R.fpsDen&&0<(R=R.fpsNum/R.fpsDen)&&R<100&&(this.fps=R)}setAudioMeta(R){this.audioCodec=R.codec,this.samplerate=R.sampleRate,this.channelCount=R.channelCount}setDomain(R){this.domain=R.split("/").slice(2,3)[0]}updateBitrate(R){var ie;(!this.fps||100<=this.fps)&&R.length&&(ie=R.reduce((ae,we)=>ae+we.duration,0)/R.length,this.fps=Math.round(this._timescale/ie)),R.forEach(ae=>{ae.gopId===1&&this.gop++,this._bitsAccumulateDuration+=ae.duration/(this._timescale/1e3),this._bitsAccumulateSize+=ae.units.reduce((we,_e)=>we+_e.length,0),1e3<=this._bitsAccumulateDuration&&(this.bitrate=8*this._bitsAccumulateSize,this._bitsAccumulateDuration=0,this._bitsAccumulateSize=0)})}}class zu{_core=null;_samples=[];constructor(R){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1e3;this._core=R,this._timescale=ie,this._stats=new Sl(ie),this._bindEvents()}getStats(){var{currentTime:R=0,decodeFps:ie=0}=this._core?.media||{};return{...this._stats.getStats(),downloadSpeed:this._core?.speedInfo?.().speed||0,avgSpeed:this._core?.speedInfo?.().avgSpeed||0,currentTime:R,bufferEnd:this._core?.bufferInfo()?.remaining||0,decodeFps:ie}}_bindEvents(){this._core.on("demuxed-track",R=>this._stats.updateBitrate(R.samples)),this._core.on("flv-script-data",R=>{this._stats.setFpsFromScriptData(R)}),this._core.on("metadata-parsed",R=>{R.type==="video"?this._stats.setVideoMeta(R.track):this._stats.setAudioMeta(R.track)}),this._core.on("ttfb",R=>{this._stats.setDomain(R.responseUrl)})}reset(){this._samples=[],this._stats=new Sl(this._timescale)}}class Gu extends me{config=null;_manifestLoader=null;_segmentLoader=null;_playlist=null;_bufferService=null;_seiService=null;_stats=null;_prevSegSn=null;_prevSegCc=null;_tickTimer=null;_tickInterval=500;_segmentProcessing=!1;_reloadOnPlay=!1;_switchUrlOpts=null;_disconnectTimer=null;TAG_NAME="Hls256";constructor(R){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};super(),this.player=R,this.canVideoPlay=!1,this.$videoElement=null,this.config={isLive:!0,maxPlaylistSize:50,retryCount:3,retryDelay:1e3,pollRetryCount:2,loadTimeout:1e4,preloadTime:30,softDecode:!1,bufferBehind:10,maxJumpDistance:3,startTime:0,targetLatency:10,maxLatency:20,allowedStreamTrackChange:!0,...ie},this._manifestLoader=new Iu(this),this._segmentLoader=new Bu(this),this._playlist=new Mu(this),this._bufferService=new Ou(this),this._seiService=new Nu(this),this._stats=new zu(this,9e4),this.player.debug.log(this.TAG_NAME,"init")}async destroy(){this.player.debug.log(this.TAG_NAME,"destroy()"),this._playlist.reset(),this._segmentLoader.reset(),this._seiService.reset(),await Promise.all([this._clear(),this._bufferService.destroy()]),this._manifestLoader&&(await this._manifestLoader.destroy(),this._manifestLoader=null),this._segmentLoader&&(this._segmentLoader.destroy(),this._segmentLoader=null),this._playlist&&(this._playlist.destroy(),this._playlist=null),this.player.debug.log(this.TAG_NAME,"destroy end")}_startTick(){this._stopTick(),this._tickTimer=setTimeout(()=>{this._tick()},this._tickInterval)}_stopTick(){this._tickTimer&&clearTimeout(this._tickTimer),this._tickTimer=null}_tick(){this._startTick(),this._loadSegment()}get isLive(){return this._playlist.isLive}get streams(){return this._playlist.streams}get currentStream(){return this._playlist.currentStream}get hasSubtitle(){return this._playlist.hasSubtitle}get baseDts(){return this._bufferService?.baseDts}speedInfo(){return this._segmentLoader.speedInfo()}getStats(){return this._stats.getStats()}async loadSource(R){return this.player.debug.log(this.TAG_NAME,"loadSource() "+R),await this._reset(),await this._loadData(R),this._startTick(),!0}async _loadData(R){this.player.debug.log(this.TAG_NAME,"_loadData() "+R);try{R=R&&R.trim()}catch{}if(!R)throw this._emitError(new Wr(l2,l2,null,null,"m3u8 url is missing"));const ie=await this._loadM3U8(R),ae=this._playlist.currentStream;if(this._urlSwitching){ae.bitrate===0&&this._switchUrlOpts?.bitrate&&(ae.bitrate=this._switchUrlOpts?.bitrate);const we=this._getSeamlessSwitchPoint(),_e=(this.config.startTime=we,this._playlist.findSegmentIndexByTime(we)),fe=this._playlist.getSegmentByIndex(_e+1);if(fe){const de=fe.start;this.player.debug.warn(this.TAG_NAME,"clear buffer from "+de)}}ie&&(this.isLive?(this.player.debug.log(this.TAG_NAME,"is live"),this._bufferService.setLiveSeekableRange(0,4294967295),this.config.targetLatency<this._playlist.totalDuration&&(this.config.targetLatency=this._playlist.totalDuration,this.config.maxLatency=1.5*this.config.targetLatency),ie.isMaster||this._pollM3U8(R)):(this.player.debug.log(this.TAG_NAME,`is vod and totalDuration is ${ae.totalDuration} s`),await this._bufferService.updateDuration(ae.totalDuration))),await this._loadSegment()}async _loadM3U8(R){let ie;this.player.debug.log(this.TAG_NAME,"load m3u8: "+R);try{[ie]=await this._manifestLoader.load(R)}catch(ae){throw this._emitError(Wr.create(ae))}if(ie)return this._playlist.upsertPlaylist(ie),ie.isMaster?(this._playlist.currentStream.subtitleStreams?.length&&this.emit("subtitle-playlist",{list:this._playlist.currentStream.subtitleStreams}),await this._refreshM3U8()):this.player.debug.warn(this.TAG_NAME,"_loadM3U8() is not master playlist"),this.emit("stream-parsed"),ie;this.player.debug.warn(this.TAG_NAME,"_loadM3U8() playlist is empty")}_refreshM3U8(){this.player.debug.log(this.TAG_NAME,"_refreshM3U8()");var R=this._playlist.currentStream;if(!R||!R.url)throw this._emitError(Wr.create(null,null,new Error("m3u8 url is not defined")));const ie=R.url,ae=R.currentAudioStream?.url,we=R.currentSubtitleStream?.url;return this._manifestLoader.load(ie,ae,we).then(fe=>{var[fe,de,Se]=fe;fe?(this._playlist.upsertPlaylist(fe,de,Se),this.isLive&&this._pollM3U8(ie,ae,we)):this.player.debug.warn(this.TAG_NAME,"_refreshM3U8() mediaPlaylist is empty")}).catch(_e=>{throw this._emitError(Wr.create(_e))})}_pollM3U8(R,ie,ae){let we=this._playlist.isEmpty;this._manifestLoader.poll(R,ie,ae,(_e,fe,de)=>{this._playlist.upsertPlaylist(_e,fe,de),this._playlist.clearOldSegment(),_e&&we&&!this._playlist.isEmpty&&this._loadSegment(),we=we&&this._playlist.isEmpty},_e=>{this._emitError(Wr.create(_e))},1e3*(this._playlist.lastSegment?.duration||0))}_loadSegment=async()=>{var R,ie;if(this.player.debug.log(this.TAG_NAME,"_loadSegment()","_segmentProcessing",this._segmentProcessing),!this._segmentProcessing)return R=this._playlist.currentSegment,ie=this._playlist.nextSegment,this.player.debug.log(this.TAG_NAME,"_loadSegment()","curSeg",R,"nextSeg",ie),ie?this._loadSegmentDirect():void this.player.debug.log(this.TAG_NAME,"nextSeg is null and return");this.player.debug.warn("_loadSegment()","_segmentProcessing is ture and return")};async _loadSegmentDirect(){this.player.debug.log(this.TAG_NAME,"_loadSegmentDirect()");var R=this._playlist.nextSegment;if(R){let ie=!1,ae=null;try{this._segmentProcessing=!0,ie=await this._reqAndBufferSegment(R,this._playlist.getAudioSegment(R))}catch(we){ae=we}finally{this._segmentProcessing=!1}return ae?this._emitError(Wr.create(ae)):(ie?(this._urlSwitching&&(this._urlSwitching=!1,this.emit("switch-url-success",{url:this.config.url})),this._playlist.moveSegmentPointer(),this.player.debug.log(this.TAG_NAME,"_loadSegmentDirect()","seg.isLast",R.isLast),R.isLast?(this.player.debug.log(this.TAG_NAME,"_loadSegmentDirect()","seg.isLast"),this._end()):(this.player.debug.log(this.TAG_NAME,"_loadSegmentDirect()","and next _loadSegment()"),this._loadSegment())):this.player.debug.log(this.TAG_NAME,"_loadSegmentDirect() not appended"),ie)}this.player.debug.log(this.TAG_NAME,"_loadSegmentDirect() !seg")}async _reqAndBufferSegment(R,ie){this.player.debug.log(this.TAG_NAME,"video seg",R&&R.url,"audio seg",ie&&ie.url);var ae=(R||ie).cc,we=this._prevSegCc!==ae;let _e=[];try{_e=await this._segmentLoader.load(R,ie,we)}catch(xe){throw xe.fatal=!1,this._segmentLoader.error=xe}if(_e[0]){var fe,de,Se,Pe=await this._bufferService.decryptBuffer(..._e);if(Pe)return fe=(R||ie).sn,de=(R||ie).start,Se=this._playlist.currentStream,this._bufferService.createSource(Pe[0],Pe[1],Se?.videoCodec,Se?.audioCodec),await this._bufferService.appendBuffer(R,ie,Pe[0],Pe[1],we,this._prevSegSn===fe-1,de),this._prevSegCc=ae,this._prevSegSn=fe,!0;this.player.debug.log(this.TAG_NAME,"decryptBuffer return null")}}async _clear(){this.player.debug.log(this.TAG_NAME,"_clear()"),clearTimeout(this._disconnectTimer),this._stopTick(),await Promise.all([this._segmentLoader.cancel(),this._manifestLoader.stopPoll()]),this._segmentProcessing=!1}async _reset(){var R=0<arguments.length&&arguments[0]!==void 0&&arguments[0];return this.player.debug.log(this.TAG_NAME,"_reset()"),this._reloadOnPlay=!1,this._prevSegSn=null,this._prevSegCc=null,this._switchUrlOpts=null,this._playlist.reset(),this._segmentLoader.reset(),this._seiService.reset(),this._stats.reset(),await this._clear(),this._bufferService.reset(R)}_end(){this.player.debug.log(this.TAG_NAME,"_end()"),this._clear()}_emitError(R){var ie=1<arguments.length&&arguments[1]!==void 0&&arguments[1];return R.originError?.fatal===!1?console.warn(R):(console.table(R),console.error(R),console.error(this.media?.error),this._stopTick(),this._urlSwitching&&(this._urlSwitching=!1,this.emit("switch-url-failed",R)),ie&&this._end(),this._seiService.reset(),this.emit("error",R)),R}_getSeamlessSwitchPoint(){var R,ie=this.media;let ae=ie.currentTime;return ie.paused||(ie=this._playlist.findSegmentIndexByTime(ie.currentTime),ie=this._playlist.getSegmentByIndex(ie),R=this._stats?.getStats().downloadSpeed,ae+=R&&ie?ie.duration*this._playlist.currentStream.bitrate/R+1:5),ae}getDemuxBuferredDuration(){return this._bufferService.getBuferredDuration()||0}getDemuxBufferedListLength(){return this._bufferService.getBufferedSegments()||0}getDemuxAudioBufferedListLength(){return this._bufferService.getBufferedAudioSegments()||0}getDemuxVideoBufferedListLength(){return this._bufferService.getBufferedVideoSegments()||0}}class El extends me{TAG_NAME="Hls256Decoder";constructor(R){super(),this.player=R,this.canVideoPlay=!1,this.$videoElement=this.player.video.$videoElement,this.hls=null,this.eventsDestroy=[],this.bandwidthEstimateInterval=null,B2()?this.canVideoPlay=!0:(this.hls=new Gu(R),this._bindEvents())}async destroy(){return this._stopBandwidthEstimateInterval(),this.hls&&(await this.hls.destroy(),this.hls=null),this.eventsDestroy.length&&(this.eventsDestroy.forEach(R=>R()),this.eventsDestroy=[]),this.$videoElement=null,this.player.debug.log(this.TAG_NAME,"destroy"),!0}_bindEvents(){this.hls.on("error",R=>{this.player.emitError(L0.hlsError,R)}),this._startBandwidthEstimateInterval()}_startBandwidthEstimateInterval(){this._stopBandwidthEstimateInterval(),this.bandwidthEstimateInterval=setInterval(()=>{var R=this.hls.speedInfo();this.player.emit(d0.kBps,(R.avgSpeed/1024).toFixed(2))},1e3)}_stopBandwidthEstimateInterval(){this.bandwidthEstimateInterval&&(clearInterval(this.bandwidthEstimateInterval),this.bandwidthEstimateInterval=null)}initVideoPlay(R){this.$videoElement.muted=!0,this.$videoElement.src=R}async loadSource(R){return this.player.debug.log(this.TAG_NAME,"loadSource() "+R),this.url=R,this.canVideoPlay?this.initVideoPlay(R):await this.hls.loadSource(R),!0}checkHlsBufferedDelay(){let R=0;return R=this.hls?this.hls.getDemuxBuferredDuration():R}getDemuxBufferedListLength(){let R=0;return R=this.hls?this.hls.getDemuxBufferedListLength():R}getDemuxAudioBufferedListLength(){let R=0;return R=this.hls?this.hls.getDemuxAudioBufferedListLength():R}getDemuxVideoBufferedListLength(){let R=0;return R=this.hls?this.hls.getDemuxVideoBufferedListLength():R}}class Tl extends me{constructor(R){super(),this.player=R,this.rtcPeerConnection=null,this.videoStream=null,this._initRtcPeerConnection(),this.player.debug.log("WebrtcDecoder","init")}destroy(){this.rtcPeerConnection&&(this.rtcPeerConnection.close(),this.rtcPeerConnection=null),this.videoStream=null,this.player.video.$videoElement.srcObject=null,this.player.debug.log("WebrtcDecoder","destroy")}_initRtcPeerConnection(){const R=new RTCPeerConnection,ie=this.player;R.addTransceiver("video",{direction:"recvonly"}),R.addTransceiver("audio",{direction:"recvonly"}),R.onsignalingstatechange=ae=>{this.player.debug.log("WebrtcDecoder","onsignalingstatechange",ae)},R.oniceconnectionstatechange=ae=>{this.player.debug.log("WebrtcDecoder","oniceconnectionstatechange",R.iceConnectionState)},R.onicecandidate=ae=>{this.player.debug.log("WebrtcDecoder","onicecandidate",ae)},R.ontrack=ae=>{var we=ie.video.$videoElement;ae.track.kind==="video"&&(ae=ae.streams[0],we.srcObject=ae,this.videoStream=ae)},R.onconnectionstatechange=ae=>{switch(ie.debug.log("WebrtcDecoder","sdp connect status "+R.connectionState),R.connectionState){case"connected":break;case"disconnected":ie.emit(d0.webrtcDisconnect);break;case"failed":ie.emit(d0.webrtcFailed);break;case"closed":ie.emit(d0.webrtcClosed)}},this.rtcPeerConnection=R}loadSource(R){return new Promise((ie,ae)=>{const we=this.rtcPeerConnection;we.createOffer().then(_e=>{we.setLocalDescription(_e),this.player.debug.log("WebrtcDecoder","getWebRtcRemoteSdp loadSource"),_e=_e.sdp,fetch(R,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",redirect:"follow",referrerPolicy:"no-referrer",headers:{"Content-Type":"application/sdp"},body:_e}).then(fe=>{fe.text().then(de=>{this.player.debug.log("WebrtcDecoder","getWebRtcRemoteSdp response"),we.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:de})),ie()}).catch(de=>{this.player.debug.error("WebrtcDecoder","loadSource response.text() error",de),ae(de)})}).catch(fe=>{this.player.debug.error("WebrtcDecoder","loadSource getWebRtcRemoteSdp response error",fe),ae(fe)})}).catch(_e=>{this.player.debug.error("WebrtcDecoder","loadSource rtcPeerConnection.createOffer() error",_e),ae(_e)})})}}class xl extends me{constructor(R){super(),this.tagName="WebrtcForZLMDecoder",this.player=R,this.rtcPeerConnection=null,this.videoStream=null,this._initRtcPeerConnection(),this.player.debug.log(this.tagName,"init")}destroy(){this.rtcPeerConnection&&(this.rtcPeerConnection.close(),this.rtcPeerConnection=null),this.videoStream&&(this.videoStream.getTracks().forEach(R=>R.stop()),this.videoStream=null),this.videoStream=null,this.player.video.$videoElement.srcObject=null,this.player.debug.log(this.tagName,"destroy")}_initRtcPeerConnection(){const R=new RTCPeerConnection,ie=this.player;R.addTransceiver("video",{direction:"recvonly"}),R.addTransceiver("audio",{direction:"recvonly"}),R.onsignalingstatechange=ae=>{console.log("onsignalingstatechange",ae)},R.oniceconnectionstatechange=ae=>{console.log("oniceconnectionstatechange",R.iceConnectionState)},R.onicecandidate=ae=>{console.log("onicecandidate",ae)},R.ontrack=ae=>{var we=ie.video.$videoElement;console.log("ontrack",ae),ae.track.kind==="video"&&(ae=ae.streams[0],we.srcObject=ae,this.videoStream=ae)},this.rtcPeerConnection=R}loadSource(R){return new Promise((ie,ae)=>{const we=this.rtcPeerConnection;we.createOffer().then(_e=>{we.setLocalDescription(_e),this.player.debug.log(this.tagName,"getWebRtcRemoteSdp loadSource"),_e=_e.sdp,Ms({url:R,type:"POST",data:_e,contentType:"text/plain;charset=utf-8",processData:!1,dataType:"json"}).then(fe=>{if(this.player.debug.log(this.tagName,"getWebRtcRemoteSdp response"),fe=fe.data,fe.code!==0)return ae(fe.msg);we.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:fe.sdp})),ie()}).catch(fe=>{this.player.debug.error(this.tagName,"loadSource getWebRtcRemoteSdp response error",fe),ae(fe)})}).catch(_e=>{this.player.debug.error(this.tagName,"loadSource rtcPeerConnection.createOffer() error",_e),ae(_e)})})}}class Hu extends me{constructor(R,ie){super(),this.player=R,this.player.$container.classList.add("jessibuca-container-playback"),this._showPrecision=null,this._startTime=null,this._playStartTime=null,this._playingTimestamp=null,this._fps=parseInt(ie.fps,10)||R._opt.playbackFps,this._isUseFpsRender=!!br(ie.isUseFpsRender),this._rate=1,this._audioTimestamp=0,this._videoTimestamp=0,this._currentLocalTimestamp=0,this._localOneFrameTimestamp=ie.localOneFrameTimestamp||40,this._localCalculateTimeInterval=null,this._isUseLocalCalculateTime=!!br(ie.isUseLocalCalculateTime),this._isPlaybackPauseClearCache=!xi(ie.isPlaybackPauseClearCache),this._isCacheBeforeDecodeForFpsRender=!!br(ie.isCacheBeforeDecodeForFpsRender),this._startfpsTime=null,this._startFpsTimestamp=null,this._checkStatsInterval=null,this._playbackTs=0,this._renderFps=0,this._isUseLocalCalculateTime?this._startLocalCalculateTime():this._listen(),this.playbackList=[],this._totalDuration=0,this.initPlaybackList(ie.playList),this.player.on(d0.playbackPause,ae=>{ae?this.pause():this.resume()}),R.debug.log("Playback","init",{fps:this._fps,isUseFpsRender:this._isUseFpsRender,localOneFrameTimestamp:this._localOneFrameTimestamp,isUseLocalCalculateTime:this._isUseLocalCalculateTime,uiUsePlaybackPause:ie.uiUsePlaybackPause,showControl:ie.showControl})}destroy(){this._startTime=null,this._showPrecision=null,this._playStartTime=null,this._playingTimestamp=null,this._totalDuration=0,this._audioTimestamp=0,this._videoTimestamp=0,this._fps=null,this._isUseFpsRender=!1,this._rate=1,this.playbackList=[],this._localCalculateTimeInterval=null,this._currentLocalTimestamp=0,this._startfpsTime=null,this._startFpsTimestamp=null,this._renderFps=0,this._playbackTs=0,this._stopLocalCalculateTime(),this.clearStatsInterval(),this.player.$container&&this.player.$container.classList.remove("jessibuca-container-playback"),this.off(),this.player.debug.log("Playback","destroy")}_listen(){this.player.on(d0.stats,R=>{R=R.ts,this._playStartTime||(this._playStartTime=R),R-=this._playStartTime,this.setPlayingTimestamp(R)})}pause(){this.clearStatsInterval()}resume(){this.startCheckStatsInterval()}updateStats(){var R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},R=(this._startFpsTimestamp||(this._startFpsTimestamp=_i()),Zi(R.ts)&&(this.player.updateStats({fps:!0,ts:R.ts}),this._playbackTs=R.ts,this._startfpsTime||(this._startfpsTime=R.ts),this._renderFps+=1),_i()),ie=R-this._startFpsTimestamp;if(!(ie<1e3)){let ae=null;this._startfpsTime&&(ae=this._playbackTs-this._startfpsTime),this.player.emit(d0.playbackStats,{fps:this._renderFps,rate:this.rate,start:this._startfpsTime,end:this._playbackTs,timestamp:ie,dataTimestamp:ae,audioBufferSize:this.player.audio?this.player.audio.bufferSize:0,videoBufferSize:this.player.video?this.player.video.bufferSize:0,ts:this._playbackTs}),this._renderFps=0,this._startfpsTime=this._playbackTs,this._startFpsTimestamp=R}}updateLocalOneFrameTimestamp(R){this._localOneFrameTimestamp=R}_startLocalCalculateTime(){this._stopLocalCalculateTime(),this._localCalculateTimeInterval=setInterval(()=>{var R=this._currentLocalTimestamp,R=(this._playStartTime||(this._playStartTime=R),R-this._playStartTime);this.setPlayingTimestamp(R)},1e3)}startCheckStatsInterval(){this.clearStatsInterval(),this._checkStatsInterval=setInterval(()=>{this.updateStats()},1e3)}_stopLocalCalculateTime(){this._localCalculateTimeInterval&&(clearInterval(this._localCalculateTimeInterval),this._localCalculateTimeInterval=null)}clearStatsInterval(){this._checkStatsInterval&&(clearInterval(this._checkStatsInterval),this._checkStatsInterval=null)}increaseLocalTimestamp(){this._isUseLocalCalculateTime&&(this._currentLocalTimestamp+=this._localOneFrameTimestamp)}initPlaybackList(R){this.playbackList=R||[];let ie=0;this.playbackList.forEach((ae,we)=>{z1(ae.start)===10&&(ae.startTimestamp=1e3*ae.start,ae.startTime=wo(ae.startTimestamp)),z1(ae.end)===10&&(ae.endTimestamp=1e3*ae.end,ae.endTime=wo(ae.endTimestamp)),ae.duration=ae.end-ae.start,ie+=ae.duration}),this._totalDuration=ie,this.player.debug.log("Playback",this.playbackList),0<this.playbackList.length&&this.setStartTime(this.playbackList[0].startTimestamp),this.setShowPrecision(ws)}get startTime(){return this._startTime||0}setStartTime(R){this._startTime=R,this._playStartTime=null}setRate(R){this._rate=R,this.player.emit(d0.playbackRateChange,R)}get fps(){return this._fps}get rate(){return this._rate}get isUseFpsRender(){return this._isUseFpsRender}get isUseLocalCalculateTime(){return this._isUseLocalCalculateTime}get showPrecision(){return this._showPrecision}get is60Min(){return this.showPrecision===ws}get is30Min(){return this.showPrecision===Mr}get is10Min(){return this.showPrecision===sr}get is5Min(){return this.showPrecision===b1}get is1Min(){return this.showPrecision===b1}get isPlaybackPauseClearCache(){return this._isPlaybackPauseClearCache}get isCacheBeforeDecodeForFpsRender(){return this._isCacheBeforeDecodeForFpsRender}setShowPrecision(R){this._showPrecision&&this._showPrecision===R||(this._showPrecision=R,this.player.emit(d0.playbackPrecision,this._showPrecision,this.playbackList))}setPlayingTimestamp(ie){var ie=this.startTime+ie,ae=(this._playingTimestamp=ie,this.player.emit(d0.playbackTime,ie),new Date(ie));this.player.emit(d0.playbackTimestamp,{ts:ie,hour:ae.getHours(),min:ae.getMinutes(),second:ae.getSeconds()})}get playingTimestamp(){return this._playingTimestamp}narrowPrecision(){var R=Vs.indexOf(this.showPrecision)-1;0<=R&&(R=Vs[R],this.setShowPrecision(R))}expandPrecision(){var R=Vs.indexOf(this.showPrecision)+1;R<=Vs.length-1&&(R=Vs[R],this.setShowPrecision(R))}seek(R){if(console.log(R),R.hasRecord==="true"){let ie=R.time;R.type==="min"&&(ie=60*R.time),this.player.emit(d0.playbackSeek,(function(ae){let we={};return we=-1<ae?{hour:Math.floor(ae/60/60)%60,min:Math.floor(ae/60)%60,second:ae%60}:we})(ie))}}}class Cl extends me{constructor(R){super(),this.player=R,this.bindEvents=[],this.isDragging=!1,this.currentZoom=1,this.prevVideoElementStyleTransform=null,this.prevVideoElementStyleScale=null,this.tempPosition={x:0,y:0},this.videoPosition={left:0,top:0};var{proxy:ie}=this.player.events;this.player.on(d0.zooming,ae=>{if(ae){this.player.$container.classList.add("jessibuca-zoom-control"),this._bindEvents();const fe=this.player.video.$videoElement.style.transform;var _e=this.player.video.$videoElement.style.left,we=this.player.video.$videoElement.style.top,_e=parseFloat(_e),we=parseFloat(we),_e=(_e&&(this.videoPosition.left=_e),we&&(this.videoPosition.top=we),(this.prevVideoElementStyleTransform=fe).match(/scale\([0-9., ]*\)/g));_e&&_e[0]&&(we=_e[0].replace("scale(","").replace(")",""),this.prevVideoElementStyleScale=we.split(","))}else this.player.$container.classList.remove("jessibuca-zoom-control"),this._unbindEvents(),this._resetVideoPosition(),this.player.$container.style.cursor="auto",this.player.video.$videoElement.style.transform=this.prevVideoElementStyleTransform,this.prevVideoElementStyleTransform=null,this.prevVideoElementStyleScale=null}),ie(window,"mouseup",ae=>{this.handleMouseUp(ae)}),R.debug.log("zoom","init")}destroy(){this.bindEvents=[],this.isDragging=!1,this.currentZoom=1,this.prevVideoElementStyleTransform=null,this.prevVideoElementStyleScale=null,this.tempPosition={x:0,y:0},this.videoPosition={left:0,top:0},this.off(),this.player.debug.log("zoom","destroy")}_bindEvents(){var R=this.player.events.proxy,ie=R(this.player.$container,"mousemove",ae=>{this.handleMouseMove(ae)}),ie=(this.bindEvents.push(ie),R(this.player.$container,"mousedown",ae=>{this.handleMouseDown(ae)}));this.bindEvents.push(ie)}_unbindEvents(){this.bindEvents.forEach(R=>{R&&R()})}handleMouseMove(R){var ie,ae,we;R.stopPropagation(),this.isDragging&&this.player.zooming&&({posX:R,posY:ie}=P2(R),ae=this.tempPosition.x-R,we=this.tempPosition.y-ie,this.videoPosition.left=this.videoPosition.left-ae,this.videoPosition.top=this.videoPosition.top-we,this.tempPosition.x=R,this.tempPosition.y=ie,this.updateVideoPosition())}handleMouseDown(R){R.stopPropagation();const ie=Is(R);if(this.player.zooming&&(ie.matches("video")||ie.matches("canvas"))){const{posX:ae,posY:we}=P2(R);this.player.$container.style.cursor="grabbing",this.tempPosition.x=ae,this.tempPosition.y=we,this.isDragging=!0,this.player.debug.log("zoom","handleMouseDown is dragging true")}}handleMouseUp(R){R.stopPropagation(),this.isDragging&&this.player.zooming&&(this.tempPosition={x:0,y:0},this.isDragging=!1,this.player.$container.style.cursor="grab",this.player.debug.log("zoom","handleMouseUp is dragging false"))}updateVideoPosition(){var R=this.player.video.$videoElement;R.style.left=this.videoPosition.left+"px",R.style.top=this.videoPosition.top+"px"}_resetVideoPosition(){this.player.resize(),this.tempPosition={x:0,y:0},this.videoPosition={left:0,top:0},this.currentZoom=1}narrowPrecision(){this.currentZoom<=1||(--this.currentZoom,this.updateVideoElementScale())}expandPrecision(){5<=this.currentZoom||(this.currentZoom+=1,this.updateVideoElementScale())}updateVideoElementScale(){const R=this.player.video.$videoElement;let ie=R.style.transform,ae=1,we=1;if(this.prevVideoElementStyleScale){const Se=this.prevVideoElementStyleScale[0],Pe=(Se!==void 0&&(ae=Se,we=Se),this.prevVideoElementStyleScale[1]);Pe!==void 0&&(we=Pe)}we=Ls(we);var _e=.5*(ae=Ls(ae))*(this.currentZoom-1)+ae,fe=.5*we*(this.currentZoom-1)+we,de=ie.indexOf("scale(")===-1?ie+` scale(${_e},${fe})`:ie.replace(/scale\([0-9., ]*\)/,`scale(${_e},${fe})`);this.player.debug.log("zoom",`updateVideoElementScale end is ${_e}, ${fe} style is `+de),R.style.transform=de}}class Vu extends me{constructor(R){super(),this.player=R,this.faceDetector=null,this.objectDetector=null,this.initFaceDetector(),this.initObjectDetector(),this.player.debug.log("AiLoader","init")}initFaceDetector(){if(this.player._opt.useFaceDetector&&window.JessibucaProFaceDetector){const R=new JessibucaProFaceDetector({detectWidth:this.player._opt.aiFaceDetectWidth});R.load().then(()=>{this.player.debug.log("AiLoader","init face detector success"),this.faceDetector=R})}}initObjectDetector(){if(this.player._opt.useObjectDetector&&window.JessibucaProObjectDetector){const R=new JessibucaProObjectDetector({detectWidth:this.player._opt.aiObjectDetectWidth});R.load().then(()=>{this.player.debug.log("AiLoader","init object detector success"),this.objectDetector=R,this.objectDetector.on("jessibuca-pro-object-detector-info",ie=>{ie&&0<ie.length&&this.player.emit(d0.aiObjectDetectorInfo,ie)})})}}destroy(){this.faceDetector&&(this.faceDetector.destroy(),this.faceDetector=null),this.objectDetector&&(this.objectDetector.destroy(),this.objectDetector=null),this.off()}}class Wu extends me{constructor(R){super(),this.player=R,this.LOG_NAME="Contextmenu",this.menuList=[],this.$contextmenus=R.control.$contextmenus,es()?this.player.debug.warn(this.LOG_NAME,"not support mobile"):this.init(),R.debug.log(this.LOG_NAME,"init")}destroy(){this.menuList=[],this.player.debug.log(this.LOG_NAME,"destroy")}get isShow(){return this.player.$container.classList.contains("jessibuca-contextmenus-show")}show(){this.player.$container.classList.add("jessibuca-contextmenus-show")}hide(){this.player.$container.classList.remove("jessibuca-contextmenus-show")}init(){var{proxy:R}=this.player.events;0<this.player._opt.contextmenuBtns.length&&this.player._opt.contextmenuBtns.forEach(ie=>{this.addMenuItem(ie)}),R(this.player.$container,"contextmenu",we=>{we.preventDefault(),this.show();var ae=we.clientX,we=we.clientY,{height:_e,width:fe,left:de,top:Se}=this.player.$container.getBoundingClientRect(),{height:Pe,width:xe}=this.$contextmenus.getBoundingClientRect();let Oe=ae-de,Fe=we-Se;de+fe<ae+xe&&(Oe=fe-xe),Se+_e<we+Pe&&(Fe=_e-Pe),ri(this.$contextmenus,{left:Oe+"px",top:Fe+"px"})}),R(this.player.$container,"click",ie=>{vl(ie,this.$contextmenus)||this.hide()}),this.player.on(d0.blur,()=>{this.hide()})}_validateMenuItem(R){let ie=!0;return R.content||(this.player.debug.warn(this.LOG_NAME,"content is required"),ie=!1),ie}addMenuItem(){let R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};var ie,ae,we,_e,fe=Cn(Xl);R=Object.assign({},fe,R),this._validateMenuItem(R)&&({events:{proxy:fe},debug:ie}=this.player,we=`
            <div class="jessibuca-contextmenu jessibuca-contextmenu-${ae=U1()}">
                ${R.content}
            </div>
        `,(_e=Array.from(this.$contextmenus.children)[R.index])?_e.insertAdjacentHTML("beforebegin",we):Al(this.$contextmenus,we),_e=this.$contextmenus.querySelector(".jessibuca-contextmenu-"+ae),R.click&&fe(_e,"click",de=>{de.preventDefault(),R.click.call(this.player,this,de),this.hide()}),this.menuList.push({uuid:ae,$menuItem:_e}))}}class ju extends me{_opt={};constructor(we){let ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};super(),this.$container=we;var ae,we=ko();if(this._opt=Object.assign({},we,ie),this.debug=new I1(this),this._opt.forceNoOffscreen=!0,es()&&(this._opt.controlAutoHide=!1),this._opt.forceNoOffscreen||(typeof OffscreenCanvas>"u"?(this._opt.forceNoOffscreen=!0,this._opt.useOffscreen=!1):this._opt.useOffscreen=!0),this._opt.isMpeg4&&(this._opt.useWCS=!1,this._opt.useMSE=!1,this._opt.isNakedFlow=!1,this._opt.useSIMD=!1,this._opt.isFmp4=!1),(this.isOldHls()||this._opt.isWebrtc)&&(this._opt.useWCS=!1,this._opt.useMSE=!1,this._opt.isNakedFlow=!1),this._opt.isNakedFlow,!this.isOldHls()&&!this._opt.isWebrtc){if(this._opt.useWCS){const de="VideoEncoder"in window,Se=x2();this._opt.useWCS=de,this._opt.useWCS&&this._opt.isH265&&(this._opt.useWCS=Se),this._opt.useWCS||this.debug.warn("Player",`
                    useWCS is true,
                    and supportWCS is ${de}, supportHevcWCS is ${Se} , _opt.isH265 is ${this._opt.isH265}
                     so set useWCS false`),this._opt.useWCS&&(this._opt.useOffscreen?this._opt.wcsUseVideoRender=!1:this._opt.wcsUseVideoRender&&(this._opt.wcsUseVideoRender=Tn()&&$n(),this._opt.wcsUseVideoRender||this.debug.warn("Player","wcsUseVideoRender is true, but not support so set wcsUseVideoRender false")))}if(this._opt.useMSE){const de=(function(){let Pe=!1;return Pe="MediaSource"in window&&window.MediaSource.isTypeSupported(_n)?!0:Pe})(),Se=I0();this._opt.useMSE=de,this._opt.useMSE&&this._opt.isH265&&(this._opt.useMSE=Se),this._opt.useMSE||this.debug.warn("Player",`
                    useMSE is true,
                    and supportMSE is ${de}, supportHevcMSE is ${Se} , _opt.isH265 is ${this._opt.isH265}
                     so set useMSE false`)}}this._opt.useMSE?(this._opt.useWCS&&this.debug.warn("Player","useMSE is true and useWCS is true then useWCS set true->false"),this._opt.forceNoOffscreen||this.debug.warn("Player","useMSE is true and forceNoOffscreen is false then forceNoOffscreen set false->true"),this._opt.useWCS=!1,this._opt.forceNoOffscreen=!0):this._opt.useWCS,!this._opt.useSIMD&&this._opt.decoder.indexOf("-simd")===-1||(this._opt.useSIMD=WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))&&xi(/iphone/i.test(navigator.userAgent)),this._opt.useSIMD)||this.debug.warn("Player","useSIMD is true, but not support so set useSIMD false"),this._opt.useSIMD?this._opt.decoder.indexOf("-simd")===-1&&(this._opt.decoder=this._opt.decoder.replace("decoder-pro","decoder-pro-simd")):this._opt.decoder.indexOf("-simd")!==-1&&(this._opt.decoder=this._opt.decoder.replace("decoder-pro-simd","decoder-pro")),this._opt.decoder.indexOf("-simd")!==-1?this._opt.decoderAudio=this._opt.decoder.replace("decoder-pro-simd","decoder-pro-audio"):this._opt.decoderAudio=this._opt.decoder.replace("decoder-pro","decoder-pro-audio"),xi(this._opt.hasAudio)&&(this._opt.operateBtns.audio=!1),xi(this._opt.hasVideo)&&(this._opt.operateBtns.fullscreen=!1,this._opt.operateBtns.screenshot=!1,this._opt.operateBtns.record=!1,this._opt.operateBtns.ptz=!1,this._opt.operateBtns.quality=!1,this._opt.operateBtns.zoom=!1),this._opt.qualityConfig&&this._opt.qualityConfig.length===0&&this._opt.operateBtns.quality&&(this._opt.operateBtns.quality=!1,this.debug.warn("Player","_opt.qualityConfig is empty, so set operateBtns.quality false")),br(this._opt.useWebGPU)&&(this._opt.useWebGPU=(function(){let de=!1;return de="gpu"in navigator?!0:de})(),xi(this._opt.useWebGPU))&&this.debug.warn("Player","useWebGPU is true, but not support so set useWebGPU false"),this._opt.hasControl=this._hasControl(),this._loading=!1,this._playing=!1,this._playbackPause=!1,this._hasLoaded=!1,this._zooming=!1,this._destroyed=!1,this._checkHeartTimeout=null,this._checkLoadingTimeout=null,this._checkStatsInterval=null,this._checkVisibleHiddenTimeout=null,this._startBpsTime=null,this._isPlayingBeforePageHidden=!1,this._stats={buf:0,netBuf:0,fps:0,maxFps:0,dfps:0,abps:0,vbps:0,ts:0,mseTs:0,pTs:0,dts:0},this._allStatsData={},this._faceDetectActive=!1,this._objectDetectActive=!1,this._times={playInitStart:"",playStart:"",streamStart:"",streamResponse:"",demuxStart:"",decodeStart:"",videoStart:"",playTimestamp:"",streamTimestamp:"",streamResponseTimestamp:"",demuxTimestamp:"",decodeTimestamp:"",videoTimestamp:"",allTimestamp:""},this._videoTimestamp=0,this._audioTimestamp=0,this._videoIframeIntervalTs=0,this._streamQuality=this._opt.defaultStreamQuality||"",this._visibility=!0,this._lastestVisibilityChangeTimestamp=null,this._tempWorkerStats=null,this._historyFpsList=[],this._isPlayback()&&(this._opt.useMSE=!1,this._opt.useWCS=!1),xi(this._opt.useMSE)&&xi(this._opt.useWCS)&&xi(this._opt.isWebrtc)&&!this.isOldHls()&&(this._opt.useWasm=!0),(this.isOldHls()||this._opt.isWebrtc)&&(this._opt.hasVideo=!0,this._opt.hasAudio=!0),this._opt.hasVideo||(this._opt.useMSE=!1,this._opt.useWCS=!1),this._opt.useWasm&&(this._opt.useOffscreen?this._opt.wasmUseVideoRender=!1:this._opt.wasmUseVideoRender&&(this._opt.wasmUseVideoRender=E2()&&Tn()&&$n(),this._opt.wasmUseVideoRender||this.debug.warn("Player","use wasm video render, but not support so set wasmUseVideoRender false")),this._opt.useSIMD?this.debug.log("Player","use simd wasm"):this.debug.log("Player","use wasm")),this._opt.useWasm&&(this._opt.useFaceDetector&&window.JessibucaProFaceDetector||this._opt.useObjectDetector&&window.JessibucaProObjectDetector)?(this.ai=new Vu(this),this._opt.useFaceDetector&&window.JessibucaProFaceDetector||(this._opt.operateBtns.aiFace=!1),this._opt.useObjectDetector&&window.JessibucaProObjectDetector||(this._opt.operateBtns.aiObject=!1)):(this._opt.operateBtns.aiObject=!1,this._opt.operateBtns.aiFace=!1),!this._opt.useFaceDetector||this._opt.useWasm&&window.JessibucaProFaceDetector||this.debug.warn("Player",`use face detector, useWasm is ${this._opt.useWasm} and window.JessibucaProFaceDetector is `+!!window.JessibucaProFaceDetector),!this._opt.useObjectDetector||this._opt.useWasm&&window.JessibucaProObjectDetector||this.debug.warn("Player",`use object detector, useWasm is ${this._opt.useWasm} and window.JessibucaProObjectDetector is `+!!window.JessibucaProObjectDetector),this._opt.useVideoRender&&(this._opt.useWasm&&!this._opt.useOffscreen?(this._opt.wasmUseVideoRender=E2()&&Tn()&&$n(),this._opt.wasmUseVideoRender||this.debug.warn("Player","use wasm video render, but not support so set wasmUseVideoRender false")):this._opt.useWCS&&!this._opt.useOffscreen&&(this._opt.wcsUseVideoRender=Tn()&&$n(),this._opt.wcsUseVideoRender||this.debug.warn("Player","use wcs video render, but not support so set wcsUseVideoRender false"))),this._opt.useCanvasRender&&(this._opt.useMSE&&(this._opt.mseUseCanvasRender=!0),this._opt.useWasm&&(this._opt.wasmUseVideoRender=!1),this._opt.useWCS&&(this._opt.wcsUseVideoRender=!1),this.isOldHls())&&!M1()&&(this._opt.hlsUseCanvasRender=!0),this._opt.useVideoRender=!1,this._opt.useCanvasRender=!1,this._opt.useWasm?this._opt.wasmUseVideoRender?this._opt.useVideoRender=!0:this._opt.useCanvasRender=!0:this._opt.useWCS?this._opt.wcsUseVideoRender?this._opt.useVideoRender=!0:this._opt.useCanvasRender=!0:this._opt.useMSE?this._opt.mseUseCanvasRender?this._opt.useCanvasRender=!0:this._opt.useVideoRender=!0:this.isOldHls()?this._opt.hlsUseCanvasRender?this._opt.useCanvasRender=!0:this._opt.useVideoRender=!0:this._opt.isWebrtc&&(this._opt.useVideoRender=!0),ae=this,Object.defineProperty(ae,"rect",{get:()=>{var de=ae.$container.getBoundingClientRect();return de.width=Math.max(de.width,ae.$container.clientWidth),de.height=Math.max(de.height,ae.$container.clientHeight),de}}),["bottom","height","left","right","top","width"].forEach(de=>{Object.defineProperty(ae,de,{get:()=>ae.rect[de]})}),this.events=new V1(this),this._opt.hasVideo&&(this.video=new dn(this),this.recorder=new fn(this)),this.isOldHls()?(this.hlsDecoder=new t2(this),this.loaded=!0):this._opt.isWebrtc?(this._opt.isWebrtcForZLM?this.webrtc=new xl(this):this.webrtc=new Tl(this),this.loaded=!0):(this.isUseHls265()&&(this.hlsDecoder=new El(this)),G1(this._opt)?this.loaded=!0:this.decoderWorker=new cs(this)),this._opt.hasAudio&&(this.audio=new Qn(this)),this.stream=null,this.demux=null,this._lastVolume=null,this._isInZoom=!1,this._playingStartTimestamp=null,this._opt.useWCS&&(this.webcodecsDecoder=new ml(this),this._opt.hasAudio||(this.loaded=!0)),this._opt.useMSE&&(this.mseDecoder=new wl(this),this._opt.hasAudio||(this.loaded=!0)),this.control=new ku(this),0<this._opt.contextmenuBtns.length&&(this.contextmenu=new Wu(this)),this._isPlayback()&&(this.playback=new Hu(this,this._opt.playbackConfig)),this._opt.operateBtns.zoom&&(this.zoom=new Cl(this)),/(iphone|ipad|ipod|ios|android)/i.test(window.navigator.userAgent.toLowerCase())&&xi(this._opt.supportLockScreenPlayAudio&&hn())&&(this.keepScreenOn=new X1(this));var _e=this;try{const de=Se=>{Is(Se)===_e.$container&&(_e.emit(Lt.fullscreen,_e.fullscreen),!_e.fullscreen||_e._opt.useMSE)&&_e.resize()};cr.on("change",de),_e.events.destroys.push(()=>{cr.off("change",de)})}catch{}if(_e.on(d0.decoderWorkerInit,()=>{_e.debug.log("player","listen decoderWorkerInit and set loaded true"),_e.loaded=!0}),_e.on(d0.play,()=>{_e.loading=!1}),_e.on(d0.fullscreen,de=>{if(de)try{cr.request(_e.$container).then(()=>{}).catch(Se=>{_e.debug.error("player","fullscreen request error",Se),es()&&_e._opt.useWebFullScreen&&(_e.webFullscreen=!0)})}catch{es()&&_e._opt.useWebFullScreen&&(_e.webFullscreen=!0)}else try{cr.exit().then(()=>{_e.webFullscreen&&(_e.webFullscreen=!1)}).catch(Se=>{_e.debug.error("player","fullscreen exit error",Se),_e.webFullscreen&&(_e.webFullscreen=!1)})}catch{_e.webFullscreen&&(_e.webFullscreen=!1)}}),es()&&_e.on(d0.webFullscreen,de=>{de?_e.$container.classList.add("jessibuca-fullscreen-web"):_e.$container.classList.remove("jessibuca-fullscreen-web"),_e.emit(Lt.fullscreen,_e.fullscreen)}),_e.on(d0.resize,()=>{_e.video&&_e.video.resize()}),_e._opt.debug){const de=[d0.timeUpdate];Object.keys(d0).forEach(Se=>{_e.on(d0[Se],Pe=>{de.includes(Se)||_e.debug.log("player events",d0[Se],Pe)})}),Object.keys(L0).forEach(Se=>{_e.on(L0[Se],Pe=>{_e.debug.warn("player event error",L0[Se],Pe)})})}{var fe=this;const{_opt:de,debug:Se,events:{proxy:Pe}}=fe;if(de.supportDblclickFullscreen&&Pe(fe.$container,"dblclick",xe=>{xe=Is(xe).nodeName.toLowerCase(),xe!=="canvas"&&xe!=="video"||(fe.fullscreen=!fe.fullscreen)}),Pe(document,"visibilitychange",()=>{fe.visibility=document.visibilityState==="visible",Se.log("visibilitychange",document.visibilityState),de.hiddenAutoPause&&(Se.log("visibilitychange","hiddenAutoPause is true ",document.visibilityState,fe._isPlayingBeforePageHidden),document.visibilityState==="visible"?fe._isPlayingBeforePageHidden&&fe.play():(fe._isPlayingBeforePageHidden=fe.playing,fe.playing&&fe.pause()))}),Pe(document,["click","contextmenu"],xe=>{vl(xe,fe.$container)?(fe.isInput=xe.target.tagName==="INPUT",fe.isFocus=!0,fe.emit(d0.focus)):(fe.isInput=!1,fe.isFocus=!1,fe.emit(d0.blur))}),de.autoResize){const xe=T2(()=>{fe.resize()},500);Pe(window,["resize","orientationchange"],()=>{xe()}),screen&&screen.orientation&&screen.orientation.onchange&&Pe(screen.orientation,"change",()=>{xe()})}}this.singleWatermark=new xo(this),this._opt.watermarkConfig&&this.updateWatermark(this._opt.watermarkConfig),this._opt.useWCS&&this.debug.log("Player","use WCS"),this._opt.useMSE&&this.debug.log("Player","use MSE"),this._opt.useOffscreen&&this.debug.log("Player","use offscreen"),this._opt.isHls&&(this._opt.supportHls265?this.debug.log("Player","use hls 265"):this.debug.log("Player","use hls")),this._opt.isWebrtc&&this.debug.log("Player","use webrtc"),this._opt.isFmp4&&this.debug.log("Player","use fmp4"),this._opt.isMpeg4&&this.debug.log("Player","use mpeg4"),this._isPlayback()&&this.debug.log("Player","use playback"),this._opt.hasVideo&&(this.width===0&&this.debug.warn("Player","container width is 0, please check the container width"),this.height===0)&&this.debug.warn("Player","container height is 0, please check the container height"),this.debug.log("Player options",JSON.stringify(this._opt))}async destroy(){this._destroyed=!0,this.emit("destroy"),this.off(),this.events&&(this.events.destroy(),this.events=null),this.clearCheckHeartTimeout(),this.clearCheckLoadingTimeout(),this.clearStatsInterval(),this.clearVisibilityHiddenTimeout(),this.decoderWorker&&(await this.decoderWorker.destroy(),this.decoderWorker=null),await this._destroy()}async _destroy(){this._loading=!1,this._playing=!1,this._playbackPause=!1,this._hasLoaded=!1,this._lastVolume=null,this._zooming=!1,this._faceDetectActive=!1,this._objectDetectActive=!1,this._times={playInitStart:"",playStart:"",streamStart:"",streamResponse:"",demuxStart:"",decodeStart:"",videoStart:"",playTimestamp:"",streamTimestamp:"",streamResponseTimestamp:"",demuxTimestamp:"",decodeTimestamp:"",videoTimestamp:"",allTimestamp:""},this.singleWatermark&&(this.singleWatermark.destroy(),this.singleWatermark=null),this.stream&&(this.stream.destroy(),this.stream=null),this.hlsDecoder&&(await this.hlsDecoder.destroy(),this.hlsDecoder=null),this.mseDecoder&&(this.mseDecoder.destroy(),this.mseDecoder=null),this.video&&(this.video.destroy(),this.video=null),this.audio&&(this.audio.destroy(),this.audio=null),this.recorder&&(this.recorder.destroy(),this.recorder=null),this.control&&(this.control.destroy(),this.control=null),this.webcodecsDecoder&&(this.webcodecsDecoder.destroy(),this.webcodecsDecoder=null),this.demux&&(this.demux.destroy(),this.demux=null),this.playback&&(this.playback.destroy(),this.playback=null),this.zoom&&(this.zoom.destroy(),this.zoom=null),this.ai&&(this.ai.destroy(),this.ai=null),this.keepScreenOn&&(this.releaseWakeLock(),this.keepScreenOn.destroy(),this.keepScreenOn=null),this.resetStats(),this._audioTimestamp=0,this._videoTimestamp=0,this._streamQuality="",this._visibility=!0,this._isInZoom=!1,this._playingStartTimestamp=null,this._lastestVisibilityChangeTimestamp=null,this._videoIframeIntervalTs=null,this._tempWorkerStats=null,this.debug.log("play","destroy end"),this._opt=ko(),this.$container=null}set fullscreen(R){es()&&this._opt.useWebFullScreen?(this.emit(d0.webFullscreen,R),setTimeout(()=>{this.updateOption({rotate:R?270:0}),this.resize()},10)):this.emit(d0.fullscreen,R)}get fullscreen(){return cr.isFullscreen||this.webFullscreen}set webFullscreen(R){this.emit(d0.webFullscreen,R)}get webFullscreen(){return this.$container.classList.contains("jessibuca-fullscreen-web")}set loaded(R){this._hasLoaded=R}get loaded(){return this._hasLoaded||this.isOldHls()||this._opt.isWebrtc||this._opt.useMSE&&!this._opt.hasAudio||this._opt.useWCS&&!this._opt.hasAudio}set playing(R){R&&(this.loading=!1),this.playing!==R&&(this._playing=R,this.emit(d0.playing,R),this.emit(d0.volumechange,this.volume),R?this.emit(d0.play):this.emit(d0.pause))}get playing(){return this._playing}get volume(){return this.audio&&this.audio.volume||0}set volume(R){R!==this.volume&&(this.audio?(this.audio.setVolume(R),this._lastVolume=this.volume):this.debug.warn("Player","set volume error, audio is null"))}get lastVolume(){return this._lastVolume}set loading(R){this.loading!==R&&(this._loading=R,this.emit(d0.loading,this._loading))}get loading(){return this._loading}set zooming(R){this.zooming!==R&&(this.zoom||(this.zoom=new Cl(this)),this._zooming=R,this.emit(d0.zooming,this.zooming))}get zooming(){return this._zooming}set recording(R){R?this.playing&&!this.recording&&(this.recorder&&this.recorder.startRecord(),this._opt.useWasm)&&this.decoderWorker.updateWorkConfig({key:"isRecording",value:!0}):this.recording&&(this._opt.useWasm&&this.decoderWorker.updateWorkConfig({key:"isRecording",value:!1}),this.recorder)&&this.recorder.stopRecordAndSave().then(()=>{}).catch(ie=>{})}get recording(){return!!this.recorder&&this.recorder.isRecording}set audioTimestamp(R){R!==null&&(this._audioTimestamp=R)}get audioTimestamp(){return this._audioTimestamp}set videoTimestamp(R){R!==null&&(this._videoTimestamp=R,this._opt.useWCS||this._opt.useMSE||this.audioTimestamp&&this.videoTimestamp&&this.audio&&this.audio.emit(d0.videoSyncAudio,{audioTimestamp:this.audioTimestamp,videoTimestamp:this.videoTimestamp,diff:this.audioTimestamp-this.videoTimestamp}))}set streamQuality(R){this.streamQuality!==R&&(this._streamQuality=R,this.emit(d0.streamQualityChange,R))}get streamQuality(){return this._streamQuality}get videoTimestamp(){return this._videoTimestamp}get isDebug(){return br(this._opt.debug)}get scaleType(){var ie=this._opt,R=ie.isResize,ie=ie.isFullResize;let ae=0;return xi(ie)&&xi(R)?ae=0:xi(ie)&&br(R)?ae=1:br(ie)&&br(R)&&(ae=2),ae}set visibility(R){this._visibility!==R&&(this._visibility=R,this.emit(d0.visibilityChange,R),this._lastestVisibilityChangeTimestamp=_i(),R?this.clearVisibilityHiddenTimeout():this.startVisibilityHiddenTimeout())}get visibility(){return this._visibility}set playbackPause(R){this._playbackPause!==R&&(this._playbackPause=R,this.emit(d0.playbackPause,R),this.emit(d0.playbackPauseOrResume,R))}get playbackPause(){return this._playbackPause}set videoIframeIntervalTs(R){this._videoIframeIntervalTs=R}get videoIframeIntervalTs(){return this._videoIframeIntervalTs}set faceDetectActive(R){this._faceDetectActive!==R&&(this._faceDetectActive=R,this.emit(d0.faceDetectActive,R))}get faceDetectActive(){return this._faceDetectActive}set objectDetectActive(R){this._objectDetectActive!==R&&(this._objectDetectActive=R,this.emit(d0.objectDetectActive,R))}get objectDetectActive(){return this._objectDetectActive}get isUseWorkerDemuxAndDecode(){return this.stream&&this.stream.getStreamType()===j}isDestroyed(){return this._destroyed}updateOption(R){this._opt=Object.assign({},this._opt,R)}init(){return new Promise((R,ie)=>{this.video||this._opt.hasVideo&&(this.video=new dn(this)),this.audio||this._opt.hasAudio&&(this.audio=new Qn(this)),this.stream||(this.stream=new Io(this)),this.isOldHls()?(this.hlsDecoder||(this.hlsDecoder=new t2(this),this.loaded=!0),R()):this._opt.isWebrtc?(this.webrtc||(this._opt.isWebrtcForZLM?this.webrtc=new xl(this):this.webrtc=new Tl(this),this.loaded=!0),R()):(this.demux||this._opt.hasVideo&&!this.isUseWorkerDemuxAndDecode&&(this.demux=new Zo(this)),this._opt.useWCS&&!this.webcodecsDecoder&&(this.webcodecsDecoder=new ml(this)),this._opt.useMSE&&!this.mseDecoder&&(this.mseDecoder=new wl(this)),this.isUseHls265()&&!this.hlsDecoder&&(this.hlsDecoder=new El(this)),this.decoderWorker?this.loaded?R():this.once(d0.decoderWorkerInit,()=>{this.loaded=!0,R()}):G1(this._opt)?R():(this.decoderWorker=new cs(this),this.once(d0.decoderWorkerInit,()=>{this.loaded=!0,R()})))})}play(R,ie){return new Promise((ae,we)=>{if(!R&&!this._opt.url)return we("url is empty");this.loading=!0,this.playing=!1,this._times.playInitStart=_i(),R=R||this._opt.url,this._opt.url=R,this.clearCheckHeartTimeout(),this.init().then(()=>{this._times.playStart=_i(),this._opt.isNotMute&&this.mute(!1),this.webcodecsDecoder&&this.webcodecsDecoder.once(L0.webcodecsH265NotSupport,()=>{this.emitError(L0.webcodecsH265NotSupport)}),this.mseDecoder&&(this.mseDecoder.once(L0.mediaSourceH265NotSupport,()=>{this.emitError(L0.mediaSourceH265NotSupport)}),this.mseDecoder.once(L0.mediaSourceFull,()=>{this.emitError(L0.mediaSourceFull)}),this.mseDecoder.once(L0.mediaSourceAppendBufferError,()=>{this.emitError(L0.mediaSourceAppendBufferError)}),this.mseDecoder.once(L0.mediaSourceBufferListLarge,()=>{this.emitError(L0.mediaSourceBufferListLarge)}),this.mseDecoder.once(L0.mediaSourceAppendBufferEndTimeout,()=>{this.emitError(L0.mediaSourceAppendBufferEndTimeout)}),this.mseDecoder.once(L0.mediaSourceDecoderConfigurationError,()=>{this.emitError(L0.mediaSourceDecoderConfigurationError)}),this.mseDecoder.once(L0.mediaSourceTsIsMaxDiff,()=>{this.emitError(L0.mediaSourceTsIsMaxDiff)})),this.enableWakeLock(),this.checkLoadingTimeout(),this.stream?(this.stream.once(L0.fetchError,_e=>{this.emitError(L0.fetchError,_e)}),this.stream.once(L0.websocketError,_e=>{this.emitError(L0.websocketError,_e)}),this.stream.once(d0.streamEnd,()=>{this.emit(d0.streamEnd)}),this.stream.once(L0.hlsError,_e=>{this.emitError(L0.hlsError,_e)}),this.stream.once(L0.webrtcError,_e=>{this.emitError(L0.webrtcError,_e)}),this.stream.once(d0.streamSuccess,()=>{ae(),this._times.streamResponse=_i(),this.video&&this.video.play(),this.checkStatsInterval(),this.isPlayback()&&this.playback&&this.playback.startCheckStatsInterval()}),this.stream.fetchStream(R,ie)):this.debug.warn("player","play() this.stream is null")}).catch(_e=>{we(_e)})})}close(){return new Promise((R,ie)=>{this._close().then(()=>{this.video&&this.video.clearView(),R()}).catch(ae=>{ie(ae)})})}resumeAudioAfterPause(){this.lastVolume&&(this.volume=this.lastVolume)}_close(){return new Promise((R,ie)=>{const ae=()=>{this.stream&&(this.stream.destroy(),this.stream=null),this.demux&&(this.demux.destroy(),this.demux=null),this.webcodecsDecoder&&(this.webcodecsDecoder.destroy(),this.webcodecsDecoder=null),this.mseDecoder&&(this.mseDecoder.destroy(),this.mseDecoder=null),this.hlsDecoder&&(this.hlsDecoder.destroy(),this.hlsDecoder=null),this.webrtc&&(this.webrtc.destroy(),this.webrtc=null),this.audio&&(this.audio.destroy(),this.audio=null),this.clearCheckHeartTimeout(),this.clearCheckLoadingTimeout(),this.clearStatsInterval(),this.isPlayback()&&this.playback&&this.playback.clearStatsInterval(),this.loading=!1,this.recording=!1,this.zooming=!1,this.playing=!1,this.video&&(this.video.resetInit(),this.video.pause(!0)),this.releaseWakeLock(),this.resetStats(),this._audioTimestamp=0,this._videoTimestamp=0,this._times={playInitStart:"",playStart:"",streamStart:"",streamResponse:"",demuxStart:"",decodeStart:"",videoStart:"",playTimestamp:"",streamTimestamp:"",streamResponseTimestamp:"",demuxTimestamp:"",decodeTimestamp:"",videoTimestamp:"",allTimestamp:""}};this.decoderWorker?this.decoderWorker.destroy().then(()=>{this.decoderWorker=null,ae(),setTimeout(()=>{R()},0)}).catch(we=>{this.debug&&this.debug.error("player","close() decoderWorker.destroy() error",we),ie()}):(ae(),setTimeout(()=>{R()},0))})}pause(){let R=0<arguments.length&&arguments[0]!==void 0&&arguments[0];return new Promise((ie,ae)=>{R?this.close().then(()=>{ie()}).catch(we=>{ae(we)}):this._close().then(()=>{ie()}).catch(we=>{ae(we)})})}isAudioMute(){let R=!0;return R=this.audio?this.audio.isMute:R}isAudioNotMute(){return!this.isAudioMute()}mute(R){this.audio&&this.audio.mute(R)}resize(){this.video&&this.video.resize()}startRecord(R,ie){this.recording||(this.recorder.setFileName(R,ie),this.recording=!0)}stopRecordAndSave(R,ie){return new Promise((ae,we)=>{this.recorder||we("recorder is null"),this.recording?(this._opt.useWasm&&this.decoderWorker.updateWorkConfig({key:"isRecording",value:!0}),this.recorder.stopRecordAndSave(R,ie).then(_e=>{ae(_e)}).catch(_e=>{we(_e)})):we("recorder is not recording")})}_hasControl(){let R=!1,ie=!1;return Object.keys(this._opt.operateBtns).forEach(ae=>{this._opt.operateBtns[ae]&&(""+ae).indexOf("Fn")===-1&&(ie=!0)}),(this._opt.showBandwidth||ie)&&(R=!0),R=this._isPlayback()&&this._opt.playbackConfig.showControl?!0:R}_isPlayback(){return this._opt.playType===We}useWasmDecode(){return xi(this._opt.useMSE)&&xi(this._opt.useWCS)}canVideoTrackWritter(){var R=this._opt;return!this.isOldHls()&&xi(R.isWebrtc)&&xi(R.useMSE)&&(R.useWCS&&xi(R.useOffscreen)&&R.wcsUseVideoRender||this.useWasmDecode())}checkHeart(){this.clearCheckHeartTimeout(),this.checkHeartTimeout()}checkHeartTimeout(){this._checkHeartTimeout=setTimeout(()=>{xi(this.playbackPause)&&this.playing?this.isDestroyed()?this.debug&&this.debug.warn("player","checkHeartTimeout but player is destroyed"):this._stats.fps!==0?this.debug&&this.debug.warn("player","checkHeartTimeout but fps is "+this._stats.fps):xi(this.visibility)&&this._stats.vbps!==0?this.debug&&this.debug.warn("player","checkHeartTimeout but page is not visibility and vbps is "+this._stats.vbps):(this.debug.warn("player",`checkHeartTimeout and
                pause and emit delayTimeout event and
                current vbps is ${this._stats.vbps} and
                current fps is ${this._stats.fps} and
                current visibility is ${this.visibility} and`),this.emit(d0.timeout,d0.delayTimeout),this.emit(d0.delayTimeout)):this.debug.warn("player",`playbackPause is ${this.playbackPause}, playing is `+this.playing)},1e3*this._opt.heartTimeout)}checkHeartTimeout$2(){var R;xi(this.playbackPause)&&this.playing?this.isDestroyed()?this.debug&&this.debug.warn("player","checkHeartTimeout$2 but player is destroyed"):xi(this.isHistoryFpsListAllZero())?this.debug&&this.debug.warn("player","checkHeartTimeout$2 but fps is not all zero"):this._stats.fps!==0?this.debug&&this.debug.warn("player","checkHeartTimeout$2 but fps is "+this._stats.fps):xi(this.visibility)&&this._stats.vbps!==0?this.debug&&this.debug.warn("player","checkHeartTimeout$2 but page is not visibility and vbps is "+this._stats.vbps):(R=this._historyFpsList.join(","),this.debug.warn("player",`checkHeartTimeout$2 and
                pause and emit delayTimeout event and
                current vbps is ${this._stats.vbps} and
                current fps is ${this._stats.fps} and
                history FpsList is ${R} and
                current visibility is ${this.visibility} and`),this.emit(d0.timeout,d0.delayTimeout),this.emit(d0.delayTimeout)):this.debug.log("player",`checkHeartTimeout$2 playbackPause is ${this.playbackPause}, playing is `+this.playing)}checkStatsInterval(){this._checkStatsInterval=setInterval(()=>{this.updateStats()},1e3)}clearCheckHeartTimeout(){this._checkHeartTimeout&&(clearTimeout(this._checkHeartTimeout),this._checkHeartTimeout=null)}checkLoadingTimeout(){this._checkLoadingTimeout=setTimeout(()=>{this.playing?this.debug.warn("player",`checkLoadingTimeout but loading is ${this.loading} and playing is `+this.playing):this.isDestroyed()?this.debug&&this.debug.warn("player","checkLoadingTimeout but player is destroyed"):(this.debug.warn("player","checkLoadingTimeout and pause and emit loadingTimeout event"),this.emit(d0.timeout,d0.loadingTimeout),this.emit(d0.loadingTimeout))},1e3*this._opt.loadingTimeout)}clearCheckLoadingTimeout(){this._checkLoadingTimeout&&(this.debug.log("player","clearCheckLoadingTimeout"),clearTimeout(this._checkLoadingTimeout),this._checkLoadingTimeout=null)}clearStatsInterval(){this._checkStatsInterval&&(clearInterval(this._checkStatsInterval),this._checkStatsInterval=null)}handleRender(){this.isDestroyed()?this.debug&&this.debug.warn("player","handleRender but player is destroyed"):(this.loading&&(this.clearCheckLoadingTimeout(),this.emit(d0.start),this.loading=!1),this.playing||(this.playing=!0))}updateStats(){var R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};this._startBpsTime||(this._startBpsTime=_i()),Zi(R.ts)&&(this._stats.ts=R.ts,this._playingStartTimestamp===null)&&0<R.ts&&(this._playingStartTimestamp=R.ts),Zi(R.dts)&&(this._stats.dts=R.dts),Zi(R.mseTs)&&(this._stats.mseTs=R.mseTs),Zi(R.buf)&&(this._stats.buf=R.buf),Zi(R.netBuf)&&(this._stats.netBuf=R.netBuf),R.fps&&(this._stats.fps+=1),R.dfps&&(this._stats.dfps+=1),R.abps&&(this._stats.abps+=R.abps),R.vbps&&(this._stats.vbps+=R.vbps),R.workerStats&&(this._tempWorkerStats=R.workerStats);const ie=_i();if(!(ie-this._startBpsTime<1e3)){this._playingStartTimestamp!==null&&0<this._stats.fps&&(this._stats.pTs+=1);let we=0,_e=0,fe=0,de=(this._opt.useMSE&&this.mseDecoder&&(we=this.mseDecoder.checkSourceBufferDelay(),we=parseInt(1e3*we,10),_e=this.mseDecoder.getDecodeDiffTimes(),fe=this.mseDecoder.getDecodePlaybackRate()),this._opt.useWCS&&this.webcodecsDecoder&&(_e=this.webcodecsDecoder.getDecodeDiffTimes()),this.isOldHls()&&this.hlsDecoder&&(we=this.hlsDecoder.checkHlsBufferedDelay(),we=parseInt(1e3*we,10),fe=this.hlsDecoder.getDecodePlaybackRate()),0),Se=0,Pe=0,xe=(this.isUseHls265()&&this.hlsDecoder&&(we=(we=this.hlsDecoder.checkHlsBufferedDelay()).toFixed(2),de=this.hlsDecoder.getDemuxBufferedListLength(),Pe=this.hlsDecoder.getDemuxVideoBufferedListLength(),Se=this.hlsDecoder.getDemuxAudioBufferedListLength()),0),Oe=0,Fe=0,ye=!1,Ne=!1,ee=0,se=(this.demux&&(ye=this.demux.isDropping()),this._opt.useWasm?this._tempWorkerStats&&(Oe=this._tempWorkerStats.demuxBufferDelay,Fe=this._tempWorkerStats.audioDemuxBufferDelay,xe=this._tempWorkerStats.flvBufferByteLength,this._stats.netBuf=this._tempWorkerStats.netBuf,ye=this._tempWorkerStats.isDropping,ee=this._tempWorkerStats.pushLatestDelay,Ne=this._tempWorkerStats.isStreamTsMoreThanLocal):this.demux&&(xe=this.demux.getInputByteLength(),ee=this.demux.getPushLatestDelay(),Ne=this.demux.getIsStreamTsMoreThanLocal(),this.demux.bufferList)&&(Oe=this.demux.bufferList.length),0),he=0,ce=(this.audio&&this.audio.bufferList&&(se=this.audio.bufferList.length,he=se*this.audio.oneBufferDuration),0),Ae=0;if(this.isPlayback()&&this.video){this._opt.playbackConfig.isUseFpsRender&&(ce=this.video.bufferList&&this.video.bufferList.length||0),R=this.video.getStreamFps();const Ee=0<R?1e3/R:0;Ae=parseInt(Ee*ce+Ee*Oe,10)}var R=this._stats.dts-this._stats.ts,ae=R+this._stats.netBuf;this.isOldHls()&&(this._stats.fps=this.hlsDecoder.getFps()),this._stats.fps>this._stats.maxFps&&(this._stats.maxFps=this._stats.fps),this._allStatsData=Object.assign(this._stats,{audioBuffer:se,audioBufferDelayTs:he,audioTs:this.audioTimestamp,playbackVideoBuffer:ce,playbackVideoWaitingBuffer:0,playbackAudioWaitingBuffer:0,playbackCacheDataDuration:Ae,demuxBuffer:Oe,pushLatestDelay:ee,audioDemuxBuffer:Fe,flvBuffer:xe,mseDelay:we,mseDecodeDiffTimes:_e,mseDecodePlaybackRate:fe,wcsDecodeDiffTimes:_e,hlsDelay:we,hlsDemuxLength:de,hlsDemuxAudioLength:Se,hlsDemuxVideoLength:Pe,hlsDecodePlaybackRate:fe,delayTs:R,totalDelayTs:ae,isDropping:ye,isStreamTsMoreThanLocal:Ne}),this.emit(d0.stats,this._allStatsData),1048576<this._allStatsData.flvBuffer&&this.emit(L0.flvDemuxBufferSizeTooLarge,this._allStatsData.flvBuffer),this._opt.hasVideo&&this.emit(d0.performance,(function(Ee){let je=0;return 24<=Ee?je=2:15<=Ee&&(je=1),je})(this._stats.fps)),this.updateHistoryFpsList(this._stats.fps),this._stats.fps=0,this._stats.dfps=0,this._stats.abps=0,this._stats.vbps=0,this._startBpsTime=ie}}resetStats(){this._startBpsTime=null,this._playingStartTimestamp=null,this._historyFpsList=[],this._stats={buf:0,netBuf:0,fps:0,maxFps:0,dfps:0,abps:0,vbps:0,ts:0,mseTs:0,pTs:0,dts:0},this._allStatsData={}}enableWakeLock(){this._opt.keepScreenOn&&this.keepScreenOn&&this.keepScreenOn.enable()}releaseWakeLock(){this._opt.keepScreenOn&&this.keepScreenOn&&this.keepScreenOn.disable()}clearBufferDelay(){this._opt.useWasm?this.decoderWorker&&this.decoderWorker.clearWorkBuffer(!0):this.demux&&this.demux.clearBuffer(!0)}doDestroy(){this.emit(d0.beforeDestroy)}handlePlayToRenderTimes(){var R=this.getPlayToRenderTimes();this.emit(d0.playToRenderTimes,R)}getPlayToRenderTimes(){var R=this._times;return R.playTimestamp=R.playStart-R.playInitStart,R.streamTimestamp=R.streamStart-R.playStart,R.streamResponseTimestamp=R.streamResponse-R.streamStart,R.demuxTimestamp=0<R.demuxStart-R.streamResponse?R.demuxStart-R.streamResponse:0,R.decodeTimestamp=R.decodeStart-R.demuxStart,R.videoTimestamp=R.videoStart-R.decodeStart,R.allTimestamp=R.videoStart-R.playInitStart,R}getOption(){return this._opt}isPlayer(){return this._opt.playType===be}isPlayback(){return this._opt.playType===We}isDemuxSetCodecInit(){let R=!0,ie=this._opt;return ie.useWCS&&!ie.useOffscreen?R=this.webcodecsDecoder.hasInit:ie.useMSE&&(R=this.mseDecoder.hasInit),R}isDemuxDecodeFirstIIframeInit(){let R=!0,ie=this._opt;return ie.useWCS&&!ie.useOffscreen?R=!!this.webcodecsDecoder&&this.webcodecsDecoder.isDecodeFirstIIframe:ie.useMSE&&(R=!!this.mseDecoder&&this.mseDecoder.isDecodeFirstIIframe),R}isAudioPlaybackRateSpeed(){let R=!1;return R=this.audio?this.audio.isPlaybackRateSpeed():R}getPlayingTimestamp(){return this._stats.pTs}getRecordingType(){let R=null;return R=this.recorder?this.recorder.getType():R}getRecordingByteLength(){let R=0;return R=this.recording?this.recorder.getToTalByteLength():R}getRecordingDuration(){let R=0;return R=this.recording?this.recorder.getTotalDuration():R}getDecodeType(){let R="";var ie=this.getOption();return ie.useMSE&&(R+="mse "),ie.useWCS&&(R+="wcs "),ie.useWasm&&(R+="wasm ",ie.useSIMD)&&(R+="simd "),ie.useOffscreen&&(R+="offscreen "),R}getDemuxType(){return this.getOption().demuxType}getRenderType(){let R="";return R=this.video?this.video.getType():R}getCanvasRenderType(){let R="";return R=this.video?this.video.getCanvasType():R}getAudioEngineType(){let R="";return R=this.audio?this.audio.getEngineType():R}getStreamType(){let R="";return R=this.stream?this.stream.getStreamType():R}getAllStatsData(){return this._allStatsData}togglePerformancePanel(R){this.updateOption({showPerformance:R}),this.emit(d0.togglePerformancePanel,R)}setScaleMode(R){var ie={isFullResize:!1,isResize:!1};switch(R=Number(R)){case 0:ie.isFullResize=!1,ie.isResize=!1;break;case 1:ie.isFullResize=!1,ie.isResize=!0;break;case 2:ie.isFullResize=!0,ie.isResize=!0}this.updateOption(ie),this.resize(),this.emit(d0.viewResizeChange,R)}startVisibilityHiddenTimeout(){this.clearVisibilityHiddenTimeout(),0<this._opt.pageVisibilityHiddenTimeout&&(this.visibilityHiddenTimeout=setTimeout(()=>{this.emit(d0.visibilityHiddenTimeout)},1e3*this._opt.pageVisibilityHiddenTimeout))}clearVisibilityHiddenTimeout(){this._checkVisibleHiddenTimeout&&(clearTimeout(this._checkVisibleHiddenTimeout),this._checkVisibleHiddenTimeout=null)}faceDetect(R){this.faceDetectActive=R}objectDetect(R){this.objectDetectActive=R}downloadNakedFlowFile(){this.demux&&this.demux.downloadNakedFlowFile&&this.demux.downloadNakedFlowFile()}downloadFmp4File(){this.demux&&this.demux.downloadFmp4File&&this.demux.downloadFmp4File()}hasCacheOnGopBuffer(){var R=this.videoIframeIntervalTs,ie=this._allStatsData.demuxBuffer,ae=this._allStatsData.maxFps;return R&&ie&&ae?R<1e3/ae*ie:!1}addContentToCanvas(){this.video&&this.video.addContentToCanvas(0<arguments.length&&arguments[0]!==void 0?arguments[0]:[])}sendWebsocketMessage(R){var ie=this.getStreamType();ie===Je||ie===j+" "+Je?this.stream.sendMessage(R):this.debug.warn("player","sendWebsocketMessage: stream type is not websocket, current stream type is "+this.getStreamType())}checkIsInRender(){var R=this._stats;return 0<R.vbps&&0<R.fps}setControlHtml(R){this.control&&this.control.$controlHtml&&(this.control.$controlHtml.innerHTML=R)}clearControlHtml(){this.control&&this.control.$controlHtml&&(this.control.$controlHtml.innerHTML="")}updateWatermark(R){this.singleWatermark&&this.singleWatermark.update(R)}removeWatermark(){this.singleWatermark&&this.singleWatermark.remove()}getVideoInfo(){let R=null;return R=this.video?this.video.getVideoInfo():R}getAudioInfo(){let R=null;return R=this.audio?this.audio.getAudioInfo():R}getVideoPlaybackQuality(){let R=null;return R=this.video?this.video.getPlaybackQuality():R}emitError(R){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"";this.emit(d0.error,R,ie),this.emit(R,ie)}updateHistoryFpsList(R){this._historyFpsList.length>this._opt.heartTimeout&&this._historyFpsList.shift(),this._historyFpsList.push(R),this.isHistoryFpsListAllZero()&&this.checkHeartTimeout$2()}isHistoryFpsListAllZero(){let R=!0;if(R=this._historyFpsList.length<this._opt.heartTimeout?!1:R){for(let ie=0;ie<this._historyFpsList.length;ie++)if(0<this._historyFpsList[ie]){R=!1;break}}return R}isUseHls265(){return br(this._opt.isHls)&&br(this._opt.supportHls265)}isOldHls(){return br(this._opt.isHls)&&xi(this._opt.supportHls265)}}class $u{constructor(ie){var{fromSampleRate:ie,toSampleRate:ae,channels:we,inputBufferSize:_e}=ie;if(!ie||!ae||!we)throw new Error("Invalid settings specified for the resampler.");this.resampler=null,this.fromSampleRate=ie,this.toSampleRate=ae,this.channels=we||0,this.inputBufferSize=_e,this.initialize()}initialize(){this.fromSampleRate==this.toSampleRate?(this.resampler=R=>R,this.ratioWeight=1):(this.fromSampleRate<this.toSampleRate?(this.linearInterpolation(),this.lastWeight=1):(this.multiTap(),this.tailExists=!1,this.lastWeight=0),this.initializeBuffers(),this.ratioWeight=this.fromSampleRate/this.toSampleRate)}bufferSlice(R){try{return this.outputBuffer.subarray(0,R)}catch{try{return this.outputBuffer.length=R,this.outputBuffer}catch{return this.outputBuffer.slice(0,R)}}}initializeBuffers(){this.outputBufferSize=Math.ceil(this.inputBufferSize*this.toSampleRate/this.fromSampleRate/this.channels*1.0000004768371582)+this.channels+this.channels;try{this.outputBuffer=new Float32Array(this.outputBufferSize),this.lastOutput=new Float32Array(this.channels)}catch{this.outputBuffer=[],this.lastOutput=[]}}linearInterpolation(){this.resampler=R=>{let ie,ae,we,_e,fe,de,Se,Pe,xe,Oe=R.length,Fe=this.channels;if(Oe%Fe!=0)throw new Error("Buffer was of incorrect sample length.");if(Oe<=0)return[];for(ie=this.outputBufferSize,ae=this.ratioWeight,we=this.lastWeight,_e=0,fe=0,de=0,Se=0,Pe=this.outputBuffer;we<1;we+=ae)for(fe=we%1,_e=1-fe,this.lastWeight=we%1,xe=0;xe<this.channels;++xe)Pe[Se++]=this.lastOutput[xe]*_e+R[xe]*fe;for(--we,Oe-=Fe,de=Math.floor(we)*Fe;Se<ie&&de<Oe;){for(fe=we%1,_e=1-fe,xe=0;xe<this.channels;++xe)Pe[Se++]=R[de+(0<xe?xe:0)]*_e+R[de+(Fe+xe)]*fe;we+=ae,de=Math.floor(we)*Fe}for(xe=0;xe<Fe;++xe)this.lastOutput[xe]=R[de++];return this.bufferSlice(Se)}}multiTap(){this.resampler=R=>{let ie,ae,we,_e,fe,de,Se,Pe,xe,Oe,Fe,ye=R.length,Ne=this.channels;if(ye%Ne!=0)throw new Error("Buffer was of incorrect sample length.");if(ye<=0)return[];for(ie=this.outputBufferSize,ae=[],we=this.ratioWeight,_e=0,de=0,Pe=!this.tailExists,this.tailExists=!1,xe=this.outputBuffer,Oe=0,Fe=0,fe=0;fe<Ne;++fe)ae[fe]=0;do{if(Pe)for(_e=we,fe=0;fe<Ne;++fe)ae[fe]=0;else{for(_e=this.lastWeight,fe=0;fe<Ne;++fe)ae[fe]=this.lastOutput[fe];Pe=!0}for(;0<_e&&de<ye;){if(Se=1+de-Fe,!(_e>=Se)){for(fe=0;fe<Ne;++fe)ae[fe]+=R[de+(0<fe?fe:0)]*_e;Fe+=_e,_e=0;break}for(fe=0;fe<Ne;++fe)ae[fe]+=R[de++]*Se;Fe=de,_e-=Se}if(_e!==0){for(this.lastWeight=_e,fe=0;fe<Ne;++fe)this.lastOutput[fe]=ae[fe];this.tailExists=!0;break}for(fe=0;fe<Ne;++fe)xe[Oe++]=ae[fe]/we}while(de<ye&&Oe<ie);return this.bufferSlice(Oe)}}resample(R){return this.fromSampleRate==this.toSampleRate?this.ratioWeight=1:(this.fromSampleRate<this.toSampleRate?this.lastWeight=1:(this.tailExists=!1,this.lastWeight=0),this.initializeBuffers(),this.ratioWeight=this.fromSampleRate/this.toSampleRate),this.resampler(R)}}const Dl=[255,511,1023,2047,4095,8191,16383,32767];function Rl(Qe,R,ie){for(let ae=0;ae<ie;ae++)if(Qe<=R[ae])return ae;return ie}class Ku extends me{constructor(ae){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},ae=(super(),ae&&(this.player=ae),this.tag="talk",Cn(Jl));this._opt=Object.assign({},ae,ie),this._opt.sampleRate=parseInt(this._opt.sampleRate,10),this._opt.sampleBitsWidth=parseInt(this._opt.sampleBitsWidth,10),this.audioContext=null,this.gainNode=null,this.recorder=null,this.workletRecorder=null,this.biquadFilter=null,this.userMediaStream=null,this.bufferSize=512,this._opt.audioBufferLength=this.calcAudioBufferLength(),this.audioBufferList=[],this.socket=null,this.socketStatus=Ct,this.mediaStreamSource=null,this.heartInterval=null,this.checkGetUserMediaTimeout=null,this.wsUrl=null,this.startTimestamp=0,this.sequenceId=0,this.tempTimestamp=null,this.tempRtpBufferList=[],this.events=new V1(this),this._initTalk(),this.player||(this.debug=new I1(this)),this.log(this.tag,"init",this._opt)}destroy(){this.userMediaStream&&(this.userMediaStream.getTracks&&this.userMediaStream.getTracks().forEach(R=>{R.stop()}),this.userMediaStream=null),this.mediaStreamSource&&(this.mediaStreamSource.disconnect(),this.mediaStreamSource=null),this.recorder&&(this.recorder.disconnect(),this.recorder.onaudioprocess=null),this.biquadFilter&&(this.biquadFilter.disconnect(),this.biquadFilter=null),this.gainNode&&(this.gainNode.disconnect(),this.gainNode=null),this.workletRecorder&&(this.workletRecorder.disconnect(),this.workletRecorder=null),this.socket&&(this.socketStatus===ci&&this._sendClose(),this.socket.close(),this.socket=null),this._stopHeartInterval(),this._stopCheckGetUserMediaTimeout(),this.audioContext=null,this.gainNode=null,this.recorder=null,this.audioBufferList=[],this.sequenceId=0,this.wsUrl=null,this.tempTimestamp=null,this.tempRtpBufferList=[],this.startTimestamp=0,this.log("talk","destroy")}addRtpToBuffer(R){var ie=R.length+this.tempRtpBufferList.length,ie=new Uint8Array(ie);ie.set(this.tempRtpBufferList,0),ie.set(R,this.tempRtpBufferList.length),this.tempRtpBufferList=ie}downloadRtpFile(){var R=new Blob([this.tempRtpBufferList]);try{var ie=document.createElement("a");ie.href=window.URL.createObjectURL(R),ie.download=Date.now()+".rtp",ie.click()}catch(ae){console.error("downloadRtpFile",ae)}}calcAudioBufferLength(){var R=this._opt.sampleRate;return 8*R*.02/8}get socketStatusOpen(){return this.socketStatus===ci}log(){for(var R=arguments.length,ie=new Array(R),ae=0;ae<R;ae++)ie[ae]=arguments[ae];this._log("log",...ie)}warn(){for(var R=arguments.length,ie=new Array(R),ae=0;ae<R;ae++)ie[ae]=arguments[ae];this._log("warn",...ie)}error(){for(var R=arguments.length,ie=new Array(R),ae=0;ae<R;ae++)ie[ae]=arguments[ae];this._log("error",...ie)}_log(R){for(var ie=arguments.length,ae=new Array(1<ie?ie-1:0),we=1;we<ie;we++)ae[we-1]=arguments[we];(this.player?this.player.debug:this.debug||console)[R](...ae)}_getSequenceId(){return++this.sequenceId}_createWebSocket(){return new Promise((R,ie)=>{var ae=this.events.proxy;this.socket=new WebSocket(this.wsUrl),this.socket.binaryType="arraybuffer",this.emit(d0.talkStreamStart),ae(this.socket,"open",()=>{this.socketStatus=ci,this.log(this.tag,"websocket open -> do talk"),this.emit(d0.talkStreamOpen),R(),this._doTalk()}),ae(this.socket,"message",we=>{this.log(this.tag,"websocket message",we.data)}),ae(this.socket,"close",we=>{this.socketStatus="close",this.log(this.tag,"websocket close"),this.emit(d0.talkStreamClose),ie(we)}),ae(this.socket,"error",we=>{this.socketStatus="error",this.error(this.tag,"websocket error",we),this.emit(d0.talkStreamError,we),ie(we)})})}_sendClose(){}_initTalk(){this._initMethods(),this._opt.engine===v2?this._initWorklet():this._opt.engine==="script"&&this._initScriptProcessor(),this.log(this.tag,"audioContext samplerate",this.audioContext.sampleRate)}_initMethods(){this.audioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:48e3}),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.biquadFilter=this.audioContext.createBiquadFilter(),this.biquadFilter.type="lowpass",this.biquadFilter.frequency.value=3e3,this.resampler=new $u({fromSampleRate:this.audioContext.sampleRate,toSampleRate:this._opt.sampleRate,channels:this._opt.numberChannels,inputBufferSize:this.bufferSize})}_initScriptProcessor(){var R=this.audioContext.createScriptProcessor||this.audioContext.createJavaScriptNode;this.recorder=R.apply(this.audioContext,[this.bufferSize,this._opt.numberChannels,this._opt.numberChannels]),this.recorder.onaudioprocess=ie=>this._onaudioprocess(ie)}_initWorklet(){this.audioContext.audioWorklet.addModule(M2(function(){class R extends AudioWorkletProcessor{constructor(ae){super(),this._cursor=0,this._bufferSize=ae.processorOptions.bufferSize,this._buffer=new Float32Array(this._bufferSize)}process(ae,we,_e){if(ae.length&&ae[0].length)for(let fe=0;fe<ae[0][0].length;fe++)this._cursor+=1,this._cursor===this._bufferSize&&(this._cursor=0,this.port.postMessage({eventType:"data",buffer:this._buffer})),this._buffer[this._cursor]=ae[0][0][fe];return!0}}registerProcessor("talk-processor",R)})).then(()=>{var R=new AudioWorkletNode(this.audioContext,"talk-processor",{processorOptions:{bufferSize:this.bufferSize}});R.connect(this.gainNode),R.port.onmessage=ie=>{ie.data.eventType==="data"&&this._encodeAudioData(ie.data.buffer)},this.workletRecorder=R})}_onaudioprocess(R){R=R.inputBuffer.getChannelData(0),this._encodeAudioData(new Float32Array(R))}_encodeAudioData(R){if(R[0]===0&&R[1]===0)this.log(this.tag,"empty audio data");else{const ae=this.resampler.resample(R);let we=ae;if(this._opt.sampleBitsWidth===16?we=(function(_e){let fe=_e.length,de=new Int16Array(fe);for(;fe--;){var Se=Math.max(-1,Math.min(1,_e[fe]));de[fe]=Se<0?32768*Se:32767*Se}return de})(ae):this._opt.sampleBitsWidth===8&&(we=(function(_e){let fe=_e.length,de=new Int8Array(fe);for(;fe--;){var Se=Math.max(-1,Math.min(1,_e[fe]));de[fe]=parseInt(255/(65535/(32768+(Se<0?32768*Se:32767*Se))),10)}return de})(ae)),we.buffer!==null){let _e=null;this._opt.encType===S1?_e=(function(de){const Se=[];return Array.prototype.slice.call(de).forEach((Pe,xe)=>{Se[xe]=(function(Oe){let Fe,ye,Ne;return 0<=Oe?Fe=213:(Fe=85,(Oe=-Oe-1)<0&&(Oe=32767)),8<=(ye=Rl(Oe,Dl,8))?127^Fe:(Ne=ye<<4,(Ne|=ye<2?Oe>>4&15:Oe>>ye+3&15)^Fe)})(Pe)}),Se})(we):this._opt.encType===E1&&(_e=(function(de){const Se=[];return Array.prototype.slice.call(de).forEach((Pe,xe)=>{Se[xe]=(function(Oe){let Fe=0;Fe=Oe<0?(Oe=132-Oe,127):(Oe+=132,255);var ye=Rl(Oe,Dl,8);return 8<=ye?127^Fe:(ye<<4|Oe>>ye+3&15)^Fe})(Pe)}),Se})(we));const fe=Uint8Array.from(_e);for(let de=0;de<fe.length;de++){var ie=this.audioBufferList.length;this.audioBufferList[+ie]=fe[de],this.audioBufferList.length===this._opt.audioBufferLength&&(this._sendTalkMsg(new Uint8Array(this.audioBufferList)),this.audioBufferList=[])}}}}_parseAudioMsg(R){let ie=null;return this._opt.packetType!=="rtp"||this._opt.encType!==S1&&this._opt.encType!==E1?this._opt.packetType==="opus"?ie=this.opusPacket(R):this._opt.packetType==="empty"&&(ie=R):ie=this.rtpPacket(R),ie}rtpPacket(R){var ie=[];let ae=0,we,_e;var fe=this._opt.rtpSsrc,de=R.length,de=(this._opt.encType===S1?ae=8:this._opt.encType===E1&&(ae=0),this.startTimestamp||(this.startTimestamp=_i()),_e=_i()-this.startTimestamp,we=this._getSequenceId(),de+12),Se=(ie[0]=255&de>>8,ie[1]=255&de>>0,ie[2]=128,ie[3]=128+ae,ie[4]=we/256,ie[5]=we%256,ie[6]=_e/65536/256,ie[7]=_e/65536%256,ie[8]=_e%65536/256,ie[9]=_e%65536%256,ie[10]=fe/65536/256,ie[11]=fe/65536%256,ie[12]=fe%65536/256,ie[13]=fe%65536%256,ie.concat([...R])),Pe=new Uint8Array(Se.length);for(let xe=0;xe<Se.length;xe++)Pe[xe]=Se[xe];return Pe}opusPacket(R){return R}_sendTalkMsg(R){this.tempTimestamp===null&&(this.tempTimestamp=_i());var ie=_i(),ae=ie-this.tempTimestamp,we=this._parseAudioMsg(R);this.log(this.tag,`'send talk msg and diff is ${ae} and byteLength is ${we.byteLength} and length is ${we.length}, and g711 length is `+R.length),this._opt.packetType==="rtp"&&this.addRtpToBuffer(we),we&&(this.socketStatusOpen?this.socket.send(we.buffer):this.emit(L0.tallWebsocketClosedByError)),this.tempTimestamp=ie}_doTalk(){this._getUserMedia()}_getUserMedia(){this.log(this.tag,"getUserMedia"),window.navigator.mediaDevices===void 0&&(window.navigator.mediaDevices={}),window.navigator.mediaDevices.getUserMedia===void 0&&(this.log(this.tag,"window.navigator.mediaDevices.getUserMedia is undefined and init function"),window.navigator.mediaDevices.getUserMedia=function(R){var ie=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return ie?new Promise(function(ae,we){ie.call(navigator,R,ae,we)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),this._opt.checkGetUserMediaTimeout&&this._startCheckGetUserMediaTimeout(),window.navigator.mediaDevices.getUserMedia({audio:{latency:!0,noiseSuppression:!0,autoGainControl:!0,echoCancellation:!0,sampleRate:48e3,channelCount:1},video:!1}).then(R=>{this.log(this.tag,"getUserMedia success"),this.userMediaStream=R,this.mediaStreamSource=this.audioContext.createMediaStreamSource(R),this.mediaStreamSource.connect(this.biquadFilter),this.recorder?(this.biquadFilter.connect(this.recorder),this.recorder.connect(this.gainNode)):this.workletRecorder&&(this.biquadFilter.connect(this.workletRecorder),this.workletRecorder.connect(this.gainNode)),this.gainNode.connect(this.audioContext.destination),this.emit(d0.talkGetUserMediaSuccess),R.oninactive===null&&(R.oninactive=ie=>{this._handleStreamInactive(ie)})}).catch(R=>{this.error(this.tag,"getUserMedia error",R.toString()),this.emit(d0.talkGetUserMediaFail,R.toString())}).finally(()=>{this.log(this.tag,"getUserMedia finally"),this._stopCheckGetUserMediaTimeout()})}_getUserMedia2(){this.log(this.tag,"getUserMedia"),navigator.mediaDevices?navigator.mediaDevices.getUserMedia({audio:!0}).then(R=>{this.log(this.tag,"getUserMedia2 success")}):navigator.getUserMedia({audio:!0},this.log(this.tag,"getUserMedia2 success"),this.log(this.tag,"getUserMedia2 fail"))}async _getUserMedia3(){this.log(this.tag,"getUserMedia3");try{var R=await navigator.mediaDevices.getUserMedia({audio:{latency:!0,noiseSuppression:!0,autoGainControl:!0,echoCancellation:!0,sampleRate:48e3,channelCount:1},video:!1});console.log("getUserMedia() got stream:",R),this.log(this.tag,"getUserMedia3 success")}catch{this.log(this.tag,"getUserMedia3 fail")}}_handleStreamInactive(R){this.userMediaStream&&(this.error(this.tag,"stream oninactive"),this.emit(d0.talkStreamInactive))}_startCheckGetUserMediaTimeout(){this._stopCheckGetUserMediaTimeout(),this.checkGetUserMediaTimeout=setTimeout(()=>{this.log(this.tag,"check getUserMedia timeout"),this.emit(d0.talkGetUserMediaTimeout)},this._opt.getUserMediaTimeout)}_stopCheckGetUserMediaTimeout(){this.checkGetUserMediaTimeout&&(this.log(this.tag,"stop checkGetUserMediaTimeout"),clearTimeout(this.checkGetUserMediaTimeout),this.checkGetUserMediaTimeout=null)}_startHeartInterval(){this.heartInterval=setInterval(()=>{this.log(this.tag,"heart interval");var R=[35,36,0,0,0,0,0,0],R=new Uint8Array(R);this.socket.send(R.buffer)},15e3)}_stopHeartInterval(){this.heartInterval&&(this.log(this.tag,"stop heart interval"),clearInterval(this.heartInterval),this.heartInterval=null)}startTalk(R){return new Promise((ie,ae)=>(function(){let we=!1;var _e=window.navigator;return we=_e?(we=!(!_e.mediaDevices||!_e.mediaDevices.getUserMedia))||!!(_e.getUserMedia||_e.webkitGetUserMedia||_e.mozGetUserMedia||_e.msGetUserMedia):we})()?(this.wsUrl=R,this._opt.testMicrophone?(this._doTalk(),ie()):(this._createWebSocket().catch(we=>{ae(we)}),this.once(d0.talkGetUserMediaFail,()=>{ae("getUserMedia fail")}),void this.once(d0.talkGetUserMediaSuccess,()=>{ie()}))):ae("not support getUserMedia"))}setVolume(R){R=parseFloat(R).toFixed(2),isNaN(R)||(R=ls(R,0,1),this.gainNode.gain.value=R)}getOption(){return this._opt}get volume(){return this.gainNode?parseFloat(100*this.gainNode.gain.value).toFixed(0):null}}class qu{constructor(R){this.player=R,this.globalSetting=null,R=U1(),this.defaultSettings={watermark_id:"JessibucaPro_"+R,watermark_prefix:"JessibucaPro_mask_"+R,watermark_txt:"JessibucaPro 测试水印",watermark_x:0,watermark_y:0,watermark_rows:0,watermark_cols:0,watermark_x_space:0,watermark_y_space:0,watermark_font:"微软雅黑",watermark_color:"black",watermark_fontsize:"18px",watermark_alpha:.15,watermark_width:150,watermark_height:100,watermark_angle:15,watermark_parent_width:0,watermark_parent_height:0,watermark_parent_node:null},this.player.debug.log("Watermark","int")}destroy(){this._removeMark(),this.globalSetting=null,this.defaultSettings={watermark_id:"",watermark_prefix:"",watermark_txt:"JessibucaPro 测试水印",watermark_x:0,watermark_y:0,watermark_rows:0,watermark_cols:0,watermark_x_space:0,watermark_y_space:0,watermark_font:"微软雅黑",watermark_color:"black",watermark_fontsize:"18px",watermark_alpha:.15,watermark_width:150,watermark_height:100,watermark_angle:15,watermark_parent_width:0,watermark_parent_height:0,watermark_parent_node:null},this.player.debug.log("Watermark","destroy")}remove(){this._removeMark()}load(R){this.globalSetting=R,this._loadMark(R)}resize(){this.globalSetting&&this._loadMark(this.globalSetting)}_loadMark(){var R=this.defaultSettings;if(arguments.length===1&&typeof arguments[0]=="object"){var ie,ae=arguments[0]||{};for(ie in ae)ae[ie]&&R[ie]&&ae[ie]===R[ie]||!ae[ie]&&ae[ie]!==0||(R[ie]=ae[ie])}var _e=document.getElementById(R.watermark_id),we=(_e&&_e.parentNode&&_e.parentNode.removeChild(_e),typeof R.watermark_parent_node=="string"?document.getElementById(R.watermark_parent_node):R.watermark_parent_node),_e=we||document.body,Se=_e.getBoundingClientRect(),fe=Math.max(_e.scrollWidth,_e.clientWidth,Se.width),de=Math.max(_e.scrollHeight,_e.clientHeight,Se.height),Se=arguments[0]||{},Se=((Se.watermark_parent_width||Se.watermark_parent_height)&&_e&&(R.watermark_x=R.watermark_x+0,R.watermark_y=R.watermark_y+0),document.getElementById(R.watermark_id)),Pe=null;Se?Se.shadowRoot&&(Pe=Se.shadowRoot):((Se=document.createElement("div")).id=R.watermark_id,Se.setAttribute("style","pointer-events: none !important; display: block !important"),Pe=typeof Se.attachShadow=="function"?Se.attachShadow({mode:"open"}):Se,(Oe=_e.children)[Fe=Math.floor(Math.random()*(Oe.length-1))]?_e.insertBefore(Se,Oe[Fe]):_e.appendChild(Se)),R.watermark_cols=parseInt((fe-R.watermark_x)/(R.watermark_width+R.watermark_x_space));var xe,Oe=parseInt((fe-R.watermark_x-R.watermark_width*R.watermark_cols)/R.watermark_cols);R.watermark_x_space=Oe&&R.watermark_x_space,R.watermark_rows=parseInt((de-R.watermark_y)/(R.watermark_height+R.watermark_y_space));var Fe=parseInt((de-R.watermark_y-R.watermark_height*R.watermark_rows)/R.watermark_rows);R.watermark_y_space=Fe&&R.watermark_y_space;for(var ye=we?(xe=R.watermark_x+R.watermark_width*R.watermark_cols+R.watermark_x_space*(R.watermark_cols-1),R.watermark_y+R.watermark_height*R.watermark_rows+R.watermark_y_space*(R.watermark_rows-1)):(xe=0+R.watermark_x+R.watermark_width*R.watermark_cols+R.watermark_x_space*(R.watermark_cols-1),0+R.watermark_y+R.watermark_height*R.watermark_rows+R.watermark_y_space*(R.watermark_rows-1)),Ne=0;Ne<R.watermark_rows;Ne++)for(var ee=we?0+R.watermark_y+(de-ye)/2+(R.watermark_y_space+R.watermark_height)*Ne:R.watermark_y+(de-ye)/2+(R.watermark_y_space+R.watermark_height)*Ne,se=0;se<R.watermark_cols;se++){var he=we?0+R.watermark_x+(fe-xe)/2+(R.watermark_width+R.watermark_x_space)*se:R.watermark_x+(fe-xe)/2+(R.watermark_width+R.watermark_x_space)*se,ce=document.createElement("div"),Ae=document.createTextNode(R.watermark_txt);ce.appendChild(Ae),ce.id=R.watermark_prefix+Ne+se,ce.style.webkitTransform="rotate(-"+R.watermark_angle+"deg)",ce.style.MozTransform="rotate(-"+R.watermark_angle+"deg)",ce.style.msTransform="rotate(-"+R.watermark_angle+"deg)",ce.style.OTransform="rotate(-"+R.watermark_angle+"deg)",ce.style.transform="rotate(-"+R.watermark_angle+"deg)",ce.style.visibility="",ce.style.position="absolute",ce.style.left=he+"px",ce.style.top=ee+"px",ce.style.overflow="hidden",ce.style.zIndex="9999999",ce.style.opacity=R.watermark_alpha,ce.style.fontSize=R.watermark_fontsize,ce.style.fontFamily=R.watermark_font,ce.style.color=R.watermark_color,ce.style.textAlign="center",ce.style.width=R.watermark_width+"px",ce.style.height=R.watermark_height+"px",ce.style.display="block",ce.style["-ms-user-select"]="none",Pe.appendChild(ce)}}_removeMark(){var R,ie=this.defaultSettings,ie=document.getElementById(ie.watermark_id);ie&&(R=ie.parentNode)&&R.removeChild(ie)}}class g1 extends me{_opt={};constructor(){let R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};super(),Object.keys(R).forEach(fe=>{if(R[fe]===void 0)throw new Error(`JbPro option "${fe}" can not be undefined`)});var ie,ae,we=N2(),we=Object.assign({},we,R);we.url="",we.isMulti&&(we.debugUuid="xxxx".replace(/[xy]/g,function(fe){var de=16*Math.random()|0;return(fe=="x"?de:3&de|8).toString(16)})),this.debug=new I1(this);let _e=R.container;if(!(_e=typeof R.container=="string"?document.querySelector(R.container):_e))throw this.debug.error("JbPro","JbPro need container option and now container is",R.container),new Error("JbPro need container option");if(_e.nodeName==="CANVAS"||_e.nodeName==="VIDEO")throw this.debug.error("JbPro",`JbPro container type can not be ${_e.nodeName} type`),new Error(`JbPro container type can not be ${_e.nodeName} type`);if(we.videoBuffer>=we.heartTimeout)throw this.debug.error("JbPro",`JbPro videoBuffer ${we.videoBuffer}s must be less than heartTimeout ${we.heartTimeout}s`),new Error(`JbPro videoBuffer ${we.videoBuffer}s must be less than heartTimeout ${we.heartTimeout}s`);if(this._checkHasCreated(_e))throw this.debug.error("JbPro","JbPro container has been created and can not be created again",_e),new Error("JbPro container has been created and can not be created again",_e);if(_e.classList.add("jessibuca-container"),ie=_e,ae=U1(),ie&&(ie.dataset?ie.dataset.jbprov=ae:ie.setAttribute("data-jbprov",ae)),xi(we.isLive)){const fe=document.createElement("video");fe.muted=!0,fe.setAttribute("controlsList","nodownload"),fe.disablePictureInPicture="disablePictureInPicture",fe.style.position="absolute",fe.style.top=0,fe.style.left=0,fe.style.height="100%",fe.style.width="100%",_e.appendChild(fe),this.$videoElement=fe,this.$container=_e,this._opt=we}else delete we.container,Zi(we.videoBuffer)&&(we.videoBuffer=1e3*Number(we.videoBuffer)),Zi(we.videoBufferDelay)&&(we.videoBufferDelay=1e3*Number(we.videoBufferDelay)),Zi(we.networkDelay)&&(we.networkDelay=1e3*Number(we.networkDelay)),Zi(we.timeout)&&(xn(we.loadingTimeout)&&(we.loadingTimeout=we.timeout),xn(we.heartTimeout))&&(we.heartTimeout=we.timeout),this._opt=we,this._destroyed=!1,this.$container=_e,this._loadingTimeoutReplayTimes=0,this._heartTimeoutReplayTimes=0,this.events=new V1(this),this.watermark=new qu(this),this._initPlayer(_e,we),this._initWatermark(),this.debug.log("JbPro",'init success and version is "6-25-2023"'),console.log('JbPro version is "6-25-2023"')}destroy(){return new Promise((R,ie)=>{this.debug.log("JbPro","destroy()"),this._destroyed=!0,this.off(),this.$videoElement&&(this.$videoElement.pause(),this.$videoElement.currentTime=0,this.$videoElement.srcObject&&(this.$videoElement.srcObject=null,this.$videoElement.removeAttribute("srcObject")),this.$videoElement.src&&(this.$videoElement.src="",this.$videoElement.removeAttribute("src")),this.$container.removeChild(this.$videoElement),this.$videoElement=null),this.player?this.player.destroy().then(()=>{this.player=null,this._destroy(),setTimeout(()=>{R()},0)}).catch(()=>{ie()}):(this._destroy(),setTimeout(()=>{R()},0))})}_destroy(){var R;this.events&&(this.events.destroy(),this.events=null),this.talk&&(this.talk.destroy(),this.talk=null),this.watermark&&(this.watermark.destroy(),this.watermark=null),this.$container&&(this.$container.classList.remove("jessibuca-container"),R=this.$container,R&&(R.dataset?delete R.dataset.jbprov:R.removeAttribute("data-jbprov")),this.$container=null),this.debug&&this.debug.log("JbPro","destroy end"),this._resetOpt(),this._loadingTimeoutReplayTimes=0,this._heartTimeoutReplayTimes=0}_resetOpt(){this._opt=N2()}_initPlayer(R,ie){this.player=new ju(R,ie),this.debug.log("JbPro","_initPlayer",this.player.getOption()),this._bindEvents()}_initTalk(){var R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};this.talk&&(this.talk.destroy(),this.talk=null),this.player&&(R.debug=this.player._opt.debug),this.talk=new Ku(this.player,R),this.debug.log("JbPro","_initTalk",this.talk.getOption()),this._bindTalkEvents()}_resetPlayer(){let R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return new Promise((ie,ae)=>{const we=()=>{this._opt.url="",this._opt.playOptions={},this._opt=Object.assign(this._opt,R),this._initPlayer(this.$container,this._opt)};this.player?this.player.destroy().then(()=>{this.player=null,we(),ie()}):(we(),ie())})}_bindEvents(){Object.keys(Lt).forEach(R=>{this.player.on(Lt[R],ie=>{this.emit(R,ie)})}),this.player.once(d0.beforeDestroy,()=>{this.emit(d0.close),this.destroy().then(()=>{}).catch(R=>{})}),this.player.on(d0.resize,()=>{this.watermark&&this.watermark.resize(),this.player.singleWatermark&&this.player.singleWatermark.resize()}),this.player.on(d0.fullscreen,()=>{this.watermark&&this.watermark.resize(),this.player.singleWatermark&&this.player.singleWatermark.resize()}),this.player.on(d0.videoInfo,()=>{this.player.singleWatermark&&this.player.singleWatermark.resize()})}_bindTalkEvents(){Object.keys(zt).forEach(R=>{this.player.on(zt[R],ie=>{this.emit(R,ie)})})}_initWatermark(){var R;bo(this._opt.fullscreenWatermarkConfig)&&((R=D2(this.$container,this._opt.fullscreenWatermarkConfig)).watermark_txt?this.watermark.load(R):this.debug.warn("JbPro","fullscreenWatermarkConfig text is empty"))}_checkHasCreated(R){return!!R&&(R=R,!!(R&&(R.dataset?R.dataset.jbprov:R.getAttribute("data-jbprov"))))}isDestroyed(){return this._destroyed}getOption(){return this.player?this.player.getOption():{}}setDebug(R){this.debug.log("JbPro","setDebug() "+R),this.player?this.player.updateOption({debug:!!R}):this.debug.warn("JbPro","player is not init")}getIsDebug(){let R=!1;return R=this.player?this.player._opt.debug:R}mute(){this.debug.log("JbPro","mute()"),this.player&&this.player.mute(!0)}cancelMute(){this.debug.log("JbPro","cancelMute()"),this.player&&this.player.mute(!1)}setVolume(R){this.debug.log("JbPro","setVolume() "+R),this.player&&(this.player.volume=R)}getVolume(){let R=null;return this.player&&(R=this.player.volume,R=parseFloat(R).toFixed(2)),R}audioResume(){this.debug.log("JbPro","audioResume()"),this.player&&this.player.audio?this.player.audio.audioEnabled(!0):this.debug.warn("JbPro","audioResume error")}setTimeout(R){this.debug.log("JbPro","setTimeout() "+R),R=Number(R),isNaN(R)?this.debug.warn("JbPro",`setTimeout error: ${R} is not a number`):this.player&&this.player.updateOption({timeout:R,loadingTimeout:R,heartTimeout:R})}setScaleMode(R){this.debug.log("JbPro","setScaleMode() "+R),this.player?this.player.setScaleMode(R):this.debug.warn("JbPro","setScaleMode() player is null")}pause(){let R=0<arguments.length&&arguments[0]!==void 0&&arguments[0];return new Promise((ie,ae)=>{if(this.debug.log("JbPro","pause() "+R),this.isDestroyed())return ae("JbPro is destroyed");this.player?this.player.pause(R).then(we=>{ie(we)}).catch(we=>{ae(we)}):ae("player is null")})}close(){return new Promise((R,ie)=>{this.debug.log("JbPro","close()"),this._opt.url="",this._loadingTimeoutReplayTimes=0,this._heartTimeoutReplayTimes=0,this.player?this.player.close().then(()=>{R()}).catch(ae=>{ie(ae)}):ie("player is null")})}clearView(){this.debug.log("JbPro","clearView()"),this.player&&this.player.video?this.getRenderType()===W0?this.player.video.clearView():this.debug.warn("JbPro","clearView","render type is video, not support clearView, please use canvas render type"):this.debug.warn("JbPro","clearView","player is null")}play(){let R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return new Promise((ae,we)=>{if(this.debug.log("JbPro","play() "+R),R||this._opt.url)if(R=R&&(""+R).trim(),xi(this._opt.isLive))this.$videoElement.controls="controls",this.$videoElement.muted=!1,this.$videoElement.src=R,this.$videoElement.play(),ae(this.$videoElement);else{if(this._opt.isCrypto){var _e,fe=ie.cryptoKey||this._opt.playOptions.cryptoKey,de=ie.cryptoIV||this._opt.playOptions.cryptoIV;if(!fe||!de)return _e=R||this._opt.url,void this._cryptoPlay(_e).then(Pe=>{var{cryptoIV:Pe,cryptoKey:xe}=Pe;this._opt.playOptions.cryptoKey=xe,this._opt.playOptions.cryptoIV=Pe,ie.cryptoIV=Pe,ie.cryptoKey=xe,this._playBefore(R,ie).then(()=>{ae()}).catch(Oe=>{we(Oe)})}).catch(Se=>{we(Se)});this._opt.playOptions.cryptoKey=fe,this._opt.playOptions.cryptoIV=de,ie.cryptoIV=de,ie.cryptoKey=fe}this._playBefore(R,ie).then(()=>{ae()}).catch(Se=>{we(Se)})}else this.emit(d0.error,L0.playError),we("url is null and this._opt.url is null")})}_playBefore(R,ie){return new Promise((ae,we)=>{this.player?R?this._opt.url?R===this._opt.url?this.player.playing?(this.debug.log("JbPro","_playBefore","playing and resolve()"),ae()):(this.debug.log("JbPro","_playBefore","pause ->  play"),this.player.play(this._opt.url,this._opt.playOptions).then(()=>{ae(),this.player.resumeAudioAfterPause()}).catch(_e=>{this.debug.error("JbPro","_playBefore this.player.play error",_e),this.emit(d0.crashLog,this.getCrashLog("this.player.play 1",_e)),this.player.pause().then(()=>{we(_e)})})):this.player.pause().then(()=>{this._play(R,ie).then(()=>{ae()}).catch(_e=>{this.debug.error("JbPro","_play error",_e),this.emit(d0.crashLog,this.getCrashLog("this.player.play 2",_e)),we(_e)})}).catch(_e=>{this.debug.error("JbPro","this.player.pause error",_e),we(_e)}):this._play(R,ie).then(()=>{ae()}).catch(_e=>{this.debug.error("JbPro","_play error",_e),this.emit(d0.crashLog,this.getCrashLog("this.player.play 3",_e)),we(_e)}):this.player.play(this._opt.url,this._opt.playOptions).then(()=>{ae(),this.player.resumeAudioAfterPause()}).catch(_e=>{this.debug.error("JbPro","this.player.play error",_e),this.emit(d0.crashLog,this.getCrashLog("this.player.play 4",_e)),this.player.pause().then(()=>{we(_e)})}):R?this._play(R,ie).then(()=>{ae()}).catch(_e=>{this.debug.error("JbPro","_play error",_e),this.emit(d0.crashLog,this.getCrashLog("this.player.play 5",_e)),we(_e)}):this._play(this._opt.url,this._opt.playOptions).then(()=>{ae()}).catch(_e=>{this.debug.error("JbPro","_play error",_e),this.emit(d0.crashLog,this.getCrashLog("this.player.play 6",_e)),we(_e)})})}_cryptoPlay(R){return new Promise((ie,ae)=>{var we,_e=(function(){var Se=(R||document.location.toString()).split("//"),Pe=Se[1].indexOf("/");let xe=Se[1].substring(Pe);return xe=xe.indexOf("?")!=-1?xe.split("?")[0]:xe})();let fe=this._opt.cryptoKeyUrl,de="";fe?de=fe:(fe=(function(Pe){var xe=/(msie|trident)/i.test(navigator.userAgent),Oe=document.createElement("a");let Fe=Pe;return xe&&(Oe.setAttribute("href",Fe),Fe=Oe.href),Oe.setAttribute("href",Fe),{origin:Oe.origin,href:Oe.href,protocol:Oe.protocol?Oe.protocol.replace(/:$/,""):"",host:Oe.host,search:Oe.search?Oe.search.replace(/^\?/,""):"",hash:Oe.hash?Oe.hash.replace(/^#/,""):"",hostname:Oe.hostname,port:Oe.port,pathname:Oe.pathname.charAt(0)==="/"?Oe.pathname:"/"+Oe.pathname}})(R).origin+"/crypto/",de=fe+"?stream="+_e),we=de,new Promise((Se,Pe)=>{Ms.get(we).then(xe=>{Se(xe)}).catch(xe=>{Pe(xe)})}).then(Se=>{if(Se){const Pe=Se.split("."),xe=O2(Pe[0]),Oe=O2(Pe[1]);Oe&&xe?ie({cryptoIV:Oe,cryptoKey:xe}):ae("get cryptoIV or cryptoKey error")}else ae(`cryptoKeyUrl: getM7SCryptoStreamKey ${de} res is null`)}).catch(Se=>{ae(Se)})})}playback(R){let ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return new Promise((ae,we)=>{if(this.debug.log("JbPro","playback() "+R),xi(this._opt.isLive))return we("this._opt.isLive is false, can not playback");var _e=ko(),_e=Object.assign({},_e.playbackConfig,this._opt.playbackConfig,ie);_e.isUseFpsRender||_e.isCacheBeforeDecodeForFpsRender&&(_e.isCacheBeforeDecodeForFpsRender=!1,this.debug.warn("JbPro","playbackConfig.isUseFpsRender is false, isCacheBeforeDecodeForFpsRender can not be ture, isCacheBeforeDecodeForFpsRender is set to false")),_e.rateConfig.length===0&&_e.showRateBtn&&(_e.showRateBtn=!1,this.debug.warn("JbPro","playbackConfig.rateConfig.length is 0, showRateBtn can not be ture, showRateBtn is set to false")),this._resetPlayer({videoBuffer:0,playbackConfig:_e,playType:We,openWebglAlignment:!0,useMSE:!1,useWCS:!1,useSIMD:!0}).then(()=>{this.play(R).then(()=>{ae()}).catch(fe=>{we(fe)})}).catch(fe=>{we(fe)})})}playbackPause(){let R=0<arguments.length&&arguments[0]!==void 0&&arguments[0];return this.debug.log("JbPro","playbackPause() "+R),this._opt.playType===be?Promise.reject("playType is player, can not call playbackPause method"):new Promise((ie,ae)=>{if(!this.player)return ae("player is null");br(R)?this.pause().then(()=>{ie()}).catch(we=>{ae(we)}):(this.player.playbackPause=!0,ie())})}playbackResume(){return this.debug.log("JbPro","playbackResume()"),this._opt.playType===be?Promise.reject("playType is player, can not call playbackResume method"):new Promise((R,ie)=>{if(!this.player)return ie();this.player.playbackPause=!1,R()})}forward(R){return this.debug.log("JbPro","forward() "+R),xi(this._opt.isLive)||this._opt.playType===be?Promise.reject("forward() method only just for playback type"):Xt(Number(R))?new Promise((ie,ae)=>{this.player?(R=ls(Number(R),.1,32),this.player.decoderWorker&&this.player.decoderWorker.updateWorkConfig({key:"playbackRate",value:R}),this.player.playback.setRate(R),this.player.video&&this.player.video.setRate(R),this.player.audio&&this.player.audio.setRate(R),ie()):ae("player is null")}):Promise.reject(`forward() params "rate": ${R} must be number type`)}playbackForward(R){return this.forward(R)}normal(){return this.forward(1)}playbackNormal(){return this.normal()}updatePlaybackForwardMaxRateDecodeIFrame(R){this.debug.log("JbPro","updatePlaybackForwardMaxRateDecodeIFrame() "+R),R=Number(R),R=ls(R=parseInt(R,10),1,8),this._opt.playbackForwardMaxRateDecodeIFrame=R,this.player?(this.player.updateOption({playbackForwardMaxRateDecodeIFrame:R}),this.player.decoderWorker&&this.player.decoderWorker.updateWorkConfig({key:"playbackForwardMaxRateDecodeIFrame",value:R})):this.debug.warn("JbPro","updatePlaybackForwardMaxRateDecodeIFrame() player is null")}setPlaybackStartTime(R){this.debug.log("JbPro","setPlaybackStartTime() "+R);var ie=z1(R);this.player?this.player.isPlayback()?ie<10&&R!==0?this.debug.warn("JbPro",`timestamp: ${R} is not valid`):this.player.playing&&(ie===10&&(R*=1e3),this.player.playback.setStartTime(R),this.playbackClearCacheBuffer()):this.debug.warn("JbPro","playType is not playback"):this.debug.warn("JbPro","player is null")}playbackClearCacheBuffer(){this.debug.log("JbPro","playbackClearCacheBuffer()"),this.player?this.player.isPlayback()?(this.player.video&&this.player.video.clear(),this.player.audio&&this.player.audio.clear(),this.player.decoderWorker.clearWorkBuffer(!0)):this.debug.warn("JbPro","playType is not playback"):this.debug.warn("JbPro","player is null")}getPlaybackCurrentRate(){return this.player&&this.player.isPlayback()?this.player.playback.rate:1}updatePlaybackLocalOneFrameTimestamp(R){this.debug.log("JbPro","updatePlaybackLocalOneFrameTimestamp() "+R),this.player?this.player.isPlayback()?this.player.playback.updateLocalOneFrameTimestamp(R):this.debug.warn("JbPro","playType is not playback"):this.debug.warn("JbPro","player is null")}setStreamQuality(R){this.debug.log("JbPro","setStreamQuality() "+R),this.player?this.player._opt.operateBtns.quality?(this.player._opt.qualityConfig||[]).includes(R)?this.player.streamQuality=R:this.debug.warn("JbPro",`quality: ${R} is not in qualityList`):this.debug.warn("JbPro","player._opt.operateBtns.quality is false"):this.debug.warn("JbPro","player is null")}_play(){let R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return new Promise((ae,we)=>{if(!this.player)return we("player is null");let _e=!1;this._opt.url&&this._opt.url!==R&&(_e=!0),this._opt.url=R,this._opt.playOptions=ie;var fe=R.indexOf("http")===0,de=R.indexOf("webrtc")===0,Se=R.indexOf("wt")===0,Pe=!de&&R.indexOf(".m3u8")!==-1,xe=!de&&R.indexOf(".flv")!==-1,Oe=!de&&R.indexOf(".fmp4")!==-1||!de&&R.indexOf(".mp4")!==-1,Fe=!de&&R.indexOf(".mpeg4")!==-1,ye=!de&&R.indexOf(".h264")!==-1||!de&&R.indexOf(".h265")!==-1;if(xe&&!this._opt.isFlv&&(this._opt.isFlv=!0,this._opt.isFmp4=!1,this._opt.isMpeg4=!1,this._opt.isNakedFlow=!1),Oe&&!this._opt.isFmp4&&(this._opt.isFmp4=!0,this._opt.isFlv=!1,this._opt.isMpeg4=!1,this._opt.isNakedFlow=!1),Fe&&!this._opt.isMpeg4&&(this._opt.isMpeg4=!0,this._opt.isFlv=!1,this._opt.isFmp4=!1,this._opt.isNakedFlow=!1),ye&&!this._opt.isNakedFlow&&(this._opt.isNakedFlow=!0,this._opt.isFlv=!1,this._opt.isFmp4=!1,this._opt.isMpeg4=!1),Oe=fe?Pe?3:2:Se?5:de?4:1,ye=this._opt.isNakedFlow?k0:this._opt.isFmp4?T0:this._opt.isMpeg4?J0:fe&&!Pe||xe||this._opt.isFlv?p0:Pe?"hls":de?"webrtc":Se?D:"m7s",!Oe||!ye)return we(`play protocol is ${Oe}, demuxType is `+ye);const Ne=()=>{this.player.once(L0.webglAlignmentError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.webglAlignmentError,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.webglAlignmentErrorReplay){this.debug.log("JbPro","webglAlignmentError");const se=this._opt.url;this._resetPlayer({openWebglAlignment:!0}).then(()=>{this.play(se).then(()=>{this.debug.log("JbPro","webglAlignmentError and play success")}).catch(he=>{this.debug.error("JbPro","webglAlignmentError and play error",he)})}).catch(he=>{this.debug.error("JbPro","webglAlignmentError and _resetPlayer error",he)})}else this.emit(d0.playFailedAndPaused,L0.webglAlignmentError),this.debug.log("JbPro","webglAlignmentError and webglAlignmentErrorReplay is false")}).catch(se=>{this.debug.error("JbPro","webglAlignmentError and pause error",se)})}),this.player.once(L0.webglContextLostError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.webglContextLostError,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.webglContextLostErrorReplay){this.debug.log("JbPro","webglContextLostError");const he=this._opt.url,ce={};var se;this.player._opt.replayUseLastFrameShow&&(se=this.screenshot("","png",.92,"base64"),ce.loadingBackground=se),this._resetPlayer(ce).then(()=>{this.play(he).then(()=>{this.debug.log("JbPro","webglContextLostError and play success")}).catch(Ae=>{this.debug.error("JbPro","webglContextLostError and play error",Ae)})}).catch(Ae=>{this.debug.error("JbPro","webglContextLostError and _resetPlayer error",Ae)})}else this.emit(d0.playFailedAndPaused,L0.webglContextLostError),this.debug.log("JbPro","webglContextLostError and webglContextLostErrorReplay is false")}).catch(se=>{this.debug.error("JbPro","webglAlignmentError and pause error",se)})}),this.player.once(L0.mediaSourceH265NotSupport,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.mediaSourceH265NotSupport,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.autoWasm){this.debug.log("JbPro","mediaSourceH265NotSupport auto wasm [mse-> wasm] reset player and play");const se=this._opt.url;this._resetPlayer({useMSE:!1,useWCS:!1}).then(()=>{this.play(se).then(()=>{this.debug.log("JbPro","mediaSourceH265NotSupport auto wasm [mse-> wasm] reset player and play success")}).catch(he=>{this.debug.error("JbPro","mediaSourceH265NotSupport auto wasm [mse-> wasm] reset player and play error",he)})}).catch(he=>{this.debug.error("JbPro","mediaSourceH265NotSupport auto wasm [mse-> wasm] _resetPlayer error",he)})}else this.emit(d0.playFailedAndPaused,L0.mediaSourceH265NotSupport),this.debug.log("JbPro","mediaSourceH265NotSupport and autoWasm is false")}).catch(se=>{this.debug.error("JbPro","mediaSourceH265NotSupport and pause error",se)})}),this.player.once(L0.mediaSourceFull,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.mediaSourceFull,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.mseDecodeErrorReplay){this.debug.log("JbPro","mediaSourceFull and auto wasm [mse-> wasm] reset player and play");const he=this._opt.url;let ce={};var se;this.player._opt.autoWasm&&(ce={useMSE:!1,useWCS:!1}),this.player._opt.replayUseLastFrameShow&&(se=this.screenshot("","png",.92,"base64"),ce.loadingBackground=se),this._resetPlayer(ce).then(()=>{this.play(he).then(()=>{this.debug.log("JbPro","mediaSourceFull and reset player and play success")}).catch(Ae=>{this.debug.error("JbPro","mediaSourceFull and reset player and play error",Ae)})}).catch(Ae=>{this.debug.error("JbPro","mediaSourceFull and _resetPlayer error",Ae)})}else this.emit(d0.playFailedAndPaused,L0.mediaSourceFull),this.debug.log("JbPro","mediaSourceFull and autoWasm is false")}).catch(se=>{this.debug.error("JbPro","mediaSourceFull and pause error",se)})}),this.player.once(L0.mediaSourceAppendBufferError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.mediaSourceAppendBufferError,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.mseDecodeErrorReplay){this.debug.log("JbPro","mediaSourceAppendBufferError and auto wasm [mse-> wasm] reset player and play");const he=this._opt.url;let ce={};var se;this.player._opt.autoWasm&&(ce={useMSE:!1,useWCS:!1}),this.player._opt.replayUseLastFrameShow&&(se=this.screenshot("","png",.92,"base64"),ce.loadingBackground=se),this._resetPlayer(ce).then(()=>{this.play(he).then(()=>{this.debug.log("JbPro","mediaSourceAppendBufferError and reset player and play success")}).catch(Ae=>{this.debug.error("JbPro","mediaSourceAppendBufferError and reset player and play error",Ae)})}).catch(Ae=>{this.debug.error("JbPro","mediaSourceAppendBufferError and _resetPlayer error",Ae)})}else this.emit(d0.playFailedAndPaused,L0.mediaSourceAppendBufferError),this.debug.log("JbPro","mediaSourceAppendBufferError and autoWasm is false")}).catch(se=>{this.debug.error("JbPro","mediaSourceAppendBufferError and pause error",se)})}),this.player.once(L0.mediaSourceBufferListLarge,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.mediaSourceBufferListLarge,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.mseDecodeErrorReplay){this.debug.log("JbPro","media source buffer list large and auto wasm [mse-> wasm] reset player and play");const he=this._opt.url;let ce={};var se;this.player._opt.autoWasm&&(ce={useMSE:!1,useWCS:!1}),this.player._opt.replayUseLastFrameShow&&(se=this.screenshot("","png",.92,"base64"),ce.loadingBackground=se),this._resetPlayer(ce).then(()=>{this.play(he).then(()=>{this.debug.log("JbPro","media source buffer list large and reset player and play success")}).catch(Ae=>{this.debug.error("JbPro","media source buffer list large and reset player and play error",Ae)})}).catch(Ae=>{this.debug.error("JbPro","media source buffer list large and _resetPlayer error",Ae)})}else this.emit(d0.playFailedAndPaused,L0.mediaSourceBufferListLarge),this.debug.log("JbPro","media source buffer list large and autoWasm is false")}).catch(se=>{this.debug.error("JbPro","media source buffer list large and pause error",se)})}),this.player.once(L0.mediaSourceAppendBufferEndTimeout,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.mediaSourceAppendBufferEndTimeout,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.mseDecodeErrorReplay){this.debug.log("JbPro","media source append buffer end timeout and auto wasm [mse-> wasm] reset player and play");const he=this._opt.url;let ce={};var se;this.player._opt.autoWasm&&(ce={useMSE:!1,useWCS:!1}),this.player._opt.replayUseLastFrameShow&&(se=this.screenshot("","png",.92,"base64"),ce.loadingBackground=se),this._resetPlayer(ce).then(()=>{this.play(he).then(()=>{this.debug.log("JbPro","media source append buffer end timeout and reset player and play success")}).catch(Ae=>{this.debug.error("JbPro","media source append buffer end timeout and reset player and play error",Ae)})}).catch(Ae=>{this.debug.error("JbPro","media source append buffer end timeout and _resetPlayer error",Ae)})}else this.emit(d0.playFailedAndPaused,L0.mediaSourceAppendBufferEndTimeout),this.debug.log("JbPro","media source append buffer end timeout and autoWasm is false")}).catch(se=>{this.debug.error("JbPro","media source append buffer end timeout and pause error",se)})}),this.player.once(L0.mseSourceBufferError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.mseSourceBufferError,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.mseDecodeErrorReplay){this.debug.log("JbPro","mseSourceBufferError auto wasm [mse-> wasm] reset player and play");const he=this._opt.url;let ce={};var se;this.player._opt.autoWasm&&(ce={useMSE:!1,useWCS:!1}),this.player._opt.replayUseLastFrameShow&&(se=this.screenshot("","png",.92,"base64"),ce.loadingBackground=se),this._resetPlayer(ce).then(()=>{this.play(he).then(()=>{this.debug.log("JbPro","mseSourceBufferError auto wasm [mse-> wasm] reset player and play success")}).catch(Ae=>{this.debug.error("JbPro","mseSourceBufferError auto wasm [mse-> wasm] reset player and play error",Ae)})}).catch(Ae=>{this.debug.error("JbPro","mseSourceBufferError auto wasm [mse-> wasm] _resetPlayer and play error",Ae)})}else this.emit(d0.playFailedAndPaused,L0.mseSourceBufferError),this.debug.log("JbPro","mseSourceBufferError and autoWasm is false")}).catch(se=>{this.debug.error("JbPro","mseSourceBufferError and pause error:",se)})}),this.player.once(L0.mseAddSourceBufferError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.mseAddSourceBufferError,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.autoWasm){this.debug.log("JbPro","mseAddSourceBufferError auto wasm [mse-> wasm] reset player and play");const se=this._opt.url;this._resetPlayer({useMSE:!1,useWCS:!1}).then(()=>{this.play(se).then(()=>{this.debug.log("JbPro","mseAddSourceBufferError auto wasm [mse-> wasm] reset player and play success")}).catch(he=>{this.debug.error("JbPro","mseAddSourceBufferError auto wasm [mse-> wasm] reset player and play error",he)})}).catch(he=>{this.debug.error("JbPro","mseAddSourceBufferError auto wasm [mse-> wasm] _resetPlayer and play error",he)})}else this.emit(d0.playFailedAndPaused,L0.mseAddSourceBufferError),this.debug.log("JbPro","mseAddSourceBufferError and autoWasm is false")}).catch(se=>{this.debug.error("JbPro","mseAddSourceBufferError and pause error",se)})}),this.player.once(L0.mediaSourceDecoderConfigurationError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.mediaSourceDecoderConfigurationError,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.autoWasm){this.debug.log("JbPro","mediaSourceDecoderConfigurationError auto wasm [mse-> wasm] reset player and play");const se=this._opt.url;this._resetPlayer({useMSE:!1,useWCS:!1}).then(()=>{this.play(se).then(()=>{this.debug.log("JbPro","mediaSourceDecoderConfigurationError auto wasm [mse-> wasm] reset player and play success")}).catch(he=>{this.debug.error("JbPro","mediaSourceDecoderConfigurationError auto wasm [mse-> wasm] reset player and play error",he)})}).catch(he=>{this.debug.error("JbPro","mediaSourceDecoderConfigurationError auto wasm [mse-> wasm] _resetPlayer and play error",he)})}else this.debug.log("JbPro","mediaSourceDecoderConfigurationError and autoWasm is false")}).catch(se=>{this.debug.error("JbPro","mediaSourceDecoderConfigurationError and pause error",se)})}),this.player.once(L0.mediaSourceTsIsMaxDiff,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.mediaSourceTsIsMaxDiff,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.mediaSourceTsIsMaxDiffReplay){this.debug.log("JbPro","mediaSourceTsIsMaxDiff reset player and play");const se=this._opt.url,he={};he.loadingBackground=this.screenshot("","png",.92,"base64"),this._resetPlayer(he).then(()=>{this.play(se).then(()=>{}).catch(ce=>{this.debug.error("JbPro","mediaSourceTsIsMaxDiff replay error",ce)})}).catch(ce=>{this.debug.error("JbPro","mediaSourceTsIsMaxDiff _resetPlayer error",ce)})}else this.emit(d0.playFailedAndPaused,L0.mediaSourceTsIsMaxDiff),this.debug.log("JbPro","mediaSourceTsIsMaxDiff and replay is false")}).catch(se=>{this.debug.error("JbPro","mediaSourceTsIsMaxDiff and pause error",se)})}),this.player.once(L0.mseWidthOrHeightChange,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.mseWidthOrHeightChange,ee)),this.debug.log("JbPro","mseWidthOrHeightChange and reset player and play");const se=this._opt.url,he=this.screenshot("","png",.92,"base64");this._resetPlayer({loadingBackground:he}).then(()=>{this.play(se).then(()=>{this.debug.log("JbPro","mseWidthOrHeightChange and reset player and play success")}).catch(ce=>{this.debug.error("JbPro","mseWidthOrHeightChange and reset player and play error",ce)})}).catch(ce=>{this.debug.error("JbPro","mseWidthOrHeightChange and _resetPlayer error",ce)})}),this.player.once(L0.mediaSourceUseCanvasRenderPlayFailed,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.mediaSourceUseCanvasRenderPlayFailed,ee)),this.debug.log("JbPro","mediaSourceUseCanvasRenderPlayFailed and reset player"),this.pause().then(()=>{this._resetPlayer().then(()=>{this.debug.log("JbPro","mediaSourceUseCanvasRenderPlayFailed and reset player success")}).catch(se=>{this.debug.error("JbPro","mediaSourceUseCanvasRenderPlayFailed and reset player error",se)})}).catch(se=>{this.debug.error("JbPro","mediaSourceUseCanvasRenderPlayFailed and pause",se)})}),this.player.once(L0.webcodecsH265NotSupport,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.webcodecsH265NotSupport,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.autoWasm){this.debug.log("JbPro","webcodecsH265NotSupport auto wasm [wcs-> wasm] reset player and play");const se=this._opt.url;this._resetPlayer({useMSE:!1,useWCS:!1}).then(()=>{this.play(se).then(()=>{this.debug.log("JbPro","webcodecsH265NotSupport auto wasm [wcs-> wasm] reset player and play success")}).catch(he=>{this.debug.error("JbPro","webcodecsH265NotSupport auto wasm [wcs-> wasm] reset player and play error",he)})}).catch(he=>{this.debug.error("JbPro","webcodecsH265NotSupport auto wasm [wcs-> wasm] _resetPlayer and play error",he)})}else this.emit(d0.playFailedAndPaused,L0.webcodecsH265NotSupport),this.debug.log("JbPro","webcodecsH265NotSupport and autoWasm is false")}).catch(se=>{this.debug.error("JbPro","webcodecsH265NotSupport and pause error",se)})}),this.player.once(L0.webcodecsUnsupportedConfigurationError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.webcodecsUnsupportedConfigurationError,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.autoWasm){this.debug.log("Jessibuca","webcodecsUnsupportedConfigurationError auto wasm [wcs-> wasm] reset player and play");const se=this._opt.url;this._resetPlayer({useMSE:!1,useWCS:!1}).then(()=>{this.play(se).then(()=>{this.debug.log("Jessibuca","webcodecsUnsupportedConfigurationError auto wasm [wcs-> wasm] reset player and play success")}).catch(he=>{this.debug.error("Jessibuca","webcodecsUnsupportedConfigurationError auto wasm [wcs-> wasm] reset player and play error",he)})}).catch(he=>{this.debug.error("Jessibuca","webcodecsUnsupportedConfigurationError auto wasm [wcs-> wasm] _resetPlayer and play error",he)})}else this.emit(d0.playFailedAndPaused,L0.webcodecsUnsupportedConfigurationError),this.debug.log("Jessibuca","webcodecsUnsupportedConfigurationError and autoWasm is false")}).catch(se=>{this.debug.error("Jessibuca","webcodecsUnsupportedConfigurationError and pause error",se)})}),this.player.once(L0.webcodecsDecodeError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.webcodecsDecodeError,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.wcsDecodeErrorReplay){this.debug.log("JbPro","webcodecs decode error reset player and play");const he=this._opt.url;let ce={};var se;this.player._opt.autoWasm&&(ce={useMSE:!1,useWCS:!1}),this.player._opt.replayUseLastFrameShow&&(se=this.screenshot("","png",.92,"base64"),ce.loadingBackground=se),this._resetPlayer(ce).then(()=>{this.play(he).then(()=>{this.debug.log("JbPro","webcodecs decode error  reset player and play success")}).catch(Ae=>{this.debug.error("JbPro","webcodecs decode error reset player and play error",Ae)})}).catch(()=>{this.debug.error("JbPro","webcodecs decode error _resetPlayer error")})}else this.emit(d0.playFailedAndPaused,L0.webcodecsDecodeError),this.debug.log("JbPro","webcodecs decode error and autoWasm is false")}).catch(se=>{this.debug.error("JbPro","webcodecs decode error and pause error",se)})}),this.player.once(L0.wcsWidthOrHeightChange,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.wcsWidthOrHeightChange,ee)),this.debug.log("JbPro","wcsWidthOrHeightChange and reset player and play");const se=this._opt.url,he=this.screenshot("","png",.92,"base64");this._resetPlayer({loadingBackground:he}).then(()=>{this.play(se).then(()=>{this.debug.log("JbPro","wcsWidthOrHeightChange and reset player and play success")}).catch(ce=>{this.debug.error("JbPro","wcsWidthOrHeightChange and reset player and play error",ce)})}).catch(ce=>{this.debug.error("JbPro","wcsWidthOrHeightChange and _resetPlayer error",ce)})}),this.player.once(L0.wasmDecodeError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.wasmDecodeError,ee)),this.pause().then(()=>{if(this.player&&this.player._opt.wasmDecodeErrorReplay){this.debug.log("JbPro","wasm decode error and reset player and play");const he=this._opt.url,ce={};var se;this.player._opt.replayUseLastFrameShow&&(se=this.screenshot("","png",.92,"base64"),ce.loadingBackground=se),this._resetPlayer(ce).then(()=>{this.play(he).then(()=>{this.debug.log("JbPro","wasm decode error and reset player and play success")}).catch(Ae=>{this.debug.error("JbPro","wasm decode error and reset player and play error",Ae)})}).catch(()=>{this.debug.error("JbPro","wasm decode error and _resetPlayer error")})}else this.emit(d0.playFailedAndPaused,L0.wasmDecodeError),this.debug.log("JbPro","wasm decode error and wasmDecodeErrorReplay is false")}).catch(se=>{this.debug.error("JbPro","wasm decode error and pause error",se)})}),this.player.once(L0.wasmDecodeVideoNoResponseError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.wasmDecodeVideoNoResponseError,ee)),this.pause().then(()=>{this.debug.log("JbPro","wasm decode video no response error and reset player and play");const se=this._opt.url,he={};if(this.player&&this.player._opt.replayUseLastFrameShow){const ce=this.screenshot("","png",.92,"base64");he.loadingBackground=ce}this._resetPlayer(he).then(()=>{this.play(se).then(()=>{this.debug.log("JbPro","wasm decode video no response error and reset player and play success")}).catch(ce=>{this.debug.error("JbPro","wasm decode video no response error and reset player and play error",ce)})}).catch(ce=>{this.debug.error("JbPro","wasm decode video no response error and _resetPlayer error",ce)})}).catch(se=>{this.debug.error("JbPro","wasm decode video no response error and pause error",se)})}),this.player.once(L0.wasmWidthOrHeightChange,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.wasmWidthOrHeightChange,ee)),this.debug.log("JbPro","wasmWidthOrHeightChange and reset player and play");const se=this._opt.url,he=this.screenshot("","png",.92,"base64");this._resetPlayer({loadingBackground:he}).then(()=>{this.play(se).then(()=>{this.debug.log("JbPro","wasmWidthOrHeightChange and reset player and play success")}).catch(ce=>{this.debug.error("JbPro","wasmWidthOrHeightChange and reset player and play error",ce)})}).catch(ce=>{this.debug.error("JbPro","wasmWidthOrHeightChange and _resetPlayer error",ce)})}),this.player.once(L0.wasmUseVideoRenderError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.wasmUseVideoRenderError,ee)),this.debug.log("JbPro","wasmUseVideoRenderError and reset player and play");const se=this._opt.url;this._resetPlayer({useVideoRender:!1}).then(()=>{this.play(se).then(()=>{this.debug.log("JbPro","wasmUseVideoRenderError and reset player and play success")}).catch(he=>{this.debug.error("JbPro","wasmUseVideoRenderError and reset player and play error",he)})}).catch(he=>{this.debug.error("JbPro","wasmUseVideoRenderError and _resetPlayer error",he)})}),this.player.once(L0.simdH264DecodeVideoWidthIsTooLarge,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.simdH264DecodeVideoWidthIsTooLarge,ee)),this.pause().then(()=>{this.debug.log("JbPro","simdH264DecodeVideoWidthIsTooLarge and reset player and play");const se=this._opt.url;this._resetPlayer({useSIMD:!1}).then(()=>{this.play(se).then(()=>{this.debug.log("JbPro","simdH264DecodeVideoWidthIsTooLarge and reset player and play success")}).catch(he=>{this.debug.error("JbPro","simdH264DecodeVideoWidthIsTooLarge and reset player and play error",he)})}).catch(he=>{this.debug.error("JbPro","simdH264DecodeVideoWidthIsTooLarge and _resetPlayer error",he)})}).catch(se=>{this.debug.error("JbPro","simdH264DecodeVideoWidthIsTooLarge and pause error",se)})}),this.player.once(d0.networkDelayTimeout,ee=>{if(this.player._opt.networkDelayTimeoutReplay){this.emit(d0.crashLog,this.getCrashLog(d0.networkDelayTimeout,ee)),this.debug.log("JbPro","network delay time out and reset player and play");const se=this._opt.url,he={};if(this.player&&this.player._opt.replayUseLastFrameShow){const ce=this.screenshot("","png",.92,"base64");he.loadingBackground=ce}this._resetPlayer(he).then(()=>{this.play(se).then(()=>{this.debug.log("JbPro","wasm decode error and reset player and play success")}).catch(ce=>{this.debug.error("JbPro","wasm decode error and reset player and play error",ce)})}).catch(()=>{this.debug.error("JbPro","wasm decode error and _resetPlayer error")})}}),this.player.once(L0.fetchError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.fetchError,ee)),this.debug.log("JbPro","fetch error and reset player"),this.pause().then(()=>{this._resetPlayer().then(()=>{this.emit(d0.playFailedAndPaused,L0.fetchError)}).catch(()=>{this.emit(d0.playFailedAndPaused,L0.fetchError)})}).catch(se=>{this.debug.error("JbPro","fetch error and pause",se)})}),this.player.once(d0.streamEnd,ee=>{this.emit(d0.crashLog,this.getCrashLog(d0.streamEnd,ee)),this.debug.log("JbPro","streamEnd reset player"),this.pause().then(()=>{this._resetPlayer().then(()=>{this.emit(d0.playFailedAndPaused,d0.streamEnd)}).catch(()=>{this.emit(d0.playFailedAndPaused,d0.streamEnd)})}).catch(se=>{this.debug.error("JbPro","streamEnd pause",se)})}),this.player.once(L0.websocketError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.websocketError,ee)),this.debug.log("JbPro","websocketError and reset player"),this.pause().then(()=>{this._resetPlayer().then(()=>{this.emit(d0.playFailedAndPaused,L0.websocketError)}).catch(()=>{this.emit(d0.playFailedAndPaused,L0.websocketError)})}).catch(se=>{this.debug.error("JbPro","websocketError and pause",se)})}),this.player.once(L0.webrtcError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.webrtcError,ee)),this.debug.log("JbPro","webrtcError and reset player"),this.pause().then(()=>{this._resetPlayer().then(()=>{this.emit(d0.playFailedAndPaused,L0.webrtcError)}).catch(()=>{this.emit(d0.playFailedAndPaused,L0.webrtcError)})}).catch(se=>{this.debug.error("JbPro","webrtcError and pause",se)})}),this.player.once(L0.hlsError,ee=>{this.emit(d0.crashLog,this.getCrashLog(L0.hlsError,ee)),this.debug.log("JbPro","hlsError and reset player"),this.pause().then(()=>{this._resetPlayer().then(()=>{this.emit(d0.playFailedAndPaused,L0.hlsError)}).catch(()=>{this.emit(d0.playFailedAndPaused,L0.hlsError)})}).catch(se=>{this.debug.error("JbPro","hlsError and pause",se)})}),this.player.on(d0.delayTimeout,ee=>{this.emit(d0.crashLog,this.getCrashLog(d0.delayTimeout,ee)),this.isDestroyed()?this.debug.log("JbPro","delay timeout but player is destroyed"):this.pause().then(()=>{if(this.player&&this.player._opt.heartTimeoutReplay&&(this._heartTimeoutReplayTimes<this.player._opt.heartTimeoutReplayTimes||this.player._opt.heartTimeoutReplayTimes===-1))if(this.debug.log("JbPro",`delay timeout replay time is ${this._heartTimeoutReplayTimes} and heartTimeoutReplayTimes is `+this.player._opt.heartTimeoutReplayTimes),this.isDestroyed())this.debug&&this.debug.warn("JbPro","delay timeout replay but player is destroyed");else{this._heartTimeoutReplayTimes+=1;const se=this._opt.url,he={};(this.player._opt.heartTimeoutReplayUseLastFrameShow||this.player._opt.replayUseLastFrameShow)&&(he.loadingBackground=this.screenshot("","png",.92,"base64")),this._resetPlayer(he).then(()=>{this.play(se).then(()=>{}).catch(ce=>{this.debug.error("JbPro","delay timeout replay error",ce)})}).catch(ce=>{this.debug.error("JbPro","delay timeout _resetPlayer error",ce)})}else this.emit(d0.playFailedAndPaused,d0.delayTimeout),this.player&&this.player.emit(d0.delayTimeoutRetryEnd),this.debug.warn("JbPro",`delayTimeoutRetryEnd and
                            opt.heartTimeout is ${this.player&&this.player._opt.heartTimeout} and
                            opt.heartTimeoutReplay is ${this.player&&this.player._opt.heartTimeoutReplay} and
                            opt.heartTimeoutReplayTimes is ${this.player&&this.player._opt.heartTimeoutReplayTimes},and
                            local._heartTimeoutReplayTimes is `+this._heartTimeoutReplayTimes)}).catch(se=>{this.debug.error("JbPro","delay timeout and pause error",se)})}),this.player.on(d0.loadingTimeout,ee=>{this.emit(d0.crashLog,this.getCrashLog(d0.loadingTimeout,ee)),this.isDestroyed()?this.debug.log("JbPro","loading timeout but player is destroyed"):this.pause().then(()=>{if(this.player&&this.player._opt.loadingTimeoutReplay&&(this._loadingTimeoutReplayTimes<this.player._opt.loadingTimeoutReplayTimes||this.player._opt.loadingTimeoutReplayTimes===-1))if(this.debug.log("JbPro",`loading timeout and
                             replay time is ${this._loadingTimeoutReplayTimes} and
                             loadingTimeoutReplayTimes is `+this.player._opt.loadingTimeoutReplayTimes),this.isDestroyed())this.debug&&this.debug.warn("JbPro","delay timeout replay but player is destroyed");else{this._loadingTimeoutReplayTimes+=1;const se=this._opt.url;this._resetPlayer().then(()=>{this.play(se).then(()=>{}).catch(he=>{this.debug.error("JbPro","loading timeout replay error",he)})}).catch(he=>{this.debug.error("JbPro","loading timeout _resetPlayer error",he)})}else this.emit(d0.playFailedAndPaused,d0.loadingTimeout),this.player&&this.player.emit(d0.loadingTimeoutRetryEnd),this.debug.log("JbPro",`loadingTimeoutRetryEnd and
                            opt.loadingTimeout is ${this.player&&this.player._opt.loadingTimeout} and
                            opt.loadingTimeoutReplay is ${this.player&&this.player._opt.loadingTimeoutReplay} and
                            local._loadingTimeoutReplayTimes time is ${this._loadingTimeoutReplayTimes} and
                            opt.loadingTimeoutReplayTimes is `+(this.player&&this.player._opt.loadingTimeoutReplayTimes))}).catch(se=>{this.debug.error("JbPro","loading timeout and pause error",se)})}),this._hasLoaded()?this.player.play(R,ie).then(()=>{ae()}).catch(ee=>{this.debug.error("JbPro","_hasLoaded() and play error",ee),this.emit(d0.crashLog,this.getCrashLog("_hasLoaded() and play error",ee)),this.player.pause().then(()=>{we(ee)}).catch(se=>{this.debug.error("JbPro","_hasLoaded() and play error and next pause error",se)})}):this.player.once(d0.decoderWorkerInit,()=>{this.player.play(R,ie).then(()=>{ae()}).catch(ee=>{this.debug.error("JbPro","decoderWorkerInit and play error",ee),this.emit(d0.crashLog,this.getCrashLog("decoderWorkerInit and play error",ee)),this.player&&this.player.pause().then(()=>{we(ee)}).catch(se=>{this.debug.error("JbPro","decoderWorkerInit and play error and next pause error",se)})})})};Pe&&xi(this._opt.supportHls265)||de||_e||Fe?(this.debug.log("JbPro","need reset player"),this._resetPlayer({protocol:Oe,demuxType:ye,isHls:Pe,isWebrtc:de,url:R}).then(()=>{Ne()}).catch(ee=>{we("reset player error")})):(this.player.updateOption({protocol:Oe,demuxType:ye,isHls:Pe,isFlv:this._opt.isFlv,isFmp4:this._opt.isFmp4,isMpeg4:this._opt.isMpeg4,isNakedFlow:this._opt.isNakedFlow,cryptoKey:ie.cryptoKey||"",cryptoIV:ie.cryptoIV||""}),ie.cryptoKey&&ie.cryptoIV&&(this.player.decoderWorker&&this.player.decoderWorker.updateWorkConfig({key:"cryptoKey",value:ie.cryptoKey}),this.player.decoderWorker)&&this.player.decoderWorker.updateWorkConfig({key:"cryptoIV",value:ie.cryptoIV}),Ne())})}resize(){this.debug.log("JbPro","resize()"),this.player&&this.player.resize()}setBufferTime(R){this.debug.log("JbPro","setBufferTime() "+R),R=Number(R),this.player?(10<R&&this.debug.warn("JbPro",`setBufferTime() buffer time is ${R} second, is too large, video will show blank screen until cache ${R} second buffer data`),this.player.updateOption({videoBuffer:1e3*R}),this.player.decoderWorker&&this.player.decoderWorker.updateWorkConfig({key:"videoBuffer",value:1e3*R})):this.debug.warn("JbPro","setBufferTime() player is not ready")}setBufferDelayTime(R){this.debug.log("JbPro","setBufferDelayTime() "+R),R=Number(R),this.player?(R<.2&&this.debug.warn("JbPro",`setBufferDelayTime() buffer time delay is ${R} second, is too small`),R=ls(R,.2,100),this.player.updateOption({videoBufferDelay:1e3*R}),this.player.decoderWorker&&this.player.decoderWorker.updateWorkConfig({key:"videoBufferDelay",value:1e3*R})):this.debug.warn("JbPro","setBufferDelayTime() player is not ready")}setRotate(R){this.debug.log("JbPro","setRotate() "+R),R=parseInt(R,10),this.player?this._opt.rotate!==R&&[0,90,180,270].indexOf(R)!==-1?(this.player.updateOption({rotate:R}),this.resize()):this.debug.warn("JbPro",`setRotate() rotate is ${R} and this._opt.rotate is `+this._opt.rotate):this.debug.warn("JbPro","setRotate() player is not ready")}setMirrorRotate(R){this.debug.log("JbPro","setMirrorRotate() "+R),this.player?this._opt.mirrorRotate!==R&&["none","level","vertical"].indexOf(R)!==-1?(this.player.updateOption({mirrorRotate:R}),this.resize()):this.debug.warn("JbPro",`setMirrorRotate() mirrorRotate is ${R} and this._opt.mirrorRotate is `+this._opt.mirrorRotate):this.debug.warn("JbPro","setMirrorRotate() player is not ready")}hasLoaded(){return!0}_hasLoaded(){return this.player&&this.player.loaded||!1}setKeepScreenOn(){this.debug.log("JbPro","setKeepScreenOn()"),this.player?this.player.updateOption({keepScreenOn:!0}):this.debug.warn("JbPro","setKeepScreenOn() player is not ready")}setFullscreen(R){this.debug.log("JbPro","setFullscreen() "+R),R=!!R,this.player?this.player.fullscreen!==R&&(this.player.fullscreen=R):this.debug.warn("JbPro","setFullscreen() player is not ready")}screenshot(R,ie,ae,we){return this.debug.log("JbPro",`screenshot() ${R} ${ie} ${ae} `+we),this.player&&this.player.video?this.player.video.screenshot(R,ie,ae,we):(this.debug.warn("JbPro","screenshot() player is not ready"),null)}screenshotWatermark(R){return new Promise((ie,ae)=>{this.debug.log("JbPro","screenshotWatermark()",R),this.player&&this.player.video?this.player.video.screenshotWatermark(R).then(we=>{ie(we)}).catch(we=>{ae(we)}):(this.debug.warn("JbPro","screenshotWatermark() player is not ready"),ae("player is not ready"))})}startRecord(R,ie){return new Promise((ae,we)=>{if(this.debug.log("JbPro",`startRecord() ${R} `+ie),!this.player)return this.debug.warn("JbPro","startRecord() player is not ready"),we("player is not ready");this.player.playing?(this.player.startRecord(R,ie),ae()):(this.debug.warn("JbPro","startRecord() player is not playing"),we("not playing"))})}stopRecordAndSave(R,ie){return new Promise((ae,we)=>{this.debug.log("JbPro",`stopRecordAndSave() ${R} `+ie),this.player&&this.player.recording?this.player.stopRecordAndSave(R,ie).then(_e=>{ae(_e)}).catch(_e=>{we(_e)}):we("not recording")})}isPlaying(){let R=!1;return this.player&&(this._opt.playType===be?R=this.player.playing:this._opt.playType===We&&(R=xi(this.player.playbackPause)&&this.player.playing)),R}isLoading(){return!!this.player&&this.player.loading}isPause(){let R=!1;return this._opt.playType===be?R=!this.isPlaying()&&!this.isLoading():this._opt.playType===We&&this.player&&(R=this.player.playbackPause),R}isPaused(){return this.isPause()}isPlaybackPause(){let R=!1;return R=this._opt.playType===We&&this.player?this.player.playbackPause:R}isMute(){let R=!0;return R=this.player?this.player.isAudioMute():R}isRecording(){return this.player&&this.player.recorder&&this.player.recorder.recording||!1}clearBufferDelay(){this.debug.log("JbPro","clearBufferDelay()"),this.player?this.player.clearBufferDelay():this.debug.warn("JbPro","clearBufferDelay() player is not init")}setNetworkDelayTime(R){this.debug.log("JbPro","setNetworkDelayTime() "+R),R=Number(R),this.player?(R<1&&this.debug.warn("JbPro",`setNetworkDelayTime() network delay is ${R} second, is too small`),R=ls(R,1,100),this.player.updateOption({networkDelay:1e3*R}),this.player.decoderWorker&&this.player.decoderWorker.updateWorkConfig({key:"networkDelay",value:1e3*R})):this.debug.warn("JbPro","setNetworkDelayTime() player is not init")}getDecodeType(){let R="";return R=this.player?this.player.getDecodeType():R}getRenderType(){let R="";return R=this.player?this.player.getRenderType():R}getAudioEngineType(){let R="";return R=this.player?this.player.getAudioEngineType():R}getPlayingTimestamp(){let R=0;return R=this.player?this.player.getPlayingTimestamp():R}getStatus(){let R="destroy";return R=this.player?this.player.loading?"loading":this.player.playing?"playing":"paused":R}getPlayType(){return this.player?this.player._opt.playType:be}togglePerformancePanel(R){this.debug.log("JbPro","togglePerformancePanel() "+R);var ie=this.player._opt.showPerformance;let ae=!ie;(ae=C2(R)?R:ae)!==ie?this.player?this.player.togglePerformancePanel(ae):this.debug.warn("JbPro","togglePerformancePanel() failed, this.player is not init"):this.debug.warn("JbPro",`togglePerformancePanel() failed, showPerformance is prev: ${ie} === now: `+ae)}openZoom(){this.debug.log("JbPro","openZoom()"),this.player?this.player.zooming=!0:this.debug.warn("JbPro","openZoom() failed, this.player is not init")}closeZoom(){this.debug.log("JbPro","closeZoom()"),this.player?this.player.zooming=!1:this.debug.warn("JbPro","closeZoom() failed, this.player is not init")}isZoomOpen(){let R=!1;return R=this.player?this.player.zooming:R}expandZoom(){this.debug.log("JbPro","expandZoom()"),this.player&&this.player.zoom&&this.player.zooming?this.player.zoom.expandPrecision():this.debug.warn("JbPro","expandZoom() failed, zoom is not open or not init")}narrowZoom(){this.debug.log("JbPro","narrowZoom()"),this.player&&this.player.zoom&&this.player.zooming?this.player.zoom.narrowPrecision():this.debug.warn("JbPro","narrowZoom failed, zoom is not open or not init")}getCurrentZoomIndex(){let R=1;return R=this.player&&this.player.zoom?this.player.zoom.currentZoom:R}startTalk(R){let ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return new Promise((ae,we)=>{this.debug.log("JbPro","startTalk()",R,ie),this._initTalk(ie),this.talk.startTalk(R).then(()=>{ae(),this.talk.once(d0.talkStreamClose,()=>{this.debug.warn("JbPro","talk stream close"),this.stopTalk().catch(_e=>{})}),this.talk.once(d0.talkStreamError,_e=>{this.debug.warn("JbPro","talk stream error",_e),this.stopTalk().catch(fe=>{})}),this.talk.once(d0.talkStreamInactive,()=>{this.debug.warn("JbPro","talk stream inactive"),this.stopTalk().catch(_e=>{})})}).catch(_e=>{we(_e)})})}stopTalk(){return new Promise((R,ie)=>{if(this.debug.log("JbPro","stopTalk()"),!this.talk)return ie("stopTalk() talk is not init");this.talk.destroy(),R()})}getTalkVolume(){return new Promise((R,ie)=>{if(!this.talk)return ie("getTalkVolume() talk is not init");R(this.talk.volume)})}setTalkVolume(R){return new Promise((ie,ae)=>{if(this.debug.log("JbPro","setTalkVolume()",R),!this.talk)return ae("setTalkVolume() talk is not init");this.talk.setVolume(R/100),ie()})}setNakedFlowFps(R){return new Promise((ie,ae)=>{var we;return this.debug.log("JbPro","setNakedFlowFps()",R),this.player?xn(R)?ae("setNakedFlowFps() fps is empty"):(we=ls(we=Number(R),1,100),void this.player.updateOption({nakedFlowFps:we})):ae("setNakedFlowFps() player is not init")})}getCrashLog(R){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"";if(this.player){var we=this.player.getAllStatsData(),ae=this.player,we={url:this._opt.url,playType:ae.isPlayback()?"playback":"live",demuxType:ae.getDemuxType(),decoderType:ae.getDecodeType(),renderType:ae.getRenderType(),videoInfo:{encType:"",width:"",height:""},audioInfo:{encType:"",sampleRate:"",channels:""},audioEngine:ae.getAudioEngineType(),allTimes:we.pTs,timestamp:_i(),type:R,error:(function(_e){const fe=Object.prototype.toString;return(function(de){switch(fe.call(de)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return 1;default:try{return de instanceof Error}catch{}}})(_e)?_e.message:_e==null?"":typeof _e=="object"?JSON.stringify(_e,null,2):String(_e)})(ie)||R};if(ae.video){const _e=ae.video.videoInfo||{};we.videoInfo={encType:_e.encType||"",width:_e.width||"",height:_e.height||""}}if(ae.audio){const _e=ae.audio.audioInfo||{};we.audioInfo={encType:_e.encType||"",sampleRate:_e.sampleRate||"",channels:_e.channels||""}}return we}}updateDebugLevel(R){this.debug.log("JbPro","updateDebugLevel()",R),this.player?R!==mt&&R!==xt?this.debug.warn("JbPro","updateDebugLevel() level is not valid, level: "+R):R===this.player._opt.debugLevel?this.debug.warn("JbPro","updateDebugLevel() level is same, level: "+R):(this.player.updateOption({debugLevel:R}),this.player.decoderWorker&&this.player.decoderWorker.updateWorkConfig({key:"debugLevel",value:R})):this.debug.warn("JbPro","updateDebugLevel() player is not init")}updateWatermark(R){this.debug.log("JbPro","updateWatermark()",R),this.player?this.player.updateWatermark(R):this.debug.warn("JbPro","updateWatermark() player is not init")}removeWatermark(){this.debug.log("JbPro","removeWatermark()"),this.player?this.player.removeWatermark():this.debug.warn("JbPro","removeWatermark() player is not init")}updateFullscreenWatermark(R){var ie;this.debug.log("JbPro","updateFullscreenWatermark()",R),bo(R)?(this._opt.fullscreenWatermarkConfig=R,(ie=D2(this.$container,R)).watermark_txt?this.watermark.load(ie):this.debug.warn("JbPro","fullscreenWatermarkConfig text is empty")):this.debug.warn("JbPro","updateFullscreenWatermark() config is not valid, config: "+R)}removeFullscreenWatermark(){this.debug.log("JbPro","removeFullscreenWatermark()"),this.watermark?this.watermark.remove():this.debug.warn("JbPro","removeFullscreenWatermark() watermark is not init")}faceDetectOpen(){this.debug.log("JbPro","faceDetectOpen()"),this.player?this.player.faceDetect(!0):this.debug.warn("JbPro","faceDetectOpen() player is not init")}faceDetectClose(){this.debug.log("JbPro","faceDetectClose()"),this.player?this.player.faceDetect(!1):this.debug.warn("JbPro","faceDetectClose() player is not init")}objectDetectOpen(){this.debug.log("JbPro","objectDetectOpen()"),this.player?this.player.objectDetect(!0):this.debug.warn("JbPro","objectDetectOpen() player is not init")}objectDetectClose(){this.debug.log("JbPro","objectDetectClose()"),this.player?this.player.objectDetect(!1):this.debug.warn("JbPro","objectDetectClose() player is not init")}sendWebsocketMessage(R){this.debug.log("JbPro","sendWebsocketMessage()",R),this.player?this.player.sendWebsocketMessage(R):this.debug.warn("JbPro","sendWebsocketMessage() player is not init")}addContentToCanvas(R){this.debug.log("JbPro","addContentToCanvas()",R),this.player?this.player.addContentToCanvas(R):this.debug.warn("JbPro","addContentToCanvas() player is not init")}clearContentToCanvas(){this.debug.log("JbPro","clearContentToCanvas()"),this.player?this.player.addContentToCanvas([]):this.debug.warn("JbPro","clearContentToCanvas() player is not init")}setControlHtml(R){this.debug.log("JbPro","setControlHtml()",R),this.player?this.player.setControlHtml(R):this.debug.warn("JbPro","setControlHtml() player is not init")}clearControlHtml(){this.debug.log("JbPro","clearControlHtml()"),this.player?this.player.clearControlHtml():this.debug.warn("JbPro","clearControlHtml() player is not init")}getVideoInfo(){let R=null;return R=this.player?this.player.getVideoInfo():R}getAudioInfo(){let R=null;return R=this.player?this.player.getAudioInfo():R}downloadTempNakedFlowFile(){return new Promise((R,ie)=>{this.player?(this.player.downloadNakedFlowFile(),R()):ie("player is not init")})}downloadTempFmp4File(){return new Promise((R,ie)=>{this.player?(this.player.downloadFmp4File(),R()):ie("player is not init")})}downloadTempRtpFile(){return new Promise((R,ie)=>{this.talk?(this.talk.downloadRtpFile(),R()):ie("talk is not init")})}}g1.ERROR=L0,g1.EVENTS=Lt,window.JessibucaPro=g1,window.WebPlayerPro=g1;class y1 extends me{_opt={};constructor(){let R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};super(),Object.keys(R).forEach(we=>{if(R[we]===void 0)throw new Error(`Jessibuca-pro-multi option "${we}" can not be undefined`)});var ie=Cn(R1);this._opt=Object.assign({},ie,R),this.LOG_TAG="jessibucaProMulti";let ae=R.container;if(!(ae=typeof R.container=="string"?document.querySelector(R.container):ae))throw new Error("Jessibuca-pro-multi need container option");if(ae.nodeName==="CANVAS"||ae.nodeName==="VIDEO")throw new Error(`Jessibuca-pro-multi container type can not be ${ae.nodeName} type`);ae.classList.add("jessibuca-multi-container"),this.maxWindowSize=this._opt.maxSplit*this._opt.maxSplit,this.currentWindowIndex=-1,this.specialLayoutType=null,this.windowList=[],this.$container=ae,this.debug=new I1(this),this.events=new V1(this),this._initWindows(),this._initEvents(),this._handleWindowSelect(0),this._listenFullscreenChange()}destroy(){return new Promise((R,ie)=>{if(this.debug.log(this.LOG_TAG,"destroy()"),this.off(),this.events&&(this.events.destroy(),this.events=null),this.specialLayoutType=null,this.windowList){const ae=[];this.windowList.forEach(we=>{we.$playerContainerEvents.forEach(_e=>{_e()}),we.player&&ae.push(we.player.destroy())}),Promise.all(ae).then(()=>{this.windowList.forEach(we=>{we.player=null}),this.windowList=[],R()}).catch(we=>{ie(we)})}else R();this.debug&&this.debug.log(this.LOG_TAG,"destroy")})}_createPlayer(R){const ie=this._findWindowItemIndex(R),ae=this._opt,we=(ae.supportDblclickContainerFullscreen&&(ae.supportDblclickFullscreen=!1),new g1({...ae,isMulti:!0,container:R.$player}));return Object.keys(Lt).forEach(_e=>{we.on(Lt[_e],fe=>{this.emit(_e,ie,fe)})}),we.on(d0.close,()=>{this.emit(d0.close,ie),R.player=null}),we}_initWindows(){const R=this._getContainerRect(),ie=R.width,ae=R.height;let we="";var _e,fe,de,Se,Pe=this._opt.split,xe=ie%Pe,Oe=ae%Pe,Fe=(ie-xe-2*Pe)/Pe,ye=(ae-Oe-2*Pe)/Pe,Ne=(ie-xe)/Pe,ee=(ae-Oe)/Pe;for(let ce=0;ce<this.maxWindowSize;ce++)_e=Fe+(ce%Pe==Pe-1?xe:0),fe=ye+(ce+Pe>=Math.pow(Pe,2)?Oe:0),de=Ne+(ce%Pe==Pe-1?xe:0),Se=ee+(ce+Pe>=Math.pow(Pe,2)?Oe:0),we+=`
             <div class="jessibuca-multi-player" wid="${ce}" style='float: left;position:relative;overflow: hidden; background-color:${this._opt.style.background};width: ${de+"px"};height: ${Se+"px"}'>
                <div class="jessibuca-multi-player-draw-window" wid="${ce}" style='position:absolute; z-index: 1; width:${_e+"px"}; height:${fe+"px"};border: 1px solid ${this._opt.style.border}'></div>
                <div class="jessibuca-multi-player-video-window" wid="${ce}" style='position:absolute;left: 1px;top:1px; z-index: 2; width:${_e+"px"}; height:${fe+"px"};'></div>
             </div>
            `;var se=`<div class="jessibuca-multi-player-container" style="overflow: hidden;width:100%; height:100%; position: relative;">${we}</div>`,he=(this.$container.innerHTML=se,this.$container.querySelectorAll(".jessibuca-multi-player"));for(let ce=0;ce<this.maxWindowSize;ce++){const Ae=he[ce],ke=Ae.querySelector(".jessibuca-multi-player-draw-window"),Ee=Ae.querySelector(".jessibuca-multi-player-video-window");this.windowList[ce]={uuid:U1(),isContainerFullscreen:!1,$playerContainer:Ae,$playerBorder:ke,$player:Ee,$playerContainerEvents:[],player:null}}for(let ce=this._getCurrentMaxSplit();ce<this.maxWindowSize;ce++){const Ae=this.windowList[ce];Ae.$player.style.display="none",Ae.$playerBorder.style.display="none",Ae.$playerContainer.style.width="0",Ae.$playerContainer.style.height="0"}}_initEvents(){const R=this.events.proxy;this.windowList.forEach((ie,ae)=>{var Se=ie.$playerContainer,we=R(Se,"click",()=>{this.emit(ur.selected,ae),this.getSelectedWindowIndex()===ae&&this.windowList[ae].isContainerFullscreen||this._opt.split!==1&&this._handleWindowSelect(ae)}),_e=R(Se,"dblclick",()=>{this.emit(ur.dblSelected,ae),this._opt.supportDblclickContainerFullscreen&&this._opt.split!==1&&this._handleWindowContainerFullscreen(ae)}),fe=R(Se,"mouseup",()=>{this.emit(ur.mouseUp,ae)}),de=R(Se,"mouseover",()=>{this.emit(ur.mouseOver,ae)}),Se=R(Se,"mouseout",()=>{this.emit(ur.mouseOut,ae)});ie.$playerContainerEvents=[we,fe,de,Se,_e]})}_getContainerRect(){var R=this.$container.getBoundingClientRect();return{width:Math.max(R.width,this.$container.clientWidth),height:Math.max(R.height,this.$container.clientHeight)}}_updateWindows(){const R=this._getContainerRect(),ie=R.width,ae=R.height,we=this._opt.split,_e=ie%we,fe=ae%we,de=(ie-_e-2*we)/we,Se=(ae-fe-2*we)/we,Pe=(ie-_e)/we,xe=(ae-fe)/we;let Oe=this._getCurrentMaxSplit();for(let Fe=0;Fe<Oe;Fe++){const ye=this.windowList[Fe],Ne=(ye.isContainerFullscreen=!1,ye.$playerContainer),ee=(Ne.style.position="relative",Ne.style.left="auto",Ne.style.top="auto",Ne.style.zIndex="auto",ye.$playerBorder),se=ye.$player,he=de+(Fe%we==we-1?_e:0),ce=Se+(Fe+we>=Math.pow(we,2)?fe:0),Ae=Pe+(Fe%we==we-1?_e:0),ke=xe+(Fe+we>=Math.pow(we,2)?fe:0);Ne.style.width=Ae+"px",Ne.style.height=ke+"px",Ne.style.display="block",se.style.width=he+"px",se.style.height=ce+"px",se.style.display="block",ee.style.width=he+"px",ee.style.height=ce+"px",ee.style.display="block",ye.player&&ye.player.resize()}if(this.specialLayoutType){const Fe=this.windowList[0],ye=Fe.$playerContainer,Ne=Fe.$player,ee=Fe.$playerBorder,se=ye.style.width.replace("px",""),he=ye.style.height.replace("px",""),ce=Ne.style.width.replace("px",""),Ae=Ne.style.height.replace("px","");let ke,Ee,je,Le;this.specialLayoutType===Sn?(ke=2*se,Ee=2*he,je=2*ce+2,Le=2*Ae+2):this.specialLayoutType===ln&&(ke=3*se,Ee=3*he,je=3*ce+4,Le=3*Ae+4),ye.style.width=ke+"px",ye.style.height=Ee+"px",Ne.style.width=je+"px",Ne.style.height=Le+"px",ee.style.width=je+"px",ee.style.height=Le+"px",Fe.player&&Fe.player.resize(),Oe=this._getSpecialMaxSplit()}for(let Fe=Oe;Fe<this.maxWindowSize;Fe++){const ye=this.windowList[Fe];ye.player&&(ye.player.destroy(),ye.player=null),ye.$playerContainer.style.display="none",ye.$playerContainer.style.width="0",ye.$playerContainer.style.height="0",ye.$player.style.display="none",ye.$playerBorder.style.display="none"}this._opt.split===1&&(this.windowList[0].$playerBorder.style.display="none")}_handleWindowSelect(R){const ie=this.windowList[R];ie?(this.currentWindowIndex=R,1<this.windowList.length&&(this.windowList.forEach(ae=>{ie.$playerBorder.style.display="block",ae.$playerBorder.style.border="1px solid "+this._opt.style.border}),ie.$playerBorder.style.border="1px solid "+this._opt.style.borderSelect)):this.debug.warn(this.LOG_TAG,`_handleWindowSelect() ${R} is not exist`),this._opt.split===1&&(ie.$playerBorder.style.display="none")}_handleWindowContainerFullscreen(R){var ie=this.windowList[R];if(ie){if(ie.isContainerFullscreen)ie.$playerContainer.style.position="relative",ie.$playerContainer.style.left="auto",ie.$playerContainer.style.top="auto",ie.$playerContainer.style.zIndex="auto",ie.$playerContainer.style.width=ie.prevInfo.playerContainerWidth,ie.$playerContainer.style.height=ie.prevInfo.playerContainerHeight,ie.$player.style.width=ie.prevInfo.playerWidth,ie.$player.style.height=ie.prevInfo.playerHeight,this.getSelectedWindowIndex()===R&&(ie.$playerBorder.style.display="block");else{const ae=this._getContainerRect(),we=ae.width,_e=ae.height;ie.prevInfo={playerContainerWidth:ie.$playerContainer.style.width,playerContainerHeight:ie.$playerContainer.style.height,playerWidth:ie.$player.style.width,playerHeight:ie.$player.style.height},ie.$playerContainer.style.position="absolute",ie.$playerContainer.style.top="0",ie.$playerContainer.style.left="0",ie.$playerContainer.style.zIndex="10",ie.$playerContainer.style.width=we+"px",ie.$playerContainer.style.height=_e+"px",ie.$player.style.width=we+"px",ie.$player.style.height=_e+"px",ie.$playerBorder.style.display="none"}ie.isContainerFullscreen=!ie.isContainerFullscreen,ie.player&&ie.player.resize()}else this.debug.warn(this.LOG_TAG,`handleWindowContainerFullscreen() ${R} is not exist`)}_handleFullscreenResize(){let R=this._getContainerRect(),ie=0;const ae=setInterval(()=>{var we=this._getContainerRect();we.width===R.width&&we.height===R.height&&4<ie?(this.resize(),clearInterval(ae)):(R=we,ie++)},300)}_listenFullscreenChange(){try{const R=ie=>{Is(ie)===this.$container&&(this.emit(Lt.fullscreen,cr.isFullscreen),cr.isFullscreen?this._handleFullscreenResize():this.resize())};cr.on("change",R),this.events.destroys.push(()=>{cr.off("change",R)})}catch{}}play(R,ie,ae){return new Promise((we,_e)=>{Xt(ie)&&(ae=ie,ie={});const fe=()=>{var Pe=this._createPlayer(Se);(Se.player=Pe).play(R,ie).then(()=>{we()}).catch(xe=>{_e(xe)})};var de=Xt(ae)?ae:this.currentWindowIndex;const Se=this.windowList[de];Se?Se.player?Se.player.destroy().then(()=>{Se.player=null,fe()}).catch(()=>{}):fe():_e(`play() windowIndex ${de} is not exist`)})}getOption(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];return ie&&ie.player?ie.player.getOption():(this.debug.warn(this.LOG_TAG,`getOption() windowIndex ${R} is not exist`),{})}setDebug(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.setDebug(R):this.debug.warn(this.LOG_TAG,`setDebug() windowIndex ${ie} is not exist`)}mute(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.mute():this.debug.warn(this.LOG_TAG,`mute() windowIndex ${R} is not exist`)}cancelMute(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.cancelMute():this.debug.warn(this.LOG_TAG,`cancelMute() windowIndex ${R} is not exist`)}setVolume(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.setVolume(R):this.debug.warn(this.LOG_TAG,`setVolume() windowIndex ${ie} is not exist`)}audioResume(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.audioResume():this.debug.warn(this.LOG_TAG,`audioResume() windowIndex ${R} is not exist`)}setTimeout(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.setTimeout(R):this.debug.warn(this.LOG_TAG,`setTimeout() windowIndex ${ie} is not exist`)}setScaleMode(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.setScaleMode(R):this.debug.warn(this.LOG_TAG,`setScaleMode() windowIndex ${ie} is not exist`)}pause(){let R=0<arguments.length&&arguments[0]!==void 0&&arguments[0],ie=1<arguments.length?arguments[1]:void 0;return new Promise((ae,we)=>{ie=Xt(ie)?ie:this.currentWindowIndex;var _e=this.windowList[ie];_e&&_e.player?_e.player.pause(R).then(()=>{ae()}).catch(fe=>{we(fe)}):we(`pause() windowIndex ${ie} is not exist`)})}close(R){return new Promise((ie,ae)=>{R=Xt(R)?R:this.currentWindowIndex;var we=this.windowList[R];we&&we.player?we.player.close().then(()=>{ie()}).catch(_e=>{ae(_e)}):ae(`close() windowIndex ${R} is not exist`)})}clearView(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.clearView():this.debug.warn(this.LOG_TAG,`clearView() windowIndex ${R} is not exist`)}setStreamQuality(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.setStreamQuality(R):this.debug.warn(this.LOG_TAG,`setStreamQuality() windowIndex ${ie} is not exist`)}resize(){this._updateWindows()}setBufferTime(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.setBufferTime(R):this.debug.warn(this.LOG_TAG,`setBufferTime() windowIndex ${ie} is not exist`)}setBufferDelayTime(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.setBufferDelayTime(R):this.debug.warn(this.LOG_TAG,`setBufferDelayTime() windowIndex ${ie} is not exist`)}setRotate(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.setRotate(R):this.debug.warn(this.LOG_TAG,`setRotate() windowIndex ${ie} is not exist`)}setMirrorRotate(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.setMirrorRotate(R):this.debug.warn(this.LOG_TAG,`setMirrorRotate() windowIndex ${ie} is not exist`)}hasLoaded(R){return R=Xt(R)?R:this.currentWindowIndex,R=this.windowList[R],!(!R||!R.player)&&R.player.hasLoaded()}setKeepScreenOn(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.setKeepScreenOn():this.debug.warn(this.LOG_TAG,`setKeepScreenOn() windowIndex ${R} is not exist`)}setFullscreen(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.setFullscreen(R):this.debug.warn(this.LOG_TAG,`setFullscreen() windowIndex ${ie} is not exist`)}screenshot(R,ie){return ie=Xt(ie)?ie:this.currentWindowIndex,ie=this.windowList[ie],ie&&ie.player?ie.player.screenshot(R.filename,R.format,R.quality,R.type):null}screenshotWatermark(R,ie){return ie=Xt(ie)?ie:this.currentWindowIndex,ie=this.windowList[ie],ie&&ie.player?ie.player.screenshotWatermark(R):null}startRecord(R,ie,ae){return new Promise((we,_e)=>{ae=Xt(ae)?ae:this.currentWindowIndex;var fe=this.windowList[ae];fe&&fe.player?fe.player.startRecord(R,ie).then(()=>{we()}).catch(de=>{_e(de)}):(this.debug.warn(this.LOG_TAG,`startRecord() windowIndex ${ae} is not exist`),_e(`windowIndex ${ae} is not exist`))})}stopRecordAndSave(R,ie,ae){return new Promise((we,_e)=>{ae=Xt(ae)?ae:this.currentWindowIndex;var fe=this.windowList[ae];fe&&fe.player?fe.player.stopRecordAndSave(R,ie).then(de=>{we(de)}).catch(de=>{_e(de)}):(this.debug.warn(this.LOG_TAG,`stopRecordAndSave() windowIndex ${ae} is not exist`),_e(`windowIndex ${ae} is not exist`))})}isPlaying(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];return ie&&ie.player?ie.player.isPlaying():(this.debug.warn(this.LOG_TAG,`isPlaying() windowIndex ${R} is not exist`),!1)}isLoading(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];return ie&&ie.player?ie.player.isLoading():(this.debug.warn(this.LOG_TAG,`isLoading() windowIndex ${R} is not exist`),!1)}isPaused(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];return ie&&ie.player?ie.player.isPaused():(this.debug.warn(this.LOG_TAG,`windowIndex ${R} is not exist`),!1)}isMute(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];return ie&&ie.player?ie.player.isMute():(this.debug.warn(this.LOG_TAG,`isMute() windowIndex ${R} is not exist`),!1)}isRecording(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];return ie&&ie.player?ie.player.isRecording():(this.debug.warn(this.LOG_TAG,`isRecording() windowIndex ${R} is not exist`),!1)}clearBufferDelay(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.clearBufferDelay():this.debug.warn(this.LOG_TAG,`clearBufferDelay() windowIndex ${R} is not exist`)}setNetworkDelayTime(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.setNetworkDelayTime(R):this.debug.warn(this.LOG_TAG,`setNetworkDelayTime() windowIndex ${ie} is not exist`)}getDecodeType(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];return ie&&ie.player?ie.player.getDecodeType():(this.debug.warn(this.LOG_TAG,`getDecodeType() windowIndex ${R} is not exist`),null)}getRenderType(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];return ie&&ie.player?ie.player.getRenderType():(this.debug.warn(this.LOG_TAG,`windowIndex ${R} is not exist`),null)}getAudioEngineType(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];return ie&&ie.player?ie.player.getAudioEngineType():(this.debug.warn(this.LOG_TAG,`windowIndex ${R} is not exist`),null)}getPlayingTimestamp(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];return ie&&ie.player?ie.player.getPlayingTimestamp():(this.debug.warn(this.LOG_TAG,`windowIndex ${R} is not exist`),null)}getStatus(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];return ie&&ie.player?ie.player.getStatus():(this.debug.warn(this.LOG_TAG,`getStatus() windowIndex ${R} is not exist`),null)}getPlayType(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];return ie&&ie.player?ie.player.getPlayType():(this.debug.warn(this.LOG_TAG,`getPlayType() windowIndex ${R} is not exist`),null)}togglePerformancePanel(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.togglePerformancePanel(R):this.debug.warn(this.LOG_TAG,`togglePerformancePanel() windowIndex ${ie} is not exist`)}openZoom(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.openZoom():this.debug.warn(this.LOG_TAG,`openZoom() windowIndex ${R} is not exist`)}closeZoom(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.closeZoom():this.debug.warn(this.LOG_TAG,`closeZoom() windowIndex ${R} is not exist`)}isZoomOpen(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];return ie&&ie.player?ie.player.isZoomOpen():(this.debug.warn(this.LOG_TAG,`isZoomOpen() windowIndex ${R} is not exist`),!1)}expandZoom(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.expandZoom():this.debug.warn(this.LOG_TAG,`expandZoom() windowIndex ${R} is not exist`)}narrowZoom(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.narrowZoom():this.debug.warn(this.LOG_TAG,`narrowZoom() windowIndex ${R} is not exist`)}getCurrentZoomIndex(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];return ie&&ie.player?ie.player.getCurrentZoomIndex():(this.debug.warn(this.LOG_TAG,`getCurrentZoomIndex() windowIndex ${R} is not exist`),0)}setNakedFlowFps(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.setNakedFlowFps(R):this.debug.warn(this.LOG_TAG,`setNakedFlowFps() windowIndex ${ie} is not exist`)}updateDebugLevel(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.updateDebugLevel(R):this.debug.warn(this.LOG_TAG,`updateDebugLevel() windowIndex ${ie} is not exist`)}updateWatermark(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.updateWatermark(R):this.debug.warn(this.LOG_TAG,`updateWatermark() windowIndex ${ie} is not exist`)}removeWatermark(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.removeWatermark():this.debug.warn(this.LOG_TAG,`removeWatermark() windowIndex ${R} is not exist`)}updateFullscreenWatermark(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.updateFullscreenWatermark(R):this.debug.warn(this.LOG_TAG,`updateFullscreenWatermark() windowIndex ${ie} is not exist`)}removeFullscreenWatermark(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.removeFullscreenWatermark():this.debug.warn(this.LOG_TAG,`removeFullscreenWatermark() windowIndex ${R} is not exist`)}faceDetectOpen(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.faceDetectOpen():this.debug.warn(this.LOG_TAG,`faceDetectOpen() windowIndex ${R} is not exist`)}faceDetectClose(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.faceDetectClose():this.debug.warn(this.LOG_TAG,`faceDetectClose() windowIndex ${R} is not exist`)}objectDetectOpen(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.objectDetectOpen():this.debug.warn(this.LOG_TAG,`objectDetectOpen() windowIndex ${R} is not exist`)}objectDetectClose(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.objectDetectClose():this.debug.warn(this.LOG_TAG,`objectDetectClose() windowIndex ${R} is not exist`)}sendWebsocketMessage(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.sendWebsocketMessage(R):this.debug.warn(this.LOG_TAG,`sendWebsocketMessage() windowIndex ${ie} is not exist`)}addContentToCanvas(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.addContentToCanvas(R):this.debug.warn(this.LOG_TAG,`addContentToCanvas() windowIndex ${ie} is not exist`)}clearContentToCanvas(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.clearContentToCanvas():this.debug.warn(this.LOG_TAG,`clearContentToCanvas() windowIndex ${R} is not exist`)}setControlHtml(R,ie){ie=Xt(ie)?ie:this.currentWindowIndex;var ae=this.windowList[ie];ae&&ae.player?ae.player.setControlHtml(R):this.debug.warn(this.LOG_TAG,`setControlHtml() windowIndex ${ie} is not exist`)}clearControlHtml(R){R=Xt(R)?R:this.currentWindowIndex;var ie=this.windowList[R];ie&&ie.player?ie.player.clearControlHtml():this.debug.warn(this.LOG_TAG,`clearControlHtml() windowIndex ${R} is not exist`)}destroySingle(R){return new Promise((ie,ae)=>{R=Xt(R)?R:this.currentWindowIndex;const we=this.windowList[R];we?we.player&&we.player.destroy().then(()=>{we.player=null,ie()}).catch(_e=>{ae(_e)}):(ae("windowIndex is not exist"),this.debug.warn(this.LOG_TAG,`destroySingle() windowIndex ${R} is not exist`))})}setFullscreenMulti(R){return new Promise((ie,ae)=>{if(this.debug.log(this.LOG_TAG,"setFullscreenMulti",R),R)try{cr.request(this.$container).then(()=>{ie()}).catch(we=>{this.debug.error(this.LOG_TAG,"fullscreen request inner error",we),ae(we)})}catch(we){this.debug.error(this.LOG_TAG,"fullscreen request error",we),ae(we)}else try{cr.exit().then(()=>{ie()}).catch(we=>{this.debug.error(this.LOG_TAG,"fullscreen exit inner error",we),ae(we)})}catch(we){this.debug.error(this.LOG_TAG,"fullscreen exit error",we),ae(we)}})}selectWindow(R){this.debug.log(this.LOG_TAG,"selectWindow",R),this._handleWindowSelect(R)}arrangeWindow(R){this.debug.log(this.LOG_TAG,"arrangeWindow",R),R?[Sn,ln].includes(R)?this._arrangeSpecialWindow(R):this._opt.split===R&&this.specialLayoutType===null?this.debug.warn(this.LOG_TAG,`arrangeWindow() split ${R} is not changed`):(this.specialLayoutType=null,this._arrangeWindow(R)):this.debug.warn(this.LOG_TAG,`arrangeWindow() split ${R} is not valid`)}_arrangeWindow(R){(R=Ls(R))<1||!Xt(R)?this.debug.warn(this.LOG_TAG,`arrangeWindow() split ${R} is not valid`):(R>this._opt.maxSplit&&(R=this._opt.maxSplit),this._opt.split=R,this.currentWindowIndex=0,this._updateWindows(),this._handleWindowSelect(this.currentWindowIndex))}_arrangeSpecialWindow(R){this._opt.maxSplit<=3&&R===ln||this._opt.maxSplit<=2&&R===Sn?this.debug.warn(this.LOG_TAG,`_arrangeSpecialWindow() type ${R} is not valid because maxSplit is `+this._opt.maxSplit):this.specialLayoutType&&this.specialLayoutType===R?this.debug.warn(this.LOG_TAG,`_arrangeSpecialWindow() type ${R} is not changed`):(this.specialLayoutType=R)===Sn?this._arrangeWindow(3):R===ln?this._arrangeWindow(4):this.debug.warn(this.LOG_TAG,`_arrangeSpecialWindow() type ${R} is not valid`)}getCurrentSplit(){return this.specialLayoutType||this._opt.split}_getCurrentMaxSplit(){if(this.specialLayoutType){let R=0;return this.specialLayoutType===Sn?R=9:this.specialLayoutType===ln&&(R=16),R}return this._opt.split*this._opt.split}_getSpecialMaxSplit(){let R=0;return this.specialLayoutType===Sn?R=6:this.specialLayoutType===ln&&(R=8),R}getSelectedWindowIndex(){return this.currentWindowIndex}_findWindowItemIndex(R){return this.windowList.findIndex(ie=>ie.uuid===R.uuid)}}y1.MULTI_EVENTS=ur,y1.EVENTS=d0,y1.ERROR=L0,window.JessibucaProMulti=y1,window.WebPlayerProMulti=y1}),(function(me){typeof define=="function"&&define.amd?define(me):me()})(function(){class me{on(Q0,dt,d0){var Lt=this.e||(this.e={});return(Lt[Q0]||(Lt[Q0]=[])).push({fn:dt,ctx:d0}),this}once(Q0,dt,d0){const Lt=this;function zt(){Lt.off(Q0,zt);for(var L0=arguments.length,Ct=new Array(L0),ci=0;ci<L0;ci++)Ct[ci]=arguments[ci];dt.apply(d0,Ct)}return zt._=dt,this.on(Q0,zt,d0)}emit(Q0){for(var dt=((this.e||(this.e={}))[Q0]||[]).slice(),d0=arguments.length,Lt=new Array(1<d0?d0-1:0),zt=1;zt<d0;zt++)Lt[zt-1]=arguments[zt];for(let L0=0;L0<dt.length;L0+=1)dt[L0].fn.apply(dt[L0].ctx,Lt);return this}off(Q0,dt){const d0=this.e||(this.e={});if(Q0){var Lt=d0[Q0],zt=[];if(Lt&&dt)for(let L0=0,Ct=Lt.length;L0<Ct;L0+=1)Lt[L0].fn!==dt&&Lt[L0].fn._!==dt&&zt.push(Lt[L0]);return zt.length?d0[Q0]=zt:delete d0[Q0],this}Object.keys(d0).forEach(L0=>{delete d0[L0]}),delete this.e}}const Ce="debug",Je="warn",j="talkGetUserMediaSuccess",be="talkGetUserMediaFail",r="talkGetUserMediaTimeout",We="talkStreamClose",f0="talkStreamError",it="talkStreamInactive",p0={talkStreamClose:We,talkStreamError:f0,talkStreamInactive:it,talkGetUserMediaTimeout:r},D="open",k0="g711a",T0="g711u",J0="rtp",rt="worklet",W0={encType:k0,packetType:J0,rtpSsrc:"0000000000",numberChannels:1,sampleRate:8e3,sampleBitsWidth:16,debug:!1,debugLevel:Je,testMicrophone:!1,audioBufferLength:160,engine:rt,checkGetUserMediaTimeout:!1,getUserMediaTimeout:1e4};var pt;function mt(){return new Date().getTime()}function xt(s0){let Q0="";if(typeof s0=="object")try{Q0=JSON.stringify(s0),Q0=JSON.parse(Q0)}catch{Q0=s0}else Q0=s0;return Q0}(function(s0){var Q0,dt,d0,Lt,zt;Q0=typeof window<"u"&&window.document!==void 0?window.document:{},dt=s0.exports,d0=(function(){for(var L0,Ct=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],ci=0,Ri=Ct.length,Ni={};ci<Ri;ci++)if((L0=Ct[ci])&&L0[1]in Q0){for(ci=0;ci<L0.length;ci++)Ni[Ct[0][ci]]=L0[ci];return Ni}return!1})(),Lt={change:d0.fullscreenchange,error:d0.fullscreenerror},zt={request:function(L0,Ct){return new Promise((function(ci,Ri){var Ni=(function(){this.off("change",Ni),ci()}).bind(this),Ji=(this.on("change",Ni),(L0=L0||Q0.documentElement)[d0.requestFullscreen](Ct));Ji instanceof Promise&&Ji.then(Ni).catch(Ri)}).bind(this))},exit:function(){return new Promise((function(L0,Ct){var ci,Ri;this.isFullscreen?(ci=(function(){this.off("change",ci),L0()}).bind(this),this.on("change",ci),(Ri=Q0[d0.exitFullscreen]())instanceof Promise&&Ri.then(ci).catch(Ct)):L0()}).bind(this))},toggle:function(L0,Ct){return this.isFullscreen?this.exit():this.request(L0,Ct)},onchange:function(L0){this.on("change",L0)},onerror:function(L0){this.on("error",L0)},on:function(L0,Ct){L0=Lt[L0],L0&&Q0.addEventListener(L0,Ct,!1)},off:function(L0,Ct){L0=Lt[L0],L0&&Q0.removeEventListener(L0,Ct,!1)},raw:d0},d0?(Object.defineProperties(zt,{isFullscreen:{get:function(){return!!Q0[d0.fullscreenElement]}},element:{enumerable:!0,get:function(){return Q0[d0.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!Q0[d0.fullscreenEnabled]}}}),dt?s0.exports=zt:window.screenfull=zt):dt?s0.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}})(pt={exports:{}}),pt.exports.isEnabled;try{if(typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"){var wt=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));wt instanceof WebAssembly.Module&&new WebAssembly.Instance(wt)instanceof WebAssembly.Instance}}catch{}class di{constructor(dt){var{fromSampleRate:dt,toSampleRate:d0,channels:Lt,inputBufferSize:zt}=dt;if(!dt||!d0||!Lt)throw new Error("Invalid settings specified for the resampler.");this.resampler=null,this.fromSampleRate=dt,this.toSampleRate=d0,this.channels=Lt||0,this.inputBufferSize=zt,this.initialize()}initialize(){this.fromSampleRate==this.toSampleRate?(this.resampler=Q0=>Q0,this.ratioWeight=1):(this.fromSampleRate<this.toSampleRate?(this.linearInterpolation(),this.lastWeight=1):(this.multiTap(),this.tailExists=!1,this.lastWeight=0),this.initializeBuffers(),this.ratioWeight=this.fromSampleRate/this.toSampleRate)}bufferSlice(Q0){try{return this.outputBuffer.subarray(0,Q0)}catch{try{return this.outputBuffer.length=Q0,this.outputBuffer}catch{return this.outputBuffer.slice(0,Q0)}}}initializeBuffers(){this.outputBufferSize=Math.ceil(this.inputBufferSize*this.toSampleRate/this.fromSampleRate/this.channels*1.0000004768371582)+this.channels+this.channels;try{this.outputBuffer=new Float32Array(this.outputBufferSize),this.lastOutput=new Float32Array(this.channels)}catch{this.outputBuffer=[],this.lastOutput=[]}}linearInterpolation(){this.resampler=Q0=>{let dt,d0,Lt,zt,L0,Ct,ci,Ri,Ni,Ji=Q0.length,rr=this.channels;if(Ji%rr!=0)throw new Error("Buffer was of incorrect sample length.");if(Ji<=0)return[];for(dt=this.outputBufferSize,d0=this.ratioWeight,Lt=this.lastWeight,zt=0,L0=0,Ct=0,ci=0,Ri=this.outputBuffer;Lt<1;Lt+=d0)for(L0=Lt%1,zt=1-L0,this.lastWeight=Lt%1,Ni=0;Ni<this.channels;++Ni)Ri[ci++]=this.lastOutput[Ni]*zt+Q0[Ni]*L0;for(--Lt,Ji-=rr,Ct=Math.floor(Lt)*rr;ci<dt&&Ct<Ji;){for(L0=Lt%1,zt=1-L0,Ni=0;Ni<this.channels;++Ni)Ri[ci++]=Q0[Ct+(0<Ni?Ni:0)]*zt+Q0[Ct+(rr+Ni)]*L0;Lt+=d0,Ct=Math.floor(Lt)*rr}for(Ni=0;Ni<rr;++Ni)this.lastOutput[Ni]=Q0[Ct++];return this.bufferSlice(ci)}}multiTap(){this.resampler=Q0=>{let dt,d0,Lt,zt,L0,Ct,ci,Ri,Ni,Ji,rr,Nr=Q0.length,Pr=this.channels;if(Nr%Pr!=0)throw new Error("Buffer was of incorrect sample length.");if(Nr<=0)return[];for(dt=this.outputBufferSize,d0=[],Lt=this.ratioWeight,zt=0,Ct=0,Ri=!this.tailExists,this.tailExists=!1,Ni=this.outputBuffer,Ji=0,rr=0,L0=0;L0<Pr;++L0)d0[L0]=0;do{if(Ri)for(zt=Lt,L0=0;L0<Pr;++L0)d0[L0]=0;else{for(zt=this.lastWeight,L0=0;L0<Pr;++L0)d0[L0]=this.lastOutput[L0];Ri=!0}for(;0<zt&&Ct<Nr;){if(ci=1+Ct-rr,!(zt>=ci)){for(L0=0;L0<Pr;++L0)d0[L0]+=Q0[Ct+(0<L0?L0:0)]*zt;rr+=zt,zt=0;break}for(L0=0;L0<Pr;++L0)d0[L0]+=Q0[Ct++]*ci;rr=Ct,zt-=ci}if(zt!==0){for(this.lastWeight=zt,L0=0;L0<Pr;++L0)this.lastOutput[L0]=d0[L0];this.tailExists=!0;break}for(L0=0;L0<Pr;++L0)Ni[Ji++]=d0[L0]/Lt}while(Ct<Nr&&Ji<dt);return this.bufferSlice(Ji)}}resample(Q0){return this.fromSampleRate==this.toSampleRate?this.ratioWeight=1:(this.fromSampleRate<this.toSampleRate?this.lastWeight=1:(this.tailExists=!1,this.lastWeight=0),this.initializeBuffers(),this.ratioWeight=this.fromSampleRate/this.toSampleRate),this.resampler(Q0)}}const $i=[255,511,1023,2047,4095,8191,16383,32767];function ir(s0,Q0,dt){for(let d0=0;d0<dt;d0++)if(s0<=Q0[d0])return d0;return dt}class u0{constructor(Q0){this.log=function(dt){if(Q0._opt.debug&&Q0._opt.debugLevel==Ce){const L0=Q0._opt.debugUuid?`[${Q0._opt.debugUuid}]`:"";for(var d0=arguments.length,Lt=new Array(1<d0?d0-1:0),zt=1;zt<d0;zt++)Lt[zt-1]=arguments[zt];console.log(`JbPro${L0}:[✅✅✅][${dt}]`,...Lt)}},this.warn=function(dt){if(Q0._opt.debug&&(Q0._opt.debugLevel==Ce||Q0._opt.debugLevel==Je)){const L0=Q0._opt.debugUuid?`[${Q0._opt.debugUuid}]`:"";for(var d0=arguments.length,Lt=new Array(1<d0?d0-1:0),zt=1;zt<d0;zt++)Lt[zt-1]=arguments[zt];console.log(`JbPro${L0}:[❗❗❗][${dt}]`,...Lt)}},this.error=function(dt){for(var d0=Q0._opt.debugUuid?`[${Q0._opt.debugUuid}]`:"",Lt=arguments.length,zt=new Array(1<Lt?Lt-1:0),L0=1;L0<Lt;L0++)zt[L0-1]=arguments[L0];console.error(`JbPro${d0}:[❌❌❌][${dt}]`,...zt)}}}class Ti{constructor(Q0){this.destroys=[],this.proxy=this.proxy.bind(this),this.master=Q0}proxy(Q0,dt,d0){let Lt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};if(Q0){if(Array.isArray(dt))return dt.map(L0=>this.proxy(Q0,L0,d0,Lt));Q0.addEventListener(dt,d0,Lt);var zt=()=>{typeof Q0.removeEventListener=="function"&&Q0.removeEventListener(dt,d0,Lt)};return this.destroys.push(zt),zt}}destroy(){this.master.debug&&this.master.debug.log("Events","destroy"),this.destroys.forEach(Q0=>Q0()),this.destroys=[]}}class Mt extends me{constructor(d0){var dt=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},d0=(super(),d0&&(this.player=d0),this.tag="talk",xt(W0));this._opt=Object.assign({},d0,dt),this._opt.sampleRate=parseInt(this._opt.sampleRate,10),this._opt.sampleBitsWidth=parseInt(this._opt.sampleBitsWidth,10),this.audioContext=null,this.gainNode=null,this.recorder=null,this.workletRecorder=null,this.biquadFilter=null,this.userMediaStream=null,this.bufferSize=512,this._opt.audioBufferLength=this.calcAudioBufferLength(),this.audioBufferList=[],this.socket=null,this.socketStatus="notConnect",this.mediaStreamSource=null,this.heartInterval=null,this.checkGetUserMediaTimeout=null,this.wsUrl=null,this.startTimestamp=0,this.sequenceId=0,this.tempTimestamp=null,this.tempRtpBufferList=[],this.events=new Ti(this),this._initTalk(),this.player||(this.debug=new u0(this)),this.log(this.tag,"init",this._opt)}destroy(){this.userMediaStream&&(this.userMediaStream.getTracks&&this.userMediaStream.getTracks().forEach(Q0=>{Q0.stop()}),this.userMediaStream=null),this.mediaStreamSource&&(this.mediaStreamSource.disconnect(),this.mediaStreamSource=null),this.recorder&&(this.recorder.disconnect(),this.recorder.onaudioprocess=null),this.biquadFilter&&(this.biquadFilter.disconnect(),this.biquadFilter=null),this.gainNode&&(this.gainNode.disconnect(),this.gainNode=null),this.workletRecorder&&(this.workletRecorder.disconnect(),this.workletRecorder=null),this.socket&&(this.socketStatus===D&&this._sendClose(),this.socket.close(),this.socket=null),this._stopHeartInterval(),this._stopCheckGetUserMediaTimeout(),this.audioContext=null,this.gainNode=null,this.recorder=null,this.audioBufferList=[],this.sequenceId=0,this.wsUrl=null,this.tempTimestamp=null,this.tempRtpBufferList=[],this.startTimestamp=0,this.log("talk","destroy")}addRtpToBuffer(Q0){var dt=Q0.length+this.tempRtpBufferList.length,dt=new Uint8Array(dt);dt.set(this.tempRtpBufferList,0),dt.set(Q0,this.tempRtpBufferList.length),this.tempRtpBufferList=dt}downloadRtpFile(){var Q0=new Blob([this.tempRtpBufferList]);try{var dt=document.createElement("a");dt.href=window.URL.createObjectURL(Q0),dt.download=Date.now()+".rtp",dt.click()}catch(d0){console.error("downloadRtpFile",d0)}}calcAudioBufferLength(){var Q0=this._opt.sampleRate;return 8*Q0*.02/8}get socketStatusOpen(){return this.socketStatus===D}log(){for(var Q0=arguments.length,dt=new Array(Q0),d0=0;d0<Q0;d0++)dt[d0]=arguments[d0];this._log("log",...dt)}warn(){for(var Q0=arguments.length,dt=new Array(Q0),d0=0;d0<Q0;d0++)dt[d0]=arguments[d0];this._log("warn",...dt)}error(){for(var Q0=arguments.length,dt=new Array(Q0),d0=0;d0<Q0;d0++)dt[d0]=arguments[d0];this._log("error",...dt)}_log(Q0){for(var dt=arguments.length,d0=new Array(1<dt?dt-1:0),Lt=1;Lt<dt;Lt++)d0[Lt-1]=arguments[Lt];(this.player?this.player.debug:this.debug||console)[Q0](...d0)}_getSequenceId(){return++this.sequenceId}_createWebSocket(){return new Promise((Q0,dt)=>{var d0=this.events.proxy;this.socket=new WebSocket(this.wsUrl),this.socket.binaryType="arraybuffer",this.emit("talkStreamStart"),d0(this.socket,"open",()=>{this.socketStatus=D,this.log(this.tag,"websocket open -> do talk"),this.emit("talkStreamOpen"),Q0(),this._doTalk()}),d0(this.socket,"message",Lt=>{this.log(this.tag,"websocket message",Lt.data)}),d0(this.socket,"close",Lt=>{this.socketStatus="close",this.log(this.tag,"websocket close"),this.emit(We),dt(Lt)}),d0(this.socket,"error",Lt=>{this.socketStatus="error",this.error(this.tag,"websocket error",Lt),this.emit(f0,Lt),dt(Lt)})})}_sendClose(){}_initTalk(){this._initMethods(),this._opt.engine===rt?this._initWorklet():this._opt.engine==="script"&&this._initScriptProcessor(),this.log(this.tag,"audioContext samplerate",this.audioContext.sampleRate)}_initMethods(){this.audioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:48e3}),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.biquadFilter=this.audioContext.createBiquadFilter(),this.biquadFilter.type="lowpass",this.biquadFilter.frequency.value=3e3,this.resampler=new di({fromSampleRate:this.audioContext.sampleRate,toSampleRate:this._opt.sampleRate,channels:this._opt.numberChannels,inputBufferSize:this.bufferSize})}_initScriptProcessor(){var Q0=this.audioContext.createScriptProcessor||this.audioContext.createJavaScriptNode;this.recorder=Q0.apply(this.audioContext,[this.bufferSize,this._opt.numberChannels,this._opt.numberChannels]),this.recorder.onaudioprocess=dt=>this._onaudioprocess(dt)}_initWorklet(){var Q0;this.audioContext.audioWorklet.addModule((Q0=(function(){class dt extends AudioWorkletProcessor{constructor(Lt){super(),this._cursor=0,this._bufferSize=Lt.processorOptions.bufferSize,this._buffer=new Float32Array(this._bufferSize)}process(Lt,zt,L0){if(!Lt.length||!Lt[0].length)return!0;for(let Ct=0;Ct<Lt[0][0].length;Ct++)this._cursor+=1,this._cursor===this._bufferSize&&(this._cursor=0,this.port.postMessage({eventType:"data",buffer:this._buffer})),this._buffer[this._cursor]=Lt[0][0][Ct];return!0}}registerProcessor("talk-processor",dt)}).toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],Q0=new Blob([Q0],{type:"application/javascript"}),URL.createObjectURL(Q0))).then(()=>{var dt=new AudioWorkletNode(this.audioContext,"talk-processor",{processorOptions:{bufferSize:this.bufferSize}});dt.connect(this.gainNode),dt.port.onmessage=d0=>{d0.data.eventType==="data"&&this._encodeAudioData(d0.data.buffer)},this.workletRecorder=dt})}_onaudioprocess(Q0){Q0=Q0.inputBuffer.getChannelData(0),this._encodeAudioData(new Float32Array(Q0))}_encodeAudioData(Q0){if(Q0[0]===0&&Q0[1]===0)this.log(this.tag,"empty audio data");else{const d0=this.resampler.resample(Q0);let Lt=d0;if(this._opt.sampleBitsWidth===16?Lt=(function(zt){let L0=zt.length,Ct=new Int16Array(L0);for(;L0--;){var ci=Math.max(-1,Math.min(1,zt[L0]));Ct[L0]=ci<0?32768*ci:32767*ci}return Ct})(d0):this._opt.sampleBitsWidth===8&&(Lt=(function(zt){let L0=zt.length,Ct=new Int8Array(L0);for(;L0--;){var ci=Math.max(-1,Math.min(1,zt[L0]));Ct[L0]=parseInt(255/(65535/(32768+(ci<0?32768*ci:32767*ci))),10)}return Ct})(d0)),Lt.buffer!==null){let zt=null;this._opt.encType===k0?zt=(function(Ct){const ci=[];return Array.prototype.slice.call(Ct).forEach((Ri,Ni)=>{ci[Ni]=(function(Ji){let rr,Nr,Pr;return 0<=Ji?rr=213:(rr=85,(Ji=-Ji-1)<0&&(Ji=32767)),8<=(Nr=ir(Ji,$i,8))?127^rr:(Pr=Nr<<4,(Pr|=Nr<2?Ji>>4&15:Ji>>Nr+3&15)^rr)})(Ri)}),ci})(Lt):this._opt.encType===T0&&(zt=(function(Ct){const ci=[];return Array.prototype.slice.call(Ct).forEach((Ri,Ni)=>{ci[Ni]=(function(Ji){let rr=0;rr=Ji<0?(Ji=132-Ji,127):(Ji+=132,255);var Nr=ir(Ji,$i,8);return 8<=Nr?127^rr:(Nr<<4|Ji>>Nr+3&15)^rr})(Ri)}),ci})(Lt));const L0=Uint8Array.from(zt);for(let Ct=0;Ct<L0.length;Ct++){var dt=this.audioBufferList.length;this.audioBufferList[+dt]=L0[Ct],this.audioBufferList.length===this._opt.audioBufferLength&&(this._sendTalkMsg(new Uint8Array(this.audioBufferList)),this.audioBufferList=[])}}}}_parseAudioMsg(Q0){let dt=null;return this._opt.packetType!==J0||this._opt.encType!==k0&&this._opt.encType!==T0?this._opt.packetType==="opus"?dt=this.opusPacket(Q0):this._opt.packetType==="empty"&&(dt=Q0):dt=this.rtpPacket(Q0),dt}rtpPacket(Q0){var dt=[];let d0=0,Lt,zt;var L0=this._opt.rtpSsrc,Ct=Q0.length,Ct=(this._opt.encType===k0?d0=8:this._opt.encType===T0&&(d0=0),this.startTimestamp||(this.startTimestamp=mt()),zt=mt()-this.startTimestamp,Lt=this._getSequenceId(),Ct+12),ci=(dt[0]=255&Ct>>8,dt[1]=255&Ct>>0,dt[2]=128,dt[3]=128+d0,dt[4]=Lt/256,dt[5]=Lt%256,dt[6]=zt/65536/256,dt[7]=zt/65536%256,dt[8]=zt%65536/256,dt[9]=zt%65536%256,dt[10]=L0/65536/256,dt[11]=L0/65536%256,dt[12]=L0%65536/256,dt[13]=L0%65536%256,dt.concat([...Q0])),Ri=new Uint8Array(ci.length);for(let Ni=0;Ni<ci.length;Ni++)Ri[Ni]=ci[Ni];return Ri}opusPacket(Q0){return Q0}_sendTalkMsg(Q0){this.tempTimestamp===null&&(this.tempTimestamp=mt());var dt=mt(),d0=dt-this.tempTimestamp,Lt=this._parseAudioMsg(Q0);this.log(this.tag,`'send talk msg and diff is ${d0} and byteLength is ${Lt.byteLength} and length is ${Lt.length}, and g711 length is `+Q0.length),this._opt.packetType===J0&&this.addRtpToBuffer(Lt),Lt&&(this.socketStatusOpen?this.socket.send(Lt.buffer):this.emit("tallWebsocketClosedByError")),this.tempTimestamp=dt}_doTalk(){this._getUserMedia()}_getUserMedia(){this.log(this.tag,"getUserMedia"),window.navigator.mediaDevices===void 0&&(window.navigator.mediaDevices={}),window.navigator.mediaDevices.getUserMedia===void 0&&(this.log(this.tag,"window.navigator.mediaDevices.getUserMedia is undefined and init function"),window.navigator.mediaDevices.getUserMedia=function(Q0){var dt=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return dt?new Promise(function(d0,Lt){dt.call(navigator,Q0,d0,Lt)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),this._opt.checkGetUserMediaTimeout&&this._startCheckGetUserMediaTimeout(),window.navigator.mediaDevices.getUserMedia({audio:{latency:!0,noiseSuppression:!0,autoGainControl:!0,echoCancellation:!0,sampleRate:48e3,channelCount:1},video:!1}).then(Q0=>{this.log(this.tag,"getUserMedia success"),this.userMediaStream=Q0,this.mediaStreamSource=this.audioContext.createMediaStreamSource(Q0),this.mediaStreamSource.connect(this.biquadFilter),this.recorder?(this.biquadFilter.connect(this.recorder),this.recorder.connect(this.gainNode)):this.workletRecorder&&(this.biquadFilter.connect(this.workletRecorder),this.workletRecorder.connect(this.gainNode)),this.gainNode.connect(this.audioContext.destination),this.emit(j),Q0.oninactive===null&&(Q0.oninactive=dt=>{this._handleStreamInactive(dt)})}).catch(Q0=>{this.error(this.tag,"getUserMedia error",Q0.toString()),this.emit(be,Q0.toString())}).finally(()=>{this.log(this.tag,"getUserMedia finally"),this._stopCheckGetUserMediaTimeout()})}_getUserMedia2(){this.log(this.tag,"getUserMedia"),navigator.mediaDevices?navigator.mediaDevices.getUserMedia({audio:!0}).then(Q0=>{this.log(this.tag,"getUserMedia2 success")}):navigator.getUserMedia({audio:!0},this.log(this.tag,"getUserMedia2 success"),this.log(this.tag,"getUserMedia2 fail"))}async _getUserMedia3(){this.log(this.tag,"getUserMedia3");try{var Q0=await navigator.mediaDevices.getUserMedia({audio:{latency:!0,noiseSuppression:!0,autoGainControl:!0,echoCancellation:!0,sampleRate:48e3,channelCount:1},video:!1});console.log("getUserMedia() got stream:",Q0),this.log(this.tag,"getUserMedia3 success")}catch{this.log(this.tag,"getUserMedia3 fail")}}_handleStreamInactive(Q0){this.userMediaStream&&(this.error(this.tag,"stream oninactive"),this.emit(it))}_startCheckGetUserMediaTimeout(){this._stopCheckGetUserMediaTimeout(),this.checkGetUserMediaTimeout=setTimeout(()=>{this.log(this.tag,"check getUserMedia timeout"),this.emit(r)},this._opt.getUserMediaTimeout)}_stopCheckGetUserMediaTimeout(){this.checkGetUserMediaTimeout&&(this.log(this.tag,"stop checkGetUserMediaTimeout"),clearTimeout(this.checkGetUserMediaTimeout),this.checkGetUserMediaTimeout=null)}_startHeartInterval(){this.heartInterval=setInterval(()=>{this.log(this.tag,"heart interval");var Q0=[35,36,0,0,0,0,0,0],Q0=new Uint8Array(Q0);this.socket.send(Q0.buffer)},15e3)}_stopHeartInterval(){this.heartInterval&&(this.log(this.tag,"stop heart interval"),clearInterval(this.heartInterval),this.heartInterval=null)}startTalk(Q0){return new Promise((dt,d0)=>(function(){let Lt=!1;var zt=window.navigator;return Lt=zt?(Lt=!(!zt.mediaDevices||!zt.mediaDevices.getUserMedia))||!!(zt.getUserMedia||zt.webkitGetUserMedia||zt.mozGetUserMedia||zt.msGetUserMedia):Lt})()?(this.wsUrl=Q0,this._opt.testMicrophone?(this._doTalk(),dt()):(this._createWebSocket().catch(Lt=>{d0(Lt)}),this.once(be,()=>{d0("getUserMedia fail")}),void this.once(j,()=>{dt()}))):d0("not support getUserMedia"))}setVolume(Q0){var dt;Q0=parseFloat(Q0).toFixed(2),isNaN(Q0)||(dt=Q0,Q0=Math.max(Math.min(dt,Math.max(0,1)),Math.min(0,1)),this.gainNode.gain.value=Q0)}getOption(){return this._opt}get volume(){return this.gainNode?parseFloat(100*this.gainNode.gain.value).toFixed(0):null}}class tr extends me{_opt={};constructor(){var Q0=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};super(),this.talk=null,this._opt=Q0,this.LOG_TAG="JessibucaProTalk",this.debug=new u0(this),this.debug.log(this.LOG_TAG,"init",JSON.stringify(Q0))}destroy(){this.debug.log(this.LOG_TAG,"destroy()"),this.off(),this.talk&&(this.talk.destroy(),this.talk=null),this.debug.log(this.LOG_TAG,"destroy")}_initTalk(){var Q0=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},Q0=(this.talk&&(this.talk.destroy(),this.talk=null),Object.assign({},xt(this._opt),Q0));this.talk=new Mt(null,Q0),this.debug.log(this.LOG_TAG,"_initTalk",this.talk.getOption()),this._bindTalkEvents()}_bindTalkEvents(){Object.keys(p0).forEach(Q0=>{this.talk.on(p0[Q0],dt=>{this.emit(Q0,dt)})})}startTalk(Q0){let dt=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return new Promise((d0,Lt)=>{this.debug.log(this.LOG_TAG,"startTalk",Q0,JSON.stringify(dt)),this._initTalk(dt),this.talk.startTalk(Q0).then(()=>{d0(),this.talk.once(We,()=>{this.debug.warn(this.LOG_TAG,"talkStreamClose"),this.stopTalk().catch(zt=>{})}),this.talk.once(f0,zt=>{this.debug.error(this.LOG_TAG,"talkStreamError"),this.stopTalk().catch(L0=>{})}),this.talk.once(it,()=>{this.debug.warn(this.LOG_TAG,"talkStreamInactive"),this.stopTalk().catch(zt=>{})})}).catch(zt=>{Lt(zt)})})}stopTalk(){return new Promise((Q0,dt)=>{this.debug.log(this.LOG_TAG,"stopTalk()"),this.talk||dt("talk is not init"),this.talk.destroy(),Q0()})}getTalkVolume(){return new Promise((Q0,dt)=>{this.talk||dt("talk is not init"),Q0(this.talk.volume)})}setTalkVolume(Q0){return new Promise((dt,d0)=>{this.debug.log(this.LOG_TAG,"setTalkVolume",Q0),this.talk||d0("talk is not init"),this.talk.setVolume(Q0/100),dt()})}downloadTempRtpFile(){return new Promise((Q0,dt)=>{this.talk?(this.talk.downloadRtpFile(),Q0()):dt("talk is not init")})}}tr.EVENTS=p0,window.JessibucaProTalk=tr,window.WebPlayerProTalk=tr});function l(me){throw me}var p=void 0,s=!0,v=null,G=!1;function H(){return function(){}}function la(me){return function(Ce){this[me]=Ce}}function U(me){return function(){return me}}(function(){function M(me){this.canvas=me,this.Q=me.getContext("2d"),this.mc=this.Ic=this.nc=v,this.Zb=G,this.xc()}function T(){this.Sc=v,this.Na=W(2),this.stop=G,this.Q=F.de265_new_decoder(),this.Tb=typeof Worker<"u"&&typeof Uint8ClampedArray<"u"&&typeof Blob<"u"?new ab:new bb}function bb(){}function ab(){if(this.tb=[],cb===v){var me=Fb.toString(),Ce=Fb.name;Ce||(Ce=/^function\s+([\w\$]+)\s*\(/.exec(me)[1]),me=new Blob([`(function() {
`,Gb.toString()+`;
`,db.toString()+`;
`,me+`;
`,Ce+`();
`,"}).call(this);"],{type:"text/javascript"}),cb=window.URL.createObjectURL(me)}var Je=this;this.kb=new Worker(cb),this.kb.addEventListener("message",function(j){switch(j.data.cmd){case"converted":var be=Je.tb[0];Je.tb=Je.tb.splice(1),be(j.data.data.image);break;case"stopped":Je=Je.tb=v}},G),this.kb.postMessage({cmd:"start"})}function Ba(me,Ce){this.mf=me,this.ra=Ce,this.height=this.width=v}function Hb(me){eval.call(v,me)}function K(me,Ce){me||ga("Assertion failed: "+Ce)}function Ib(a){try{var b=e["_"+a];b||(b=eval("_"+a))}catch(me){}return K(b,"Cannot call unknown function "+a+" (perhaps LLVM optimizations or closure removed it?)"),b}function Jb(me,Ce,Je,f0){function be(it,p0){if(p0=="string"){if(it===v||it===p||it===0)return 0;it=X(it),p0="array"}if(p0=="array"){r||(r=t.gd());var D=t.ed(it.length);return eb(it,D),D}return it}var r=0,We=0,f0=f0?f0.map(function(it){return be(it,Je[We++])}):[];return me=me.apply(v,f0),Ce=="string"?Ce=Y(me):(K(Ce!="array"),Ce=me),r&&t.fd(r),Ce}function E(me,Ce,Je){var j=Ib(me);return function(){return Jb(j,Ce,Je,Array.prototype.slice.call(arguments))}}function Ja(me,Ce,Je){switch(Je=Je||"i8",Je.charAt(Je.length-1)==="*"&&(Je="i32"),Je){case"i1":x[me]=Ce;break;case"i8":x[me]=Ce;break;case"i16":Z[me>>1]=Ce;break;case"i32":u[me>>2]=Ce;break;case"i64":sa=[Ce>>>0,(V=Ce,1<=+fb(V)?0<V?(Ka(+Kb(V/4294967296),4294967295)|0)>>>0:~~+Lb((V-+(~~V>>>0))/4294967296)>>>0:0)],u[me>>2]=sa[0],u[me+4>>2]=sa[1];break;case"float":na[me>>2]=Ce;break;case"double":ha[me>>3]=Ce;break;default:ga("invalid type for setValue: "+Je)}}function ta(me,Ce){switch(Ce=Ce||"i8",Ce.charAt(Ce.length-1)==="*"&&(Ce="i32"),Ce){case"i1":return x[me];case"i8":return x[me];case"i16":return Z[me>>1];case"i32":return u[me>>2];case"i64":return u[me>>2];case"float":return na[me>>2];case"double":return ha[me>>3];default:ga("invalid type for setValue: "+Ce)}return v}function I(me,Ce,f0,j){var be,r;typeof me=="number"?(be=s,r=me):(be=G,r=me.length);var We=typeof Ce=="string"?Ce:v,f0=f0==ua?j:[W,t.ed,t.we,t.Xb][f0===p?Q:f0](Math.max(r,We?1:Ce.length));if(be){for(j=f0,K((f0&3)==0),me=f0+(r&-4);j<me;j+=4)u[j>>2]=0;for(me=f0+r;j<me;)x[j++|0]=0;return f0}if(We==="i8")return me.subarray||me.slice?N.set(me,f0):N.set(new Uint8Array(me),f0),f0;for(var j=0,it,p0;j<r;){var D=me[j];typeof D=="function"&&(D=t.Ci(D)),be=We||Ce[j],be===0?j++:(be=="i64"&&(be="i32"),Ja(f0+j,D,be),p0!==be&&(it=t.Pc(be),p0=be),j+=it)}return f0}function Y(me,Ce){for(var Je=G,j,be=0;;){if(j=N[me+be|0],128<=j)Je=s;else if(j==0&&!Ce)break;if(be++,Ce&&be==Ce)break}Ce||(Ce=be);var r="";if(!Je){for(;0<Ce;)j=String.fromCharCode.apply(String,N.subarray(me,me+Math.min(Ce,1024))),r=r?r+j:j,me+=1024,Ce-=1024;return r}for(Je=new t.pb,be=0;be<Ce;be++)j=N[me+be|0],r+=Je.kc(j);return r}function vc(me){function Ce(We,p0,it){var p0=p0||1/0,D="",k0=[],T0;if(me[Je]==="N"){for(Je++,me[Je]==="K"&&Je++,T0=[];me[Je]!=="E";)if(me[Je]==="S"){Je++;var J0=me.indexOf("_",Je);T0.push(be[me.substring(Je,J0)||0]||"?"),Je=J0+1}else if(me[Je]==="C")T0.push(T0[T0.length-1]),Je+=2;else{var J0=parseInt(me.substr(Je)),rt=J0.toString().length;if(!J0||!rt){Je--;break}var W0=me.substr(Je+rt,J0);T0.push(W0),be.push(W0),Je+=rt+J0}if(Je++,T0=T0.join("::"),p0--,p0===0)return We?[T0]:T0}else(me[Je]==="K"||r&&me[Je]==="L")&&Je++,(J0=parseInt(me.substr(Je)))&&(rt=J0.toString().length,T0=me.substr(Je+rt,J0),Je+=rt+J0);r=G,me[Je]==="I"?(Je++,J0=Ce(s),rt=Ce(s,1,s),D+=rt[0]+" "+T0+"<"+J0.join(", ")+">"):D=T0;e:for(;Je<me.length&&0<p0--;)if(T0=me[Je++],T0 in j)k0.push(j[T0]);else switch(T0){case"P":k0.push(Ce(s,1,s)[0]+"*");break;case"R":k0.push(Ce(s,1,s)[0]+"&");break;case"L":Je++,J0=me.indexOf("E",Je)-Je,k0.push(me.substr(Je,J0)),Je+=J0+2;break;case"A":J0=parseInt(me.substr(Je)),Je+=J0.toString().length,me[Je]!=="_"&&l("?"),Je++,k0.push(Ce(s,1,s)[0]+" ["+J0+"]");break;case"E":break e;default:D+="?"+T0;break e}return!it&&k0.length===1&&k0[0]==="void"&&(k0=[]),We?k0:D+("("+k0.join(", ")+")")}var Je=3,j={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},be=[],r=s;try{if(me=="Object._main"||me=="_main")return"main()";if(typeof me=="number"&&(me=Y(me)),me[0]!=="_"||me[1]!=="_"||me[2]!=="Z")return me;switch(me[3]){case"n":return"operator new()";case"d":return"operator delete()"}return Ce()}catch{return me}}function gb(){var me=Error().stack;return me?me.replace(/__Z[\w\d_]+/g,function(Ce){var Je=vc(Ce);return Ce===Je?Ce:Ce+" ["+Je+"]"}):"(no stack trace available)"}function va(me){for(;0<me.length;){var Ce=me.shift();if(typeof Ce=="function")Ce();else{var Je=Ce.qa;typeof Je=="number"?Ce.Mb===p?t.Wb("v",Je):t.Wb("vi",Je,[Ce.Mb]):Je(Ce.Mb===p?v:Ce.Mb)}}}function Mb(me){hb.unshift(me)}function Nb(me){Ob.unshift(me)}function X(me,Ce,Je){return me=new t.pb().oe(me),Je&&(me.length=Je),Ce||me.push(0),me}function eb(me,Ce){for(var Je=0;Je<me.length;Je++)x[Ce+Je|0]=me[Je]}function Pb(me,Ce,Je){for(var j=0;j<me.length;j++)x[Ce+j|0]=me.charCodeAt(j);Je||(x[Ce+me.length|0]=0)}function ib(me,Ce){return 0<=me?me:32>=Ce?2*Math.abs(1<<Ce-1)+me:Math.pow(2,Ce)+me}function Qb(me,Ce){if(0>=me)return me;var Je=32>=Ce?Math.abs(1<<Ce-1):Math.pow(2,Ce-1);return me>=Je&&(32>=Ce||me>Je)&&(me=-2*Je+me),me}function Rb(){ia++,e.monitorRunDependencies&&e.monitorRunDependencies(ia)}function jb(){if(ia--,e.monitorRunDependencies&&e.monitorRunDependencies(ia),ia==0&&Ca){var me=Ca;Ca=v,me()}}function wa(){return!!wa.kd}function lb(me){var Ce=G;try{me==__ZTIi&&(Ce=s)}catch{}try{me==__ZTIj&&(Ce=s)}catch{}try{me==__ZTIl&&(Ce=s)}catch{}try{me==__ZTIm&&(Ce=s)}catch{}try{me==__ZTIx&&(Ce=s)}catch{}try{me==__ZTIy&&(Ce=s)}catch{}try{me==__ZTIf&&(Ce=s)}catch{}try{me==__ZTId&&(Ce=s)}catch{}try{me==__ZTIe&&(Ce=s)}catch{}try{me==__ZTIc&&(Ce=s)}catch{}try{me==__ZTIa&&(Ce=s)}catch{}try{me==__ZTIh&&(Ce=s)}catch{}try{me==__ZTIs&&(Ce=s)}catch{}try{me==__ZTIt&&(Ce=s)}catch{}return Ce}function La(me,Ce,Je){if(Je==0)return G;if(Ce==0||Ce==me)return s;switch(lb(Ce)?Ce:u[u[Ce>>2]-8>>2]){case 0:return u[u[me>>2]-8>>2]==0?La(u[me+8>>2],u[Ce+8>>2],Je):G;case 1:return G;case 2:return La(me,u[Ce+8>>2],Je);default:return G}}function Sb(me){try{return Ma(me-xa)}catch{}}function mb(me,Ce,Je){if(!mb.Xa){try{u[__ZTVN10__cxxabiv119__pointer_type_infoE>>2]=0}catch{}try{u[nb>>2]=1}catch{}try{u[ob>>2]=2}catch{}mb.Xa=s}var j=me-xa;u[j>>2]=Ce,u[j+4>>2]=Je,ya=me,"uncaught_exception"in wa?wa.kd++:wa.kd=1,l(me+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch.")}function P(me){return u[Na>>2]=me}function Tb(){l("TODO")}function pb(me,Ce,Je){if(me=d.Aa(me),!me)return P(i.S),-1;try{return d.write(me,x,Ce,Je)}catch(j){return d.bc(j),-1}}function Ub(me){return d.ub(me).ba}function Vb(me,Ce,Je,j){return Je*=Ce,Je==0?0:(me=pb(Ub(j),me,Je),me==-1?((Ce=d.ub(j))&&(Ce.error=s),0):Math.floor(me/Ce))}function Oa(me){return 0>me||me===0&&1/me===-1/0}function qb(me,Ce){function Je($i){var ir;return $i==="double"?ir=ha[Ce+be>>3]:$i=="i64"?(ir=[u[Ce+be>>2],u[Ce+(be+8)>>2]],be+=8):($i="i32",ir=u[Ce+be>>2]),be+=Math.max(t.Xd($i),t.ya($i,v,s)),ir}for(var j=me,be=0,r=[],We,f0;;){var it=j;if(We=x[j],We===0)break;if(f0=x[j+1|0],We==37){var p0=G,D=G,k0=G,T0=G,J0=G;e:for(;;){switch(f0){case 43:p0=s;break;case 45:D=s;break;case 35:k0=s;break;case 48:if(T0)break e;T0=s;break;case 32:J0=s;break;default:break e}j++,f0=x[j+1|0]}var rt=0;if(f0==42)rt=Je("i32"),j++,f0=x[j+1|0];else for(;48<=f0&&57>=f0;)rt=10*rt+(f0-48),j++,f0=x[j+1|0];var W0=G,pt=-1;if(f0==46){if(pt=0,W0=s,j++,f0=x[j+1|0],f0==42)pt=Je("i32"),j++;else for(;f0=x[j+1|0],!(48>f0||57<f0);)pt=10*pt+(f0-48),j++;f0=x[j+1|0]}0>pt&&(pt=6,W0=G);var mt;switch(String.fromCharCode(f0)){case"h":f0=x[j+2|0],f0==104?(j++,mt=1):mt=2;break;case"l":f0=x[j+2|0],f0==108?(j++,mt=8):mt=4;break;case"L":case"q":case"j":mt=8;break;case"z":case"t":case"I":mt=4;break;default:mt=v}switch(mt&&j++,f0=x[j+1|0],String.fromCharCode(f0)){case"d":case"i":case"u":case"o":case"x":case"X":case"p":it=f0==100||f0==105,mt=mt||4;var xt=We=Je("i"+8*mt),wt;mt==8&&(We=t.Nf(We[0],We[1],f0==117)),4>=mt&&(We=(it?Qb:ib)(We&Math.pow(256,mt)-1,8*mt));var di=Math.abs(We),it="";if(f0==100||f0==105)wt=mt==8&&za?za.stringify(xt[0],xt[1],v):Qb(We,8*mt).toString(10);else if(f0==117)wt=mt==8&&za?za.stringify(xt[0],xt[1],s):ib(We,8*mt).toString(10),We=Math.abs(We);else if(f0==111)wt=(k0?"0":"")+di.toString(8);else if(f0==120||f0==88){if(it=k0&&We!=0?"0x":"",mt==8&&za)if(xt[1]){for(wt=(xt[1]>>>0).toString(16),k0=(xt[0]>>>0).toString(16);8>k0.length;)k0="0"+k0;wt+=k0}else wt=(xt[0]>>>0).toString(16);else if(0>We){for(We=-We,wt=(di-1).toString(16),xt=[],k0=0;k0<wt.length;k0++)xt.push((15-parseInt(wt[k0],16)).toString(16));for(wt=xt.join("");wt.length<2*mt;)wt="f"+wt}else wt=di.toString(16);f0==88&&(it=it.toUpperCase(),wt=wt.toUpperCase())}else f0==112&&(di===0?wt="(nil)":(it="0x",wt=di.toString(16)));if(W0)for(;wt.length<pt;)wt="0"+wt;for(0<=We&&(p0?it="+"+it:J0&&(it=" "+it)),wt.charAt(0)=="-"&&(it="-"+it,wt=wt.substr(1));it.length+wt.length<rt;)D?wt+=" ":T0?wt="0"+wt:it=" "+it;wt=it+wt,wt.split("").forEach(function(ir){r.push(ir.charCodeAt(0))});break;case"f":case"F":case"e":case"E":case"g":case"G":if(We=Je("double"),isNaN(We))wt="nan",T0=G;else if(isFinite(We)){if(W0=G,mt=Math.min(pt,20),(f0==103||f0==71)&&(W0=s,pt=pt||1,mt=parseInt(We.toExponential(mt).split("e")[1],10),pt>mt&&-4<=mt?(f0=(f0==103?"f":"F").charCodeAt(0),pt-=mt+1):(f0=(f0==103?"e":"E").charCodeAt(0),pt--),mt=Math.min(pt,20)),f0==101||f0==69?(wt=We.toExponential(mt),/[eE][-+]\d$/.test(wt)&&(wt=wt.slice(0,-1)+"0"+wt.slice(-1))):(f0==102||f0==70)&&(wt=We.toFixed(mt),We===0&&Oa(We)&&(wt="-"+wt)),it=wt.split("e"),W0&&!k0)for(;1<it[0].length&&it[0].indexOf(".")!=-1&&(it[0].slice(-1)=="0"||it[0].slice(-1)==".");)it[0]=it[0].slice(0,-1);else for(k0&&wt.indexOf(".")==-1&&(it[0]+=".");pt>mt++;)it[0]+="0";wt=it[0]+(1<it.length?"e"+it[1]:""),f0==69&&(wt=wt.toUpperCase()),0<=We&&(p0?wt="+"+wt:J0&&(wt=" "+wt))}else wt=(0>We?"-":"")+"inf",T0=G;for(;wt.length<rt;)wt=D?wt+" ":T0&&(wt[0]=="-"||wt[0]=="+")?wt[0]+"0"+wt.slice(1):(T0?"0":" ")+wt;97>f0&&(wt=wt.toUpperCase()),wt.split("").forEach(function(ir){r.push(ir.charCodeAt(0))});break;case"s":if(T0=(p0=Je("i8*"))?Wb(p0):6,W0&&(T0=Math.min(T0,pt)),!D)for(;T0<rt--;)r.push(32);if(p0)for(k0=0;k0<T0;k0++)r.push(N[p0++|0]);else r=r.concat(X("(null)".substr(0,T0),s));if(D)for(;T0<rt--;)r.push(32);break;case"c":for(D&&r.push(Je("i8"));0<--rt;)r.push(32);D||r.push(Je("i8"));break;case"n":D=Je("i32*"),u[D>>2]=r.length;break;case"%":r.push(We);break;default:for(k0=it;k0<j+2;k0++)r.push(x[k0])}j+=2}else r.push(We),j+=1}return r}function rb(me,Ce,Je){return Je=qb(Ce,Je),Ce=t.gd(),me=Vb(I(Je,"i8",Xb),1,Je.length,me),t.fd(Ce),me}function sb(me){e.exit(me)}function Pa(){if(Pa.se)Pa.se=G;else{var me=tb.pop();if(me){header=me-xa;var Ce=u[header+4>>2];Ce&&(t.Wb("vi",Ce,[me]),u[header+4>>2]=0),Sb(me),ya=0}}}function ub(r,Ce,Je,j){if(Je=qb(Je,j),j=Ce===p?Je.length:Math.min(Je.length,Math.max(Ce-1,0)),0>r)var r=-r,be=W(j+1),r=u[r>>2]=be;for(be=0;be<j;be++)x[r+be|0]=Je[be];return(j<Ce||Ce===p)&&(x[r+be|0]=0),Je.length}function Yb(me,Ce,Je){return ub(me,p,Ce,Je)}function vb(me,Ce,Je){if(me=d.Aa(me),!me)return P(i.S),-1;try{return d.O(me,x,Ce,Je)}catch(j){return d.bc(j),-1}}function Zb(me,Ce,Je,r){if(Je*=Ce,Je==0)return 0;var be=0,r=d.ub(r);if(!r)return P(i.S),0;for(;r.qc.length&&0<Je;)x[me++|0]=r.qc.pop(),Je--,be++;return me=vb(r.ba,me,Je),me==-1?(r&&(r.error=s),0):(be+=me,be<Je&&(r.Rd=s),Math.floor(be/Ce))}function Qa(me){var Ce=d.ub(me);return!Ce||Ce.Rd||Ce.error?-1:(me=Zb(Qa.$,1,1,me),me==0?-1:me==-1?(Ce.error=s,-1):N[Qa.$|0])}function $b(me,Ce,Je){return me in Ra?Ra[me].length>Je-1?P(i.rd):(Pb(Ra[me],Ce),0):P(i.C)}function Da(me){return Da.buffer||(Da.buffer=W(256)),$b(me,Da.buffer,256),Da.buffer}function ac(me){return 48<=me&&57>=me||97<=me&&102>=me||65<=me&&70>=me}function bc(me){return 48<=me&&57>=me}function cc(me){return/^[+-]?[0-9]*\.?[0-9]+([eE][+-]?[0-9]+)?/.exec(me)}function S(be,f0,p0,j){S.whiteSpace||(S.whiteSpace={},S.whiteSpace[32]=1,S.whiteSpace[9]=1,S.whiteSpace[10]=1,S.whiteSpace[11]=1,S.whiteSpace[12]=1,S.whiteSpace[13]=1);var be=Y(be),r=0;if(0<=be.indexOf("%n"))var We=f0,f0=function(){return r++,We()},it=p0,p0=function(){return r--,it()};var J0=0,D=0,k0=0,T0,J0=0;e:for(;J0<be.length;)if(be[J0]==="%"&&be[J0+1]=="n"){var rt=u[j+k0>>2],k0=k0+t.ya("void*",v,s);u[rt>>2]=r,J0+=2}else{if(be[J0]==="%"){var W0=be.indexOf("c",J0+1);if(0<W0){var pt=1;if(W0>J0+1&&(T0=be.substring(J0+1,W0),pt=parseInt(T0),pt!=T0&&(pt=0)),pt){rt=u[j+k0>>2],k0+=t.ya("void*",v,s),D++;for(var mt=0;mt<pt;mt++)if(T0=f0(),x[rt++|0]=T0,T0===0)return 0<mt?D:D-1;J0+=W0-J0+1;continue}}}if(be[J0]==="%"&&0<be.indexOf("[",J0+1)&&(W0=/\%([0-9]*)\[(\^)?(\]?[^\]]*)\]/.exec(be.substring(J0)))){for(var pt=parseInt(W0[1])||1/0,xt=W0[2]==="^",wt=W0[3];T0=/([^\-])\-([^\-])/.exec(wt);){for(var rt=T0[1].charCodeAt(0),mt=T0[2].charCodeAt(0),di="";rt<=mt;di+=String.fromCharCode(rt++));wt=wt.replace(T0[1]+"-"+T0[2],di)}for(rt=u[j+k0>>2],k0+=t.ya("void*",v,s),D++,mt=0;mt<pt;mt++)if(T0=f0(),xt)if(0>wt.indexOf(String.fromCharCode(T0)))x[rt++|0]=T0;else{p0();break}else if(0<=wt.indexOf(String.fromCharCode(T0)))x[rt++|0]=T0;else{p0();break}x[rt++|0]=0,J0+=W0[0].length;continue}for(;;){if(T0=f0(),T0==0)return D;if(!(T0 in S.whiteSpace))break}if(p0(),be[J0]==="%"){for(J0++,rt=G,be[J0]=="*"&&(rt=s,J0++),T0=J0;48<=be[J0].charCodeAt(0)&&57>=be[J0].charCodeAt(0);)J0++;var $i;if(J0!=T0&&($i=parseInt(be.slice(T0,J0),10)),xt=pt=W0=G,be[J0]=="l"?(W0=s,J0++,be[J0]=="l"&&(xt=s,J0++)):be[J0]=="h"&&(pt=s,J0++),wt=be[J0],J0++,mt=0,di=[],wt=="f"||wt=="e"||wt=="g"||wt=="F"||wt=="E"||wt=="G"){for(T0=f0();0<T0&&!(T0 in S.whiteSpace);)di.push(String.fromCharCode(T0)),T0=f0();for(T0=(T0=cc(di.join("")))?T0[0].length:0,mt=0;mt<di.length-T0+1;mt++)p0();di.length=T0}else{T0=f0();var ir=s;if((wt=="x"||wt=="X")&&T0==48){var u0=f0();u0==120||u0==88?T0=f0():p0()}for(;(mt<$i||isNaN($i))&&0<T0&&(!(T0 in S.whiteSpace)&&(wt=="s"||(wt==="d"||wt=="u"||wt=="i")&&(48<=T0&&57>=T0||ir&&T0==45)||(wt==="x"||wt==="X")&&(48<=T0&&57>=T0||97<=T0&&102>=T0||65<=T0&&70>=T0))&&(J0>=be.length||T0!==be[J0].charCodeAt(0)));)di.push(String.fromCharCode(T0)),T0=f0(),mt++,ir=G;p0()}if(di.length===0)return 0;if(!rt){switch(T0=di.join(""),rt=u[j+k0>>2],k0+=t.ya("void*",v,s),wt){case"d":case"u":case"i":pt?Z[rt>>1]=parseInt(T0,10):xt?(sa=[parseInt(T0,10)>>>0,(V=parseInt(T0,10),1<=+fb(V)?0<V?(Ka(+Kb(V/4294967296),4294967295)|0)>>>0:~~+Lb((V-+(~~V>>>0))/4294967296)>>>0:0)],u[rt>>2]=sa[0],u[rt+4>>2]=sa[1]):u[rt>>2]=parseInt(T0,10);break;case"X":case"x":u[rt>>2]=parseInt(T0,16);break;case"F":case"f":case"E":case"e":case"G":case"g":case"E":W0?ha[rt>>3]=parseFloat(T0):na[rt>>2]=parseFloat(T0);break;case"s":for(T0=X(T0),mt=0;mt<T0.length;mt++)x[rt+mt|0]=T0[mt]}D++}}else{if(be[J0].charCodeAt(0)in S.whiteSpace){for(T0=f0();T0 in S.whiteSpace;){if(0>=T0)break e;T0=f0()}p0(T0)}else if(T0=f0(),be[J0].charCodeAt(0)!==T0){p0(T0);break e}J0++}}return D}function dc(me,Ce,Je){var j=0;return S(Ce,function(){return x[me+j++|0]},function(){j--},Je)}function ec(){var me=ec;if(!me.$){for(var Ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,8195,8194,8194,8194,8194,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,24577,49156,49156,49156,49156,49156,49156,49156,49156,49156,49156,49156,49156,49156,49156,49156,55304,55304,55304,55304,55304,55304,55304,55304,55304,55304,49156,49156,49156,49156,49156,49156,49156,54536,54536,54536,54536,54536,54536,50440,50440,50440,50440,50440,50440,50440,50440,50440,50440,50440,50440,50440,50440,50440,50440,50440,50440,50440,50440,49156,49156,49156,49156,49156,49156,54792,54792,54792,54792,54792,54792,50696,50696,50696,50696,50696,50696,50696,50696,50696,50696,50696,50696,50696,50696,50696,50696,50696,50696,50696,50696,49156,49156,49156,49156,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Je=W(2*Ce.length),j=0;j<Ce.length;j++)Z[Je+2*j>>1]=Ce[j];me.$=I([Je+256],"i16*",oa)}return me.$}function fc(){var me=fc;if(!me.$){for(var Ce=[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],Je=W(4*Ce.length),j=0;j<Ce.length;j++)u[Je+4*j>>2]=Ce[j];me.$=I([Je+512],"i32*",oa)}return me.$}function gc(){var me=gc;if(!me.$){for(var Ce=[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],Je=W(4*Ce.length),j=0;j<Ce.length;j++)u[Je+4*j>>2]=Ce[j];me.$=I([Je+512],"i32*",oa)}return me.$}function Ea(me){return me%4===0&&(me%100!==0||me%400===0)}function Sa(me,Ce){for(var Je=0,j=0;j<=Ce;Je+=me[j++]);return Je}function Fa(me,Ce){for(var Je=new Date(me.getTime());0<Ce;){var j=Je.getMonth(),be=(Ea(Je.getFullYear())?Ta:Ua)[j];if(Ce>be-Je.getDate())Ce-=be-Je.getDate()+1,Je.setDate(1),11>j?Je.setMonth(j+1):(Je.setMonth(0),Je.setFullYear(Je.getFullYear()+1));else{Je.setDate(Je.getDate()+Ce);break}}return Je}function hc(me,Ce,D,p0){function be(W0,pt,mt){for(W0=typeof W0=="number"?W0.toString():W0||"";W0.length<pt;)W0=mt[0]+W0;return W0}function r(W0,pt){return be(W0,pt,"0")}function We(W0,pt){var mt;return(mt=0>W0.getFullYear()-pt.getFullYear()?-1:0<W0.getFullYear()-pt.getFullYear()?1:0)==0&&(mt=0>W0.getMonth()-pt.getMonth()?-1:0<W0.getMonth()-pt.getMonth()?1:0)==0&&(mt=0>W0.getDate()-pt.getDate()?-1:0<W0.getDate()-pt.getDate()?1:0),mt}function f0(W0){switch(W0.getDay()){case 0:return new Date(W0.getFullYear()-1,11,29);case 1:return W0;case 2:return new Date(W0.getFullYear(),0,3);case 3:return new Date(W0.getFullYear(),0,2);case 4:return new Date(W0.getFullYear(),0,1);case 5:return new Date(W0.getFullYear()-1,11,31);case 6:return new Date(W0.getFullYear()-1,11,30)}}function it(pt){var pt=Fa(new Date(pt.P+1900,0,1),pt.oc),mt=f0(new Date(pt.getFullYear()+1,0,4));return 0>=We(f0(new Date(pt.getFullYear(),0,4)),pt)?0>=We(mt,pt)?pt.getFullYear()+1:pt.getFullYear():pt.getFullYear()-1}var p0={fg:u[p0>>2],eg:u[p0+4>>2],jb:u[p0+8>>2],Ta:u[p0+12>>2],Da:u[p0+16>>2],P:u[p0+20>>2],ye:u[p0+24>>2],oc:u[p0+28>>2],jj:u[p0+32>>2]},D=Y(D),rt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"},k0;for(k0 in rt)D=D.replace(RegExp(k0,"g"),rt[k0]);var T0="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),J0="January February March April May June July August September October November December".split(" "),rt={"%a":function(W0){return T0[W0.ye].substring(0,3)},"%A":function(W0){return T0[W0.ye]},"%b":function(W0){return J0[W0.Da].substring(0,3)},"%B":function(W0){return J0[W0.Da]},"%C":function(W0){return r(Math.floor((W0.P+1900)/100),2)},"%d":function(W0){return r(W0.Ta,2)},"%e":function(W0){return be(W0.Ta,2," ")},"%g":function(W0){return it(W0).toString().substring(2)},"%G":function(W0){return it(W0)},"%H":function(W0){return r(W0.jb,2)},"%I":function(W0){return r(13>W0.jb?W0.jb:W0.jb-12,2)},"%j":function(W0){return r(W0.Ta+Sa(Ea(W0.P+1900)?Ta:Ua,W0.Da-1),3)},"%m":function(W0){return r(W0.Da+1,2)},"%M":function(W0){return r(W0.eg,2)},"%n":U(`
`),"%p":function(W0){return 0<W0.jb&&13>W0.jb?"AM":"PM"},"%S":function(W0){return r(W0.fg,2)},"%t":U("	"),"%u":function(W0){return new Date(W0.P+1900,W0.Da+1,W0.Ta,0,0,0,0).getDay()||7},"%U":function(xt){var pt=new Date(xt.P+1900,0,1),mt=pt.getDay()===0?pt:Fa(pt,7-pt.getDay()),xt=new Date(xt.P+1900,xt.Da,xt.Ta);return 0>We(mt,xt)?r(Math.ceil((31-mt.getDate()+(Sa(Ea(xt.getFullYear())?Ta:Ua,xt.getMonth()-1)-31)+xt.getDate())/7),2):We(mt,pt)===0?"01":"00"},"%V":function(W0){var pt=f0(new Date(W0.P+1900,0,4)),mt=f0(new Date(W0.P+1901,0,4)),xt=Fa(new Date(W0.P+1900,0,1),W0.oc);return 0>We(xt,pt)?"53":0>=We(mt,xt)?"01":r(Math.ceil((pt.getFullYear()<W0.P+1900?W0.oc+32-pt.getDate():W0.oc+1-pt.getDate())/7),2)},"%w":function(W0){return new Date(W0.P+1900,W0.Da+1,W0.Ta,0,0,0,0).getDay()},"%W":function(xt){var pt=new Date(xt.P,0,1),mt=pt.getDay()===1?pt:Fa(pt,pt.getDay()===0?1:7-pt.getDay()+1),xt=new Date(xt.P+1900,xt.Da,xt.Ta);return 0>We(mt,xt)?r(Math.ceil((31-mt.getDate()+(Sa(Ea(xt.getFullYear())?Ta:Ua,xt.getMonth()-1)-31)+xt.getDate())/7),2):We(mt,pt)===0?"01":"00"},"%y":function(W0){return(W0.P+1900).toString().substring(2)},"%Y":function(W0){return W0.P+1900},"%z":U(""),"%Z":U(""),"%%":U("%")};for(k0 in rt)0<=D.indexOf(k0)&&(D=D.replace(RegExp(k0,"g"),rt[k0](p0)));return k0=X(D,G),k0.length>Ce?0:(eb(k0,me),k0.length-1)}function ic(me){return me==32||9<=me&&13>=me}function wb(me,Ce,Je,j,be,r){for(var We=G;ic(x[me]);)me++;x[me]==45?(me++,We=s):x[me]==43&&me++;var f0=G;Je?Je==16&&x[me]==48&&(x[me+1|0]==120||x[me+1|0]==88)&&(me+=2):x[me]==48&&(x[me+1|0]==120||x[me+1|0]==88?(Je=16,me+=2):(Je=8,f0=s)),Je||(Je=10);for(var it=me,p0;(p0=x[me])!=0&&!isNaN(parseInt(String.fromCharCode(p0),Je));)me++,f0=s;if(!f0)return P(i.C),k.setTempRet0(0),0|0;Ce&&(u[Ce>>2]=me);try{var D=We?"-"+Y(it,me-it):Y(it,me-it);za.N(D,Je,j,be,r)}catch{P(i.rd)}return k.setTempRet0(u[ja+4>>2]|0),u[ja>>2]|0|0}function jc(me,Ce,Je){return wb(me,Ce,Je,0,"18446744073709551615",s)}function kc(me,Ce,Je){return wb(me,Ce,Je,"-9223372036854775808","9223372036854775807")}function lc(me,Ce,Je){return Yb(-me,Ce,Je)}function mc(me){var Ce=mc;Ce.Xe||($=$+4095&-4096,Ce.Xe=s,K(t.Xb),Ce.Ve=t.Xb,t.Xb=function(){ga("cannot dynamically allocate, sbrk now has control")});var Je=$;return me!=0&&Ce.Ve(me),Je}function xb(me){this.name="ExitStatus",this.message="Program terminated with exit("+me+")",this.status=me}function yb(me){function Ce(){if(!e.calledRun){if(e.calledRun=s,Va||(Va=s,va(pa)),va(zb),e._main&&Ab&&e.callMain(me),e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Nb(e.postRun.shift());va(Ob)}}if(me=me||e.arguments,Wa===v&&(Wa=Date.now()),0<ia)e.Ca("run() called, but dependencies remain, so not running");else{if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Mb(e.preRun.shift());va(hb),!(0<ia)&&!e.calledRun&&(e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),qa||Ce()},1)):Ce())}}function nc(me){qa=s,aa=oc,va(Ga),l(new xb(me))}function ga(me){me&&(e.print(me),e.Ca(me)),qa=s,l("abort() at "+gb())}function Fb(){self.addEventListener("message",function(me){switch(me=me.data,me.cmd){case"stop":this.postMessage({cmd:"stopped"}),self.close();break;case"convert":me=db(me.data.chroma,me.data.y,me.data.u,me.data.v,me.data.w,me.data.h,me.data.stridey,me.data.strideu,me.data.stridev,me.data.bppy,me.data.bppu,me.data.bppv),this.postMessage({cmd:"converted",data:{image:me}})}},0)}function Gb(me,Ce,Je,j,be,r,We,f0,it,p0,D,k0){for(var T0,p0=it=0,j=j>>1,J0=j*be,rt=0,W0=0,pt=0,mt,xt,wt=0;wt<J0;wt++)xt=wt<<1,mt=it<<1,be=1.164*(me[rt+mt]-16),D=Ce[W0+it]-128,T0=Je[pt+it]-128,k0[(xt<<2)+0]=be+1.596*T0,k0[(xt<<2)+1]=be-.813*T0-.391*D,k0[(xt<<2)+2]=be+2.018*D,k0[(xt<<2)+3]=255,be=1.164*(me[rt+mt+1]-16),k0[(xt+1<<2)+0]=be+1.596*T0,k0[(xt+1<<2)+1]=be-.813*T0-.391*D,k0[(xt+1<<2)+2]=be+2.018*D,k0[(xt+1<<2)+3]=255,it++,it===j&&(it=0,p0++,rt+=r,W0=(p0>>1)*We,pt=(p0>>1)*f0)}function db(me,Ce,Je,j,be,r,We,f0,it,p0,D,k0,T0){switch(T0||(T0=new Uint8ClampedArray(4*be*r)),me){case 0:console.log("Chroma format not implemented yet",me,p0,D,k0);break;case 1:p0!==8||D!==8||k0!==8?console.log("Chroma format not implemented yet",me,p0,D,k0):Gb(Ce,Je,j,be,r,We,f0,it,0,0,0,T0);break;case 2:console.log("Chroma format not implemented yet",me,p0,D,k0);break;case 3:console.log("Chroma format not implemented yet",me,p0,D,k0);break;default:console.log("Unsupported chroma format",me,p0,D,k0)}return T0}var e={print:function(me){me=Array.prototype.slice.call(arguments).join(" "),console.log(me)},Ca:function(me){me=Array.prototype.slice.call(arguments).join(" "),console.error(me)},canvas:{},Ri:s},Xa={},ka;for(ka in e)e.hasOwnProperty(ka)&&(Xa[ka]=e[ka]);var ea=typeof process=="object"&&typeof require=="function",Ya=typeof window=="object",Bb=typeof importScripts=="function",wc=!Ya&&!ea&&!Bb;if(ea){e.print||(e.print=function(me){process.stdout.write(me+`
`)}),e.printErr||(e.printErr=function(me){process.stderr.write(me+`
`)});var pc=require("fs"),qc=require("path");e.read=function(Je,Ce){var Je=qc.normalize(Je),j=pc.readFileSync(Je);return!j&&Je!=qc.resolve(Je)&&(Je=path.join(__dirname,"..","src",Je),j=pc.readFileSync(Je)),j&&!Ce&&(j=j.toString()),j},e.readBinary=function(me){return e.read(me,s)},e.load=function(me){Hb(read(me))},e.arguments=process.argv.slice(2),module.exports=e}else wc?(e.print||(e.print=print),typeof printErr<"u"&&(e.printErr=printErr),e.read=typeof read<"u"?read:function(){l("no read() available (jsc?)")},e.readBinary=function(me){return read(me,"binary")},typeof scriptArgs<"u"?e.arguments=scriptArgs:typeof arguments<"u"&&(e.arguments=arguments),this.Module=e,eval("if (typeof gc === 'function' && gc.toString().indexOf('[native code]') > 0) var gc = undefined")):Ya||Bb?(e.read=function(me){var Ce=new XMLHttpRequest;return Ce.open("GET",me,G),Ce.send(v),Ce.responseText},typeof arguments<"u"&&(e.arguments=arguments),typeof console<"u"?(e.print||(e.print=function(me){console.log(me)}),e.printErr||(e.printErr=function(me){console.log(me)})):e.print||(e.print=H()),Ya?this.Module=e:e.load=importScripts):l("Unknown runtime environment. Where are we?");!e.load=="undefined"&&e.read&&(e.load=function(me){Hb(e.read(me))}),e.print||(e.print=H()),e.printErr||(e.printErr=e.print),e.arguments||(e.arguments=[]),e.print=e.print,e.Ca=e.printErr,e.preRun=[],e.postRun=[];for(ka in Xa)Xa.hasOwnProperty(ka)&&(e[ka]=Xa[ka]);var t={gd:function(){return aa},fd:function(me){aa=me},wi:function(me,Ce){return Ce=Ce||4,Ce==1?me:isNumber(me)&&isNumber(Ce)?Math.ceil(me/Ce)*Ce:isNumber(Ce)&&isPowerOfTwo(Ce)?"((("+me+")+"+(Ce-1)+")&"+-Ce+")":"Math.ceil(("+me+")/"+Ce+")*"+Ce},Hf:function(me){return me in t.Oe||me in t.Me},If:function(me){return me[me.length-1]=="*"},Kf:function(me){return isPointerType(me)?G:isArrayType(me)||/<?\{ ?[^}]* ?\}>?/.test(me)?s:me[0]=="%"},Oe:{i1:0,i8:0,i16:0,i32:0,i64:0},Me:{float:0,double:0},Ti:function(me,Ce){return(me|0|Ce|0)+4294967296*(Math.round(me/4294967296)|Math.round(Ce/4294967296))},ki:function(me,Ce){return((me|0)&(Ce|0))+4294967296*(Math.round(me/4294967296)&Math.round(Ce/4294967296))},tj:function(me,Ce){return((me|0)^(Ce|0))+4294967296*(Math.round(me/4294967296)^Math.round(Ce/4294967296))},Pc:function(me){switch(me){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:return me[me.length-1]==="*"?t.vc:me[0]==="i"?(me=parseInt(me.substr(1)),K(me%8===0),me/8):0}},Xd:function(me){return Math.max(t.Pc(me),t.vc)},nf:function(me,Ce){var Je={};return Ce?me.filter(function(j){return Je[j[Ce]]?G:Je[j[Ce]]=s}):me.filter(function(j){return Je[j]?G:Je[j]=s})},set:function(){for(var me=typeof arguments[0]=="object"?arguments[0]:arguments,Ce={},Je=0;Je<me.length;Je++)Ce[me[Je]]=0;return Ce},Wh:8,ya:function(me,Ce,Je){return Je||!Je&&(me=="i64"||me=="double")?8:me?Math.min(Ce||(me?t.Xd(me):0),t.vc):Math.min(Ce,8)},We:function(me){me.ca=0,me.Wa=0;var Ce=[],Je=-1;return me.Ud=me.Kc.map(function(j){var be,r;return t.Hf(j)||t.If(j)?(be=t.Pc(j),r=t.ya(j,be)):t.Kf(j)?j[1]==="0"?(be=0,r=Types.types[j]?t.ya(v,Types.types[j].Wa):me.Wa||QUANTUM_SIZE):(be=Types.types[j].ca,r=t.ya(v,Types.types[j].Wa)):j[0]=="b"?(be=j.substr(1)|0,r=1):j[0]==="<"?be=r=Types.types[j].ca:j[0]==="i"?(be=r=parseInt(j.substr(1))/8,K(be%1===0,"cannot handle non-byte-size field "+j)):K(G,"invalid type for calculateStructAlignment"),me.Ui&&(r=1),me.Wa=Math.max(me.Wa,r),j=t.rb(me.ca,r),me.ca=j+be,0<=Je&&Ce.push(j-Je),Je=j}),me.ke&&me.ke[0]==="["&&(me.ca=parseInt(me.ke.substr(1))*me.ca/2),me.ca=t.rb(me.ca,me.Wa),Ce.length==0?me.Td=me.ca:t.nf(Ce).length==1&&(me.Td=Ce[0]),me.Qi=me.Td!=1,me.Ud},xf:function(me,Ce,Je){var j,be;if(Ce){if(Je=Je||0,j=(typeof Types>"u"?t.lj:Types.types)[Ce],!j)return v;if(j.Kc.length!=me.length)return printErr("Number of named fields must match the type for "+Ce+": possibly duplicate struct names. Cannot return structInfo"),v;be=j.Ud}else j={Kc:me.map(function(We){return We[0]})},be=t.We(j);var r={ai:j.ca};return Ce?me.forEach(function(We,f0){if(typeof We=="string")r[We]=be[f0]+Je;else{var it,p0;for(p0 in We)it=p0;r[it]=t.xf(We[it],j.Kc[f0],be[f0])}}):me.forEach(function(We,f0){r[We[1]]=be[f0]}),r},Wb:function(me,Ce,Je){return Je&&Je.length?(Je.splice||(Je=Array.prototype.slice.call(Je)),Je.splice(0,0,Ce),e["dynCall_"+me].apply(v,Je)):e["dynCall_"+me].call(v,Ce)},$b:[],ci:function(me){for(var Ce=0;Ce<t.$b.length;Ce++)if(!t.$b[Ce])return t.$b[Ce]=me,2*(1+Ce);l("Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS.")},$i:function(me){t.$b[(me-2)/2]=v},zi:function(a,b){t.Bc||(t.Bc={});var c=t.Bc[a];if(c)return c;for(var c=[],f=0;f<b;f++)c.push("$"+f);return a=Y(a),a[0]==='"'&&(a.indexOf('"',1)===a.length-1?a=a.substr(1,a.length-2):ga("invalid EM_ASM input |"+a+"|. Please use EM_ASM(..code..) (no quotes) or EM_ASM({ ..code($0).. }, input) (to input values)")),t.Bc[a]=eval("(function("+c.join(",")+"){ "+a+" })")},rc:function(me){t.rc.cd||(t.rc.cd={}),t.rc.cd[me]||(t.rc.cd[me]=1,e.Ca(me))},Nc:{},Bi:function(me,Ce){return K(Ce),t.Nc[me]||(t.Nc[me]=function(){return t.Wb(Ce,me,arguments)}),t.Nc[me]},pb:function(){var me=[],Ce=0;this.kc=function(j){if(j&=255,me.length==0)return(j&128)==0?String.fromCharCode(j):(me.push(j),Ce=(j&224)==192?1:(j&240)==224?2:3,"");if(Ce&&(me.push(j),Ce--,0<Ce))return"";var j=me[0],be=me[1],r=me[2],We=me[3];return me.length==2?j=String.fromCharCode((j&31)<<6|be&63):me.length==3?j=String.fromCharCode((j&15)<<12|(be&63)<<6|r&63):(j=(j&7)<<18|(be&63)<<12|(r&63)<<6|We&63,j=String.fromCharCode(Math.floor((j-65536)/1024)+55296,(j-65536)%1024+56320)),me.length=0,j},this.oe=function(Je){for(var Je=unescape(encodeURIComponent(Je)),j=[],be=0;be<Je.length;be++)j.push(Je.charCodeAt(be));return j}},Ai:function(){l("You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work")},ed:function(me){var Ce=aa;return aa=aa+me|0,aa=aa+7&-8,Ce},we:function(me){var Ce=ra;return ra=ra+me|0,ra=ra+7&-8,Ce},Xb:function(me){var Ce=$;if($=$+me|0,$=$+7&-8,$>=ba){for(;ba<=$;)ba=2*ba+4095&-4096;K(ba<=Math.pow(2,30));var me=x,Je=new ArrayBuffer(ba);e.HEAP8=x=new Int8Array(Je),e.HEAP16=Z=new Int16Array(Je),e.HEAP32=u=new Int32Array(Je),e.HEAPU8=N=new Uint8Array(Je),e.HEAPU16=Za=new Uint16Array(Je),e.HEAPU32=$a=new Uint32Array(Je),e.HEAPF32=na=new Float32Array(Je),e.HEAPF64=ha=new Float64Array(Je),x.set(me),rc(x,Z,u,N,Za,$a,na,ha)}return Ce},rb:function(me,Ce){return Math.ceil(me/(Ce||8))*(Ce||8)},Nf:function(me,Ce,Je){return Je?+(me>>>0)+4294967296*+(Ce>>>0):+(me>>>0)+4294967296*+(Ce|0)},Lb:8,vc:4,$h:0};e.Runtime=t;var qa=G,V,sa;e.ccall=function(me,Ce,Je,j){return Jb(Ib(me),Ce,Je,j)},e.cwrap=E,e.setValue=Ja,e.getValue=ta;var oa=0,Xb=1,Q=2,ua=4;e.ALLOC_NORMAL=oa,e.ALLOC_STACK=Xb,e.ALLOC_STATIC=Q,e.ALLOC_DYNAMIC=3,e.ALLOC_NONE=ua,e.allocate=I,e.Pointer_stringify=Y,e.UTF16ToString=function(me){for(var Ce=0,Je="";;){var j=Z[me+2*Ce>>1];if(j==0)return Je;++Ce,Je+=String.fromCharCode(j)}},e.stringToUTF16=function(me,Ce){for(var Je=0;Je<me.length;++Je)Z[Ce+2*Je>>1]=me.charCodeAt(Je);Z[Ce+2*me.length>>1]=0},e.UTF32ToString=function(me){for(var Ce=0,Je="";;){var j=u[me+4*Ce>>2];if(j==0)return Je;++Ce,65536<=j?(j-=65536,Je+=String.fromCharCode(55296|j>>10,56320|j&1023)):Je+=String.fromCharCode(j)}},e.stringToUTF32=function(me,Ce){for(var Je=0,j=0;j<me.length;++j){var r=me.charCodeAt(j);if(55296<=r&&57343>=r)var be=me.charCodeAt(++j),r=65536+((r&1023)<<10)|be&1023;u[Ce+4*Je>>2]=r,++Je}u[Ce+4*Je>>2]=0};for(var x,N,Z,Za,u,$a,na,ha,sc=0,ra=0,tc=0,aa=0,Cb=0,uc=0,$=0,xc=e.TOTAL_STACK||5242880,ba=e.TOTAL_MEMORY||16777216,fa=4096;fa<ba||fa<2*xc;)fa=16777216>fa?2*fa:fa+16777216;fa!==ba&&(e.Ca("increasing TOTAL_MEMORY to "+fa+" to be more reasonable"),ba=fa),K(typeof Int32Array<"u"&&typeof Float64Array<"u"&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var da=new ArrayBuffer(ba);x=new Int8Array(da),Z=new Int16Array(da),u=new Int32Array(da),N=new Uint8Array(da),Za=new Uint16Array(da),$a=new Uint32Array(da),na=new Float32Array(da),ha=new Float64Array(da),u[0]=255,K(N[0]===255&&N[3]===0,"Typed arrays 2 must be run on a little-endian system"),e.HEAP=p,e.HEAP8=x,e.HEAP16=Z,e.HEAP32=u,e.HEAPU8=N,e.HEAPU16=Za,e.HEAPU32=$a,e.HEAPF32=na,e.HEAPF64=ha;var hb=[],pa=[],zb=[],Ga=[],Ob=[],Va=G;e.addOnPreRun=e.hi=Mb,e.addOnInit=e.ei=function(me){pa.unshift(me)},e.addOnPreMain=e.gi=function(me){zb.unshift(me)},e.addOnExit=e.di=function(me){Ga.unshift(me)},e.addOnPostRun=e.fi=Nb,e.intArrayFromString=X,e.intArrayToString=function(me){for(var Ce=[],Je=0;Je<me.length;Je++){var j=me[Je];255<j&&(j&=255),Ce.push(String.fromCharCode(j))}return Ce.join("")},e.writeStringToMemory=function(me,Ce,Je){for(me=X(me,Je),Je=0;Je<me.length;)x[Ce+Je|0]=me[Je],Je+=1},e.writeArrayToMemory=eb,e.writeAsciiToMemory=Pb,Math.imul=function(me,Ce){return me*Ce|0},Math.Ei=Math.imul;var fb=Math.abs,Lb=Math.ceil,Kb=Math.floor,Ka=Math.min,ia=0,Ca=v;e.addRunDependency=Rb,e.removeRunDependency=jb,e.preloadedImages={},e.preloadedAudios={};var sc=8,ra=sc+51944,Aa;Aa=Aa=I(1,"i32*",Q);var Ha;Ha=Ha=I(1,"i32*",Q);var Ia;Ia=Ia=I(1,"i32*",Q),pa.push({qa:function(){yc()}},{qa:function(){zc()}});var Db;Db=Db=I(1,"i32*",Q);var ob;ob=I([0,0,0,0,160,105,0,0,250,0,0,0,172,0,0,0,70,0,0,0,178,0,0,0,8,0,0,0,10,0,0,0,6,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0],"i8",Q);var nb;nb=I([0,0,0,0,176,105,0,0,250,0,0,0,38,1,0,0,70,0,0,0,178,0,0,0,8,0,0,0,28,0,0,0,8,0,0,0,22,0,0,0,0,0,0,0,0,0,0,0],"i8",Q);var Eb;Eb=Eb=I([I([1,0,0,0,0,0,0],"i8",Q)+8,0],"i32",Q),I([29,0,0,0,30,0,0,0,31,0,0,0,32,0,0,0,33,0,0,0,33,0,0,0,34,0,0,0,34,0,0,0,35,0,0,0,35,0,0,0,36,0,0,0,36,0,0,0,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,0,0,0,26,0,0,0,21,0,0,0,17,0,0,0,13,0,0,0,9,0,0,0,5,0,0,0,2,0,0,0,0,0,0,0,254,255,255,255,251,255,255,255,247,255,255,255,243,255,255,255,239,255,255,255,235,255,255,255,230,255,255,255,224,255,255,255,230,255,255,255,235,255,255,255,239,255,255,255,243,255,255,255,247,255,255,255,251,255,255,255,254,255,255,255,0,0,0,0,2,0,0,0,5,0,0,0,9,0,0,0,13,0,0,0,17,0,0,0,21,0,0,0,26,0,0,0,32,0,0,0,0,0,0,0,95,112,137,0,255,9,47,15,10,0,0,0,100,0,0,0,232,3,0,0,16,39,0,0,160,134,1,0,64,66,15,0,128,150,152,0,0,225,245,5,111,118,101,114,115,99,97,110,95,97,112,112,114,111,112,114,105,97,116,101,95,102,108,97,103,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,74,117,108,0,0,0,0,0,118,112,115,95,109,97,120,95,115,117,98,95,108,97,121,101,114,115,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,80,80,83,32,37,100,32,104,97,115,32,110,111,116,32,98,101,101,110,32,114,101,97,100,10,0,0,0,0,0,0,0,74,117,110,0,0,0,0,0,52,58,50,58,48,0,0,0,65,112,114,0,0,0,0,0,77,97,114,0,0,0,0,0,70,101,98,0,0,0,0,0,99,111,110,116,101,120,116,32,62,61,32,48,32,38,38,32,99,111,110,116,101,120,116,32,60,61,32,50,0,0,0,0,108,111,103,50,95,115,97,111,95,111,102,102,115,101,116,95,115,99,97,108,101,95,99,104,114,111,109,97,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,99,97,110,110,111,116,32,115,116,97,114,116,32,100,101,99,111,100,105,110,103,32,116,104,114,101,97,100,115,0,0,0,74,97,110,0,0,0,0,0,102,97,108,115,101,0,0,0,46,46,47,108,105,98,100,101,50,54,53,47,105,109,97,103,101,46,104,0,0,0,0,0,117,110,105,116,88,32,62,61,32,48,32,38,38,32,117,110,105,116,88,32,60,32,119,105,100,116,104,95,105,110,95,117,110,105,116,115,0,0,0,0,42,114,101,102,99,110,116,62,49,0,0,0,0,0,0,0,68,101,99,101,109,98,101,114,0,0,0,0,0,0,0,0,105,100,120,60,105,110,116,114,97,80,114,101,100,77,111,100,101,67,46,100,97,116,97,95,115,105,122,101,0,0,0,0,99,111,109,112,111,110,101,110,116,0,0,0,0,0,0,0,78,111,118,101,109,98,101,114,0,0,0,0,0,0,0,0,121,60,115,112,115,46,80,105,99,72,101,105,103,104,116,73,110,77,105,110,80,85,115,0,79,99,116,111,98,101,114,0,117,110,115,117,112,112,111,114,116,101,100,32,108,111,99,97,108,101,32,102,111,114,32,115,116,97,110,100,97,114,100,32,105,110,112,117,116,0,0,0,120,60,115,112,115,46,80,105,99,87,105,100,116,104,73,110,77,105,110,80,85,115,0,0,83,101,112,116,101,109,98,101,114,0,0,0,0,0,0,0,117,110,105,116,89,32,62,61,32,48,32,38,38,32,117,110,105,116,89,32,60,32,104,101,105,103,104,116,95,105,110,95,117,110,105,116,115,0,0,0,111,118,101,114,115,99,97,110,95,105,110,102,111,95,112,114,101,115,101,110,116,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,0,0,0,65,117,103,117,115,116,0,0,46,46,47,108,105,98,100,101,50,54,53,47,105,109,97,103,101,46,104,0,0,0,0,0,118,112,115,95,109,97,120,95,108,97,121,101,114,115,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,104,100,114,45,62,110,117,109,95,114,101,102,95,105,100,120,95,108,49,95,97,99,116,105,118,101,32,60,61,32,49,54,0,0,0,0,0,0,0,0,74,117,108,121,0,0,0,0,117,110,105,116,88,32,62,61,32,48,32,38,38,32,117,110,105,116,88,32,60,32,119,105,100,116,104,95,105,110,95,117,110,105,116,115,0,0,0,0,74,117,110,101,0,0,0,0,109,111,110,111,99,104,114,111,109,101,0,0,0,0,0,0,77,97,121,0,0,0,0,0,65,112,114,105,108,0,0,0,115,108,105,99,101,45,115,101,103,109,101,110,116,45,37,100,59,37,100,0,0,0,0,0,108,111,103,50,95,115,97,111,95,111,102,102,115,101,116,95,115,99,97,108,101,95,108,117,109,97,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,68,80,66,47,111,117,116,112,117,116,32,113,117,101,117,101,32,102,117,108,108,0,0,0,69,82,82,58,32,0,0,0,77,97,114,99,104,0,0,0,99,116,98,45,114,111,119,45,37,100,0,0,0,0,0,0,117,110,105,116,88,32,62,61,32,48,32,38,38,32,117,110,105,116,88,32,60,32,119,105,100,116,104,95,105,110,95,117,110,105,116,115,0,0,0,0,70,101,98,114,117,97,114,121,0,0,0,0,0,0,0,0,37,112,32,97,115,115,105,103,110,32,61,32,37,112,10,0,98,97,115,105,99,95,115,116,114,105,110,103,0,0,0,0,33,40,116,114,97,102,111,68,101,112,116,104,61,61,48,32,38,38,32,108,111,103,50,84,114,97,102,111,83,105,122,101,61,61,50,41,0,0,0,0,74,97,110,117,97,114,121,0,80,114,101,100,77,111,100,101,32,61,61,32,99,117,80,114,101,100,77,111,100,101,0,0,99,98,102,95,108,117,109,97,32,33,61,32,45,49,0,0,68,0,0,0,101,0,0,0,99,0,0,0,0,0,0,0,99,98,102,95,99,114,32,33,61,32,45,49,0,0,0,0,108,101,110,103,116,104,32,62,61,32,48,0,0,0,0,0,99,97,98,97,99,95,98,121,112,97,115,115,95,97,108,105,103,110,109,101,110,116,95,101,110,97,98,108,101,100,95,102,108,97,103,32,32,32,32,32,58,32,37,100,10,0,0,0,115,97,109,112,108,101,32,97,115,112,101,99,116,32,114,97,116,105,111,32,32,32,32,32,32,32,32,58,32,37,100,58,37,100,10,0,0,0,0,0,78,0,0,0,111,0,0,0,118,0,0,0,0,0,0,0,99,98,102,95,99,98,32,33,61,32,45,49,0,0,0,0,112,101,114,115,105,115,116,101,110,116,95,114,105,99,101,95,97,100,97,112,116,97,116,105,111,110,95,101,110,97,98,108,101,100,95,102,108,97,103,32,58,32,37,100,10,0,0,0,118,105,100,101,111,95,112,97,114,97,109,101,116,101,114,95,115,101,116,95,105,100,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,104,100,114,45,62,110,117,109,95,114,101,102,95,105,100,120,95,108,48,95,97,99,116,105,118,101,32,60,61,32,49,54,0,0,0,0,0,0,0,0,79,0,0,0,99,0,0,0,116,0,0,0,0,0,0,0,99,116,120,73,100,120,76,111,111,107,117,112,91,108,111,103,50,119,45,50,93,91,99,73,100,120,93,91,115,99,97,110,73,100,120,93,91,112,114,101,118,67,115,98,102,93,91,120,67,43,40,121,67,60,60,108,111,103,50,119,41,93,32,61,61,32,99,116,120,73,100,120,73,110,99,0,0,0,0,0,104,105,103,104,95,112,114,101,99,105,115,105,111,110,95,111,102,102,115,101,116,115,95,101,110,97,98,108,101,100,95,102,108,97,103,32,32,32,32,32,58,32,37,100,10,0,0,0,105,110,105,116,84,121,112,101,32,62,61,32,48,32,38,38,32,105,110,105,116,84,121,112,101,32,60,61,32,50,0,0,100,101,98,108,111,99,107,45,37,100,0,0,0,0,0,0,83,0,0,0,101,0,0,0,112,0,0,0,0,0,0,0,99,104,114,111,109,97,95,102,111,114,109,97,116,95,105,100,99,32,32,32,32,32,32,32,58,32,37,100,32,40,37,115,41,10,0,0,0,0,0,0,116,104,114,101,97,100,95,99,111,110,116,101,120,116,115,61,61,78,85,76,76,0,0,0,105,110,116,114,97,95,115,109,111,111,116,104,105,110,103,95,100,105,115,97,98,108,101,100,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,65,0,0,0,117,0,0,0,103,0,0,0,0,0,0,0,101,110,116,114,121,32,112,111,105,110,116,32,91,37,105,93,32,58,32,37,100,10,0,0,101,120,116,101,110,100,101,100,95,112,114,101,99,105,115,105,111,110,95,112,114,111,99,101,115,115,105,110,103,95,102,108,97,103,32,32,32,32,32,32,58,32,37,100,10,0,0,0,74,0,0,0,117,0,0,0,108,0,0,0,0,0,0,0,111,102,102,115,101,116,95,108,101,110,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,99,114,95,113,112,95,111,102,102,115,101,116,95,108,105,115,116,91,37,100,93,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,101,120,112,108,105,99,105,116,95,114,100,112,99,109,95,101,110,97,98,108,101,100,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,99,111,100,101,100,32,112,97,114,97,109,101,116,101,114,32,111,117,116,32,111,102,32,114,97,110,103,101,0,0,0,0,74,0,0,0,117,0,0,0,110,0,0,0,0,0,0,0,110,117,109,95,101,110,116,114,121,95,112,111,105,110,116,95,111,102,102,115,101,116,115,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,110,117,109,77,86,80,67,97,110,100,76,88,61,61,50,0,105,109,112,108,105,99,105,116,95,114,100,112,99,109,95,101,110,97,98,108,101,100,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,110,84,104,114,101,97,100,115,82,117,110,110,105,110,103,32,62,61,32,48,0,0,0,0,77,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,99,111,110,116,101,120,116,109,111,100,101,108,46,99,99,0,115,108,105,99,101,95,108,111,111,112,95,102,105,108,116,101,114,95,97,99,114,111,115,115,95,115,108,105,99,101,115,95,101,110,97,98,108,101,100,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,0,116,114,97,110,115,102,111,114,109,95,115,107,105,112,95,99,111,110,116,101,120,116,95,101,110,97,98,108,101,100,95,102,108,97,103,32,32,32,32,32,58,32,37,100,10,0,0,0,65,0,0,0,112,0,0,0,114,0,0,0,0,0,0,0,115,108,105,99,101,95,116,99,95,111,102,102,115,101,116,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,116,114,97,110,115,102,111,114,109,95,115,107,105,112,95,114,111,116,97,116,105,111,110,95,101,110,97,98,108,101,100,95,102,108,97,103,32,32,32,32,58,32,37,100,10,0,0,0,77,0,0,0,97,0,0,0,114,0,0,0,0,0,0,0,115,108,105,99,101,95,98,101,116,97,95,111,102,102,115,101,116,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,32,83,80,83,45,114,97,110,103,101,45,101,120,116,101,110,115,105,111,110,32,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,10,0,0,0,0,0,0,0,0,114,101,102,60,55,0,0,0,70,0,0,0,101,0,0,0,98,0,0,0,0,0,0,0,40,102,114,111,109,32,112,112,115,41,0,0,0,0,0,0,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,32,86,85,73,32,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,10,0,0,0,0,0,0,0,0,74,0,0,0,97,0,0,0,110,0,0,0,0,0,0,0,40,111,118,101,114,114,105,100,101,41,0,0,0,0,0,0,115,99,97,108,105,110,103,95,108,105,115,116,95,112,114,101,100,95,109,97,116,114,105,120,95,105,100,95,100,101,108,116,97,61,61,49,0,0,0,0,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,32,86,80,83,32,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,10,0,0,0,0,0,0,0,0,117,110,105,116,89,32,62,61,32,48,32,38,38,32,117,110,105,116,89,32,60,32,104,101,105,103,104,116,95,105,110,95,117,110,105,116,115,0,0,0,68,0,0,0,101,0,0,0,99,0,0,0,101,0,0,0,109,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,0,0,0,0,105,100,120,62,61,48,0,0,115,108,105,99,101,95,100,101,98,108,111,99,107,105,110,103,95,102,105,108,116,101,114,95,100,105,115,97,98,108,101,100,95,102,108,97,103,32,58,32,37,100,32,37,115,10,0,0,48,0,0,0,0,0,0,0,100,101,98,108,111,99,107,105,110,103,95,102,105,108,116,101,114,95,111,118,101,114,114,105,100,101,95,102,108,97,103,32,58,32,37,100,10,0,0,0,78,0,0,0,111,0,0,0,118,0,0,0,101,0,0,0,109,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,0,0,0,0,115,101,113,95,112,97,114,97,109,101,116,101,114,95,115,101,116,95,105,100,32,32,32,32,58,32,37,100,10,0,0,0,114,101,102,80,105,99,81,48,61,61,114,101,102,80,105,99,81,49,0,0,0,0,0,0,83,117,98,72,101,105,103,104,116,67,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,79,0,0,0,99,0,0,0,116,0,0,0,111,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,105,110,102,105,110,105,116,121,0,0,0,0,0,0,0,0,115,108,105,99,101,95,99,114,95,113,112,95,111,102,102,115,101,116,32,32,32,32,32,58,32,37,100,10,0,0,0,0,83,117,98,87,105,100,116,104,67,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,83,0,0,0,101,0,0,0,112,0,0,0,116,0,0,0,101,0,0,0,109,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,115,108,105,99,101,95,99,98,95,113,112,95,111,102,102,115,101,116,32,32,32,32,32,58,32,37,100,10,0,0,0,0,99,98,95,113,112,95,111,102,102,115,101,116,95,108,105,115,116,91,37,100,93,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,80,105,99,72,101,105,103,104,116,73,110,67,116,98,115,89,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,111,117,116,32,111,102,32,109,101,109,111,114,121,0,0,0,65,0,0,0,117,0,0,0,103,0,0,0,117,0,0,0,115,0,0,0,116,0,0,0,0,0,0,0,0,0,0,0,115,108,105,99,101,95,113,112,95,100,101,108,116,97,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,114,101,102,73,100,120,66,62,61,48,0,0,0,0,0,0,117,110,105,116,89,32,62,61,32,48,32,38,38,32,117,110,105,116,89,32,60,32,104,101,105,103,104,116,95,105,110,95,117,110,105,116,115,0,0,0,80,105,99,87,105,100,116,104,73,110,67,116,98,115,89,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,101,110,100,32,37,32,50,32,61,61,32,48,0,0,0,0,74,0,0,0,117,0,0,0,108,0,0,0,121,0,0,0,0,0,0,0,0,0,0,0,114,101,102,99,110,116,0,0,102,105,118,101,95,109,105,110,117,115,95,109,97,120,95,110,117,109,95,109,101,114,103,101,95,99,97,110,100,32,32,58,32,37,100,10,0,0,0,0,77,97,120,84,66,83,105,122,101,89,32,32,32,58,32,37,100,10,0,0,0,0,0,0,74,0,0,0,117,0,0,0,110,0,0,0,101,0,0,0,0,0,0,0,0,0,0,0,67,104,114,111,109,97,79,102,102,115,101,116,95,76,37,100,91,37,100,93,91,37,100,93,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,77,105,110,84,66,83,105,122,101,89,32,32,32,58,32,37,100,10,0,0,0,0,0,0,67,104,114,111,109,97,87,101,105,103,104,116,95,76,37,100,91,37,100,93,91,37,100,93,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,77,97,120,67,98,83,105,122,101,89,32,32,32,58,32,37,100,10,0,0,0,0,0,0,108,117,109,97,95,111,102,102,115,101,116,95,108,37,100,91,37,100,93,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,65,0,0,0,112,0,0,0,114,0,0,0,105,0,0,0,108,0,0,0,0,0,0,0,77,105,110,67,98,83,105,122,101,89,32,32,32,58,32,37,100,10,0,0,0,0,0,0,76,117,109,97,87,101,105,103,104,116,95,76,37,100,91,37,100,93,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,117,110,115,112,101,99,105,102,105,101,100,0,0,0,0,0,77,0,0,0,97,0,0,0,114,0,0,0,99,0,0,0,104,0,0,0,0,0,0,0,76,111,103,50,77,97,120,84,114,97,110,115,102,111,114,109,83,107,105,112,83,105,122,101,32,32,32,32,40,82,69,120,116,41,32,58,32,37,100,10,0,0,0,0,0,0,0,0,67,116,98,83,105,122,101,89,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,67,104,114,111,109,97,76,111,103,50,87,101,105,103,104,116,68,101,110,111,109,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,46,46,47,108,105,98,100,101,50,54,53,47,105,109,97,103,101,46,104,0,0,0,0,0,99,116,120,45,62,100,112,98,46,104,97,115,95,102,114,101,101,95,100,112,98,95,112,105,99,116,117,114,101,40,116,114,117,101,41,0,0,0,0,0,70,0,0,0,101,0,0,0,98,0,0,0,114,0,0,0,117,0,0,0,97,0,0,0,114,0,0,0,121,0,0,0,0,0,0,0,0,0,0,0,76,111,103,50,77,105,110,67,117,67,104,114,111,109,97,81,112,79,102,102,115,101,116,83,105,122,101,32,40,82,69,120,116,41,32,58,32,37,100,10,0,0,0,0,0,0,0,0,115,112,115,95,101,120,116,101,110,115,105,111,110,95,54,98,105,116,115,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,108,117,109,97,95,108,111,103,50,95,119,101,105,103,104,116,95,100,101,110,111,109,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,117,110,105,116,89,32,62,61,32,48,32,38,38,32,117,110,105,116,89,32,60,32,104,101,105,103,104,116,95,105,110,95,117,110,105,116,115,0,0,0,74,0,0,0,97,0,0,0,110,0,0,0,117,0,0,0,97,0,0,0,114,0,0,0,121,0,0,0,0,0,0,0,115,112,115,95,116,101,109,112,111,114,97,108,95,105,100,95,110,101,115,116,105,110,103,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,0,76,111,103,50,77,105,110,67,117,81,112,68,101,108,116,97,83,105,122,101,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,115,112,115,95,109,117,108,116,105,108,97,121,101,114,95,101,120,116,101,110,115,105,111,110,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,99,111,108,108,111,99,97,116,101,100,95,114,101,102,95,105,100,120,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,112,112,115,95,101,120,116,101,110,115,105,111,110,95,54,98,105,116,115,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,115,112,115,95,114,97,110,103,101,95,101,120,116,101,110,115,105,111,110,95,102,108,97,103,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,99,111,108,108,111,99,97,116,101,100,95,102,114,111,109,95,108,48,95,102,108,97,103,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,80,77,0,0,0,0,0,0,112,112,115,95,109,117,108,116,105,108,97,121,101,114,95,101,120,116,101,110,115,105,111,110,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,99,104,114,111,109,97,95,113,112,95,111,102,102,115,101,116,95,108,105,115,116,95,108,101,110,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,115,112,115,95,101,120,116,101,110,115,105,111,110,95,112,114,101,115,101,110,116,95,102,108,97,103,32,32,32,32,58,32,37,100,10,0,0,0,0,0,99,97,98,97,99,95,105,110,105,116,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,67,84,66,32,111,117,116,115,105,100,101,32,111,102,32,105,109,97,103,101,32,97,114,101,97,0,0,0,0,0,0,0,65,77,0,0,0,0,0,0,82,73,100,120,62,61,48,0,112,112,115,95,114,97,110,103,101,95,101,120,116,101,110,115,105,111,110,95,102,108,97,103,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,114,101,102,80,105,99,76,105,115,116,62,61,48,0,0,0,46,46,47,108,105,98,100,101,50,54,53,47,105,109,97,103,101,46,104,0,0,0,0,0,118,117,105,95,112,97,114,97,109,101,116,101,114,115,95,112,114,101,115,101,110,116,95,102,108,97,103,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,109,118,100,95,108,49,95,122,101,114,111,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,102,105,114,115,116,32,37,32,50,32,61,61,32,48,0,0,112,112,115,95,101,120,116,101,110,115,105,111,110,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,37,112,32,100,101,99,111,117,112,108,101,32,40,37,112,41,10,0,0,0,0,0,0,0,115,116,114,111,110,103,95,105,110,116,114,97,95,115,109,111,111,116,104,105,110,103,95,101,110,97,98,108,101,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,0,0,0,114,101,102,95,112,105,99,95,108,105,115,116,95,109,111,100,105,102,105,99,97,116,105,111,110,95,102,108,97,103,95,108,49,32,58,32,37,100,10,0,80,0,0,0,77,0,0,0,0,0,0,0,0,0,0,0,115,108,105,99,101,95,115,101,103,109,101,110,116,95,104,101,97,100,101,114,95,101,120,116,101,110,115,105,111,110,95,112,114,101,115,101,110,116,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,0,0,115,112,115,95,116,101,109,112,111,114,97,108,95,109,118,112,95,101,110,97,98,108,101,100,95,102,108,97,103,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,32,32,37,100,58,32,37,100,10,0,0,0,0,0,0,0,65,0,0,0,77,0,0,0,0,0,0,0,0,0,0,0,110,117,109,95,101,120,116,114,97,95,115,108,105,99,101,95,104,101,97,100,101,114,95,98,105,116,115,32,32,32,32,58,32,37,100,10,0,0,0,0,40,117,110,107,110,111,119,110,41,0,0,0,0,0,0,0,108,116,95,114,101,102,95,112,105,99,95,112,111,99,95,108,115,98,95,115,112,115,91,37,100,93,32,58,32,37,100,32,32,32,40,117,115,101,100,95,98,121,95,99,117,114,114,95,112,105,99,95,108,116,95,115,112,115,95,102,108,97,103,61,37,100,41,10,0,0,0,0,114,101,102,95,112,105,99,95,108,105,115,116,95,109,111,100,105,102,105,99,97,116,105,111,110,95,102,108,97,103,95,108,48,32,58,32,37,100,10,0,108,111,103,50,95,112,97,114,97,108,108,101,108,95,109,101,114,103,101,95,108,101,118,101,108,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,70,111,114,109,97,116,82,97,110,103,101,69,120,116,101,110,115,105,111,110,115,0,0,0,110,117,109,95,108,111,110,103,95,116,101,114,109,95,114,101,102,95,112,105,99,115,95,115,112,115,32,58,32,37,100,10,0,0,0,0,0,0,0,0,110,117,109,95,114,101,102,95,105,100,120,95,108,49,95,97,99,116,105,118,101,32,32,32,32,32,32,32,32,32,32,58,32,37,100,32,37,115,10,0,108,105,115,116,115,95,109,111,100,105,102,105,99,97,116,105,111,110,95,112,114,101,115,101,110,116,95,102,108,97,103,58,32,37,100,10,0,0,0,0,77,65,67,0,0,0,0,0,99,104,97,110,110,101,108,62,61,48,32,38,38,32,99,104,97,110,110,101,108,32,60,61,32,50,0,0,0,0,0,0,77,97,105,110,83,116,105,108,108,80,105,99,116,117,114,101,0,0,0,0,0,0,0,0,108,111,110,103,95,116,101,114,109,95,114,101,102,95,112,105,99,115,95,112,114,101,115,101,110,116,95,102,108,97,103,32,58,32,37,100,10,0,0,0,40,102,114,111,109,32,80,80,83,41,0,0,0,0,0,0,112,105,99,95,115,99,97,108,105,110,103,95,108,105,115,116,95,100,97,116,97,95,112,114,101,115,101,110,116,95,102,108,97,103,58,32,37,100,10,0,117,110,105,116,88,32,62,61,32,48,32,38,38,32,117,110,105,116,88,32,60,32,119,105,100,116,104,95,105,110,95,117,110,105,116,115,0,0,0,0,110,97,108,0,0,0,0,0,45,45,45,45,45,45,45,45,45,45,32,80,80,83,32,114,97,110,103,101,45,101,120,116,101,110,115,105,111,110,32,45,45,45,45,45,45,45,45,45,45,10,0,0,0,0,0,0,100,101,50,54,53,46,99,99,0,0,0,0,0,0,0,0,77,97,105,110,49,48,0,0,114,101,102,95,112,105,99,95,115,101,116,91,32,37,50,100,32,93,58,32,0,0,0,0,116,99,95,111,102,102,115,101,116,58,32,32,32,32,37,100,10,0,0,0,0,0,0,0,46,46,47,108,105,98,100,101,50,54,53,47,105,109,97,103,101,46,104,0,0,0,0,0,115,112,115,95,109,97,120,95,115,117,98,95,108,97,121,101,114,115,32,32,32,32,32,32,58,32,37,100,10,0,0,0,102,97,108,115,101,0,0,0,77,97,105,110,0,0,0,0,110,117,109,95,115,104,111,114,116,95,116,101,114,109,95,114,101,102,95,112,105,99,95,115,101,116,115,32,58,32,37,100,10,0,0,0,0,0,0,0,110,117,109,95,114,101,102,95,105,100,120,95,108,48,95,97,99,116,105,118,101,32,32,32,32,32,32,32,32,32,32,58,32,37,100,32,37,115,10,0,98,101,116,97,95,111,102,102,115,101,116,58,32,32,37,100,10,0,0,0,0,0,0,0,117,110,107,110,111,119,110,32,101,114,114,111,114,0,0,0,112,99,109,95,108,111,111,112,95,102,105,108,116,101,114,95,100,105,115,97,98,108,101,95,102,108,97,103,32,32,58,32,37,100,10,0,0,0,0,0,112,101,110,100,105,110,103,95,105,110,112,117,116,95,78,65,76,32,61,61,32,78,85,76,76,0,0,0,0,0,0,0,110,117,109,95,114,101,102,95,105,100,120,95,97,99,116,105,118,101,95,111,118,101,114,114,105,100,101,95,102,108,97,103,32,58,32,37,100,10,0,0,115,97,111,45,37,100,0,0,112,105,99,95,100,105,115,97,98,108,101,95,100,101,98,108,111,99,107,105,110,103,95,102,105,108,116,101,114,95,102,108,97,103,58,32,37,100,10,0,99,111,108,108,111,99,97,116,101,100,32,109,111,116,105,111,110,45,118,101,99,116,111,114,32,105,115,32,111,117,116,115,105,100,101,32,105,109,97,103,101,32,97,114,101,97,0,0,32,32,80,114,111,102,105,108,101,47,84,105,101,114,47,76,101,118,101,108,32,91,76,97,121,101,114,32,37,100,93,10,0,0,0,0,0,0,0,0,100,105,102,102,95,99,117,95,99,104,114,111,109,97,95,113,112,95,111,102,102,115,101,116,95,100,101,112,116,104,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,108,111,103,50,95,100,105,102,102,95,109,97,120,95,109,105,110,95,112,99,109,95,108,117,109,97,95,99,111,100,105,110,103,95,98,108,111,99,107,95,115,105,122,101,32,58,32,37,100,10,0,0,0,0,0,0,115,108,105,99,101,95,115,97,111,95,99,104,114,111,109,97,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,100,101,98,108,111,99,107,105,110,103,95,102,105,108,116,101,114,95,111,118,101,114,114,105,100,101,95,101,110,97,98,108,101,100,95,102,108,97,103,58,32,37,100,10,0,0,0,0,105,109,97,103,101,32,99,104,101,99,107,115,117,109,32,109,105,115,109,97,116,99,104,0,83,80,83,32,104,101,97,100,101,114,32,109,105,115,115,105,110,103,44,32,99,97,110,110,111,116,32,100,101,99,111,100,101,32,83,69,73,0,0,0,32,32,37,115,95,108,101,118,101,108,95,105,100,99,32,32,32,32,32,32,32,32,32,58,32,37,100,32,40,37,52,46,50,102,41,10,0,0,0,0,117,110,105,116,88,32,62,61,32,48,32,38,38,32,117,110,105,116,88,32,60,32,119,105,100,116,104,95,105,110,95,117,110,105,116,115,0,0,0,0,108,111,103,50,95,109,105,110,95,112,99,109,95,108,117,109,97,95,99,111,100,105,110,103,95,98,108,111,99,107,95,115,105,122,101,32,58,32,37,100,10,0,0,0,0,0,0,0,115,108,105,99,101,95,115,97,111,95,108,117,109,97,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,115,116,100,58,58,98,97,100,95,99,97,115,116,0,0,0,100,101,98,108,111,99,107,105,110,103,95,102,105,108,116,101,114,95,99,111,110,116,114,111,108,95,112,114,101,115,101,110,116,95,102,108,97,103,58,32,37,100,10,0,0,0,0,0,102,97,108,115,101,0,0,0,99,97,110,110,111,116,32,97,112,112,108,121,32,83,65,79,32,98,101,99,97,117,115,101,32,119,101,32,114,97,110,32,111,117,116,32,111,102,32,109,101,109,111,114,121,0,0,0,32,32,108,111,103,50,95,109,97,120,95,109,118,95,108,101,110,103,116,104,95,118,101,114,116,105,99,97,108,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,32,32,32,32,37,115,95,102,114,97,109,101,95,111,110,108,121,95,99,111,110,115,116,114,97,105,110,116,95,102,108,97,103,32,58,32,37,100,10,0,37,112,32,114,101,108,101,97,115,101,32,37,112,10,0,0,112,99,109,95,115,97,109,112,108,101,95,98,105,116,95,100,101,112,116,104,95,99,104,114,111,109,97,32,32,32,58,32,37,100,10,0,0,0,0,0,115,108,105,99,101,95,116,101,109,112,111,114,97,108,95,109,118,112,95,101,110,97,98,108,101,100,95,102,108,97,103,32,58,32,37,100,10,0,0,0,112,112,115,95,108,111,111,112,95,102,105,108,116,101,114,95,97,99,114,111,115,115,95,115,108,105,99,101,115,95,101,110,97,98,108,101,100,95,102,108,97,103,58,32,37,100,10,0,110,111,110,45,101,120,105,115,116,105,110,103,32,108,111,110,103,45,116,101,114,109,32,114,101,102,101,114,101,110,99,101,32,99,97,110,100,105,100,97,116,101,32,115,112,101,99,105,102,105,101,100,32,105,110,32,115,108,105,99,101,32,104,101,97,100,101,114,0,0,0,0,32,32,108,111,103,50,95,109,97,120,95,109,118,95,108,101,110,103,116,104,95,104,111,114,105,122,111,110,116,97,108,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,32,32,32,32,37,115,95,110,111,110,95,112,97,99,107,101,100,95,99,111,110,115,116,114,97,105,110,116,95,102,108,97,103,32,58,32,37,100,10,0,112,99,109,95,115,97,109,112,108,101,95,98,105,116,95,100,101,112,116,104,95,108,117,109,97,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,110,117,109,95,108,111,110,103,95,116,101,114,109,95,112,105,99,115,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,108,111,111,112,95,102,105,108,116,101,114,95,97,99,114,111,115,115,95,116,105,108,101,115,95,101,110,97,98,108,101,100,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,110,117,109,98,101,114,32,111,102,32,116,104,114,101,97,100,115,32,108,105,109,105,116,101,100,32,116,111,32,109,97,120,105,109,117,109,32,97,109,111,117,110,116,0,0,0,0,0,32,32,109,97,120,95,98,105,116,115,95,112,101,114,95,109,105,110,95,99,117,95,100,101,110,111,109,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,32,32,32,32,37,115,95,105,110,116,101,114,108,97,99,101,100,95,115,111,117,114,99,101,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,112,99,109,95,101,110,97,98,108,101,100,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,110,117,109,95,108,111,110,103,95,116,101,114,109,95,115,112,115,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,116,105,108,101,32,114,111,119,32,98,111,117,110,100,97,114,105,101,115,58,32,0,0,0,100,101,112,101,110,100,101,110,116,32,115,108,105,99,101,32,119,105,116,104,32,97,100,100,114,101,115,115,32,48,0,0,32,32,109,97,120,95,98,121,116,101,115,95,112,101,114,95,112,105,99,95,100,101,110,111,109,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,32,32,32,32,37,115,95,112,114,111,103,114,101,115,115,105,118,101,95,115,111,117,114,99,101,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,115,97,109,112,108,101,95,97,100,97,112,116,105,118,101,95,111,102,102,115,101,116,95,101,110,97,98,108,101,100,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,0,0,115,108,105,99,101,32,115,101,103,109,101,110,116,32,97,100,100,114,101,115,115,32,105,110,118,97,108,105,100,0,0,0,115,104,111,114,116,95,116,101,114,109,95,114,101,102,95,112,105,99,95,115,101,116,95,105,100,120,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,42,10,0,0,0,0,0,0,83,69,67,65,77,0,0,0,108,111,99,97,108,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,0,0,0,49,46,48,46,50,0,0,0,32,32,109,105,110,95,115,112,97,116,105,97,108,95,115,101,103,109,101,110,116,97,116,105,111,110,95,105,100,99,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,42,10,0,0,0,0,0,0,97,109,112,95,101,110,97,98,108,101,100,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,102,97,108,115,101,0,0,0,114,101,102,95,112,105,99,95,115,101,116,91,32,37,50,100,32,93,58,32,0,0,0,0,42,37,100,32,0,0,0,0,114,100,112,99,109,77,111,100,101,61,61,48,0,0,0,0,105,109,103,45,62,110,117,109,95,116,104,114,101,97,100,115,95,97,99,116,105,118,101,40,41,32,61,61,32,48,0,0,105,110,118,97,108,105,100,32,99,104,114,111,109,97,32,102,111,114,109,97,116,32,105,110,32,83,80,83,32,104,101,97,100,101,114,0,0,0,0,0,32,32,114,101,115,116,114,105,99,116,101,100,95,114,101,102,95,112,105,99,95,108,105,115,116,115,95,102,108,97,103,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,42,37,100,0,0,0,0,0,115,104,100,114,45,62,115,108,105,99,101,95,116,121,112,101,32,61,61,32,83,76,73,67,69,95,84,89,80,69,95,66,0,0,0,0,0,0,0,0,115,99,97,108,105,110,103,32,108,105,115,116,32,108,111,103,103,105,110,103,32,111,117,116,112,117,116,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,0,0,0,0,109,97,120,105,109,117,109,32,110,117,109,98,101,114,32,111,102,32,114,101,102,101,114,101,110,99,101,32,112,105,99,116,117,114,101,115,32,101,120,99,101,101,100,101,100,0,0,0,115,104,111,114,116,95,116,101,114,109,95,114,101,102,95,112,105,99,95,115,101,116,95,115,112,115,95,102,108,97,103,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,116,105,108,101,32,99,111,108,117,109,110,32,98,111,117,110,100,97,114,105,101,115,58,32,0,0,0,0,0,0,0,0,37,0,0,0,73,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,32,0,0,0,37,0,0,0,112,0,0,0,0,0,0,0,117,110,105,116,88,32,62,61,32,48,32,38,38,32,117,110,105,116,88,32,60,32,119,105,100,116,104,95,105,110,95,117,110,105,116,115,0,0,0,0,102,97,108,115,101,0,0,0,118,105,100,101,111,95,112,97,114,97,109,101,116,101,114,95,115,101,116,95,105,100,32,32,58,32,37,100,10,0,0,0,32,32,109,111,116,105,111,110,95,118,101,99,116,111,114,115,95,111,118,101,114,95,112,105,99,95,98,111,117,110,100,97,114,105,101,115,95,102,108,97,103,32,58,32,37,100,10,0,42,44,0,0,0,0,0,0,115,112,115,95,115,99,97,108,105,110,103,95,108,105,115,116,95,100,97,116,97,95,112,114,101,115,101,110,116,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,0,0,0,115,108,105,99,101,95,112,105,99,95,111,114,100,101,114,95,99,110,116,95,108,115,98,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,117,110,105,102,111,114,109,95,115,112,97,99,105,110,103,95,102,108,97,103,58,32,37,100,10,0,0,0,0,0,0,0,37,73,58,37,77,58,37,83,32,37,112,0,0,0,0,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,0,101,110,100,95,111,102,95,115,117,98,95,115,116,114,101,97,109,95,111,110,101,95,98,105,116,32,110,111,116,32,115,101,116,32,116,111,32,49,32,119,104,101,110,32,105,116,32,115,104,111,117,108,100,32,98,101,0,0,0,0,0,0,0,0,32,32,116,105,108,101,115,95,102,105,120,101,100,95,115,116,114,117,99,116,117,114,101,95,102,108,97,103,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,32,32,37,115,95,112,114,111,102,105,108,101,95,99,111,109,112,97,116,105,98,105,108,105,116,121,95,102,108,97,103,115,58,32,0,0,0,0,0,0,115,99,97,108,105,110,103,95,108,105,115,116,95,101,110,97,98,108,101,95,102,108,97,103,32,58,32,37,100,10,0,0,99,111,108,111,117,114,95,112,108,97,110,101,95,105,100,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,117,110,105,116,89,32,62,61,32,48,32,38,38,32,117,110,105,116,89,32,60,32,104,101,105,103,104,116,95,105,110,95,117,110,105,116,115,0,0,0,110,117,109,95,116,105,108,101,95,114,111,119,115,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,106,62,61,48,32,38,38,32,106,32,60,32,77,65,88,95,78,85,77,95,82,69,70,95,80,73,67,83,0,0,0,0,37,0,0,0,97,0,0,0,32,0,0,0,37,0,0,0,98,0,0,0,32,0,0,0,37,0,0,0,100,0,0,0,32,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,32,0,0,0,37,0,0,0,89,0,0,0,0,0,0,0,0,0,0,0,102,97,117,108,116,121,32,114,101,102,101,114,101,110,99,101,32,112,105,99,116,117,114,101,32,108,105,115,116,0,0,0,98,105,116,115,116,114,101,97,109,95,114,101,115,116,114,105,99,116,105,111,110,95,102,108,97,103,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,32,32,37,115,95,112,114,111,102,105,108,101,95,105,100,99,32,32,32,32,32,32,32,58,32,37,115,10,0,0,0,0,99,104,114,111,109,97,95,113,112,95,111,102,102,115,101,116,95,108,105,115,116,95,101,110,97,98,108,101,100,95,102,108,97,103,32,32,32,32,32,32,58,32,37,100,10,0,0,0,109,97,120,95,116,114,97,110,115,102,111,114,109,95,104,105,101,114,97,114,99,104,121,95,100,101,112,116,104,95,105,110,116,114,97,32,58,32,37,100,10,0,0,0,0,0,0,0,112,105,99,95,111,117,116,112,117,116,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,110,117,109,95,116,105,108,101,95,99,111,108,117,109,110,115,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,99,111,101,102,102,105,99,105,101,110,116,32,111,117,116,32,111,102,32,105,109,97,103,101,32,98,111,117,110,100,115,0,37,97,32,37,98,32,37,100,32,37,72,58,37,77,58,37,83,32,37,89,0,0,0,0,115,104,111,114,116,45,116,101,114,109,32,114,101,102,45,112,105,99,45,115,101,116,32,105,110,100,101,120,32,111,117,116,32,111,102,32,114,97,110,103,101,0,0,0,0,0,0,0,118,117,105,95,104,114,100,95,112,97,114,97,109,101,116,101,114,115,95,112,114,101,115,101,110,116,95,102,108,97,103,32,58,32,37,100,10,0,0,0,32,32,37,115,95,116,105,101,114,95,102,108,97,103,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,102,97,108,115,101,0,0,0,105,110,116,114,97,80,114,101,100,77,111,100,101,62,61,50,0,0,0,0,0,0,0,0,109,97,120,95,116,114,97,110,115,102,111,114,109,95,104,105,101,114,97,114,99,104,121,95,100,101,112,116,104,95,105,110,116,101,114,32,58,32,37,100,10,0,0,0,0,0,0,0,115,108,105,99,101,95,116,121,112,101,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,99,10,0,0,0,0,0,0,101,110,116,114,111,112,121,95,99,111,100,105,110,103,95,115,121,110,99,95,101,110,97,98,108,101,100,95,102,108,97,103,58,32,37,100,10,0,0,0,48,0,0,0,0,0,0,0,37,0,0,0,72],"i8",ua,t.Lb),I([58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,0,0,0,0,0,0,0,0,110,117,109,98,101,114,32,111,102,32,115,104,111,114,116,45,116,101,114,109,32,114,101,102,45,112,105,99,45,115,101,116,115,32,111,117,116,32,111,102,32,114,97,110,103,101,0,0,118,117,105,95,110,117,109,95,116,105,99,107,115,95,112,111,99,95,100,105,102,102,95,111,110,101,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,32,32,37,115,95,112,114,111,102,105,108,101,95,115,112,97,99,101,32,32,32,32,32,58,32,37,100,10,0,0,0,0,108,111,103,50,95,100,105,102,102,95,109,97,120,95,109,105,110,95,116,114,97,110,115,102,111,114,109,95,98,108,111,99,107,95,115,105,122,101,32,58,32,37,100,10,0,0,0,0,37,112,32,105,110,105,116,10,0,0,0,0,0,0,0,0,115,108,105,99,101,95,115,101,103,109,101,110,116,95,97,100,100,114,101,115,115,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,116,105,108,101,115,95,101,110,97,98,108,101,100,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,37,72,58,37,77,58,37,83,0,0,0,0,0,0,0,0,110,117,109,77,86,95,80,32,33,61,32,110,117,109,77,86,95,81,32,105,110,32,100,101,98,108,111,99,107,105,110,103,0,0,0,0,0,0,0,0,118,117,105,95,112,111,99,95,112,114,111,112,111,114,116,105,111,110,97,108,95,116,111,95,116,105,109,105,110,103,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,0,0,115,117,98,95,108,97,121,101,114,0,0,0,0,0,0,0,108,111,103,50,95,109,105,110,95,116,114,97,110,115,102,111,114,109,95,98,108,111,99,107,95,115,105,122,101,32,32,32,58,32,37,100,10,0,0,0,100,101,112,101,110,100,101,110,116,95,115,108,105,99,101,95,115,101,103,109,101,110,116,95,102,108,97,103,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,116,114,97,110,115,113,117,97,110,116,95,98,121,112,97,115,115,95,101,110,97,98,108,101,95,102,108,97,103,58,32,37,100,10,0,0,0,0,0,0,37,0,0,0,109,0,0,0,47,0,0,0,37,0,0,0,100,0,0,0,47,0,0,0,37,0,0,0,121,0,0,0,0,0,0,0,0,0,0,0,110,111,110,45,101,120,105,115,116,105,110,103,32,114,101,102,101,114,101,110,99,101,32,112,105,99,116,117,114,101,32,97,99,99,101,115,115,101,100,0,32,32,118,117,105,95,116,105,109,101,95,115,99,97,108,101,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,103,101,110,101,114,97,108,0,108,111,103,50,95,100,105,102,102,95,109,97,120,95,109,105,110,95,108,117,109,97,95,99,111,100,105,110,103,95,98,108,111,99,107,95,115,105,122,101,32,58,32,37,100,10,0,0,115,108,105,99,101,95,112,105,99,95,112,97,114,97,109,101,116,101,114,95,115,101,116,95,105,100,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,111,117,116,112,117,116,95,102,108,97,103,95,112,114,101,115,101,110,116,95,102,108,97,103,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,37,109,47,37,100,47,37,121,0,0,0,0,0,0,0,0,98,111,116,104,32,112,114,101,100,70,108,97,103,115,91,93,32,97,114,101,32,122,101,114,111,32,105,110,32,77,67,0,32,32,118,117,105,95,110,117,109,95,117,110,105,116,115,95,105,110,95,116,105,99,107,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,118,112,115,95,101,120,116,101,110,115,105,111,110,95,102,108,97,103,32,61,32,37,100,10,0,0,0,0,0,0,0,0,108,111,103,50,95,109,105,110,95,108,117,109,97,95,99,111,100,105,110,103,95,98,108,111,99,107,95,115,105,122,101,32,58,32,37,100,10,0,0,0,110,111,95,111,117,116,112,117,116,95,111,102,95,112,114,105,111,114,95,112,105,99,115,95,102,108,97,103,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,119,101,105,103,104,116,101,100,95,98,105,112,114,101,100,95,102,108,97,103,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,78,84,83,67,0,0,0,0,33,114,101,111,114,100,101,114,95,111,117,116,112,117,116,95,113,117,101,117,101,46,101,109,112,116,121,40,41,0,0,0,110,111,110,45,101,120,105,115,116,105,110,103,32,83,80,83,32,114,101,102,101,114,101,110,99,101,100,0,0,0,0,0,118,117,105,95,116,105,109,105,110,103,95,105,110,102,111,95,112,114,101,115,101,110,116,95,102,108,97,103,32,32,58,32,37,100,10,0,0,0,0,0,32,32,115,112,115,95,109,97,120,95,108,97,116,101,110,99,121,95,105,110,99,114,101,97,115,101,95,112,108,117,115,49,32,58,32,37,100,10,0,0,102,105,114,115,116,76,97,121,101,114,82,101,97,100,32,60,32,77,65,88,95,84,69,77,80,79,82,65,76,95,83,85,66,76,65,89,69,82,83,0,102,105,114,115,116,95,115,108,105,99,101,95,115,101,103,109,101,110,116,95,105,110,95,112,105,99,95,102,108,97,103,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,119,101,105,103,104,116,101,100,95,112,114,101,100,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,48,0,0,0,0,0,0,0,102,0,0,0,97,0,0,0,108,0,0,0,115,0,0,0,101,0,0,0,0,0,0,0,110,111,110,45,101,120,105,115,116,105,110,103,32,80,80,83,32,114,101,102,101,114,101,110,99,101,100,0,0,0,0,0,32,32,100,101,102,95,100,105,115,112,95,119,105,110,95,98,111,116,116,111,109,95,111,102,102,115,101,116,32,32,58,32,37,100,10,0,0,0,0,0,102,97,108,115,101,0,0,0,104,114,100,95,108,97,121,101,114,95,115,101,116,95,105,100,120,91,37,100,93,32,61,32,37,100,10,0,0,0,0,0,37,112,0,0,0,0,0,0,32,32,115,112,115,95,109,97,120,95,110,117,109,95,114,101,111,114,100,101,114,95,112,105,99,115,32,32,32,32,32,32,32,58,32,37,100,10,0,0,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,32,83,76,73,67,69,32,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,10,0,0,0,0,0,0,83,69,73,32,100,101,99,111,100,101,100,32,112,105,99,116,117,114,101,32,104,97,115,104,58,32,37,48,52,120,44,32,100,101,99,111,100,101,100,32,112,105,99,116,117,114,101,58,32,37,48,52,120,32,40,80,79,67,61,37,100,41,10,0,112,112,115,95,115,108,105,99,101,95,99,104,114,111,109,97,95,113,112,95,111,102,102,115,101,116,115,95,112,114,101,115,101,110,116,95,102,108,97,103,32,58,32,37,100,10,0,0,102,97,108,115,101,0,0,0,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,32,83,80,83,32,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,10,0,0,0,0,0,0,0,0,105,109,112,111,115,115,105,98,108,101,32,109,111,116,105,111,110,32,118,101,99,116,111,114,32,115,99,97,108,105,110,103,0,0,0,0,0,0,0,0,32,32,100,101,102,95,100,105,115,112,95,119,105,110,95,116,111,112,95,111,102,102,115,101,116,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,118,112,115,95,110,117,109,95,104,114,100,95,112,97,114,97,109,101,116,101,114,115,32,32,32,32,32,61,32,37,100,10,0,0,0,0,0,0,0,0,32,32,115,112,115,95,109,97,120,95,100,101,99,95,112,105,99,95,98,117,102,102,101,114,105,110,103,32,32,32,32,32,32,58,32,37,100,10,0,0,115,108,105,99,101,32,104,101,97,100,101,114,32,105,110,118,97,108,105,100,0,0,0,0,115,112,115,45,62,115,112,115,95,114,101,97,100,0,0,0,83,69,73,32,100,101,99,111,100,101,100,32,112,105,99,116,117,114,101,32,77,68,53,32,109,105,115,109,97,116,99,104,32,40,80,79,67,61,37,100,41,10,0,0,0,0,0,0,112,105,99,95,99,114,95,113,112,95,111,102,102,115,101,116,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,116,0,0,0,114,0,0,0,117,0,0,0,101,0,0,0,0,0,0,0,0,0,0,0,118,97,108,117,101,62,48,0,32,32,100,101,102,95,100,105,115,112,95,119,105,110,95,114,105,103,104,116,95,111,102,102,115,101,116,32,32,32,58,32,37,100,10,0,0,0,0,0,118,112,115,95,110,117,109,95,116,105,99,107,115,95,112,111,99,95,100,105,102,102,95,111,110,101,32,61,32,37,100,10,0,0,0,0,0,0,0,0,76,97,121,101,114,32,37,100,10,0,0,0,0,0,0,0,112,112,115,45,62,112,112,115,95,114,101,97,100,0,0,0,46,46,47,108,105,98,100,101,50,54,53,47,105,109,97,103,101,46,104,0,0,0,0,0,112,105,99,95,99,98,95,113,112,95,111,102,102,115,101,116,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,82,73,100,120,32,62,61,32,48,32,38,38,32,82,73,100,120,32,60,32,115,101,116,115,46,115,105,122,101,40,41,0,116,114,117,101,0,0,0,0,112,112,115,32,104,101,97,100,101,114,32,105,110,118,97,108,105,100,0,0,0,0,0,0,32,32,100,101,102,95,100,105,115,112,95,119,105,110,95,108,101,102,116,95,111,102,102,115,101,116,32,32,32,32,58,32,37,100,10,0,0,0,0,0,118,112,115,95,112,111,99,95,112,114,111,112,111,114,116,105,111,110,97,108,95,116,111,95,116,105,109,105,110,103,95,102,108,97,103,32,61,32,37,100,10,0,0,0,0,0,0,0,99,114,111,115,115,95,99,111,109,112,111,110,101,110,116,95,112,114,101,100,105,99,116,105,111,110,95,101,110,97,98,108,101,100,95,102,108,97,103,32,58,32,37,100,10,0,0,0,115,112,115,95,115,117,98,95,108,97,121,101,114,95,111,114,100,101,114,105,110,103,95,105,110,102,111,95,112,114,101,115,101,110,116,95,102,108,97,103,32,58,32,37,100,10,0,0,115,112,115,32,104,101,97,100,101,114,32,105,110,118,97,108,105,100,0,0,0,0,0,0,100,105,102,102,95,99,117,95,113,112,95,100,101,108,116,97,95,100,101,112,116,104,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,58,32,0,0,0,0,0,0,110,111,32,115,117,99,104,32,102,105,108,101,0,0,0,0,37,112,32,99,39,116,111,114,32,61,32,37,112,10,0,0,100,101,102,97,117,108,116,95,100,105,115,112,108,97,121,95,119,105,110,100,111,119,95,102,108,97,103,32,32,32,58,32,37,100,10,0,0,0,0,0,118,112,115,95,116,105,109,101,95,115,99,97,108,101,32,32,32,32,32,32,32,32,61,32,37,100,10,0,0,0,0,0,99,116,120,45,62,104,97,115,95,105,109,97,103,101,40,99,111,108,80,105,99,41,0,0,105,110,116,114,97,80,114,101,100,77,111,100,101,60,51,53,0,0,0,0,0,0,0,0,108,111,103,50,95,109,97,120,95,112,105,99,95,111,114,100,101,114,95,99,110,116,95,108,115,98,32,58,32,37,100,10,0,0,0,0,0,0,0,0,67,84,66,32,111,117,116,115,105,100,101,32,111,102,32,105,109,97,103,101,32,97,114,101,97,32,40,99,111,110,99,101,97,108,105,110,103,32,115,116,114,101,97,109,32,101,114,114,111,114,46,46,46,41,0,0,99,117,95,113,112,95,100,101,108,116,97,95,101,110,97,98,108,101,100,95,102,108,97,103,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,115,112,115,0,0,0,0,0,102,114,97,109,101,95,102,105,101,108,100,95,105,110,102,111,95,112,114,101,115,101,110,116,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,48,0,0,0,0,0,0,0,118,112,115,95,110,117,109,95,117,110,105,116,115,95,105,110,95,116,105,99,107,32,61,32,37,100,10,0,0,0,0,0,98,105,116,95,100,101,112,116,104,95,99,104,114,111,109,97,32,58,32,37,100,10,0,0,73,110,99,111,114,114,101,99,116,32,101,110,116,114,121,45,112,111,105,110,116,32,111,102,102,115,101,116,115,0,0,0,109,102,114,101,101,32,37,112,10,0,0,0,0,0,0,0,116,114,97,110,115,102,111,114,109,95,115,107,105,112,95,101,110,97,98,108,101,100,95,102,108,97,103,58,32,37,100,10,0,0,0,0,0,0,0,0,108,111,103,50,87,68,62,61,49,0,0,0,0,0,0,0,102,105,101,108,100,95,115,101,113,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,118,112,115,95,116,105,109,105,110,103,95,105,110,102,111,95,112,114,101,115,101,110,116,95,102,108,97,103,32,61,32,37,100,10,0,0,0,0,0,0,98,105,116,95,100,101,112,116,104,95,108,117,109,97,32,32,32,58,32,37,100,10,0,0,80,114,101,109,97,116,117,114,101,32,101,110,100,32,111,102,32,115,108,105,99,101,32,115,101,103,109,101,110,116,0,0,99,111,110,115,116,114,97,105,110,101,100,95,105,110,116,114,97,95,112,114,101,100,95,102,108,97,103,58,32,37,100,10,0,0,0,0,0,0,0,0,105,111,115,95,98,97,115,101,58,58,99,108,101,97,114,0,110,101,117,116,114,97,108,95,99,104,114,111,109,97,95,105,110,100,105,99,97,116,105,111,110,95,102,108,97,103,58,32,37,100,10,0,0,0,0,0,108,97,121,101,114,95,105,100,95,105,110,99,108,117,100,101,100,95,102,108,97,103,91,37,100,93,91,37,100,93,32,61,32,37,100,10,0,0,0,0,99,111,110,102,95,119,105,110,95,98,111,116,116,111,109,95,111,102,102,115,101,116,58,32,37,100,10,0,0,0,0,0,84,111,111,32,109,97,110,121,32,119,97,114,110,105,110,103,115,32,113,117,101,117,101,100,0,0,0,0,0,0,0,0,112,105,99,95,105,110,105,116,95,113,112,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,40,119,105,100,116,104,38,49,41,61,61,48,0,0,0,0,32,32,99,104,114,111,109,97,95,115,97,109,112,108,101,95,108,111,99,95,116,121,112,101,95,98,111,116,116,111,109,95,102,105,101,108,100,58,32,37,100,10,0,0,0,0,0,0,118,112,115,95,110,117,109,95,108,97,121,101,114,95,115,101,116,115,32,61,32,37,100,10,0,0,0,0,0,0,0,0,99,111,110,102,95,119,105,110,95,116,111,112,95,111,102,102,115,101,116,32,32,32,58,32,37,100,10,0,0,0,0,0,67,97,110,110,111,116,32,114,117,110,32,100,101,99,111,100,101,114,32,109,117,108,116,105,45,116,104,114,101,97,100,101,100,32,98,101,99,97,117,115,101,32,115,116,114,101,97,109,32,100,111,101,115,32,110,111,116,32,115,117,112,112,111,114,116,32,87,80,80,0,0,0,110,117,109,95,114,101,102,95,105,100,120,95,108,49,95,100,101,102,97,117,108,116,95,97,99,116,105,118,101,32,58,32,37,100,10,0,0,0,0,0,80,65,76,0,0,0,0,0,99,97,98,97,99,46,99,99,0,0,0,0,0,0,0,0,117,110,105,116,89,32,62,61,32,48,32,38,38,32,117,110,105,116,89,32,60,32,104,101,105,103,104,116,95,105,110,95,117,110,105,116,115,0,0,0,32,32,99,104,114,111,109,97,95,115,97,109,112,108,101,95,108,111,99,95,116,121,112,101,95,116,111,112,95,102,105,101,108,100,32,32,32,58,32,37,100,10,0,0,0,0,0,0,118,112,115,95,109,97,120,95,108,97,121,101,114,95,105,100,32,32,32,61,32,37,100,10,0,0,0,0,0,0,0,0,99,111,110,102,95,119,105,110,95,114,105,103,104,116,95,111,102,102,115,101,116,32,58,32,37,100,10,0,0,0,0,0,118,112,115,46,99,99,0,0,48,0,0,0,0,0,0,0,117,110,115,112,101,99,105,102,105,101,100,32,100,101,99,111,100,105,110,103,32,101,114,114,111,114,0,0,0,0,0,0,110,117,109,95,114,101,102,95,105,100,120,95,108,48,95,100,101,102,97,117,108,116,95,97,99,116,105,118,101,32,58,32,37,100,10,0,0,0,0,0,73,78,70,79,58,32,0,0,116,114,97,110,115,102,111,114,109,46,99,99,0,0,0,0,99,104,114,111,109,97,95,108,111,99,95,105,110,102,111,95,112,114,101,115,101,110,116,95,102,108,97,103,58,32,37,100,10,0,0,0,0,0,0,0,46,46,47,108,105,98,100,101,50,54,53,47,105,109,97,103,101,46,104,0,0,0,0,0,32,32,32,32,32,32,32,32,32,32,32,32,32,118,112,115,95,109,97,120,95,108,97,116,101,110,99,121,95,105,110,99,114,101,97,115,101,32,32,61,32,37,100,10,0,0,0,0,100,101,99,99,116,120,46,99,99,0,0,0,0,0,0,0,99,111,110,102,95,119,105,110,95,108,101,102,116,95,111,102,102,115,101,116,32,32,58,32,37,100,10,0,0,0,0,0,110,97,110,0,0,0,0,0,112,114,101,109,97,116,117,114,101,32,101,110,100,32,111,102,32,115,108,105,99,101,32,100,97,116,97,0,0,0,0,0,99,97,98,97,99,95,105,110,105,116,95,112,114,101,115,101,110,116,95,102,108,97,103,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,67,0,0,0,0,0,0,0,115,112,115,46,99,99,0,0,32,32,109,97,116,114,105,120,95,99,111,101,102,102,115,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,117,110,105,116,88,32,62,61,32,48,32,38,38,32,117,110,105,116,88,32,60,32,119,105,100,116,104,95,105,110,95,117,110,105,116,115,0,0,0,0,32,32,32,32,32,32,32,32,32,32,32,32,32,118,112,115,95,109,97,120,95,110,117,109,95,114,101,111,114,100,101,114,95,112,105,99,115,32,32,61,32,37,100,10,0,0,0,0,100,101,98,108,111,99,107,46,99,99,0,0,0,0,0,0,99,111,110,102,111,114,109,97,110,99,101,95,119,105,110,100,111,119,95,102,108,97,103,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,102,105,114,115,116,32,115,108,105,99,101,32,109,105,115,115,105,110,103,44,32,99,97,110,110,111,116,32,100,101,99,111,100,101,32,100,101,112,101,110,100,101,110,116,32,115,108,105,99,101,0,0,0,0,0,0,115,105,103,110,95,100,97,116,97,95,104,105,100,105,110,103,95,102,108,97,103,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,118,101,99,116,111,114,0,0,115,108,105,99,101,46,99,99,0,0,0,0,0,0,0,0,32,32,116,114,97,110,115,102,101,114,95,99,104,97,114,97,99,116,101,114,105,115,116,105,99,115,32,32,32,32,58,32,37,100,10,0,0,0,0,0,108,97,121,101,114,32,40,97,108,108,41,58,32,118,112,115,95,109,97,120,95,100,101,99,95,112,105,99,95,98,117,102,102,101,114,105,110,103,32,61,32,37,100,10,0,0,0,0,112,105,99,95,104,101,105,103,104,116,95,105,110,95,108,117,109,97,95,115,97,109,112,108,101,115,32,58,32,37,100,10,0,0,0,0,0,0,0,0,117,110,105,116,88,32,62,61,32,48,32,38,38,32,117,110,105,116,88,32,60,32,119,105,100,116,104,95,105,110,95,117,110,105,116,115,0,0,0,0,99,111,109,109,97,110,100,45,108,105,110,101,32,112,97,114,97,109,101,116,101,114,32,101,114,114,111,114,0,0,0,0,100,101,112,101,110,100,101,110,116,95,115,108,105,99,101,95,115,101,103,109,101,110,116,115,95,101,110,97,98,108,101,100,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,114,101,102,112,105,99,46,99,99,0,0,0,0,0,0,0,37,46,48,76,102,0,0,0,98,105,116,115,116,114,101,97,109,46,99,99,0,0,0,0,32,32,99,111,108,111,117,114,95,112,114,105,109,97,114,105,101,115,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,32,32,32,32,32,32,32,32,32,118,112,115,95,109,97,120,95,108,97,116,101,110,99,121,95,105,110,99,114,101,97,115,101,32,32,61,32,37,100,10,0,0,0,0,0,0,0,0,108,111,103,50,95,109,97,120,95,116,114,97,110,115,102,111,114,109,95,115,107,105,112,95,98,108,111,99,107,95,115,105,122,101,32,32,32,32,32,32,58,32,37,100,10,0,0,0,112,105,99,95,119,105,100,116,104,95,105,110,95,108,117,109,97,95,115,97,109,112,108,101,115,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,110,97,108,45,112,97,114,115,101,114,46,99,99,0,0,0,83,69,73,32,100,97,116,97,32,99,97,110,110,111,116,32,98,101,32,112,114,111,99,101,115,115,101,100,0,0,0,0,115,101,113,95,112,97,114,97,109,101,116,101,114,95,115,101,116,95,105,100,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,105,109,103,45,62,115,112,115,46,66,105,116,68,101,112,116,104,95,67,32,62,61,32,56,32,38,38,32,105,109,103,45,62,115,112,115,46,66,105,116,68,101,112,116,104,95,67,32,60,61,32,49,54,0,0,0,109,111,110,101,121,95,103,101,116,32,101,114,114,111,114,0,110,111,32,101,114,114,111,114,0,0,0,0,0,0,0,0,32,32,99,111,108,111,117,114,95,100,101,115,99,114,105,112,116,105,111,110,95,112,114,101,115,101,110,116,95,102,108,97,103,32,58,32,37,100,10,0,46,47,100,101,99,99,116,120,46,104,0,0,0,0,0,0,32,32,32,32,32,32,32,32,32,118,112,115,95,109,97,120,95,110,117,109,95,114,101,111,114,100,101,114,95,112,105,99,115,32,32,61,32,37,100,10,0,0,0,0,0,0,0,0,109,111,116,105,111,110,46,99,99,0,0,0,0,0,0,0,105,110,116,114,97,112,114,101,100,46,99,99,0,0,0,0,115,101,112,97,114,97,116,101,95,99,111,108,111,117,114,95,112,108,97,110,101,95,102,108,97,103,32,58,32,37,100,10,0,0,0,0,0,0,0,0,42,37,115,10,0,0,0,0,110,111,32,109,111,114,101,32,105,110,112,117,116,32,100,97,116,97,44,32,100,101,99,111,100,101,114,32,115,116,97,108,108,101,100,0,0,0,0,0,105,111,115,116,114,101,97,109,0,0,0,0,0,0,0,0,112,105,99,95,112,97,114,97,109,101,116,101,114,95,115,101,116,95,105,100,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,0,0,0,83,97,116,0,0,0,0,0,105,109,103,45,62,115,112,115,46,66,105,116,68,101,112,116,104,95,89,32,62,61,32,56,32,38,38,32,105,109,103,45,62,115,112,115,46,66,105,116,68,101,112,116,104,95,89,32,60,61,32,49,54,0,0,0,70,114,105,0,0,0,0,0,37,76,102,0,0,0,0,0,105,109,97,103,101,46,99,99,0,0,0,0,0,0,0,0,84,104,117,0,0,0,0,0,87,101,100,0,0,0,0,0,84,117,101,0,0,0,0,0,32,32,118,105,100,101,111,95,102,117,108,108,95,114,97,110,103,101,95,102,108,97,103,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,100,112,98,46,99,99,0,0,110,32,60,32,110,84,104,114,101,97,100,67,111,110,116,101,120,116,115,0,0,0,0,0,77,111,110,0,0,0,0,0,108,97,121,101,114,32,37,100,58,32,118,112,115,95,109,97,120,95,100,101,99,95,112,105,99,95,98,117,102,102,101,114,105,110,103,32,61,32,37,100,10,0,0,0,0,0,0,0,83,117,110,0,0,0,0,0,48,0,0,0,0,0,0,0,117,110,107,110,111,119,110,0,83,97,116,117,114,100,97,121,0,0,0,0,0,0,0,0,70,114,105,100,97,121,0,0,42,37,100,37,99,32,0,0,84,104,117,114,115,100,97,121,0,0,0,0,0,0,0,0,117,110,105,109,112,108,101,109,101,110,116,101,100,32,100,101,99,111,100,101,114,32,102,101,97,116,117,114,101,0,0,0,37,112,32,100,101,115,116,114,117,99,116,111,114,10,0,0,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,32,80,80,83,32,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,10,0,0,0,0,0,0,0,0,87,101,100,110,101,115,100,97,121,0,0,0,0,0,0,0,109,111,100,101,108,91,105,93,46,115,116,97,116,101,32,60,61,32,54,50,0,0,0,0,84,117,101,115,100,97,121,0,77,111,110,100,97,121,0,0,83,117,110,100,97,121,0,0,102,97,108,108,98,97,99,107,45,109,111,116,105,111,110,46,99,99,0,0,0,0,0,0,32,32,118,105,100,101,111,95,102,111,114,109,97,116,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,58,32,37,115,10,0,0,0,0,0,83,0,0,0,97,0,0,0,116,0,0,0,0,0,0,0,118,112,115,95,115,117,98,95,108,97,121,101,114,95,111,114,100,101,114,105,110,103,95,105,110,102,111,95,112,114,101,115,101,110,116,95,102,108,97,103,32,58,32,37,100,10,0,0,70,0,0,0,114,0,0,0,105,0,0,0,0,0,0,0,52,58,52,58,52,0,0,0,84,0,0,0,104,0,0,0,117,0,0,0,0,0,0,0,87,0,0,0,101,0,0,0,100,0,0,0,0,0,0,0,99,97,110,110,111,116,32,102,114,101,101,32,108,105,98,114,97,114,121,32,100,97,116,97,32,40,110,111,116,32,105,110,105,116,105,97,108,105,122,101,100,0,0,0,0,0,0,0,84,0,0,0,117,0,0,0,101,0,0,0,0,0,0,0,112,112,115,46,99,99,0,0,77,0,0,0,111,0,0,0,110,0,0,0,0,0,0,0,117,110,115,112,101,99,105,102,105,101,100,32,105,111,115,116,114,101,97,109,95,99,97,116,101,103,111,114,121,32,101,114,114,111,114,0,0,0,0,0,117,110,105,116,89,32,62,61,32,48,32,38,38,32,117,110,105,116,89,32,60,32,104,101,105,103,104,116,95,105,110,95,117,110,105,116,115,0,0,0,83,0,0,0,117,0,0,0,110,0,0,0,0,0,0,0,102,97,108,108,98,97,99,107,45,100,99,116,46,99,99,0,83,0,0,0,97,0,0,0,116,0,0,0,117,0,0,0,114,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,0,0,0,0,70,0,0,0,114,0,0,0,105,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,0,0,0,0,84,0,0,0,104,0,0,0,117,0,0,0,114,0,0,0,115,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,0,0,0,0,118,105,100,101,111,95,115,105,103,110,97,108,95,116,121,112,101,95,112,114,101,115,101,110,116,95,102,108,97,103,58,32,37,100,10,0,0,0,0,0,87,0,0,0,101,0,0,0,100,0,0,0,110,0,0,0,101,0,0,0,115,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,118,112,115,95,116,101,109,112,111,114,97,108,95,105,100,95,110,101,115,116,105,110,103,95,102,108,97,103,32,32,32,32,32,32,32,32,32,32,58,32,37,100,10,0,0,0,0,0,109,111,114,101,62,61,45,49,32,38,38,32,109,111,114,101,60,61,49,0,0,0,0,0,84,0,0,0,117,0,0,0,101,0,0,0,115,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,52,58,50,58,50,0,0,0,77,0,0,0,111,0,0,0,110,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,0,0,0,0,83,0,0,0,117,0,0,0,110,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,0,0,0,0,116,105,108,101,88,62,61,48,32,38,38,32,116,105,108,101,89,62,61,48,0,0,0,0,103,108,111,98,97,108,32,108,105,98,114,97,114,121,32,105,110,105,116,105,97,108,105,122,97,116,105,111,110,32,102,97,105,108,101,100,0,0,0,0,68,101,99,0,0,0,0,0,117,110,105,116,89,32,62,61,32,48,32,38,38,32,117,110,105,116,89,32,60,32,104,101,105,103,104,116,95,105,110,95,117,110,105,116,115,0,0,0,37,112,32,40,97,108,108,111,99,41,10,0,0,0,0,0,46,47,105,109,97,103,101,46,104,0,0,0,0,0,0,0,78,111,118,0,0,0,0,0,79,99,116,0,0,0,0,0,83,101,112,0,0,0,0,0,65,117,103,0,0,0,0,0,100,101,50,54,53,95,115,101,116,95,112,97,114,97,109,101,116,101,114,95,105,110,116,0,100,101,50,54,53,95,115,101,116,95,112,97,114,97,109,101,116,101,114,95,98,111,111,108,0,0,0,0,0,0,0,0,100,101,50,54,53,95,103,101,116,95,112,97,114,97,109,101,116,101,114,95,98,111,111,108,0,0,0,0,0,0,0,0,100,101,50,54,53,95,103,101,116,95,105,109,97,103,101,95,112,108,97,110,101,95,117,115,101,114,95,100,97,116,97,0,100,101,50,54,53,95,103,101,116,95,105,109,97,103,101,95,112,108,97,110,101,0,0,0,100,117,109,112,95,115,108,105,99,101,95,115,101,103,109,101,110,116,95,104,101,97,100,101,114,0,0,0,0,0,0,0,103,101,116,0,0,0,0,0,103,101,116,0,0,0,0,0,103,101,116,0,0,0,0,0,103,101,116,0,0,0,0,0,103,101,116,0,0,0,0,0,103,101,116,0,0,0,0,0,103,101,116,0,0,0,0,0,103,101,116,0,0,0,0,0,110,101,119,95,105,109,97,103,101,0,0,0,0,0,0,0,111,117,116,112,117,116,95,110,101,120,116,95,112,105,99,116,117,114,101,95,105,110,95,114,101,111,114,100,101,114,95,98,117,102,102,101,114,0,0,0,114,101,97,100,0,0,0,0,100,101,99,111,117,112,108,101,0,0,0,0,0,0,0,0,100,101,99,111,117,112,108,101,95,111,114,95,97,108,108,111,99,95,119,105,116,104,95,101,109,112,116,121,95,100,97,116,97,0,0,0,0,0,0,0,114,101,97,100,0,0,0,0,115,101,116,95,100,101,114,105,118,101,100,95,118,97,108,117,101,115,0,0,0,0,0,0,100,101,99,111,100,101,0,0,103,101,110,101,114,97,116,101,95,117,110,97,118,97,105,108,97,98,108,101,95,114,101,102,101,114,101,110,99,101,95,112,105,99,116,117,114,101,0,0,99,111,110,115,116,114,117,99,116,95,114,101,102,101,114,101,110,99,101,95,112,105,99,116,117,114,101,95,108,105,115,116,115,0,0,0,0,0,0,0,112,114,111,99,101,115,115,95,115,108,105,99,101,95,115,101,103,109,101,110,116,95,104,101,97,100,101,114,0,0,0,0,100,101,99,111,100,101,95,115,108,105,99,101,95,117,110,105,116,95,112,97,114,97,108,108,101,108,0,0,0,0,0,0,100,101,99,111,100,101,95,115,108,105,99,101,95,117,110,105,116,95,116,105,108,101,115,0,100,101,99,111,100,101,95,115,108,105,99,101,95,117,110,105,116,95,87,80,80,0,0,0,99,104,97,110,103,101,95,102,114,97,109,101,114,97,116,101,0,0,0,0,0,0,0,0,115,101,116,95,73,110,116,114,97,80,114,101,100,77,111,100,101,67,0,0,0,0,0,0,116,104,114,101,97,100,95,102,105,110,105,115,104,101,115,0,99,111,112,121,95,108,105,110,101,115,95,102,114,111,109,0,97,108,108,111,99,95,105,109,97,103,101,0,0,0,0,0,97,108,108,111,99,97,116,101,95,116,104,114,101,97,100,95,99,111,110,116,101,120,116,115,0,0,0,0,0,0,0,0,103,101,116,95,116,104,114,101,97,100,95,99,111,110,116,101,120,116,0,0,0,0,0,0,112,117,115,104,95,78,65,76,0,0,0,0,0,0,0,0,100,101,99,111,100,101,95,115,112,108,105,116,95,116,114,97,110,115,102,111,114,109,95,102,108,97,103,0,0,0,0,0,100,101,50,54,53,95,105,109,97,103,101,95,103,101,116,95,98,117,102,102,101,114,0,0,100,101,99,111,100,101,95,112,97,114,116,95,109,111,100,101,0,0,0,0,0,0,0,0,115,101,116,95,105,110,105,116,86,97,108,117,101,0,0,0,109,99,95,99,104,114,111,109,97,0,0,0,0,0,0,0,103,101,116,95,117,118,108,99,0,0,0,0,0,0,0,0,97,108,108,111,99,95,97,110,100,95,105,110,105,116,95,115,105,103,110,105,102,105,99,97,110,116,95,99,111,101,102,102,95,99,116,120,73,100,120,95,108,111,111,107,117,112,84,97,98,108,101,0,0,0,0,0,100,101,114,105,118,101,95,99,111,109,98,105,110,101,100,95,98,105,112,114,101,100,105,99,116,105,118,101,95,109,101,114,103,105,110,103,95,99,97,110,100,105,100,97,116,101,115,0,100,101,114,105,118,101,95,115,112,97,116,105,97,108,95,108,117,109,97,95,118,101,99,116,111,114,95,112,114,101,100,105,99,116,105,111,110,0,0,0,102,105,108,108,95,108,117,109,97,95,109,111,116,105,111,110,95,118,101,99,116,111,114,95,112,114,101,100,105,99,116,111,114,115,0,0,0,0,0,0,112,117,116,95,119,101,105,103,104,116,101,100,95,112,114,101,100,95,97,118,103,95,49,54,95,102,97,108,108,98,97,99,107,0,0,0,0,0,0,0,105,110,116,114,97,95,112,114,101,100,105,99,116,105,111,110,95,115,97,109,112,108,101,95,102,105,108,116,101,114,105,110,103,0,0,0,0,0,0,0,103,101,110,101,114,97,116,101,95,105,110,116,101,114,95,112,114,101,100,105,99,116,105,111,110,95,115,97,109,112,108,101,115,0,0,0,0,0,0,0,112,117,116,95,119,101,105,103,104,116,101,100,95,112,114,101,100,95,97,118,103,95,56,95,102,97,108,108,98,97,99,107,0,0,0,0,0,0,0,0,100,101,114,105,118,101,95,99,111,108,108,111,99,97,116,101,100,95,109,111,116,105,111,110,95,118,101,99,116,111,114,115,0,0,0,0,0,0,0,0,112,117,116,95,119,101,105,103,104,116,101,100,95,98,105,112,114,101,100,95,49,54,95,102,97,108,108,98,97,99,107,0,112,117,116,95,117,110,119,101,105,103,104,116,101,100,95,112,114,101,100,95,49,54,95,102,97,108,108,98,97,99,107,0,112,117,116,95,119,101,105,103,104,116,101,100,95,98,105,112,114,101,100,95,56,95,102,97,108,108,98,97,99,107,0,0,112,117,116,95,117,110,119,101,105,103,104,116,101,100,95,112,114,101,100,95,56,95,102,97,108,108,98,97,99,107,0,0,112,117,116,95,119,101,105,103,104,116,101,100,95,112,114,101,100,95,49,54,95,102,97,108,108,98,97,99,107,0,0,0,112,117,116,95,119,101,105,103,104,116,101,100,95,112,114,101,100,95,56,95,102,97,108,108,98,97,99,107,0,0,0,0,115,99,97,108,101,95,99,111,101,102,102,105,99,105,101,110,116,115,95,105,110,116,101,114,110,97,108,0,0,0,0,0,114,101,97,100,95,115,104,111,114,116,95,116,101,114,109,95,114,101,102,95,112,105,99,95,115,101,116,0,0,0,0,0,116,114,97,110,115,102,111,114,109,95,115,107,105,112,95,49,54,95,102,97,108,108,98,97,99,107,0,0,0,0,0,0,116,114,97,110,115,102,111,114,109,95,115,107,105,112,95,56,95,102,97,108,108,98,97,99,107,0,0,0,0,0,0,0,105,110,116,114,97,95,112,114,101,100,105,99,116,105,111,110,95,97,110,103,117,108,97,114,0,0,0,0,0,0,0,0,105,110,105,116,105,97,108,105,122,101,95,67,65,66,65,67,95,109,111,100,101,108,115,0,100,101,114,105,118,101,95,98,111,117,110,100,97,114,121,83,116,114,101,110,103,116,104,0,114,101,97,100,95,116,114,97,110,115,102,111,114,109,95,117,110,105,116,0,0,0,0,0,114,101,97,100,95,116,114,97,110,115,102,111,114,109,95,116,114,101,101,0,0,0,0,0,102,105,108,108,95,115,99,97,108,105,110,103,95,102,97,99,116,111,114,0,0,0,0,0,105,110,105,116,95,67,65,66,65,67,95,100,101,99,111,100,101,114,0,0,0,0,0,0,114,101,97,100,95,115,99,97,108,105,110,103,95,108,105,115,116,0,0,0,0,0,0,0,114,101,97,100,95,99,111,100,105,110,103,95,117,110,105,116,0,0,0,0,0,0,0,0,2,0,0,192,3,0,0,192,4,0,0,192,5,0,0,192,6,0,0,192,7,0,0,192,8,0,0,192,9,0,0,192,10,0,0,192,11,0,0,192,12,0,0,192,13,0,0,192,14,0,0,192,15,0,0,192,16,0,0,192,17,0,0,192,18,0,0,192,19,0,0,192,20,0,0,192,21,0,0,192,22,0,0,192,23,0,0,192,24,0,0,192,25,0,0,192,26,0,0,192,27,0,0,192,28,0,0,192,29,0,0,192,30,0,0,192,31,0,0,192,0,0,0,179,1,0,0,195,2,0,0,195,3,0,0,195,4,0,0,195,5,0,0,195,6,0,0,195,7,0,0,195,8,0,0,195,9,0,0,195,10,0,0,195,11,0,0,195,12,0,0,195,13,0,0,211,14,0,0,195,15,0,0,195,0,0,12,187,1,0,12,195,2,0,12,195,3,0,12,195,4,0,12,211,0,0,0,0,48,49,50,51,52,53,54,55,56,57,0,0,0,0,0,0,48,49,50,51,52,53,54,55,56,57,0,0,0,0,0,0,37,0,0,0,89,0,0,0,45,0,0,0,37,0,0,0,109,0,0,0,45,0,0,0,37,0,0,0,100,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,0,0,0,0,37,0,0,0,73,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,32,0,0,0,37,0,0,0,112,0,0,0,0,0,0,0,37,0,0,0,109,0,0,0,47,0,0,0,37,0,0,0,100,0,0,0,47,0,0,0,37,0,0,0,121,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,37,72,58,37,77,58,37,83,37,72,58,37,77,0,0,0,37,73,58,37,77,58,37,83,32,37,112,0,0,0,0,0,37,89,45,37,109,45,37,100,37,109,47,37,100,47,37,121,37,72,58,37,77,58,37,83,37,0,0,0,0,0,0,0,37,112,0,0,0,0,0,0,0,0,0,0,26,0,0,0,10,0,0,0,1,0,0,0,0,0,0,0,184,99,0,0,174,0,0,0,138,0,0,0,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,200,99,0,0,236,0,0,0,190,0,0,0,36,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,216,99,0,0,76,0,0,0,62,1,0,0,38,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,232,99,0,0,110,0,0,0,8,0,0,0,104,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,248,99,0,0,110,0,0,0,26,0,0,0,104,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,100,0,0,228,0,0,0,90,0,0,0,56,0,0,0,2,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,100,0,0,54,1,0,0,220,0,0,0,56,0,0,0,4,0,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,100,0,0,188,0,0,0,222,0,0,0,56,0,0,0,30,0,0,0,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,100,0,0,56,1,0,0,162,0,0,0,56,0,0,0,28,0,0,0,38,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,101,0,0,48,1,0,0,108,0,0,0,56,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,101,0,0,186,0,0,0,128,0,0,0,56,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,101,0,0,46,0,0,0,130,0,0,0,56,0,0,0,120,0,0,0,4,0,0,0,60,0,0,0,10,0,0,0,38,0,0,0,88,0,0,0,4,0,0,0,248,255,255,255,80,101,0,0,22,0,0,0,10,0,0,0,34,0,0,0,16,0,0,0,2,0,0,0,32,0,0,0,124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,120,101,0,0,36,1,0,0,20,1,0,0,56,0,0,0,20,0,0,0,24,0,0,0,92,0,0,0,54,0,0,0,34,0,0,0,2,0,0,0,8,0,0,0,248,255,255,255,120,101,0,0,64,0,0,0,100,0,0,0,114,0,0,0,44,0,0,0,88,0,0,0,42,0,0,0,54,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,101,0,0,84,0,0,0,226,0,0,0,56,0,0,0,46,0,0,0,122,0,0,0,8,0,0,0,50,0,0,0,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,176,101,0,0,68,0,0,0,72,0,0,0,56,0,0,0,40,0,0,0,76,0,0,0,12,0,0,0,64,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,101,0,0,40,1,0,0,2,0,0,0,56,0,0,0,24,0,0,0,32,0,0,0,72,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,224,101,0,0,54,0,0,0,6,1,0,0,56,0,0,0,38,0,0,0,14,0,0,0,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,102,0,0,10,1,0,0,132,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,102,0,0,38,0,0,0,160,0,0,0,38,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,102,0,0,6,0,0,0,202,0,0,0,56,0,0,0,8,0,0,0,6,0,0,0,18,0,0,0,4,0,0,0,16,0,0,0,4,0,0,0,2,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,56,102,0,0,116,0,0,0,24,0,0,0,56,0,0,0,22,0,0,0,26,0,0,0,62,0,0,0,24,0,0,0,42,0,0,0,8,0,0,0,6,0,0,0,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,88,102,0,0,48,0,0,0,32,0,0,0,56,0,0,0,78,0,0,0,76,0,0,0,68,0,0,0,70,0,0,0,58,0,0,0,74,0,0,0,66,0,0,0,46,0,0,0,82,0,0,0,80,0,0,0,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,120,102,0,0,60,0,0,0,4],"i8",ua,t.Lb+10240),I([56,0,0,0,110,0,0,0,102,0,0,0,96,0,0,0,98,0,0,0,90,0,0,0,100,0,0,0,94,0,0,0,108,0,0,0,106,0,0,0,104,0,0,0,72,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,152,102,0,0,78,0,0,0,106,0,0,0,56,0,0,0,6,0,0,0,32,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,168,102,0,0,36,0,0,0,204,0,0,0,56,0,0,0,16,0,0,0,38,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,184,102,0,0,14,0,0,0,218,0,0,0,56,0,0,0,2,0,0,0,10,0,0,0,14,0,0,0,118,0,0,0,94,0,0,0,24,0,0,0,110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,216,102,0,0,210,0,0,0,154,0,0,0,56,0,0,0,14,0,0,0,16,0,0,0,18,0,0,0,50,0,0,0,8,0,0,0,20,0,0,0,84,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,248,102,0,0,210,0,0,0,28,0,0,0,56,0,0,0,6,0,0,0,4,0,0,0,4,0,0,0,92,0,0,0,60,0,0,0,10,0,0,0,126,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,103,0,0,210,0,0,0,118,0,0,0,56,0,0,0,12,0,0,0,8,0,0,0,22,0,0,0,30,0,0,0,14,0,0,0,8,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,56,103,0,0,210,0,0,0,42,0,0,0,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,72,103,0,0,64,0,0,0,182,0,0,0,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,88,103,0,0,210,0,0,0,86,0,0,0,56,0,0,0,20,0,0,0,2,0,0,0,6,0,0,0,12,0,0,0,20,0,0,0,28,0,0,0,26,0,0,0,6,0,0,0,6,0,0,0,10,0,0,0,10,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,120,103,0,0,60,1,0,0,44,0,0,0,56,0,0,0,14,0,0,0,4,0,0,0,2,0,0,0,36,0,0,0,10,0,0,0,8,0,0,0,26,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,168,103,0,0,74,0,0,0,94,0,0,0,70,0,0,0,34,0,0,0,14,0,0,0,32,0,0,0,36,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,184,103,0,0,210,0,0,0,92,0,0,0,56,0,0,0,12,0,0,0,8,0,0,0,22,0,0,0,30,0,0,0,14,0,0,0,8,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,200,103,0,0,210,0,0,0,192,0,0,0,56,0,0,0,12,0,0,0,8,0,0,0,22,0,0,0,30,0,0,0,14,0,0,0,8,0,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,216,103,0,0,150,0,0,0,30,1,0,0,84,0,0,0,22,0,0,0,16,0,0,0,34,0,0,0,80,0,0,0,96,0,0,0,34,0,0,0,28,0,0,0,26,0,0,0,8,0,0,0,44,0,0,0,24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,224,103,0,0,12,0,0,0,140,0,0,0,68,0,0,0,40,0,0,0,30,0,0,0,30,0,0,0,48,0,0,0,78,0,0,0,18,0,0,0,6,0,0,0,12,0,0,0,30,0,0,0,16,0,0,0,28,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,16,104,0,0,52,0,0,0,2,1,0,0,252,255,255,255,252,255,255,255,16,104,0,0,168,0,0,0,148,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,40,104,0,0,12,1,0,0,32,1,0,0,252,255,255,255,252,255,255,255,40,104,0,0,126,0,0,0,240,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,64,104,0,0,98,0,0,0,44,1,0,0,248,255,255,255,248,255,255,255,64,104,0,0,212,0,0,0,28,1,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,88,104,0,0,124,0,0,0,248,0,0,0,248,255,255,255,248,255,255,255,88,104,0,0,158,0,0,0,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,104,0,0,244,0,0,0,214,0,0,0,38,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,152,104,0,0,42,1,0,0,216,0,0,0,18,0,0,0,22,0,0,0,16,0,0,0,34,0,0,0,56,0,0,0,96,0,0,0,34,0,0,0,28,0,0,0,26,0,0,0,8,0,0,0,30,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,168,104,0,0,180,0,0,0,206,0,0,0,42,0,0,0,40,0,0,0,30,0,0,0,30,0,0,0,82,0,0,0,78,0,0,0,18,0,0,0,6,0,0,0,12,0,0,0,30,0,0,0,42,0,0,0,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,216,104,0,0,18,1,0,0,166,0,0,0,56,0,0,0,62,0,0,0,116,0,0,0,34,0,0,0,90,0,0,0,4,0,0,0,38,0,0,0,52,0,0,0,28,0,0,0,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,248,104,0,0,122,0,0,0,62,0,0,0,56,0,0,0,108,0,0,0,4,0,0,0,74,0,0,0,24,0,0,0,86,0,0,0,30,0,0,0,112,0,0,0,60,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,105,0,0,22,1,0,0,134,0,0,0,56,0,0,0,18,0,0,0,58,0,0,0,6,0,0,0,54,0,0,0,92,0,0,0,62,0,0,0,86,0,0,0,66,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,56,105,0,0,82,0,0,0,200,0,0,0,56,0,0,0,98,0,0,0,102,0,0,0,36,0,0,0,82,0,0,0,32,0,0,0,26,0,0,0,72,0,0,0,80,0,0,0,78,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,105,0,0,100,0,0,0,22,0,0,0,44,0,0,0,22,0,0,0,16,0,0,0,34,0,0,0,80,0,0,0,96,0,0,0,34,0,0,0,66,0,0,0,74,0,0,0,16,0,0,0,44,0,0,0,24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,105,0,0,18,0,0,0,14,1,0,0,70,0,0,0,40,0,0,0,30,0,0,0,30,0,0,0,48,0,0,0,78,0,0,0,18,0,0,0,90,0,0,0,24,0,0,0,4,0,0,0,16,0,0,0,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,144,105,0,0,250,0,0,0,238,0,0,0,70,0,0,0,178,0,0,0,8,0,0,0,2,0,0,0,12,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,208,105,0,0,50,1,0,0,26,1,0,0,0,1,0,0,88,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,224,105,0,0,4,1,0,0,8,1,0,0,246,0,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,105,0,0,46,1,0,0,80,0,0,0,104,0,0,0,76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,106,0,0,34,1,0,0,66,0,0,0,184,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,106,0,0,24,1,0,0,242,0,0,0,12,0,0,0,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,106,0,0,254,0,0,0,120,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,83,116,57,116,121,112,101,95,105,110,102,111,0,0,0,0,83,116,57,98,97,100,95,97,108,108,111,99,0,0,0,0,83,116,56,98,97,100,95,99,97,115,116,0,0,0,0,0,83,116,49,51,114,117,110,116,105,109,101,95,101,114,114,111,114,0,0,0,0,0,0,0,83,116,49,50,108,101,110,103,116,104,95,101,114,114,111,114,0,0,0,0,0,0,0,0,83,116,49,49,108,111,103,105,99,95,101,114,114,111,114,0,78,83,116,51,95,95,49,57,116,105,109,101,95,98,97,115,101,69,0,0,0,0,0,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,112,117,116,73,119,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,0,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,112,117,116,73,99,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,0,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,103,101,116,73,119,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,0,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,103,101,116,73,99,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,0,0,78,83,116,51,95,95,49,57,98,97,115,105,99,95,105,111,115,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,0,0,0,0,0,0,0,78,83,116,51,95,95,49,57,98,97,115,105,99,95,105,111,115,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,0,0,0,0,0,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,112,117,116,73,119,69,69,0,0,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,112,117,116,73,99,69,69,0,0,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,103,101,116,73,119,69,69,0,0,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,103,101,116,73,99,69,69,0,0,0,78,83,116,51,95,95,49,56,116,105,109,101,95,112,117,116,73,119,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,0,0,0,78,83,116,51,95,95,49,56,116,105,109,101,95,112,117,116,73,99,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,0,0,0,78,83,116,51,95,95,49,56,116,105,109,101,95,103,101,116,73,119,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,0,0,0,78,83,116,51,95,95,49,56,116,105,109,101,95,103,101,116,73,99,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,0,0,0,78,83,116,51,95,95,49,56,110,117,109,112,117,110,99,116,73,119,69,69,0,0,0,0,78,83,116,51,95,95,49,56,110,117,109,112,117,110,99,116,73,99,69,69,0,0,0,0,78,83,116,51,95,95,49,56,109,101,115,115,97,103,101,115,73,119,69,69,0,0,0,0,78,83,116,51,95,95,49,56,109,101,115,115,97,103,101,115,73,99,69,69,0,0,0,0,78,83,116,51,95,95,49,56,105,111,115,95,98,97,115,101,69,0,0,0,0,0,0,0,78,83,116,51,95,95,49,56,105,111,115,95,98,97,115,101,55,102,97,105,108,117,114,101,69,0,0,0,0,0,0,0,78,83,116,51,95,95,49,55,110,117,109,95,112,117,116,73,119,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,0,0,0,0,78,83,116,51,95,95,49,55,110,117,109,95,112,117,116,73,99,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,0,0,0,0,78,83,116,51,95,95,49,55,110,117,109,95,103,101,116,73,119,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,0,0,0,0,78,83,116,51,95,95,49,55,110,117,109,95,103,101,116,73,99,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,0,0,0,0,78,83,116,51,95,95,49,55,99,111,108,108,97,116,101,73,119,69,69,0,0,0,0,0,78,83,116,51,95,95,49,55,99,111,108,108,97,116,101,73,99,69,69,0,0,0,0,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,119,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,0,0,0,0,0,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,99,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,0,0,0,0,0,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,68,115,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,0,0,0,0,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,68,105,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,0,0,0,0,0,78,83,116,51,95,95,49,54,108,111,99,97,108,101,53,102,97,99,101,116,69,0,0,0,78,83,116,51,95,95,49,54,108,111,99,97,108,101,53,95,95,105,109,112,69,0,0,0,78,83,116,51,95,95,49,53,99,116,121,112,101,73,119,69,69,0,0,0,0,0,0,0,78,83,116,51,95,95,49,53,99,116,121,112,101,73,99,69,69,0,0,0,0,0,0,0,78,83,116,51,95,95,49,50,48,95,95,116,105,109,101,95,103,101,116,95,99,95,115,116,111,114,97,103,101,73,119,69,69,0,0,0,0,0,0,0,78,83,116,51,95,95,49,50,48,95,95,116,105,109,101,95,103,101,116,95,99,95,115,116,111,114,97,103,101,73,99,69,69,0,0,0,0,0,0,0,78,83,116,51,95,95,49,49,57,95,95,105,111,115,116,114,101,97,109,95,99,97,116,101,103,111,114,121,69,0,0,0,78,83,116,51,95,95,49,49,55,95,95,119,105,100,101,110,95,102,114,111,109,95,117,116,102,56,73,76,106,51,50,69,69,69,0,0,0,0,0,0,78,83,116,51,95,95,49,49,54,95,95,110,97,114,114,111,119,95,116,111,95,117,116,102,56,73,76,106,51,50,69,69,69,0,0,0,0,0,0,0,78,83,116,51,95,95,49,49,53,98,97,115,105,99,95,115,116,114,101,97,109,98,117,102,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,0,0,0,0,0,0,0,0,78,83,116,51,95,95,49,49,53,98,97,115,105,99,95,115,116,114,101,97,109,98,117,102,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,0,0,0,0,0,0,0,78,83,116,51,95,95,49,49,52,101,114,114,111,114,95,99,97,116,101,103,111,114,121,69,0,0,0,0,0,0,0,0,78,83,116,51,95,95,49,49,52,95,95,115,104,97,114,101,100,95,99,111,117,110,116,69,0,0,0,0,0,0,0,0,78,83,116,51,95,95,49,49,52,95,95,110,117,109,95,112,117,116,95,98,97,115,101,69,0,0,0,0,0,0,0,0,78,83,116,51,95,95,49,49,52,95,95,110,117,109,95,103,101,116,95,98,97,115,101,69,0,0,0,0,0,0,0,0,78,83,116,51,95,95,49,49,51,109,101,115,115,97,103,101,115,95,98,97,115,101,69,0,78,83,116,51,95,95,49,49,51,98,97,115,105,99,95,111,115,116,114,101,97,109,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,0,0,78,83,116,51,95,95,49,49,51,98,97,115,105,99,95,111,115,116,114,101,97,109,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,0,78,83,116,51,95,95,49,49,51,98,97,115,105,99,95,105,115,116,114,101,97,109,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,0,0,78,83,116,51,95,95,49,49,51,98,97,115,105,99,95,105,115,116,114,101,97,109,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,0,78,83,116,51,95,95,49,49,50,115,121,115,116,101,109,95,101,114,114,111,114,69,0,0,78,83,116,51,95,95,49,49,50,99,111,100,101,99,118,116,95,98,97,115,101,69,0,0,78,83,116,51,95,95,49,49,50,95,95,100,111,95,109,101,115,115,97,103,101,69,0,0,78,83,116,51,95,95,49,49,49,95,95,115,116,100,111,117,116,98,117,102,73,119,69,69,0,0,0,0,0,0,0,0,78,83,116,51,95,95,49,49,49,95,95,115,116,100,111,117,116,98,117,102,73,99,69,69,0,0,0,0,0,0,0,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,112,117,116,73,119,69,69,0,0,0,0,0,0,0,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,112,117,116,73,99,69,69,0,0,0,0,0,0,0,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,103,101,116,73,119,69,69,0,0,0,0,0,0,0,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,103,101,116,73,99,69,69,0,0,0,0,0,0,0,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,119,76,98,49,69,69,69,0,0,0,0,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,119,76,98,48,69,69,69,0,0,0,0,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,99,76,98,49,69,69,69,0,0,0,0,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,99,76,98,48,69,69,69,0,0,0,0,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,95,98,97,115,101,69,0,0,0,0,78,83,116,51,95,95,49,49,48,99,116,121,112,101,95,98,97,115,101,69,0,0,0,0,78,83,116,51,95,95,49,49,48,95,95,116,105,109,101,95,112,117,116,69,0,0,0,0,78,83,116,51,95,95,49,49,48,95,95,115,116,100,105,110,98,117,102,73,119,69,69,0,78,83,116,51,95,95,49,49,48,95,95,115,116,100,105,110,98,117,102,73,99,69,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,0,50,54,116,104,114,101,97,100,95,116,97,115,107,95,100,101,98,108,111,99,107,95,67,84,66,82,111,119,0,0,0,0,50,53,116,104,114,101,97,100,95,116,97,115,107,95,115,108,105,99,101,95,115,101,103,109,101,110,116,0,0,0,0,0,49,57,116,104,114,101,97,100,95,116,97,115,107,95,99,116,98,95,114,111,119,0,0,0,49,53,116,104,114,101,97,100,95,116,97,115,107,95,115,97,111,0,0,0,0,0,0,0,49,53,100,101,99,111,100,101,114,95,99,111,110,116,101,120,116,0,0,0,0,0,0,0,49,50,98,97,115,101,95,99,111,110,116,101,120,116,0,0,49,49,116,104,114,101,97,100,95,116,97,115,107,0,0,0,49,49,101,114,114,111,114,95,113,117,101,117,101,0,0,0,0,0,0,0,96,87,0,0,0,0,0,0,112,87,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,87,0,0,0,0,0,0,0,0,0,0,0,0,0,0,144,87,0,0,0,0,0,0,0,0,0,0,0,0,0,0,168,87,0,0,248,99,0,0,0,0,0,0,0,0,0,0,192,87,0,0,0,0,0,0,0,0,0,0,0,0,0,0,208,87,0,0,120,86,0,0,232,87,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,184,104,0,0,0,0,0,0,120,86,0,0,48,88,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,192,104,0,0,0,0,0,0,120,86,0,0,120,88,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,200,104,0,0,0,0,0,0,120,86,0,0,192,88,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,208,104,0,0,0,0,0,0,0,0,0,0,8,89,0,0,0,102,0,0,0,0,0,0,0,0,0,0,56,89,0,0,0,102,0,0,0,0,0,0,120,86,0,0,104,89,0,0,0,0,0,0,1,0,0,0,248,103,0,0,0,0,0,0,120,86,0,0,128,89,0,0,0,0,0,0,1,0,0,0,248,103,0,0,0,0,0,0,120,86,0,0,152,89,0,0,0,0,0,0,1,0,0,0,0,104,0,0,0,0,0,0,120,86,0,0,176,89,0,0,0,0,0,0,1,0,0,0,0,104,0,0,0,0,0,0,120,86,0,0,200,89,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,104,105,0,0,0,8,0,0,120,86,0,0,16,90,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,104,105,0,0,0,8,0,0,120,86,0,0,88,90,0,0,0,0,0,0,3,0,0,0,56,103,0,0,2,0,0,0,8,100,0,0,2,0,0,0,152,103,0,0,0,8,0,0,120,86,0,0,160,90,0,0,0,0,0,0,3,0,0,0,56,103,0,0,2,0,0,0,8,100,0,0,2,0,0,0,160,103,0,0,0,8,0,0,0,0,0,0,232,90,0,0,56,103,0,0,0,0,0,0,0,0,0,0,0,91,0,0,56,103,0,0,0,0,0,0,120,86,0,0,24,91,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,8,104,0,0,2,0,0,0,120,86,0,0,48,91,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,8,104,0,0,2,0,0,0,0,0,0,0,72,91,0,0,0,0,0,0,96,91,0,0,112,104,0,0,0,0,0,0,120,86,0,0,128,91,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,176,100,0,0,0,0,0,0,120,86,0,0,200,91,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,200,100,0,0,0,0,0,0,120,86,0,0,16,92,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,224,100,0,0,0,0,0,0,120,86,0,0,88,92,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,248,100,0,0,0,0,0,0,0,0,0,0,160,92,0,0,56,103,0,0,0,0,0,0,0,0,0,0,184,92,0,0,56,103,0,0,0,0,0,0,120,86,0,0,208,92,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,128,104,0,0,2,0,0,0,120,86,0,0,248,92,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,128,104,0,0,2,0,0,0,120,86,0,0,32,93,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,128,104,0,0,2,0,0,0,120,86,0,0,72,93,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,128,104,0,0,2,0,0,0,0,0,0,0,112,93,0,0,240,103,0,0,0,0,0,0,0,0,0,0,136,93,0,0,56,103,0,0,0,0,0,0,120,86,0,0,160,93,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,96,105,0,0,2,0,0,0,120,86,0,0,184,93,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,96,105,0,0,2,0,0,0,0,0,0,0,208,93,0,0,0,0,0,0,248,93,0,0,0,0,0,0,32,94,0,0,136,104,0,0,0,0,0,0,0,0,0,0,64,94,0,0,24,103,0,0,0,0,0,0,0,0,0,0,104,94,0,0,24,103,0,0,0,0,0,0,0,0,0,0,144,94,0,0,0,0,0,0,200,94,0,0,0,0,0,0,0,95,0,0,0,0,0,0,32,95,0,0,0,0,0,0,64,95,0,0,0,0,0,0,96,95,0,0,0,0,0,0,128,95,0,0,120,86,0,0,152,95,0,0,0,0,0,0,1,0,0,0,144,100,0,0,3,244,255,255,120,86,0,0,200,95,0,0,0,0,0,0,1,0,0,0,160,100,0,0,3,244,255,255,120,86,0,0,248,95,0,0,0,0,0,0,1,0,0,0,144,100,0,0,3,244,255,255,120,86,0,0,40,96,0,0,0,0,0,0,1,0,0,0,160,100,0,0,3,244,255,255,0,0,0,0,88,96,0,0,216,99,0,0,0,0,0,0,0,0,0,0,112,96,0,0,0,0,0,0,136,96,0,0,232,103,0,0,0,0,0,0,0,0,0,0,160,96,0,0,216,103,0,0,0,0,0,0,0,0,0,0,192,96,0,0,224,103,0,0,0,0,0,0,0,0,0,0,224,96,0,0,0,0,0,0,0,97,0,0,0,0,0,0,32,97,0,0,0,0,0,0,64,97,0,0,120,86,0,0,96,97,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,88,105,0,0,2,0,0,0,120,86,0,0,128,97,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,88,105,0,0,2,0,0,0,120,86,0,0,160,97,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,88,105,0,0,2,0,0,0,120,86,0,0,192,97,0,0,0,0,0,0,2,0,0,0,56,103,0,0,2,0,0,0,88,105,0,0,2,0,0,0,0,0,0,0,224,97,0,0,0,0,0,0,248,97,0,0,0,0,0,0,16,98,0,0,0,0,0,0,40,98,0,0,216,103,0,0,0,0,0,0,0,0,0,0,64,98,0,0,224,103,0,0,0,0,0,0,0,0,0,0,88,98,0,0,176,105,0,0,0,0,0,0,0,0,0,0,128,98,0,0,176,105,0,0,0,0,0,0,0,0,0,0,168,98,0,0,192,105,0,0,0,0,0,0,0,0,0,0,208,98,0,0,176,99,0,0,0,0,0,0,0,0,0,0,248,98,0,0,56,106,0,0,0,0,0,0,0,0,0,0,24,99,0,0,56,106,0,0,0,0,0,0,0,0,0,0,56,99,0,0,56,106,0,0,0,0,0,0,0,0,0,0,80,99,0,0,56,106,0,0,0,0,0,0,0,0,0,0,104,99,0,0,32,106,0,0,0,0,0,0,120,86,0,0,128,99,0,0,0,0,0,0,1,0,0,0,64,106,0,0,2,4,0,0,0,0,0,0,144,99,0,0,0,0,0,0,160,99,0,0,48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102,65,66,67,68,69,70,120,88,43,45,112,80,105,73,110,78,0,0,0,0,0,0,0,0,4,0,0,0,42,0,0,0,29,55,74,84,74,74,0,182,84,227,182,55,55,172,74,227,0,1,4,5,2,3,4,5,6,6,8,8,7,7,8,99,128,176,208,240,128,167,197,227,128,158,187,216,123,150,178,205,116,142,169,195,111,135,160,185,105,128,152,175,100,122,144,166,95,116,137,158,90,110,130,150,85,104,123,142,81,99,117,135,77,94,111,128,73,89,105,122,69,85,100,116,66,80,95,110,62,76,90,104,59,72,86,99,56,69,81,94,53,65,77,89,51,62,73,85,48,59,69,80,46,56,66,76,43,53,63,72,41,50,59,69,39,48,56,65,37,45,54,62,35,43,51,59,33,41,48,56,32,39,46,53,30,37,43,50,29,35,41,48,27,33,39,45,26,31,37,43,24,30,35,41,23,28,33,39,22,27,32,37,21,26,30,35,20,24,29,33,19,23,27,31,18,22,26,30,17,21,25,28,16,20,23,27,15,19,22,25,14,18,21,24,14,17,20,23,13,16,19,22,12,15,18,21,12,14,17,20,11,14,16,19,11,13,15,18,10,12,15,17,10,12,14,16,9,11,13,15,9,11,12,14,8,10,12,14,8,9,11,13,7,9,11,12,7,9,10,12,7,8,10,11,6,8,9,11,6,7,9,10,6,7,8,9,2,2,2,2,0,0,0,0,0,0,0,0,232,201,0,0,104,201,0,0,104,199,0,0,104,191,0,0,0,0,0,0,0,0,0,0,72,191,0,0,200,190,0,0,200,188,0,0,200,180,0,0,0,0,0,0,0,0,0,0,168,180,0,0,40,180,0,0,40,178,0,0,40,170,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,90,90,88,85,82,78,73,67,61,54,46,38,31,22,13,4,252,243,234,225,218,210,202,195,189,183,178,174,171,168,166,166,90,87,80,70,57,43,25,9,247,231,213,199,186,176,169,166,166,169,176,186,199,213,231,247,9,25,43,57,70,80,87,90,90,82,67,46,22,252,225,202,183,171,166,168,178,195,218,243,13,38,61,78,88,90,85,73,54,31,4,234,210,189,174,166,89,75,50,18,238,206,181,167,167,181,206,238,18,50,75,89,89,75,50,18,238,206,181,167,167,181,206,238,18,50,75,89,88,67,31,243,202,174,166,178,210,252,38,73,90,85,61,22,234,195,171,166,183,218,4,46,78,90,82,54,13,225,189,168,87,57,9,213,176,166,186,231,25,70,90,80,43,247,199,169,169,199,247,43,80,90,70,25,231,186,166,176,213,9,57,87,85,46,243,189,166,183,234,38,82,88,54,252,195,166,178,225,31,78,90,61,4,202,168,174,218,22,73,90,67,13,210,171,83,36,220,173,173,220,36,83,83,36,220,173,173,220,36,83,83,36,220,173,173,220,36,83,83,36,220,173,173,220,36,83,82,22,202,166,195,13,78,85,31,210,166,189,4,73,88,38,218,168,183,252,67,90,46,225,171,178,243,61,90,54,234,174,80,9,186,169,231,57,90,43,213,166,199,25,87,70,247,176,176,247,70,87,25,199,166,213,43,90,57,231,169,186,9,80,78,252,174,183,13,85,67,234,168,195,31,90,54,218,166,210,46,90,38,202,166,225,61,88,22,189,171,243,73,82,4,178,75,238,167,206,50,89,18,181,181,18,89,50,206,167,238,75,75,238,167,206,50,89,18,181,181,18,89,50,206,167,238,75,73,225,166,234,78,67,218,166,243,82,61,210,168,252,85,54,202,171,4,88,46,195,174,13,90,38,189,178,22,90,31,183,70,213,169,9,90,25,176,199,57,80,231,166,247,87,43,186,186,43,87,247,166,231,80,57,199,176,25,90,9,169,213,70,67,202,178,38,85,234,166,4,90,13,168,225,82,46,183,195,61,73,210,174,31,88,243,166,252,90,22,171,218,78,54,189,64,192,192,64,64,192,192,64,64,192,192,64,64,192,192,64,64,192,192,64,64,192,192,64,64,192,192,64,64,192,192,64,61,183,210,82,31,168,243,90,252,166,22,85,218,178,54,67,189,202,78,38,171,234,90,4,166,13,88,225,174,46,73,195,57,176,231,90,247,169,43,70,186,213,87,9,166,25,80,199,199,80,25,166,9,87,213,186,70,43,169,247,90,231,176,57,54,171,252,88,210,195,82,13,166,38,67,178,234,90,225,183,73,31,166,22,78,189,218,90,243,174,61,46,168,4,85,202,50,167,18,75,181,238,89,206,206,89,238,181,75,18,167,50,50,167,18,75,181,238,89,206,206,89,238,181,75,18,167,50,46,166,38,54,166,31,61,168,22,67,171,13,73,174,4,78,178,252,82,183,243,85,189,234,88,195,225,90,202,218,90,210,43,166,57,25,169,70,9,176,80,247,186,87,231,199,90,213,213,90,199,231,87,186,247,80,176,9,70,169,25,57,166,43,38,168,73,252,189,90,210,225,85,178,13,61,166,54,22,174,82,234,202,90,195,243,78,171,31,46,166,67,4,183,88,218,36,173,83,220,220,83,173,36,36,173,83,220,220,83,173,36,36,173,83,220,220,83,173,36,36,173,83,220,220,83,173,36,31,178,90,195,4,54,168,82,218,234,73,166,67,243,210,85,171,46,13,189,90,183,22,38,174,88,202,252,61,166,78,225,25,186,90,176,43,9,199,87,169,57,247,213,80,166,70,231,231,70,166,80,213,247,57,169,87,199,9,43,176,90,186,25,22,195,85,166,73,218,252,46,178,90,174,54,243,225,67,168,88,189,31,13,202,82,166,78,210,4,38,183,90,171,61,234,18,206,75,167,89,181,50,238,238,50,181,89,167,75,206,18,18,206,75,167,89,181,50,238,238,50,181,89,167,75,206,18,13,218,61,178,88,166,85,183,54,225,4,22,210,67,174,90,166,82,189,46,234,252,31,202,73,171,90,168,78,195,38,243,9,231,43,199,70,176,87,166,90,169,80,186,57,213,25,247,247,25,213,57,186,80,169,90,166,87,176,70,199,43,231,9,4,243,22,225,38,210,54,195,67,183,78,174,85,168,90,166,90,166,88,171,82,178,73,189,61,202,46,218,31,234,13,252,24,170,0,0,192,148,0,0,160,148,0,0,32,148,0,0,32,146,0,0,32,138,0,0,0,0,0,0,0,0,0,0,24,170,0,0,104,159,0,0,72,159,0,0,200,158,0,0,200,156,0,0,200,148,0,0,0,0,0,0,0,0,0,0,24,170,0,0,16,170,0,0,240,169,0,0,112,169,0,0,112,167,0,0,112,159,0,0,0,0,0,0,0,0,0,0,110,0,0,0,110,0,0,0,124,0,0,0,125,0,0,0,140,0,0,0,153,0,0,0,125,0,0,0,127,0,0,0,140,0,0,0,109,0,0,0,111,0,0,0,143,0,0,0,127,0,0,0,111,0,0,0,79,0,0,0,108,0,0,0,123,0,0,0,63,0,0,0,125,0,0,0,110,0,0,0,94,0,0,0,110,0,0,0,95,0,0,0,79,0,0,0,125,0,0,0,111,0,0,0,110,0,0,0,78,0,0,0,110,0,0,0,111,0,0,0,111,0,0,0,95,0,0,0,94,0,0,0,108,0,0,0,123,0,0,0,108,0,0,0,125,0,0,0,110,0,0,0,124,0,0,0,110,0,0,0,95,0,0,0,94,0,0,0,125,0,0,0,111,0,0,0,111,0,0,0,79,0,0,0,125,0,0,0,126,0,0,0,111,0,0,0,111,0,0,0,79,0,0,0,108,0,0,0,123,0,0,0,93,0,0,0,141,0,0,0,111,0,0,0,140,0,0,0,140,0,0,0,140,0,0,0,140,0,0,0,138,0,0,0,153,0,0,0,136,0,0,0,167,0,0,0,152,0,0,0,152,0,0,0,107,0,0,0,167,0,0,0,91,0,0,0,122,0,0,0,107,0,0,0,167,0,0,0,107,0,0,0,167,0,0,0,91,0,0,0,107,0,0,0,107,0,0,0,167,0,0,0,140,0,0,0,92,0,0,0,137,0,0,0,138,0,0,0,140,0,0,0,152,0,0,0,138,0,0,0,139,0,0,0,153,0,0,0,74,0,0,0,149,0,0,0,92,0,0,0,139,0,0,0,107,0,0,0,122,0,0,0,152,0,0,0,140,0,0,0,179,0,0,0,166,0,0,0,182,0,0,0,140,0,0,0,227,0,0,0,122,0,0,0,197,0,0,0,154,0,0,0,196,0,0,0,196,0,0,0,167,0,0,0,154,0,0,0,152,0,0,0,167,0,0,0,182,0,0,0,182,0,0,0,134,0,0,0,149,0,0,0,136,0,0,0,153,0,0,0,121,0,0,0,136,0,0,0,137,0,0,0,169,0,0,0,194,0,0,0,166,0,0,0,167,0,0,0,154,0,0,0,167,0,0,0,137,0,0,0,182,0,0,0,154,0,0,0,196,0,0,0,167,0,0,0,167,0,0,0,154,0,0,0,152,0,0,0,167,0,0,0,182,0,0,0,182,0,0,0,134,0,0,0,149,0,0,0,136,0,0,0,153,0,0,0,121,0,0,0,136,0,0,0,122,0,0,0,169,0,0,0,208,0,0,0,166,0,0,0,167,0,0,0,154,0,0,0,152,0,0,0,167,0,0,0,182,0,0,0,200,0,0,0,185,0,0,0,160,0,0,0,0,0,0,0,184,0,0,0,154,0,0,0,183,0,0,0,0,0,0,0,154,0,0,0,154,0,0,0,154,0,0,0,0,0,0,0,111,0,0,0,111,0,0,0,125,0,0,0,110,0,0,0,110,0,0,0,94,0,0,0,124,0,0,0,108,0,0,0,124,0,0,0,107,0,0,0,125,0,0,0,141,0,0,0,179,0,0,0,153,0,0,0,125,0,0,0,107,0,0,0,125,0,0,0,141,0,0,0,179,0,0,0,153,0,0,0,125,0,0,0,107,0,0,0,125,0,0,0,141,0,0,0,179,0,0,0,153,0,0,0,125,0,0,0,140,0,0,0,139,0,0,0,182,0,0,0,182,0,0,0,152,0,0,0,136,0,0,0,152,0,0,0,136,0,0,0,153,0,0,0,136,0,0,0,139,0,0,0,111,0,0,0,136,0,0,0,139,0,0,0,111,0,0,0,155,0,0,0,154,0,0,0,139,0,0,0,153,0,0,0,139,0,0,0,123,0,0,0,123,0,0,0,63,0,0,0,153,0,0,0,166,0,0,0,183,0,0,0,140,0,0,0,136,0,0,0,153,0,0,0,154,0,0,0,166,0,0,0,183,0,0,0,140,0,0,0,136,0,0,0,153,0,0,0,154,0,0,0,166,0,0,0,183,0,0,0,140,0,0,0,136,0,0,0,153,0,0,0,154,0,0,0,170,0,0,0,153,0,0,0,123,0,0,0,123,0,0,0,107,0,0,0,121,0,0,0,107,0,0,0,121,0,0,0,167,0,0,0,151,0,0,0,183,0,0,0,140,0,0,0,151,0,0,0,183,0,0,0,140,0,0,0,170,0,0,0,154,0,0,0,139,0,0,0,153,0,0,0,139,0,0,0,123,0,0,0,123,0,0,0,63,0,0,0,124,0,0,0,166,0,0,0,183,0,0,0,140,0,0,0,136,0,0,0,153,0,0,0,154,0,0,0,166,0,0,0,183,0,0,0,140,0,0,0,136,0,0,0,153,0,0,0,154,0,0,0,166,0,0,0,183,0,0,0,140,0,0,0,136,0,0,0,153,0,0,0,154,0,0,0,170,0,0,0,153,0,0,0,138,0,0,0,138,0,0,0,122,0,0,0,121,0,0,0,122,0,0,0,121,0,0,0,167,0,0,0,151,0,0,0,183,0,0,0,140,0,0,0,151,0,0,0,183,0,0,0,140,0,0,0,63,0,0,0,152,0,0,0,152,0,0,0,0,0,0,0,140,0,0,0,198,0,0,0,169,0,0,0,198,0,0,0,153,0,0,0,153,0,0,0,153,0,0,0,0,0,0,0,153,0,0,0,138,0,0,0,138,0,0,0,124,0,0,0,138,0,0,0,94,0,0,0,224,0,0,0,167,0,0,0,122,0,0,0,0,0,0,0,91,0,0,0,171,0,0,0,134,0,0,0,141,0,0,0,121,0,0,0,140,0,0,0,61,0,0,0,154,0,0,0,121,0,0,0,140,0,0,0,61,0,0,0,154,0,0,0,16,16,16,16,16,16,16,16,16,16,17,16,17,16,17,18,17,18,18,17,18,21,19,20,21,20,19,21,24,22,22,24,24,22,22,24,25,25,27,30,27,25,25,29,31,35,35,31,29,36,41,44,41,36,47,54,54,47,65,70,65,88,88,115,16,16,16,16,16,16,16,16,16,16,17,17,17,17,17,18,18,18,18,18,18,20,20,20,20,20,20,20,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,28,28,28,28,28,28,33,33,33,33,33,41,41,41,41,54,54,54,71,71,91,149,0,0,0,134,0,0,0,139,0,0,0,141,0,0,0,157,0,0,0,107,0,0,0,139,0,0,0,126,0,0,0,107,0,0,0,139,0,0,0,126,0,0,0,0,0,0,0,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,197,0,0,0,185,0,0,0,201,0,0,0,197,0,0,0,185,0,0,0,201,0,0,0,110,0,0,0,154,0,0,0,94,0,0,0,138,0,0,0,182,0,0,0,154,0,0,0,149,0,0,0,107,0,0,0,167,0,0,0,154,0,0,0,149,0,0,0,92,0,0,0,167,0,0,0,154,0,0,0,184,0,0,0,154,0,0,0,139,0,0,0,154,0,0,0,154,0,0,0,154,0,0,0,139,0,0,0,154,0,0,0,154,0,0,0,0,0,0,0,122,0,0,0,137,0,0,0,111,0,0,0,141,0,0,0,153,0,0,0,111,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,7,8,9,10,11,12,13,14,15,16,17,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,62,63,0,0,1,2,2,4,4,5,6,7,8,9,9,11,11,12,13,13,15,15,16,16,18,18,19,19,21,21,22,22,23,24,24,25,26,26,27,27,28,29,29,30,30,30,31,32,32,33,33,33,34,34,35,35,35,36,36,36,37,37,37,38,38,63,0,1,2,2,2,2,3,5,7,8,10,12,13,15,17,18,19,20,21,22,23,23,24,24,25,25,26,27,27,28,28,29,29,30,31,0,0,0,0,0,0,240,255,255,154,249,255,255,114,252,255,255,138,253,255,255,30,254,255,255,122,254,255,255,197,254,255,255,0,255,255,255,197,254,255,255,122,254,255,255,30,254,255,255,138,253,255,255,114,252,255,255,154,249,255,255,0,240,255,255,0,0,0,0,255,255,255,255,2,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,5,5,6,6,7,8,9,10,11,13,14,16,18,20,22,24,0,0,255,255,255,255,2],"i8",ua,t.Lb+20480),I([2,0,0,0,1,0,0,0,6,5,4,4,3,3,3,3,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,3,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,2,0,0,0,0,0,0,0,1,0,1,0,12,0,11,0,10,0,11,0,16,0,11,0,40,0,33,0,24,0,11,0,20,0,11,0,32,0,11,0,80,0,33,0,18,0,11,0,15,0,11,0,64,0,33,0,160,0,99,0,4,0,3,0,3,0,2,0,2,0,1,0,0,0,0,0,0,0,0,0,3,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,3,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,2,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,3,0,0,0,1,0,0,0,3,0,0,0,2,0,0,0,3,0,0,0,1,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,3,0,0,0,1,0,0,0,3,0,0,0,2,0,0,0,40,0,0,0,45,0,0,0,51,0,0,0,57,0,0,0,64,0,0,0,72,0,0,0],"i8",ua,t.Lb+30720);var ja=t.rb(I(12,"i8",Q),8);K(ja%8==0);var ya=0,xa=8;e._memcpy=Ac;var i={W:1,Fb:2,Kh:3,Kg:4,Fa:5,qd:6,hg:7,hh:8,S:9,ug:10,nb:11,Uh:11,Je:12,od:13,Fg:14,th:15,Ea:16,pd:17,Le:18,Eb:19,Hb:20,Va:21,C:22,bh:23,Ie:24,Ke:25,Rh:26,Gg:27,ph:28,Jb:29,Hh:30,Vg:31,Bh:32,Cg:33,rd:34,lh:42,Ig:43,vg:44,Mg:45,Ng:46,Og:47,Ug:48,Sh:49,fh:50,Lg:51,Ag:35,ih:37,mg:52,pg:53,Vh:54,dh:55,qg:56,rg:57,Bg:35,sg:59,rh:60,gh:61,Oh:62,qh:63,mh:64,nh:65,Gh:66,jh:67,kg:68,Lh:69,wg:70,Ch:71,Xg:72,Dg:73,og:74,xh:76,ng:77,Fh:78,Pg:79,Qg:80,Tg:81,Sg:82,Rg:83,sh:38,uc:39,Yg:36,tc:40,Ib:95,Ah:96,zg:104,eh:105,lg:97,Eh:91,vh:88,oh:92,Ih:108,yg:111,ig:98,xg:103,ah:101,Zg:100,Ph:110,Hg:112,Fe:113,Ge:115,De:114,Ee:89,Wg:90,Dh:93,Jh:94,jg:99,$g:102,He:106,Gb:107,Qh:109,Th:87,Eg:122,Mh:116,wh:95,kh:123,Jg:84,yh:75,tg:125,uh:131,zh:130,Nh:86},Ra={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},Na=0,A={ue:function(me){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(me).slice(1)},Xc:function(me,Ce){for(var Je=0,j=me.length-1;0<=j;j--){var be=me[j];be==="."?me.splice(j,1):be===".."?(me.splice(j,1),Je++):Je&&(me.splice(j,1),Je--)}if(Ce)for(;Je--;Je)me.unshift("..");return me},normalize:function(j){var Ce=j.charAt(0)==="/",Je=j.substr(-1)==="/",j=A.Xc(j.split("/").filter(function(be){return!!be}),!Ce).join("/");return!j&&!Ce&&(j="."),j&&Je&&(j+="/"),(Ce?"/":"")+j},dirname:function(Ce){var Je=A.ue(Ce),Ce=Je[0],Je=Je[1];return!Ce&&!Je?".":(Je&&(Je=Je.substr(0,Je.length-1)),Ce+Je)},ua:function(me){if(me==="/")return"/";var Ce=me.lastIndexOf("/");return Ce===-1?me:me.substr(Ce+1)},si:function(me){return A.ue(me)[3]},join:function(){var me=Array.prototype.slice.call(arguments,0);return A.normalize(me.join("/"))},U:function(me,Ce){return A.normalize(me+"/"+Ce)},eb:function(){for(var me="",Ce=G,Je=arguments.length-1;-1<=Je&&!Ce;Je--){var j=0<=Je?arguments[Je]:d.Ec();typeof j!="string"&&l(new TypeError("Arguments to path.resolve must be strings")),j&&(me=j+"/"+me,Ce=j.charAt(0)==="/")}return me=A.Xc(me.split("/").filter(function(be){return!!be}),!Ce).join("/"),(Ce?"/":"")+me||"."},qe:function(me,Ce){function Je(it){for(var p0=0;p0<it.length&&it[p0]==="";p0++);for(var D=it.length-1;0<=D&&it[D]==="";D--);return p0>D?[]:it.slice(p0,D-p0+1)}for(var me=A.eb(me).substr(1),Ce=A.eb(Ce).substr(1),j=Je(me.split("/")),be=Je(Ce.split("/")),r=Math.min(j.length,be.length),We=r,f0=0;f0<r;f0++)if(j[f0]!==be[f0]){We=f0;break}for(r=[],f0=We;f0<j.length;f0++)r.push("..");return r=r.concat(be.slice(We)),r.join("/")}},ca={ze:[],Ba:H(),ej:H(),pe:function(me,Ce){ca.ze[me]={input:[],Qa:[],Ab:Ce},d.ad(me,ca.o)},o:{open:function(me){var Ce=ca.ze[me.k.ab];Ce||l(new d.e(i.Eb)),me.aa=Ce,me.seekable=G},close:function(me){me.aa.Qa.length&&me.aa.Ab.lc(me.aa,10)},O:function(me,Ce,Je,j){(!me.aa||!me.aa.Ab.Zd)&&l(new d.e(i.qd));for(var be=0,r=0;r<j;r++){var We;try{We=me.aa.Ab.Zd(me.aa)}catch{l(new d.e(i.Fa))}if(We===p&&be===0&&l(new d.e(i.nb)),We===v||We===p)break;be++,Ce[Je+r]=We}return be&&(me.k.timestamp=Date.now()),be},write:function(me,Ce,Je,j){(!me.aa||!me.aa.Ab.lc)&&l(new d.e(i.qd));for(var be=0;be<j;be++)try{me.aa.Ab.lc(me.aa,Ce[Je+be])}catch{l(new d.e(i.Fa))}return j&&(me.k.timestamp=Date.now()),be}},pf:{Zd:function(me){if(!me.input.length){var Ce=v;if(ea){if(Ce=process.stdin.read(),!Ce)return process.stdin._readableState&&process.stdin._readableState.ended?v:void 0}else typeof window<"u"&&typeof window.prompt=="function"?(Ce=window.prompt("Input: "),Ce!==v&&(Ce+=`
`)):typeof readline=="function"&&(Ce=readline(),Ce!==v&&(Ce+=`
`));if(!Ce)return v;me.input=X(Ce,s)}return me.input.shift()},lc:function(me,Ce){Ce===v||Ce===10?(e.print(me.Qa.join("")),me.Qa=[]):me.Qa.push(ca.Be.kc(Ce))}},of:{lc:function(me,Ce){Ce===v||Ce===10?(e.printErr(me.Qa.join("")),me.Qa=[]):me.Qa.push(ca.Be.kc(Ce))}}},z={ha:v,Ce:1,sc:2,ld:3,I:function(){return z.createNode(v,"/",16895,0)},createNode:function(me,Ce,Je,j){return(d.Ef(Je)||d.Ff(Je))&&l(new d.e(i.W)),z.ha||(z.ha={dir:{k:{Z:z.n.Z,M:z.n.M,Za:z.n.Za,fa:z.n.fa,rename:z.n.rename,Ua:z.n.Ua,fb:z.n.fb,bb:z.n.bb,ka:z.n.ka},ia:{ea:z.o.ea}},file:{k:{Z:z.n.Z,M:z.n.M},ia:{ea:z.o.ea,O:z.o.O,write:z.o.write,sb:z.o.sb,wb:z.o.wb}},link:{k:{Z:z.n.Z,M:z.n.M,Ra:z.n.Ra},ia:{}},Dd:{k:{Z:z.n.Z,M:z.n.M},ia:d.Ze}}),Je=d.createNode(me,Ce,Je,j),d.K(Je.mode)?(Je.n=z.ha.dir.k,Je.o=z.ha.dir.ia,Je.A={}):d.isFile(Je.mode)?(Je.n=z.ha.file.k,Je.o=z.ha.file.ia,Je.A=[],Je.Sb=z.sc):d.Ya(Je.mode)?(Je.n=z.ha.link.k,Je.o=z.ha.link.ia):d.dc(Je.mode)&&(Je.n=z.ha.Dd.k,Je.o=z.ha.Dd.ia),Je.timestamp=Date.now(),me&&(me.A[Ce]=Je),Je},Hc:function(me){me.Sb!==z.sc&&(me.A=Array.prototype.slice.call(me.A),me.Sb=z.sc)},n:{Z:function(me){var Ce={};return Ce.Md=d.dc(me.mode)?me.id:1,Ce.de=me.id,Ce.mode=me.mode,Ce.le=1,Ce.uid=0,Ce.$d=0,Ce.ab=me.ab,Ce.size=d.K(me.mode)?4096:d.isFile(me.mode)?me.A.length:d.Ya(me.mode)?me.link.length:0,Ce.Ad=new Date(me.timestamp),Ce.je=new Date(me.timestamp),Ce.Gd=new Date(me.timestamp),Ce.Ga=4096,Ce.Nb=Math.ceil(Ce.size/Ce.Ga),Ce},M:function(me,Ce){if(Ce.mode!==p&&(me.mode=Ce.mode),Ce.timestamp!==p&&(me.timestamp=Ce.timestamp),Ce.size!==p){z.Hc(me);var Je=me.A;if(Ce.size<Je.length)Je.length=Ce.size;else for(;Ce.size>Je.length;)Je.push(0)}},Za:function(){l(d.Oc[i.Fb])},fa:function(me,Ce,Je,j){return z.createNode(me,Ce,Je,j)},rename:function(me,Ce,Je){if(d.K(me.mode)){var j;try{j=d.sa(Ce,Je)}catch{}if(j)for(var be in j.A)l(new d.e(i.uc))}delete me.parent.A[me.name],me.name=Je,Ce.A[Je]=me,me.parent=Ce},Ua:function(me,Ce){delete me.A[Ce]},fb:function(me,Ce){var Je=d.sa(me,Ce),j;for(j in Je.A)l(new d.e(i.uc));delete me.A[Ce]},bb:function(me){var Ce=[".",".."],Je;for(Je in me.A)me.A.hasOwnProperty(Je)&&Ce.push(Je);return Ce},ka:function(me,Ce,Je){return me=z.createNode(me,Ce,41471,0),me.link=Je,me},Ra:function(me){return d.Ya(me.mode)||l(new d.e(i.C)),me.link}},o:{O:function(me,Ce,Je,j,be){if(me=me.k.A,be>=me.length)return 0;if(j=Math.min(me.length-be,j),K(0<=j),8<j&&me.subarray)Ce.set(me.subarray(be,be+j),Je);else for(var r=0;r<j;r++)Ce[Je+r]=me[be+r];return j},write:function(me,Ce,Je,j,be,r){var We=me.k;if(We.timestamp=Date.now(),me=We.A,j&&me.length===0&&be===0&&Ce.subarray)return r&&Je===0?(We.A=Ce,We.Sb=Ce.buffer===x.buffer?z.Ce:z.ld):(We.A=new Uint8Array(Ce.subarray(Je,Je+j)),We.Sb=z.ld),j;for(z.Hc(We),me=We.A;me.length<be;)me.push(0);for(r=0;r<j;r++)me[be+r]=Ce[Je+r];return j},ea:function(me,Ce,Je){return Je===1?Ce+=me.position:Je===2&&d.isFile(me.k.mode)&&(Ce+=me.k.A.length),0>Ce&&l(new d.e(i.C)),me.qc=[],me.position=Ce},sb:function(me,Ce,Je){for(z.Hc(me.k),me=me.k.A,Ce+=Je;Ce>me.length;)me.push(0)},wb:function(me,Ce,Je,j,be,r,We){return d.isFile(me.k.mode)||l(new d.e(i.Eb)),me=me.k.A,!(We&2)&&(me.buffer===Ce||me.buffer===Ce.buffer)?(be=G,j=me.byteOffset):((0<be||be+j<me.length)&&(me=me.subarray?me.subarray(be,be+j):Array.prototype.slice.call(me,be,be+j)),be=s,(j=W(j))||l(new d.e(i.Je)),Ce.set(me,j)),{Vi:j,ii:be}}}},J={fc:G,hd:function(){J.fc=!!process.platform.match(/^win/)},I:function(me){return K(ea),J.createNode(v,"/",J.Ja(me.me.root),0)},createNode:function(me,Ce,Je){return!d.K(Je)&&!d.isFile(Je)&&!d.Ya(Je)&&l(new d.e(i.C)),me=d.createNode(me,Ce,Je),me.n=J.n,me.o=J.o,me},Ja:function(me){var Ce;try{Ce=O.Mf(me),J.fc&&(Ce.mode|=(Ce.mode&146)>>1)}catch(Je){Je.code||l(Je),l(new d.e(i[Je.code]))}return Ce.mode},V:function(me){for(var Ce=[];me.parent!==me;)Ce.push(me.name),me=me.parent;return Ce.push(me.I.me.root),Ce.reverse(),A.join.apply(v,Ce)},Sd:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},Lc:function(me){return me in J.Sd?J.Sd[me]:me},n:{Z:function(Ce){var Ce=J.V(Ce),Je;try{Je=O.Mf(Ce)}catch(j){j.code||l(j),l(new d.e(i[j.code]))}return J.fc&&!Je.Ga&&(Je.Ga=4096),J.fc&&!Je.Nb&&(Je.Nb=(Je.size+Je.Ga-1)/Je.Ga|0),{Md:Je.Md,de:Je.de,mode:Je.mode,le:Je.le,uid:Je.uid,$d:Je.$d,ab:Je.ab,size:Je.size,Ad:Je.Ad,je:Je.je,Gd:Je.Gd,Ga:Je.Ga,Nb:Je.Nb}},M:function(me,Ce){var Je=J.V(me);try{if(Ce.mode!==p&&(O.oi(Je,Ce.mode),me.mode=Ce.mode),Ce.timestamp!==p){var j=new Date(Ce.timestamp);O.pj(Je,j,j)}Ce.size!==p&&O.kj(Je,Ce.size)}catch(be){be.code||l(be),l(new d.e(i[be.code]))}},Za:function(me,Ce){var Je=A.U(J.V(me),Ce),Je=J.Ja(Je);return J.createNode(me,Ce,Je)},fa:function(me,Ce,Je,j){me=J.createNode(me,Ce,Je,j),Ce=J.V(me);try{d.K(me.mode)?O.Pi(Ce,me.mode):O.rj(Ce,"",{mode:me.mode})}catch(be){be.code||l(be),l(new d.e(i[be.code]))}return me},rename:function(me,Ce,Je){me=J.V(me),Ce=A.U(J.V(Ce),Je);try{O.aj(me,Ce)}catch(j){j.code||l(j),l(new d.e(i[j.code]))}},Ua:function(me,Ce){var Je=A.U(J.V(me),Ce);try{O.mj(Je)}catch(j){j.code||l(j),l(new d.e(i[j.code]))}},fb:function(me,Ce){var Je=A.U(J.V(me),Ce);try{O.bj(Je)}catch(j){j.code||l(j),l(new d.e(i[j.code]))}},bb:function(me){me=J.V(me);try{return O.Yi(me)}catch(Ce){Ce.code||l(Ce),l(new d.e(i[Ce.code]))}},ka:function(me,Ce,Je){me=A.U(J.V(me),Ce);try{O.gj(Je,me)}catch(j){j.code||l(j),l(new d.e(i[j.code]))}},Ra:function(me){me=J.V(me);try{return O.Zi(me)}catch(Ce){Ce.code||l(Ce),l(new d.e(i[Ce.code]))}}},o:{open:function(me){var Ce=J.V(me.k);try{d.isFile(me.k.mode)&&(me.zb=O.Si(Ce,J.Lc(me.H)))}catch(Je){Je.code||l(Je),l(new d.e(i[Je.code]))}},close:function(me){try{d.isFile(me.k.mode)&&me.zb&&O.pi(me.zb)}catch(Ce){Ce.code||l(Ce),l(new d.e(i[Ce.code]))}},O:function(me,Ce,Je,j,be){var r=new Buffer(j),We;try{We=O.Xi(me.zb,r,0,j,be)}catch(f0){l(new d.e(i[f0.code]))}if(0<We)for(me=0;me<We;me++)Ce[Je+me]=r[me];return We},write:function(me,r,Je,j,be){var r=new Buffer(r.subarray(Je,Je+j)),We;try{We=O.sj(me.zb,r,0,j,be)}catch(f0){l(new d.e(i[f0.code]))}return We},ea:function(me,Ce,Je){if(Je===1)Ce+=me.position;else if(Je===2&&d.isFile(me.k.mode))try{var j=O.xi(me.zb),Ce=Ce+j.size}catch(be){l(new d.e(i[be.code]))}return 0>Ce&&l(new d.e(i.C)),me.position=Ce}}};Ha=I(1,"i32*",Q),Aa=I(1,"i32*",Q),Ia=I(1,"i32*",Q);var d={root:v,yb:[],Nd:[v],Sa:[],Sf:1,ga:v,Id:"/",Xa:G,ce:s,e:v,Oc:{},bc:function(me){return me instanceof d.e||l(me+" : "+gb()),P(me.Yb)},F:function(Je,j){var Je=A.eb(d.Ec(),Je),j=j||{},r={Mc:s,$c:0},be;for(be in r)j[be]===p&&(j[be]=r[be]);8<j.$c&&l(new d.e(i.tc));var r=A.Xc(Je.split("/").filter(function(p0){return!!p0}),G),We=d.root;be="/";for(var f0=0;f0<r.length;f0++){var it=f0===r.length-1;if(it&&j.parent)break;if(We=d.sa(We,r[f0]),be=A.U(be,r[f0]),d.Ka(We)&&(!it||it&&j.Mc)&&(We=We.xb.root),!it||j.da)for(it=0;d.Ya(We.mode);)We=d.Ra(be),be=A.eb(A.dirname(be),We),We=d.F(be,{$c:j.$c}).k,40<it++&&l(new d.e(i.tc))}return{path:be,k:We}},za:function(me){for(var Ce;;){if(d.ec(me))return me=me.I.Qf,Ce?me[me.length-1]!=="/"?me+"/"+Ce:me+Ce:me;Ce=Ce?me.name+"/"+Ce:me.name,me=me.parent}},Rc:function(me,Ce){for(var Je=0,j=0;j<Ce.length;j++)Je=(Je<<5)-Je+Ce.charCodeAt(j)|0;return(me+Je>>>0)%d.ga.length},ae:function(me){var Ce=d.Rc(me.parent.id,me.name);me.Oa=d.ga[Ce],d.ga[Ce]=me},be:function(me){var Ce=d.Rc(me.parent.id,me.name);if(d.ga[Ce]===me)d.ga[Ce]=me.Oa;else for(Ce=d.ga[Ce];Ce;){if(Ce.Oa===me){Ce.Oa=me.Oa;break}Ce=Ce.Oa}},sa:function(me,Ce){var Je=d.Of(me);for(Je&&l(new d.e(Je)),Je=d.ga[d.Rc(me.id,Ce)];Je;Je=Je.Oa){var j=Je.name;if(Je.parent.id===me.id&&j===Ce)return Je}return d.Za(me,Ce)},createNode:function(me,Ce,Je,j){return d.Kb||(d.Kb=function(be,r,We,f0){be||(be=this),this.parent=be,this.I=be.I,this.xb=v,this.id=d.Sf++,this.name=r,this.mode=We,this.n={},this.o={},this.ab=f0},d.Kb.prototype={},Object.defineProperties(d.Kb.prototype,{O:{get:function(){return(this.mode&365)===365},set:function(be){be?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(be){be?this.mode|=146:this.mode&=-147}},Gf:{get:function(){return d.K(this.mode)}},Tc:{get:function(){return d.dc(this.mode)}}})),me=new d.Kb(me,Ce,Je,j),d.ae(me),me},Fc:function(me){d.be(me)},ec:function(me){return me===me.parent},Ka:function(me){return!!me.xb},isFile:function(me){return(me&61440)===32768},K:function(me){return(me&61440)===16384},Ya:function(me){return(me&61440)===40960},dc:function(me){return(me&61440)===8192},Ef:function(me){return(me&61440)===24576},Ff:function(me){return(me&61440)===4096},Jf:function(me){return(me&49152)===49152},vf:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},ie:function(me){var Ce=d.vf[me];return typeof Ce>"u"&&l(Error("Unknown file open mode: "+me)),Ce},Lc:function(me){var Ce=["r","w","rw"][me&2097155];return me&512&&(Ce+="w"),Ce},Pa:function(me,Ce){return d.ce?0:Ce.indexOf("r")!==-1&&!(me.mode&292)||Ce.indexOf("w")!==-1&&!(me.mode&146)||Ce.indexOf("x")!==-1&&!(me.mode&73)?i.od:0},Of:function(me){return d.Pa(me,"x")},Wc:function(me,Ce){try{return d.sa(me,Ce),i.pd}catch{}return d.Pa(me,"wx")},gc:function(me,Ce,Je){var j;try{j=d.sa(me,Ce)}catch(be){return be.Yb}if(me=d.Pa(me,"wx"))return me;if(Je){if(!d.K(j.mode))return i.Hb;if(d.ec(j)||d.za(j)===d.Ec())return i.Ea}else if(d.K(j.mode))return i.Va;return 0},Pf:function(me,Ce){return me?d.Ya(me.mode)?i.tc:d.K(me.mode)&&((Ce&2097155)!==0||Ce&512)?i.Va:d.Pa(me,d.Lc(Ce)):i.Fb},Pe:4096,Tf:function(me,Ce){for(var Ce=Ce||d.Pe,Je=me||0;Je<=Ce;Je++)if(!d.Sa[Je])return Je;l(new d.e(i.Ie))},Aa:function(me){return d.Sa[me]},Fd:function(me,Ce,Je){if(d.ob||(d.ob=H(),d.ob.prototype={},Object.defineProperties(d.ob.prototype,{object:{get:function(){return this.k},set:la("k")},Gi:{get:function(){return(this.H&2097155)!==1}},Hi:{get:function(){return(this.H&2097155)!==0}},Fi:{get:function(){return this.H&1024}}})),me.__proto__)me.__proto__=d.ob.prototype;else{var j=new d.ob,be;for(be in me)j[be]=me[be];me=j}return Ce=d.Tf(Ce,Je),me.ba=Ce,d.Sa[Ce]=me},$e:function(me){d.Sa[me]=v},ub:function(me){return d.Sa[me-1]},Qc:function(me){return me?me.ba+1:0},Ze:{open:function(me){me.o=d.yf(me.k.ab).o,me.o.open&&me.o.open(me)},ea:function(){l(new d.e(i.Jb))}},Vc:function(me){return me>>8},Oi:function(me){return me&255},Ma:function(me,Ce){return me<<8|Ce},ad:function(me,Ce){d.Nd[me]={o:Ce}},yf:function(me){return d.Nd[me]},Wd:function(me){for(var Ce=[],me=[me];me.length;){var Je=me.pop();Ce.push(Je),me.push.apply(me,Je.yb)}return Ce},xe:function(me,Ce){function Je(r){if(r){if(!Je.sf)return Je.sf=s,Ce(r)}else++be>=j.length&&Ce(v)}typeof me=="function"&&(Ce=me,me=G);var j=d.Wd(d.root.I),be=0;j.forEach(function(r){if(!r.type.xe)return Je(v);r.type.xe(r,me,Je)})},I:function(me,Ce,Je){var j=Je==="/",be=!Je,r;return j&&d.root&&l(new d.e(i.Ea)),!j&&!be&&(r=d.F(Je,{Mc:G}),Je=r.path,r=r.k,d.Ka(r)&&l(new d.e(i.Ea)),d.K(r.mode)||l(new d.e(i.Hb))),Ce={type:me,me:Ce,Qf:Je,yb:[]},me=me.I(Ce),me.I=Ce,Ce.root=me,j?d.root=me:r&&(r.xb=Ce,r.I&&r.I.yb.push(Ce)),me},nj:function(Ce){Ce=d.F(Ce,{Mc:G}),d.Ka(Ce.k)||l(new d.e(i.C));var Ce=Ce.k,Je=Ce.xb,j=d.Wd(Je);Object.keys(d.ga).forEach(function(be){for(be=d.ga[be];be;){var r=be.Oa;j.indexOf(be.I)!==-1&&d.Fc(be),be=r}}),Ce.xb=v,Je=Ce.I.yb.indexOf(Je),K(Je!==-1),Ce.I.yb.splice(Je,1)},Za:function(me,Ce){return me.n.Za(me,Ce)},fa:function(be,Ce,Je){var j=d.F(be,{parent:s}).k,be=A.ua(be),r=d.Wc(j,be);return r&&l(new d.e(r)),j.n.fa||l(new d.e(i.W)),j.n.fa(j,be,Ce,Je)},create:function(me,Ce){return Ce=(Ce!==p?Ce:438)&4095,Ce|=32768,d.fa(me,Ce,0)},$a:function(me,Ce){return Ce=(Ce!==p?Ce:511)&1023,Ce|=16384,d.fa(me,Ce,0)},hc:function(me,Ce,Je){return typeof Je>"u"&&(Je=Ce,Ce=438),d.fa(me,Ce|8192,Je)},ka:function(me,Ce){var Je=d.F(Ce,{parent:s}).k,j=A.ua(Ce),be=d.Wc(Je,j);return be&&l(new d.e(be)),Je.n.ka||l(new d.e(i.W)),Je.n.ka(Je,j,me)},rename:function(me,Ce){var Je=A.dirname(me),j=A.dirname(Ce),be=A.ua(me),r=A.ua(Ce),We,f0,it;try{We=d.F(me,{parent:s}),f0=We.k,We=d.F(Ce,{parent:s}),it=We.k}catch{l(new d.e(i.Ea))}f0.I!==it.I&&l(new d.e(i.Le)),We=d.sa(f0,be),j=A.qe(me,j),j.charAt(0)!=="."&&l(new d.e(i.C)),j=A.qe(Ce,Je),j.charAt(0)!=="."&&l(new d.e(i.uc));var p0;try{p0=d.sa(it,r)}catch{}if(We!==p0){Je=d.K(We.mode),(be=d.gc(f0,be,Je))&&l(new d.e(be)),(be=p0?d.gc(it,r,Je):d.Wc(it,r))&&l(new d.e(be)),f0.n.rename||l(new d.e(i.W)),(d.Ka(We)||p0&&d.Ka(p0))&&l(new d.e(i.Ea)),it!==f0&&(be=d.Pa(f0,"w"))&&l(new d.e(be)),d.be(We);try{f0.n.rename(We,it,r)}catch(D){l(D)}finally{d.ae(We)}}},fb:function(Je){var Ce=d.F(Je,{parent:s}).k,Je=A.ua(Je),j=d.sa(Ce,Je),be=d.gc(Ce,Je,s);be&&l(new d.e(be)),Ce.n.fb||l(new d.e(i.W)),d.Ka(j)&&l(new d.e(i.Ea)),Ce.n.fb(Ce,Je),d.Fc(j)},bb:function(me){return me=d.F(me,{da:s}).k,me.n.bb||l(new d.e(i.Hb)),me.n.bb(me)},Ua:function(Je){var Ce=d.F(Je,{parent:s}).k,Je=A.ua(Je),j=d.sa(Ce,Je),be=d.gc(Ce,Je,G);be&&(be===i.Va&&(be=i.W),l(new d.e(be))),Ce.n.Ua||l(new d.e(i.W)),d.Ka(j)&&l(new d.e(i.Ea)),Ce.n.Ua(Ce,Je),d.Fc(j)},Ra:function(me){return me=d.F(me).k,me.n.Ra||l(new d.e(i.C)),me.n.Ra(me)},ve:function(me,Ce){var Je=d.F(me,{da:!Ce}).k;return Je.n.Z||l(new d.e(i.W)),Je.n.Z(Je)},Ni:function(me){return d.ve(me,s)},Ob:function(me,Ce,Je){me=typeof me=="string"?d.F(me,{da:!Je}).k:me,me.n.M||l(new d.e(i.W)),me.n.M(me,{mode:Ce&4095|me.mode&-4096,timestamp:Date.now()})},Ji:function(me,Ce){d.Ob(me,Ce,s)},ti:function(me,Ce){var Je=d.Aa(me);Je||l(new d.e(i.S)),d.Ob(Je.k,Ce)},Cd:function(me,Ce,Je,j){me=typeof me=="string"?d.F(me,{da:!j}).k:me,me.n.M||l(new d.e(i.W)),me.n.M(me,{timestamp:Date.now()})},Ki:function(me,Ce,Je){d.Cd(me,Ce,Je,s)},ui:function(me,Ce,Je){(me=d.Aa(me))||l(new d.e(i.S)),d.Cd(me.k,Ce,Je)},truncate:function(me,Ce){0>Ce&&l(new d.e(i.C));var Je;Je=typeof me=="string"?d.F(me,{da:s}).k:me,Je.n.M||l(new d.e(i.W)),d.K(Je.mode)&&l(new d.e(i.Va)),d.isFile(Je.mode)||l(new d.e(i.C));var j=d.Pa(Je,"w");j&&l(new d.e(j)),Je.n.M(Je,{size:Ce,timestamp:Date.now()})},yi:function(me,Ce){var Je=d.Aa(me);Je||l(new d.e(i.S)),(Je.H&2097155)===0&&l(new d.e(i.C)),d.truncate(Je.k,Ce)},oj:function(me,Ce,Je){me=d.F(me,{da:s}).k,me.n.M(me,{timestamp:Math.max(Ce,Je)})},open:function(me,r,We,j,be){var r=typeof r=="string"?d.ie(r):r,We=r&64?(typeof We>"u"?438:We)&4095|32768:0,f0;if(typeof me=="object")f0=me;else{me=A.normalize(me);try{f0=d.F(me,{da:!(r&131072)}).k}catch{}}return r&64&&(f0?r&128&&l(new d.e(i.pd)):f0=d.fa(me,We,0)),f0||l(new d.e(i.Fb)),d.dc(f0.mode)&&(r&=-513),(We=d.Pf(f0,r))&&l(new d.e(We)),r&512&&d.truncate(f0,0),r&=-641,j=d.Fd({k:f0,path:d.za(f0),H:r,seekable:s,position:0,o:f0.o,qc:[],error:G},j,be),j.o.open&&j.o.open(j),e.logReadFiles&&!(r&1)&&(d.Zc||(d.Zc={}),me in d.Zc||(d.Zc[me]=1,e.printErr("read file: "+me))),j},close:function(me){try{me.o.close&&me.o.close(me)}catch(Ce){l(Ce)}finally{d.$e(me.ba)}},ea:function(me,Ce,Je){return(!me.seekable||!me.o.ea)&&l(new d.e(i.Jb)),me.o.ea(me,Ce,Je)},O:function(me,Ce,Je,j,be){(0>j||0>be)&&l(new d.e(i.C)),(me.H&2097155)===1&&l(new d.e(i.S)),d.K(me.k.mode)&&l(new d.e(i.Va)),me.o.O||l(new d.e(i.C));var r=s;return typeof be>"u"?(be=me.position,r=G):me.seekable||l(new d.e(i.Jb)),Ce=me.o.O(me,Ce,Je,j,be),r||(me.position+=Ce),Ce},write:function(me,Ce,Je,j,be,r){(0>j||0>be)&&l(new d.e(i.C)),(me.H&2097155)===0&&l(new d.e(i.S)),d.K(me.k.mode)&&l(new d.e(i.Va)),me.o.write||l(new d.e(i.C));var We=s;return typeof be>"u"?(be=me.position,We=G):me.seekable||l(new d.e(i.Jb)),me.H&1024&&d.ea(me,0,2),Ce=me.o.write(me,Ce,Je,j,be,r),We||(me.position+=Ce),Ce},sb:function(me,Ce,Je){(0>Ce||0>=Je)&&l(new d.e(i.C)),(me.H&2097155)===0&&l(new d.e(i.S)),!d.isFile(me.k.mode)&&!d.K(node.mode)&&l(new d.e(i.Eb)),me.o.sb||l(new d.e(i.Ib)),me.o.sb(me,Ce,Je)},wb:function(me,Ce,Je,j,be,r,We){return(me.H&2097155)===1&&l(new d.e(i.od)),me.o.wb||l(new d.e(i.Eb)),me.o.wb(me,Ce,Je,j,be,r,We)},vb:function(me,Ce,Je){return me.o.vb||l(new d.e(i.Ke)),me.o.vb(me,Ce,Je)},Wi:function(me,Ce){Ce=Ce||{},Ce.H=Ce.H||"r",Ce.encoding=Ce.encoding||"binary",Ce.encoding!=="utf8"&&Ce.encoding!=="binary"&&l(Error('Invalid encoding type "'+Ce.encoding+'"'));var Je,j=d.open(me,Ce.H),be=d.ve(me).size,r=new Uint8Array(be);if(d.O(j,r,0,be,0),Ce.encoding==="utf8"){Je="";for(var We=new t.pb,f0=0;f0<be;f0++)Je+=We.kc(r[f0])}else Ce.encoding==="binary"&&(Je=r);return d.close(j),Je},qj:function(me,Ce,Je){Je=Je||{},Je.H=Je.H||"w",Je.encoding=Je.encoding||"utf8",Je.encoding!=="utf8"&&Je.encoding!=="binary"&&l(Error('Invalid encoding type "'+Je.encoding+'"')),me=d.open(me,Je.H,Je.mode),Je.encoding==="utf8"?(Ce=new Uint8Array(new t.pb().oe(Ce)),d.write(me,Ce,0,Ce.length,0,Je.Ye)):Je.encoding==="binary"&&d.write(me,Ce,0,Ce.length,0,Je.Ye),d.close(me)},Ec:function(){return d.Id},ni:function(me){me=d.F(me,{da:s}),d.K(me.k.mode)||l(new d.e(i.Hb));var Ce=d.Pa(me.k,"x");Ce&&l(new d.e(Ce)),d.Id=me.path},cf:function(){d.$a("/tmp")},bf:function(){d.$a("/dev"),d.ad(d.Ma(1,3),{O:U(0),write:U(0)}),d.hc("/dev/null",d.Ma(1,3)),ca.pe(d.Ma(5,0),ca.pf),ca.pe(d.Ma(6,0),ca.of),d.hc("/dev/tty",d.Ma(5,0)),d.hc("/dev/tty1",d.Ma(6,0)),d.$a("/dev/shm"),d.$a("/dev/shm/tmp")},lf:function(){e.stdin?d.Ha("/dev","stdin",e.stdin):d.ka("/dev/tty","/dev/stdin"),e.stdout?d.Ha("/dev","stdout",v,e.stdout):d.ka("/dev/tty","/dev/stdout"),e.stderr?d.Ha("/dev","stderr",v,e.stderr):d.ka("/dev/tty1","/dev/stderr");var me=d.open("/dev/stdin","r");u[Ha>>2]=d.Qc(me),K(me.ba===0,"invalid handle for stdin ("+me.ba+")"),me=d.open("/dev/stdout","w"),u[Aa>>2]=d.Qc(me),K(me.ba===1,"invalid handle for stdout ("+me.ba+")"),me=d.open("/dev/stderr","w"),u[Ia>>2]=d.Qc(me),K(me.ba===2,"invalid handle for stderr ("+me.ba+")")},Pd:function(){d.e||(d.e=function(me){this.Yb=me;for(var Ce in i)if(i[Ce]===me){this.code=Ce;break}this.message=Ra[me]},d.e.prototype=Error(),[i.Fb].forEach(function(me){d.Oc[me]=new d.e(me),d.Oc[me].stack="<generic error, no stack>"}))},hd:function(){d.Pd(),d.ga=Array(4096),d.I(z,{},"/"),d.cf(),d.bf()},Ba:function(me,Ce,Je){K(!d.Ba.Xa,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),d.Ba.Xa=s,d.Pd(),e.stdin=me||e.stdin,e.stdout=Ce||e.stdout,e.stderr=Je||e.stderr,d.lf()},Zf:function(){d.Ba.Xa=G;for(var me=0;me<d.Sa.length;me++){var Ce=d.Sa[me];Ce&&d.close(Ce)}},Ja:function(me,Ce){var Je=0;return me&&(Je|=365),Ce&&(Je|=146),Je},Ii:function(me,Ce){var Je=A.join.apply(v,me);return Ce&&Je[0]=="/"&&(Je=Je.substr(1)),Je},bi:function(me,Ce){return A.eb(Ce,me)},fj:function(me){return A.normalize(me)},vi:function(me,Ce){var Je=d.Ac(me,Ce);return Je.Jc?Je.object:(P(Je.error),v)},Ac:function(me,Ce){try{var Je=d.F(me,{da:!Ce}),me=Je.path}catch{}var j={ec:G,Jc:G,error:0,name:v,path:v,object:v,Wf:G,Yf:v,Xf:v};try{Je=d.F(me,{parent:s}),j.Wf=s,j.Yf=Je.path,j.Xf=Je.k,j.name=A.ua(me),Je=d.F(me,{da:!Ce}),j.Jc=s,j.path=Je.path,j.object=Je.k,j.name=Je.k.name,j.ec=Je.path==="/"}catch(be){j.error=be.Yb}return j},ef:function(me,Ce,Je,j){return me=A.U(typeof me=="string"?me:d.za(me),Ce),Je=d.Ja(Je,j),d.$a(me,Je)},hf:function(me,Ce){for(var me=typeof me=="string"?me:d.za(me),Je=Ce.split("/").reverse();Je.length;){var j=Je.pop();if(j){var be=A.U(me,j);try{d.$a(be)}catch{}me=be}}return be},df:function(me,Ce,Je,j,be){return me=A.U(typeof me=="string"?me:d.za(me),Ce),j=d.Ja(j,be),d.create(me,j)},Dc:function(me,Ce,Je,j,be,r){if(me=Ce?A.U(typeof me=="string"?me:d.za(me),Ce):me,j=d.Ja(j,be),be=d.create(me,j),Je){if(typeof Je=="string"){for(var me=Array(Je.length),Ce=0,We=Je.length;Ce<We;++Ce)me[Ce]=Je.charCodeAt(Ce);Je=me}d.Ob(be,j|146),me=d.open(be,"w"),d.write(me,Je,0,Je.length,0,r),d.close(me),d.Ob(be,j)}return be},Ha:function(me,Ce,Je,j){me=A.U(typeof me=="string"?me:d.za(me),Ce),Ce=d.Ja(!!Je,!!j),d.Ha.Vc||(d.Ha.Vc=64);var be=d.Ma(d.Ha.Vc++,0);return d.ad(be,{open:function(r){r.seekable=G},close:function(){j&&j.buffer&&j.buffer.length&&j(10)},O:function(r,We,f0,it){for(var p0=0,D=0;D<it;D++){var k0;try{k0=Je()}catch{l(new d.e(i.Fa))}if(k0===p&&p0===0&&l(new d.e(i.nb)),k0===v||k0===p)break;p0++,We[f0+D]=k0}return p0&&(r.k.timestamp=Date.now()),p0},write:function(r,We,f0,it){for(var p0=0;p0<it;p0++)try{j(We[f0+p0])}catch{l(new d.e(i.Fa))}return it&&(r.k.timestamp=Date.now()),p0}}),d.hc(me,Ce,be)},gf:function(me,Ce,Je){return me=A.U(typeof me=="string"?me:d.za(me),Ce),d.ka(Je,me)},Vd:function(me){if(me.Tc||me.Gf||me.link||me.A)return s;var Ce=s;if(typeof XMLHttpRequest<"u"&&l(Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")),e.read)try{me.A=X(e.read(me.url),s)}catch{Ce=G}else l(Error("Cannot load without read() or XMLHttpRequest."));return Ce||P(i.Fa),Ce},ff:function(me,Ce,Je,j,be){if(typeof XMLHttpRequest<"u"){Bb||l("Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc");var r=function(){this.Uc=G,this.Qb=[]};r.prototype.get=function(it){if(!(it>this.length-1||0>it)){var p0=it%this.Pb;return this.Af(Math.floor(it/this.Pb))[p0]}},r.prototype.cg=la("Af"),r.prototype.Bd=function(){var it=new XMLHttpRequest;it.open("HEAD",Je,G),it.send(v),200<=it.status&&300>it.status||it.status===304||l(Error("Couldn't load "+Je+". Status: "+it.status));var p0=Number(it.getResponseHeader("Content-length")),D,k0=1048576;(D=it.getResponseHeader("Accept-Ranges"))&&D==="bytes"||(k0=p0);var T0=this;T0.cg(function(J0){var rt=J0*k0,W0=(J0+1)*k0-1,W0=Math.min(W0,p0-1);if(typeof T0.Qb[J0]>"u"){var pt=T0.Qb;rt>W0&&l(Error("invalid range ("+rt+", "+W0+") or no bytes requested!")),W0>p0-1&&l(Error("only "+p0+" bytes available! programmer error!"));var mt=new XMLHttpRequest;mt.open("GET",Je,G),p0!==k0&&mt.setRequestHeader("Range","bytes="+rt+"-"+W0),typeof Uint8Array<"u"&&(mt.responseType="arraybuffer"),mt.overrideMimeType&&mt.overrideMimeType("text/plain; charset=x-user-defined"),mt.send(v),200<=mt.status&&300>mt.status||mt.status===304||l(Error("Couldn't load "+Je+". Status: "+mt.status)),rt=mt.response!==p?new Uint8Array(mt.response||[]):X(mt.responseText||"",s),pt[J0]=rt}return typeof T0.Qb[J0]>"u"&&l(Error("doXHR failed!")),T0.Qb[J0]}),this.Ue=p0,this.Re=k0,this.Uc=s},r=new r,Object.defineProperty(r,"length",{get:function(){return this.Uc||this.Bd(),this.Ue}}),Object.defineProperty(r,"chunkSize",{get:function(){return this.Uc||this.Bd(),this.Re}}),r={Tc:G,A:r}}else r={Tc:G,url:Je};var We=d.df(me,Ce,r,j,be);r.A?We.A=r.A:r.url&&(We.A=v,We.url=r.url);var f0={};return Object.keys(We.o).forEach(function(it){var p0=We.o[it];f0[it]=function(){return d.Vd(We)||l(new d.e(i.Fa)),p0.apply(v,arguments)}}),f0.O=function(it,p0,D,k0,T0){if(d.Vd(We)||l(new d.e(i.Fa)),it=it.k.A,T0>=it.length)return 0;if(k0=Math.min(it.length-T0,k0),K(0<=k0),it.slice)for(var J0=0;J0<k0;J0++)p0[D+J0]=it[T0+J0];else for(J0=0;J0<k0;J0++)p0[D+J0]=it.get(T0+J0);return k0},We.o=f0,We},jf:function(me,Ce,Je,j,be,r,We,f0,it){function p0(k0){function T0(rt){f0||d.Dc(me,Ce,rt,j,be,it),r&&r(),jb()}var J0=G;e.preloadPlugins.forEach(function(rt){!J0&&rt.canHandle(D)&&(rt.handle(k0,D,T0,function(){We&&We(),jb()}),J0=s)}),J0||T0(k0)}Browser.Ba();var D=Ce?A.eb(A.U(me,Ce)):me;Rb(),typeof Je=="string"?Browser.li(Je,function(k0){p0(k0)},We):p0(Je)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},md:function(){return"EM_FS_"+window.location.pathname},nd:20,lb:"FILE_DATA",dj:function(me,j,be){var j=j||H(),be=be||H(),r=d.indexedDB();try{var We=r.open(d.md(),d.nd)}catch(f0){return be(f0)}We.Vf=function(){console.log("creating db"),We.result.createObjectStore(d.lb)},We.onsuccess=function(){var f0=We.result.transaction([d.lb],"readwrite"),it=f0.objectStore(d.lb),p0=0,D=0,k0=me.length;me.forEach(function(T0){T0=it.put(d.Ac(T0).object.A,T0),T0.onsuccess=function(){p0++,p0+D==k0&&(D==0?j():be())},T0.onerror=function(){D++,p0+D==k0&&(D==0?j():be())}}),f0.onerror=be},We.onerror=be},Mi:function(me,j,be){var j=j||H(),be=be||H(),r=d.indexedDB();try{var We=r.open(d.md(),d.nd)}catch(f0){return be(f0)}We.Vf=be,We.onsuccess=function(){var f0=We.result;try{var it=f0.transaction([d.lb],"readonly")}catch(J0){be(J0);return}var p0=it.objectStore(d.lb),D=0,k0=0,T0=me.length;me.forEach(function(J0){var rt=p0.get(J0);rt.onsuccess=function(){d.Ac(J0).Jc&&d.Ua(J0),d.Dc(A.dirname(J0),A.ua(J0),rt.result,s,s,s),D++,D+k0==T0&&(k0==0?j():be())},rt.onerror=function(){k0++,D+k0==T0&&(k0==0?j():be())}}),it.onerror=be},We.onerror=be}},L={I:function(){return d.createNode(v,"/",16895,0)},kf:function(me,Ce,Je){return Je&&K(Ce==1==(Je==6)),me={uf:me,type:Ce,protocol:Je,L:v,Bb:{},Yc:[],cb:[],hb:L.R},Ce=L.ic(),Je=d.createNode(L.root,Ce,49152,0),Je.gb=me,Ce=d.Fd({path:Ce,k:Je,H:d.ie("r+"),seekable:G,o:L.o}),me.ia=Ce,me},Yd:function(me){return me=d.Aa(me),!me||!d.Jf(me.k.mode)?v:me.k.gb},o:{ne:function(me){return me=me.k.gb,me.hb.ne(me)},vb:function(me,Ce,Je){return me=me.k.gb,me.hb.vb(me,Ce,Je)},O:function(me,Ce,Je,j){return me=me.k.gb,j=me.hb.ag(me,j),j?(Ce.set(j.buffer,Je),j.buffer.length):0},write:function(me,Ce,Je,j){return me=me.k.gb,me.hb.bg(me,Ce,Je,j)},close:function(me){me=me.k.gb,me.hb.close(me)}},ic:function(){return L.ic.Hd||(L.ic.Hd=0),"socket["+L.ic.Hd+++"]"},R:{Ub:function(me,Ce,Je){var j;if(typeof Ce=="object"&&(j=Ce,Je=Ce=v),j)j._socket?(Ce=j._socket.remoteAddress,Je=j._socket.remotePort):((Je=/ws[s]?:\/\/([^:]+):(\d+)/.exec(j.url))||l(Error("WebSocket URL must be in the format ws(s)://address:port")),Ce=Je[1],Je=parseInt(Je[2],10));else try{var be=ea?{headers:{"websocket-protocol":["binary"]}}:["binary"];j=new(ea?require("ws"):window.WebSocket)("ws://"+Ce+":"+Je,be),j.binaryType="arraybuffer"}catch{l(new d.e(i.Fe))}return Ce={ma:Ce,port:Je,q:j,Vb:[]},L.R.zd(me,Ce),L.R.Df(me,Ce),me.type===2&&typeof me.ib<"u"&&Ce.Vb.push(new Uint8Array([255,255,255,255,112,111,114,116,(me.ib&65280)>>8,me.ib&255])),Ce},ac:function(me,Ce,Je){return me.Bb[Ce+":"+Je]},zd:function(me,Ce){me.Bb[Ce.ma+":"+Ce.port]=Ce},re:function(me,Ce){delete me.Bb[Ce.ma+":"+Ce.port]},Df:function(me,Ce){function Je(){try{for(var r=Ce.Vb.shift();r;)Ce.q.send(r),r=Ce.Vb.shift()}catch{Ce.q.close()}}function j(We){K(typeof We!="string"&&We.byteLength!==p);var We=new Uint8Array(We),f0=be;be=G,f0&&We.length===10&&We[0]===255&&We[1]===255&&We[2]===255&&We[3]===255&&We[4]===112&&We[5]===111&&We[6]===114&&We[7]===116?(We=We[8]<<8|We[9],L.R.re(me,Ce),Ce.port=We,L.R.zd(me,Ce)):me.cb.push({ma:Ce.ma,port:Ce.port,data:We})}var be=s;ea?(Ce.q.on("open",Je),Ce.q.on("message",function(r,We){We.binary&&j(new Uint8Array(r).buffer)}),Ce.q.on("error",H())):(Ce.q.onopen=Je,Ce.q.onmessage=function(r){j(r.data)})},ne:function(me){if(me.type===1&&me.L)return me.Yc.length?65:0;var Ce=0,Je=me.type===1?L.R.ac(me,me.na,me.oa):v;return(me.cb.length||!Je||Je&&Je.q.readyState===Je.q.Db||Je&&Je.q.readyState===Je.q.CLOSED)&&(Ce|=65),(!Je||Je&&Je.q.readyState===Je.q.OPEN)&&(Ce|=4),(Je&&Je.q.readyState===Je.q.Db||Je&&Je.q.readyState===Je.q.CLOSED)&&(Ce|=16),Ce},vb:function(me,Ce,Je){switch(Ce){case 21531:return Ce=0,me.cb.length&&(Ce=me.cb[0].data.length),u[Je>>2]=Ce,0;default:return i.C}},close:function(me){if(me.L){try{me.L.close()}catch{}me.L=v}for(var Ce=Object.keys(me.Bb),Je=0;Je<Ce.length;Je++){var j=me.Bb[Ce[Je]];try{j.q.close()}catch{}L.R.re(me,j)}return 0},bind:function(me,Ce,Je){if((typeof me.bd<"u"||typeof me.ib<"u")&&l(new d.e(i.C)),me.bd=Ce,me.ib=Je||Tb(),me.type===2){me.L&&(me.L.close(),me.L=v);try{me.hb.Lf(me,0)}catch(j){j instanceof d.e||l(j),j.Yb!==i.Ib&&l(j)}}},qi:function(me,Ce,Je){if(me.L&&l(new d.e(ERRNO_CODS.Ib)),typeof me.na<"u"&&typeof me.oa<"u"){var j=L.R.ac(me,me.na,me.oa);j&&(j.q.readyState===j.q.CONNECTING&&l(new d.e(i.De)),l(new d.e(i.He)))}Ce=L.R.Ub(me,Ce,Je),me.na=Ce.ma,me.oa=Ce.port,l(new d.e(i.Ge))},Lf:function(me){ea||l(new d.e(i.Ib)),me.L&&l(new d.e(i.C));var Ce=require("ws").Server;me.L=new Ce({host:me.bd,port:me.ib}),me.L.on("connection",function(Je){if(me.type===1){var j=L.kf(me.uf,me.type,me.protocol),Je=L.R.Ub(j,Je);j.na=Je.ma,j.oa=Je.port,me.Yc.push(j)}else L.R.Ub(me,Je)}),me.L.on("closed",function(){me.L=v}),me.L.on("error",H())},accept:function(me){me.L||l(new d.e(i.C));var Ce=me.Yc.shift();return Ce.ia.H=me.ia.H,Ce},Di:function(me,Ce){var Je,j;return Ce?((me.na===p||me.oa===p)&&l(new d.e(i.Gb)),Je=me.na,j=me.oa):(Je=me.bd||0,j=me.ib||0),{ma:Je,port:j}},bg:function(me,Ce,Je,j,be,r){me.type===2?((be===p||r===p)&&(be=me.na,r=me.oa),(be===p||r===p)&&l(new d.e(i.Ee))):(be=me.na,r=me.oa);var We=L.R.ac(me,be,r);if(me.type===1&&((!We||We.q.readyState===We.q.Db||We.q.readyState===We.q.CLOSED)&&l(new d.e(i.Gb)),We.q.readyState===We.q.CONNECTING&&l(new d.e(i.nb))),Ce=Ce instanceof Array||Ce instanceof ArrayBuffer?Ce.slice(Je,Je+j):Ce.buffer.slice(Ce.byteOffset+Je,Ce.byteOffset+Je+j),me.type===2&&(!We||We.q.readyState!==We.q.OPEN))return(!We||We.q.readyState===We.q.Db||We.q.readyState===We.q.CLOSED)&&(We=L.R.Ub(me,be,r)),We.Vb.push(Ce),j;try{return We.q.send(Ce),j}catch{l(new d.e(i.C))}},ag:function(me,Ce){me.type===1&&me.L&&l(new d.e(i.Gb));var Je=me.cb.shift();if(!Je){if(me.type===1){var j=L.R.ac(me,me.na,me.oa);if(j){if(j.q.readyState===j.q.Db||j.q.readyState===j.q.CLOSED)return v;l(new d.e(i.nb))}l(new d.e(i.Gb))}l(new d.e(i.nb))}var j=Je.data.byteLength||Je.data.length,be=Je.data.byteOffset||0,r=Je.data.buffer||Je.data,We=Math.min(Ce,j),f0={buffer:new Uint8Array(r,be,We),ma:Je.ma,port:Je.port};return me.type===1&&We<j&&(Je.data=new Uint8Array(r,be+We,j-We),me.cb.unshift(Je)),f0}}};e._memset=Bc,e._strlen=Wb;var tb=[];e._memmove=Cc;var Ta=[31,29,31,30,31,30,31,31,30,31,30,31],Ua=[31,28,31,30,31,30,31,31,30,31,30,31],Dc=fb;if(e._emscripten_replace_memory=rc,d.hd(),pa.unshift({qa:function(){!e.noFSInit&&!d.Ba.Xa&&d.Ba()}}),zb.push({qa:function(){d.ce=G}}),Ga.push({qa:function(){d.Zf()}}),e.FS_createFolder=d.ef,e.FS_createPath=d.hf,e.FS_createDataFile=d.Dc,e.FS_createPreloadedFile=d.jf,e.FS_createLazyFile=d.ff,e.FS_createLink=d.gf,e.FS_createDevice=d.Ha,Na=t.we(4),u[Na>>2]=0,pa.unshift({qa:function(){}}),Ga.push({qa:H()}),ca.Be=new t.pb,ea){var O=require("fs");J.hd()}pa.push({qa:function(){L.root=d.I(L,{},v)}}),Qa.$=I([0],"i8",Q),tc=aa=t.rb(ra),Cb=tc+5242880,uc=$=t.rb(Cb),K(uc<ba,"TOTAL_MEMORY not big enough for stack");var Ec=I([8,7,6,6,5,5,5,5,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",3),Fc=I([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",3),Ka=Math.min,k=(function(me,Ce,Je){"almost asm";var j=new me.Int8Array(Je),be=new me.Int16Array(Je),r=new me.Int32Array(Je),We=new me.Uint8Array(Je),f0=new me.Uint16Array(Je);new me.Uint32Array(Je);var it=new me.Float32Array(Je),p0=new me.Float64Array(Je),D=Ce.STACKTOP|0;Ce.STACK_MAX|0;var k0=Ce.tempDoublePtr|0;Ce.ABORT|0;var T0=Ce.cttz_i8|0,J0=Ce.ctlz_i8|0,rt=Ce._stdin|0,W0=Ce.__ZTVN10__cxxabiv117__class_type_infoE|0,pt=Ce._stderr|0,mt=Ce.__ZTISt9exception|0,xt=Ce.__ZTVN10__cxxabiv120__si_class_type_infoE|0,wt=Ce._stdout|0,di=Ce.___dso_handle|0,$i=+Ce.NaN,ir=+Ce.Infinity,u0=0,Ti=0,Mt=0;me.Math.floor;var tr=me.Math.abs;me.Math.sqrt,me.Math.pow,me.Math.cos,me.Math.sin,me.Math.tan,me.Math.acos,me.Math.asin,me.Math.atan,me.Math.atan2,me.Math.exp,me.Math.log,me.Math.ceil;var s0=me.Math.imul,Q0=Ce.abort;Ce.assert,Ce.asmPrintInt,Ce.asmPrintFloat,Ce.min,Ce.invoke_viiiii,Ce.invoke_vi,Ce.invoke_vii,Ce.invoke_ii,Ce.invoke_iiiiii,Ce.invoke_iiii,Ce.invoke_viiiiid,Ce.invoke_viiiiiiii,Ce.invoke_viiiiii,Ce.invoke_viiiiiiiiiiiii,Ce.invoke_viiiiiii,Ce.invoke_viiiiiid,Ce.invoke_viiiiiiiii,Ce.invoke_viiiiiiiiii,Ce.invoke_iii,Ce.invoke_viiiiiiiiiiii,Ce.invoke_iiiii,Ce.invoke_viii,Ce.invoke_v,Ce.invoke_iiiiiiiii,Ce.invoke_viiii,Ce._llvm_lifetime_end,Ce.__scanString,Ce._pthread_mutex_lock,Ce.___cxa_end_catch,Ce._strtoull;var dt=Ce._fflush;Ce.__isLeapYear;var d0=Ce._fwrite;Ce._send,Ce._pthread_mutex_init;var Lt=Ce._llvm_umul_with_overflow_i32,zt=Ce._isspace;Ce._read;var L0=Ce._isxdigit_l;Ce._fileno,Ce.___cxa_guard_abort;var Ct=Ce._newlocale;Ce.___gxx_personality_v0;var ci=Ce._pthread_cond_wait;Ce.___cxa_rethrow;var Ri=Ce._fmod;Ce.___resumeException,Ce._llvm_va_end;var Ni=Ce._vsscanf,Ji=Ce._snprintf,rr=Ce._fgetc;Ce.__getFloat;var Nr=Ce._pthread_cond_signal;Ce.___cxa_free_exception;var Pr=Ce._isdigit_l;Ce.___setErrNo,Ce._isxdigit,Ce._exit;var nn=Ce._sprintf;Ce._asprintf;var vn=Ce.___ctype_b_loc,Hs=Ce._freelocale,zn=Ce._catgets;Ce.___cxa_is_number_type;var m2=Ce._llvm_uadd_with_overflow_i32;Ce.___cxa_does_inherit;var ei=Ce.___cxa_guard_acquire;Ce.___cxa_begin_catch;var _1=Ce._emscripten_memcpy_big;Ce._recv,Ce.__parseInt64;var Gn=Ce.__ZSt18uncaught_exceptionv;Ce.__ZNSt9exceptionD2Ev,Ce._mkport;var wn=Ce._copysign;Ce.__exit,Ce._strftime;var Wt=Ce.___cxa_throw,Br=Ce._printf;Ce._pread;var gs=Ce._strtoull_l;Ce.__arraySum;var ho=Ce._sysconf,Hn=Ce._strtoll_l;Ce.___cxa_find_matching_catch,Ce.__formatString;var _n=Ce._pthread_cond_broadcast;Ce.__ZSt9terminatev;var fo=Ce._vfprintf;Ce._pthread_mutex_unlock,Ce.___cxa_call_unexpected;var ws=Ce._sbrk,Mr=Ce._atexit,sr=Ce.___errno_location,b1=Ce._strerror;Ce._pthread_mutex_destroy;var bn=Ce._catclose;Ce._llvm_lifetime_start,Ce.___cxa_guard_release;var Vs=Ce._ungetc;Ce._pthread_cond_destroy;var Ki=Ce._uselocale,Vn=Ce._vsnprintf,an=Ce._sscanf,y0=Ce.___assert_fail;Ce._fread;var po=Ce._strftime_l,At=Ce._abort,k1=Ce._fprintf;Ce._isdigit,Ce._strtoll,Ce.__addDays,Ce._fabs,Ce.__reallyNegative,Ce._write;var qt=Ce.___cxa_allocate_exception,g2=Ce.___cxa_pure_virtual,S1=Ce._vasprintf,E1=Ce._catopen,Xr=Ce.___ctype_toupper_loc,Wn=Ce.___ctype_tolower_loc,y2=Ce._pthread_join;Ce._pthread_cond_init,Ce._pwrite,Ce._strerror_r;var T1=Ce._pthread_create,A2=Ce._time;function ql(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0;if(w=D,D=D+88|0,C=w|0,q=w+24|0,te=w+40|0,oe=w+56|0,re=w+72|0,B=n+18596|0,_=r[B>>2]|0,le=n+18600|0,Be=r[le>>2]|0,Te=_+10368|0,ge=r[Te>>2]|0,ve=o>>ge,Ve=h>>ge,ze=1<<m-ge,y=ze+Ve|0,(ze|0)>0){ze=ze+ve|0,ge=_+10372|0,He=_+10360|0;do{Ye=ve;do D0=(s0(r[ge>>2]|0,Ve)|0)+Ye|0,D0=(r[He>>2]|0)+(D0*3|0)|0,u0=(We[D0]|We[D0+1|0]<<8)<<16>>16&-8,j[D0]=u0,u0=u0>>8,j[D0+1|0]=u0,Ye=Ye+1|0;while((Ye|0)<(ze|0));Ve=Ve+1|0}while((Ve|0)<(y|0));ge=r[Te>>2]|0}if(y=o>>ge,Ve=h>>ge,(y|0)>-1||y0(1024,904,128,17320),ve=_+10372|0,ze=r[ve>>2]|0,(y|0)>=(ze|0)&&y0(1024,904,128,17320),(Ve|0)>-1||y0(816,904,129,17320),ge=_+10376|0,(Ve|0)>=(r[ge>>2]|0)&&y0(816,904,129,17320),He=(s0(ze,Ve)|0)+y|0,Ve=_+10360|0,He=(r[Ve>>2]|0)+(He*3|0)|0,u0=(We[He]|We[He+1|0]<<8)<<16>>16&-8|m&7,j[He]=u0,u0=u0>>8,j[He+1|0]=u0,He=r[_+10448>>2]|0,y=o>>He,r0=h>>He,He=1<<m-He,ze=He+r0|0,(He|0)>0){He=He+y|0,Ge=_+10452|0,Ye=_+10440|0,o0=r0;do{r0=y;do D0=(s0(r[Ge>>2]|0,o0)|0)+r0|0,j[(r[Ye>>2]|0)+D0|0]=0,r0=r0+1|0;while((r0|0)<(He|0));o0=o0+1|0}while((o0|0)<(ze|0))}y=1<<m,hn(n,o,h,o,h);do if((j[_+5964|0]|0)==0)j[n+32|0]=0;else{if(D0=fi(n+18556|0,(r[n+18580>>2]|0)+161|0)|0,j[n+32|0]=D0,(D0|0)==0)break;if(Ye=r[Te>>2]|0,ze=o>>Ye,Ge=h>>Ye,Ye=1<<m-Ye,He=Ye+Ge|0,(Ye|0)>0){Ye=Ye+ze|0;do{r0=ze;do D0=(s0(r[ve>>2]|0,Ge)|0)+r0|0,D0=(r[Ve>>2]|0)+(D0*3|0)|0,u0=(We[D0]|We[D0+1|0]<<8)<<16>>16|2048,j[D0]=u0,u0=u0>>8,j[D0+1|0]=u0,r0=r0+1|0;while((r0|0)<(Ye|0));Ge=Ge+1|0}while((Ge|0)<(He|0))}if(He=r[_+10348>>2]|0,ze=o>>He,He=h>>He,(ze|0)>-1||y0(1024,904,128,17320),Ye=r[_+10352>>2]|0,(ze|0)>=(Ye|0)&&y0(1024,904,128,17320),(He|0)>-1||y0(816,904,129,17320),(He|0)<(r[_+10356>>2]|0)){D0=(s0(Ye,He)|0)+ze|0,j[(r[_+10340>>2]|0)+(D0*24|0)+22|0]=1;break}else y0(816,904,129,17320)}while(!1);Be=Be+20|0;do if((r[Be>>2]|0)==2)le=0;else{ze=r[B>>2]|0,Ye=o-1|0;do if((Ye|h|0)<0)r0=0;else{if((r[ze+1248>>2]|0)<=(Ye|0)){r0=0;break}if((r[ze+1252>>2]|0)<=(h|0)){r0=0;break}if(He=r[ze+5804>>2]|0,D0=s0(h>>He,r[ze+5820>>2]|0)|0,Ge=D0+(o>>He)|0,He=D0+(Ye>>He)|0,D0=r[ze+10340>>2]|0,(be[D0+(Ge*24|0)>>1]|0)!=(be[D0+(He*24|0)>>1]|0)){r0=0;break}r0=r[ze+10308>>2]|0,r0=(r[r0+(Ge<<2)>>2]|0)==(r[r0+(He<<2)>>2]|0)|0}while(!1);He=h-1|0;do if((He|o|0)<0)Ge=0;else{if((r[ze+1248>>2]|0)<=(o|0)){Ge=0;break}if((r[ze+1252>>2]|0)<=(He|0)){Ge=0;break}if(N0=r[ze+5804>>2]|0,D0=r[ze+5820>>2]|0,Ge=o>>N0,o0=(s0(h>>N0,D0)|0)+Ge|0,Ge=(s0(He>>N0,D0)|0)+Ge|0,D0=r[ze+10340>>2]|0,(be[D0+(o0*24|0)>>1]|0)!=(be[D0+(Ge*24|0)>>1]|0)){Ge=0;break}D0=r[ze+10308>>2]|0,Ge=(r[D0+(o0<<2)>>2]|0)==(r[D0+(Ge<<2)>>2]|0)|0}while(!1);do if((r0|0)==0)pe=5;else if(D0=r[ze+10368>>2]|0,o0=Ye>>D0,Ye=h>>D0,(o0|0)>-1||y0(1024,904,118,17320),r0=r[ze+10372>>2]|0,(o0|0)>=(r0|0)&&y0(1024,904,118,17320),(Ye|0)>-1||y0(816,904,119,17320),(Ye|0)<(r[ze+10376>>2]|0)){D0=(s0(r0,Ye)|0)+o0|0,D0=(r[ze+10360>>2]|0)+(D0*3|0)|0,pe=((We[D0]|We[D0+1|0]<<8)<<16>>16&768)==512?6:5;break}else y0(816,904,119,17320);while(!1);do if((Ge|0)==0)ne=0;else if(D0=r[ze+10368>>2]|0,Ye=o>>D0,He=He>>D0,(Ye|0)>-1||y0(1024,904,118,17320),Ge=r[ze+10372>>2]|0,(Ye|0)>=(Ge|0)&&y0(1024,904,118,17320),(He|0)>-1||y0(816,904,119,17320),(He|0)<(r[ze+10376>>2]|0)){ne=(s0(Ge,He)|0)+Ye|0,ne=(r[ze+10360>>2]|0)+(ne*3|0)|0,ne=((We[ne]|We[ne+1|0]<<8)<<16>>16&768)==512|0;break}else y0(816,904,119,17320);while(!1);if(ze=n+18556|0,He=n+18580|0,((fi(ze,(r[He>>2]|0)+(ne+pe)|0)|0)&255)<<24>>24==0){if((r[Be>>2]|0)==2){le=0;break}le=(fi(ze,(r[He>>2]|0)+149|0)|0)==0|0;break}e:do if((r[(r[le>>2]|0)+804>>2]|0)<2)_=0;else{if((fi(ze,(r[He>>2]|0)+148|0)|0)==0){_=0;break}if(((r[(r[le>>2]|0)+804>>2]|0)-1|0)>1)C=1;else{_=1;break}for(;;){if(_=C+1|0,(Ur(ze)|0)==0){_=C&255;break e}if((_|0)<((r[(r[le>>2]|0)+804>>2]|0)-1|0))C=_;else{_=_&255;break}}}while(!1);if(q=n+26|0,j[q]=_<<5|j[q]&15|16,q=r[Te>>2]|0,_=o>>q,q=h>>q,(_|0)>-1||y0(1024,904,128,17320),C=r[ve>>2]|0,(_|0)>=(C|0)&&y0(1024,904,128,17320),(q|0)>-1||y0(816,904,129,17320),(q|0)>=(r[ge>>2]|0)&&y0(816,904,129,17320),q=(s0(C,q)|0)+_|0,q=(r[Ve>>2]|0)+(q*3|0)|0,u0=(We[q]|We[q+1|0]<<8)<<16>>16&-57,j[q]=u0,u0=u0>>8,j[q+1|0]=u0,q=r[Te>>2]|0,_=o>>q,C=h>>q,q=1<<m-q,m=q+C|0,(q|0)>0){q=q+_|0;do{te=_;do D0=(s0(r[ve>>2]|0,C)|0)+te|0,D0=(r[Ve>>2]|0)+(D0*3|0)|0,u0=(We[D0]|We[D0+1|0]<<8)<<16>>16&-769|512,j[D0]=u0,u0=u0>>8,j[D0+1|0]=u0,te=te+1|0;while((te|0)<(q|0));C=C+1|0}while((C|0)<(m|0))}Bl(r[n+18592>>2]|0,r[le>>2]|0,r[B>>2]|0,n+16|0,o,h,0,0,y,y,y,0),D=w;return}while(!1);if(Be=r[Te>>2]|0,ne=o>>Be,He=h>>Be,Be=1<<m-Be,pe=Be+He|0,(Be|0)>0){ze=Be+ne|0,Be=(le&65535)<<8;do{Ye=ne;do D0=(s0(r[ve>>2]|0,He)|0)+Ye|0,D0=(r[Ve>>2]|0)+(D0*3|0)|0,u0=(We[D0]|We[D0+1|0]<<8)<<16>>16&-769|Be,j[D0]=u0,u0=u0>>8,j[D0+1|0]=u0,Ye=Ye+1|0;while((Ye|0)<(ze|0));He=He+1|0}while((He|0)<(pe|0))}if(ne=(le|0)!=0,ne||(r[_+5800>>2]|0)==(m|0)?qe=87:(pe=0,ue=0),(qe|0)==87){ze=r[B>>2]|0,pe=(le|0)==0,Be=n+18556|0,He=n+18580|0,Ye=fi(Be,(r[He>>2]|0)+8|0)|0;do if(pe)ue=(Ye|0)!=0?0:3;else{if((Ye|0)!=0){ue=0;break}if(Ye=fi(Be,(r[He>>2]|0)+9|0)|0,(r[ze+5800>>2]|0)>=(m|0)){if((Ye|0)!=0){ue=1;break}if((m|0)==3){ue=2;break}ue=3-(fi(Be,(r[He>>2]|0)+10|0)|0)|0;break}if((j[ze+5466|0]|0)==0){ue=(Ye|0)!=0?1:2;break}if((fi(Be,(r[He>>2]|0)+11|0)|0)!=0){ue=(Ye|0)!=0?1:2;break}if(ze=(Ye|0)!=0,He=ze^1,Be=(Ur(Be)|0)==0,!(Be|He)){ue=5;break}if(ze&Be){ue=4;break}if(Be&He){ue=6;break}if(!(ze|Be)){ue=7;break}y0(536,14776,1760,17936)}while(!1);pe=(ue|0)==3&pe&1}ze=r[Te>>2]|0,Be=o>>ze,ze=h>>ze,(Be|0)>-1||y0(1024,904,128,17320),He=r[ve>>2]|0,(Be|0)>=(He|0)&&y0(1024,904,128,17320),(ze|0)>-1||y0(816,904,129,17320),(ze|0)>=(r[ge>>2]|0)&&y0(816,904,129,17320),ge=(s0(He,ze)|0)+Be|0,ge=(r[Ve>>2]|0)+(ge*3|0)|0,u0=(We[ge]|We[ge+1|0]<<8)<<16>>16&-57|(ue&65535)<<3&56,j[ge]=u0,u0=u0>>8,j[ge+1|0]=u0,ge=(le|0)==0,Be=(ue|0)==0;e:do if(ge){do if(Be){if((j[_+5468|0]|0)==0){C=y,B=0;break}if((r[_+5884>>2]|0)>(m|0)){qe=165;break}if((r[_+5888>>2]|0)<(m|0)){qe=165;break}if(qe=n+18556|0,(yt(qe)|0)==0){qe=165;break}if(re=r[Te>>2]|0,q=o>>re,te=h>>re,re=1<<m-re,m=re+te|0,(re|0)>0){re=re+q|0;do{oe=q;do D0=(s0(r[ve>>2]|0,te)|0)+oe|0,D0=(r[Ve>>2]|0)+(D0*3|0)|0,u0=(We[D0]|We[D0+1|0]<<8)<<16>>16|1024,j[D0]=u0,u0=u0>>8,j[D0+1|0]=u0,oe=oe+1|0;while((oe|0)<(re|0));te=te+1|0}while((te|0)<(m|0))}m=r[_+10348>>2]|0,q=o>>m,m=h>>m,(q|0)>-1||y0(1024,904,128,17320),te=r[_+10352>>2]|0,(q|0)>=(te|0)&&y0(1024,904,128,17320),(m|0)>-1||y0(816,904,129,17320),(m|0)>=(r[_+10356>>2]|0)&&y0(816,904,129,17320),te=(s0(te,m)|0)+q|0,j[(r[_+10340>>2]|0)+(te*24|0)+22|0]=1,_=n+18560|0,te=r[_>>2]|0,m=C|0,r[m>>2]=te,r[C+4>>2]=(r[n+18564>>2]|0)-te,te=C+8|0,r[te>>2]=0,r[te+4>>2]=0,r[C+16>>2]=0,te=r[B>>2]|0,re=r[te+5760>>2]|0,n=j[te+5469|0]|0,q=r[te+40>>2]|0,te=r[te+4>>2]|0;do if((re|0)>8){if(te=te+((s0(q,h)|0)+o<<1)|0,ne=re-n|0,(y|0)>0)re=0;else break;do{oe=s0(re,q)|0,le=0;do D0=(nt(C,n)|0)<<ne&65535,be[te+(le+oe<<1)>>1]=D0,le=le+1|0;while((le|0)<(y|0));re=re+1|0}while((re|0)<(y|0))}else{if(re=re-n|0,(y|0)>0)ne=0;else break;do{oe=(s0(ne+h|0,q)|0)+o|0,le=0;do D0=(nt(C,n)|0)<<re&255,j[te+(oe+le)|0]=D0,le=le+1|0;while((le|0)<(y|0));ne=ne+1|0}while((ne|0)<(y|0))}while(!1);Ve=r[B>>2]|0;do if((r[Ve+5776>>2]|0)!=0)if(te=r[Ve+5768>>2]|0,ue=r[Ve+5780>>2]|0,re=(y|0)/(ue|0)|0,ne=r[Ve+5784>>2]|0,oe=(y|0)/(ne|0)|0,pe=(o|0)/(ue|0)|0,ve=(h|0)/(ne|0)|0,le=j[Ve+5470|0]|0,q=le<<24>>24,n=r[Ve+44>>2]|0,ge=r[Ve+8>>2]|0,(te|0)>8){if(pe=ge+((s0(n,ve)|0)+pe<<1)|0,ve=te-q|0,(oe|0)>0){ue=(re|0)>0,ne=0;do{if(ue){te=s0(ne,n)|0,le=0;do D0=(nt(C,q)|0)<<ve&65535,be[pe+(le+te<<1)>>1]=D0,le=le+1|0;while((le|0)<(re|0))}ne=ne+1|0}while((ne|0)<(oe|0));n=r[B>>2]|0,Ve=n,ue=r[n+5780>>2]|0,ne=r[n+5784>>2]|0,le=j[n+5470|0]|0,te=r[n+5768>>2]|0,n=r[n+44>>2]|0}if(B=(y|0)/(ue|0)|0,y=(y|0)/(ne|0)|0,q=le<<24>>24,h=(r[Ve+12>>2]|0)+((s0((h|0)/(ne|0)|0,n)|0)+((o|0)/(ue|0)|0)<<1)|0,re=te-q|0,(y|0)<=0)break;te=(B|0)>0,o=0;do{if(te){oe=s0(o,n)|0,le=0;do D0=(nt(C,q)|0)<<re&65535,be[h+(le+oe<<1)>>1]=D0,le=le+1|0;while((le|0)<(B|0))}o=o+1|0}while((o|0)<(y|0))}else{if(Te=te-q|0,(oe|0)>0){ue=(re|0)>0,ne=0;do{if(ue){le=(s0(ne+ve|0,n)|0)+pe|0,te=0;do D0=(nt(C,q)|0)<<Te&255,j[ge+(le+te)|0]=D0,te=te+1|0;while((te|0)<(re|0))}ne=ne+1|0}while((ne|0)<(oe|0));n=r[B>>2]|0,Ve=n,ue=r[n+5780>>2]|0,ne=r[n+5784>>2]|0,le=j[n+5470|0]|0,te=r[n+5768>>2]|0,n=r[n+44>>2]|0}if(B=(y|0)/(ue|0)|0,y=(y|0)/(ne|0)|0,o=(o|0)/(ue|0)|0,h=(h|0)/(ne|0)|0,q=le<<24>>24,re=r[Ve+12>>2]|0,te=te-q|0,(y|0)<=0)break;ne=(B|0)>0,le=0;do{if(ne){oe=(s0(le+h|0,n)|0)+o|0,pe=0;do D0=(nt(C,q)|0)<<te&255,j[re+(oe+pe)|0]=D0,pe=pe+1|0;while((pe|0)<(B|0))}le=le+1|0}while((le|0)<(y|0))}while(!1);Fo(C),r[_>>2]=r[m>>2],Rn(qe),D=w;return}else qe=165;while(!1);do if((qe|0)==165){if((ue|0)!=3){C=y,B=0;break}C=(y|0)/2|0,B=-1}while(!1);if(B=B+m|0,ve=(y|0)>0,ve){Ve=n+18556|0,Te=n+18580|0,g=0,qe=0;do{for(Be=0,ze=qe;D0=fi(Ve,(r[Te>>2]|0)+12|0)|0,qe=ze+1|0,r[q+(ze<<2)>>2]=D0,Be=Be+C|0,(Be|0)<(y|0);)ze=qe;g=g+C|0}while((g|0)<(y|0))}Ve=o-1|0;do if((Ve|h|0)<0)Ve=0;else{if((r[_+1248>>2]|0)<=(Ve|0)){Ve=0;break}if((r[_+1252>>2]|0)<=(h|0)){Ve=0;break}if(D0=r[_+5804>>2]|0,N0=s0(h>>D0,r[_+5820>>2]|0)|0,Te=N0+(o>>D0)|0,Ve=N0+(Ve>>D0)|0,D0=r[_+10340>>2]|0,(be[D0+(Te*24|0)>>1]|0)!=(be[D0+(Ve*24|0)>>1]|0)){Ve=0;break}D0=r[_+10308>>2]|0,Ve=(r[D0+(Te<<2)>>2]|0)==(r[D0+(Ve<<2)>>2]|0)|0}while(!1);qe=h-1|0;do if((qe|o|0)<0)qe=0;else{if((r[_+1248>>2]|0)<=(o|0)){qe=0;break}if((r[_+1252>>2]|0)<=(qe|0)){qe=0;break}if(ot=r[_+5804>>2]|0,N0=r[_+5820>>2]|0,D0=o>>ot,Te=(s0(h>>ot,N0)|0)+D0|0,qe=(s0(qe>>ot,N0)|0)+D0|0,D0=r[_+10340>>2]|0,(be[D0+(Te*24|0)>>1]|0)!=(be[D0+(qe*24|0)>>1]|0)){qe=0;break}D0=r[_+10308>>2]|0,qe=(r[D0+(Te<<2)>>2]|0)==(r[D0+(qe<<2)>>2]|0)|0}while(!1);if(ve){Te=n+18556|0,Ve=(Ve|0)!=0,qe=(qe|0)!=0,Be=_+5872|0,He=_+5876|0,g=re|0,Ye=_+10408|0,o0=_+10412|0,ze=_+10400|0,Ge=re+4|0,r0=re+8|0,v0=0,P0=0;do{E0=v0+h|0,S0=(v0|0)>0|qe,O0=0;do{if(G0=r[q+(P0<<2)>>2]|0,(G0|0)==0?(D0=cs(Te,5)|0,r[oe+(P0<<2)>>2]=D0):(D0=fn(Te,2)|0,r[te+(P0<<2)>>2]=D0),D0=O0+o|0,Z0=r[Be>>2]|0,Z0=(s0(E0>>Z0,r[He>>2]|0)|0)+(D0>>Z0)|0,Ad(g,D0,E0,Z0,(O0|0)>0|Ve,S0,_),(G0|0)==1?ot=r[re+(r[te+(P0<<2)>>2]<<2)>>2]&255:(G0=r[g>>2]|0,ot=r[Ge>>2]|0,(G0|0)>(ot|0)?(r[g>>2]=ot,r[Ge>>2]=G0,N0=ot):(N0=G0,G0=ot),D0=r[r0>>2]|0,(N0|0)>(D0|0)?(r[g>>2]=D0,r[r0>>2]=N0,ot=N0,N0=D0):ot=D0,(G0|0)>(ot|0)?(r[Ge>>2]=ot,r[r0>>2]=G0,D0=ot):(D0=G0,G0=ot),ot=r[oe+(P0<<2)>>2]|0,ot=((ot|0)>=(N0|0))+ot|0,ot=((ot|0)>=(D0|0))+ot|0,ot=((ot|0)>=(G0|0))+ot&255),N0=1<<B-(r[Ye>>2]|0),(N0|0)>0){G0=0;do{D0=0;do X0=D0+Z0+(s0(r[o0>>2]|0,G0)|0)|0,j[(r[ze>>2]|0)+X0|0]=ot,D0=D0+1|0;while((D0|0)<(N0|0));G0=G0+1|0}while((G0|0)<(N0|0))}P0=P0+1|0,O0=O0+C|0}while((O0|0)<(y|0));v0=v0+C|0}while((v0|0)<(y|0))}if(q=_+5776|0,te=r[q>>2]|0,(te|0)==0)break;if((te|0)!=3){y=n+18556|0,(fi(y,(r[n+18580>>2]|0)+13|0)|0)==0?C=4:C=cs(y,2)|0,te=r[_+10408>>2]|0,B=o>>te,te=h>>te,(B|0)>-1||y0(1024,904,118,17320),y=r[_+10412>>2]|0,(B|0)>=(y|0)&&y0(1024,904,118,17320),(te|0)>-1||y0(816,904,119,17320),(te|0)>=(r[_+10416>>2]|0)&&y0(816,904,119,17320),B=(s0(y,te)|0)+B|0,B=We[(r[_+10400>>2]|0)+B|0]|0,y=(C|0)==4,y||(C=r[19448+(C<<2)>>2]|0,B=(C|0)==(B|0)?34:C),(r[q>>2]|0)==2&&(B=We[30544+B|0]|0),mo(_,o,h,m,B,y);break}if(!ve)break;te=n+18556|0,q=n+18580|0,re=_+10408|0,Be=_+10412|0,qe=_+10416|0,oe=_+10400|0,g=0;t:for(;;){Ve=g+h|0,Te=0;do{if(ve=Te+o|0,(fi(te,(r[q>>2]|0)+13|0)|0)==0?ze=4:ze=cs(te,2)|0,Ge=r[re>>2]|0,Ye=ve>>Ge,Ge=Ve>>Ge,!((Ye|0)>-1)){qe=211;break t}if(He=r[Be>>2]|0,(Ye|0)>=(He|0)){qe=211;break t}if(!((Ge|0)>-1)){qe=214;break t}if((Ge|0)>=(r[qe>>2]|0)){qe=214;break t}Ye=(s0(He,Ge)|0)+Ye|0,Ye=We[(r[oe>>2]|0)+Ye|0]|0,He=(ze|0)==4,He||(ze=r[19448+(ze<<2)>>2]|0,Ye=(ze|0)==(Ye|0)?34:ze),mo(_,ve,Ve,B,Ye,He),Te=Te+C|0}while((Te|0)<(y|0));if(g=g+C|0,(g|0)>=(y|0))break e}(qe|0)==211?y0(1024,904,118,17320):(qe|0)==214&&y0(816,904,119,17320)}else{if(Be){gr(n,o,h,0,0,y,y,g,y,0);break}switch(ue|0){case 1:{X0=(y|0)/2|0,gr(n,o,h,0,0,y,X0,g,y,0),gr(n,o,h,0,X0,y,X0,g,y,1);break e}case 2:{X0=(y|0)/2|0,gr(n,o,h,0,0,X0,y,g,y,0),gr(n,o,h,X0,0,X0,y,g,y,1);break e}case 4:{X0=(y|0)/4|0,gr(n,o,h,0,0,y,X0,g,y,0),gr(n,o,h,0,X0,y,(3<<m|0)/4|0,g,y,1);break e}case 5:{X0=(3<<m|0)/4|0,gr(n,o,h,0,0,y,X0,g,y,0),gr(n,o,h,0,X0,y,(y|0)/4|0,g,y,1);break e}case 6:{X0=(y|0)/4|0,gr(n,o,h,0,0,X0,y,g,y,0),gr(n,o,h,X0,0,(3<<m|0)/4|0,y,g,y,1);break e}case 7:{X0=(3<<m|0)/4|0,gr(n,o,h,0,0,X0,y,g,y,0),gr(n,o,h,X0,0,(y|0)/4|0,y,g,y,1);break e}case 3:{X0=(y|0)/2|0,gr(n,o,h,0,0,X0,X0,g,y,0),gr(n,o,h,X0,0,X0,X0,g,y,1),gr(n,o,h,0,X0,X0,X0,g,y,2),gr(n,o,h,X0,X0,X0,X0,g,y,3);break e}default:y0(14128,14776,4511,18912)}}while(!1);do if(ne){if(!((ue|0)!=0|(j[n+26|0]&16)==0)||(fi(n+18556|0,(r[n+18580>>2]|0)+153|0)|0)!=0)break;D=w;return}while(!1);ge?y=(r[_+1396>>2]|0)+pe|0:y=r[_+1392>>2]|0,X0=(r[_+5776>>2]|0)!=0|0,In(n,o,h,o,h,o,h,m,0,0,y,pe,le,X0,X0),D=w}function mo(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0;if(w?g=(g|128)&255:g=g&255,w=1<<m-(r[n+10408>>2]|0),y=r[n+5872>>2]|0,m=n+5876|0,y=(s0(h>>y,r[m>>2]|0)|0)+(o>>y)|0,!((w|0)<=0)){_=n+5880|0,h=n+10432|0,o=n+10424|0,n=n+10420|0,B=0;e:for(;;){q=0;do{if((q|0)>=(r[m>>2]|0)){g=7;break e}if((B|0)>=(r[_>>2]|0)){g=9;break e}if(C=y+q+(s0(r[h>>2]|0,B)|0)|0,(C|0)>=(r[o>>2]|0)){g=11;break e}j[(r[n>>2]|0)+C|0]=g,q=q+1|0}while((q|0)<(w|0));if(B=B+1|0,(B|0)>=(w|0)){g=14;break}}if((g|0)==7)y0(776,904,659,17736);else if((g|0)==9)y0(704,904,660,17736);else if((g|0)==11)y0(640,904,663,17736);else if((g|0)==14)return}}function x1(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0;m=n+18596|0,ge=r[m>>2]|0,y=r[ge+5820>>2]|0,g=n+12|0,w=ge+5965|0;do if(!h){if((j[w]|0)==0||(h=r[g>>2]|0,(h|0)<=0)||(r[n+8>>2]|0)!=0)break;if((y|0)>1)if(h=h-1|0,_=n+18604|0,Ge=r[_>>2]|0,h>>>0<(r[Ge+10680>>2]|0)-(r[Ge+10676>>2]|0)>>3>>>0){Xs(ge,r[n+18612>>2]|0,1,h,1),ma(n+18580|0,(r[(r[_>>2]|0)+10676>>2]|0)+((r[g>>2]|0)-1<<3)|0)|0,No((r[(r[_>>2]|0)+10676>>2]|0)+((r[g>>2]|0)-1<<3)|0);break}else return Ge=2,Ge|0;else if(Xs(ge,r[n+18612>>2]|0,0,h-1|0,1),h=r[n+18600>>2]|0,_=r[h+796>>2]|0,_>>>0<3){Ys(n+18580|0,_,r[h+792>>2]|0),Ge=n+18588|0,u0=0,j[Ge]=u0,u0=u0>>8,j[Ge+1|0]=u0,u0=u0>>8,j[Ge+2|0]=u0,u0=u0>>8,j[Ge+3|0]=u0;break}else return y0(1856,14776,1508,18744),0}while(!1);C=n+8|0,ve=y-1|0,ue=n+18612|0,te=n+18580|0,oe=n+18584|0,ne=ge+5828|0,le=n+18604|0,h=n+18556|0,re=ge+5935|0,q=n+18600|0,B=n+4|0,_=n|0,pe=ge+5966|0,ge=ge+10296|0,He=r[C>>2]|0,Ye=r[g>>2]|0,Te=r[m>>2]|0;e:for(;;){if(Ve=(s0(Ye,y)|0)+He|0,!(Ve>>>0<(r[Te+10276>>2]|0)-(r[Te+10272>>2]|0)>>2>>>0)){n=2,g=38;break}if((He|0)>=(r[Te+5820>>2]|0)){n=2,g=38;break}if((Ye|0)>=(r[Te+5828>>2]|0)){n=2,g=38;break}if((Ye|0)>0&o&(He|0)<(ve|0)&&Xs(Te,r[ue>>2]|0,He+1|0,Ye-1|0,1),(r[oe>>2]|0)==0){n=2,g=38;break}c2(n);do if((j[w]|0)!=0&(He|0)==1){if((Ye|0)>=((r[ne>>2]|0)-1|0))break;if(Ge=r[le>>2]|0,Te=r[Ge+10676>>2]|0,!((r[Ge+10680>>2]|0)-Te>>3>>>0>Ye>>>0)){n=2,g=38;break e}ma(Te+(Ye<<3)|0,te)|0,il((r[(r[le>>2]|0)+10676>>2]|0)+(Ye<<3)|0)}while(!1);Ge=yt(h)|0,qe=(Ge|0)!=0;do if(qe){if((j[re]|0)==0)break;ma((r[q>>2]|0)+1332|0,te)|0,il((r[q>>2]|0)+1332|0),j[(r[q>>2]|0)+1340|0]=1}while(!1);if(Zr((r[(r[m>>2]|0)+10524>>2]|0)+(Ve*76|0)|0,1),Ve=r[g>>2]|0,Be=r[B>>2]|0,ze=Be+1|0,r[B>>2]=ze,Te=r[m>>2]|0,Ye=r[Te+5836>>2]|0,(ze|0)<(Ye|0))Ge=r[(r[Te+10284>>2]|0)+(ze<<2)>>2]|0,r[_>>2]=Ge,Ye=Te+5820|0,He=(Ge|0)%(r[Ye>>2]|0)|0,r[C>>2]=He,Ye=(Ge|0)/(r[Ye>>2]|0)|0,r[g>>2]=Ye;else if(r[_>>2]=Ye,r0=Te+5820|0,He=(Ye|0)%(r[r0>>2]|0)|0,r[C>>2]=He,Ye=(Ye|0)/(r[r0>>2]|0)|0,r[g>>2]=Ye,(Ge|0)==0){g=28;break}if(qe){n=0,g=38;break}if((j[pe]|0)==0?qe=0:(qe=r[ge>>2]|0,qe=(r[qe+(ze<<2)>>2]|0)!=(r[qe+(Be<<2)>>2]|0)|0),(j[w]|0)==0?Ve=0:Ve=(Ve|0)!=(Ye|0)|0,(Ve|qe|0)!=0){g=35;break}}return(g|0)==28?(kt((r[n+18592>>2]|0)+4|0,1004,0),j[(r[m>>2]|0)+10516|0]=3,r0=2,r0|0):(g|0)==35?(yt(h)|0)==0?(kt((r[n+18592>>2]|0)+4|0,1017,0),j[(r[m>>2]|0)+10516|0]=3,r0=2,r0|0):(Rn(h),r0=1,r0|0):(g|0)==38?n|0:0}function C1(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0;if(g=r[n+18596>>2]|0,m=g+5932|0,w=n+18600|0,h=r[w>>2]|0,(j[h+12|0]|0)==0)return o=r[h+796>>2]|0,o>>>0<3?(Ys(n+18580|0,o,r[h+792>>2]|0),_=n+18588|0,u0=0,j[_]=u0,u0=u0>>8,j[_+1|0]=u0,u0=u0>>8,j[_+2|0]=u0,u0=u0>>8,j[_+3|0]=u0,_=1,_|0):(y0(1856,14776,1508,18744),0);if(y=r[h+16>>2]|0,h=f0[(r[g+10340>>2]|0)+((r[(r[g+10284>>2]|0)+((r[(r[g+10272>>2]|0)+(y<<2)>>2]|0)-1<<2)>>2]|0)*24|0)+2>>1]|0,_=r[g+48>>2]|0,!(h>>>0<(r[g+52>>2]|0)-_>>2>>>0))return _=0,_|0;if(h=r[_+(h<<2)>>2]|0,_=r[g+5820>>2]|0,i2(m,(y|0)%(_|0)|0,(y|0)/(_|0)|0)|0)return o=r[w>>2]|0,h=r[o+796>>2]|0,h>>>0<3?(Ys(n+18580|0,h,r[o+792>>2]|0),_=n+18588|0,u0=0,j[_]=u0,u0=u0>>8,j[_+1|0]=u0,u0=u0>>8,j[_+2|0]=u0,u0=u0>>8,j[_+3|0]=u0,_=1,_|0):(y0(1856,14776,1508,18744),0);if(g=r[n+18604>>2]|0,w=r[n+18608>>2]|0,m=r[g+10632>>2]|0,g=(r[g+10636>>2]|0)-m>>2,g>>>0>1)y=1;else return _=0,_|0;for(;_=y+1|0,(r[m+(y<<2)>>2]|0)!=(w|0);)if(_>>>0<g>>>0)y=_;else{n=0,o=16;break}return(o|0)==16?n|0:(o=r[m+(y-1<<2)>>2]|0,(o|0)==0||(B1(o+44|0,r[o+120>>2]|0),(j[h+1340|0]|0)==0)?(_=0,_|0):(_=h+1332|0,ma(n+18580|0,_)|0,No(_),_=1,_|0))}function D1(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0;if(m=D,D=D+104|0,h=m|0,nn(h|0,1216,(g=D,D=D+8|0,r[g>>2]=r[o+12>>2],g|0))|0,D=g,o=Er(h|0)|0,o>>>0>4294967279&&Ar(0),o>>>0<11){j[n]=o<<1,g=n+1|0,Tt(g|0,h|0,o)|0,g=g+o|0,j[g]=0,D=m;return}else{w=o+16&-16,g=It(w)|0,r[n+8>>2]=g,r[n>>2]=w|1,r[n+4>>2]=o,Tt(g|0,h|0,o)|0,g=g+o|0,j[g]=0,D=m;return}}function Yl(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0;if(m=D,D=D+104|0,h=m|0,w=r[o+16>>2]|0,nn(h|0,1104,(g=D,D=D+16|0,r[g>>2]=r[o+12>>2],r[g+8>>2]=w,g|0))|0,D=g,o=Er(h|0)|0,o>>>0>4294967279&&Ar(0),o>>>0<11){j[n]=o<<1,w=n+1|0,Tt(w|0,h|0,o)|0,w=w+o|0,j[w]=0,D=m;return}else{g=o+16&-16,w=It(g)|0,r[n+8>>2]=w,r[n>>2]=g|1,r[n+4>>2]=o,Tt(w|0,h|0,o)|0,w=w+o|0,j[w]=0,D=m;return}}function v2(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0;m=r[n+20>>2]|0,g=m+18596|0,h=r[g>>2]|0,o=n+4|0,r[o>>2]=1,Ll(h),g=r[g>>2]|0,w=r[m+4>>2]|0,y=r[g+5836>>2]|0,(w|0)<(y|0)?(w=r[(r[g+10284>>2]|0)+(w<<2)>>2]|0,r[m>>2]=w,y=g+5820|0,r[m+8>>2]=(w|0)%(r[y>>2]|0)|0,r[m+12>>2]=(w|0)/(r[y>>2]|0)|0):(r[m>>2]=y,w=g+5820|0,r[m+8>>2]=(y|0)%(r[w>>2]|0)|0,r[m+12>>2]=(y|0)/(r[w>>2]|0)|0),g=n+8|0;do if((j[g]|0)==0)if(n=r[m+18600>>2]|0,w=r[n+796>>2]|0,w>>>0<3){Ys(m+18580|0,w,r[n+792>>2]|0),y=m+18588|0,u0=0,j[y]=u0,u0=u0>>8,j[y+1|0]=u0,u0=u0>>8,j[y+2|0]=u0,u0=u0>>8,j[y+3|0]=u0;break}else y0(1856,14776,1508,18744);else{if(C1(m)|0)break;r[o>>2]=3,un((r[m+18608>>2]|0)+44|0,1),Bn(h);return}while(!1);Rn(m+18556|0),x1(m,0,(j[g]|0)!=0)|0,r[o>>2]=3,un((r[m+18608>>2]|0)+44|0,1),Bn(h)}function Jl(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;m=r[n+16>>2]|0,C=m+18596|0,h=r[C>>2]|0,g=h+5820|0,w=r[g>>2]|0,o=n+4|0,r[o>>2]=1,Ll(h),C=r[C>>2]|0,_=r[m+4>>2]|0,y=r[C+5836>>2]|0,(_|0)<(y|0)?(y=r[(r[C+10284>>2]|0)+(_<<2)>>2]|0,r[m>>2]=y,q=C+5820|0,r[m+8>>2]=(y|0)%(r[q>>2]|0)|0,r[m+12>>2]=(y|0)/(r[q>>2]|0)|0):(r[m>>2]=y,q=C+5820|0,r[m+8>>2]=(y|0)%(r[q>>2]|0)|0,r[m+12>>2]=(y|0)/(r[q>>2]|0)|0),y=(y|0)/(w|0)|0,n=n+8|0;do if((j[n]|0)!=0){if(C1(m)|0)break;if((w|0)>0){y=s0(y,w)|0,n=h+10524|0,g=0;do Zr((r[n>>2]|0)+((g+y|0)*76|0)|0,1),g=g+1|0;while((g|0)<(w|0))}r[o>>2]=3,un((r[m+18608>>2]|0)+44|0,1),Bn(h);return}while(!1);Rn(m+18556|0),(j[n]|0)==0?n=0:n=(j[(r[m+18600>>2]|0)+12|0]|0)==0,x1(m,1,n)|0;e:do if((r[m+12>>2]|0)==(y|0)){if(n=r[g>>2]|0,B=r[m+8>>2]|0,(B|0)>=(n|0))break;for(_=h+5828|0,w=s0(y,w)|0,C=h+10524|0,q=B,B=n;;){do if((q|0)<(B|0)){if((y|0)>=(r[_>>2]|0))break;Zr((r[C>>2]|0)+((q+w|0)*76|0)|0,1)}while(!1);if(q=q+1|0,(q|0)>=(n|0))break e;B=r[g>>2]|0}}while(!1);r[o>>2]=3,un((r[m+18608>>2]|0)+44|0,1),Bn(h)}function jn(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0;if(w=r[n+18596>>2]|0,h=r[n+4>>2]|0,o=r[w+5836>>2]|0,(h|0)<(o|0)?(q=r[(r[w+10284>>2]|0)+(h<<2)>>2]|0,r[n>>2]=q,te=w+5820|0,r[n+8>>2]=(q|0)%(r[te>>2]|0)|0,r[n+12>>2]=(q|0)/(r[te>>2]|0)|0):(r[n>>2]=o,te=w+5820|0,r[n+8>>2]=(o|0)%(r[te>>2]|0)|0,r[n+12>>2]=(o|0)/(r[te>>2]|0)|0),o=n+18600|0,C=r[o>>2]|0,!(C1(n)|0))return te=18,te|0;for(g=n+18556|0,Rn(g),m=n+18560|0,g=g|0,h=n+18592|0,w=w+5966|0,_=n+18580|0,y=n+18588|0,C=(j[C+12|0]|0)==0,B=0;;){do if((B|0)>0){if(te=B-1|0,re=r[o>>2]|0,q=r[re+776>>2]|0,te>>>0<(r[re+780>>2]|0)-q>>2>>>0&&((r[m>>2]|0)-2-(r[g>>2]|0)|0)==(r[q+(te<<2)>>2]|0))break;kt((r[h>>2]|0)+4|0,1003,1)}while(!1);if(B=B+1|0,((x1(n,0,C)|0)&-3|0)==0){o=0,n=15;break}if((j[w]|0)==0){C=0;continue}if(q=r[o>>2]|0,C=r[q+796>>2]|0,!(C>>>0<3)){n=13;break}Ys(_,C,r[q+792>>2]|0),u0=0,j[y]=u0,u0=u0>>8,j[y+1|0]=u0,u0=u0>>8,j[y+2|0]=u0,u0=u0>>8,j[y+3|0]=u0,C=0}return(n|0)==13?(y0(1856,14776,1508,18744),0):(n|0)==15?o|0:0}function kn(n){}function on(n){n=n|0,$0(n)}function Ql(n){}function Xl(n){n=n|0,$0(n)}function R1(n){n=n|0,r[n+4720>>2]=0,r[n+4724>>2]=0,r[n+4728>>2]=0,z1(n+4904|0),V0(n+4984|0,0,9)|0,j[n|0]=0}function ur(n){n=n|0;var o=0,h=0;o=r[n+4720>>2]|0,(o|0)!=0&&(n=n+4724|0,h=r[n>>2]|0,(h|0)!=(o|0)&&(r[n>>2]=h+(~(((h-100+(-o|0)|0)>>>0)/100|0)*100|0)),$0(o))}function Sn(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;if(q=(nt(h,4)|0)&255,j[n+1|0]=q,q=(nt(h,3)|0)+1&255,g=n+2|0,j[g]=q,q<<24>>24>7)return q=8,q|0;if(m=(nt(h,1)|0)&255,j[n+3|0]=m,Tn(n+4|0,h,j[g]|0),m=jt(h)|0,(m|0)==-99999)return kt(o,8,0),q=8,q|0;if(r[n+472>>2]=m,(m|0)>15)return q=8,q|0;if(y=jt(h)|0,(y|0)==-99999)return kt(o,8,0),q=8,q|0;m=n+476|0,r[m>>2]=y;do if((y|0)==3){if(q=(nt(h,1)|0)&255,j[n+480|0]=q,q<<24>>24==0){w=11;break}r[n+5012>>2]=0,m=r[m>>2]|0}else j[n+480|0]=0,w=11;while(!1);if((w|0)==11&&(m=r[m>>2]|0,r[n+5012>>2]=m),m>>>0>3)return kt(o,1019,0),q=8,q|0;if(y=jt(h)|0,(y|0)==-99999||(m=n+484|0,r[m>>2]=y,y=jt(h)|0,(y|0)==-99999))return kt(o,8,0),q=8,q|0;if(r[n+488>>2]=y,m=r[m>>2]|0,(m|0)==0|(y|0)==0||(m|0)>7e4|(y|0)>7e4)return q=8,q|0;q=(nt(h,1)|0)&255,j[n+492|0]=q;do if(q<<24>>24==0)V0(n+496|0,0,16)|0;else{if(m=jt(h)|0,(m|0)==-99999||(r[n+496>>2]=m,m=jt(h)|0,(m|0)==-99999)||(r[n+500>>2]=m,m=jt(h)|0,(m|0)==-99999))return kt(o,8,0),q=8,q|0;if(r[n+504>>2]=m,m=jt(h)|0,(m|0)!=-99999){r[n+508>>2]=m;break}return kt(o,8,0),q=8,q|0}while(!1);if(m=jt(h)|0,(m|0)==-99999||(r[n+512>>2]=m+8,m=jt(h)|0,(m|0)==-99999)||(r[n+516>>2]=m+8,m=jt(h)|0,(m|0)==-99999))return kt(o,8,0),q=8,q|0;for(q=m+4|0,m=n+520|0,r[m>>2]=q,r[n+5032>>2]=1<<q,q=(nt(h,1)|0)&255,y=n+524|0,j[y]=q,q<<24>>24==0?(B=j[g]|0,_=(B<<24>>24)-1|0):(_=0,w=39);;){if((w|0)==39&&(B=j[g]|0),C=(B<<24>>24)-1|0,(_|0)>(C|0)){w=48;break}if(w=jt(h)|0,(w|0)==-99999|(w|0)>15){w=42;break}if(r[n+528+(_<<2)>>2]=w+1,C=jt(h)|0,(C|0)==-99999){w=44;break}if(w=n+556+(_<<2)|0,r[w>>2]=C,C=jt(h)|0,(C|0)==-99999){w=46;break}r[n+584+(_<<2)>>2]=C,r[n+5128+(_<<2)>>2]=C-1+(r[w>>2]|0),_=_+1|0,w=39}if((w|0)==42)return kt(o,8,0),q=8,q|0;if((w|0)==44)return kt(o,8,0),q=8,q|0;if((w|0)==46)return kt(o,8,0),q=8,q|0;if((w|0)==48){do if((j[y]|0)!=0){if(!(B<<24>>24<8))return y0(2792,14480,317,17480),0;if((C|0)<=0)break;y=n+528+(C<<2)|0,w=n+556+(C<<2)|0,_=n+584+(C<<2)|0,C=0;do r[n+528+(C<<2)>>2]=r[y>>2],r[n+556+(C<<2)>>2]=r[w>>2],r[n+584+(C<<2)>>2]=r[_>>2],C=C+1|0;while((C|0)<((j[g]|0)-1|0))}while(!1);if(w=jt(h)|0,(w|0)==-99999||(g=n+612|0,r[g>>2]=w+3,y=jt(h)|0,(y|0)==-99999)||(w=n+616|0,r[w>>2]=y,_=jt(h)|0,(_|0)==-99999)||(y=n+620|0,r[y>>2]=_+2,C=jt(h)|0,(C|0)==-99999)||(_=n+624|0,r[_>>2]=C,C=jt(h)|0,(C|0)==-99999)||(r[n+628>>2]=C,C=jt(h)|0,(C|0)==-99999))return kt(o,8,0),q=8,q|0;if(r[n+632>>2]=C,g=r[g>>2]|0,(g|0)>6||((r[w>>2]|0)+g|0)>6||(g=r[y>>2]|0,(g|0)>5)||((r[_>>2]|0)+g|0)>5)return q=8,q|0;q=(nt(h,1)|0)&255,j[n+636|0]=q;do if(q<<24>>24!=0){if(q=(nt(h,1)|0)&255,j[n+637|0]=q,g=n+638|0,q<<24>>24==0){w2(g);break}if(g=ln(h,0,g,0)|0,(g|0)==0)break;return g|0}while(!1);q=(nt(h,1)|0)&255,j[n+4702|0]=q,q=(nt(h,1)|0)&255,j[n+4703|0]=q,q=(nt(h,1)|0)&255,j[n+4704|0]=q;do if(q<<24>>24==0)j[n+4705|0]=0,j[n+4706|0]=0,r[n+4708>>2]=0,r[n+4712>>2]=0,j[n+4716|0]=0;else{if(g=(nt(h,4)|0)+1&255,j[n+4705|0]=g,g=(nt(h,4)|0)+1&255,j[n+4706|0]=g,g=jt(h)|0,(g|0)==-99999)return kt(o,8,0),q=8,q|0;if(r[n+4708>>2]=g+3,g=jt(h)|0,(g|0)!=-99999){r[n+4712>>2]=g,q=(nt(h,1)|0)&255,j[n+4716|0]=q;break}return kt(o,8,0),q=8,q|0}while(!1);if(g=jt(h)|0,(g|0)==-99999)return kt(o,8,0),q=8,q|0;if(g>>>0>64)return kt(o,1014,0),q=8,q|0;w=n+4720|0,C=n+4724|0,_=r[C>>2]|0,y=w|0,q=r[y>>2]|0,B=(_-q|0)/100|0;do if(B>>>0<g>>>0)_2(w,g-B|0);else{if(!(B>>>0>g>>>0)||(B=q+(g*100|0)|0,(_|0)==(B|0)))break;r[C>>2]=_+(~(((_-100+(-B|0)|0)>>>0)/100|0)*100|0)}while(!1);e:do if((g|0)>0){for(_=0;;){if(C=_+1|0,!(s2(o,n,h,(r[y>>2]|0)+(_*100|0)|0,_,w,0)|0)){g=1005;break}if((C|0)<(g|0))_=C;else break e}return g|0}while(!1);q=(nt(h,1)|0)&255,j[n+4732|0]=q;do if(q<<24>>24==0)r[n+4736>>2]=0;else{if(w=jt(h)|0,(w|0)==-99999)return kt(o,8,0),q=8,q|0;if(g=n+4736|0,r[g>>2]=w,(w|0)>32)return q=8,q|0;if((w|0)>0)w=0;else break;do q=nt(h,r[m>>2]|0)|0,r[n+4740+(w<<2)>>2]=q,q=(nt(h,1)|0)&255,j[n+4868+w|0]=q,w=w+1|0;while((w|0)<(r[g>>2]|0))}while(!1);q=(nt(h,1)|0)&255,j[n+4900|0]=q,q=(nt(h,1)|0)&255,j[n+4901|0]=q,q=(nt(h,1)|0)&255,j[n+4902|0]=q,q<<24>>24!=0&&bo(n+4904|0,o,h,n)|0,q=(nt(h,1)|0)&255,j[n+4980|0]=q;do if(q<<24>>24==0)j[n+4981|0]=0;else{if(B=(nt(h,1)|0)&255,q=n+4981|0,j[q]=B,B=(nt(h,1)|0)&255,j[n+4982|0]=B,B=(nt(h,6)|0)&255,j[n+4983|0]=B,(j[q]|0)==0)break;L1(n+4984|0,0,h)|0}while(!1);return o=I1(n)|0,(o|0)!=0?(q=o,q|0):(j[n|0]=1,q=0,q|0)}return 0}function ln(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;o=D,D=D+6240|0,g=o|0,m=o+96|0,q=0;e:for(;;){_=(q|0)==3,te=_?2:6,w=(q|0)==0,B=_^1,re=w?16:64,C=(q|0)>1,y=0;do{oe=m+(y<<10)|0,pe=_&(y|0)==1;do if(((nt(n,1)|0)&255)<<24>>24==0){if(ne=jt(n)|0,(ne|0)==-99999|(ne|0)>(y|0)){n=8,ne=29;break e}if(le=g+(q*24|0)+(y<<2)|0,r[le>>2]=16,(ne|0)!=0){if(!((ne|0)==1|B)){ne=12;break e}ne=y-ne|0,Tt(oe|0,m+(ne<<10)|0,re)|0,ne=r[g+(q*24|0)+(ne<<2)>>2]|0,r[le>>2]=ne,le=ne&255,ne=20;break}if(w){Tt(oe|0,30200,16)|0,ne=21;break}if((y|0)<3&(pe^1)){Tt(oe|0,30024,64)|0,le=16,ne=20;break}else{Tt(oe|0,30088,64)|0,le=16,ne=20;break}}else{if(C){if(le=pr(n)|0,(le+7|0)>>>0>254){n=8,ne=29;break e}le=le+8|0,r[g+(q*24|0)+(y<<2)>>2]=le,pe=le,le=le&255}else pe=8,le=16;for(ne=0;;){if(ue=pr(n)|0,(ue+128|0)>>>0>255){n=8,ne=29;break e}if(pe=(pe+256+ue|0)%256|0,j[m+(y<<10)+ne|0]=pe,ne=ne+1|0,(ne|0)>=(re|0)){ne=20;break}}}while(!1);do if((ne|0)==20)if(ne=0,(q|0)==1){le=mr(3,0)|0,oe=0;do j[((We[le+(oe<<1)+1|0]|0)<<3)+(We[le+(oe<<1)|0]|0)+(h+96+(y<<6))|0]=j[m+(y<<10)+oe|0]|0,oe=oe+1|0;while((oe|0)<64)}else if((q|0)==0){ne=21;break}else if((q|0)==2){ue=h+480+(y<<8)|0,cr(ue,oe,2),j[ue]=le;break}else if((q|0)==3){ue=h+2016+(y<<10)|0,cr(ue,oe,3),j[ue]=le;break}else break;while(!1);if((ne|0)==21){oe=mr(2,0)|0,le=0;do j[((We[oe+(le<<1)+1|0]|0)<<2)+(We[oe+(le<<1)|0]|0)+(h+(y<<4))|0]=j[m+(y<<10)+le|0]|0,le=le+1|0;while((le|0)<16)}y=y+1|0}while((y|0)<(te|0));if(q=q+1|0,(q|0)>=4){n=0,ne=29;break}}return(ne|0)==12?(y0(2912,14480,873,18888),0):(ne|0)==29?(D=o,n|0):0}function w2(n){n=n|0;var o=0,h=0;h=mr(2,0)|0,o=0;do j[n+(((We[h+(o<<1)+1|0]|0)<<2)+(We[h+(o<<1)|0]|0))|0]=j[30200+o|0]|0,o=o+1|0;while((o|0)<16);o=mr(2,0)|0,h=0;do j[((We[o+(h<<1)+1|0]|0)<<2)+(We[o+(h<<1)|0]|0)+(n+16)|0]=j[30200+h|0]|0,h=h+1|0;while((h|0)<16);o=mr(2,0)|0,h=0;do j[((We[o+(h<<1)+1|0]|0)<<2)+(We[o+(h<<1)|0]|0)+(n+32)|0]=j[30200+h|0]|0,h=h+1|0;while((h|0)<16);o=mr(2,0)|0,h=0;do j[((We[o+(h<<1)+1|0]|0)<<2)+(We[o+(h<<1)|0]|0)+(n+48)|0]=j[30200+h|0]|0,h=h+1|0;while((h|0)<16);o=mr(2,0)|0,h=0;do j[((We[o+(h<<1)+1|0]|0)<<2)+(We[o+(h<<1)|0]|0)+(n+64)|0]=j[30200+h|0]|0,h=h+1|0;while((h|0)<16);o=mr(2,0)|0,h=0;do j[((We[o+(h<<1)+1|0]|0)<<2)+(We[o+(h<<1)|0]|0)+(n+80)|0]=j[30200+h|0]|0,h=h+1|0;while((h|0)<16);o=mr(3,0)|0,h=0;do j[((We[o+(h<<1)+1|0]|0)<<3)+(We[o+(h<<1)|0]|0)+(n+96)|0]=j[30024+h|0]|0,h=h+1|0;while((h|0)<64);o=mr(3,0)|0,h=0;do j[((We[o+(h<<1)+1|0]|0)<<3)+(We[o+(h<<1)|0]|0)+(n+288)|0]=j[30088+h|0]|0,h=h+1|0;while((h|0)<64);o=mr(3,0)|0,h=0;do j[((We[o+(h<<1)+1|0]|0)<<3)+(We[o+(h<<1)|0]|0)+(n+160)|0]=j[30024+h|0]|0,h=h+1|0;while((h|0)<64);o=mr(3,0)|0,h=0;do j[((We[o+(h<<1)+1|0]|0)<<3)+(We[o+(h<<1)|0]|0)+(n+352)|0]=j[30088+h|0]|0,h=h+1|0;while((h|0)<64);o=mr(3,0)|0,h=0;do j[((We[o+(h<<1)+1|0]|0)<<3)+(We[o+(h<<1)|0]|0)+(n+224)|0]=j[30024+h|0]|0,h=h+1|0;while((h|0)<64);h=mr(3,0)|0,o=0;do j[((We[h+(o<<1)+1|0]|0)<<3)+(We[h+(o<<1)|0]|0)+(n+416)|0]=j[30088+o|0]|0,o=o+1|0;while((o|0)<64);cr(n+480|0,30024,2),cr(n+1248|0,30088,2),cr(n+736|0,30024,2),cr(n+1504|0,30088,2),cr(n+992|0,30024,2),cr(n+1760|0,30088,2),cr(n+2016|0,30024,3),cr(n+3040|0,30088,3)}function L1(n,o,h){return n=n|0,o=o|0,h=h|0,o=(nt(h,1)|0)&255,j[n|0]=o,o=(nt(h,1)|0)&255,j[n+1|0]=o,o=(nt(h,1)|0)&255,j[n+2|0]=o,o=(nt(h,1)|0)&255,j[n+3|0]=o,o=(nt(h,1)|0)&255,j[n+4|0]=o,o=(nt(h,1)|0)&255,j[n+5|0]=o,o=(nt(h,1)|0)&255,j[n+6|0]=o,o=(nt(h,1)|0)&255,j[n+7|0]=o,o=(nt(h,1)|0)&255,j[n+8|0]=o,0}function I1(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0;q=r[n+476>>2]|0,oe=r[30720+(q<<2)>>2]|0,r[n+5016>>2]=oe,re=r[30648+(q<<2)>>2]|0,r[n+5020>>2]=re,o=n+5024|0,(r[n+5012>>2]|0)==0?(r[o>>2]=1,r[n+5028>>2]=1):(r[o>>2]=oe,r[n+5028>>2]=re),_=r[n+512>>2]|0,r[n+4996>>2]=_,r[n+5e3>>2]=(_*6|0)-48,C=r[n+516>>2]|0,r[n+5004>>2]=C,r[n+5008>>2]=(C*6|0)-48,o=r[n+612>>2]|0,r[n+5036>>2]=o,m=(r[n+616>>2]|0)+o|0,r[n+5040>>2]=m,w=1<<o,r[n+5044>>2]=w,le=1<<m,r[n+5048>>2]=le,y=r[n+484>>2]|0,B=y-1|0,ne=(B+w|0)/(w|0)|0,r[n+5052>>2]=ne,B=(B+le|0)/(le|0)|0,r[n+5056>>2]=B,g=r[n+488>>2]|0,h=g-1|0,pe=(h+w|0)/(w|0)|0,r[n+5060>>2]=pe,h=(h+le|0)/(le|0)|0,r[n+5064>>2]=h,ne=s0(pe,ne)|0,r[n+5068>>2]=ne,ne=s0(h,B)|0,r[n+5072>>2]=ne,ne=s0(g,y)|0,r[n+5076>>2]=ne;do if((q|0)==0)te=6;else{if((j[n+480|0]|0)!=0){te=6;break}r[n+5080>>2]=(le|0)/(oe|0)|0,r[n+5084>>2]=(le|0)/(re|0)|0}while(!1);return(te|0)==6&&(r[n+5080>>2]=0,r[n+5084>>2]=0),te=r[n+620>>2]|0,r[n+5100>>2]=te,q=(r[n+624>>2]|0)+te|0,r[n+5104>>2]=q,re=m-te|0,(r[n+628>>2]|0)>(re|0)||(r[n+632>>2]|0)>(re|0)||(pe=o-1|0,r[n+5108>>2]=pe,pe=m-pe|0,r[n+5112>>2]=B<<pe,r[n+5116>>2]=h<<pe,pe=r[n+4708>>2]|0,r[n+5120>>2]=pe,r[n+5124>>2]=(r[n+4712>>2]|0)+pe,pe=B<<re,r[n+5088>>2]=pe,ne=h<<re,r[n+5092>>2]=ne,pe=s0(ne,pe)|0,r[n+5096>>2]=pe,(j[n+4990|0]|0)==0?(j[n+5156|0]=_+248,j[n+5157|0]=C+248,r[n+5160>>2]=128,r[n+5164>>2]=128):(j[n+5156|0]=0,j[n+5157|0]=0,r[n+5160>>2]=1<<_-1,r[n+5164>>2]=1<<C-1),((y|0)%(w|0)|0|0)!=0)||((g|0)%(w|0)|0|0)!=0|(te|0)>(o|0)||(q|0)>(((m|0)<5?m:5)|0)||(_-8|0)>>>0>8||(C-8|0)>>>0>8?(pe=8,pe|0):(j[n|0]=1,pe=0,pe|0)}function os(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0;if(h=D,(o|0)==1)m=wt;else if((o|0)==2)m=pt;else{D=h;return}m=r[m>>2]|0,I0(m,11960,(g=D,D=D+1|0,D=D+7&-8,r[g>>2]=0,g|0)),D=g,I0(m,8928,(g=D,D=D+8|0,r[g>>2]=j[n+1|0]|0,g|0)),D=g,g=n+2|0,I0(m,6288,(y=D,D=D+8|0,r[y>>2]=j[g]|0,y|0)),D=y,I0(m,4592,(y=D,D=D+8|0,r[y>>2]=j[n+3|0]|0,y|0)),D=y,Zi(n+4|0,j[g]|0,m),I0(m,3224,(y=D,D=D+8|0,r[y>>2]=r[n+472>>2],y|0)),D=y,y=n+476|0,_=r[y>>2]|0;do if((_|0)==0)w=1072;else{if((_|0)==1){w=384;break}if((_|0)==2){w=16872;break}w=(_|0)==3?16336:15976}while(!1);if(I0(m,1920,(q=D,D=D+16|0,r[q>>2]=_,r[q+8>>2]=w,q|0)),D=q,(r[y>>2]|0)==3&&(I0(m,15568,(q=D,D=D+8|0,r[q>>2]=j[n+480|0]|0,q|0)),D=q),I0(m,15216,(q=D,D=D+8|0,r[q>>2]=r[n+484>>2],q|0)),D=q,I0(m,14880,(q=D,D=D+8|0,r[q>>2]=r[n+488>>2],q|0)),D=q,q=n+492|0,I0(m,14632,(B=D,D=D+8|0,r[B>>2]=j[q]|0,B|0)),D=B,(j[q]|0)!=0&&(I0(m,14360,(q=D,D=D+8|0,r[q>>2]=r[n+496>>2],q|0)),D=q,I0(m,14088,(q=D,D=D+8|0,r[q>>2]=r[n+500>>2],q|0)),D=q,I0(m,13800,(q=D,D=D+8|0,r[q>>2]=r[n+504>>2],q|0)),D=q,I0(m,13600,(q=D,D=D+8|0,r[q>>2]=r[n+508>>2],q|0)),D=q),I0(m,13408,(q=D,D=D+8|0,r[q>>2]=r[n+512>>2],q|0)),D=q,I0(m,13200,(q=D,D=D+8|0,r[q>>2]=r[n+516>>2],q|0)),D=q,I0(m,12976,(q=D,D=D+8|0,r[q>>2]=r[n+520>>2],q|0)),D=q,q=n+524|0,I0(m,12704,(y=D,D=D+8|0,r[y>>2]=j[q]|0,y|0)),D=y,y=j[g]|0,(j[q]|0)==0?w=(y<<24>>24)-1|0:w=0,(w|0)<=((y<<24>>24)-1|0))for(;I0(m,12408,(q=D,D=D+8|0,r[q>>2]=w,q|0)),D=q,I0(m,12128,(q=D,D=D+8|0,r[q>>2]=r[n+528+(w<<2)>>2],q|0)),D=q,I0(m,11752,(q=D,D=D+8|0,r[q>>2]=r[n+556+(w<<2)>>2],q|0)),D=q,I0(m,11432,(q=D,D=D+8|0,r[q>>2]=r[n+584+(w<<2)>>2],q|0)),D=q,(w|0)<((j[g]|0)-1|0);)w=w+1|0;g=n+612|0,I0(m,11192,(y=D,D=D+8|0,r[y>>2]=r[g>>2],y|0)),D=y,y=n+616|0,I0(m,10936,(w=D,D=D+8|0,r[w>>2]=r[y>>2],w|0)),D=w,w=n+620|0,I0(m,10680,(_=D,D=D+8|0,r[_>>2]=r[w>>2],_|0)),D=_,_=n+624|0,I0(m,10408,(q=D,D=D+8|0,r[q>>2]=r[_>>2],q|0)),D=q,I0(m,10096,(q=D,D=D+8|0,r[q>>2]=r[n+628>>2],q|0)),D=q,I0(m,9760,(q=D,D=D+8|0,r[q>>2]=r[n+632>>2],q|0)),D=q,q=n+636|0,I0(m,9328,(B=D,D=D+8|0,r[B>>2]=j[q]|0,B|0)),D=B;do if((j[q]|0)!=0){if(q=n+637|0,I0(m,9016,(B=D,D=D+8|0,r[B>>2]=j[q]|0,B|0)),D=B,(j[q]|0)==0)break;I0(m,8656,(q=D,D=D+1|0,D=D+7&-8,r[q>>2]=0,q|0)),D=q}while(!1);if(I0(m,8384,(q=D,D=D+8|0,r[q>>2]=j[n+4702|0]|0,q|0)),D=q,I0(m,8152,(q=D,D=D+8|0,r[q>>2]=j[n+4703|0]|0,q|0)),D=q,q=n+4704|0,I0(m,7912,(B=D,D=D+8|0,r[B>>2]=j[q]|0,B|0)),D=B,(j[q]|0)!=0&&(I0(m,7640,(q=D,D=D+8|0,r[q>>2]=j[n+4705|0]|0,q|0)),D=q,I0(m,7352,(q=D,D=D+8|0,r[q>>2]=j[n+4706|0]|0,q|0)),D=q,I0(m,7040,(q=D,D=D+8|0,r[q>>2]=r[n+4708>>2],q|0)),D=q,I0(m,6752,(q=D,D=D+8|0,r[q>>2]=r[n+4712>>2],q|0)),D=q,I0(m,6456,(q=D,D=D+8|0,r[q>>2]=j[n+4716|0]|0,q|0)),D=q),C=n+4724|0,q=n+4720|0,I0(m,6336,(B=D,D=D+8|0,r[B>>2]=((r[C>>2]|0)-(r[q>>2]|0)|0)/100|0,B|0)),D=B,(r[C>>2]|0)!=(r[q>>2]|0)){B=0;do I0(m,6216,(te=D,D=D+8|0,r[te>>2]=B,te|0)),D=te,Z1((r[q>>2]|0)+(B*100|0)|0,16,m),B=B+1|0;while(B>>>0<(((r[C>>2]|0)-(r[q>>2]|0)|0)/100|0)>>>0)}te=n+4732|0,I0(m,6e3,(q=D,D=D+8|0,r[q>>2]=j[te]|0,q|0)),D=q;do if((j[te]|0)!=0){if(B=n+4736|0,I0(m,5816,(te=D,D=D+8|0,r[te>>2]=r[B>>2],te|0)),D=te,(r[B>>2]|0)>0)C=0;else break;do re=r[n+4740+(C<<2)>>2]|0,q=j[n+4868+C|0]|0,I0(m,5640,(te=D,D=D+24|0,r[te>>2]=C,r[te+8>>2]=re,r[te+16>>2]=q,te|0)),D=te,C=C+1|0;while((C|0)<(r[B>>2]|0))}while(!1);if(I0(m,5504,(C=D,D=D+8|0,r[C>>2]=j[n+4900|0]|0,C|0)),D=C,I0(m,5344,(C=D,D=D+8|0,r[C>>2]=j[n+4901|0]|0,C|0)),D=C,C=n+4902|0,I0(m,5176,(re=D,D=D+8|0,r[re>>2]=j[C]|0,re|0)),D=re,I0(m,4968,(re=D,D=D+8|0,r[re>>2]=j[n+4980|0]|0,re|0)),D=re,re=n+4981|0,I0(m,4792,(te=D,D=D+8|0,r[te>>2]=j[re]|0,te|0)),D=te,I0(m,4672,(te=D,D=D+8|0,r[te>>2]=j[n+4982|0]|0,te|0)),D=te,I0(m,4440,(te=D,D=D+8|0,r[te>>2]=j[n+4983|0]|0,te|0)),D=te,I0(m,4224,(te=D,D=D+8|0,r[te>>2]=r[n+5048>>2],te|0)),D=te,I0(m,4072,(te=D,D=D+8|0,r[te>>2]=r[n+5044>>2],te|0)),D=te,I0(m,3984,(te=D,D=D+8|0,r[te>>2]=1<<(r[y>>2]|0)+(r[g>>2]|0),te|0)),D=te,I0(m,3920,(te=D,D=D+8|0,r[te>>2]=1<<r[w>>2],te|0)),D=te,I0(m,3832,(te=D,D=D+8|0,r[te>>2]=1<<(r[_>>2]|0)+(r[w>>2]|0),te|0)),D=te,I0(m,3712,(te=D,D=D+8|0,r[te>>2]=r[n+5056>>2],te|0)),D=te,I0(m,3544,(te=D,D=D+8|0,r[te>>2]=r[n+5064>>2],te|0)),D=te,I0(m,3392,(te=D,D=D+8|0,r[te>>2]=r[n+5016>>2],te|0)),D=te,I0(m,3280,(te=D,D=D+8|0,r[te>>2]=r[n+5020>>2],te|0)),D=te,(j[re]|0)!=0&&P1(n+4984|0,o),(j[C]|0)==0){D=h;return}L2(n+4904|0,o),D=h}function P1(n,o){n=n|0,o=o|0;var h=0,m=0;if(h=D,(o|0)==2)o=pt;else if((o|0)==1)o=wt;else{D=h;return}o=r[o>>2]|0,I0(o,2728,(m=D,D=D+1|0,D=D+7&-8,r[m>>2]=0,m|0)),D=m,I0(o,2632,(m=D,D=D+8|0,r[m>>2]=We[n|0]|0,m|0)),D=m,I0(o,2536,(m=D,D=D+8|0,r[m>>2]=We[n+1|0]|0,m|0)),D=m,I0(o,2376,(m=D,D=D+8|0,r[m>>2]=We[n+2|0]|0,m|0)),D=m,I0(o,2224,(m=D,D=D+8|0,r[m>>2]=We[n+3|0]|0,m|0)),D=m,I0(o,2072,(m=D,D=D+8|0,r[m>>2]=We[n+4|0]|0,m|0)),D=m,I0(o,1984,(m=D,D=D+8|0,r[m>>2]=We[n+5|0]|0,m|0)),D=m,I0(o,1808,(m=D,D=D+8|0,r[m>>2]=We[n+6|0]|0,m|0)),D=m,I0(o,1576,(m=D,D=D+8|0,r[m>>2]=We[n+7|0]|0,m|0)),D=m,I0(o,1456,(o=D,D=D+8|0,r[o>>2]=We[n+8|0]|0,o|0)),D=o,D=h}function cr(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0;if((h|0)==3){m=mr(3,0)|0,g=0;do{y=m+(g<<1)|0,_=m+(g<<1)+1|0,w=o+g|0,h=0;do j[n+(((We[y]|0)<<2)+(((We[_]|0)<<2)+h<<5))|0]=j[w]|0,j[n+(((We[y]|0)<<2|1)+(((We[_]|0)<<2)+h<<5))|0]=j[w]|0,j[n+(((We[y]|0)<<2|2)+(((We[_]|0)<<2)+h<<5))|0]=j[w]|0,j[n+(((We[y]|0)<<2|3)+(((We[_]|0)<<2)+h<<5))|0]=j[w]|0,h=h+1|0;while((h|0)<4);g=g+1|0}while((g|0)<64);return}else if((h|0)==2){h=mr(3,0)|0,m=0;do y=h+(m<<1)|0,_=h+(m<<1)+1|0,w=o+m|0,j[n+(((We[y]|0)<<1)+((We[_]|0)<<5))|0]=j[w]|0,j[n+(((We[y]|0)<<1|1)+((We[_]|0)<<5))|0]=j[w]|0,j[n+(((We[y]|0)<<1)+((We[_]|0)<<5|16))|0]=j[w]|0,j[n+(((We[y]|0)<<1|1)+((We[_]|0)<<5|16))|0]=j[w]|0,m=m+1|0;while((m|0)<64);return}else if((h|0)==1){h=mr(3,0)|0,m=0;do j[n+(((We[h+(m<<1)+1|0]|0)<<3)+(We[h+(m<<1)|0]|0))|0]=j[o+m|0]|0,m=m+1|0;while((m|0)<64);return}else if((h|0)==0){h=mr(2,0)|0,m=0;do j[n+(((We[h+(m<<1)+1|0]|0)<<2)+(We[h+(m<<1)|0]|0))|0]=j[o+m|0]|0,m=m+1|0;while((m|0)<16);return}else y0(3136,14480,810,18840)}function _2(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0;if(m=n+8|0,h=n+4|0,g=r[h>>2]|0,_=r[m>>2]|0,y=g,!(((_-y|0)/100|0)>>>0<o>>>0)){do(g|0)==0?m=0:(V0(g|0,0,100)|0,m=r[h>>2]|0),g=m+100|0,r[h>>2]=g,o=o-1|0;while((o|0)!=0);return}g=n|0,C=r[g>>2]|0,y=(y-C|0)/100|0,n=y+o|0,n>>>0>42949672&&qi(0),_=(_-C|0)/100|0,_>>>0<21474836?(_=_<<1,n=_>>>0<n>>>0?n:_,(n|0)==0?(_=0,n=0):w=9):(n=42949672,w=9),(w|0)==9&&(_=It(n*100|0)|0),w=_+(y*100|0)|0;do(w|0)==0?w=0:V0(w|0,0,100)|0,w=w+100|0,o=o-1|0;while((o|0)!=0);C=r[g>>2]|0,B=(r[h>>2]|0)-C|0,y=_+((((B|0)/-100|0)+y|0)*100|0)|0,o=C,Tt(y|0,o|0,B)|0,r[g>>2]=y,r[h>>2]=w,r[m>>2]=_+(n*100|0),(C|0)!=0&&$0(o)}function b2(n,o){n=n|0,_n(n|0)|0}function k2(n,o){n=n|0,o=o|0,ci(n|0,o|0)|0}function go(n){n=n|0,r[n>>2]=0}function S2(n){}function B1(n,o){n=n|0,o=o|0;var h=0,m=0;if(h=n|0,!((r[h>>2]|0)>=(o|0))&&(m=n+4|0,(r[h>>2]|0)<(o|0))){n=n+28|0;do ci(n|0,m|0)|0;while((r[h>>2]|0)<(o|0))}}function Zr(n,o){n=n|0,o=o|0;var h=0;h=n|0,!((r[h>>2]|0)>=(o|0))&&(r[h>>2]=o,_n(n+28|0)|0)}function un(n,o){n=n|0,o=o|0;var h=0;h=n|0,r[h>>2]=(r[h>>2]|0)+o,_n(n+28|0)|0}function _i(n){return n=n|0,r[n>>2]|0}function ls(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0;if(h=(o|0)>32,o=h?32:o,h=h?1022:0,g=n+156|0,r[g>>2]=0,r[n+160>>2]=0,w=n|0,j[w]=0,(o|0)>0)m=0;else return y=h,y|0;for(;;){if((T1(n+28+(m<<2)|0,0,106,w|0)|0)!=0){h=10,n=4;break}if(r[g>>2]=(r[g>>2]|0)+1,m=m+1|0,(m|0)>=(o|0)){n=4;break}}return(n|0)==4?h|0:0}function ri(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;if(o=n+420|0,(j[n]|0)!=0)return 0;_=n+24|0,m=n+444|0,w=n+8|0,y=n+20|0,B=n+160|0;do C=r[_>>2]|0,(C|0)==0?ci(m|0,o|0)|0:(g=r[w>>2]|0,q=r[y>>2]|0,h=r[(r[g+(q>>>10<<2)>>2]|0)+((q&1023)<<2)>>2]|0,r[_>>2]=C-1,C=q+1|0,r[y>>2]=C,C>>>0>2047&&($0(r[g>>2]|0),r[w>>2]=(r[w>>2]|0)+4,r[y>>2]=(r[y>>2]|0)-1024),r[B>>2]=(r[B>>2]|0)+1,Rr[r[(r[h>>2]|0)+8>>2]&511](h),r[B>>2]=(r[B>>2]|0)-1);while((j[n]|0)==0);return 0}function yo(n){n=n|0;var o=0,h=0;if(j[n|0]=1,_n(n+444|0)|0,o=n+156|0,(r[o>>2]|0)>0)h=0;else return;do y2(r[n+28+(h<<2)>>2]|0,0)|0,h=h+1|0;while((h|0)<(r[o>>2]|0))}function cn(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;if((j[n|0]|0)==0){w=n+12|0,g=r[w>>2]|0,y=n+8|0,_=r[y>>2]|0,(g|0)==(_|0)?q=0:q=(g-_<<8)-1|0,B=n+20|0,C=r[B>>2]|0,h=n+24|0,m=r[h>>2]|0,(q-C|0)==(m|0)&&(Ao(n+4|0),m=r[h>>2]|0,C=r[B>>2]|0,_=r[y>>2]|0,g=r[w>>2]|0),w=m+C|0;do if((g|0)!=(_|0)){if(g=(r[_+(w>>>10<<2)>>2]|0)+((w&1023)<<2)|0,(g|0)==0)break;r[g>>2]=o}while(!1);r[h>>2]=m+1,Nr(n+444|0)|0}}function Ao(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0;if(o=D,D=D+48|0,q=o|0,B=o+8|0,y=o+16|0,_=o+40|0,m=n+16|0,h=r[m>>2]|0,h>>>0>1023){r[m>>2]=h-1024,w=n+4|0,_=r[w>>2]|0,m=r[_>>2]|0,q=_+4|0,r[w>>2]=q,h=n+8|0,y=r[h>>2]|0,g=n+12|0;do if((y|0)==(r[g>>2]|0)){if(n=n|0,te=r[n>>2]|0,q>>>0>te>>>0){le=q,g=((le-te>>2)+1|0)/-2|0,y=y-le|0,Gi(_+(g+1<<2)|0,q|0,y|0)|0,y=_+((y>>2)+1+g<<2)|0,r[h>>2]=y,r[w>>2]=(r[w>>2]|0)+(g<<2),g=13;break}if(_=y-te>>1,_=(_|0)==0?1:_,B=It(_<<2)|0,C=B+(_>>>2<<2)|0,_=B+(_<<2)|0,(q|0)==(y|0))y=C;else{te=C;do(te|0)==0?te=0:r[te>>2]=r[q>>2],te=te+4|0,q=q+4|0;while((q|0)!=(y|0));y=te,te=r[n>>2]|0}if(r[n>>2]=B,r[w>>2]=C,r[h>>2]=y,r[g>>2]=_,(te|0)==0){g=12;break}$0(te),y=r[h>>2]|0,g=12}else g=12;while(!1);(g|0)==12&&((y|0)==0?m=0:g=13),(g|0)==13&&(r[y>>2]=m,m=r[h>>2]|0),r[h>>2]=m+4,D=o;return}if(oe=n|0,h=n+8|0,te=r[h>>2]|0,g=n+4|0,C=te-(r[g>>2]|0)>>2,m=n+12|0,re=r[m>>2]|0,w=n|0,le=re-(r[w>>2]|0)|0,!(C>>>0<le>>2>>>0)){for(B=le>>1,le=(B|0)==0?1:B,B=y+12|0,r[y+16>>2]=n+12,oe=It(le<<2)|0,q=y|0,r[q>>2]=oe,re=oe+(C<<2)|0,n=y+8|0,r[n>>2]=re,C=y+4|0,r[C>>2]=re,r[B>>2]=oe+(le<<2),le=It(4096)|0,r[_>>2]=le,es(y,_),_=r[h>>2]|0;(_|0)!=(r[g>>2]|0);)le=_-4|0,vo(y,le),_=le;if(y=r[w>>2]|0,r[w>>2]=r[q>>2],r[q>>2]=y,r[g>>2]=r[C>>2],r[C>>2]=_,g=r[h>>2]|0,r[h>>2]=r[n>>2],r[n>>2]=g,le=r[m>>2]|0,r[m>>2]=r[B>>2],r[B>>2]=le,(g|0)!=(_|0)&&(r[n>>2]=g+(~((g-4+(-_|0)|0)>>>2)<<2)),(y|0)==0){D=o;return}$0(y),D=o;return}if(n=It(4096)|0,(re|0)!=(te|0)){r[q>>2]=n,En(oe,q),D=o;return}r[B>>2]=n,Zl(oe,B),y=r[g>>2]|0,n=r[y>>2]|0,te=y+4|0,r[g>>2]=te,B=r[h>>2]|0;do if((B|0)==(r[m>>2]|0)){if(q=r[w>>2]|0,te>>>0>q>>>0){oe=te,le=((oe-q>>2)+1|0)/-2|0,B=B-oe|0,Gi(y+(le+1<<2)|0,te|0,B|0)|0,B=y+((B>>2)+1+le<<2)|0,r[h>>2]=B,r[g>>2]=(r[g>>2]|0)+(le<<2),g=29;break}if(y=B-q>>1,y=(y|0)==0?1:y,C=It(y<<2)|0,_=C+(y>>>2<<2)|0,y=C+(y<<2)|0,(te|0)==(B|0))B=_;else{q=_;do(q|0)==0?q=0:r[q>>2]=r[te>>2],q=q+4|0,te=te+4|0;while((te|0)!=(B|0));B=q,q=r[w>>2]|0}if(r[w>>2]=C,r[g>>2]=_,r[h>>2]=B,r[m>>2]=y,(q|0)==0){g=28;break}$0(q),B=r[h>>2]|0,g=28}else g=28;while(!1);(g|0)==28&&((B|0)==0?m=0:g=29),(g|0)==29&&(r[B>>2]=n,m=r[h>>2]|0),r[h>>2]=m+4,D=o}function En(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;h=n+8|0,y=r[h>>2]|0,m=n+12|0;do if((y|0)==(r[m>>2]|0)){if(g=n+4|0,B=r[g>>2]|0,n=n|0,q=r[n>>2]|0,B>>>0>q>>>0){C=B,q=((C-q>>2)+1|0)/-2|0,y=y-C|0,Gi(B+(q<<2)|0,B|0,y|0)|0,y=B+(q+(y>>2)<<2)|0,r[h>>2]=y,r[g>>2]=(r[g>>2]|0)+(q<<2);break}if(w=y-q>>1,C=(w|0)==0?1:w,_=It(C<<2)|0,w=_+(C>>>2<<2)|0,C=_+(C<<2)|0,(B|0)==(y|0))y=w;else{q=w;do(q|0)==0?q=0:r[q>>2]=r[B>>2],q=q+4|0,B=B+4|0;while((B|0)!=(y|0));y=q,q=r[n>>2]|0}if(r[n>>2]=_,r[g>>2]=w,r[h>>2]=y,r[m>>2]=C,(q|0)==0)break;$0(q),y=r[h>>2]|0}while(!1);if((y|0)==0){q=0,q=q+4|0,r[h>>2]=q;return}r[y>>2]=r[o>>2],q=r[h>>2]|0,q=q+4|0,r[h>>2]=q}function Zl(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;h=n+4|0,B=r[h>>2]|0,m=n|0;do if((B|0)==(r[m>>2]|0)){if(g=n+8|0,w=r[g>>2]|0,n=n+12|0,q=r[n>>2]|0,y=q,w>>>0<q>>>0){C=w,q=((y-C>>2)+1|0)/2|0,C=C-B|0,_=w+(q-(C>>2)<<2)|0,Gi(_|0,B|0,C|0)|0,r[h>>2]=_,r[g>>2]=(r[g>>2]|0)+(q<<2);break}if(y=y-B>>1,C=(y|0)==0?1:y,y=It(C<<2)|0,_=y+((C+3|0)>>>2<<2)|0,C=y+(C<<2)|0,(B|0)==(w|0))q=_;else{q=_;do(q|0)==0?q=0:r[q>>2]=r[B>>2],q=q+4|0,B=B+4|0;while((B|0)!=(w|0));B=r[m>>2]|0}if(r[m>>2]=y,r[h>>2]=_,r[g>>2]=q,r[n>>2]=C,(B|0)==0)break;$0(B),_=r[h>>2]|0}else _=B;while(!1);r[_-4>>2]=r[o>>2],r[h>>2]=(r[h>>2]|0)-4}function es(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;h=n+8|0,y=r[h>>2]|0,m=n+12|0;do if((y|0)==(r[m>>2]|0)){if(g=n+4|0,B=r[g>>2]|0,n=n|0,q=r[n>>2]|0,B>>>0>q>>>0){C=B,q=((C-q>>2)+1|0)/-2|0,y=y-C|0,Gi(B+(q<<2)|0,B|0,y|0)|0,y=B+(q+(y>>2)<<2)|0,r[h>>2]=y,r[g>>2]=(r[g>>2]|0)+(q<<2);break}if(w=y-q>>1,C=(w|0)==0?1:w,_=It(C<<2)|0,w=_+(C>>>2<<2)|0,C=_+(C<<2)|0,(B|0)==(y|0))y=w;else{q=w;do(q|0)==0?q=0:r[q>>2]=r[B>>2],q=q+4|0,B=B+4|0;while((B|0)!=(y|0));y=q,q=r[n>>2]|0}if(r[n>>2]=_,r[g>>2]=w,r[h>>2]=y,r[m>>2]=C,(q|0)==0)break;$0(q),y=r[h>>2]|0}while(!1);if((y|0)==0){q=0,q=q+4|0,r[h>>2]=q;return}r[y>>2]=r[o>>2],q=r[h>>2]|0,q=q+4|0,r[h>>2]=q}function vo(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;h=n+4|0,B=r[h>>2]|0,m=n|0;do if((B|0)==(r[m>>2]|0)){if(g=n+8|0,w=r[g>>2]|0,n=n+12|0,q=r[n>>2]|0,y=q,w>>>0<q>>>0){C=w,q=((y-C>>2)+1|0)/2|0,C=C-B|0,_=w+(q-(C>>2)<<2)|0,Gi(_|0,B|0,C|0)|0,r[h>>2]=_,r[g>>2]=(r[g>>2]|0)+(q<<2);break}if(y=y-B>>1,C=(y|0)==0?1:y,y=It(C<<2)|0,_=y+((C+3|0)>>>2<<2)|0,C=y+(C<<2)|0,(B|0)==(w|0))q=_;else{q=_;do(q|0)==0?q=0:r[q>>2]=r[B>>2],q=q+4|0,B=B+4|0;while((B|0)!=(w|0));B=r[m>>2]|0}if(r[m>>2]=y,r[h>>2]=_,r[g>>2]=q,r[n>>2]=C,(B|0)==0)break;$0(B),_=r[h>>2]|0}else _=B;while(!1);r[_-4>>2]=r[o>>2],r[h>>2]=(r[h>>2]|0)-4}function hn(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;h=n+18596|0,o=r[h>>2]|0,oe=o+5932|0,re=n+18600|0,w=r[re>>2]|0,B=-1<<r[o+10092>>2],C=B&m,B=B&g,q=n+18532|0,le=n+18536|0,(C|0)==(r[q>>2]|0)?(B|0)!=(r[le>>2]|0)&&(te=3):te=3,(te|0)==3&&(r[n+18540>>2]=r[n+18528>>2],r[q>>2]=C,r[le>>2]=B),q=o+5804|0,(C|0)==0?le=((1<<r[q>>2])-1&B|0)==0:le=0,ue=r[w+800>>2]|0,pe=r[o+5820>>2]|0,ne=r[o+5812>>2]|0,(s0(ne,(ue|0)%(pe|0)|0)|0)==(C|0)?ne=(s0((ue|0)/(pe|0)|0,ne)|0)==(B|0):ne=0;do if((j[o+5966|0]|0)==0)oe=0;else{if(pe=r[q>>2]|0,ue=(1<<pe)-1|0,(ue&C|0)!=0){oe=0;break}if((ue&B|0)!=0){oe=0;break}oe=i2(oe,C>>pe,B>>pe)|0}while(!1);do if(ne|oe)te=15;else{if(le&&(j[o+5965|0]|0)!=0){te=15;break}re=n+18540|0}while(!1);(te|0)==15&&(re=(r[re>>2]|0)+792|0),te=r[re>>2]|0,oe=C-1|0;do if(th(r[h>>2]|0,C,B,oe,B)|0){if(ue=r[o+5864>>2]|0,pe=(s0(B>>ue,r[o+5852>>2]|0)|0)+(oe>>ue)|0,(r[(r[o+10320>>2]|0)+(pe<<2)>>2]>>((r[q>>2]|0)-ue<<1)|0)!=(r[n+4>>2]|0)){y=te;break}if(re=r[h>>2]|0,ne=r[re+10368>>2]|0,oe=oe>>ne,ne=B>>ne,(oe|0)>-1||y0(6096,4288,118,17312),le=r[re+10372>>2]|0,(oe|0)>=(le|0)&&y0(6096,4288,118,17312),(ne|0)>-1||y0(3e3,4288,119,17312),(ne|0)<(r[re+10376>>2]|0)){y=(s0(le,ne)|0)+oe|0,y=j[(r[re+10360>>2]|0)+(y*3|0)+2|0]|0;break}else y0(3e3,4288,119,17312)}else y=te;while(!1);re=B-1|0;do if(th(r[h>>2]|0,C,B,C,re)|0){if(ue=r[o+5864>>2]|0,pe=(s0(re>>ue,r[o+5852>>2]|0)|0)+(C>>ue)|0,(r[(r[o+10320>>2]|0)+(pe<<2)>>2]>>((r[q>>2]|0)-ue<<1)|0)!=(r[n+4>>2]|0)){_=te;break}if(B=r[h>>2]|0,te=r[B+10368>>2]|0,C=C>>te,te=re>>te,(C|0)>-1||y0(6096,4288,118,17312),q=r[B+10372>>2]|0,(C|0)>=(q|0)&&y0(6096,4288,118,17312),(te|0)>-1||y0(3e3,4288,119,17312),(te|0)<(r[B+10376>>2]|0)){_=(s0(q,te)|0)+C|0,_=j[(r[B+10360>>2]|0)+(_*3|0)+2|0]|0;break}else y0(3e3,4288,119,17312)}else _=te;while(!1);C=r[o+5764>>2]|0,B=((r[n+18512>>2]|0)+52+(y+1+_>>1)+(C<<1)|0)%(C+52|0)|0,y=B-C|0,r[n+18544>>2]=B,B=y+(r[o+5952>>2]|0)+(r[w+744>>2]|0)+(r[n+18520>>2]|0)|0,C=o+5772|0,_=r[C>>2]|0,q=-_|0,(B|0)<(q|0)?B=q:B=(B|0)>57?57:B,w=(r[o+5956>>2]|0)+y+(r[w+748>>2]|0)+(r[n+18524>>2]|0)|0,(w|0)>=(q|0)&&(q=(w|0)>57?57:w);do if((r[o+5776>>2]|0)==1){do if((B|0)>=30)if((B|0)>42){B=B-6|0;break}else{B=r[8+(B-30<<2)>>2]|0;break}while(!1);if((q|0)<30)break;if((q|0)>42){q=q-6|0;break}else{q=r[8+(q-30<<2)>>2]|0;break}}while(!1);if(r[n+18548>>2]=_+B,r[n+18552>>2]=(r[C>>2]|0)+q,o=r[h>>2]|0,w=r[o+10368>>2]|0,m=m>>w,h=g>>w,(m|0)>-1||y0(6096,4288,118,17312),g=o+10372|0,_=r[g>>2]|0,(m|0)>=(_|0)&&y0(6096,4288,118,17312),(h|0)>-1||y0(3e3,4288,119,17312),(h|0)>=(r[o+10376>>2]|0)&&y0(3e3,4288,119,17312),_=(s0(_,h)|0)+m|0,o=o+10360|0,_=(r[o>>2]|0)+(_*3|0)|0,_=(We[_]|We[_+1|0]<<8)<<16>>16&255&7,_=1<<(_>>>0<3?3:_)-w,w=_+h|0,(_|0)<=0){ue=n+18528|0,r[ue>>2]=y;return}_=_+m|0,C=y&255;do{B=m;do ue=(s0(r[g>>2]|0,h)|0)+B|0,j[(r[o>>2]|0)+(ue*3|0)+2|0]=C,B=B+1|0;while((B|0)<(_|0));h=h+1|0}while((h|0)<(w|0));ue=n+18528|0,r[ue>>2]=y}function M1(n,o,h,m,g,w,y,_,C,B){if(n=n|0,o=o|0,h=h|0,m=m|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,m=r[n+18596>>2]|0,(r[((y|0)==0?m+5760|0:m+5768|0)>>2]|0)>8){wo(n,o,h,0,0,w,y,_,C,B);return}else{E2(n,o,h,0,0,w,y,_,C,B);return}}function wo(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0;g=D,D=D+8192|0,Te=g|0,pe=g+4096|0,le=n+18596|0,ue=r[le>>2]|0,(y|0)==0?q=n+18544|0:(y|0)==1?q=n+18548|0:(y|0)==2?q=n+18552|0:y0(11600,14216,367,18584),Ve=r[q>>2]|0,q=n+2112|0,oe=r[q>>2]|0,ne=(y|0)==0,m=r[(ne?ue+40|0:ue+44|0)>>2]|0,te=(r[ue+4+(y<<2)>>2]|0)+((s0(m,h)|0)+o<<1)|0,re=r[(ne?ue+5760|0:ue+5768|0)>>2]|0,ge=r[ue+10368>>2]|0,o=o>>ge,ge=h>>ge,(o|0)>-1||y0(6096,4288,118,17312),h=r[ue+10372>>2]|0,(o|0)>=(h|0)&&y0(6096,4288,118,17312),(ge|0)>-1||y0(3e3,4288,119,17312),(ge|0)>=(r[ue+10376>>2]|0)&&y0(3e3,4288,119,17312),ge=(s0(h,ge)|0)+o|0,ge=(r[ue+10360>>2]|0)+(ge*3|0)|0,ge=((We[ge]|We[ge+1|0]<<8)<<16>>16&768)==0,o=(w|0)==4,h=(j[ue+5748|0]|0)!=0&o&ge;do if((j[n+32|0]|0)==0){if(Te=(w|0)>1,Te){qe=w,Be=0;do Be=Be+1|0,qe=qe>>1;while((qe|0)>1)}else Be=0;qe=Be+re|0,He=qe-5|0;do if((j[ue+1400|0]|0)==0){if(ve=qe-9|0,C=1<<qe-10,qe=r[31e3+(((Ve|0)%6|0)<<2)>>2]<<((Ve|0)/6|0),Ve=n+14404+(y<<1)|0,(be[Ve>>1]|0)>0)Be=0;else break;do ze=(s0(be[n+2116+(y<<11)+(Be<<1)>>1]|0,qe)|0)+C>>ve,(ze|0)<-32768?ze=-32768:ze=(ze|0)>32767?32767:ze&65535,be[oe+(be[n+8260+(y<<11)+(Be<<1)>>1]<<1)>>1]=ze,Be=Be+1|0;while((Be|0)<(be[Ve>>1]|0))}else{ze=1<<qe-6;do if(C)C=y;else if((w|0)<32){C=y+3|0;break}else{C=y+1|0;break}while(!1);if((w|0)==4?ve=ue+5993+(C<<4)|0:(w|0)==16?ve=ue+6473+(C<<8)|0:(w|0)==8?ve=ue+6089+(C<<6)|0:(w|0)==32?ve=ue+8009+(C<<10)|0:y0(11600,14216,492,18584),qe=n+14404+(y<<1)|0,(be[qe>>1]|0)<=0)break;C=r[31e3+(((Ve|0)%6|0)<<2)>>2]|0,Ve=(Ve|0)/6|0,Be=ze,ze=(ze|0)<0|0?-1:0,Ye=0;do Ge=be[n+8260+(y<<11)+(Ye<<1)>>1]|0,r0=(s0(C,We[ve+Ge|0]|0)|0)<<Ve,o0=be[n+2116+(y<<11)+(Ye<<1)>>1]|0,o0=Yu(o0<<16>>16,o0<<16>>16<0|0?-1:0,r0,(r0|0)<0|0?-1:0)|0,o0=Tr(o0,Mt,Be,ze)|0,o0=Jc(o0|0,Mt|0,He|0)|0,r0=Mt,v0=-1,(r0|0)<(v0|0)|(r0|0)==(v0|0)&o0>>>0<4294934528?r0=-32768:(v0=0,r0=(r0|0)>(v0|0)|(r0|0)==(v0|0)&o0>>>0>32767?32767:o0&65535),be[oe+(Ge<<1)>>1]=r0,Ye=Ye+1|0;while((Ye|0)<(be[qe>>1]|0))}while(!1);if(ve=(w|0)>0,!_){if(h=o&ne&ge,(B|0)!=0&&y0(8472,14216,591,18584),(j[ue+10071|0]|0)!=0){U1(n,oe,0,w,h&1,te,m,re,y);break}if(B=r[n+18592>>2]|0,h){Ir[r[B+412>>2]&63](te,oe,m,re);break}if((w|0)==16){Ir[r[B+424>>2]&63](te,oe,m,re);break}else if((w|0)==8){Ir[r[B+420>>2]&63](te,oe,m,re);break}else if((w|0)==4){Ir[r[B+416>>2]&63](te,oe,m,re);break}else{Ir[r[B+428>>2]&63](te,oe,m,re);break}}if(Te){for(ue=w,_=0;ue=ue>>1,(ue|0)>1;)_=_+1|0;_=_+6|0}else _=5;ue=20-re|0,ue=(ue|0)>0?ue:0,h&&si[r[(r[n+18592>>2]|0)+432>>2]&127](oe,4),pe=ne?n+14412|0:pe|0;do if((B|0)==0)Or[r[(r[n+18592>>2]|0)+472>>2]&31](pe,oe,w,_,ue);else if(o=r[n+18592>>2]|0,(B|0)==2){Or[r[o+464>>2]&31](pe,oe,w,_,ue);break}else{Or[r[o+468>>2]&31](pe,oe,w,_,ue);break}while(!1);do if(!ne){if(B=n+28|0,(r[B>>2]|0)==0)break;if(le=r[le>>2]|0,ne=r[le+5768>>2]|0,le=r[le+5760>>2]|0,ve)_=0;else break;do{ue=s0(_,w)|0,o=0;do v0=o+ue|0,o0=(s0(r[n+14412+(v0<<2)>>2]<<ne>>le,r[B>>2]|0)|0)>>3,v0=pe+(v0<<2)|0,r[v0>>2]=o0+(r[v0>>2]|0),o=o+1|0;while((o|0)<(w|0));_=_+1|0}while((_|0)<(w|0))}while(!1);if(Or[r[(r[n+18592>>2]|0)+460>>2]&31](te,m,pe,w,re),!h)break;V0(oe|0,0,32)|0}else{if(pe=ne?n+14412|0:Te|0,ue=n+14404+(y<<1)|0,(be[ue>>1]|0)>0){_=0;do be[oe+(be[n+8260+(y<<11)+(_<<1)>>1]<<1)>>1]=be[n+2116+(y<<11)+(_<<1)>>1]|0,_=_+1|0;while((_|0)<(be[ue>>1]|0))}h&&si[r[(r[n+18592>>2]|0)+432>>2]&127](oe,4);do if((B|0)==0)Kr[r[(r[n+18592>>2]|0)+364>>2]&63](pe,oe,w);else if(_=r[n+18592>>2]|0,(B|0)==2){Kr[r[_+368>>2]&63](pe,oe,w);break}else{Kr[r[_+372>>2]&63](pe,oe,w);break}while(!1);do if(!ne){if(B=n+28|0,(r[B>>2]|0)==0)break;if(ue=r[le>>2]|0,o=r[ue+5768>>2]|0,ue=r[ue+5760>>2]|0,(w|0)>0)_=0;else break;do{ne=s0(_,w)|0,le=0;do v0=le+ne|0,o0=(s0(r[n+14412+(v0<<2)>>2]<<o>>ue,r[B>>2]|0)|0)>>3,v0=pe+(v0<<2)|0,r[v0>>2]=o0+(r[v0>>2]|0),le=le+1|0;while((le|0)<(w|0));_=_+1|0}while((_|0)<(w|0))}while(!1);if(Or[r[(r[n+18592>>2]|0)+460>>2]&31](te,m,pe,w,re),!h)break;V0(oe|0,0,32)|0}while(!1);if(w=n+14404+(y<<1)|0,(be[w>>1]|0)<=0){D=g;return}q=r[q>>2]|0,m=0;do be[q+(be[n+8260+(y<<11)+(m<<1)>>1]<<1)>>1]=0,m=m+1|0;while((m|0)<(be[w>>1]|0));D=g}function E2(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0;g=D,D=D+8192|0,ge=g|0,ne=g+4096|0,oe=n+18596|0,pe=r[oe>>2]|0,(y|0)==1?q=n+18548|0:(y|0)==0?q=n+18544|0:(y|0)==2?q=n+18552|0:y0(11600,14216,367,18584),Te=r[q>>2]|0,q=n+2112|0,re=r[q>>2]|0,le=(y|0)==0,m=r[(le?pe+40|0:pe+44|0)>>2]|0,te=(r[pe+4+(y<<2)>>2]|0)+((s0(m,h)|0)+o)|0,ve=r[pe+10368>>2]|0,o=o>>ve,ve=h>>ve,(o|0)>-1||y0(6096,4288,118,17312),h=r[pe+10372>>2]|0,(o|0)>=(h|0)&&y0(6096,4288,118,17312),(ve|0)>-1||y0(3e3,4288,119,17312),(ve|0)>=(r[pe+10376>>2]|0)&&y0(3e3,4288,119,17312),ve=(s0(h,ve)|0)+o|0,ve=(r[pe+10360>>2]|0)+(ve*3|0)|0,ve=((We[ve]|We[ve+1|0]<<8)<<16>>16&768)==0,o=(w|0)==4,h=(j[pe+5748|0]|0)!=0&o&ve;do if((j[n+32|0]|0)==0){if(Ve=r[(le?pe+5760|0:pe+5768|0)>>2]|0,ge=(w|0)>1,ge){Be=w,qe=0;do qe=qe+1|0,Be=Be>>1;while((Be|0)>1)}else qe=0;Ve=qe+Ve|0,Ye=Ve-5|0;do if((j[pe+1400|0]|0)==0){if(ue=Ve-9|0,C=1<<Ve-10,qe=r[31e3+(((Te|0)%6|0)<<2)>>2]<<((Te|0)/6|0),Ve=n+14404+(y<<1)|0,(be[Ve>>1]|0)>0)Te=0;else break;do Be=(s0(be[n+2116+(y<<11)+(Te<<1)>>1]|0,qe)|0)+C>>ue,(Be|0)<-32768?Be=-32768:Be=(Be|0)>32767?32767:Be&65535,be[re+(be[n+8260+(y<<11)+(Te<<1)>>1]<<1)>>1]=Be,Te=Te+1|0;while((Te|0)<(be[Ve>>1]|0))}else{Be=1<<Ve-6;do if(C)C=y;else if((w|0)<32){C=y+3|0;break}else{C=y+1|0;break}while(!1);if((w|0)==16?ue=pe+6473+(C<<8)|0:(w|0)==32?ue=pe+8009+(C<<10)|0:(w|0)==4?ue=pe+5993+(C<<4)|0:(w|0)==8?ue=pe+6089+(C<<6)|0:y0(11600,14216,492,18584),Ve=n+14404+(y<<1)|0,(be[Ve>>1]|0)<=0)break;C=r[31e3+(((Te|0)%6|0)<<2)>>2]|0,Te=(Te|0)/6|0,qe=Be,Be=(Be|0)<0|0?-1:0,ze=0;do He=be[n+8260+(y<<11)+(ze<<1)>>1]|0,Ge=(s0(C,We[ue+He|0]|0)|0)<<Te,r0=be[n+2116+(y<<11)+(ze<<1)>>1]|0,Ge=Yu(r0<<16>>16,r0<<16>>16<0|0?-1:0,Ge,(Ge|0)<0|0?-1:0)|0,Ge=Tr(Ge,Mt,qe,Be)|0,Ge=Jc(Ge|0,Mt|0,Ye|0)|0,r0=Mt,o0=-1,(r0|0)<(o0|0)|(r0|0)==(o0|0)&Ge>>>0<4294934528?Ge=-32768:(o0=0,Ge=(r0|0)>(o0|0)|(r0|0)==(o0|0)&Ge>>>0>32767?32767:Ge&65535),be[re+(He<<1)>>1]=Ge,ze=ze+1|0;while((ze|0)<(be[Ve>>1]|0))}while(!1);if(ue=(w|0)>0,!_){if(h=o&le&ve,(B|0)!=0&&y0(8472,14216,591,18584),(j[pe+10071|0]|0)!=0){Ls(n,re,0,w,h&1,te,m,8,y);break}if(B=r[n+18592>>2]|0,h){Kr[r[B+388>>2]&63](te,re,m);break}if((w|0)==4){Kr[r[B+392>>2]&63](te,re,m);break}else if((w|0)==16){Kr[r[B+400>>2]&63](te,re,m);break}else if((w|0)==8){Kr[r[B+396>>2]&63](te,re,m);break}else{Kr[r[B+404>>2]&63](te,re,m);break}}if(ge){for(pe=w,_=0;pe=pe>>1,(pe|0)>1;)_=_+1|0;_=_+6|0}else _=5;h&&si[r[(r[n+18592>>2]|0)+432>>2]&127](re,4),ne=le?n+14412|0:ne|0;do if((B|0)==0)Or[r[(r[n+18592>>2]|0)+472>>2]&31](ne,re,w,_,12);else if(pe=r[n+18592>>2]|0,(B|0)==2){Or[r[pe+464>>2]&31](ne,re,w,_,12);break}else{Or[r[pe+468>>2]&31](ne,re,w,_,12);break}while(!1);do if(!le){if(B=n+28|0,(r[B>>2]|0)==0)break;if(le=r[oe>>2]|0,oe=r[le+5768>>2]|0,le=r[le+5760>>2]|0,ue)_=0;else break;do{pe=s0(_,w)|0,o=0;do o0=o+pe|0,r0=(s0(r[n+14412+(o0<<2)>>2]<<oe>>le,r[B>>2]|0)|0)>>3,o0=ne+(o0<<2)|0,r[o0>>2]=r0+(r[o0>>2]|0),o=o+1|0;while((o|0)<(w|0));_=_+1|0}while((_|0)<(w|0))}while(!1);if(Or[r[(r[n+18592>>2]|0)+456>>2]&31](te,m,ne,w,8),!h)break;V0(re|0,0,32)|0}else{if(ne=le?n+14412|0:ge|0,pe=n+14404+(y<<1)|0,(be[pe>>1]|0)>0){_=0;do be[re+(be[n+8260+(y<<11)+(_<<1)>>1]<<1)>>1]=be[n+2116+(y<<11)+(_<<1)>>1]|0,_=_+1|0;while((_|0)<(be[pe>>1]|0))}h&&si[r[(r[n+18592>>2]|0)+432>>2]&127](re,4);do if((B|0)==0)Kr[r[(r[n+18592>>2]|0)+364>>2]&63](ne,re,w);else if(_=r[n+18592>>2]|0,(B|0)==2){Kr[r[_+368>>2]&63](ne,re,w);break}else{Kr[r[_+372>>2]&63](ne,re,w);break}while(!1);do if(!le){if(B=n+28|0,(r[B>>2]|0)==0)break;if(pe=r[oe>>2]|0,o=r[pe+5768>>2]|0,pe=r[pe+5760>>2]|0,(w|0)>0)_=0;else break;do{le=s0(_,w)|0,oe=0;do o0=oe+le|0,r0=(s0(r[n+14412+(o0<<2)>>2]<<o>>pe,r[B>>2]|0)|0)>>3,o0=ne+(o0<<2)|0,r[o0>>2]=r0+(r[o0>>2]|0),oe=oe+1|0;while((oe|0)<(w|0));_=_+1|0}while((_|0)<(w|0))}while(!1);if(Or[r[(r[n+18592>>2]|0)+456>>2]&31](te,m,ne,w,8),!h)break;V0(re|0,0,32)|0}while(!1);if(w=n+14404+(y<<1)|0,(be[w>>1]|0)<=0){D=g;return}q=r[q>>2]|0,m=0;do be[q+(be[n+8260+(y<<11)+(m<<1)>>1]<<1)>>1]=0,m=m+1|0;while((m|0)<(be[w>>1]|0));D=g}function Ls(n,o,h,m,g,w,y,_,C){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0;var B=0,q=0,te=0,re=0,oe=0,le=0,ne=0;h=D,D=D+4096|0,B=r[n+18592>>2]|0,te=(C|0)==0,C=te?n+14412|0:h|0,q=20-_|0;do if((g|0)==1)Ir[r[B+436>>2]&63](C,o,q,15);else if((m|0)==4){Ir[r[B+440>>2]&63](C,o,q,15);break}else if((m|0)==8){Ir[r[B+444>>2]&63](C,o,q,15);break}else if((m|0)==16){Ir[r[B+448>>2]&63](C,o,q,15);break}else{Ir[r[B+452>>2]&63](C,o,q,15);break}while(!1);do if(!te){if(re=n+28|0,(r[re>>2]|0)==0)break;if(te=r[n+18596>>2]|0,oe=r[te+5768>>2]|0,te=r[te+5760>>2]|0,(m|0)>0)g=0;else break;do{q=s0(g,m)|0,o=0;do le=o+q|0,ne=(s0(r[n+14412+(le<<2)>>2]<<oe>>te,r[re>>2]|0)|0)>>3,le=C+(le<<2)|0,r[le>>2]=ne+(r[le>>2]|0),o=o+1|0;while((o|0)<(m|0));g=g+1|0}while((g|0)<(m|0))}while(!1);Or[r[B+456>>2]&31](w,y,C,m,_),D=h}function U1(n,o,h,m,g,w,y,_,C){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0;var B=0,q=0,te=0,re=0,oe=0,le=0,ne=0;h=D,D=D+4096|0,B=r[n+18592>>2]|0,te=(C|0)==0,C=te?n+14412|0:h|0,q=20-_|0;do if((g|0)==1)Ir[r[B+436>>2]&63](C,o,q,15);else if((m|0)==8){Ir[r[B+444>>2]&63](C,o,q,15);break}else if((m|0)==16){Ir[r[B+448>>2]&63](C,o,q,15);break}else if((m|0)==4){Ir[r[B+440>>2]&63](C,o,q,15);break}else{Ir[r[B+452>>2]&63](C,o,q,15);break}while(!1);do if(!te){if(re=n+28|0,(r[re>>2]|0)==0)break;if(te=r[n+18596>>2]|0,oe=r[te+5768>>2]|0,te=r[te+5760>>2]|0,(m|0)>0)g=0;else break;do{q=s0(g,m)|0,o=0;do le=o+q|0,ne=(s0(r[n+14412+(le<<2)>>2]<<oe>>te,r[re>>2]|0)|0)>>3,le=C+(le<<2)|0,r[le>>2]=ne+(r[le>>2]|0),o=o+1|0;while((o|0)<(m|0));g=g+1|0}while((g|0)<(m|0))}while(!1);Or[r[B+460>>2]&31](w,y,C,m,_),D=h}function T2(n){n=n|0,r[12934]=n}function F1(n){}function Xt(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0;if(m=D,D=D+16|0,g=m|0,(r[12934]|0)<-9999){D=m;return}if((j[51720+n|0]|0)!=0){D=m;return}w=(j[o]|0)==42,n=r[wt>>2]|0,w||d0(1200,5,1,n|0)|0,y=g,r[y>>2]=h,r[y+4>>2]=0,fo(n|0,o+(w&1)|0,g|0)|0,dt(n|0)|0,D=m}function I0(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0;m=D,D=D+16|0,w=m|0,y=(j[o]|0)==42,g=r[wt>>2]|0,y||d0(14208,6,1,g|0)|0,_=w,r[_>>2]=h,r[_+4>>2]=0,fo(n|0,o+(y&1)|0,w|0)|0,dt(g|0)|0,D=m}function x2(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;if(q=nt(h,4)|0,r[n>>2]=q,(q|0)>15||(_s(h,2),q=nt(h,6)|0,r[n+4>>2]=q+1,(q|0)>62)||(q=nt(h,3)|0,g=n+8|0,r[g>>2]=q+1,(q|0)>6))return q=8,q|0;q=nt(h,1)|0,r[n+12>>2]=q,_s(h,16),Tn(n+16|0,h,r[g>>2]|0),q=nt(h,1)|0,w=n+484|0,r[w>>2]=q,m=r[g>>2]|0,(q|0)==0?(m=m-1|0,y=7):(m|0)>0&&(m=0,y=7);do if((y|0)==7){for(C=m;;){if(y=jt(h)|0,q=n+488+(C*12|0)|0,r[q>>2]=y,y=jt(h)|0,_=n+488+(C*12|0)+4|0,r[_>>2]=y,y=jt(h)|0,r[n+488+(C*12|0)+8>>2]=y,(r[q>>2]|0)==-99999){h=8,y=52;break}if(C=C+1|0,(r[_>>2]|0)==-99999|(y|0)==-99999){h=8,y=52;break}if((C|0)>=(r[g>>2]|0)){y=11;break}}if((y|0)==11){if((r[w>>2]|0)!=0)break;if((m|0)>=8)return y0(11472,14120,144,17416),0;if((m|0)<=0)break;_=n+488+(m*12|0)|0,g=n+488+(m*12|0)+4|0,y=n+488+(m*12|0)+8|0,w=0;do r[n+488+(w*12|0)>>2]=r[_>>2],r[n+488+(w*12|0)+4>>2]=r[g>>2],r[n+488+(w*12|0)+8>>2]=r[y>>2],w=w+1|0;while((w|0)<(m|0))}else if((y|0)==52)return h|0}while(!1);if(q=(nt(h,6)|0)&255,m=n+584|0,j[m]=q,q=jt(h)|0,g=n+588|0,r[g>>2]=q,y=q+1|0,(y|0)<0|(q|0)>1022|(q|0)==-99999)return kt(o,8,0),q=8,q|0;r[g>>2]=y,q=n+592|0,w=n+596|0,_=r[w>>2]|0,o=q|0,B=r[o>>2]|0,C=(_-B|0)/12|0;do if(C>>>0<y>>>0)N1(q,y-C|0);else{if(!(C>>>0>y>>>0)||(y=B+(y*12|0)|0,(_|0)==(y|0)))break;do _=_-12|0,r[w>>2]=_,C=r[_>>2]|0,(C|0)!=0&&($0(C),_=r[w>>2]|0);while((_|0)!=(y|0))}while(!1);e:do if((r[g>>2]|0)>=2)for(w=1,_=j[m]|0;;){for($n((r[o>>2]|0)+(w*12|0)|0,(_&255)+1|0,0),y=0;_=(r[(r[o>>2]|0)+(w*12|0)>>2]|0)+(y>>>5<<2)|0,C=1<<(y&31),(nt(h,1)|0)==0?C=r[_>>2]&~C:C=r[_>>2]|C,r[_>>2]=C,_=j[m]|0,(y|0)<(_&255|0);)y=y+1|0;if((w|0)>=((r[g>>2]|0)-1|0))break e;w=w+1|0}while(!1);q=(nt(h,1)|0)&255,j[n+604|0]=q;do if(q<<24>>24!=0){if(q=nt(h,32)|0,r[n+608>>2]=q,q=nt(h,32)|0,r[n+612>>2]=q,q=(nt(h,1)|0)&255,j[n+616|0]=q,q<<24>>24==0)break;if(o=(jt(h)|0)+1|0,r[n+620>>2]=o,o=jt(h)|0,g=n+624|0,r[g>>2]=o,(o|0)>1023)return y0(8432,14120,189,17416),0;B=n+628|0,y=n+632|0,w=r[y>>2]|0,m=B|0,_=r[m>>2]|0,C=w-_>>1;do if(C>>>0<o>>>0)R2(B,o-C|0),o=r[g>>2]|0;else{if(!(C>>>0>o>>>0)||(_=_+(o<<1)|0,(w|0)==(_|0)))break;r[y>>2]=w+(~((w-2+(-_|0)|0)>>>1)<<1)}while(!1);C=n+640|0,y=n+644|0,w=r[y>>2]|0,B=r[C>>2]|0,_=w-B|0;do if(_>>>0<o>>>0)D2(C,o-_|0),o=r[g>>2]|0;else{if(!(_>>>0>o>>>0)||(g=B+o|0,(w|0)==(g|0)))break;r[y>>2]=g}while(!1);if((o|0)<=0)break;return q=(jt(h)|0)&65535,be[r[m>>2]>>1]=q,q=0,q|0}while(!1);return q=(nt(h,1)|0)&255,j[n+652|0]=q,q=0,q|0}function Tn(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0;if(j[n|0]=1,j[n+44|0]=1,xn(n|0,o),m=h-1|0,g=(m|0)>0,g){w=0;do y=(nt(o,1)|0)&255,j[n+52+(w*52|0)|0]=y,y=(nt(o,1)|0)&255,j[n+52+(w*52|0)+44|0]=y,w=w+1|0;while((w|0)<(m|0))}if((h-2|0)>>>0<7){h=m;do _s(o,2),h=h+1|0;while((h|0)<8)}if(g)g=0;else return;do xn(n+52+(g*52|0)|0,o),g=g+1|0;while((g|0)<(m|0))}function $n(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0;if(m=D,D=D+24|0,oe=m|0,te=m+16|0,re=te,y=n+4|0,w=r[y>>2]|0,!(w>>>0<o>>>0)){r[y>>2]=o,D=m;return}_=n+8|0,ne=r[_>>2]|0,le=ne<<5,g=o-w|0;do if(g>>>0>le>>>0|w>>>0>(le-g|0)>>>0){q=oe|0,r[q>>2]=0,B=oe+4|0,r[B>>2]=0,C=oe+8|0,r[C>>2]=0,(o|0)<0&&qi(0),le>>>0>1073741822?le=2147483647:(le=ne<<6,ne=o+31&-32,le=le>>>0<ne>>>0?ne:le),_o(oe,le),ue=r[y>>2]|0,oe=ue+g|0,r[B>>2]=oe,n=n|0,le=r[q>>2]|0;do if((ue|0)>0){if(pe=r[n>>2]|0,ne=ue>>>5,Gi(le|0,pe|0,ne<<2|0)|0,ue=ue-(ne<<5)|0,ve=le+(ne<<2)|0,(ue|0)<=0){ue=0;break}ge=-1>>>((32-ue|0)>>>0),r[ve>>2]=r[ve>>2]&~ge|r[pe+(ne<<2)>>2]&ge}else ve=le,ue=0;while(!1);if(r[te>>2]=ve,r[re+4>>2]=ue,re=r[te>>2]|0,te=r[te+4>>2]|0,ne=r[n>>2]|0,r[n>>2]=le,r[q>>2]=ne,ge=r[y>>2]|0,r[y>>2]=oe,r[B>>2]=ge,ge=r[_>>2]|0,r[_>>2]=r[C>>2],r[C>>2]=ge,(ne|0)==0)break;$0(ne)}else re=(r[n>>2]|0)+(w>>>5<<2)|0,r[y>>2]=o,te=w&31;while(!1);if((w|0)==(o|0)){D=m;return}if(o=(te|0)==0,h){if(o||(h=32-te|0,ge=h>>>0>g>>>0?g:h,r[re>>2]=r[re>>2]|-1>>>((h-ge|0)>>>0)&-1<<te,g=g-ge|0,re=re+4|0),h=g>>>5,V0(re|0,-1,h<<2|0)|0,o=h<<5,(g|0)==(o|0)){D=m;return}ge=re+(h<<2)|0,r[ge>>2]=r[ge>>2]|-1>>>((32-g+o|0)>>>0),D=m;return}else{if(o||(h=32-te|0,ge=h>>>0>g>>>0?g:h,r[re>>2]=r[re>>2]&~(-1>>>((h-ge|0)>>>0)&-1<<te),g=g-ge|0,re=re+4|0),o=g>>>5,V0(re|0,0,o<<2|0)|0,h=o<<5,(g|0)==(h|0)){D=m;return}ge=re+(o<<2)|0,r[ge>>2]=r[ge>>2]&~(-1>>>((32-g+h|0)>>>0)),D=m;return}}function xn(n,o){n=n|0,o=o|0;var h=0,m=0;if((j[n|0]|0)!=0){h=(nt(o,2)|0)&255,j[n+1|0]=h,h=(nt(o,1)|0)&255,j[n+2|0]=h,h=nt(o,5)|0,r[n+4>>2]=h,h=0,m=(nt(o,1)|0)&255;do j[n+8+h|0]=m,h=h+1|0,m=(nt(o,1)|0)&255;while((h|0)<32);j[n+40|0]=m,m=(nt(o,1)|0)&255,j[n+41|0]=m,m=(nt(o,1)|0)&255,j[n+42|0]=m,m=(nt(o,1)|0)&255,j[n+43|0]=m,_s(o,44)}(j[n+44|0]|0)!=0&&(m=nt(o,8)|0,r[n+48>>2]=m)}function C2(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0;if(h=D,D=D+8|0,m=h|0,(o|0)==2)o=pt;else if((o|0)==1)o=wt;else{D=h;return}if(o=r[o>>2]|0,I0(o,2952,(g=D,D=D+1|0,D=D+7&-8,r[g>>2]=0,g|0)),D=g,I0(o,1624,(g=D,D=D+8|0,r[g>>2]=r[n>>2],g|0)),D=g,I0(o,928,(g=D,D=D+8|0,r[g>>2]=r[n+4>>2],g|0)),D=g,g=n+8|0,I0(o,296,(w=D,D=D+8|0,r[w>>2]=r[g>>2],w|0)),D=w,I0(o,16768,(w=D,D=D+8|0,r[w>>2]=r[n+12>>2],w|0)),D=w,w=r[g>>2]|0,Kn(n+16|0,1,o),w=w-1|0,(w|0)>0){y=0;do I0(o,6664,(q=D,D=D+8|0,r[q>>2]=y,q|0)),D=q,Kn(n+68+(y*52|0)|0,0,o),y=y+1|0;while((y|0)<(w|0))}q=n+484|0,I0(o,16272,(B=D,D=D+8|0,r[B>>2]=r[q>>2],B|0)),D=B;do if((r[q>>2]|0)==0)I0(o,14832,(q=D,D=D+8|0,r[q>>2]=r[n+488>>2],q|0)),D=q,I0(o,14568,(q=D,D=D+8|0,r[q>>2]=r[n+492>>2],q|0)),D=q,I0(o,14296,(q=D,D=D+8|0,r[q>>2]=r[n+496>>2],q|0)),D=q;else{if((r[g>>2]|0)>0)w=0;else break;do B=r[n+488+(w*12|0)>>2]|0,I0(o,15912,(q=D,D=D+16|0,r[q>>2]=w,r[q+8>>2]=B,q|0)),D=q,I0(o,15488,(q=D,D=D+8|0,r[q>>2]=r[n+488+(w*12|0)+4>>2],q|0)),D=q,I0(o,15120,(q=D,D=D+8|0,r[q>>2]=r[n+488+(w*12|0)+8>>2],q|0)),D=q,w=w+1|0;while((w|0)<(r[g>>2]|0))}while(!1);if(q=n+584|0,I0(o,14056,(B=D,D=D+8|0,r[B>>2]=We[q]|0,B|0)),D=B,B=n+588|0,I0(o,13768,(C=D,D=D+8|0,r[C>>2]=r[B>>2],C|0)),D=C,(r[B>>2]|0)>=2)for(y=n+592|0,g=m|0,C=m+4|0,_=1;;){for(w=0;r[g>>2]=(r[(r[y>>2]|0)+(_*12|0)>>2]|0)+(w>>>5<<2),r[C>>2]=1<<(w&31),I0(o,13560,(te=D,D=D+24|0,r[te>>2]=_,r[te+8>>2]=w,r[te+16>>2]=r[m>>2],r[te+20>>2]=r[m+4>>2],te|0)),D=te,(w|0)<(We[q]|0);)w=w+1|0;if((_|0)<((r[B>>2]|0)-1|0))_=_+1|0;else break}te=n+604|0,I0(o,13368,(q=D,D=D+8|0,r[q>>2]=j[te]|0,q|0)),D=q;do if((j[te]|0)!=0){if(I0(o,13168,(te=D,D=D+8|0,r[te>>2]=r[n+608>>2],te|0)),D=te,I0(o,12896,(te=D,D=D+8|0,r[te>>2]=r[n+612>>2],te|0)),D=te,te=n+616|0,I0(o,12608,(q=D,D=D+8|0,r[q>>2]=j[te]|0,q|0)),D=q,(j[te]|0)==0||(I0(o,12368,(te=D,D=D+8|0,r[te>>2]=r[n+620>>2],te|0)),D=te,te=n+624|0,I0(o,12088,(q=D,D=D+8|0,r[q>>2]=r[te>>2],q|0)),D=q,(r[te>>2]|0)<=0))break;q=f0[r[n+628>>2]>>1]|0,I0(o,11712,(te=D,D=D+16|0,r[te>>2]=0,r[te+8>>2]=q,te|0)),D=te,D=h;return}while(!1);I0(o,11160,(te=D,D=D+8|0,r[te>>2]=j[n+652|0]|0,te|0)),D=te,D=h}function Zi(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0;if(m=D,Kn(n|0,1,h),o=o-1|0,(o|0)>0)g=0;else{D=m;return}do I0(h,6664,(w=D,D=D+8|0,r[w>>2]=g,w|0)),D=w,Kn(n+52+(g*52|0)|0,0,h),g=g+1|0;while((g|0)<(o|0));D=m}function Kn(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0;if(m=D,o=o?10928:10664,(j[n|0]|0)!=0){g=j[n+1|0]|0,I0(h,10376,(w=D,D=D+16|0,r[w>>2]=o,r[w+8>>2]=g,w|0)),D=w,w=j[n+2|0]|0,I0(h,10032,(g=D,D=D+16|0,r[g>>2]=o,r[g+8>>2]=w,g|0)),D=g,g=r[n+4>>2]|0,(g|0)==4?g=5792:(g|0)==1?g=6328:(g|0)==2?g=6208:(g|0)==3?g=5976:g=5624,I0(h,9680,(w=D,D=D+16|0,r[w>>2]=o,r[w+8>>2]=g,w|0)),D=w,I0(h,9288,(w=D,D=D+8|0,r[w>>2]=o,w|0)),D=w,g=0;do(g|0)!=0&&(I0(h,9008,(w=D,D=D+1|0,D=D+7&-8,r[w>>2]=0,w|0)),D=w),I0(h,8608,(w=D,D=D+8|0,r[w>>2]=j[n+8+g|0]|0,w|0)),D=w,g=g+1|0;while((g|0)<32);I0(h,8376,(w=D,D=D+1|0,D=D+7&-8,r[w>>2]=0,w|0)),D=w,w=j[n+40|0]|0,I0(h,8112,(g=D,D=D+16|0,r[g>>2]=o,r[g+8>>2]=w,g|0)),D=g,g=j[n+41|0]|0,I0(h,7872,(w=D,D=D+16|0,r[w>>2]=o,r[w+8>>2]=g,w|0)),D=w,w=j[n+42|0]|0,I0(h,7600,(g=D,D=D+16|0,r[g>>2]=o,r[g+8>>2]=w,g|0)),D=g,g=j[n+43|0]|0,I0(h,7296,(w=D,D=D+16|0,r[w>>2]=o,r[w+8>>2]=g,w|0)),D=w}if((j[n+44|0]|0)==0){D=m;return}g=r[n+48>>2]|0,I0(h,6960,(w=D,D=D+24|0,r[w>>2]=o,r[w+8>>2]=g,p0[w+16>>3]=+(g|0)/30,w|0)),D=w,D=m}function D2(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0;if(m=n+8|0,h=n+4|0,g=r[h>>2]|0,_=r[m>>2]|0,w=g,!((_-w|0)>>>0<o>>>0)){do(g|0)==0?m=0:(j[g]=0,m=r[h>>2]|0),g=m+1|0,r[h>>2]=g,o=o-1|0;while((o|0)!=0);return}g=n|0,C=r[g>>2]|0,w=w-C|0,n=w+o|0,(n|0)<0&&qi(0),_=_-C|0,_>>>0<1073741823?(_=_<<1,n=_>>>0<n>>>0?n:_,(n|0)==0?(_=0,n=0):y=9):(n=2147483647,y=9),(y|0)==9&&(_=It(n)|0),y=_+w|0;do(y|0)==0?y=0:j[y]=0,y=y+1|0,o=o-1|0;while((o|0)!=0);o=r[g>>2]|0,B=(r[h>>2]|0)-o|0,C=_+(w-B)|0,Tt(C|0,o|0,B)|0,r[g>>2]=C,r[h>>2]=y,r[m>>2]=_+n,(o|0)!=0&&$0(o)}function R2(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;if(m=n+8|0,h=n+4|0,g=r[h>>2]|0,B=r[m>>2]|0,w=g,!(B-w>>1>>>0<o>>>0)){for(n=o,m=g;(m|0)!=0&&(be[m>>1]=0),n=n-1|0,(n|0)!=0;)m=m+2|0;r[h>>2]=g+(o<<1);return}for(g=n|0,n=r[g>>2]|0,q=n,w=w-q|0,C=w>>1,y=C+o|0,(y|0)<0&&qi(0),B=B-q|0,B>>1>>>0<1073741823?(q=B>>>0<y>>>0?y:B,(q|0)==0?(B=0,q=0):_=10):(q=2147483647,_=10),(_|0)==10&&(B=It(q<<1)|0),_=B+(C<<1)|0;(_|0)!=0&&(be[_>>1]=0),o=o-1|0,(o|0)!=0;)_=_+2|0;o=n,Tt(B|0,o|0,w)|0,r[g>>2]=B,r[h>>2]=B+(y<<1),r[m>>2]=B+(q<<1),(n|0)!=0&&$0(o)}function _o(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0;if(h=D,D=D+32|0,g=h|0,w=h+8|0,y=h+16|0,m=n+8|0,!(r[m>>2]<<5>>>0<o>>>0)){D=h;return}if((o|0)<0&&qi(0),_=((o-1|0)>>>5)+1|0,te=It(_<<2)|0,q=n|0,o=r[q>>2]|0,n=n+4|0,C=r[n>>2]|0,B=C>>>5,C=C&31,r[g>>2]=o,r[g+4>>2]=0,r[w>>2]=o+(B<<2),r[w+4>>2]=C,r[y>>2]=te,r[y+4>>2]=0,O1(h+24|0,g,w,y),o=r[q>>2]|0,r[q>>2]=te,r[n>>2]=B<<5|C,r[m>>2]=_,(o|0)==0){D=h;return}$0(o),D=h}function O1(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0;if(g=o|0,w=r[g>>2]|0,o=r[o+4>>2]|0,y=(r[h+4>>2]|0)-o+((r[h>>2]|0)-w<<3)|0,(y|0)<=0){h=r[m>>2]|0,y=n|0,r[y>>2]=h,y=n+4|0,h=m+4|0,h=r[h>>2]|0,r[y>>2]=h;return}if((o|0)==0?o=m|0:(h=32-o|0,_=(y|0)<(h|0)?y:h,h=-1>>>((h-_|0)>>>0)&-1<<o,o=m|0,C=r[o>>2]|0,r[C>>2]=r[C>>2]&~h|r[w>>2]&h,w=m+4|0,h=(r[w>>2]|0)+_|0,r[o>>2]=C+(h>>>5<<2),r[w>>2]=h&31,w=(r[g>>2]|0)+4|0,r[g>>2]=w,y=y-_|0),h=y>>>5,Gi(r[o>>2]|0,w|0,h<<2|0)|0,w=y-(h<<5)|0,y=(r[o>>2]|0)+(h<<2)|0,r[o>>2]=y,(w|0)<=0){_=y,C=n|0,r[C>>2]=_,C=n+4|0,_=m+4|0,_=r[_>>2]|0,r[C>>2]=_;return}y=(r[g>>2]|0)+(h<<2)|0,r[g>>2]=y,C=-1>>>((32-w|0)>>>0),_=r[o>>2]|0,r[_>>2]=r[_>>2]&~C|r[y>>2]&C,r[m+4>>2]=w,C=n|0,r[C>>2]=_,C=n+4|0,_=m+4|0,_=r[_>>2]|0,r[C>>2]=_}function N1(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0;if(m=n+8|0,h=n+4|0,g=r[h>>2]|0,y=r[m>>2]|0,w=g,!(((y-w|0)/12|0)>>>0<o>>>0)){do(g|0)==0?m=0:(r[g>>2]=0,r[g+4>>2]=0,r[g+8>>2]=0,m=r[h>>2]|0),g=m+12|0,r[h>>2]=g,o=o-1|0;while((o|0)!=0);return}g=n|0,C=r[g>>2]|0,w=(w-C|0)/12|0,n=w+o|0,n>>>0>357913941&&qi(0),y=(y-C|0)/12|0,y>>>0<178956970?(y=y<<1,C=y>>>0<n>>>0?n:y,(C|0)==0?(y=0,C=0):_=9):(C=357913941,_=9),(_|0)==9&&(y=It(C*12|0)|0),n=y+(w*12|0)|0,_=n;do(_|0)==0?_=0:(r[_>>2]=0,r[_+4>>2]=0,r[_+8>>2]=0),_=_+12|0,o=o-1|0;while((o|0)!=0);o=y+(C*12|0)|0,C=r[g>>2]|0,B=r[h>>2]|0;do if((B|0)==(C|0))r[g>>2]=n,r[h>>2]=_,r[m>>2]=o;else{for(w=w-1-(((B-12+(-C|0)|0)>>>0)/12|0)|0;q=B-12|0,re=q|0,r[n-12>>2]=r[re>>2],te=B-12+4|0,r[n-12+4>>2]=r[te>>2],B=B-12+8|0,r[n-12+8>>2]=r[B>>2],r[re>>2]=0,r[te>>2]=0,r[B>>2]=0,(q|0)!=(C|0);)B=q,n=n-12|0;if(C=r[g>>2]|0,n=r[h>>2]|0,r[g>>2]=y+(w*12|0),r[h>>2]=_,r[m>>2]=o,(n|0)==(C|0))break;do n=n-12|0,h=r[n>>2]|0,(h|0)!=0&&$0(h);while((n|0)!=(C|0))}while(!1);(C|0)!=0&&$0(C)}function z1(n){n=n|0,j[n|0]=0,V0(n+2|0,0,7)|0,r[n+12>>2]=5,j[n+16|0]=0,j[n+17|0]=0,j[n+18|0]=2,j[n+19|0]=2,j[n+20|0]=2,r[n+48>>2]=0,r[n+52>>2]=0,j[n+56|0]=0,V0(n+21|0,0,24)|0,r[n+60>>2]=1,j[n+64|0]=0,j[n+65|0]=0,j[n+66|0]=0,j[n+67|0]=1,j[n+68|0]=0,be[n+70>>1]=0,j[n+72|0]=2,j[n+73|0]=1,j[n+74|0]=15,j[n+75|0]=15}function bo(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0;B=(nt(h,1)|0)!=0,j[n|0]=B&1;do if(B){if(m=nt(h,8)|0,(m|0)<18){be[n+2>>1]=be[30800+(m<<2)>>1]|0,be[n+4>>1]=be[30802+(m<<2)>>1]|0;break}if((m|0)==255){B=(nt(h,16)|0)&65535,be[n+2>>1]=B,B=(nt(h,16)|0)&65535,be[n+4>>1]=B;break}else{be[n+2>>1]=0,be[n+4>>1]=0;break}}else be[n+2>>1]=0,be[n+4>>1]=0;while(!1);B=(nt(h,1)|0)!=0,j[n+6|0]=B&1,B&&(B=(nt(h,1)|0)!=0|0,j[n+7|0]=B),_=n+12|0,r[_>>2]=5,C=n+16|0,j[C]=0,y=n+18|0,j[y]=2,w=n+19|0,j[w]=2,m=n+20|0,j[m]=2,B=(nt(h,1)|0)!=0,j[n+8|0]=B&1;do if(B){if(B=nt(h,3)|0,r[_>>2]=(B|0)>5?5:B,B=(nt(h,1)|0)!=0|0,j[C]=B,B=(nt(h,1)|0)!=0,j[n+17|0]=B&1,!B)break;_=nt(h,8)|0,j[y]=_,_=_&255,((_|0)==0|(_|0)==3||_>>>0>10)&&(g=14),(g|0)==14&&(j[y]=2),y=nt(h,8)|0,j[w]=y,y=y&255,((y|0)==0|(y|0)==3||y>>>0>17)&&(g=17),(g|0)==17&&(j[w]=2),g=nt(h,8)|0,B=g&255,j[m]=(B|0)==0|B>>>0>10?2:g&255}while(!1);B=(nt(h,1)|0)!=0,j[n+21|0]=B&1;do if(B){if(g=jt(h)|0,(g|0)==-99999)return kt(o,8,0),B=8,B|0;if(j[n+22|0]=g,g=jt(h)|0,(g|0)!=-99999){j[n+23|0]=g;break}return kt(o,8,0),B=8,B|0}else j[n+22|0]=0,j[n+23|0]=0;while(!1);B=(nt(h,1)|0)!=0|0,j[n+24|0]=B,B=(nt(h,1)|0)!=0|0,j[n+25|0]=B,B=(nt(h,1)|0)!=0|0,j[n+26|0]=B,B=(nt(h,1)|0)!=0,j[n+27|0]=B&1;do if(B){if(g=jt(h)|0,(g|0)==-99999||(r[n+28>>2]=g,g=jt(h)|0,(g|0)==-99999)||(r[n+32>>2]=g,g=jt(h)|0,(g|0)==-99999))return kt(o,8,0),B=8,B|0;if(r[n+36>>2]=g,g=jt(h)|0,(g|0)!=-99999){r[n+40>>2]=g;break}return kt(o,8,0),B=8,B|0}else V0(n+28|0,0,16)|0;while(!1);return B=(nt(h,1)|0)!=0,j[n+44|0]=B&1,B&&(B=nt(h,32)|0,r[n+48>>2]=B,B=nt(h,32)|0,r[n+52>>2]=B),g=(nt(h,1)|0)!=0|0,j[n+56|0]=g,g=jt(h)|0,(g|0)==-99999?(kt(o,8,0),B=8,B|0):(r[n+60>>2]=g+1,B=(nt(h,1)|0)!=0,j[n+64|0]=B&1,B?(B=502,B|0):(B=(nt(h,1)|0)!=0,j[n+65|0]=B&1,B?(g=(nt(h,1)|0)!=0|0,j[n+66|0]=g,g=(nt(h,1)|0)!=0|0,j[n+67|0]=g,g=(nt(h,1)|0)!=0|0,j[n+68|0]=g,g=jt(h)|0,(g|0)==-99999||(m=n+70|0,be[m>>1]=g,(g&61440)>>>0>4095&&(kt(o,8,0),be[m>>1]=0),g=jt(h)|0,(g|0)==-99999)||(m=n+72|0,j[m]=g,(g&255)>>>0>16&&(kt(o,8,0),j[m]=2),g=jt(h)|0,(g|0)==-99999)||(m=n+73|0,j[m]=g,(g&255)>>>0>16&&(kt(o,8,0),j[m]=1),g=jt(h)|0,(g|0)==-99999)||(m=n+74|0,j[m]=g,(g&240)>>>0>15&&(kt(o,8,0),j[m]=15),h=jt(h)|0,(h|0)==-99999)?(kt(o,8,0),B=8,B|0):(n=n+75|0,j[n]=h,(h&240)>>>0>15?(kt(o,8,0),j[n]=15,B=0,B|0):(B=0,B|0))):(j[n+66|0]=0,j[n+67|0]=1,j[n+68|0]=0,be[n+70>>1]=0,j[n+72|0]=2,j[n+73|0]=1,j[n+74|0]=15,j[n+75|0]=15,B=0,B|0)))}function L2(n,o){n=n|0,o=o|0;var h=0,m=0,g=0;if(h=D,(o|0)==2)o=pt;else if((o|0)==1)o=wt;else{D=h;return}if(o=r[o>>2]|0,I0(o,2832,(g=D,D=D+1|0,D=D+7&-8,r[g>>2]=0,g|0)),D=g,g=f0[n+4>>1]|0,I0(o,1504,(m=D,D=D+16|0,r[m>>2]=f0[n+2>>1]|0,r[m+8>>2]=g,m|0)),D=m,I0(o,856,(m=D,D=D+8|0,r[m>>2]=We[n+6|0]|0,m|0)),D=m,I0(o,248,(m=D,D=D+8|0,r[m>>2]=We[n+7|0]|0,m|0)),D=m,m=n+8|0,I0(o,16688,(g=D,D=D+8|0,r[g>>2]=We[m]|0,g|0)),D=g,(j[m]|0)!=0){switch(r[n+12>>2]|0){case 1:{m=13944;break}case 2:{m=11320;break}case 3:{m=8288;break}case 4:{m=5936;break}case 0:{m=672;break}default:m=4136}I0(o,16216,(g=D,D=D+8|0,r[g>>2]=m,g|0)),D=g,I0(o,15832,(g=D,D=D+8|0,r[g>>2]=We[n+16|0]|0,g|0)),D=g,I0(o,15432,(g=D,D=D+8|0,r[g>>2]=We[n+17|0]|0,g|0)),D=g,I0(o,15080,(g=D,D=D+8|0,r[g>>2]=We[n+18|0]|0,g|0)),D=g,I0(o,14792,(g=D,D=D+8|0,r[g>>2]=We[n+19|0]|0,g|0)),D=g,I0(o,14488,(g=D,D=D+8|0,r[g>>2]=We[n+20|0]|0,g|0)),D=g}if(g=n+21|0,I0(o,14232,(m=D,D=D+8|0,r[m>>2]=We[g]|0,m|0)),D=m,(j[g]|0)!=0&&(I0(o,14008,(g=D,D=D+8|0,r[g>>2]=We[n+22|0]|0,g|0)),D=g,I0(o,13720,(g=D,D=D+8|0,r[g>>2]=We[n+23|0]|0,g|0)),D=g),I0(o,13520,(g=D,D=D+8|0,r[g>>2]=We[n+24|0]|0,g|0)),D=g,I0(o,13328,(g=D,D=D+8|0,r[g>>2]=We[n+25|0]|0,g|0)),D=g,I0(o,13120,(g=D,D=D+8|0,r[g>>2]=We[n+26|0]|0,g|0)),D=g,I0(o,12856,(g=D,D=D+8|0,r[g>>2]=We[n+27|0]|0,g|0)),D=g,I0(o,12568,(g=D,D=D+8|0,r[g>>2]=r[n+28>>2],g|0)),D=g,I0(o,12328,(g=D,D=D+8|0,r[g>>2]=r[n+32>>2],g|0)),D=g,I0(o,12048,(g=D,D=D+8|0,r[g>>2]=r[n+36>>2],g|0)),D=g,I0(o,11664,(g=D,D=D+8|0,r[g>>2]=r[n+40>>2],g|0)),D=g,g=n+44|0,I0(o,11392,(m=D,D=D+8|0,r[m>>2]=We[g]|0,m|0)),D=m,(j[g]|0)!=0&&(I0(o,11120,(g=D,D=D+8|0,r[g>>2]=r[n+48>>2],g|0)),D=g,I0(o,10888,(g=D,D=D+8|0,r[g>>2]=r[n+52>>2],g|0)),D=g),I0(o,10616,(g=D,D=D+8|0,r[g>>2]=We[n+56|0]|0,g|0)),D=g,I0(o,10328,(g=D,D=D+8|0,r[g>>2]=r[n+60>>2],g|0)),D=g,I0(o,9992,(g=D,D=D+8|0,r[g>>2]=We[n+64|0]|0,g|0)),D=g,g=n+65|0,I0(o,9632,(m=D,D=D+8|0,r[m>>2]=We[g]|0,m|0)),D=m,(j[g]|0)==0){D=h;return}I0(o,9240,(g=D,D=D+8|0,r[g>>2]=We[n+66|0]|0,g|0)),D=g,I0(o,8960,(g=D,D=D+8|0,r[g>>2]=We[n+67|0]|0,g|0)),D=g,I0(o,8560,(g=D,D=D+8|0,r[g>>2]=We[n+68|0]|0,g|0)),D=g,I0(o,8328,(g=D,D=D+8|0,r[g>>2]=f0[n+70>>1]|0,g|0)),D=g,I0(o,8064,(g=D,D=D+8|0,r[g>>2]=We[n+72|0]|0,g|0)),D=g,I0(o,7824,(g=D,D=D+8|0,r[g>>2]=We[n+73|0]|0,g|0)),D=g,I0(o,7552,(g=D,D=D+8|0,r[g>>2]=We[n+74|0]|0,g|0)),D=g,I0(o,7248,(g=D,D=D+8|0,r[g>>2]=We[n+75|0]|0,g|0)),D=g,D=h}function I2(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0;n=D,D=D+32|0,m=n|0,w=n+8|0,C=n+16|0,y=n+24|0,o=r[rt>>2]|0,W1(34232,o,34360),r[8806]=21516,r[8808]=21536,r[8807]=0,Un(35232,34232),r[8826]=0,r[8827]=-1,g=r[wt>>2]|0,r[8534]=21296,Fn(34140),V0(34144,0,24)|0,r[8534]=21664,r[8542]=g,On(y,34140),_=Zs(y,34560)|0,h=_,yr(y),r[8543]=h,r[8544]=34368,h=(_0[r[(r[_>>2]|0)+28>>2]&255](h)|0)&1,j[34180]=h,r[8740]=21420,r[8741]=21440,Un(34964,34136),r[8759]=0,r[8760]=-1,h=r[pt>>2]|0,r[8546]=21296,Fn(34188),V0(34192,0,24)|0,r[8546]=21664,r[8554]=h,On(C,34188),_=Zs(C,34560)|0,y=_,yr(C),r[8555]=y,r[8556]=34376,y=(_0[r[(r[_>>2]|0)+28>>2]&255](y)|0)&1,j[34228]=y,r[8784]=21420,r[8785]=21440,Un(35140,34184),r[8803]=0,r[8804]=-1,y=r[(r[(r[8784]|0)-12>>2]|0)+35160>>2]|0,r[8762]=21420,r[8763]=21440,Un(35052,y),r[8781]=0,r[8782]=-1,r[(r[(r[8806]|0)-12>>2]|0)+35296>>2]=34960,y=(r[(r[8784]|0)-12>>2]|0)+35140|0,r[y>>2]=r[y>>2]|8192,r[(r[(r[8784]|0)-12>>2]|0)+35208>>2]=34960,U2(34080,o,34384),r[8718]=21468,r[8720]=21488,r[8719]=0,Un(34880,34080),r[8738]=0,r[8739]=-1,r[8496]=21224,Fn(33988),V0(33992,0,24)|0,r[8496]=21592,r[8504]=g,On(w,33988),g=Zs(w,34552)|0,o=g,yr(w),r[8505]=o,r[8506]=34392,o=(_0[r[(r[g>>2]|0)+28>>2]&255](o)|0)&1,j[34028]=o,r[8648]=21372,r[8649]=21392,Un(34596,33984),r[8667]=0,r[8668]=-1,r[8508]=21224,Fn(34036),V0(34040,0,24)|0,r[8508]=21592,r[8516]=h,On(m,34036),h=Zs(m,34552)|0,o=h,yr(m),r[8517]=o,r[8518]=34400,o=(_0[r[(r[h>>2]|0)+28>>2]&255](o)|0)&1,j[34076]=o,r[8692]=21372,r[8693]=21392,Un(34772,34032),r[8711]=0,r[8712]=-1,o=r[(r[(r[8692]|0)-12>>2]|0)+34792>>2]|0,r[8670]=21372,r[8671]=21392,Un(34684,o),r[8689]=0,r[8690]=-1,r[(r[(r[8718]|0)-12>>2]|0)+34944>>2]=34592,o=(r[(r[8692]|0)-12>>2]|0)+34772|0,r[o>>2]=r[o>>2]|8192,r[(r[(r[8692]|0)-12>>2]|0)+34840>>2]=34592,D=n}function Is(n){Oc(34960)|0,Oc(35048)|0,Nc(34592)|0,Nc(34680)|0}function us(n){n=n|0,r[n>>2]=21224,yr(n+4|0)}function P2(n){n=n|0,r[n>>2]=21224,yr(n+4|0),$0(n)}function B2(n,o){n=n|0,o=o|0;var h=0;_0[r[(r[n>>2]|0)+24>>2]&255](n)|0,h=Zs(o,34552)|0,o=h,r[n+36>>2]=o,o=(_0[r[(r[h>>2]|0)+28>>2]&255](o)|0)&1,j[n+44|0]=o}function G1(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0;for(o=D,D=D+16|0,_=o|0,h=o+8|0,m=n+36|0,g=n+40|0,w=_|0,y=_+8|0,n=n+32|0;;){if(C=r[m>>2]|0,C=$c[r[(r[C>>2]|0)+20>>2]&31](C,r[g>>2]|0,w,y,h)|0,B=(r[h>>2]|0)-_|0,(d0(w|0,1,B|0,r[n>>2]|0)|0)!=(B|0)){m=-1,h=5;break}if((C|0)==2){m=-1,h=5;break}else if((C|0)!=1){h=4;break}}return(h|0)==4?(B=((dt(r[n>>2]|0)|0)!=0)<<31>>31,D=o,B|0):(h|0)==5?(D=o,m|0):0}function M2(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0;if((j[n+44|0]|0)!=0)return g=d0(o|0,4,h|0,r[n+32>>2]|0)|0,g|0;if(m=n,(h|0)>0)g=0;else return g=0,g|0;for(;;){if((ni[r[(r[m>>2]|0)+52>>2]&63](n,r[o>>2]|0)|0)==-1){n=6;break}if(g=g+1|0,(g|0)<(h|0))o=o+4|0;else{n=6;break}}return(n|0)==6?g|0:0}function H1(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0;h=D,D=D+32|0,te=h|0,re=h+8|0,w=h+16|0,y=h+24|0,m=(o|0)==-1;e:do if(!m){if(r[re>>2]=o,(j[n+44|0]|0)!=0){if((d0(re|0,4,1,r[n+32>>2]|0)|0)==1)break;return o=-1,D=h,o|0}for(B=te|0,r[w>>2]=B,_=re+4|0,q=n+36|0,C=n+40|0,g=te+8|0,n=n+32|0;;){if(oe=r[q>>2]|0,oe=An[r[(r[oe>>2]|0)+12>>2]&31](oe,r[C>>2]|0,re,_,y,B,g,w)|0,(r[y>>2]|0)==(re|0)){o=-1,g=12;break}if((oe|0)==3){g=7;break}if(le=(oe|0)==1,!(oe>>>0<2)){o=-1,g=12;break}if(oe=(r[w>>2]|0)-te|0,(d0(B|0,1,oe|0,r[n>>2]|0)|0)!=(oe|0)){o=-1,g=12;break}if(le)re=le?r[y>>2]|0:re;else break e}if((g|0)==7){if((d0(re|0,1,1,r[n>>2]|0)|0)==1)break;return o=-1,D=h,o|0}else if((g|0)==12)return D=h,o|0}while(!1);return le=m?0:o,D=h,le|0}function U2(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0;if(m=D,D=D+8|0,g=m|0,y=n|0,r[y>>2]=21224,w=n+4|0,Fn(w),V0(n+8|0,0,24)|0,r[y>>2]=21992,r[n+32>>2]=o,r[n+40>>2]=h,r[n+48>>2]=-1,j[n+52|0]=0,On(g,w),o=Zs(g,34552)|0,w=o,h=n+36|0,r[h>>2]=w,w=_0[r[(r[o>>2]|0)+24>>2]&255](w)|0,o=n+44|0,r[o>>2]=w,h=r[h>>2]|0,h=(_0[r[(r[h>>2]|0)+28>>2]&255](h)|0)&1,j[n+53|0]=h,(r[o>>2]|0)<=8){yr(g),D=m;return}w1(736),yr(g),D=m}function F2(n){n=n|0,r[n>>2]=21224,yr(n+4|0)}function O2(n){n=n|0,r[n>>2]=21224,yr(n+4|0),$0(n)}function Cn(n,o){n=n|0,o=o|0;var h=0,m=0;o=Zs(o,34552)|0,m=o,h=n+36|0,r[h>>2]=m,m=_0[r[(r[o>>2]|0)+24>>2]&255](m)|0,o=n+44|0,r[o>>2]=m,h=r[h>>2]|0,h=(_0[r[(r[h>>2]|0)+28>>2]&255](h)|0)&1,j[n+53|0]=h,!((r[o>>2]|0)<=8)&&w1(736)}function N2(n){return n=n|0,br(n,0)|0}function ko(n){return n=n|0,br(n,1)|0}function z2(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;if(h=D,D=D+32|0,_=h|0,m=h+8|0,B=h+16|0,C=h+24|0,g=n+52|0,y=(j[g]|0)!=0,(o|0)==-1)return y?(B=-1,D=h,B|0):(B=r[n+48>>2]|0,j[g]=(B|0)!=-1|0,D=h,B|0);w=n+48|0;e:do if(y){if(r[B>>2]=r[w>>2],q=r[n+36>>2]|0,y=_|0,C=An[r[(r[q>>2]|0)+12>>2]&31](q,r[n+40>>2]|0,B,B+4|0,C,y,_+8|0,m)|0,(C|0)==3)j[y]=r[w>>2],r[m>>2]=_+1;else if((C|0)==2|(C|0)==1)return q=-1,D=h,q|0;for(n=n+32|0;;){if(_=r[m>>2]|0,!(_>>>0>y>>>0))break e;if(q=_-1|0,r[m>>2]=q,(Vs(j[q]|0,r[n>>2]|0)|0)==-1){m=-1;break}}return D=h,m|0}while(!1);return r[w>>2]=o,j[g]=1,q=o,D=h,q|0}function br(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0;if(h=D,D=D+32|0,g=h|0,w=h+8|0,B=h+16|0,C=h+24|0,q=n+52|0,(j[q]|0)!=0)return m=n+48|0,g=r[m>>2]|0,o?(r[m>>2]=-1,j[q]=0,ge=g,D=h,ge|0):(ge=g,D=h,ge|0);q=r[n+44>>2]|0,pe=(q|0)>1?q:1;e:do if((pe|0)>0){for(re=n+32|0,q=0;;){if(te=rr(r[re>>2]|0)|0,(te|0)==-1){m=-1;break}if(j[g+q|0]=te,q=q+1|0,(q|0)>=(pe|0))break e}return D=h,m|0}while(!1);e:do if((j[n+53|0]|0)==0){for(te=n+40|0,q=n+36|0,le=g|0,oe=w+4|0,re=n+32|0;;){if(ve=r[te>>2]|0,ge=ve,ue=r[ge>>2]|0,ge=r[ge+4>>2]|0,Te=r[q>>2]|0,ne=g+pe|0,ve=An[r[(r[Te>>2]|0)+16>>2]&31](Te,ve,le,ne,B,w,oe,C)|0,(ve|0)==2){m=-1,y=22;break}else if((ve|0)==3){y=14;break}else if((ve|0)!=1){_=pe;break e}if(Te=r[te>>2]|0,r[Te>>2]=ue,r[Te+4>>2]=ge,(pe|0)==8){m=-1,y=22;break}if(ue=rr(r[re>>2]|0)|0,(ue|0)==-1){m=-1,y=22;break}j[ne]=ue,pe=pe+1|0}if((y|0)==14){r[w>>2]=j[le]|0,_=pe;break}else if((y|0)==22)return D=h,m|0}else r[w>>2]=j[g|0]|0,_=pe;while(!1);if(o)return Te=r[w>>2]|0,r[n+48>>2]=Te,D=h,Te|0;for(o=n+32|0;!((_|0)<=0);)if(_=_-1|0,(Vs(j[g+_|0]|0,r[o>>2]|0)|0)==-1){m=-1,y=22;break}return(y|0)==22?(D=h,m|0):(Te=r[w>>2]|0,D=h,Te|0)}function xi(n){n=n|0,r[n>>2]=21296,yr(n+4|0)}function G2(n){n=n|0,r[n>>2]=21296,yr(n+4|0),$0(n)}function V1(n,o){n=n|0,o=o|0;var h=0;_0[r[(r[n>>2]|0)+24>>2]&255](n)|0,h=Zs(o,34560)|0,o=h,r[n+36>>2]=o,o=(_0[r[(r[h>>2]|0)+28>>2]&255](o)|0)&1,j[n+44|0]=o}function Ws(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0;for(o=D,D=D+16|0,_=o|0,h=o+8|0,m=n+36|0,g=n+40|0,w=_|0,y=_+8|0,n=n+32|0;;){if(C=r[m>>2]|0,C=$c[r[(r[C>>2]|0)+20>>2]&31](C,r[g>>2]|0,w,y,h)|0,B=(r[h>>2]|0)-_|0,(d0(w|0,1,B|0,r[n>>2]|0)|0)!=(B|0)){m=-1,h=5;break}if((C|0)==2){m=-1,h=5;break}else if((C|0)!=1){h=4;break}}return(h|0)==4?(B=((dt(r[n>>2]|0)|0)!=0)<<31>>31,D=o,B|0):(h|0)==5?(D=o,m|0):0}function So(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0;if((j[n+44|0]|0)!=0)return g=d0(o|0,1,h|0,r[n+32>>2]|0)|0,g|0;if(m=n,(h|0)>0)g=0;else return g=0,g|0;for(;;){if((ni[r[(r[m>>2]|0)+52>>2]&63](n,We[o]|0)|0)==-1){n=6;break}if(g=g+1|0,(g|0)<(h|0))o=o+1|0;else{n=6;break}}return(n|0)==6?g|0:0}function H2(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0;h=D,D=D+32|0,te=h|0,re=h+8|0,w=h+16|0,y=h+24|0,m=(o|0)==-1;e:do if(!m){if(j[re]=o,(j[n+44|0]|0)!=0){if((d0(re|0,1,1,r[n+32>>2]|0)|0)==1)break;return o=-1,D=h,o|0}for(B=te|0,r[w>>2]=B,_=re+1|0,q=n+36|0,C=n+40|0,g=te+8|0,n=n+32|0;;){if(oe=r[q>>2]|0,oe=An[r[(r[oe>>2]|0)+12>>2]&31](oe,r[C>>2]|0,re,_,y,B,g,w)|0,(r[y>>2]|0)==(re|0)){o=-1,g=12;break}if((oe|0)==3){g=7;break}if(le=(oe|0)==1,!(oe>>>0<2)){o=-1,g=12;break}if(oe=(r[w>>2]|0)-te|0,(d0(B|0,1,oe|0,r[n>>2]|0)|0)!=(oe|0)){o=-1,g=12;break}if(le)re=le?r[y>>2]|0:re;else break e}if((g|0)==7){if((d0(re|0,1,1,r[n>>2]|0)|0)==1)break;return o=-1,D=h,o|0}else if((g|0)==12)return D=h,o|0}while(!1);return le=m?0:o,D=h,le|0}function W1(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0;if(m=D,D=D+8|0,g=m|0,y=n|0,r[y>>2]=21296,w=n+4|0,Fn(w),V0(n+8|0,0,24)|0,r[y>>2]=22064,r[n+32>>2]=o,r[n+40>>2]=h,r[n+48>>2]=-1,j[n+52|0]=0,On(g,w),o=Zs(g,34560)|0,w=o,h=n+36|0,r[h>>2]=w,w=_0[r[(r[o>>2]|0)+24>>2]&255](w)|0,o=n+44|0,r[o>>2]=w,h=r[h>>2]|0,h=(_0[r[(r[h>>2]|0)+28>>2]&255](h)|0)&1,j[n+53|0]=h,(r[o>>2]|0)<=8){yr(g),D=m;return}w1(736),yr(g),D=m}function V2(n){n=n|0,r[n>>2]=21296,yr(n+4|0)}function eu(n){n=n|0,r[n>>2]=21296,yr(n+4|0),$0(n)}function W2(n,o){n=n|0,o=o|0;var h=0,m=0;o=Zs(o,34560)|0,m=o,h=n+36|0,r[h>>2]=m,m=_0[r[(r[o>>2]|0)+24>>2]&255](m)|0,o=n+44|0,r[o>>2]=m,h=r[h>>2]|0,h=(_0[r[(r[h>>2]|0)+28>>2]&255](h)|0)&1,j[n+53|0]=h,!((r[o>>2]|0)<=8)&&w1(736)}function js(n){return n=n|0,qn(n,0)|0}function Eo(n){return n=n|0,qn(n,1)|0}function j2(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;if(h=D,D=D+32|0,_=h|0,m=h+8|0,B=h+16|0,C=h+24|0,g=n+52|0,y=(j[g]|0)!=0,(o|0)==-1)return y?(B=-1,D=h,B|0):(B=r[n+48>>2]|0,j[g]=(B|0)!=-1|0,D=h,B|0);w=n+48|0;e:do if(y){if(j[B]=r[w>>2],q=r[n+36>>2]|0,y=_|0,C=An[r[(r[q>>2]|0)+12>>2]&31](q,r[n+40>>2]|0,B,B+1|0,C,y,_+8|0,m)|0,(C|0)==3)j[y]=r[w>>2],r[m>>2]=_+1;else if((C|0)==2|(C|0)==1)return q=-1,D=h,q|0;for(n=n+32|0;;){if(_=r[m>>2]|0,!(_>>>0>y>>>0))break e;if(q=_-1|0,r[m>>2]=q,(Vs(j[q]|0,r[n>>2]|0)|0)==-1){m=-1;break}}return D=h,m|0}while(!1);return r[w>>2]=o,j[g]=1,q=o,D=h,q|0}function qn(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0;if(h=D,D=D+32|0,g=h|0,w=h+8|0,B=h+16|0,C=h+24|0,q=n+52|0,(j[q]|0)!=0)return m=n+48|0,g=r[m>>2]|0,o?(r[m>>2]=-1,j[q]=0,ge=g,D=h,ge|0):(ge=g,D=h,ge|0);q=r[n+44>>2]|0,ne=(q|0)>1?q:1;e:do if((ne|0)>0){for(re=n+32|0,q=0;;){if(te=rr(r[re>>2]|0)|0,(te|0)==-1){y=-1;break}if(j[g+q|0]=te,q=q+1|0,(q|0)>=(ne|0))break e}return D=h,y|0}while(!1);e:do if((j[n+53|0]|0)==0){for(oe=n+40|0,re=n+36|0,q=g|0,te=w+1|0,le=n+32|0;;){if(ve=r[oe>>2]|0,ge=ve,ue=r[ge>>2]|0,ge=r[ge+4>>2]|0,Te=r[re>>2]|0,pe=g+ne|0,ve=An[r[(r[Te>>2]|0)+16>>2]&31](Te,ve,q,pe,B,w,te,C)|0,(ve|0)==2){y=-1,C=23;break}else if((ve|0)==3){C=14;break}else if((ve|0)!=1){_=ne;break e}if(Te=r[oe>>2]|0,r[Te>>2]=ue,r[Te+4>>2]=ge,(ne|0)==8){y=-1,C=23;break}if(ue=rr(r[le>>2]|0)|0,(ue|0)==-1){y=-1,C=23;break}j[pe]=ue,ne=ne+1|0}if((C|0)==14){j[w]=j[q]|0,_=ne;break}else if((C|0)==23)return D=h,y|0}else j[w]=j[g|0]|0,_=ne;while(!1);do if(o)m=j[w]|0,r[n+48>>2]=m&255;else{for(o=n+32|0;;){if((_|0)<=0){C=21;break}if(_=_-1|0,(Vs(We[g+_|0]|0,r[o>>2]|0)|0)==-1){y=-1,C=23;break}}if((C|0)==21){m=j[w]|0;break}else if((C|0)==23)return D=h,y|0}while(!1);return Te=m&255,D=h,Te|0}function $2(){I2(0),Mr(164,35312,di|0)|0}function $s(n){n=n|0,n=n+4|0,Ti=r[n>>2]|0,r[n>>2]=Ti+1}function vi(n){n=n|0;var o=0;return o=n+4|0,Ti=r[o>>2]|0,r[o>>2]=Ti+-1,(Ti|0)!=0?(o=0,o|0):(Rr[r[(r[n>>2]|0)+8>>2]&511](n),o=1,o|0)}function To(n,o){n=n|0,o=o|0;var h=0,m=0,g=0;r[n>>2]=19600,h=Er(o|0)|0,g=Qi(h+13|0)|0,r[g+4>>2]=h,r[g>>2]=h,m=g+12|0,r[n+4>>2]=m,r[g+8>>2]=0,Tt(m|0,o|0,h+1|0)|0}function j1(n){n=n|0;var o=0,h=0;if(r[n>>2]=19600,o=n+4|0,h=(r[o>>2]|0)-4|0,Ti=r[h>>2]|0,r[h>>2]=Ti+-1,(Ti-1|0)>=0){h=n,$0(h);return}Xi((r[o>>2]|0)-12|0),h=n,$0(h)}function xo(n){n=n|0;var o=0;r[n>>2]=19600,n=n+4|0,o=(r[n>>2]|0)-4|0,Ti=r[o>>2]|0,r[o>>2]=Ti+-1,!((Ti-1|0)>=0)&&Xi((r[n>>2]|0)-12|0)}function Yn(n){return n=n|0,r[n+4>>2]|0}function tu(n,o){n=n|0,o=o|0;var h=0,m=0,g=0;r[n>>2]=19536,(j[o]&1)==0?o=o+1|0:o=r[o+8>>2]|0,h=Er(o|0)|0,g=Qi(h+13|0)|0,r[g+4>>2]=h,r[g>>2]=h,m=g+12|0,r[n+4>>2]=m,r[g+8>>2]=0,Tt(m|0,o|0,h+1|0)|0}function dn(n,o){n=n|0,o=o|0;var h=0,m=0,g=0;r[n>>2]=19536,h=Er(o|0)|0,g=Qi(h+13|0)|0,r[g+4>>2]=h,r[g>>2]=h,m=g+12|0,r[n+4>>2]=m,r[g+8>>2]=0,Tt(m|0,o|0,h+1|0)|0}function iu(n){n=n|0;var o=0,h=0;if(r[n>>2]=19536,o=n+4|0,h=(r[o>>2]|0)-4|0,Ti=r[h>>2]|0,r[h>>2]=Ti+-1,(Ti-1|0)>=0){h=n,$0(h);return}Xi((r[o>>2]|0)-12|0),h=n,$0(h)}function $1(n){n=n|0;var o=0;r[n>>2]=19536,n=n+4|0,o=(r[n>>2]|0)-4|0,Ti=r[o>>2]|0,r[o>>2]=Ti+-1,!((Ti-1|0)>=0)&&Xi((r[n>>2]|0)-12|0)}function Jn(n){return n=n|0,r[n+4>>2]|0}function K2(n){n=n|0;var o=0,h=0;if(r[n>>2]=19600,o=n+4|0,h=(r[o>>2]|0)-4|0,Ti=r[h>>2]|0,r[h>>2]=Ti+-1,(Ti-1|0)>=0){h=n,$0(h);return}Xi((r[o>>2]|0)-12|0),h=n,$0(h)}function Co(n,o,h){n=n|0,o=o|0,h=h|0,r[n>>2]=h,r[n+4>>2]=o}function ru(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0;return m=D,D=D+8|0,g=m|0,Kr[r[(r[n>>2]|0)+12>>2]&63](g,n,o),(r[g+4>>2]|0)!=(r[h+4>>2]|0)?(n=0,D=m,n|0):(n=(r[g>>2]|0)==(r[h>>2]|0),D=m,n|0)}function su(n,o,h){return n=n|0,o=o|0,h=h|0,(r[o+4>>2]|0)!=(n|0)?(n=0,n|0):(n=(r[o>>2]|0)==(h|0),n|0)}function q2(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0;if(o=b1(h|0)|0,h=Er(o|0)|0,h>>>0>4294967279&&Ar(0),h>>>0<11){j[n]=h<<1,n=n+1|0,Tt(n|0,o|0,h)|0,o=n+h|0,j[o]=0;return}else{g=h+16&-16,m=It(g)|0,r[n+8>>2]=m,r[n>>2]=g|1,r[n+4>>2]=h,n=m,Tt(n|0,o|0,h)|0,o=n+h|0,j[o]=0;return}}function Do(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0;m=D,D=D+16|0,g=m|0,y=o|0,_=r[y>>2]|0,w=h;do if((_|0)!=0){if(C=j[w]|0,(C&1)==0?C=(C&255)>>>1:C=r[h+4>>2]|0,(C|0)!=0&&(Dh(h,12816,2)|0,_=r[y>>2]|0),o=r[o+4>>2]|0,Kr[r[(r[o>>2]|0)+24>>2]&63](g,o,_),o=g,y=j[o]|0,(y&1)==0?(y=(y&255)>>>1,_=g+1|0):(y=r[g+4>>2]|0,_=r[g+8>>2]|0),Dh(h,_,y)|0,(j[o]&1)==0)break;$0(r[g+8>>2]|0)}while(!1);C=n,r[C>>2]=r[w>>2],r[C+4>>2]=r[w+4>>2],r[C+8>>2]=r[w+8>>2],V0(w|0,0,12)|0,D=m}function Y2(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0;m=D,D=D+32|0,w=o,o=D,D=D+8|0,r[o>>2]=r[w>>2],r[o+4>>2]=r[w+4>>2],w=m|0,g=m+16|0,y=Er(h|0)|0,y>>>0>4294967279&&Ar(0),y>>>0<11?(j[g]=y<<1,_=g+1|0):(C=y+16&-16,_=It(C)|0,r[g+8>>2]=_,r[g>>2]=C|1,r[g+4>>2]=y),Tt(_|0,h|0,y)|0,j[_+y|0]=0,Do(w,o,g),tu(n|0,w),(j[w]&1)!=0&&$0(r[w+8>>2]|0),(j[g]&1)!=0&&$0(r[g+8>>2]|0),r[n>>2]=21560,C=n+8|0,_=r[o+4>>2]|0,r[C>>2]=r[o>>2],r[C+4>>2]=_,D=m}function Ro(n){n=n|0,$1(n|0),$0(n)}function Lo(n){n=n|0,$1(n|0)}function Vt(n,o,h){if(n=n|0,o=o|0,h=h|0,(r[n>>2]|0)==1)do ci(34312,34288)|0;while((r[n>>2]|0)==1);(r[n>>2]|0)==0&&(r[n>>2]=1,Rr[h&511](o),r[n>>2]=-1,_n(34312)|0)}function Ar(n){n=n|0,n=qt(8)|0,To(n,1304),r[n>>2]=19568,Wt(n|0,25576,40)}function J2(n,o){n=n|0,o=o|0;var h=0,m=0,g=0;if(h=o,(j[h]&1)==0){o=n,r[o>>2]=r[h>>2],r[o+4>>2]=r[h+4>>2],r[o+8>>2]=r[h+8>>2];return}h=r[o+8>>2]|0,o=r[o+4>>2]|0,o>>>0>4294967279&&Ar(0),o>>>0<11?(j[n]=o<<1,n=n+1|0):(g=o+16&-16,m=It(g)|0,r[n+8>>2]=m,r[n>>2]=g|1,r[n+4>>2]=o,n=m),Tt(n|0,h|0,o)|0,j[n+o|0]=0}function Ks(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0;if(h>>>0>4294967279&&Ar(0),h>>>0<11){j[n]=h<<1,n=n+1|0,Tt(n|0,o|0,h)|0,o=n+h|0,j[o]=0;return}else{g=h+16&-16,m=It(g)|0,r[n+8>>2]=m,r[n>>2]=g|1,r[n+4>>2]=h,n=m,Tt(n|0,o|0,h)|0,o=n+h|0,j[o]=0;return}}function Qn(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0;if(o>>>0>4294967279&&Ar(0),o>>>0<11){j[n]=o<<1,n=n+1|0,V0(n|0,h|0,o|0)|0,h=n+o|0,j[h]=0;return}else{g=o+16&-16,m=It(g)|0,r[n+8>>2]=m,r[n>>2]=g|1,r[n+4>>2]=o,n=m,V0(n|0,h|0,o|0)|0,h=n+o|0,j[h]=0;return}}function R0(n){n=n|0,(j[n]&1)!=0&&$0(r[n+8>>2]|0)}function Ii(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0;return h=Er(o|0)|0,m=n,w=j[m]|0,(w&1)==0?g=10:(w=r[n>>2]|0,g=(w&-2)-1|0,w=w&255),y=(w&1)==0,g>>>0<h>>>0?(y?m=(w&255)>>>1:m=r[n+4>>2]|0,Rh(n,g,h-g|0,m,0,m,h,o),n|0):(y?g=n+1|0:g=r[n+8>>2]|0,Gi(g|0,o|0,h|0)|0,j[g+h|0]=0,(j[m]&1)==0?(j[m]=h<<1,n|0):(r[n+4>>2]=h,n|0))}function oi(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0;if(m=n,w=j[m]|0,g=(w&1)==0,g?w=(w&255)>>>1:w=r[n+4>>2]|0,w>>>0<o>>>0){nu(n,o-w|0,h)|0;return}if(g){j[n+1+o|0]=0,j[m]=o<<1;return}else{j[(r[n+8>>2]|0)+o|0]=0,r[n+4>>2]=o;return}}function nu(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0;return(o|0)==0||(m=n,y=j[m]|0,(y&1)==0?w=10:(y=r[n>>2]|0,w=(y&-2)-1|0,y=y&255),(y&1)==0?g=(y&255)>>>1:g=r[n+4>>2]|0,(w-g|0)>>>0<o>>>0&&(Mc(n,w,o-w+g|0,g,g,0,0),y=j[m]|0),(y&1)==0?w=n+1|0:w=r[n+8>>2]|0,V0(w+g|0,h|0,o|0)|0,o=g+o|0,(j[m]&1)==0?j[m]=o<<1:r[n+4>>2]=o,j[w+o|0]=0),n|0}function au(n){n=n|0;var o=0;return o=D,D=D+n|0,D=D+7&-8,o|0}function Q2(){return D|0}function Io(n){n=n|0,D=n}function ou(n,o){}function Xn(n){n=n|0,Mt=n}function Vr(n){}function X2(n){}function K1(n){}function Z2(n){}function Po(n){}function Bo(n){}function Dn(n){}function el(n){}function Mo(n){}function tl(){r[6380]=W0+8,r[6382]=xt+8,r[6384]=mt,r[6386]=xt+8,r[6388]=mt,r[6390]=xt+8,r[6392]=mt,r[6394]=xt+8,r[6398]=xt+8,r[6400]=mt,r[6402]=W0+8,r[6436]=xt+8,r[6440]=xt+8,r[6504]=xt+8,r[6508]=xt+8,r[6528]=W0+8,r[6530]=xt+8,r[6566]=xt+8,r[6570]=xt+8,r[6606]=xt+8,r[6610]=xt+8,r[6630]=W0+8,r[6632]=W0+8,r[6634]=xt+8,r[6638]=xt+8,r[6642]=xt+8,r[6646]=W0+8,r[6648]=W0+8,r[6650]=W0+8,r[6652]=W0+8,r[6654]=W0+8,r[6656]=W0+8,r[6658]=W0+8,r[6684]=xt+8,r[6688]=W0+8,r[6690]=xt+8,r[6694]=xt+8,r[6698]=xt+8,r[6702]=W0+8,r[6704]=W0+8,r[6706]=W0+8,r[6708]=W0+8,r[6742]=W0+8,r[6744]=W0+8,r[6746]=W0+8,r[6748]=xt+8,r[6752]=xt+8,r[6756]=xt+8,r[6760]=xt+8,r[6764]=xt+8,r[6768]=xt+8,r[6772]=xt+8,r[6776]=xt+8,r[6780]=xt+8,r[6784]=xt+8,r[6788]=xt+8,r[6798]=W0+8,r[6800]=W0+8}function Uo(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0;for(m=n|0,r[m>>2]=o,g=n+4|0,r[g>>2]=h,w=n+8|0,r[w>>2]=0,r[w+4>>2]=0,n=n+16|0,r[n>>2]=0,y=64,B=0,C=0;;){if((h|0)==0){m=4;break}if(_=o+1|0,r[m>>2]=_,o=We[o]|0,h=h-1|0,r[g>>2]=h,y=y-8|0,o=yn(o|0,0,y|0)|0,C=o|C,B=Mt|B,r[w>>2]=C,r[w+4>>2]=B,(y|0)>7)o=_;else{m=4;break}}if((m|0)==4){r[n>>2]=64-y;return}}function nt(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0;if(h=n+16|0,m=r[h>>2]|0,(m|0)<(o|0)){_=64-m|0,m=n+4|0;e:do if((_|0)>7){w=n|0,g=n+8|0,y=r[m>>2]|0;do{if((y|0)==0)break e;B=r[w>>2]|0,r[w>>2]=B+1,B=We[B]|0,y=y-1|0,r[m>>2]=y,_=_-8|0,B=yn(B|0,0,_|0)|0,C=Mt|r[g+4>>2],r[g>>2]=B|r[g>>2],r[g+4>>2]=C}while((_|0)>7)}while(!1);m=64-_|0,r[h>>2]=m}return C=n+8|0,y=r[C>>2]|0,_=r[C+4>>2]|0,B=Yc(y|0,_|0,64-o|0)|0,_=yn(y|0,_|0,o|0)|0,r[C>>2]=_,r[C+4>>2]=Mt,r[h>>2]=m-o,B|0}function _s(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0;if(h=n+16|0,m=r[h>>2]|0,(m|0)<(o|0)){_=64-m|0,m=n+4|0;e:do if((_|0)>7){w=n|0,g=n+8|0,y=r[m>>2]|0;do{if((y|0)==0)break e;B=r[w>>2]|0,r[w>>2]=B+1,B=We[B]|0,y=y-1|0,r[m>>2]=y,_=_-8|0,B=yn(B|0,0,_|0)|0,C=Mt|r[g+4>>2],r[g>>2]=B|r[g>>2],r[g+4>>2]=C}while((_|0)>7)}while(!1);m=64-_|0,r[h>>2]=m}B=n+8|0,C=yn(r[B>>2]|0,r[B+4>>2]|0,o|0)|0,r[B>>2]=C,r[B+4>>2]=Mt,r[h>>2]=m-o}function Fo(n){n=n|0;var o=0,h=0,m=0,g=0;o=n+16|0,h=n+8|0,m=(r[o>>2]&-8|0)/8|0,g=n|0,r[g>>2]=(r[g>>2]|0)+(-m|0),n=n+4|0,r[n>>2]=(r[n>>2]|0)+m,r[h>>2]=0,r[h+4>>2]=0,r[o>>2]=0}function jt(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0;for(o=n+16|0,g=n+4|0,m=n|0,h=n+8|0,n=0,C=r[o>>2]|0;;){if((C|0)<1){_=64-C|0;e:do if((_|0)>7){y=r[g>>2]|0;do{if((y|0)==0)break e;C=r[m>>2]|0,r[m>>2]=C+1,C=We[C]|0,y=y-1|0,r[g>>2]=y,_=_-8|0,C=yn(C|0,0,_|0)|0,B=Mt|r[h+4>>2],r[h>>2]=C|r[h>>2],r[h+4>>2]=B}while((_|0)>7)}while(!1);B=64-_|0,r[o>>2]=B}else B=C;if(q=r[h>>2]|0,re=r[h+4>>2]|0,y=q<<1|0,_=re<<1|q>>>31,r[h>>2]=y,r[h+4>>2]=_,C=B-1|0,r[o>>2]=C,te=-1,!((re|0)>(te|0)|(re|0)==(te|0)&q>>>0>-1>>>0))break;if((n|0)>19){o=-99999,w=19;break}else n=n+1|0}if((w|0)==19)return o|0;if((n|0)==0)return re=0,re|0;if((B|0)<=(n|0)){w=65-B|0;e:do if((w|0)>7){C=r[g>>2]|0;do{if((C|0)==0)break e;re=r[m>>2]|0,r[m>>2]=re+1,re=We[re]|0,C=C-1|0,r[g>>2]=C,w=w-8|0,re=yn(re|0,0,w|0)|0,y=re|y,_=Mt|_,r[h>>2]=y,r[h+4>>2]=_}while((w|0)>7)}while(!1);C=64-w|0,r[o>>2]=C}return re=Yc(y|0,_|0,64-n|0)|0,te=yn(y|0,_|0,n|0)|0,r[h>>2]=te,r[h+4>>2]=Mt,r[o>>2]=C-n,o=(1<<n)-1+re|0,(o|0)>0?(re=o,re|0):(y0(12320,15064,146,17992),0)}function pr(n){return n=n|0,n=jt(n)|0,(n|0)==-99999?(n=-99999,n|0):(n|0)==0?(n=0,n|0):(n=(((n&1|0)==0?-n|0:n+1|0)|0)/2|0,n|0)}function Zn(n,o,h){if(n=n|0,o=o|0,h=h|0,(h|0)>-1){r[n>>2]=o,r[n+4>>2]=o,r[n+8>>2]=o+h;return}else y0(1440,13952,138,18864)}function Rn(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0;h=n+4|0,o=r[h>>2]|0,g=(r[n+8>>2]|0)-o|0,r[n+12>>2]=510,m=n+20|0,be[m>>1]=8,n=n+16|0,r[n>>2]=0,!((g|0)<=0)&&(y=o+1|0,r[h>>2]=y,w=(We[o]|0)<<8,r[n>>2]=w,be[m>>1]=0,!((g|0)<=1)&&(r[h>>2]=o+2,r[n>>2]=w|(We[y]|0),be[m>>1]=-8))}function fi(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0;return g=n+12|0,C=r[g>>2]|0,h=o|0,y=We[(C>>>6)-4+(27288+(((We[h]|0)>>>1&255)<<2))|0]|0,C=C-y|0,r[g>>2]=C,w=C<<7,o=n+16|0,_=r[o>>2]|0,_>>>0<w>>>0?(y=j[h]|0,_=y&1,m=_&255,j[h]=j[30416+((y&255)>>>1&255)|0]<<1|_,!(w>>>0<32768)||(r[g>>2]=C<<1&67108862,h=r[o>>2]<<1,r[o>>2]=h,g=n+20|0,C=(be[g>>1]|0)+1&65535,be[g>>1]=C,C<<16>>16!=0)||(be[g>>1]=-8,w=n+4|0,g=r[w>>2]|0,!(g>>>0<(r[n+8>>2]|0)>>>0))?(C=m,C|0):(r[w>>2]=g+1,r[o>>2]=h|(We[g]|0),C=m,C|0)):(m=We[30736+(y>>>3)|0]|0,r[o>>2]=_-w<<m,r[g>>2]=y<<m,w=j[h]|0,g=w&1^1,(w&255)>>>0<2&&(w=g&255|w&-2,j[h]=w),j[h]=j[30480+((w&255)>>>1&255)|0]<<1|w&1,h=n+20|0,y=(f0[h>>1]|0)+m&65535,be[h>>1]=y,y<<16>>16>-1?(w=n+4|0,m=r[w>>2]|0,m>>>0<(r[n+8>>2]|0)>>>0&&(r[w>>2]=m+1,r[o>>2]=(We[m]|0)<<(y<<16>>16)|r[o>>2]),be[h>>1]=y-8,C=g,C|0):(C=g,C|0))}function yt(n){n=n|0;var o=0,h=0,m=0,g=0,w=0;return m=n+12|0,h=(r[m>>2]|0)-2|0,r[m>>2]=h,w=h<<7,o=n+16|0,g=r[o>>2]|0,g>>>0<w>>>0?!(w>>>0<32768)||(r[m>>2]=h<<1&67108862,h=g<<1,r[o>>2]=h,m=n+20|0,w=(be[m>>1]|0)+1&65535,be[m>>1]=w,w<<16>>16!=0)||(be[m>>1]=-8,g=n+4|0,m=r[g>>2]|0,!(m>>>0<(r[n+8>>2]|0)>>>0))?(w=0,w|0):(r[g>>2]=m+1,r[o>>2]=h+(We[m]|0),w=0,w|0):(w=1,w|0)}function Ur(n){n=n|0;var o=0,h=0,m=0,g=0,w=0;o=n+16|0,h=r[o>>2]<<1,r[o>>2]=h,m=n+20|0,w=(be[m>>1]|0)+1&65535,be[m>>1]=w;do if(w<<16>>16>-1){if(w=n+4|0,g=r[w>>2]|0,!((r[n+8>>2]|0)>>>0>g>>>0))break;be[m>>1]=-8,r[w>>2]=g+1,h=h|(We[g]|0),r[o>>2]=h}while(!1);return n=r[n+12>>2]<<7,h>>>0<n>>>0?(w=0,w|0):(r[o>>2]=h-n,w=1,w|0)}function fn(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0;if((o|0)<=0)return B=o,B|0;for(g=n+16|0,h=n+20|0,w=n+8|0,m=n+4|0,n=n+12|0,y=0,C=r[g>>2]|0,_=be[h>>1]|0;;){C=C<<1,r[g>>2]=C,_=_+1&65535,be[h>>1]=_;do if(_<<16>>16>-1){if(B=r[m>>2]|0,!((r[w>>2]|0)>>>0>B>>>0))break;be[h>>1]=-8,r[m>>2]=B+1,C=We[B]|0|C,r[g>>2]=C,_=-8}while(!1);if(B=r[n>>2]<<7,C>>>0<B>>>0){o=y,h=8;break}if(C=C-B|0,r[g>>2]=C,y=y+1|0,(y|0)>=(o|0)){h=8;break}}return(h|0)==8?o|0:0}function cs(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0;if((o|0)<9){if((o|0)==0)return B=0,B|0;h=n+16|0,w=r[h>>2]<<o,r[h>>2]=w,_=n+20|0,y=(f0[_>>1]|0)+o&65535,be[_>>1]=y;do if(y<<16>>16>-1){if(g=n+4|0,m=r[g>>2]|0,!((r[n+8>>2]|0)>>>0>m>>>0))break;r[g>>2]=m+1,B=(We[m]|0)<<(y<<16>>16),be[_>>1]=y-8,w=B|w,r[h>>2]=w}while(!1);return m=r[n+12>>2]<<7,g=(w>>>0)/(m>>>0)|0,n=1<<o,B=(g|0)<(n|0)?g:n-1|0,C=w-(s0(B,m)|0)|0,r[h>>2]=C,B|0}m=n+16|0,w=r[m>>2]<<8,r[m>>2]=w,h=n+20|0,g=be[h>>1]|0,y=g+8&65535,be[h>>1]=y;do if(y<<16>>16>-1){if(_=n+4|0,C=r[_>>2]|0,!((r[n+8>>2]|0)>>>0>C>>>0))break;r[_>>2]=C+1,y=(We[C]|0)<<(y<<16>>16),be[h>>1]=g,w=y|w,r[m>>2]=w,y=g}while(!1);if(g=r[n+12>>2]<<7,_=(w>>>0)/(g>>>0)|0,_=(_|0)>255?255:_,C=w-(s0(_,g)|0)|0,r[m>>2]=C,w=o-8|0,(w|0)==0)return B=_,B|0;o=n+8|0,n=n+4|0;do{w=w-1|0,_=_<<1,C=C<<1,r[m>>2]=C,y=y+1&65535,be[h>>1]=y;do if(y<<16>>16>-1){if(B=r[n>>2]|0,!((r[o>>2]|0)>>>0>B>>>0))break;be[h>>1]=-8,r[n>>2]=B+1,C=We[B]|0|C,r[m>>2]=C,y=-8}while(!1);C>>>0<g>>>0?B=0:(C=C-g|0,r[m>>2]=C,B=1),_=B|_}while((w|0)!=0);return _|0}function Ps(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0;for(g=n+16|0,_=n+20|0,m=n+8|0,C=n+4|0,y=n+12|0,w=o+31|0,B=0,te=r[g>>2]|0,q=be[_>>1]|0;;){te=te<<1,r[g>>2]=te,q=q+1&65535,be[_>>1]=q;do if(q<<16>>16>-1){if(re=r[C>>2]|0,!((r[m>>2]|0)>>>0>re>>>0))break;be[_>>1]=-8,r[C>>2]=re+1,te=We[re]|0|te,r[g>>2]=te,q=-8}while(!1);if(re=r[y>>2]<<7,te>>>0<re>>>0)break;if(te=te-re|0,r[g>>2]=te,(o|0)==(w|0)){m=0,h=8;break}else B=B+(1<<o)|0,o=o+1|0}return(h|0)==8?m|0:(re=(cs(n,o)|0)+B|0,re|0)}function hs(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0;if(_=D,D=D+16|0,B=o,o=D,D=D+4|0,D=D+7&-8,r[o>>2]=r[B>>2],B=_|0,o=o|0,C=r[o>>2]|0,(C|0)==0){r[n>>2]=0,D=_;return}re=h,q=g-re|0,w=w+12|0,te=r[w>>2]|0,te=(te|0)>(q|0)?te-q|0:0,q=m,re=q-re|0;do if((re|0)>0){if((Yi[r[(r[C>>2]|0)+48>>2]&63](C,h,re)|0)==(re|0))break;r[o>>2]=0,r[n>>2]=0,D=_;return}while(!1);do if((te|0)>0){if(te>>>0<11?(re=te<<1&255,h=B,j[h]=re,oe=B+1|0):(re=te+16&-16,oe=It(re)|0,r[B+8>>2]=oe,re=re|1,r[B>>2]=re,r[B+4>>2]=te,re=re&255,h=B),V0(oe|0,y|0,te|0)|0,j[oe+te|0]=0,(re&1)==0?y=B+1|0:y=r[B+8>>2]|0,(Yi[r[(r[C>>2]|0)+48>>2]&63](C,y,te)|0)==(te|0)){if((j[h]&1)==0)break;$0(r[B+8>>2]|0);break}if(r[o>>2]=0,r[n>>2]=0,(j[h]&1)==0){D=_;return}$0(r[B+8>>2]|0),D=_;return}while(!1);B=g-q|0;do if((B|0)>0){if((Yi[r[(r[C>>2]|0)+48>>2]&63](C,m,B)|0)==(B|0))break;r[o>>2]=0,r[n>>2]=0,D=_;return}while(!1);r[w>>2]=0,r[n>>2]=C,D=_}function qs(n){n=n|0,r[n>>2]=0,r[n+4>>2]=0}function q1(n,o){n=n|0,o=o|0;var h=0,m=0;h=D,(j[51944]|0)!=0&&(Br(12840,(m=D,D=D+16|0,r[m>>2]=n,r[m+8>>2]=o,m|0))|0,D=m),m=r[o+4>>2]|0,(m|0)!=0&&(r[m>>2]=(r[m>>2]|0)+1),r[n+4>>2]=m,r[n>>2]=r[o>>2],D=h}function ts(n){n=n|0;var o=0,h=0,m=0,g=0;if(o=D,(j[51944]|0)!=0&&(Br(16064,(m=D,D=D+8|0,r[m>>2]=n,m|0))|0,D=m),h=n+4|0,m=r[h>>2]|0,(m|0)==0){D=o;return}if(g=(r[m>>2]|0)-1|0,r[m>>2]=g,(g|0)!=0){D=o;return}if(n=n|0,(j[51944]|0)!=0&&(Br(13256,(g=D,D=D+8|0,r[g>>2]=r[n>>2],g|0))|0,D=g),n=r[n>>2]|0,(n|0)!=0&&Xi(n|0),h=r[h>>2]|0,(h|0)==0){D=o;return}$0(h),D=o}function Ys(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0;m=D,(j[51944]|0)!=0&&(Br(10456,(y=D,D=D+8|0,r[y>>2]=n,y|0))|0,D=y),g=n+4|0,w=r[g>>2]|0;do if((w|0)!=0){if(y=r[w>>2]|0,(y|0)==1){y=r[n>>2]|0,Oo(y,o,h),D=m;return}if((y|0)>1){r[w>>2]=y-1;break}else y0(608,2464,177,17440)}while(!1);(j[51944]|0)!=0&&(Br(17056,(y=D,D=D+8|0,r[y>>2]=n,y|0))|0,D=y),y=Qi(172)|0,r[n>>2]=y,w=It(4)|0,r[g>>2]=w,r[w>>2]=1,Oo(y,o,h),D=m}function Oo(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0;do if((o|0)>0){C=o-1|0,hi(h,n+5|0,r[30216+(C*12|0)>>2]|0,1),hi(h,n+6|0,r[30220+(C*12|0)>>2]|0,1),hi(h,n+7|0,r[30224+(C*12|0)>>2]|0,1),hi(h,n+149|0,r[30152+(C<<2)>>2]|0,1),hi(h,n+147|0,r[30240+(C<<2)>>2]|0,1),hi(h,n+148|0,r[30336+(C<<2)>>2]|0,1),hi(h,n+156|0,95,1),hi(h,n+157|0,79,1),hi(h,n+158|0,63,1),hi(h,n+159|0,31,1),hi(h,n+160|0,31,1),hi(h,n+154|0,153,1),hi(h,n+155|0,153,1),m=(o|0)==1?0:2,hi(h,n+150|0,r[29904+(m<<2)>>2]|0,1),hi(h,n+151|0,r[29904+((m|1)<<2)>>2]|0,1),hi(h,n+152|0,168,1),hi(h,n+153|0,79,1),m=(h|0)<0;do if(m)g=72;else{if(w=((h*-5|0)>>4)+72|0,g=(h|0)<52,(w|0)<1&g){g=1;break}if((w|0)>126&g){g=126;break}g=(h|0)>51?56:w}while(!1);w=(g|0)>63,C=w?g+64|0:63-g|0,g=(C&255)<<1|w&1,w=n+143|0,(C&127)>>>0<63||(j[w]=g,y0(16144,2464,210,17960)),V0(w|0,g|0,2)|0;do if(m)g=72;else{if(m=((h*-5|0)>>4)+72|0,g=(h|0)<52,(m|0)<1&g){g=1;break}if((m|0)>126&g){g=126;break}g=(h|0)>51?56:m}while(!1);if(m=(g|0)>63,C=m?g+64|0:63-g|0,m=(C&255)<<1|m&1,g=n+145|0,(C&127)>>>0<63){V0(g|0,m|0,2)|0;break}else j[g]=m,y0(16144,2464,210,17960)}while(!1);for(hi(h,n+2|0,r[30160+(o*12|0)>>2]|0,1),hi(h,n+3|0,r[30164+(o*12|0)>>2]|0,1),hi(h,n+4|0,r[30168+(o*12|0)>>2]|0,1),C=(o|0)!=2?o:5,hi(h,n+8|0,r[30296+(C<<2)>>2]|0,1),hi(h,n+9|0,r[30296+(C+1<<2)>>2]|0,1),hi(h,n+10|0,r[30296+(C+2<<2)>>2]|0,1),hi(h,n+11|0,r[30296+(C+3<<2)>>2]|0,1),hi(h,n+12|0,r[29352+(o<<2)>>2]|0,1),hi(h,n+13|0,r[29888+(o<<2)>>2]|0,1),_=(o|0)==0?0:2,hi(h,n+14|0,r[30344+(_<<2)>>2]|0,1),hi(h,n+15|0,r[30344+((_|1)<<2)>>2]|0,1),_=o<<2,hi(h,n+16|0,r[30248+(_<<2)>>2]|0,1),y=_|1,hi(h,n+17|0,r[30248+(y<<2)>>2]|0,1),w=_|2,hi(h,n+18|0,r[30248+(w<<2)>>2]|0,1),g=_|3,hi(h,n+19|0,r[30248+(g<<2)>>2]|0,1),m=o*3|0,hi(h,n+20|0,r[29936+(m<<2)>>2]|0,1),hi(h,n+21|0,r[29936+(m+1<<2)>>2]|0,1),hi(h,n+22|0,r[29936+(m+2<<2)>>2]|0,1),m=o*18|0,C=0;;)if(hi(h,n+(C+25)|0,r[28736+(C+m<<2)>>2]|0,1),C=C+1|0,(C|0)>=18){C=0;break}do hi(h,n+(C+43)|0,r[28736+(C+m<<2)>>2]|0,1),C=C+1|0;while((C|0)<18);hi(h,n+61|0,r[29976+(_<<2)>>2]|0,1),hi(h,n+62|0,r[29976+(y<<2)>>2]|0,1),hi(h,n+63|0,r[29976+(w<<2)>>2]|0,1),hi(h,n+64|0,r[29976+(g<<2)>>2]|0,1),m=0;do hi(h,n+(m+65)|0,r[29384+(o*168|0)+(m<<2)>>2]|0,1),m=m+1|0;while((m|0)<42);hi(h,n+107|0,r[28952+(o<<3)>>2]|0,1),hi(h,n+108|0,r[28956+(o<<3)>>2]|0,1),g=o*24|0,m=0;do hi(h,n+(m+109)|0,r[29048+(m+g<<2)>>2]|0,1),m=m+1|0;while((m|0)<24);C=o*6|0,hi(h,n+133|0,r[28976+(C<<2)>>2]|0,1),hi(h,n+134|0,r[28976+((C|1)<<2)>>2]|0,1),hi(h,n+135|0,r[28976+(C+2<<2)>>2]|0,1),hi(h,n+136|0,r[28976+(C+3<<2)>>2]|0,1),hi(h,n+137|0,r[28976+(C+4<<2)>>2]|0,1),hi(h,n+138|0,r[28976+(C+5<<2)>>2]|0,1),hi(h,n,r[29920+(o<<2)>>2]|0,1),hi(h,n+1|0,r[29336+(o<<2)>>2]|0,1),hi(h,n+139|0,154,1),hi(h,n+140|0,154,1),hi(h,n+141|0,139,1),hi(h,n+142|0,139,1),hi(h,n+161|0,r[29368+(o<<2)>>2]|0,1),j[n+23|0]=1,j[n+24|0]=1,V0(n+162|0,1,10)|0}function No(n){n=n|0;var o=0,h=0,m=0,g=0;if(o=D,h=n+4|0,(j[51944]|0)!=0&&(g=r[h>>2]|0,Br(7336,(m=D,D=D+16|0,r[m>>2]=n,r[m+8>>2]=g,m|0))|0,D=m),m=r[h>>2]|0,(m|0)==0){D=o;return}r[m>>2]=(r[m>>2]|0)-1,r[n>>2]=0,r[h>>2]=0,D=o}function il(n){n=n|0;var o=0,h=0,m=0,g=0;if(o=D,h=n+4|0,(j[51944]|0)!=0&&(m=r[h>>2]|0,Br(5320,(g=D,D=D+16|0,r[g>>2]=n,r[g+8>>2]=m,g|0))|0,D=g),m=r[h>>2]|0,(m|0)==0&&y0(3784,2464,95,17424),g=r[m>>2]|0,(g|0)<=1){D=o;return}r[m>>2]=g-1,n=n|0,g=r[n>>2]|0,m=Qi(172)|0,r[n>>2]=m,n=It(4)|0,r[h>>2]=n,r[n>>2]=1,Tt(m|0,g|0,172)|0,D=o}function ma(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0;return h=D,(j[51944]|0)!=0&&(Br(1288,(w=D,D=D+16|0,r[w>>2]=n,r[w+8>>2]=o,w|0))|0,D=w),m=o+4|0,g=r[m>>2]|0,(g|0)==0?(o=n+4|0,(j[51944]|0)!=0&&(g=r[o>>2]|0,Br(7336,(w=D,D=D+16|0,r[w>>2]=n,r[w+8>>2]=g,w|0))|0,D=w),m=r[o>>2]|0,(m|0)==0?(D=h,n|0):(r[m>>2]=(r[m>>2]|0)-1,r[n>>2]=0,r[o>>2]=0,D=h,n|0)):(r[g>>2]=(r[g>>2]|0)+1,g=n+4|0,(j[51944]|0)!=0&&(y=r[g>>2]|0,Br(7336,(w=D,D=D+16|0,r[w>>2]=n,r[w+8>>2]=y,w|0))|0,D=w),w=r[g>>2]|0,(w|0)==0?w=n|0:(r[w>>2]=(r[w>>2]|0)-1,w=n|0,r[w>>2]=0,r[g>>2]=0),r[w>>2]=r[o>>2],r[g>>2]=r[m>>2],D=h,n|0)}function hi(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0;w=((h>>4)*5|0)-45|0,h=(h<<3&120)-16|0,y=(n|0)<0,y?_=0:_=(n|0)>51?51:n;do if((((s0(_,w)|0)>>4)+h|0)<1)w=1;else{if(y?_=0:_=(n|0)>51?51:n,(((s0(_,w)|0)>>4)+h|0)>126){w=126;break}y?n=0:n=(n|0)>51?51:n,w=((s0(n,w)|0)>>4)+h|0}while(!1);if(!((m|0)<=0)){h=(w|0)>63,_=h?w+64|0:63-w|0,w=(_&255)<<1|h&1,(_&127)>>>0<63?g=0:(j[o|0]=w,y0(16144,2464,210,17960));do j[o+g|0]=w,g=g+1|0;while((g|0)<(m|0))}}function lu(){return 8320}function zo(){return 16777728}function Go(n){switch(n=n|0,n|0){case 1002:{n=13432;break}case 1004:{n=13016;break}case 1005:{n=12752;break}case 1e3:{n=13832;break}case 1015:{n=9944;break}case 1016:{n=9600;break}case 1017:{n=9176;break}case 18:{n=14136;break}case 1001:{n=13632;break}case 16:{n=14672;break}case 1003:{n=13224;break}case 17:{n=14400;break}case 6:{n=5048;break}case 7:{n=3576;break}case 8:{n=2272;break}case 9:{n=1176;break}case 10:{n=496;break}case 11:{n=16968;break}case 12:{n=16376;break}case 502:{n=16032;break}case 13:{n=15616;break}case 14:{n=15272;break}case 1:{n=12824;break}case 1010:{n=11360;break}case 1011:{n=11088;break}case 4:{n=9888;break}case 1025:{n=6920;break}case 1026:{n=6616;break}case 0:{n=15416;break}case 1006:{n=12544;break}case 1007:{n=12168;break}case 1018:{n=8704;break}case 1019:{n=8520;break}case 1020:{n=8200;break}case 1008:{n=12008;break}case 1009:{n=11632;break}case 15:{n=14960;break}case 1012:{n=10848;break}case 1013:{n=10576;break}case 1014:{n=10280;break}case 5:{n=6896;break}case 1021:{n=8032;break}case 1022:{n=7776;break}case 1023:{n=7480;break}case 1024:{n=7200;break}default:n=6440}return n|0}function rl(n){return n=n|0,(n|0)==0?(n=1,n|0):(n=(n|0)>999|0,n|0)}function _a(){var n=0;do if(Ti=r[12984]|0,r[12984]=Ti+1,(Ti+1|0)<=1){if(Wr(),Ru()|0)break;return Ti=r[12984]|0,r[12984]=Ti-1,n=0,n|0}while(!1);return n=It(377228)|0,fl(n),(n|0)!=0?n|0:(n=(Ti=r[12984]|0,r[12984]=Ti-1,Ti-1|0),(n|0)<0?(Ti=r[12984]|0,r[12984]=Ti+1,n=0,n|0):(n|0)!=0?(n=0,n|0):(to(),n=0,n|0))}function Bs(n){n=n|0;var o=0;return o=n,pl(o),(n|0)!=0&&Rr[r[(r[n>>2]|0)+4>>2]&511](o),n=(Ti=r[12984]|0,r[12984]=Ti-1,Ti-1|0),(n|0)<0?(Ti=r[12984]|0,r[12984]=Ti+1,o=12,o|0):(n|0)!=0?(o=0,o|0):(to(),o=0,o|0)}function Ms(n,o,h,m,g,w){return n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,qd(n+548|0,o,h,m,g,w)|0}function sl(n){n=n|0;var o=0;return n=n+548|0,o=n,Ml(o)|0,Ml(o)|0,j[n]=1,0}function nl(n,o){return n=n|0,o=o|0,bs(n,o)|0}function e1(n,o,h,m,g,w){return n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,Yd(n+548|0,o,h,m,g,w)|0}function al(n){n=n|0,Ml(n+548|0)|0}function Ho(n){n=n|0,Ml(n+548|0)|0,j[n+549|0]=1}function ol(n){n=n|0,wu(n)}function t1(n){n=n|0;var o=0;return(r[n+376196>>2]|0)<=0||(o=r[n+376192>>2]|0,o=r[(r[(r[n+376180>>2]|0)+(o>>>10<<2)>>2]|0)+((o&1023)<<2)>>2]|0,(o|0)==0)?(o=0,o|0):(j[o+100|0]=0,xh(n+376144|0),o|0)}function ll(n){n=n|0;var o=0;return(r[n+376196>>2]|0)<=0?(n=0,n|0):(o=r[n+376192>>2]|0,n=r[(r[(r[n+376180>>2]|0)+(o>>>10<<2)>>2]|0)+((o&1023)<<2)>>2]|0,n|0)}function Vo(n){n=n|0;var o=0;(r[n+376196>>2]|0)!=0&&(o=r[n+376192>>2]|0,j[(r[(r[(r[n+376180>>2]|0)+(o>>>10<<2)>>2]|0)+((o&1023)<<2)>>2]|0)+100|0]=0,xh(n+376144|0))}function Wo(n){return n=n|0,af(n)|0}function jo(n){return n=n|0,r[n+375908>>2]|0}function ul(n,o){n=n|0,o=o|0,of(n,o)}function is(n,o){n=n|0,o=o|0,uf(n,o)}function qr(n,o){return n=n|0,o=o|0,lf(n,o)|0}function ds(n){return n=n|0,cf(n+4|0)|0}function $o(n,o,h){if(n=n|0,o=o|0,h=h|0,(o|0)==7){j[n+532|0]=(h|0)!=0|0;return}else if((o|0)==8){j[n+533|0]=(h|0)!=0|0;return}else if((o|0)==6){j[n+514|0]=(h|0)!=0|0;return}else if((o|0)==0){j[n+512|0]=(h|0)!=0|0;return}else y0(6320,6192,503,17144)}function i1(n,o,h){switch(n=n|0,o=o|0,h=h|0,o|0){case 4:{r[n+528>>2]=h;return}case 1:{r[n+516>>2]=h;return}case 5:{vu(n);return}case 2:{r[n+520>>2]=h;return}case 3:{r[n+524>>2]=h;return}default:y0(6320,6192,536,17120)}}function r1(n,o){if(n=n|0,o=o|0,(o|0)==7)n=n+532|0;else if((o|0)==8)n=n+533|0;else if((o|0)==6)n=n+514|0;else if((o|0)==0)n=n+512|0;else return y0(6320,6192,571,17176),0;return We[n]|0|0}function uu(n){n=n|0;var o=0;return o=r[n+584>>2]|0,n=r[n+556>>2]|0,(n|0)==0?(n=o,n|0):(n=(r[n+24>>2]|0)+o|0,n|0)}function cu(n){return n=n|0,((r[n+556>>2]|0)!=0)+(r[n+580>>2]|0)|0}function fs(n,o){return n=n|0,o=o|0,(o|0)==1|(o|0)==2?(o=r[n+80>>2]|0,o|0):(o|0)==0?(o=r[n+72>>2]|0,o|0):(o=0,o|0)}function Y1(n,o){return n=n|0,o=o|0,(o|0)==0?(o=r[n+76>>2]|0,o|0):(o|0)==1|(o|0)==2?(o=r[n+84>>2]|0,o|0):(o=0,o|0)}function hu(n,o){return n=n|0,o=o|0,(o|0)==1|(o|0)==2?(o=r[n+5768>>2]|0,o|0):(o|0)==0?(o=r[n+5760>>2]|0,o|0):(o=0,o|0)}function du(n){return n=n|0,r[n+20>>2]|0}function fu(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0;return o>>>0<3?(m=r[n+60+(o<<2)>>2]|0,(h|0)==0||(g=r[((o|0)==0?n+40|0:n+44|0)>>2]|0,(o|0)==1|(o|0)==2?n=r[n+5768>>2]|0:(o|0)==0?n=r[n+5760>>2]|0:n=0,o=s0((n+7|0)/8|0,g)|0,r[h>>2]=o),m|0):(y0(5944,6192,639,17240),0)}function pu(n,o){return n=n|0,o=o|0,o>>>0<3?r[n+10492+(o<<2)>>2]|0:(y0(5944,6192,650,17208),0)}function mu(n){return n=n|0,n=n+10480|0,Mt=r[n+4>>2]|0,r[n>>2]|0|0}function gu(n){return n=n|0,r[n+10488>>2]|0}function yu(n,o){n=n|0,o=o|0,r[n+10488>>2]=o}function J1(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0;for(B=n+10448|0,C=r[B>>2]|0,oe=o>>C,(oe|0)>-1||y0(8880,6264,118,17352),re=n+10452|0,te=n+10456|0,q=n+10440|0,_=h,C=h>>C;;){if(h=r[re>>2]|0,(oe|0)>=(h|0)){B=4;break}if(!((C|0)>-1)){B=7;break}if((C|0)>=(r[te>>2]|0)){B=7;break}if(le=(s0(h,C)|0)+oe|0,C=1<<m,((We[(r[q>>2]|0)+le|0]|0)&1<<g|0)==0){B=9;break}if(C=C>>1,le=C+o|0,C=C+_|0,m=m-1|0,g=g+1|0,J1(n,o,_,m,g,w,y),J1(n,le,_,m,g,16,y),J1(n,o,C,m,g,w,32),h=r[B>>2]|0,oe=le>>h,(oe|0)>-1)o=le,_=C,w=16,y=32,C=C>>h;else{B=4;break}}if((B|0)==4)y0(8880,6264,118,17352);else if((B|0)==7)y0(4520,6264,119,17352);else if((B|0)==9){if(B=(C|0)>0,!B)return;q=w&255,w=(o|0)/4|0,g=n+10472|0,re=n+10476|0,m=n+10460|0,h=0;do{te=(h+_|0)/4|0,oe=r[g>>2]|0;do if((w|0)<(oe|0)){if((te|0)>=(r[re>>2]|0))break;le=(s0(oe,te)|0)+w|0,le=(r[m>>2]|0)+le|0,j[le]=j[le]|q}while(!1);h=h+4|0}while((h|0)<(C|0));if(!B)return;y=y&255,_=(_|0)/4|0,q=n+10472|0,B=n+10476|0,n=n+10460|0,re=0;do{te=(re+o|0)/4|0,w=r[q>>2]|0;do if((te|0)<(w|0)){if((_|0)>=(r[B>>2]|0))break;le=(s0(w,_)|0)+te|0,le=(r[n>>2]|0)+le|0,j[le]=j[le]|y}while(!1);re=re+4|0}while((re|0)<(C|0));return}}function Au(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0;switch(w=r[n+10368>>2]|0,y=o>>w,w=h>>w,(y|0)>-1||y0(8880,6264,118,17352),g=r[n+10372>>2]|0,(y|0)>=(g|0)&&y0(8880,6264,118,17352),(w|0)>-1||y0(4520,6264,119,17352),(w|0)>=(r[n+10376>>2]|0)&&y0(4520,6264,119,17352),q=(s0(g,w)|0)+y|0,q=(r[n+10360>>2]|0)+(q*3|0)|0,w=1<<m,_=1<<m-1,m=1<<m-2,((We[q]|We[q+1|0]<<8)<<16>>16&65535)>>>3&255&7|0){case 4:{if((w|0)<=0)return;h=(m+h|0)/4|0,m=n+10472|0,g=n+10476|0,C=n+10460|0,_=0;do{y=(_+o|0)/4|0,n=r[m>>2]|0;do if((y|0)<(n|0)){if((h|0)>=(r[g>>2]|0))break;q=(s0(n,h)|0)+y|0,q=(r[C>>2]|0)+q|0,j[q]=j[q]|-128}while(!1);_=_+1|0}while((_|0)<(w|0));return}case 5:{if((w|0)<=0)return;g=(_+h+m|0)/4|0,m=n+10472|0,h=n+10476|0,y=n+10460|0,_=0;do{n=(_+o|0)/4|0,C=r[m>>2]|0;do if((n|0)<(C|0)){if((g|0)>=(r[h>>2]|0))break;q=(s0(C,g)|0)+n|0,q=(r[y>>2]|0)+q|0,j[q]=j[q]|-128}while(!1);_=_+1|0}while((_|0)<(w|0));return}case 6:{if((w|0)<=0)return;o=(m+o|0)/4|0,g=n+10472|0,m=n+10476|0,n=n+10460|0,y=0;do{C=(y+h|0)/4|0,_=r[g>>2]|0;do if((o|0)<(_|0)){if((C|0)>=(r[m>>2]|0))break;q=(s0(_,C)|0)+o|0,q=(r[n>>2]|0)+q|0,j[q]=j[q]|64}while(!1);y=y+1|0}while((y|0)<(w|0));return}case 7:{if((w|0)<=0)return;m=(_+o+m|0)/4|0,g=n+10472|0,o=n+10476|0,n=n+10460|0,y=0;do{C=(y+h|0)/4|0,_=r[g>>2]|0;do if((m|0)<(_|0)){if((C|0)>=(r[o>>2]|0))break;q=(s0(_,C)|0)+m|0,q=(r[n>>2]|0)+q|0,j[q]=j[q]|64}while(!1);y=y+1|0}while((y|0)<(w|0));return}case 1:{if((w|0)<=0)return;h=(_+h|0)/4|0,g=n+10472|0,m=n+10476|0,n=n+10460|0,y=0;do{C=(y+o|0)/4|0,_=r[g>>2]|0;do if((C|0)<(_|0)){if((h|0)>=(r[m>>2]|0))break;q=(s0(_,h)|0)+C|0,q=(r[n>>2]|0)+q|0,j[q]=j[q]|-128}while(!1);y=y+1|0}while((y|0)<(w|0));return}case 2:{if((w|0)<=0)return;o=(_+o|0)/4|0,g=n+10472|0,m=n+10476|0,n=n+10460|0,y=0;do{C=(y+h|0)/4|0,_=r[g>>2]|0;do if((o|0)<(_|0)){if((C|0)>=(r[m>>2]|0))break;q=(s0(_,C)|0)+o|0,q=(r[n>>2]|0)+q|0,j[q]=j[q]|64}while(!1);y=y+1|0}while((y|0)<(w|0));return}case 3:{if((w|0)<=0)return;g=(_+o|0)/4|0,m=n+10472|0,y=n+10476|0,n=n+10460|0,_=(_+h|0)/4|0,C=0;do{B=(C+h|0)/4|0,q=r[m>>2]|0;do if((g|0)<(q|0)){if((B|0)>=(r[y>>2]|0))break;q=(s0(q,B)|0)+g|0,q=(r[n>>2]|0)+q|0,j[q]=j[q]|64,q=r[m>>2]|0}while(!1);B=(C+o|0)/4|0;do if((B|0)<(q|0)){if((_|0)>=(r[y>>2]|0))break;q=(s0(q,_)|0)+B|0,q=(r[n>>2]|0)+q|0,j[q]=j[q]|-128}while(!1);C=C+1|0}while((C|0)<(w|0));return}default:return}}function cl(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0;if(m=r[n+5808>>2]|0,w=r[n+5804>>2]|0,g=(1<<w)-1|0,h=r[n+5820>>2]|0,y=r[n+5800>>2]|0,ue=o<<w>>y,y=o+1<<w>>y,o=r[n+5824>>2]|0,o=(o|0)<(y|0)?o:y,(ue|0)>=(o|0))return ut=0,ut|0;_=n+5816|0,y=n+10372|0,B=n+10360|0,ne=n+10348|0,le=n+10352|0,oe=n+10356|0,q=n+10340|0,re=n+52|0,te=n+48|0,pe=n+5977|0,C=n+10308|0,Ye=0,Ge=r[_>>2]|0;e:for(;;){if((Ge|0)>0){ze=s0(ue,m)|0,Be=(ze|0)==0,qe=Be?0:32,Ve=ze&g,ve=ze-1|0,Te=s0(ze>>w,h)|0,ge=s0(ve>>w,h)|0,He=0;do{ut=(s0(r[y>>2]|0,ue)|0)+He|0,ut=(r[B>>2]|0)+(ut*3|0)|0,ut=(We[ut]|We[ut+1|0]<<8)<<16>>16&7,r0=ut&255;do if(ut<<24>>24!=0){if(o0=s0(He,m)|0,v0=o0>>w,ot=r[ne>>2]|0,O0=o0>>ot,E0=ze>>ot,!((O0|0)>-1)){n=8;break e}if(P0=r[le>>2]|0,(O0|0)>=(P0|0)){n=8;break e}if(!((E0|0)>-1)){n=11;break e}if(Z0=r[oe>>2]|0,(E0|0)>=(Z0|0)){n=11;break e}if(D0=s0(P0,E0)|0,N0=r[q>>2]|0,S0=f0[N0+((D0+O0|0)*24|0)+2>>1]|0,G0=r[te>>2]|0,E0=(r[re>>2]|0)-G0>>2,!(S0>>>0<E0>>>0)){Ye=0,n=34;break e}S0=r[G0+(S0<<2)>>2]|0,ut=(o0|0)==0,X0=ut?0:16;t:do if(!ut){if((o0&g|0)!=0)break;do if((j[S0+764|0]|0)==0){if(ut=o0-1>>ot,!((ut|0)>-1&(ut|0)<(P0|0))){n=17;break e}if(D0=f0[N0+((D0+ut|0)*24|0)+2>>1]|0,!(D0>>>0<E0>>>0))break;if((r[S0+800>>2]|0)!=(r[(r[G0+(D0<<2)>>2]|0)+800>>2]|0)){X0=0;break t}}while(!1);if((j[pe]|0)!=0)break;ut=r[C>>2]|0,X0=(r[ut+(v0+Te<<2)>>2]|0)==(r[ut+((o0-1>>w)+Te<<2)>>2]|0)?X0:0}while(!1);t:do if(Be|(Ve|0)!=0)v0=qe;else{do if((j[S0+764|0]|0)==0){if(ot=ve>>ot,!((ot|0)>-1&(ot|0)<(Z0|0))){n=25;break e}if(P0=N0+(((s0(P0,ot)|0)+O0|0)*24|0)+2|0,P0=f0[P0>>1]|0,!(P0>>>0<E0>>>0))break;if((r[S0+800>>2]|0)!=(r[(r[G0+(P0<<2)>>2]|0)+800>>2]|0)){v0=0;break t}}while(!1);if((j[pe]|0)!=0){v0=qe;break}ut=r[C>>2]|0,v0=(r[ut+(v0+Te<<2)>>2]|0)==(r[ut+(v0+ge<<2)>>2]|0)?qe:0}while(!1);if((j[S0+754|0]|0)!=0)break;J1(n,o0,ze,r0,0,X0&255,v0&255),Au(n,o0,ze,r0,0,0),Ye=1,Ge=r[_>>2]|0}while(!1);He=He+1|0}while((He|0)<(Ge|0))}if(ue=ue+1|0,(ue|0)>=(o|0)){n=34;break}}return(n|0)==8?(y0(8880,6264,118,17352),0):(n|0)==11?(y0(4520,6264,119,17352),0):(n|0)==17?(y0(8880,6264,118,17352),0):(n|0)==25?(y0(4520,6264,119,17352),0):(n|0)==34?Ye|0:0}function Ko(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0,z0=0,m0=0,x0=0,A0=0,M0=0,F0=0,B0=0,Y0=0,lt=0,at=0;if(q=o?2:1,C=o?1:2,y=o&1,_=y^1,B=o?80:160,o=o?16:32,te=n+10472|0,re=r[te>>2]|0,w=(re|0)>(w|0)?w:re,re=r[n+10476>>2]|0,m=(re|0)>(m|0)?m:re,!((m|0)<=(h|0))){ve=(w|0)>(g|0),re=n+10460|0,Be=n+10368|0,E0=n+10372|0,v0=n+10376|0,o0=n+10360|0,qe=n+10388|0,Ve=n+10392|0,Te=n+10396|0,ge=n+10380|0,S0=n+10348|0,ue=n+10352|0,pe=n+10356|0,oe=n+10340|0,ne=n+52|0,le=n+48|0,Ge=n+10332|0,r0=n+10516|0,Ye=n+10448|0,He=n+10452|0,ze=n+10456|0,n=n+10440|0;e:for(;;){if(ve){P0=h<<2,G0=(P0|0)/4|0,ot=P0-_|0,Z0=g;do{if(D0=Z0<<2,O0=(D0|0)/4|0,X0=(s0(r[te>>2]|0,G0)|0)+O0|0,X0=(r[re>>2]|0)+X0|0,ut=j[X0]|0,N0=ut&255,(N0&B|0)==0)j[X0]=ut&-4;else{if(tt=D0-y|0,ct=r[Be>>2]|0,H0=tt>>ct,g0=ot>>ct,!((H0|0)>-1)){g=8;break e}if(ut=r[E0>>2]|0,(H0|0)>=(ut|0)){g=8;break e}if(!((g0|0)>-1)){g=11;break e}if(X0=r[v0>>2]|0,(g0|0)>=(X0|0)){g=11;break e}if(l0=(s0(ut,g0)|0)+H0|0,H0=r[o0>>2]|0,l0=H0+(l0*3|0)|0,g0=D0>>ct,ct=P0>>ct,!((g0|0)>-1&(g0|0)<(ut|0))){g=13;break e}if(!((ct|0)>-1&(ct|0)<(X0|0))){g=15;break e}at=H0+(((s0(ut,ct)|0)+g0|0)*3|0)|0;t:do if(((We[l0]|We[l0+1|0]<<8)<<16>>16&768)==0|((We[at]|We[at+1|0]<<8)<<16>>16&768)==0)N0=2;else{if((N0&o|0)!=0){if(ut=r[Ye>>2]|0,ct=D0>>ut,H0=P0>>ut,!((ct|0)>-1)){g=20;break e}if(N0=r[He>>2]|0,(ct|0)>=(N0|0)){g=20;break e}if(!((H0|0)>-1)){g=23;break e}if(X0=r[ze>>2]|0,(H0|0)>=(X0|0)){g=23;break e}if(at=(s0(N0,H0)|0)+ct|0,ct=r[n>>2]|0,!((j[ct+at|0]|0)>-1)){N0=1;break}if(H0=tt>>ut,ut=ot>>ut,!((H0|0)>-1&(H0|0)<(N0|0))){g=26;break e}if(!((ut|0)>-1&(ut|0)<(X0|0))){g=28;break e}if(at=ct+((s0(N0,ut)|0)+H0)|0,!((j[at]|0)>-1)){N0=1;break}}if(H0=r[qe>>2]|0,N0=tt>>H0,X0=ot>>H0,!((N0|0)>-1)){g=32;break e}if(ct=r[Ve>>2]|0,(N0|0)>=(ct|0)){g=32;break e}if(!((X0|0)>-1)){g=35;break e}if(ut=r[Te>>2]|0,(X0|0)>=(ut|0)){g=35;break e}if(X0=(s0(ct,X0)|0)+N0|0,N0=r[ge>>2]|0,g0=D0>>H0,H0=P0>>H0,!((g0|0)>-1&(g0|0)<(ct|0))){g=37;break e}if(!((H0|0)>-1&(H0|0)<(ut|0))){g=39;break e}if(ut=(s0(ct,H0)|0)+g0|0,g0=r[S0>>2]|0,ct=tt>>g0,l0=ot>>g0,!((ct|0)>-1)){g=42;break e}if(tt=r[ue>>2]|0,(ct|0)>=(tt|0)){g=42;break e}if(!((l0|0)>-1)){g=45;break e}if(H0=r[pe>>2]|0,(l0|0)>=(H0|0)){g=45;break e}if(ct=(s0(tt,l0)|0)+ct|0,m0=r[oe>>2]|0,ct=f0[m0+(ct*24|0)+2>>1]|0,l0=r[le>>2]|0,z0=(r[ne>>2]|0)-l0>>2,ct>>>0<z0>>>0?ct=r[l0+(ct<<2)>>2]|0:ct=0,D0=D0>>g0,g0=P0>>g0,!((D0|0)>-1&(D0|0)<(tt|0))){g=49;break e}if(!((g0|0)>-1&(g0|0)<(H0|0))){g=51;break e}if(D0=m0+(((s0(tt,g0)|0)+D0|0)*24|0)+2|0,D0=f0[D0>>1]|0,D0>>>0<z0>>>0?A0=r[l0+(D0<<2)>>2]|0:A0=0,g0=j[N0+(X0*12|0)|0]|0,D0=g0<<24>>24==0,D0?l0=-1:l0=r[ct+916+(j[N0+(X0*12|0)+2|0]<<2)>>2]|0,z0=j[N0+(X0*12|0)+1|0]|0,tt=z0<<24>>24==0,tt?x0=-1:x0=r[ct+980+(j[N0+(X0*12|0)+3|0]<<2)>>2]|0,m0=j[N0+(ut*12|0)|0]|0,H0=m0<<24>>24==0,H0?M0=-1:M0=r[A0+916+(j[N0+(ut*12|0)+2|0]<<2)>>2]|0,F0=j[N0+(ut*12|0)+1|0]|0,B0=F0<<24>>24==0,B0?lt=-1:lt=r[A0+980+(j[N0+(ut*12|0)+3|0]<<2)>>2]|0,A0=(l0|0)==(M0|0),!(A0&(x0|0)==(lt|0))&&!((l0|0)==(lt|0)&(x0|0)==(M0|0))){N0=1;break}if(ct=D0?0:be[N0+(X0*12|0)+6>>1]|0,at=D0?0:be[N0+(X0*12|0)+4>>1]|0,D0=tt?0:be[N0+(X0*12|0)+10>>1]|0,tt=tt?0:be[N0+(X0*12|0)+8>>1]|0,X0=H0?0:be[N0+(ut*12|0)+6>>1]|0,Y0=H0?0:be[N0+(ut*12|0)+4>>1]|0,H0=B0?0:be[N0+(ut*12|0)+10>>1]|0,N0=B0?0:be[N0+(ut*12|0)+8>>1]|0,((z0&255)+(g0&255)|0)!=((F0&255)+(m0&255)|0)&&(kt((r[Ge>>2]|0)+4|0,1013,0),j[r0]=3),(l0|0)==(x0|0)){if((M0|0)!=(lt|0)){g=79;break e}g0=at<<16>>16,ut=Y0<<16>>16,l0=g0-ut|0;do if((((l0|0)<0?-l0|0:l0)|0)<=3){if(l0=(ct<<16>>16)-(X0<<16>>16)|0,(((l0|0)<0?-l0|0:l0)|0)>3||(l0=(tt<<16>>16)-(N0<<16>>16)|0,(((l0|0)<0?-l0|0:l0)|0)>3))break;if(l0=(D0<<16>>16)-(H0<<16>>16)|0,(((l0|0)<0?-l0|0:l0)|0)<=3){N0=0;break t}}while(!1);N0=g0-(N0<<16>>16)|0;do if((((N0|0)<0?-N0|0:N0)|0)<=3){if(N0=(ct<<16>>16)-(H0<<16>>16)|0,(((N0|0)<0?-N0|0:N0)|0)>3||(N0=(tt<<16>>16)-ut|0,(((N0|0)<0?-N0|0:N0)|0)>3))break;if(N0=(D0<<16>>16)-(X0<<16>>16)|0,(((N0|0)<0?-N0|0:N0)|0)<=3){N0=0;break t}}while(!1);N0=1;break}if(ut=at<<16>>16,A0){ut=ut-(Y0<<16>>16)|0;do if((((ut|0)<0?-ut|0:ut)|0)<=3){if(X0=(ct<<16>>16)-(X0<<16>>16)|0,(((X0|0)<0?-X0|0:X0)|0)>3||(N0=(tt<<16>>16)-(N0<<16>>16)|0,(((N0|0)<0?-N0|0:N0)|0)>3))break;if(N0=(D0<<16>>16)-(H0<<16>>16)|0,(((N0|0)<0?-N0|0:N0)|0)<=3){N0=0;break t}}while(!1);N0=1;break}else{N0=ut-(N0<<16>>16)|0;do if((((N0|0)<0?-N0|0:N0)|0)<=3){if(N0=(ct<<16>>16)-(H0<<16>>16)|0,(((N0|0)<0?-N0|0:N0)|0)>3||(N0=(tt<<16>>16)-(Y0<<16>>16)|0,(((N0|0)<0?-N0|0:N0)|0)>3))break;if(N0=(D0<<16>>16)-(X0<<16>>16)|0,(((N0|0)<0?-N0|0:N0)|0)<=3){N0=0;break t}}while(!1);N0=1;break}}while(!1);at=(s0(r[te>>2]|0,G0)|0)+O0|0,at=(r[re>>2]|0)+at|0,j[at]=j[at]&-4|N0}Z0=Z0+q|0}while((Z0|0)<(w|0))}if(h=h+C|0,(h|0)>=(m|0)){g=93;break}}if((g|0)==8)y0(8880,6264,118,17352);else if((g|0)==11)y0(4520,6264,119,17352);else if((g|0)==13)y0(8880,6264,118,17352);else if((g|0)==15)y0(4520,6264,119,17352);else if((g|0)==20)y0(8880,6264,118,17352);else if((g|0)==23)y0(4520,6264,119,17352);else if((g|0)==26)y0(8880,6264,118,17352);else if((g|0)==28)y0(4520,6264,119,17352);else if((g|0)==32)y0(8880,6264,118,17352);else if((g|0)==35)y0(4520,6264,119,17352);else if((g|0)==37)y0(8880,6264,118,17352);else if((g|0)==39)y0(4520,6264,119,17352);else if((g|0)==42)y0(8880,6264,118,17352);else if((g|0)==45)y0(4520,6264,119,17352);else if((g|0)==49)y0(8880,6264,118,17352);else if((g|0)==51)y0(4520,6264,119,17352);else if((g|0)==79)y0(3256,14616,343,18768);else if((g|0)==93)return}}function qo(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0,z0=0,m0=0,x0=0,A0=0,M0=0,F0=0,B0=0,Y0=0,lt=0,at=0,St=0,vt=0,Zt=0,Ai=0,Jt=0,Ot=0,Pt=0,Ut=0,pi=0,bt=0,wi=0,ui=0,bi=0,Qt=0,Bt=0,Ht=0,Ei=0,ai=0,Hi=0,ji=0,Kt=0;if(y=D,D=D+64|0,B=y|0,oe=y+32|0,C=o?2:1,te=o?1:2,_=n+40|0,re=r[_>>2]|0,ct=r[n+5760>>2]|0,q=r[n+10472>>2]|0,w=(q|0)>(w|0)?w:q,le=r[n+10476>>2]|0,ve=(le|0)>(m|0)?m:le,(ve|0)<=(h|0)){D=y;return}ne=(w|0)>(g|0),pe=n+10460|0,ut=n+4|0,le=n+10368|0,ue=n+10372|0,ge=n+10376|0,Te=n+10360|0,Ve=n+10348|0,Ye=n+10352|0,tt=n+10356|0,m=n+10340|0,X0=n+48|0,G0=ct-8|0,ot=oe+4|0,N0=oe+2|0,D0=oe|0,O0=oe+28|0,Z0=oe+26|0,P0=oe+24|0,v0=B+4|0,E0=B+2|0,S0=B|0,r0=B+28|0,o0=B+26|0,Ge=B+24|0,ze=oe+6|0,He=B+6|0,qe=oe+30|0,Be=B+30|0,n=n+5480|0,g0=(1<<ct)-1|0,ct=g0&65535,H0=re<<1;e:for(;;){if(ne){A0=h<<2,m0=(A0|0)/4|0,M0=A0-1|0,x0=r[pe>>2]|0,z0=g;do{Zt=z0<<2,Kt=x0+((s0(q,m0)|0)+((Zt|0)/4|0))|0,Kt=j[Kt]&3,F0=Kt&255;t:do if(Kt<<24>>24!=0){if(l0=(r[ut>>2]|0)+((s0(r[_>>2]|0,A0)|0)+Zt<<1)|0,o){B0=0;do Kt=s0(B0,re)|0,be[B+(B0<<3)>>1]=be[l0+(Kt<<1)>>1]|0,be[oe+(B0<<3)>>1]=be[l0+(Kt-1<<1)>>1]|0,be[B+(B0<<3)+2>>1]=be[l0+(Kt+1<<1)>>1]|0,be[oe+(B0<<3)+2>>1]=be[l0+(Kt-2<<1)>>1]|0,be[B+(B0<<3)+4>>1]=be[l0+(Kt+2<<1)>>1]|0,be[oe+(B0<<3)+4>>1]=be[l0+(Kt-3<<1)>>1]|0,be[B+(B0<<3)+6>>1]=be[l0+(Kt+3<<1)>>1]|0,be[oe+(B0<<3)+6>>1]=be[l0+(Kt-4<<1)>>1]|0,B0=B0+1|0;while((B0|0)<4)}else{B0=0;do be[B+(B0<<3)>>1]=be[l0+(B0<<1)>>1]|0,be[oe+(B0<<3)>>1]=be[l0+(B0-re<<1)>>1]|0,be[B+(B0<<3)+2>>1]=be[l0+(re+B0<<1)>>1]|0,be[oe+(B0<<3)+2>>1]=be[l0+(B0-(re<<1)<<1)>>1]|0,be[B+(B0<<3)+4>>1]=be[l0+((re<<1)+B0<<1)>>1]|0,be[oe+(B0<<3)+4>>1]=be[l0+(B0+(re*-3|0)<<1)>>1]|0,be[B+(B0<<3)+6>>1]=be[l0+((re*3|0)+B0<<1)>>1]|0,be[oe+(B0<<3)+6>>1]=be[l0+(B0-(re<<2)<<1)>>1]|0,B0=B0+1|0;while((B0|0)<4)}if(Jt=r[le>>2]|0,vt=Zt>>Jt,B0=A0>>Jt,!((vt|0)>-1)){_=11;break e}if(at=r[ue>>2]|0,(vt|0)>=(at|0)){_=11;break e}if(!((B0|0)>-1)){_=14;break e}if(St=r[ge>>2]|0,(B0|0)>=(St|0)){_=14;break e}if(Ai=s0(at,B0)|0,lt=Ai+vt|0,Y0=r[Te>>2]|0,B0=j[Y0+(lt*3|0)+2|0]|0,o){if(Ot=Zt-1>>Jt,!((Ot|0)>-1&(Ot|0)<(at|0))){_=17;break e}Ot=Ai+Ot|0}else{if(Ot=M0>>Jt,!((Ot|0)>-1&(Ot|0)<(St|0))){_=20;break e}Ot=(s0(at,Ot)|0)+vt|0}if(B0=B0+1+(j[Y0+(Ot*3|0)+2|0]|0)>>1,Ut=r[Ve>>2]|0,Ot=Zt>>Ut,Ut=A0>>Ut,!((Ot|0)>-1)){_=24;break e}if(Pt=r[Ye>>2]|0,(Ot|0)>=(Pt|0)){_=24;break e}if(!((Ut|0)>-1)){_=27;break e}if((Ut|0)>=(r[tt>>2]|0)){_=27;break e}if(Ot=(s0(Pt,Ut)|0)+Ot|0,Ot=r[(r[X0>>2]|0)+(f0[(r[m>>2]|0)+(Ot*24|0)+2>>1]<<2)>>2]|0,Pt=(r[Ot+756>>2]|0)+B0|0,(Pt|0)<0?Pt=0:Pt=(Pt|0)>51?51:Pt,Qt=We[30360+Pt|0]<<G0,F0=(F0<<1)-2+B0+(r[Ot+760>>2]|0)|0,(F0|0)<0?F0=0:F0=(F0|0)>53?53:F0,F0=We[30664+F0|0]<<G0,bt=be[ot>>1]|0,ui=be[N0>>1]|0,bi=be[D0>>1]|0,Ht=bi&65535,B0=(bt&65535)-((ui&65535)<<1)+Ht|0,Ot=(B0|0)<0?-B0|0:B0,B0=f0[P0>>1]|0,Pt=(f0[O0>>1]|0)-(f0[Z0>>1]<<1)+B0|0,Pt=(Pt|0)<0?-Pt|0:Pt,Ut=be[v0>>1]|0,pi=be[E0>>1]|0,wi=be[S0>>1]|0,ai=wi&65535,Bt=(Ut&65535)-((pi&65535)<<1)+ai|0,Hi=(Bt|0)<0?-Bt|0:Bt,Bt=f0[Ge>>1]|0,Ei=(f0[r0>>1]|0)-(f0[o0>>1]<<1)+Bt|0,Kt=(Ei|0)<0?-Ei|0:Ei,ji=Hi+Ot|0,Ei=Kt+Pt|0,Ot=Pt+Ot|0,Pt=Kt+Hi|0,(Ei+ji|0)>=(Qt|0))break;Hi=Qt>>2;do if((ji<<1|0)<(Hi|0)){if(ji=(f0[ze>>1]|0)-Ht|0,Kt=ai-(f0[He>>1]|0)|0,(((Kt|0)<0?-Kt|0:Kt)+((ji|0)<0?-ji|0:ji)|0)>=(Qt>>3|0)){Ht=1;break}Ht=Ht-ai|0,Ht=(((Ht|0)<0?-Ht|0:Ht)|0)>=((F0*5|0)+1>>1|0)}else Ht=1;while(!1);do if((Ei<<1|0)<(Hi|0)){if(Ei=(f0[qe>>1]|0)-B0|0,ai=Bt-(f0[Be>>1]|0)|0,(((ai|0)<0?-ai|0:ai)+((Ei|0)<0?-Ei|0:Ei)|0)>=(Qt>>3|0)){B0=1;break}B0=B0-Bt|0,B0=(((B0|0)<0?-B0|0:B0)|0)>=((F0*5|0)+1>>1|0)}else B0=1;while(!1);if(B0=Ht|B0,Qt=(Qt>>1)+Qt>>3,Bt=j[n]|0,Ht=Bt<<24>>24!=0,o){if(vt=Zt-1>>Jt,Ht){if(!((vt|0)>-1&(vt|0)<(at|0))){_=42;break e}St=Y0+((Ai+vt|0)*3|0)|0,St=(((We[St]|We[St+1|0]<<8)<<16>>16&65535)>>>10&1^1)&255}else St=1;if(!((vt|0)>-1&(vt|0)<(at|0))){_=45;break e}vt=Y0+((Ai+vt|0)*3|0)|0,Bt<<24>>24==0?at=1:(at=Y0+(lt*3|0)|0,at=((We[at]|We[at+1|0]<<8)<<16>>16&1024)==0),Kt=Y0+(lt*3|0)|0,Y0=((We[vt]|We[vt+1|0]<<8)<<16>>16&2048)==0&St<<24>>24!=0,at=((We[Kt]|We[Kt+1|0]<<8)<<16>>16&2048)==0&at}else{if(Ai=M0>>Jt,Ht){if(!((Ai|0)>-1&(Ai|0)<(St|0))){_=51;break e}Zt=Y0+(((s0(at,Ai)|0)+vt|0)*3|0)|0,Zt=((We[Zt]|We[Zt+1|0]<<8)<<16>>16&1024)==0}else Zt=1;if(!((Ai|0)>-1&(Ai|0)<(St|0))){_=54;break e}at=Y0+(((s0(at,Ai)|0)+vt|0)*3|0)|0,Bt<<24>>24==0?St=1:(St=Y0+(lt*3|0)|0,St=((We[St]|We[St+1|0]<<8)<<16>>16&1024)==0),Kt=Y0+(lt*3|0)|0,Y0=((We[at]|We[at+1|0]<<8)<<16>>16&2048)==0&Zt,at=((We[Kt]|We[Kt+1|0]<<8)<<16>>16&2048)==0&St}for(St=F0*10|0,lt=-F0|0,vt=(Ot|0)>=(Qt|0)|Y0^1,Ai=(Pt|0)>=(Qt|0)|at^1,Ot=F0>>1,Pt=-Ot|0,Jt=F0<<1,Zt=0;;){ai=be[oe+(Zt<<3)+6>>1]|0,Qt=be[B+(Zt<<3)+6>>1]|0;do if(B0){if(wi=wi&65535,Qt=bi&65535,pi=pi&65535,bi=ui&65535,ui=((wi-Qt|0)*9|0)+8+((pi-bi|0)*-3|0)>>4,(((ui|0)<0?-ui|0:ui)|0)>=(St|0))break;(ui|0)<(lt|0)?ui=lt:ui=(ui|0)>(F0|0)?F0:ui;do if(o){if(Y0&&(Bt=ui+Qt|0,(Bt|0)<0?Bt=0:Bt=(Bt|0)>(g0|0)?ct:Bt&65535,Kt=l0+((s0(Zt,re)|0)-1<<1)|0,be[Kt>>1]=Bt),!at)break;Bt=wi-ui|0,(Bt|0)<0?Bt=0:Bt=(Bt|0)>(g0|0)?ct:Bt&65535,Kt=l0+((s0(Zt,re)|0)<<1)|0,be[Kt>>1]=Bt}else{if(Y0&&(Bt=ui+Qt|0,(Bt|0)<0?Bt=0:Bt=(Bt|0)>(g0|0)?ct:Bt&65535,be[l0+(Zt-re<<1)>>1]=Bt),!at)break;Bt=wi-ui|0,(Bt|0)<0?Bt=0:Bt=(Bt|0)>(g0|0)?ct:Bt&65535,be[l0+(Zt<<1)>>1]=Bt}while(!1);do if(!vt)if(Qt=ui+(((Qt+1+(bt&65535)|0)>>>1)-bi)|0,bt=Qt>>1,(bt|0)<(Pt|0)?bt=Pt:bt=((bt|0)>(Ot|0)?F0:Qt)>>1,bt=bt+bi|0,bi=(bt|0)<0,o){bi?bt=0:bt=(bt|0)>(g0|0)?ct:bt&65535,Kt=l0+((s0(Zt,re)|0)-2<<1)|0,be[Kt>>1]=bt;break}else{bi?bt=0:bt=(bt|0)>(g0|0)?ct:bt&65535,be[l0+(Zt-H0<<1)>>1]=bt;break}while(!1);if(Ai)break;if(bt=((wi+1+(Ut&65535)|0)>>>1)-pi-ui|0,Ut=bt>>1,(Ut|0)<(Pt|0)?Ut=Pt:Ut=((Ut|0)>(Ot|0)?F0:bt)>>1,Ut=Ut+pi|0,pi=(Ut|0)<0,o){pi?Ut=0:Ut=(Ut|0)>(g0|0)?ct:Ut&65535,Kt=l0+((s0(Zt,re)|0)+1<<1)|0,be[Kt>>1]=Ut;break}else{pi?Ut=0:Ut=(Ut|0)>(g0|0)?ct:Ut&65535,be[l0+(Zt+re<<1)>>1]=Ut;break}}else{Bt=bt&65535,Ht=ui&65535,ui=bi&65535,bi=wi&65535,Ei=bi<<1,wi=pi&65535,Hi=(ui<<1)+4|0,pi=Hi+(Ht<<1)+Bt+Ei+wi>>3,bt=ui-Jt|0;do if((pi|0)<(bt|0))pi=bt&65535;else if(bt=ui+Jt|0,(pi|0)>(bt|0)){pi=bt&65535;break}else{pi=pi&65535;break}while(!1);bt=(ui+2+Ht+Bt+bi|0)>>>2,ji=Ht-Jt|0;do if((bt|0)<(ji|0))bt=ji&65535;else if(ji=Ht+Jt|0,(bt|0)>(ji|0)){bt=ji&65535;break}else{bt=bt&65535;break}while(!1);ai=ui+4+Ht+(Bt*3|0)+((ai&65535)<<1)+bi>>3,ji=Bt-Jt|0;do if((ai|0)<(ji|0))Bt=ji&65535;else if(Bt=Bt+Jt|0,(ai|0)>(Bt|0)){Bt=Bt&65535;break}else{Bt=ai&65535;break}while(!1);Ut=Ut&65535,Ht=Hi+Ht+Ei+(wi<<1)+Ut>>3,Ei=bi-Jt|0;do if((Ht|0)<(Ei|0))Ht=Ei&65535;else if(Ei=bi+Jt|0,(Ht|0)>(Ei|0)){Ht=Ei&65535;break}else{Ht=Ht&65535;break}while(!1);ui=bi+ui+wi|0,bi=(Ut+2+ui|0)>>>2,Ei=wi-Jt|0;do if((bi|0)<(Ei|0))wi=Ei&65535;else if(wi=wi+Jt|0,(bi|0)>(wi|0)){wi=wi&65535;break}else{wi=bi&65535;break}while(!1);ui=(ui+4+(Ut*3|0)+((Qt&65535)<<1)|0)>>>3,bi=Ut-Jt|0;do if((ui|0)<(bi|0))Ut=bi&65535;else if(Ut=Ut+Jt|0,(ui|0)>(Ut|0)){Ut=Ut&65535;break}else{Ut=ui&65535;break}while(!1);if(o){if(ui=s0(Zt,re)|0,Y0&&(be[l0+(ui-1<<1)>>1]=pi),at&&(be[l0+(ui<<1)>>1]=Ht),Y0&&(be[l0+(ui-2<<1)>>1]=bt),at&&(be[l0+(ui+1<<1)>>1]=wi),Y0&&(be[l0+(ui-3<<1)>>1]=Bt),!at)break;be[l0+(ui+2<<1)>>1]=Ut;break}else{if(Y0&&(be[l0+(Zt-re<<1)>>1]=pi),at&&(be[l0+(Zt<<1)>>1]=Ht),Y0&&(be[l0+(Zt-(re<<1)<<1)>>1]=bt),at&&(be[l0+(re+Zt<<1)>>1]=wi),Y0&&(be[l0+(Zt+(re*-3|0)<<1)>>1]=Bt),!at)break;be[l0+((re<<1)+Zt<<1)>>1]=Ut;break}}while(!1);if(Ut=Zt+1|0,(Ut|0)>=4)break t;Zt=Ut,bi=be[oe+(Ut<<3)>>1]|0,ui=be[oe+(Ut<<3)+2>>1]|0,bt=be[oe+(Ut<<3)+4>>1]|0,wi=be[B+(Ut<<3)>>1]|0,pi=be[B+(Ut<<3)+2>>1]|0,Ut=be[B+(Ut<<3)+4>>1]|0}}while(!1);z0=z0+C|0}while((z0|0)<(w|0))}if(h=h+te|0,(h|0)>=(ve|0)){_=145;break}}if((_|0)==11)y0(8880,6264,118,17352);else if((_|0)==14)y0(4520,6264,119,17352);else if((_|0)==17)y0(8880,6264,118,17352);else if((_|0)==20)y0(4520,6264,119,17352);else if((_|0)==24)y0(8880,6264,118,17352);else if((_|0)==27)y0(4520,6264,119,17352);else if((_|0)==42)y0(8880,6264,118,17352);else if((_|0)==45)y0(8880,6264,118,17352);else if((_|0)==51)y0(4520,6264,119,17352);else if((_|0)==54)y0(4520,6264,119,17352);else if((_|0)==145){D=y;return}}function s1(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0,z0=0,m0=0,x0=0,A0=0,M0=0,F0=0,B0=0,Y0=0,lt=0,at=0,St=0,vt=0,Zt=0,Ai=0,Jt=0,Ot=0,Pt=0,Ut=0,pi=0,bt=0,wi=0,ui=0,bi=0,Qt=0,Bt=0,Ht=0,Ei=0,ai=0,Hi=0,ji=0,Kt=0,Qr=0,Rs=0,Kc=0,co=0,er=0;if(y=D,D=D+32|0,oe=y|0,q=y+16|0,C=o?2:1,re=o?1:2,_=n+40|0,B=r[_>>2]|0,ct=r[n+5760>>2]|0,te=n+10472|0,le=r[te>>2]|0,w=(le|0)>(w|0)?w:le,le=r[n+10476>>2]|0,m=(le|0)>(m|0)?m:le,(m|0)<=(h|0)){D=y;return}le=(w|0)>(g|0),ne=n+10460|0,pe=n+4|0,ge=n+10368|0,X0=n+10372|0,tt=n+10376|0,ut=n+10360|0,D0=n+10348|0,N0=n+10352|0,ot=n+10356|0,G0=n+10340|0,Z0=n+48|0,E0=ct-8|0,S0=q+2|0,P0=q+1|0,O0=q|0,o0=q+14|0,v0=q+13|0,r0=q+12|0,He=oe+2|0,Ye=oe+1|0,Ge=oe|0,Be=oe+14|0,ze=oe+13|0,qe=oe+12|0,Te=q+3|0,Ve=oe+3|0,ue=q+15|0,ve=oe+15|0,n=n+5480|0,g0=(1<<ct)-1|0,ct=g0&255,H0=B<<1;e:for(;;){if(le){M0=h<<2,x0=(M0|0)/4|0,z0=M0-1|0,A0=g;do{St=A0<<2,er=(s0(r[te>>2]|0,x0)|0)+((St|0)/4|0)|0,er=j[(r[ne>>2]|0)+er|0]&3,F0=er&255;t:do if(er<<24>>24!=0){l0=r[pe>>2]|0,m0=(s0(r[_>>2]|0,M0)|0)+St|0,B0=0;do lt=(s0(B0,B)|0)+m0|0,Y0=B0+m0|0,o?(j[oe+(B0<<2)|0]=j[l0+lt|0]|0,j[q+(B0<<2)|0]=j[l0+(lt-1)|0]|0,j[oe+(B0<<2)+1|0]=j[l0+(lt+1)|0]|0,j[q+(B0<<2)+1|0]=j[l0+(lt-2)|0]|0,j[oe+(B0<<2)+2|0]=j[l0+(lt+2)|0]|0,j[q+(B0<<2)+2|0]=j[l0+(lt-3)|0]|0,j[oe+(B0<<2)+3|0]=j[l0+(lt+3)|0]|0,j[q+(B0<<2)+3|0]=j[l0+(lt-4)|0]|0):(j[oe+(B0<<2)|0]=j[l0+Y0|0]|0,j[q+(B0<<2)|0]=j[l0+(Y0-B)|0]|0,j[oe+(B0<<2)+1|0]=j[l0+(Y0+B)|0]|0,j[q+(B0<<2)+1|0]=j[l0+(Y0-(B<<1))|0]|0,j[oe+(B0<<2)+2|0]=j[l0+(Y0+(B<<1))|0]|0,j[q+(B0<<2)+2|0]=j[l0+(Y0+(B*-3|0))|0]|0,j[oe+(B0<<2)+3|0]=j[l0+(Y0+(B*3|0))|0]|0,j[q+(B0<<2)+3|0]=j[l0+(Y0-(B<<2))|0]|0),B0=B0+1|0;while((B0|0)<4);if(Jt=r[ge>>2]|0,vt=St>>Jt,B0=M0>>Jt,!((vt|0)>-1)){_=12;break e}if(at=r[X0>>2]|0,(vt|0)>=(at|0)){_=12;break e}if(!((B0|0)>-1)){_=15;break e}if(Zt=r[tt>>2]|0,(B0|0)>=(Zt|0)){_=15;break e}if(Ai=s0(at,B0)|0,Y0=Ai+vt|0,lt=r[ut>>2]|0,B0=j[lt+(Y0*3|0)+2|0]|0,o){if(Ot=St-1>>Jt,!((Ot|0)>-1&(Ot|0)<(at|0))){_=18;break e}Ot=Ai+Ot|0}else{if(Ot=z0>>Jt,!((Ot|0)>-1&(Ot|0)<(Zt|0))){_=21;break e}Ot=(s0(at,Ot)|0)+vt|0}if(B0=B0+1+(j[lt+(Ot*3|0)+2|0]|0)>>1,Ot=r[D0>>2]|0,Ut=St>>Ot,Ot=M0>>Ot,!((Ut|0)>-1)){_=25;break e}if(Pt=r[N0>>2]|0,(Ut|0)>=(Pt|0)){_=25;break e}if(!((Ot|0)>-1)){_=28;break e}if((Ot|0)>=(r[ot>>2]|0)){_=28;break e}if(Ot=(s0(Pt,Ot)|0)+Ut|0,Ot=r[(r[Z0>>2]|0)+(f0[(r[G0>>2]|0)+(Ot*24|0)+2>>1]<<2)>>2]|0,Pt=(r[Ot+756>>2]|0)+B0|0,(Pt|0)<0?Pt=0:Pt=(Pt|0)>51?51:Pt,Ut=We[30360+Pt|0]<<E0,F0=(F0<<1)-2+B0+(r[Ot+760>>2]|0)|0,(F0|0)<0?F0=0:F0=(F0|0)>53?53:F0,F0=We[30664+F0|0]<<E0,Bt=j[S0]|0,ai=j[P0]|0,Hi=j[O0]|0,bt=Hi&255,B0=(Bt&255)-((ai&255)<<1)+bt|0,Ot=(B0|0)<0?-B0|0:B0,B0=We[r0]|0,Pt=(We[o0]|0)-(We[v0]<<1)+B0|0,bi=(Pt|0)<0?-Pt|0:Pt,Qt=j[He]|0,Ht=j[Ye]|0,Ei=j[Ge]|0,ui=Ei&255,Pt=(Qt&255)-((Ht&255)<<1)+ui|0,Pt=(Pt|0)<0?-Pt|0:Pt,pi=We[qe]|0,wi=(We[Be]|0)-(We[ze]<<1)+pi|0,er=(wi|0)<0?-wi|0:wi,ji=Pt+Ot|0,wi=er+bi|0,Ot=bi+Ot|0,Pt=er+Pt|0,(wi+ji|0)>=(Ut|0))break;bi=Ut>>2;do if((ji<<1|0)<(bi|0)){if(ji=(We[Te]|0)-bt|0,Kt=ui-(We[Ve]|0)|0,(((Kt|0)<0?-Kt|0:Kt)+((ji|0)<0?-ji|0:ji)|0)>=(Ut>>3|0)){bt=1;break}bt=bt-ui|0,bt=(((bt|0)<0?-bt|0:bt)|0)>=((F0*5|0)+1>>1|0)}else bt=1;while(!1);do if((wi<<1|0)<(bi|0)){if(wi=(We[ue]|0)-B0|0,ui=pi-(We[ve]|0)|0,(((ui|0)<0?-ui|0:ui)+((wi|0)<0?-wi|0:wi)|0)>=(Ut>>3|0)){B0=1;break}B0=B0-pi|0,B0=(((B0|0)<0?-B0|0:B0)|0)>=((F0*5|0)+1>>1|0)}else B0=1;while(!1);if(B0=bt|B0,Ut=(Ut>>1)+Ut>>3,pi=j[n]|0,bt=pi<<24>>24!=0,o){if(vt=St-1>>Jt,bt){if(!((vt|0)>-1&(vt|0)<(at|0))){_=43;break e}St=lt+((Ai+vt|0)*3|0)|0,St=(((We[St]|We[St+1|0]<<8)<<16>>16&65535)>>>10&1^1)&255}else St=1;if(!((vt|0)>-1&(vt|0)<(at|0))){_=46;break e}at=lt+((Ai+vt|0)*3|0)|0,pi<<24>>24==0?vt=1:(vt=lt+(Y0*3|0)|0,vt=((We[vt]|We[vt+1|0]<<8)<<16>>16&1024)==0),er=lt+(Y0*3|0)|0,Y0=((We[at]|We[at+1|0]<<8)<<16>>16&2048)==0&St<<24>>24!=0,at=((We[er]|We[er+1|0]<<8)<<16>>16&2048)==0&vt}else{if(Ai=z0>>Jt,bt){if(!((Ai|0)>-1&(Ai|0)<(Zt|0))){_=52;break e}St=lt+(((s0(at,Ai)|0)+vt|0)*3|0)|0,St=((We[St]|We[St+1|0]<<8)<<16>>16&1024)==0}else St=1;if(!((Ai|0)>-1&(Ai|0)<(Zt|0))){_=55;break e}at=lt+(((s0(at,Ai)|0)+vt|0)*3|0)|0,pi<<24>>24==0?vt=1:(vt=lt+(Y0*3|0)|0,vt=((We[vt]|We[vt+1|0]<<8)<<16>>16&1024)==0),er=lt+(Y0*3|0)|0,Y0=((We[at]|We[at+1|0]<<8)<<16>>16&2048)==0&St,at=((We[er]|We[er+1|0]<<8)<<16>>16&2048)==0&vt}for(lt=F0*10|0,St=-F0|0,vt=m0-1|0,Zt=(Ot|0)>=(Ut|0)|Y0^1,bi=(Pt|0)>=(Ut|0)|at^1,pi=F0>>1,Ot=-pi|0,wi=m0|1,ui=m0+B|0,Pt=m0-2|0,Ai=m0-H0|0,Ut=m0-B|0,bt=F0<<1,Jt=0;;){co=j[q+(Jt<<2)+3|0]|0,ji=j[oe+(Jt<<2)+3|0]|0;do if(B0){if(Ei=Ei&255,ji=Hi&255,Ht=Ht&255,Hi=ai&255,ai=((Ei-ji|0)*9|0)+8+((Ht-Hi|0)*-3|0)>>4,(((ai|0)<0?-ai|0:ai)|0)>=(lt|0))break;(ai|0)<(St|0)?ai=St:ai=(ai|0)>(F0|0)?F0:ai;do if(o){if(Y0&&(Kt=ai+ji|0,(Kt|0)<0?Kt=0:Kt=(Kt|0)>(g0|0)?ct:Kt&255,er=l0+(vt+(s0(Jt,B)|0))|0,j[er]=Kt),!at)break;Kt=Ei-ai|0,(Kt|0)<0?Kt=0:Kt=(Kt|0)>(g0|0)?ct:Kt&255,er=l0+((s0(Jt,B)|0)+m0)|0,j[er]=Kt}else{if(Y0&&(Kt=ai+ji|0,(Kt|0)<0?Kt=0:Kt=(Kt|0)>(g0|0)?ct:Kt&255,j[l0+(Ut+Jt)|0]=Kt),!at)break;Kt=Ei-ai|0,(Kt|0)<0?Kt=0:Kt=(Kt|0)>(g0|0)?ct:Kt&255,j[l0+(Jt+m0)|0]=Kt}while(!1);do if(!Zt)if(Bt=ai+(((ji+1+(Bt&255)|0)>>>1)-Hi)|0,ji=Bt>>1,(ji|0)<(Ot|0)?Bt=Ot:Bt=((ji|0)>(pi|0)?F0:Bt)>>1,Hi=Bt+Hi|0,Bt=(Hi|0)<0,o){Bt?Bt=0:Bt=(Hi|0)>(g0|0)?ct:Hi&255,er=l0+(Pt+(s0(Jt,B)|0))|0,j[er]=Bt;break}else{Bt?Bt=0:Bt=(Hi|0)>(g0|0)?ct:Hi&255,j[l0+(Ai+Jt)|0]=Bt;break}while(!1);if(bi)break;if(Qt=((Ei+1+(Qt&255)|0)>>>1)-Ht-ai|0,Bt=Qt>>1,(Bt|0)<(Ot|0)?Qt=Ot:Qt=((Bt|0)>(pi|0)?F0:Qt)>>1,Bt=Qt+Ht|0,Qt=(Bt|0)<0,o){Qt?Qt=0:Qt=(Bt|0)>(g0|0)?ct:Bt&255,er=l0+(wi+(s0(Jt,B)|0))|0,j[er]=Qt;break}else{Qt?Qt=0:Qt=(Bt|0)>(g0|0)?ct:Bt&255,j[l0+(ui+Jt)|0]=Qt;break}}else{Kt=Bt&255,Qr=ai&255,ai=Hi&255,Hi=Ei&255,Rs=Hi<<1,Ei=Ht&255,Kc=(ai<<1)+4|0,Bt=Kc+(Qr<<1)+Kt+Rs+Ei>>3,Ht=ai-bt|0;do if((Bt|0)<(Ht|0))Bt=Ht&255;else if(Ht=ai+bt|0,(Bt|0)>(Ht|0)){Bt=Ht&255;break}else{Bt=Bt&255;break}while(!1);Ht=(ai+2+Qr+Kt+Hi|0)>>>2,er=Qr-bt|0;do if((Ht|0)<(er|0))Ht=er&255;else if(er=Qr+bt|0,(Ht|0)>(er|0)){Ht=er&255;break}else{Ht=Ht&255;break}while(!1);co=ai+4+Qr+(Kt*3|0)+((co&255)<<1)+Hi>>3,er=Kt-bt|0;do if((co|0)<(er|0))Kt=er&255;else if(Kt=Kt+bt|0,(co|0)>(Kt|0)){Kt=Kt&255;break}else{Kt=co&255;break}while(!1);Qt=Qt&255,Qr=Kc+Qr+Rs+(Ei<<1)+Qt>>3,Rs=Hi-bt|0;do if((Qr|0)<(Rs|0))Qr=Rs&255;else if(Rs=Hi+bt|0,(Qr|0)>(Rs|0)){Qr=Rs&255;break}else{Qr=Qr&255;break}while(!1);ai=Hi+ai+Ei|0,Hi=(Qt+2+ai|0)>>>2,Rs=Ei-bt|0;do if((Hi|0)<(Rs|0))Ei=Rs&255;else if(Ei=Ei+bt|0,(Hi|0)>(Ei|0)){Ei=Ei&255;break}else{Ei=Hi&255;break}while(!1);ai=(ai+4+(Qt*3|0)+((ji&255)<<1)|0)>>>3,Hi=Qt-bt|0;do if((ai|0)<(Hi|0))Qt=Hi&255;else if(Qt=Qt+bt|0,(ai|0)>(Qt|0)){Qt=Qt&255;break}else{Qt=ai&255;break}while(!1);if(o){if(ai=(s0(Jt,B)|0)+m0|0,Y0&&(j[l0+(ai-1)|0]=Bt),at&&(j[l0+ai|0]=Qr),Y0&&(j[l0+(ai-2)|0]=Ht),at&&(j[l0+(ai+1)|0]=Ei),Y0&&(j[l0+(ai-3)|0]=Kt),!at)break;j[l0+(ai+2)|0]=Qt;break}else{if(ai=Jt+m0|0,Y0&&(j[l0+(ai-B)|0]=Bt),at&&(j[l0+ai|0]=Qr),Y0&&(j[l0+(ai-(B<<1))|0]=Ht),at&&(j[l0+(ai+B)|0]=Ei),Y0&&(j[l0+(ai+(B*-3|0))|0]=Kt),!at)break;j[l0+(ai+(B<<1))|0]=Qt;break}}while(!1);if(Qt=Jt+1|0,(Qt|0)>=4)break t;Jt=Qt,Hi=j[q+(Qt<<2)|0]|0,ai=j[q+(Qt<<2)+1|0]|0,Bt=j[q+(Qt<<2)+2|0]|0,Ei=j[oe+(Qt<<2)|0]|0,Ht=j[oe+(Qt<<2)+1|0]|0,Qt=j[oe+(Qt<<2)+2|0]|0}}while(!1);A0=A0+C|0}while((A0|0)<(w|0))}if(h=h+re|0,(h|0)>=(m|0)){_=146;break}}if((_|0)==12)y0(8880,6264,118,17352);else if((_|0)==15)y0(4520,6264,119,17352);else if((_|0)==18)y0(8880,6264,118,17352);else if((_|0)==21)y0(4520,6264,119,17352);else if((_|0)==25)y0(8880,6264,118,17352);else if((_|0)==28)y0(4520,6264,119,17352);else if((_|0)==43)y0(8880,6264,118,17352);else if((_|0)==46)y0(8880,6264,118,17352);else if((_|0)==52)y0(4520,6264,119,17352);else if((_|0)==55)y0(4520,6264,119,17352);else if((_|0)==146){D=y;return}}function ys(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0,z0=0,m0=0,x0=0,A0=0,M0=0,F0=0,B0=0,Y0=0,lt=0,at=0,St=0,vt=0;if(y=D,D=D+32|0,ne=y|0,B=y+16|0,_=r[n+5780>>2]|0,C=r[n+5784>>2]|0,q=s0(_,o?2:1)|0,le=s0(C,o?1:2)|0,re=n+44|0,te=r[re>>2]|0,oe=r[n+10472>>2]|0,w=(oe|0)>(w|0)?w:oe,pe=r[n+10476>>2]|0,He=(pe|0)>(m|0)?m:pe,ve=r[n+5768>>2]|0,(He|0)<=(h|0)){D=y;return}O0=(w|0)>(g|0),E0=3-_|0,S0=3-C|0,P0=n+10460|0,o0=n+5952|0,v0=n+5956|0,pe=n+10368|0,ue=n+10372|0,Z0=n+10376|0,ge=n+10360|0,Te=n+5776|0,Ve=n+10348|0,qe=n+10352|0,Be=n+10356|0,m=n+10340|0,ze=n+48|0,Ye=n+5480|0,Ge=(1<<ve)-1|0,r0=Ge&65535;e:for(;;){if(O0){tt=h<<S0,D0=s0(tt,C)|0,H0=(D0|0)/4|0,X0=D0-1|0,ct=r[P0>>2]|0,ut=g;do{if(N0=ut<<E0,G0=s0(N0,_)|0,g0=ct+((s0(oe,H0)|0)+((G0|0)/4|0))|0,g0=j[g0]&3,(g0&255)>>>0>1){ot=G0-1|0,g0=((g0&255)<<1)-2|0,l0=0;do{for(m0=r[((l0|0)==0?o0:v0)>>2]|0,l0=l0+1|0,z0=(r[n+4+(l0<<2)>>2]|0)+((s0(r[re>>2]|0,tt)|0)+N0<<1)|0,B0=0;x0=~B0,M0=s0(B0,te)|0,F0=B0+1|0,A0=s0(F0,te)|0,o?(be[B+(B0<<3)>>1]=be[z0+(B0<<1)>>1]|0,be[ne+(B0<<3)>>1]=be[z0+(x0<<1)>>1]|0,be[B+(B0<<3)+2>>1]=be[z0+(te+B0<<1)>>1]|0,be[ne+(B0<<3)+2>>1]=be[z0+(te+x0<<1)>>1]|0,vt=te<<1,be[B+(B0<<3)+4>>1]=be[z0+(vt+B0<<1)>>1]|0,be[ne+(B0<<3)+4>>1]=be[z0+(vt+x0<<1)>>1]|0,vt=te*3|0,be[B+(B0<<3)+6>>1]=be[z0+(vt+B0<<1)>>1]|0,be[ne+(B0<<3)+6>>1]=be[z0+(vt+x0<<1)>>1]|0):(be[B+(B0<<3)>>1]=be[z0+(M0<<1)>>1]|0,be[ne+(B0<<3)>>1]=be[z0+(-A0<<1)>>1]|0,be[B+(B0<<3)+2>>1]=be[z0+(M0+1<<1)>>1]|0,be[ne+(B0<<3)+2>>1]=be[z0+(1-A0<<1)>>1]|0,be[B+(B0<<3)+4>>1]=be[z0+(M0+2<<1)>>1]|0,be[ne+(B0<<3)+4>>1]=be[z0+(2-A0<<1)>>1]|0,be[B+(B0<<3)+6>>1]=be[z0+(M0+3<<1)>>1]|0,be[ne+(B0<<3)+6>>1]=be[z0+(3-A0<<1)>>1]|0),(F0|0)<2;)B0=F0;if(lt=r[pe>>2]|0,F0=G0>>lt,x0=D0>>lt,!((F0|0)>-1)){o=14;break e}if(M0=r[ue>>2]|0,(F0|0)>=(M0|0)){o=14;break e}if(!((x0|0)>-1)){o=17;break e}if(B0=r[Z0>>2]|0,(x0|0)>=(B0|0)){o=17;break e}if(Y0=s0(M0,x0)|0,x0=Y0+F0|0,A0=r[ge>>2]|0,at=j[A0+(x0*3|0)+2|0]|0,o){if(St=ot>>lt,!((St|0)>-1&(St|0)<(M0|0))){o=20;break e}St=Y0+St|0}else{if(St=X0>>lt,!((St|0)>-1&(St|0)<(B0|0))){o=23;break e}St=(s0(M0,St)|0)+F0|0}vt=(at+1+(j[A0+(St*3|0)+2|0]|0)>>1)+m0|0;do if((r[Te>>2]|0)==1){if((vt|0)<30)break;if((vt|0)>42){vt=vt-6|0;break}else{vt=r[8+(vt-30<<2)>>2]|0;break}}else vt=(vt|0)<51?vt:51;while(!1);if(m0=r[Ve>>2]|0,at=G0>>m0,m0=D0>>m0,!((at|0)>-1)){o=33;break e}if(St=r[qe>>2]|0,(at|0)>=(St|0)){o=33;break e}if(!((m0|0)>-1)){o=36;break e}if((m0|0)>=(r[Be>>2]|0)){o=36;break e}if(m0=(s0(St,m0)|0)+at|0,m0=g0+vt+(r[(r[(r[ze>>2]|0)+(f0[(r[m>>2]|0)+(m0*24|0)+2>>1]<<2)>>2]|0)+760>>2]|0)|0,(m0|0)<0?m0=0:m0=(m0|0)>53?53:m0,m0=We[30664+m0|0]<<ve-8,at=(j[Ye]|0)==0,o){if(B0=ot>>lt,at)F0=1;else{if(!((B0|0)>-1&(B0|0)<(M0|0))){o=42;break e}F0=A0+((Y0+B0|0)*3|0)|0,F0=((We[F0]|We[F0+1|0]<<8)<<16>>16&1024)==0}if(!((B0|0)>-1&(B0|0)<(M0|0))){o=45;break e}M0=A0+((Y0+B0|0)*3|0)|0,M0=((We[M0]|We[M0+1|0]<<8)<<16>>16&2048)==0&F0,at?F0=1:(F0=A0+(x0*3|0)|0,F0=((We[F0]|We[F0+1|0]<<8)<<16>>16&1024)==0),A0=A0+(x0*3|0)|0,F0=((We[A0]|We[A0+1|0]<<8)<<16>>16&2048)==0&F0,A0=-m0|0,x0=0;do B0=f0[B+(x0<<1)>>1]|0,lt=f0[ne+(x0<<1)>>1]|0,Y0=(f0[ne+8+(x0<<1)>>1]|0)+4+(B0-lt<<2)-(f0[B+8+(x0<<1)>>1]|0)>>3,(Y0|0)<(A0|0)?Y0=A0:Y0=(Y0|0)>(m0|0)?m0:Y0,M0&&(lt=lt+Y0|0,(lt|0)<0?lt=0:lt=(lt|0)>(Ge|0)?r0:lt&65535,vt=z0+((s0(x0,te)|0)-1<<1)|0,be[vt>>1]=lt),F0&&(B0=B0-Y0|0,(B0|0)<0?B0=0:B0=(B0|0)>(Ge|0)?r0:B0&65535,vt=z0+((s0(x0,te)|0)<<1)|0,be[vt>>1]=B0),x0=x0+1|0;while((x0|0)<4)}else{if(Y0=X0>>lt,at)lt=1;else{if(!((Y0|0)>-1&(Y0|0)<(B0|0))){o=62;break e}lt=A0+(((s0(M0,Y0)|0)+F0|0)*3|0)|0,lt=((We[lt]|We[lt+1|0]<<8)<<16>>16&1024)==0}if(!((Y0|0)>-1&(Y0|0)<(B0|0))){o=65;break e}M0=A0+(((s0(M0,Y0)|0)+F0|0)*3|0)|0,M0=((We[M0]|We[M0+1|0]<<8)<<16>>16&2048)==0&lt,at?F0=1:(F0=A0+(x0*3|0)|0,F0=((We[F0]|We[F0+1|0]<<8)<<16>>16&1024)==0),A0=A0+(x0*3|0)|0,F0=((We[A0]|We[A0+1|0]<<8)<<16>>16&2048)==0&F0,A0=-m0|0,x0=0;do B0=f0[B+(x0<<1)>>1]|0,lt=f0[ne+(x0<<1)>>1]|0,Y0=(f0[ne+8+(x0<<1)>>1]|0)+4+(B0-lt<<2)-(f0[B+8+(x0<<1)>>1]|0)>>3,(Y0|0)<(A0|0)?Y0=A0:Y0=(Y0|0)>(m0|0)?m0:Y0,M0&&(lt=lt+Y0|0,(lt|0)<0?lt=0:lt=(lt|0)>(Ge|0)?r0:lt&65535,be[z0+(x0-te<<1)>>1]=lt),F0&&(B0=B0-Y0|0,(B0|0)<0?B0=0:B0=(B0|0)>(Ge|0)?r0:B0&65535,be[z0+(x0<<1)>>1]=B0),x0=x0+1|0;while((x0|0)<4)}}while((l0|0)<2)}ut=ut+q|0}while((ut|0)<(w|0))}if(h=h+le|0,(h|0)>=(He|0)){o=82;break}}if((o|0)==14)y0(8880,6264,118,17352);else if((o|0)==17)y0(4520,6264,119,17352);else if((o|0)==20)y0(8880,6264,118,17352);else if((o|0)==23)y0(4520,6264,119,17352);else if((o|0)==33)y0(8880,6264,118,17352);else if((o|0)==36)y0(4520,6264,119,17352);else if((o|0)==42)y0(8880,6264,118,17352);else if((o|0)==45)y0(8880,6264,118,17352);else if((o|0)==62)y0(4520,6264,119,17352);else if((o|0)==65)y0(4520,6264,119,17352);else if((o|0)==82){D=y;return}}function n1(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0,z0=0,m0=0,x0=0,A0=0,M0=0,F0=0,B0=0,Y0=0,lt=0,at=0,St=0,vt=0;if(y=D,D=D+16|0,ne=y|0,le=y+8|0,q=r[n+5780>>2]|0,C=r[n+5784>>2]|0,B=s0(q,o?2:1)|0,oe=s0(C,o?1:2)|0,te=n+44|0,_=r[te>>2]|0,re=n+10472|0,pe=r[re>>2]|0,pe=(pe|0)>(w|0)?w:pe,w=r[n+10476>>2]|0,w=(w|0)>(m|0)?m:w,m=n+5768|0,(w|0)<=(h|0)){D=y;return}ve=(pe|0)>(g|0),S0=3-q|0,O0=3-C|0,P0=n+10460|0,v0=n+5952|0,E0=n+5956|0,ue=n+10368|0,Z0=n+10372|0,ge=n+10376|0,Te=n+10360|0,Ve=n+5776|0,qe=n+10348|0,Be=n+10352|0,ze=n+10356|0,Ye=n+10340|0,He=n+48|0,Ge=n+5480|0,r0=(1<<r[m>>2])-1|0,o0=r0&255;e:for(;;){if(ve){ct=h<<O0,X0=s0(ct,C)|0,D0=(X0|0)/4|0,ut=X0-1|0,tt=g;do{if(N0=tt<<S0,G0=s0(N0,q)|0,H0=(s0(r[re>>2]|0,D0)|0)+((G0|0)/4|0)|0,H0=j[(r[P0>>2]|0)+H0|0]&3,(H0&255)>>>0>1){ot=G0-1|0,H0=((H0&255)<<1)-2|0,g0=0;do{for(m0=r[((g0|0)==0?v0:E0)>>2]|0,g0=g0+1|0,l0=r[n+4+(g0<<2)>>2]|0,z0=(s0(r[te>>2]|0,ct)|0)+N0|0,F0=0;x0=F0+z0|0,B0=z0+~F0|0,M0=(s0(F0,_)|0)+z0|0,Y0=F0+1|0,A0=z0-(s0(Y0,_)|0)|0,o?(j[le+(F0<<2)|0]=j[l0+x0|0]|0,j[ne+(F0<<2)|0]=j[l0+B0|0]|0,j[le+(F0<<2)+1|0]=j[l0+(x0+_)|0]|0,j[ne+(F0<<2)+1|0]=j[l0+(B0+_)|0]|0,vt=_<<1,j[le+(F0<<2)+2|0]=j[l0+(x0+vt)|0]|0,j[ne+(F0<<2)+2|0]=j[l0+(B0+vt)|0]|0,vt=_*3|0,j[le+(F0<<2)+3|0]=j[l0+(x0+vt)|0]|0,j[ne+(F0<<2)+3|0]=j[l0+(B0+vt)|0]|0):(j[le+(F0<<2)|0]=j[l0+M0|0]|0,j[ne+(F0<<2)|0]=j[l0+A0|0]|0,j[le+(F0<<2)+1|0]=j[l0+(M0+1)|0]|0,j[ne+(F0<<2)+1|0]=j[l0+(A0+1)|0]|0,j[le+(F0<<2)+2|0]=j[l0+(M0+2)|0]|0,j[ne+(F0<<2)+2|0]=j[l0+(A0+2)|0]|0,j[le+(F0<<2)+3|0]=j[l0+(M0+3)|0]|0,j[ne+(F0<<2)+3|0]=j[l0+(A0+3)|0]|0),(Y0|0)<2;)F0=Y0;if(lt=r[ue>>2]|0,B0=G0>>lt,x0=X0>>lt,!((B0|0)>-1)){_=14;break e}if(M0=r[Z0>>2]|0,(B0|0)>=(M0|0)){_=14;break e}if(!((x0|0)>-1)){_=17;break e}if(F0=r[ge>>2]|0,(x0|0)>=(F0|0)){_=17;break e}if(Y0=s0(M0,x0)|0,x0=Y0+B0|0,A0=r[Te>>2]|0,at=j[A0+(x0*3|0)+2|0]|0,o){if(St=ot>>lt,!((St|0)>-1&(St|0)<(M0|0))){_=20;break e}St=Y0+St|0}else{if(St=ut>>lt,!((St|0)>-1&(St|0)<(F0|0))){_=23;break e}St=(s0(M0,St)|0)+B0|0}m0=(at+1+(j[A0+(St*3|0)+2|0]|0)>>1)+m0|0;do if((r[Ve>>2]|0)==1){if((m0|0)<30)break;if((m0|0)>42){m0=m0-6|0;break}else{m0=r[8+(m0-30<<2)>>2]|0;break}}else m0=(m0|0)<51?m0:51;while(!1);if(St=r[qe>>2]|0,vt=G0>>St,St=X0>>St,!((vt|0)>-1)){_=33;break e}if(at=r[Be>>2]|0,(vt|0)>=(at|0)){_=33;break e}if(!((St|0)>-1)){_=36;break e}if((St|0)>=(r[ze>>2]|0)){_=36;break e}if(vt=(s0(at,St)|0)+vt|0,m0=H0+m0+(r[(r[(r[He>>2]|0)+(f0[(r[Ye>>2]|0)+(vt*24|0)+2>>1]<<2)>>2]|0)+760>>2]|0)|0,(m0|0)<0?m0=0:m0=(m0|0)>53?53:m0,m0=We[30664+m0|0]<<(r[m>>2]|0)-8,at=(j[Ge]|0)==0,o){if(B0=ot>>lt,at)F0=1;else{if(!((B0|0)>-1&(B0|0)<(M0|0))){_=42;break e}F0=A0+((Y0+B0|0)*3|0)|0,F0=((We[F0]|We[F0+1|0]<<8)<<16>>16&1024)==0}if(!((B0|0)>-1&(B0|0)<(M0|0))){_=45;break e}M0=A0+((Y0+B0|0)*3|0)|0,M0=((We[M0]|We[M0+1|0]<<8)<<16>>16&2048)==0&F0,at?F0=1:(F0=A0+(x0*3|0)|0,F0=((We[F0]|We[F0+1|0]<<8)<<16>>16&1024)==0),x0=A0+(x0*3|0)|0,x0=((We[x0]|We[x0+1|0]<<8)<<16>>16&2048)==0&F0,F0=-m0|0,B0=z0-1|0,A0=0;do Y0=We[le+A0|0]|0,at=We[ne+A0|0]|0,lt=(We[ne+4+A0|0]|0)+4+(Y0-at<<2)-(We[le+4+A0|0]|0)>>3,(lt|0)<(F0|0)?lt=F0:lt=(lt|0)>(m0|0)?m0:lt,M0&&(at=at+lt|0,(at|0)<0?at=0:at=(at|0)>(r0|0)?o0:at&255,vt=l0+(B0+(s0(A0,_)|0))|0,j[vt]=at),x0&&(Y0=Y0-lt|0,(Y0|0)<0?Y0=0:Y0=(Y0|0)>(r0|0)?o0:Y0&255,vt=l0+((s0(A0,_)|0)+z0)|0,j[vt]=Y0),A0=A0+1|0;while((A0|0)<4)}else{if(lt=ut>>lt,at)Y0=1;else{if(!((lt|0)>-1&(lt|0)<(F0|0))){_=62;break e}Y0=A0+(((s0(M0,lt)|0)+B0|0)*3|0)|0,Y0=((We[Y0]|We[Y0+1|0]<<8)<<16>>16&1024)==0}if(!((lt|0)>-1&(lt|0)<(F0|0))){_=65;break e}M0=A0+(((s0(M0,lt)|0)+B0|0)*3|0)|0,M0=((We[M0]|We[M0+1|0]<<8)<<16>>16&2048)==0&Y0,at?F0=1:(F0=A0+(x0*3|0)|0,F0=((We[F0]|We[F0+1|0]<<8)<<16>>16&1024)==0),B0=A0+(x0*3|0)|0,B0=((We[B0]|We[B0+1|0]<<8)<<16>>16&2048)==0&F0,x0=-m0|0,F0=z0-_|0,A0=0;do Y0=We[le+A0|0]|0,at=We[ne+A0|0]|0,lt=(We[ne+4+A0|0]|0)+4+(Y0-at<<2)-(We[le+4+A0|0]|0)>>3,(lt|0)<(x0|0)?lt=x0:lt=(lt|0)>(m0|0)?m0:lt,M0&&(at=at+lt|0,(at|0)<0?at=0:at=(at|0)>(r0|0)?o0:at&255,j[l0+(F0+A0)|0]=at),B0&&(Y0=Y0-lt|0,(Y0|0)<0?Y0=0:Y0=(Y0|0)>(r0|0)?o0:Y0&255,j[l0+(A0+z0)|0]=Y0),A0=A0+1|0;while((A0|0)<4)}}while((g0|0)<2)}tt=tt+B|0}while((tt|0)<(pe|0))}if(h=h+oe|0,(h|0)>=(w|0)){_=82;break}}if((_|0)==14)y0(8880,6264,118,17352);else if((_|0)==17)y0(4520,6264,119,17352);else if((_|0)==20)y0(8880,6264,118,17352);else if((_|0)==23)y0(4520,6264,119,17352);else if((_|0)==33)y0(8880,6264,118,17352);else if((_|0)==36)y0(4520,6264,119,17352);else if((_|0)==42)y0(8880,6264,118,17352);else if((_|0)==45)y0(8880,6264,118,17352);else if((_|0)==62)y0(4520,6264,119,17352);else if((_|0)==65)y0(4520,6264,119,17352);else if((_|0)==82){D=y;return}}function Yo(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0;h=n|0,g=n+4|0,r[g>>2]=1,o=n+8|0,Ll(r[o>>2]|0),oe=r[o>>2]|0,y=r[oe+10472>>2]|0,_=(r[oe+5812>>2]|0)/4|0,m=n+12|0,re=r[m>>2]|0,w=s0(re,_)|0,le=re+1|0,_=s0(le,_)|0,C=r[oe+10476>>2]|0,C=(_|0)>(C|0)?C:_,q=n+16|0,ne=(j[q]|0)!=0,_=ne?2:3,B=r[oe+5820>>2]|0,n=B-1|0;do if(ne)re=(r[oe+5828>>2]|0)-1|0,Xs(oe,h,n,(re|0)<(le|0)?re:le,1);else{if((re|0)>0&&(Xs(oe,h,n,re-1|0,2),oe=r[o>>2]|0,re=r[m>>2]|0),Xs(oe,h,n,re,2),oe=(r[m>>2]|0)+1|0,re=r[o>>2]|0,(oe|0)>=(r[re+5828>>2]|0))break;Xs(re,h,n,oe,2)}while(!1);re=r[o>>2]|0,oe=r[m>>2]|0;do if((j[q]|0)==0)ne=s0(r[re+10352>>2]|0,oe)|0,(j[(r[re+10340>>2]|0)+(ne*24|0)+21|0]|0)!=0&&(oe=0,te=11);else{if(ne=cl(re,oe)|0,re=r[o>>2]|0,le=s0(r[re+10352>>2]|0,r[m>>2]|0)|0,j[(r[re+10340>>2]|0)+(le*24|0)+21|0]=ne&1,!ne)break;oe=(j[q]|0)!=0,te=11}while(!1);do if((te|0)==11){if(Ko(re,oe,w,C,0,y),re=r[o>>2]|0,te=(j[q]|0)!=0,(r[re+5760>>2]|0)>8?qo(re,te,w,C,0,y):s1(re,te,w,C,0,y),te=r[o>>2]|0,(r[te+5776>>2]|0)==0)break;if(q=(j[q]|0)!=0,(r[te+5768>>2]|0)>8){ys(te,q,w,C,0,y);break}else{n1(te,q,w,C,0,y);break}}while(!1);if((B|0)<1){r[g>>2]=3,ne=r[o>>2]|0,Bn(ne);return}else w=0;for(;le=r[o>>2]|0,ne=(s0(r[m>>2]|0,r[le+5820>>2]|0)|0)+w|0,Zr((r[le+10524>>2]|0)+(ne*76|0)|0,_),!((w|0)>=(n|0));)w=w+1|0;r[g>>2]=3,ne=r[o>>2]|0,Bn(ne)}function Jo(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;if(o=D,D=D+8|0,m=o|0,g=r[n>>2]|0,y=r[g+10332>>2]|0,h=g+5828|0,d2(g,r[h>>2]<<1),_=n+10668|0,w=n+10672|0,y=y+375396|0,n=n+10664|0,(r[h>>2]|0)>0)C=0;else{D=o;return}do B=It(20)|0,r[B+4>>2]=0,r[B>>2]=22184,r[B+8>>2]=g,r[B+12>>2]=C,j[B+16|0]=1,r[m>>2]=B,q=r[_>>2]|0,q>>>0<(r[w>>2]|0)>>>0?((q|0)==0?q=0:(r[q>>2]=B,q=r[_>>2]|0),r[_>>2]=q+4):mn(n,m),cn(y,B),C=C+1|0,B=r[h>>2]|0;while((C|0)<(B|0));if((B|0)>0)C=0;else{D=o;return}do B=It(20)|0,r[B+4>>2]=0,r[B>>2]=22184,r[B+8>>2]=g,r[B+12>>2]=C,j[B+16|0]=0,r[m>>2]=B,q=r[_>>2]|0,q>>>0<(r[w>>2]|0)>>>0?((q|0)==0?q=0:(r[q>>2]=B,q=r[_>>2]|0),r[_>>2]=q+4):mn(n,m),cn(y,B),C=C+1|0;while((C|0)<(r[h>>2]|0));D=o}function Q1(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0;if(o=n+5828|0,(r[o>>2]|0)>0)m=0,h=0;else return;do m=m|(cl(n,h)|0),h=h+1|0;while((h|0)<(r[o>>2]|0));if(m){h=n+10476|0,o=n+10472|0,Ko(n,1,0,r[h>>2]|0,0,r[o>>2]|0),w=r[h>>2]|0,g=r[o>>2]|0,m=n+5760|0,(r[m>>2]|0)>8?qo(n,1,0,w,0,g):s1(n,1,0,w,0,g),g=n+5776|0;do if((r[g>>2]|0)!=0)if(w=r[h>>2]|0,y=r[o>>2]|0,(r[n+5768>>2]|0)>8){ys(n,1,0,w,0,y);break}else{n1(n,1,0,w,0,y);break}while(!1);if(Ko(n,0,0,r[h>>2]|0,0,r[o>>2]|0),w=r[h>>2]|0,y=r[o>>2]|0,(r[m>>2]|0)>8?qo(n,0,0,w,0,y):s1(n,0,0,w,0,y),(r[g>>2]|0)!=0)if(h=r[h>>2]|0,o=r[o>>2]|0,(r[n+5768>>2]|0)>8){ys(n,0,0,h,0,o);return}else{n1(n,0,0,h,0,o);return}}}function pn(n){}function a1(n){n=n|0,$0(n)}function hl(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0;if(m=D,D=D+104|0,h=m|0,nn(h|0,1888,(g=D,D=D+8|0,r[g>>2]=r[o+12>>2],g|0))|0,D=g,o=Er(h|0)|0,o>>>0>4294967279&&Ar(0),o>>>0<11){j[n]=o<<1,g=n+1|0,Tt(g|0,h|0,o)|0,g=g+o|0,j[g]=0,D=m;return}else{w=o+16&-16,g=It(w)|0,r[n+8>>2]=g,r[n>>2]=w|1,r[n+4>>2]=o,Tt(g|0,h|0,o)|0,g=g+o|0,j[g]=0,D=m;return}}function mn(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;g=n+4|0,h=n|0,y=r[h>>2]|0,B=y,w=(r[g>>2]|0)-B|0,_=w>>2,m=_+1|0,m>>>0>1073741823&&qi(0),n=n+8|0,B=(r[n>>2]|0)-B|0,B>>2>>>0<536870911?(B=B>>1,q=B>>>0<m>>>0?m:B,(q|0)==0?(B=0,q=0):C=5):(q=1073741823,C=5),(C|0)==5&&(B=It(q<<2)|0),_=B+(_<<2)|0,(_|0)!=0&&(r[_>>2]=r[o>>2]),o=y,Tt(B|0,o|0,w)|0,r[h>>2]=B,r[g>>2]=B+(m<<2),r[n>>2]=B+(q<<2),(y|0)!=0&&$0(o)}function dl(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0;if(h=n+132|0,(r[h>>2]|0)!=0&&y0(1960,14344,169,17808),m=Lt(o|0,18624)|0,_=Mt,m=m2(m|0,16)|0,m=Qi(_|Mt?-1:m)|0,r[m+12>>2]=o,m=m+16|0,(o|0)==0){r[h>>2]=m,_=n+136|0,r[_>>2]=o;return}w=m+(o*18624|0)|0,g=m;do qs(g+18580|0),y=g+48|0,_=y&15,V0(g+18508|0,0,20)|0,V0(g+18592|0,0,20)|0,(_|0)==0||(y=y+(16-_)|0),r[g+2112>>2]=y,V0(y|0,0,2048)|0,g=g+18624|0;while((g|0)!=(w|0));r[h>>2]=m,_=n+136|0,r[_>>2]=o}function Qo(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0;if(o=n+10636|0,g=r[o>>2]|0,h=n+10632|0,w=r[h>>2]|0,(g|0)!=(w|0))for(m=0,y=g;;){if(g=r[w+(m<<2)>>2]|0,(g|0)==0)g=y;else{if(jr((r[g+140>>2]|0)+548|0,r[g>>2]|0),w=r[g+132>>2]|0,(w|0)!=0){if(_=w-18624+18608|0,y=_,_=r[_+12>>2]|0,(_|0)!=0)for(C=w+(_*18624|0)|0;_=C-18624|0,ts(C-18624+18580|0),(_|0)!=(w|0);)C=_;Xi(y)}$0(g),g=r[o>>2]|0,w=r[h>>2]|0}if(m=m+1|0,m>>>0<g-w>>2>>>0)y=g;else break}if(m=n+10668|0,_=r[m>>2]|0,g=n+10664|0,y=r[g>>2]|0,(_|0)==(y|0))y=_;else{w=0;do C=r[y+(w<<2)>>2]|0,(C|0)!=0&&(Rr[r[(r[C>>2]|0)+4>>2]&511](C),_=r[m>>2]|0,y=r[g>>2]|0),w=w+1|0;while(w>>>0<_-y>>2>>>0)}if(_=n+10676|0,w=r[_>>2]|0,(w|0)!=0){if(y=n+10680|0,C=r[y>>2]|0,(C|0)!=(w|0)){do B=C-8|0,r[y>>2]=B,ts(B),C=r[y>>2]|0;while((C|0)!=(w|0));w=r[_>>2]|0}$0(w),y=r[g>>2]|0}if((y|0)!=0&&(g=r[m>>2]|0,(g|0)!=(y|0)&&(r[m>>2]=g+(~((g-4+(-y|0)|0)>>>2)<<2)),$0(y)),m=r[n+10644>>2]|0,(m|0)!=0&&(g=n+10648|0,w=r[g>>2]|0,(w|0)!=(m|0)&&(r[g>>2]=w+(~(((w-80+(-m|0)|0)>>>0)/80|0)*80|0)),$0(m)),h=r[h>>2]|0,(h|0)==0){B=n+8|0,p2(B);return}m=r[o>>2]|0,(m|0)!=(h|0)&&(r[o>>2]=m+(~((m-4+(-h|0)|0)>>>2)<<2)),$0(h),B=n+8|0,p2(B)}function vu(n,o){n=n|0,yh(n+172|0)}function fl(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0;r[n+84>>2]=0,r[n+168>>2]=0,o=n|0,r[o>>2]=22344,yh(n+172|0),r[o>>2]=22312,lh(n+548|0),r[n+1192>>2]=0,r[n+1196>>2]=0,r[n+1200>>2]=0,V0(n+1228|0,0,24)|0,r[n+1848>>2]=0,r[n+1852>>2]=0,r[n+1856>>2]=0,V0(n+1884|0,0,24)|0,r[n+2504>>2]=0,r[n+2508>>2]=0,r[n+2512>>2]=0,V0(n+2540|0,0,24)|0,r[n+3160>>2]=0,r[n+3164>>2]=0,r[n+3168>>2]=0,V0(n+3196|0,0,24)|0,r[n+3816>>2]=0,r[n+3820>>2]=0,r[n+3824>>2]=0,V0(n+3852|0,0,24)|0,r[n+4472>>2]=0,r[n+4476>>2]=0,r[n+4480>>2]=0,V0(n+4508|0,0,24)|0,r[n+5128>>2]=0,r[n+5132>>2]=0,r[n+5136>>2]=0,V0(n+5164|0,0,24)|0,r[n+5784>>2]=0,r[n+5788>>2]=0,r[n+5792>>2]=0,V0(n+5820|0,0,24)|0,r[n+6440>>2]=0,r[n+6444>>2]=0,r[n+6448>>2]=0,V0(n+6476|0,0,24)|0,r[n+7096>>2]=0,r[n+7100>>2]=0,r[n+7104>>2]=0,V0(n+7132|0,0,24)|0,r[n+7752>>2]=0,r[n+7756>>2]=0,r[n+7760>>2]=0,V0(n+7788|0,0,24)|0,r[n+8408>>2]=0,r[n+8412>>2]=0,r[n+8416>>2]=0,V0(n+8444|0,0,24)|0,r[n+9064>>2]=0,r[n+9068>>2]=0,r[n+9072>>2]=0,V0(n+9100|0,0,24)|0,r[n+9720>>2]=0,r[n+9724>>2]=0,r[n+9728>>2]=0,V0(n+9756|0,0,24)|0,r[n+10376>>2]=0,r[n+10380>>2]=0,r[n+10384>>2]=0,V0(n+10412|0,0,24)|0,r[n+11032>>2]=0,r[n+11036>>2]=0,r[n+11040>>2]=0,V0(n+11068|0,0,24)|0,o=n+93784|0,h=n+11096|0;do R1(h),h=h+5168|0;while((h|0)!=(o|0));h=n+375384|0,o=n+93784|0;do X1(o),o=o+4400|0;while((o|0)!=(h|0));for(V0(n+375400|0,0,24)|0,vh(n+376144|0),r[n+377212>>2]=0,r[n+377216>>2]=0,r[n+377220>>2]=0,j[n+512|0]=0,j[n+513|0]=1,j[n+514|0]=0,j[n+532|0]=0,j[n+533|0]=0,h=n+536|0,V0(n+516|0,-1,16)|0,C=27248,_=r[C+4>>2]|0,r[h>>2]=r[C>>2],r[h+4>>2]=_,r[n+544>>2]=0,r[n+375384>>2]=0,r[n+375388>>2]=0,r[n+375392>>2]=0,r[n+375888>>2]=0,h=n+375892|0,r[h>>2]=6,r[n+375896>>2]=100,r[n+375900>>2]=6,r[n+375908>>2]=6,r[n+375904>>2]=100,_=6;;){o=_*100|0,m=(o|0)/7|0,o=(o+100|0)/7|0;e:do if((m|0)<=(o|0))for(g=o-m|0,w=m;;){if(C=r[h>>2]|0,y=(_|0)>(C|0),_=y?C:_,j[n+375912+(w<<1)|0]=_,j[n+375912+(w<<1)+1|0]=y?100:(((w-m|0)*100|0|0)/(g|0)|0)&255,(w|0)>=(o|0))break e;w=w+1|0}while(!1);if(r[n+376116+(_<<2)>>2]=o,(_|0)>0)_=_-1|0;else break}C=n+376200|0,V0(C|0,0,24)|0,j[n+376204|0]=1,r[C>>2]=-1}function rs(n){n=n|0,Xo(n),$0(n)}function Xo(n){n=n|0;var o=0,h=0,m=0,g=0,w=0;if(r[n>>2]=22312,o=n+377212|0,g=r[o>>2]|0,h=n+377216|0,m=r[h>>2]|0,(g|0)!=(m|0))do w=r[m-4>>2]|0,(w|0)!=0&&(Qo(w),$0(w),m=r[h>>2]|0,g=r[o>>2]|0),w=m-4|0,m=m+(~((w+(-w|0)|0)>>>2)<<2)|0,r[h>>2]=m;while((g|0)!=(m|0));(g|0)!=0&&$0(g),wh(n+376144|0),o=n+375400|0,Ef(o|0),m=n+375404|0,w=r[m>>2]|0,h=n+375408|0,g=r[h>>2]|0;do if((w|0)!=(g|0)){do $0(r[w>>2]|0),w=w+4|0;while((w|0)!=(g|0));if(g=r[m>>2]|0,m=r[h>>2]|0,(m|0)==(g|0))break;r[h>>2]=m+(~((m-4+(-g|0)|0)>>>2)<<2)}while(!1);o=r[o>>2]|0,(o|0)!=0&&$0(o),o=n+93784|0,h=n+375384|0;do h=h-4400|0,zi(h);while((h|0)!=(o|0));ur(n+88616|0),ur(n+83448|0),ur(n+78280|0),ur(n+73112|0),ur(n+67944|0),ur(n+62776|0),ur(n+57608|0),ur(n+52440|0),ur(n+47272|0),ur(n+42104|0),ur(n+36936|0),ur(n+31768|0),ur(n+26600|0),ur(n+21432|0),ur(n+16264|0),ur(n+11096|0),$r(n+10440|0),$r(n+9784|0),$r(n+9128|0),$r(n+8472|0),$r(n+7816|0),$r(n+7160|0),$r(n+6504|0),$r(n+5848|0),$r(n+5192|0),$r(n+4536|0),$r(n+3880|0),$r(n+3224|0),$r(n+2568|0),$r(n+1912|0),$r(n+1256|0),$r(n+600|0),uh(n+548|0)}function pl(n){n=n|0,!((r[n+375888>>2]|0)<=0)&&yo(n+375396|0)}function wu(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0;if(o=n+375888|0,(r[o>>2]|0)>0&&yo(n+375396|0),r[n+376220>>2]=0,r[n+376200>>2]=-1,j[n+376204|0]=1,Zp(n+376144|0),Jd(n+548|0),m=n+377212|0,w=r[m>>2]|0,h=n+377216|0,g=r[h>>2]|0,(w|0)!=(g|0))do y=r[g-4>>2]|0,(y|0)!=0&&(Qo(y),$0(y),g=r[h>>2]|0,w=r[m>>2]|0),y=g-4|0,g=g+(~((y+(-y|0)|0)>>>2)<<2)|0,r[h>>2]=g;while((w|0)!=(g|0));h=r[o>>2]|0,!((h|0)<=0)&&(ls(n+375396|0,h)|0,r[o>>2]=h)}function o1(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0;V0(o+48|0,0,2064)|0,r[o+18532>>2]=-1,r[o+18536>>2]=-1,n=r[o+18596>>2]|0,h=r[(r[o+18600>>2]|0)+16>>2]|0,!((h|0)<=0)&&(w=r[(r[n+10284>>2]|0)+((r[(r[n+10272>>2]|0)+(h<<2)>>2]|0)-1<<2)>>2]|0,h=r[n+5820>>2]|0,m=r[n+5804>>2]|0,y=(((w|0)%(h|0)|0)+1<<m)-1|0,m=(((w|0)/(h|0)|0)+1<<m)-1|0,h=(r[n+1248>>2]|0)-1|0,w=(r[n+1252>>2]|0)-1|0,g=r[n+10368>>2]|0,h=((h|0)<(y|0)?h:y)>>g,m=((w|0)<(m|0)?w:m)>>g,(h|0)>-1||y0(14528,14272,118,17304),g=r[n+10372>>2]|0,(h|0)>=(g|0)&&y0(14528,14272,118,17304),(m|0)>-1||y0(13968,14272,119,17304),(m|0)>=(r[n+10376>>2]|0)&&y0(13968,14272,119,17304),y=(s0(g,m)|0)+h|0,r[o+18528>>2]=j[(r[n+10360>>2]|0)+(y*3|0)+2|0]|0)}function _u(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0;if(h=D,D=D+656|0,w=h|0,_=w,m=w+592|0,r[m>>2]=0,g=w+596|0,r[g>>2]=0,r[w+600>>2]=0,y=w+628|0,V0(y|0,0,24)|0,o=x2(w,n+4|0,o)|0,(o|0)==0&&(o=r[n+520>>2]|0,(o|0)>-1&&C2(w,o),o=r[w>>2]|0,C=n+600+(o*656|0)|0,Tt(C|0,_|0,592)|0,(C|0)==(w|0)?Tt(n+600+(o*656|0)+604|0,w+604|0,24)|0:(mh(n+600+(o*656|0)+592|0,r[m>>2]|0,r[g>>2]|0),Tt(n+600+(o*656|0)+604|0,w+604|0,24)|0,ph(n+600+(o*656|0)+628|0,r[y>>2]|0,r[w+632>>2]|0),fh(n+600+(o*656|0)+640|0,r[w+640>>2]|0,r[w+644>>2]|0)),j[n+600+(o*656|0)+652|0]=j[w+652|0]|0,o=0),n=r[w+640>>2]|0,(n|0)!=0&&(_=w+644|0,(r[_>>2]|0)!=(n|0)&&(r[_>>2]=n),$0(n)),y=r[y>>2]|0,(y|0)!=0&&(n=w+632|0,w=r[n>>2]|0,(w|0)!=(y|0)&&(r[n>>2]=w+(~((w-2+(-y|0)|0)>>>1)<<1)),$0(y)),w=r[m>>2]|0,(w|0)==0)return D=h,o|0;if(y=r[g>>2]|0,(y|0)!=(w|0)){do y=y-12|0,r[g>>2]=y,n=r[y>>2]|0,(n|0)!=0&&($0(n),y=r[g>>2]|0);while((y|0)!=(w|0));w=r[m>>2]|0}return $0(w),D=h,o|0}function Zo(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0;return m=D,D=D+4400|0,h=m|0,X1(h),o=c1(h,o,n)|0,g=r[n+524>>2]|0,(g|0)>-1&&h1(h,g),o?(g=j[h+1|0]|0,w=n+93784+(g*4400|0)|0,Tt(w|0,h|0,4340)|0,(w|0)==(h|0)?(w=o?0:1006,zi(h),D=m,w|0):(vs(n+93784+(g*4400|0)+4340|0,r[h+4340>>2]|0,r[h+4344>>2]|0),vs(n+93784+(g*4400|0)+4352|0,r[h+4352>>2]|0,r[h+4356>>2]|0),vs(n+93784+(g*4400|0)+4364|0,r[h+4364>>2]|0,r[h+4368>>2]|0),vs(n+93784+(g*4400|0)+4376|0,r[h+4376>>2]|0,r[h+4380>>2]|0),vs(n+93784+(g*4400|0)+4388|0,r[h+4388>>2]|0,r[h+4392>>2]|0),w=o?0:1006,zi(h),D=m,w|0)):(g=o?0:1006,zi(h),D=m,g|0)}function ml(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0;m=D,D=D+80|0,g=m|0,w=g,y=n+375388|0,o=Tu(o,g,h,r[y>>2]|0)|0;do if((o|0)==0){if(r[y>>2]|0,y=r[n+377216>>2]|0,(r[n+377212>>2]|0)==(y|0)|h^1)break;if(y=r[y-4>>2]|0,n=y+10648|0,h=r[n>>2]|0,(h|0)==(r[y+10652>>2]|0)){Af(y+10644|0,g);break}(h|0)==0?g=0:(Tt(h|0,w|0,80)|0,g=r[n>>2]|0),r[n>>2]=g+80}else if(g=n+84|0,w=r[g>>2]|0,(w|0)==20){r[n+80>>2]=1001;break}else{r[g>>2]=w+1,r[n+4+(w<<2)>>2]=o;break}while(!1);return D=m,o|0}function kt(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0;e:do if(h){m=n+164|0,h=r[m>>2]|0;do if((h|0)>0){for(g=0;;){if(w=g+1|0,(r[n+84+(g<<2)>>2]|0)==(o|0)){g=10;break}if((w|0)<(h|0))g=w;else{g=5;break}}if((g|0)==5){if((h|0)<20)break;break e}else if((g|0)==10)return}while(!1);r[m>>2]=h+1,r[n+84+(h<<2)>>2]=o}while(!1);if(m=n+80|0,h=r[m>>2]|0,(h|0)==20){r[n+76>>2]=1001;return}else{r[m>>2]=h+1,r[n+(h<<2)>>2]=o;return}}function ar(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;if(g=D,D=D+48|0,re=g|0,ne=g+8|0,w=g+16|0,q=g+24|0,C=g+32|0,_=g+40|0,y=It(1356)|0,B=y,Sf(B),te=eo(B,o,n,ne)|0,r[w>>2]=te,(j[ne]|0)==0)return w=r[n+376220>>2]|0,(w|0)!=0&&(j[w+10516|0]=2),jr(n+548|0,h),(y|0)==0?(ne=te,D=g,ne|0):(_=r[y+1344>>2]|0,(_|0)!=0&&(w=y+1348|0,n=r[w>>2]|0,(n|0)!=(_|0)&&(r[w>>2]=n+(~((n-4+(-_|0)|0)>>>2)<<2)),$0(_)),ts(y+1332|0),w=r[y+776>>2]|0,(w|0)!=0&&(n=y+780|0,_=r[n>>2]|0,(_|0)!=(w|0)&&(r[n>>2]=_+(~((_-4+(-w|0)|0)>>>2)<<2)),$0(w)),$0(y),ne=te,D=g,ne|0);if(te=r[n+528>>2]|0,(te|0)>-1&&d1(B,n,te),le=h+8|0,le=l1(n,n,B,w,r[le>>2]|0,r[le+4>>2]|0,m,r[h+16>>2]|0)|0,te=n+376220|0,ne=r[te>>2]|0,!le)return(ne|0)!=0&&(j[ne+10516|0]=2),jr(n+548|0,h),(y|0)!=0&&(n=r[y+1344>>2]|0,(n|0)!=0&&(_=y+1348|0,C=r[_>>2]|0,(C|0)!=(n|0)&&(r[_>>2]=C+(~((C-4+(-n|0)|0)>>>2)<<2)),$0(n)),ts(y+1332|0),n=r[y+776>>2]|0,(n|0)!=0&&(_=y+780|0,C=r[_>>2]|0,(C|0)!=(n|0)&&(r[_>>2]=C+(~((C-4+(-n|0)|0)>>>2)<<2)),$0(n)),$0(y)),ne=r[w>>2]|0,D=g,ne|0;if(r[re>>2]=B,oe=ne+48|0,m=ne+52|0,le=r[m>>2]|0,r[y>>2]=le-(r[oe>>2]|0)>>2,(le|0)==(r[ne+56>>2]|0)?kf(oe,re):((le|0)==0?re=0:(r[le>>2]=B,re=r[m>>2]|0),r[m>>2]=re+4),_s(o,1),Fo(o),m=(r[o>>2]|0)-(r[h+20>>2]|0)|0,oe=y+768|0,(r[oe>>2]|0)>0){le=y+776|0,ne=0,re=r[le>>2]|0;do ue=jd(h,r[re+(ne<<2)>>2]|0,m)|0,re=r[le>>2]|0,pe=re+(ne<<2)|0,r[pe>>2]=(r[pe>>2]|0)-ue,ne=ne+1|0;while((ne|0)<(r[oe>>2]|0))}do if((j[y+4|0]|0)==0)q=n+377216|0;else{if(y=It(10688)|0,Pc(y+8|0),re=y,V0(y+10632|0,0,56)|0,r[q>>2]=re,r[y>>2]=r[te>>2],y=n+377216|0,te=r[y>>2]|0,(te|0)==(r[n+377220>>2]|0)){yf(n+377212|0,q),q=y;break}(te|0)==0?q=0:(r[te>>2]=re,q=r[y>>2]|0),r[y>>2]=q+4,q=y}while(!1);do if((r[n+377212>>2]|0)!=(r[q>>2]|0)){if(ue=It(144)|0,pe=ue,r[pe>>2]=0,r[ue+4>>2]=0,r[ue+32>>2]=0,j[ue+36|0]=0,go(ue+44|0),y=ue,r[ue+120>>2]=0,r[ue+124>>2]=-1,r[ue+128>>2]=-1,r[ue+132>>2]=0,r[ue+140>>2]=n,r[ue+40>>2]=0,r[ue+136>>2]=0,r[C>>2]=y,r[pe>>2]=h,r[ue+4>>2]=B,B=ue+8|0,h=o,r[B>>2]=r[h>>2],r[B+4>>2]=r[h+4>>2],r[B+8>>2]=r[h+8>>2],r[B+12>>2]=r[h+12>>2],r[B+16>>2]=r[h+16>>2],r[B+20>>2]=r[h+20>>2],j[ue+36|0]=j[n+377224|0]|0,B=r[(r[q>>2]|0)-4>>2]|0,h=B+10636|0,o=r[h>>2]|0,(o|0)==(r[B+10640>>2]|0)){gf(B+10632|0,C);break}(o|0)==0?y=0:(r[o>>2]=y,y=r[h>>2]|0),r[h>>2]=y+4}while(!1);return ue=u1(n,_)|0,r[w>>2]=ue,ue=0,D=g,ue|0}function l1(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0,q=0,te=0,re=0,oe=0,le=0;if(C=D,r[m>>2]=0,j[n+377224|0]=0,re=r[h+8>>2]|0,q=o+93784+(re*4400|0)|0,(j[q|0]|0)==0)return Xt(1,344,(le=D,D=D+8|0,r[le>>2]=re,le|0)),D=le,y0(11704,14344,1987,17600),0;te=o+375392|0,r[te>>2]=q,q=j[o+93784+(re*4400|0)+2|0]|0,oe=o+375388|0,r[oe>>2]=o+11096+(q*5168|0),re=o+375384|0,r[re>>2]=o+600+((j[o+11096+(q*5168|0)+1|0]|0)*656|0),Ul(n),q=h+4|0;do if((j[q]|0)==0){if((r[o+376220>>2]|0)==0)h=0;else break;return D=C,h|0}else{if(r[o+376200>>2]=r[h+28>>2],le=r[oe>>2]|0,(j[le+4703|0]|0)==0?oe=1:oe=(j[o+533|0]|0)!=0,g=Th(o+376144|0,le,n,g,w,_,oe)|0,(g|0)==-1)return r[m>>2]=9,le=0,D=C,le|0;m=r[o+376152>>2]|0,(r[o+376156>>2]|0)-m>>2>>>0>g>>>0?m=r[m+(g<<2)>>2]|0:m=0,le=m+10518|0,y=y|0,j[le]=j[y]|0,j[le+1|0]=j[y+1|0]|0,j[le+2|0]=j[y+2|0]|0,y=o+376220|0,r[y>>2]=m,le=m+108|0,re=r[re>>2]|0,Tt(le|0,re|0,592)|0,(le|0)==(re|0)?Tt(m+712|0,m+712|0,24)|0:(mh(m+700|0,r[re+592>>2]|0,r[re+596>>2]|0),Tt(m+712|0,re+604|0,24)|0,ph(m+736|0,r[re+628>>2]|0,r[re+632>>2]|0),fh(m+748|0,r[re+640>>2]|0,r[re+644>>2]|0)),j[m+760|0]=j[re+652|0]|0,le=m+5932|0,te=r[te>>2]|0,Tt(le|0,te|0,4340)|0,(le|0)!=(te|0)&&(vs(m+10272|0,r[te+4340>>2]|0,r[te+4344>>2]|0),vs(m+10284|0,r[te+4352>>2]|0,r[te+4356>>2]|0),vs(m+10296|0,r[te+4364>>2]|0,r[te+4368>>2]|0),vs(m+10308|0,r[te+4376>>2]|0,r[te+4380>>2]|0),vs(m+10320|0,r[te+4388>>2]|0,r[te+4392>>2]|0)),r[m+10332>>2]=o,gd(m),te=o+377208|0;e:do if(Tc(j[te]|0)|0){do if(!(ah(j[te]|0)|0)){if(Hd(j[te]|0)|0||(j[o+376204|0]|0)!=0||(j[o+376207|0]|0)!=0)break;j[o+376205|0]=0,j[o+376206|0]=0;break e}while(!1);j[o+376205|0]=1,j[o+376207|0]=0}while(!1);do if(oh(j[te]|0)|0){if((j[o+376205|0]|0)==0){B=25;break}j[(r[y>>2]|0)+100|0]=0}else B=25;while(!1);(B|0)==25&&(j[(r[y>>2]|0)+100|0]=(j[h+24|0]|0)!=0|0),ku(n,o,h),B=m+96|0,(j[q]|0)!=0&&(r[B>>2]=1,sf(n,o,h)),r[B>>2]=1,T2(r[(r[y>>2]|0)+92>>2]|0),j[n+376204|0]=0}while(!1);do if((r[h+20>>2]|0)>>>0<2){if(nf(0,o,h)|0)break;return h=0,D=C,h|0}while(!1);return(j[h+12|0]|0)==0?(r[h+800>>2]=r[h+16>>2],o=o+376224|0):(o=o+376224|0,r[h+800>>2]=r[(r[o>>2]|0)+800>>2]),r[o>>2]=h,le=1,D=C,le|0}function u1(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0;if(j[o]=0,m=n+377212|0,g=r[m>>2]|0,h=n+377216|0,y=r[h>>2]|0,(g|0)==(y|0))return te=0,te|0;_=r[g>>2]|0,B=r[_+10636>>2]|0,C=r[_+10632>>2]|0;e:do if((B|0)==(C|0))C=g;else{for(B=B-C>>2,te=0;q=r[C+(te<<2)>>2]|0,te=te+1|0,(r[q+40>>2]|0)!=0;)if(!(te>>>0<B>>>0)){C=g;break e}if((q|0)==0){C=g;break}if((j[q+36|0]|0)!=0&&Eh(n+376144|0)|0,j[o]=1,g=bu(n,_,q)|0,(g|0)==0){y=r[h>>2]|0,C=r[m>>2]|0;break}else return te=g,te|0}while(!1);do if(y-C>>2>>>0>1){if(g=r[C>>2]|0,_=r[g+10636>>2]|0,(_|0)==(r[g+10632>>2]|0))break;(r[(r[_-4>>2]|0)+40>>2]|0)==0&&(w=14)}else w=14;while(!1);do if((w|0)==14){if((y|0)==(C|0))return te=0,te|0;g=r[C>>2]|0,w=r[g+10636>>2]|0;do if((w|0)!=(r[g+10632>>2]|0)){if((r[(r[w-4>>2]|0)+40>>2]|0)==0)h=0;else break;return h|0}while(!1);if(((r[n+556>>2]|0)!=0|0)!=(-(r[n+580>>2]|0)|0))return te=0,te|0;if((j[n+548|0]|0)!=0)break;if((j[n+549|0]|0)==0)h=0;else break;return h|0}while(!1);if(j[o]=1,w=g|0,o=r[w>>2]|0,y=o+10344|0,(r[y>>2]|0)>0){_=o+10524|0,o=0;do Zr((r[_>>2]|0)+(o*76|0)|0,1),o=o+1|0;while((o|0)<(r[y>>2]|0));o=r[w>>2]|0}C=o+10332|0,_=r[C>>2]|0,y=(j[_+532|0]|0)==0;do if((r[(r[(r[n+376220>>2]|0)+10332>>2]|0)+375888>>2]|0)==0){if(y&&(Q1(o),_=r[C>>2]|0),(j[_+533|0]|0)!=0)break;n2(o)}else y?(Jo(g),y=3,_=r[C>>2]|0):y=1,(j[_+533|0]|0)==0&&ks(g,y)|0,Il(o);while(!1);y=g+10648|0,o=g+10644|0,C=r[o>>2]|0;e:do if((r[y>>2]|0)==(C|0))w=38;else{for(_=0;C=Cu(C+(_*80|0)|0,r[w>>2]|0)|0,_=_+1|0,(C|0)==0;)if(C=r[o>>2]|0,!(_>>>0<(((r[y>>2]|0)-C|0)/80|0)>>>0)){w=38;break e}gl(n,g)|0,n=C,w=39}while(!1);if((w|0)==38&&(gl(n,g)|0,(g|0)==0?n=0:(n=0,w=39)),(w|0)==39&&(Qo(g),$0(g)),o=r[h>>2]|0,g=r[m>>2]|0,o-g>>2>>>0>1){w=1;do r[g+(w-1<<2)>>2]=r[g+(w<<2)>>2],w=w+1|0,o=r[h>>2]|0,g=r[m>>2]|0;while(w>>>0<o-g>>2>>>0)}return te=o-4|0,r[h>>2]=o+(~((te+(-te|0)|0)>>>2)<<2),te=n,te|0}function bu(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0;if(m=h+4|0,w=r[m>>2]|0,oe=w+1348|0,w=w+1344|0,le=r[w>>2]|0,(r[oe>>2]|0)!=(le|0)){te=n+376144|0,re=n+376152|0,_=0;do le=kh(te,r[le+(_<<2)>>2]|0)|0,(le|0)>-1&&(r[(r[(r[re>>2]|0)+(le<<2)>>2]|0)+96>>2]=0),_=_+1|0,le=r[w>>2]|0;while(_>>>0<(r[oe>>2]|0)-le>>2>>>0)}w=o|0,ne=r[w>>2]|0,_=h+40|0,r[_>>2]=1,te=r[ne+10332>>2]|0;e:do if((r[te+375888>>2]|0)>0){if(ge=j[ne+5965|0]|0,le=ge<<24>>24!=0,oe=(j[ne+5966|0]|0)!=0,ge<<24>>24!=0||(j[ne+5966|0]|0)!=0)break;if(ue=te+168|0,ve=r[ue>>2]|0,(ve|0)>0){for(pe=0;;){if(re=pe+1|0,(r[te+88+(pe<<2)>>2]|0)==1e3)break e;if((re|0)<(ve|0))pe=re;else break}(ve|0)<20&&(C=13)}else C=13;if((C|0)==13&&(r[ue>>2]=ve+1,r[te+88+(ve<<2)>>2]=1e3),re=te+84|0,pe=r[re>>2]|0,(pe|0)==20){r[te+80>>2]=1001;break}else{r[re>>2]=pe+1,r[te+4+(pe<<2)>>2]=1e3;break}}else le=0,oe=0;while(!1);te=o+10636|0,ue=r[te>>2]|0,re=o+10632|0,ve=r[re>>2]|0;do if((ue|0)==(ve|0))pe=ue,ne=ue;else{if((r[ve>>2]|0)!=(h|0)){pe=ue,ne=ve;break}if(pe=r[(r[m>>2]|0)+16>>2]|0,(pe|0)<=0){pe=ue,ne=ve;break}ne=ne+10524|0,ue=0;do Zr((r[ne>>2]|0)+(ue*76|0)|0,1),ue=ue+1|0;while((ue|0)<(pe|0));pe=r[te>>2]|0,ne=r[re>>2]|0}while(!1);ue=pe-ne>>2;e:do if(ue>>>0>1){for(pe=1;ve=pe+1|0,(r[ne+(pe<<2)>>2]|0)!=(h|0);)if(ve>>>0<ue>>>0)pe=ve;else break e;if(pe=r[ne+(pe-1<<2)>>2]|0,(pe|0)==0||(r[pe+40>>2]|0)!=2)break;for(ue=ue-1|0,ve=0;;){if(!(ve>>>0<ue>>>0))break e;if(ge=ve+1|0,(r[ne+(ve<<2)>>2]|0)==(pe|0))break;ve=ge}if(ne=r[ne+(ge<<2)>>2]|0,(ne|0)==0||(ue=r[(r[pe+4>>2]|0)+16>>2]|0,ne=ne+4|0,(ue|0)>=(r[(r[ne>>2]|0)+16>>2]|0)))break;do{if(pe=r[w>>2]|0,(ue|0)>=(r[pe+10344>>2]|0))break e;Zr((r[pe+10524>>2]|0)+(ue*76|0)|0,1),ue=ue+1|0}while((ue|0)<(r[(r[ne>>2]|0)+16>>2]|0))}while(!1);if(!(le|oe)){for(ne=yl(n,o,h)|0,r[_>>2]=2,pe=r[re>>2]|0,ue=((r[te>>2]|0)-pe>>2)-1|0,ve=0;;){if(!(ve>>>0<ue>>>0)){B=ne,C=61;break}if(q=ve+1|0,(r[pe+(ve<<2)>>2]|0)==(h|0))break;ve=q}if((C|0)==61)return B|0;if(C=r[pe+(q<<2)>>2]|0,(C|0)==0||(B=r[(r[m>>2]|0)+16>>2]|0,C=C+4|0,(B|0)>=(r[(r[C>>2]|0)+16>>2]|0)))return ge=ne,ge|0;for(;;){if(q=r[w>>2]|0,(B|0)>=(r[q+10344>>2]|0)){B=ne,C=61;break}if(Zr((r[q+10524>>2]|0)+(B*76|0)|0,1),B=B+1|0,(B|0)>=(r[(r[C>>2]|0)+16>>2]|0)){B=ne,C=61;break}}if((C|0)==61)return B|0}if(le&oe)return ge=1006,ge|0;if(le){for(Al(n,o,h)|0,r[_>>2]=2,le=r[re>>2]|0,q=((r[te>>2]|0)-le>>2)-1|0,ne=0;;){if(!(ne>>>0<q>>>0)){B=0,C=61;break}if(y=ne+1|0,(r[le+(ne<<2)>>2]|0)==(h|0))break;ne=y}if((C|0)==61)return B|0;if(y=r[le+(y<<2)>>2]|0,(y|0)==0||(C=r[(r[m>>2]|0)+16>>2]|0,y=y+4|0,(C|0)>=(r[(r[y>>2]|0)+16>>2]|0)))return ge=0,ge|0;for(;;){if(B=r[w>>2]|0,(C|0)>=(r[B+10344>>2]|0)){B=0,C=61;break}if(Zr((r[B+10524>>2]|0)+(C*76|0)|0,1),C=C+1|0,(C|0)>=(r[(r[y>>2]|0)+16>>2]|0)){B=0,C=61;break}}if((C|0)==61)return B|0}if(!oe)return y0(11704,14344,971,17632),0;for(n=vr(n,o,h)|0,r[_>>2]=2,o=r[re>>2]|0,y=((r[te>>2]|0)-o>>2)-1|0,_=0;;){if(!(_>>>0<y>>>0)){B=n,C=61;break}if(g=_+1|0,(r[o+(_<<2)>>2]|0)==(h|0))break;_=g}if((C|0)==61)return B|0;if(h=r[o+(g<<2)>>2]|0,(h|0)==0||(g=r[(r[m>>2]|0)+16>>2]|0,m=h+4|0,(g|0)>=(r[(r[m>>2]|0)+16>>2]|0)))return ge=n,ge|0;for(;;){if(h=r[w>>2]|0,(g|0)>=(r[h+10344>>2]|0)){B=n,C=61;break}if(Zr((r[h+10524>>2]|0)+(g*76|0)|0,1),g=g+1|0,(g|0)>=(r[(r[m>>2]|0)+16>>2]|0)){B=n,C=61;break}}return(C|0)==61?B|0:0}function gl(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0;if(h=D,D=D+8|0,m=h|0,o=r[o>>2]|0,(o|0)==0)return D=h,0;do if((j[o+100|0]|0)!=0){if((j[o+10516|0]|0)!=0&&(j[n+514|0]|0)!=0)break;if(r[m>>2]=o,g=n+376168|0,w=r[g>>2]|0,(w|0)==(r[n+376172>>2]|0)){vf(n+376164|0,m);break}(w|0)==0?m=0:(r[w>>2]=o,m=r[g>>2]|0),r[g>>2]=m+4}while(!1);return m=n+376144|0,((r[n+376168>>2]|0)-(r[n+376164>>2]|0)>>2|0)>(r[o+596+(((r[o+116>>2]|0)-1|0)*12|0)+4>>2]|0)&&Sh(m),D=h,0}function yl(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0;if(m=D,D=D+18624|0,g=m|0,w=h+4|0,C=r[w>>2]|0,y=C+1348|0,_=C+1344|0,te=r[_>>2]|0,(r[y>>2]|0)!=(te|0)){B=n+376144|0,C=n+376152|0,q=0;do te=kh(B,r[te+(q<<2)>>2]|0)|0,(te|0)>-1&&(r[(r[(r[C>>2]|0)+(te<<2)>>2]|0)+96>>2]=0),q=q+1|0,te=r[_>>2]|0;while(q>>>0<(r[y>>2]|0)-te>>2>>>0);C=r[w>>2]|0}if(_=o|0,te=r[_>>2]|0,!((r[C+16>>2]|0)>>>0<(r[te+10276>>2]|0)-(r[te+10272>>2]|0)>>2>>>0))return te=6,D=m,te|0;if(y=g+18580|0,qs(y),q=g+18592|0,te=g+48|0,V0(g+18508|0,0,20)|0,V0(q|0,0,16)|0,r[g+2112>>2]=te,V0(te|0,0,2048)|0,te=r[w>>2]|0,r[g+18600>>2]=te,_=r[_>>2]|0,r[g+18596>>2]=_,r[q>>2]=n,r[g+18604>>2]=o,r[g+18608>>2]=h,r[g+4>>2]=r[(r[_+10272>>2]|0)+(r[te+16>>2]<<2)>>2],r[g+18612>>2]=0,o1(0,g),_=r[h+12>>2]|0,(_|0)<1)h=17;else{Zn(g+18556|0,r[h+8>>2]|0,_);do if((j[n+93817|0]|0)!=0){if((j[(r[w>>2]|0)+4|0]|0)==0)break;if(w=o+10676|0,n=(r[(r[n+376220>>2]|0)+5828>>2]|0)-1|0,o=o+10680|0,_=r[o>>2]|0,B=r[w>>2]|0,C=_-B>>3,C>>>0<n>>>0){hh(w,n-C|0);break}if(!(C>>>0>n>>>0)||(n=B+(n<<3)|0,(_|0)==(n|0)))break;do te=_-8|0,r[o>>2]=te,ts(te),_=r[o>>2]|0;while((_|0)!=(n|0))}while(!1);r[h+120>>2]=1,te=jn(g)|0,Zr(h+44|0,1),h=te}return ts(y),te=h,D=m,te|0}function Al(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0;if(m=D,D=D+8|0,B=m|0,C=r[o>>2]|0,w=r[h+4>>2]|0,g=r[w+768>>2]|0,_=g+1|0,y=r[C+5820>>2]|0,(r[C+10536>>2]|0)!=(-(r[C+10532>>2]|0)|0))return y0(8488,14344,989,17688),0;do if((j[w+4|0]|0)!=0){if(ne=o+10676|0,le=(r[C+5828>>2]|0)-1|0,q=o+10680|0,te=r[q>>2]|0,re=r[ne>>2]|0,oe=te-re>>3,oe>>>0<le>>>0){hh(ne,le-oe|0);break}if(!(oe>>>0>le>>>0)||(re=re+(le<<3)|0,(te|0)==(re|0)))break;do Ye=te-8|0,r[q>>2]=Ye,ts(Ye),te=r[q>>2]|0;while((te|0)!=(re|0))}while(!1);dl(h,_),Te=r[w+16>>2]|0,ve=(Te|0)/(y|0)|0;e:do if((g|0)>-1){if(q=h+136|0,oe=h+132|0,re=C+10332|0,te=C+10272|0,le=h+12|0,pe=h+8|0,ne=h+120|0,n=n+375396|0,ue=w+776|0,(g|0)>0)ge=0;else{for(ge=0;(ge|0)>0&&(Te=ve+1|0,ve=Te,Te=s0(Te,y)|0),!((r[q>>2]|0)<=(ge|0));)if(qe=r[oe>>2]|0,He=qe+(ge*18624|0)|0,r[qe+(ge*18624|0)+18600>>2]=w,r[qe+(ge*18624|0)+18592>>2]=r[re>>2],r[qe+(ge*18624|0)+18596>>2]=C,Ve=qe+(ge*18624|0)+18604|0,r[Ve>>2]=o,r[qe+(ge*18624|0)+18608>>2]=h,r[qe+(ge*18624|0)+4>>2]=r[(r[te>>2]|0)+(Te<<2)>>2],o1(0,He),ze=(ge|0)==0,ze?Be=0:Be=r[(r[ue>>2]|0)+(ge-1<<2)>>2]|0,(ge|0)==(g|0)?Ye=le:Ye=(r[ue>>2]|0)+(ge<<2)|0,Ye=r[Ye>>2]|0,(Be|0)<0||!((Ye|0)<=(r[le>>2]|0)&(Ye|0)>(Be|0))||(Zn(qe+(ge*18624|0)+18556|0,(r[pe>>2]|0)+Be|0,Ye-Be|0),d2(C,1),r[ne>>2]=(r[ne>>2]|0)+1,Be=It(20)|0,r[Be+4>>2]=0,r[Be>>2]=22248,j[Be+8|0]=ze&1,r[Be+16>>2]=He,r[Be+12>>2]=ve,r[qe+(ge*18624|0)+18612>>2]=Be,cn(n,Be),ze=r[Ve>>2]|0,r[B>>2]=Be,Ve=ze+10668|0,qe=r[Ve>>2]|0,qe>>>0<(r[ze+10672>>2]|0)>>>0?((qe|0)==0?qe=0:(r[qe>>2]=Be,qe=r[Ve>>2]|0),r[Ve>>2]=qe+4):mn(ze+10664|0,B),ge=ge+1|0,(ge|0)>=(_|0)))break e;return y0(15880,15472,170,17840),0}for(;;){if((ge|0)>0)Te=ve+1|0,ve=Te,Te=s0(Te,y)|0;else if(((Te|0)%(y|0)|0|0)!=0)break e;if((r[q>>2]|0)<=(ge|0))break;if(qe=r[oe>>2]|0,ze=qe+(ge*18624|0)|0,r[qe+(ge*18624|0)+18600>>2]=w,r[qe+(ge*18624|0)+18592>>2]=r[re>>2],r[qe+(ge*18624|0)+18596>>2]=C,Ve=qe+(ge*18624|0)+18604|0,r[Ve>>2]=o,r[qe+(ge*18624|0)+18608>>2]=h,r[qe+(ge*18624|0)+4>>2]=r[(r[te>>2]|0)+(Te<<2)>>2],o1(0,ze),Be=(ge|0)==0,Be?He=0:He=r[(r[ue>>2]|0)+(ge-1<<2)>>2]|0,(ge|0)==(g|0)?Ye=le:Ye=(r[ue>>2]|0)+(ge<<2)|0,Ye=r[Ye>>2]|0,(He|0)<0||!((Ye|0)<=(r[le>>2]|0)&(Ye|0)>(He|0))||(Zn(qe+(ge*18624|0)+18556|0,(r[pe>>2]|0)+He|0,Ye-He|0),d2(C,1),r[ne>>2]=(r[ne>>2]|0)+1,Ye=It(20)|0,r[Ye+4>>2]=0,r[Ye>>2]=22248,j[Ye+8|0]=Be&1,r[Ye+16>>2]=ze,r[Ye+12>>2]=ve,Be=Ye,r[qe+(ge*18624|0)+18612>>2]=Be,cn(n,Be),ze=r[Ve>>2]|0,r[B>>2]=Be,Ve=ze+10668|0,qe=r[Ve>>2]|0,qe>>>0<(r[ze+10672>>2]|0)>>>0?((qe|0)==0?qe=0:(r[qe>>2]=Be,qe=r[Ve>>2]|0),r[Ve>>2]=qe+4):mn(ze+10664|0,B),ge=ge+1|0,(ge|0)>=(_|0)))break e}return y0(15880,15472,170,17840),0}while(!1);if(Il(C),g=o+10668|0,_=r[g>>2]|0,o=o+10664|0,y=r[o>>2]|0,(_|0)==(y|0))return D=m,0;w=0;do h=r[y+(w<<2)>>2]|0,(h|0)!=0&&(Rr[r[(r[h>>2]|0)+4>>2]&511](h),_=r[g>>2]|0,y=r[o>>2]|0),w=w+1|0,h=y;while(w>>>0<_-h>>2>>>0);return(_|0)==(y|0)?(D=m,0):(r[g>>2]=_+(~((_-4+(-h|0)|0)>>>2)<<2),D=m,0)}function vr(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0;if(m=D,D=D+8|0,B=m|0,g=r[o>>2]|0,y=r[h+4>>2]|0,w=r[y+768>>2]|0,_=w+1|0,te=r[g+5820>>2]|0,(r[g+10536>>2]|0)!=(-(r[g+10532>>2]|0)|0))return y0(8488,14344,1103,17664),0;dl(h,_),Ve=r[y+16>>2]|0;e:do if((w|0)>-1){for(C=g+5968|0,q=g+5972|0,re=h+136|0,ne=h+132|0,le=g+10332|0,oe=g+10272|0,ve=h+12|0,pe=h+8|0,ue=h+120|0,n=n+375396|0,ge=y+776|0,Te=0,qe=r[(r[g+10308>>2]|0)+(Ve<<2)>>2]|0;;){if((Te|0)>0){if(qe=qe+1|0,Ve=r[C>>2]|0,(qe|0)>=(s0(r[q>>2]|0,Ve)|0)){w=1007;break e}Ve=(s0(r[g+10228+(((qe|0)/(Ve|0)|0)<<2)>>2]|0,te)|0)+(r[g+10184+(((qe|0)%(Ve|0)|0)<<2)>>2]|0)|0}if((r[re>>2]|0)<=(Te|0))break;if(ze=r[ne>>2]|0,Ge=ze+(Te*18624|0)|0,r[ze+(Te*18624|0)+18600>>2]=y,r[ze+(Te*18624|0)+18592>>2]=r[le>>2],r[ze+(Te*18624|0)+18596>>2]=g,Be=ze+(Te*18624|0)+18604|0,r[Be>>2]=o,r[ze+(Te*18624|0)+18608>>2]=h,r[ze+(Te*18624|0)+4>>2]=r[(r[oe>>2]|0)+(Ve<<2)>>2],o1(0,Ge),He=(Te|0)==0,He?Ye=0:Ye=r[(r[ge>>2]|0)+(Te-1<<2)>>2]|0,(Te|0)==(w|0)?r0=ve:r0=(r[ge>>2]|0)+(Te<<2)|0,r0=r[r0>>2]|0,(Ye|0)<0){w=17;break e}if(!((r0|0)<=(r[ve>>2]|0)&(r0|0)>(Ye|0))){w=17;break e}if(Zn(ze+(Te*18624|0)+18556|0,(r[pe>>2]|0)+Ye|0,r0-Ye|0),d2(g,1),r[ue>>2]=(r[ue>>2]|0)+1,Ye=It(24)|0,r[Ye+4>>2]=0,r[Ye>>2]=22216,j[Ye+8|0]=He&1,r[Ye+20>>2]=Ge,r[Ye+12>>2]=(Ve|0)%(te|0)|0,r[Ye+16>>2]=(Ve|0)/(te|0)|0,He=Ye,r[ze+(Te*18624|0)+18612>>2]=He,cn(n,He),ze=r[Be>>2]|0,r[B>>2]=He,Be=ze+10668|0,Ye=r[Be>>2]|0,Ye>>>0<(r[ze+10672>>2]|0)>>>0?((Ye|0)==0?ze=0:(r[Ye>>2]=He,ze=r[Be>>2]|0),r[Be>>2]=ze+4):mn(ze+10664|0,B),Te=Te+1|0,(Te|0)>=(_|0)){w=0;break e}}return y0(15880,15472,170,17840),0}else w=0;while(!1);if(Il(g),g=o+10668|0,C=r[g>>2]|0,o=o+10664|0,_=r[o>>2]|0,(C|0)==(_|0))return D=m,w|0;y=0;do h=r[_+(y<<2)>>2]|0,(h|0)!=0&&(Rr[r[(r[h>>2]|0)+4>>2]&511](h),C=r[g>>2]|0,_=r[o>>2]|0),y=y+1|0,h=_;while(y>>>0<C-h>>2>>>0);return(C|0)==(_|0)?(D=m,w|0):(r[g>>2]=C+(~((C-4+(-h|0)|0)>>>2)<<2),D=m,w|0)}function vl(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0;if(m=D,D=D+5200|0,h=m|0,g=m+5168|0,w=m+5192|0,Uo(g,r[o+20>>2]|0,r[o+24>>2]|0),_=w|0,j[_]=0,C=w+1|0,j[C]=0,y=w+2|0,j[y]=0,Gd(w,g),_=j[_]|0,j[n+377208|0]=_,j[n+377209|0]=(_-19&255)>>>0<2|0,j[n+377210|0]=(_-16&255)>>>0<8|0,(j[C]|0)!=0||(We[y]|0)>(r[n+375908>>2]|0))return jr(n+548|0,o),C=0,D=m,C|0;if((_&255)>>>0<32)return C=ar(n,g,o,w)|0,D=m,C|0;switch(_&255|0){case 34:return C=Zo(n,g)|0,jr(n+548|0,o),D=m,C|0;case 36:return j[n+376207|0]=1,jr(n+548|0,o),C=0,D=m,C|0;case 33:return w=h|0,R1(h),g=Sn(h,n+4|0,g)|0,(g|0)==0&&(g=r[n+516>>2]|0,(g|0)>-1&&os(h,g),g=r[h+472>>2]|0,C=n+11096+(g*5168|0)|0,Tt(C|0,w|0,4717)|0,(C|0)!=(h|0)&&dh(n+11096+(g*5168|0)+4720|0,r[h+4720>>2]|0,r[h+4724>>2]|0),Tt(n+11096+(g*5168|0)+4732|0,h+4732|0,436)|0,g=0),ur(h),jr(n+548|0,o),C=g,D=m,C|0;case 39:case 40:return C=ml(n,g,_<<24>>24==40)|0,jr(n+548|0,o),D=m,C|0;case 32:return C=_u(n,g)|0,jr(n+548|0,o),D=m,C|0;default:return jr(n+548|0,o),C=0,D=m,C|0}return 0}function bs(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0;h=D,D=D+8|0,m=h|0,y=n+548|0,g=n+580|0,w=(r[g>>2]|0)==0,_=j[y|0]|0;do if(w){if(_<<24>>24==0&&(j[n+549|0]|0)==0){C=8;break}if((r[n+377212>>2]|0)!=(r[n+377216>>2]|0)){C=7;break}return Eh(n+376144|0)|0,(o|0)==0?(C=0,D=h,C|0):(r[o>>2]=r[n+376196>>2],C=0,D=h,C|0)}else C=7;while(!1);(C|0)==7&&_<<24>>24==0&&(C=8);do if((C|0)==8){if((j[n+549|0]|0)!=0|w^1)break;return(o|0)==0?(C=13,D=h,C|0):(r[o>>2]=1,C=13,D=h,C|0)}while(!1);if(!(_h(n+376144|0,0)|0))return(o|0)==0?(C=9,D=h,C|0):(r[o>>2]=1,C=9,D=h,C|0);j[m]=0;do if((r[g>>2]|0)==0){do if((j[n+549|0]|0)!=0){if((r[n+377212>>2]|0)!=(r[n+377216>>2]|0))break;return(o|0)==0?(C=13,D=h,C|0):(r[o>>2]=1,C=13,D=h,C|0)}while(!1);n=u1(n,m)|0}else{if(g=Kd(y)|0,(g|0)==0)return y0(6136,14344,1314,17512),0;n=vl(n,g)|0,j[m]=1;break}while(!1);return(o|0)==0?(C=n,D=h,C|0):((n|0)==0?m=We[m]|0:m=0,r[o>>2]=m,C=n,D=h,C|0)}function ku(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0;m=o+377208|0;do if(Tc(j[m]|0)|0){if((j[o+376205|0]|0)==0){g=4;break}r[o+376208>>2]=0,j[n+377224|0]=1,n=0,h=h+28|0}else g=4;while(!1);e:do if((g|0)==4){n=r[(r[o+375388>>2]|0)+5032>>2]|0,g=h+28|0,h=r[g>>2]|0,w=r[o+376212>>2]|0;do if((h|0)<(w|0)){if((w-h|0)<((n|0)/2|0|0))break;n=(r[o+376216>>2]|0)+n|0,r[o+376208>>2]=n,h=g;break e}while(!1);do if((h|0)>(w|0)){if((h-w|0)<=((n|0)/2|0|0))break;n=(r[o+376216>>2]|0)-n|0,r[o+376208>>2]=n,h=g;break e}while(!1);n=r[o+376216>>2]|0,r[o+376208>>2]=n,h=g}while(!1);w=r[o+376220>>2]|0,r[w+92>>2]=(r[h>>2]|0)+n,r[w+88>>2]=r[h>>2],(j[w+10520|0]|0)==0&&(Wd(j[m]|0)|0||oh(j[m]|0)|0||Vd(j[m]|0)|0||(r[o+376212>>2]=r[h>>2],r[o+376216>>2]=r[o+376208>>2]))}function _t(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0;if(w=o+376144|0,!(_h(w,1)|0))return y0(4312,14344,1433,17520),0;if(n=Th(w,r[o+375388>>2]|0,n,0,0,0,0)|0,!((n|0)>-1))return y0(3080,14344,1436,17520),0;if(w=r[o+376152>>2]|0,(r[o+376156>>2]|0)-w>>2>>>0>n>>>0?o=r[w+(n<<2)>>2]|0:o=0,w=1<<(r[h+5004>>2]|0)-1,l4(o,1<<(r[h+4996>>2]|0)-1,w,w),w=o+10364|0,(r[w>>2]|0)<=0)return y=o+92|0,r[y>>2]=m,y=h+5032|0,y=r[y>>2]|0,y=y-1|0,y=y&m,_=o+88|0,r[_>>2]=y,_=o+100|0,j[_]=0,y=g?2:1,_=o+96|0,r[_>>2]=y,_=o+10516|0,j[_]=1,n|0;y=o+10360|0,_=0;do C=(r[y>>2]|0)+(_*3|0)|0,u0=(We[C]|We[C+1|0]<<8)<<16>>16&-769,j[C]=u0,u0=u0>>8,j[C+1|0]=u0,_=_+1|0;while((_|0)<(r[w>>2]|0));return _=o+92|0,r[_>>2]=m,_=h+5032|0,_=r[_>>2]|0,_=_-1|0,_=_&m,C=o+88|0,r[C>>2]=_,C=o+100|0,j[C]=0,_=g?2:1,C=o+96|0,r[C>>2]=_,C=o+10516|0,j[C]=1,n|0}function wl(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0;g=j[m+2|0]|0,(j[m+13|0]|0)!=0&&(y=(jt(o)|0)+2&255,j[n|0]=y),w=(nt(o,1)|0)!=0,j[n+1|0]=w&1,y=h+11096+(g*5168|0)+5012|0,(r[y>>2]|0)==3|w^1||kt(h+4|0,1006,0),_=(nt(o,1)|0)!=0,m=n+2|0,w=_&1,j[m]=w,(r[y>>2]|0)!=0|_^1||(kt(h+4|0,1006,0),w=j[m]|0);e:do if(w<<24>>24!=0){m=jt(o)|0;do if((m|0)!=-99999){if((m|0)>(r[h+11096+(g*5168|0)+616>>2]|0))break;if(j[n+3|0]=m,m=jt(o)|0,(m|0)==-99999|(m|0)>5)return kt(h+4|0,1006,0),_=0,_|0;if(_=m+1|0,m=n+4|0,j[m]=_,(_&255|0)==0)break e;for(w=0;;){if(y=pr(o)|0,(y+12|0)>>>0>24){n=15;break}if(j[n+5+w|0]=y,y=pr(o)|0,(y+12|0)>>>0>24){n=17;break}if(j[n+11+w|0]=y,w=w+1|0,(w|0)>=(We[m]|0))break e}if((n|0)==15)return kt(h+4|0,1006,0),_=0,_|0;if((n|0)==17)return kt(h+4|0,1006,0),_=0,_|0}while(!1);return kt(h+4|0,1006,0),_=0,_|0}while(!1);w=jt(o)|0;do if((w|0)!=-99999){if(m=(r[h+11096+(g*5168|0)+4996>>2]|0)-10|0,(w|0)>(((m|0)<0?0:m)|0))break;j[n+17|0]=w,o=jt(o)|0;do if((o|0)!=-99999){if(g=(r[h+11096+(g*5168|0)+5004>>2]|0)-10|0,(o|0)>(((g|0)<0?0:g)|0))break;return j[n+18|0]=o,_=1,_|0}while(!1);return kt(h+4|0,1006,0),_=0,_|0}while(!1);return kt(h+4|0,1006,0),_=0,_|0}function e2(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0;if(h=D,(o|0)==1)o=wt;else if((o|0)==2)o=pt;else{D=h;return}o=r[o>>2]|0,I0(o,6144,(g=D,D=D+1|0,D=D+7&-8,r[g>>2]=0,g|0)),D=g,I0(o,15168,(g=D,D=D+8|0,r[g>>2]=We[n|0]|0,g|0)),D=g,I0(o,12656,(g=D,D=D+8|0,r[g>>2]=We[n+1|0]|0,g|0)),D=g,g=n+2|0,I0(o,9712,(m=D,D=D+8|0,r[m>>2]=We[g]|0,m|0)),D=m;do if((j[g]|0)!=0){if(I0(o,6704,(m=D,D=D+8|0,r[m>>2]=We[n+3|0]|0,m|0)),D=m,m=n+4|0,I0(o,4920,(g=D,D=D+8|0,r[g>>2]=We[m]|0,g|0)),D=g,(j[m]|0)==0)break;g=0;do w=j[n+5+g|0]|0,I0(o,3496,(y=D,D=D+16|0,r[y>>2]=g,r[y+8>>2]=w,y|0)),D=y,y=j[n+11+g|0]|0,I0(o,2176,(w=D,D=D+16|0,r[w>>2]=g,r[w+8>>2]=y,w|0)),D=w,g=g+1|0;while((g|0)<(We[m]|0))}while(!1);I0(o,1128,(y=D,D=D+8|0,r[y>>2]=We[n+17|0]|0,y|0)),D=y,I0(o,448,(y=D,D=D+8|0,r[y>>2]=We[n+18|0]|0,y|0)),D=y,D=h}function X1(n){n=n|0;var o=0;j[n+4138|0]=2,j[n+4155|0]=0,j[n+4156|0]=0,o=n+4139|0,u0=0,j[o]=u0,u0=u0>>8,j[o+1|0]=u0,u0=u0>>8,j[o+2|0]=u0,u0=u0>>8,j[o+3|0]=u0,V0(n+4340|0,0,60)|0,t2(n,0)}function zi(n){n=n|0;var o=0,h=0,m=0;m=r[n+4388>>2]|0,(m|0)!=0&&(o=n+4392|0,h=r[o>>2]|0,(h|0)!=(m|0)&&(r[o>>2]=h+(~((h-4+(-m|0)|0)>>>2)<<2)),$0(m)),o=r[n+4376>>2]|0,(o|0)!=0&&(h=n+4380|0,m=r[h>>2]|0,(m|0)!=(o|0)&&(r[h>>2]=m+(~((m-4+(-o|0)|0)>>>2)<<2)),$0(o)),h=r[n+4364>>2]|0,(h|0)!=0&&(o=n+4368|0,m=r[o>>2]|0,(m|0)!=(h|0)&&(r[o>>2]=m+(~((m-4+(-h|0)|0)>>>2)<<2)),$0(h)),o=r[n+4352>>2]|0,(o|0)!=0&&(h=n+4356|0,m=r[h>>2]|0,(m|0)!=(o|0)&&(r[h>>2]=m+(~((m-4+(-o|0)|0)>>>2)<<2)),$0(o)),o=r[n+4340>>2]|0,(o|0)!=0&&(n=n+4344|0,h=r[n>>2]|0,(h|0)!=(o|0)&&(r[n>>2]=h+(~((h-4+(-o|0)|0)>>>2)<<2)),$0(o))}function t2(n,o){n=n|0,o=o|0;var h=0,m=0;if(V0(n|0,0,6)|0,j[n+6|0]=1,j[n+7|0]=1,r[n+8>>2]=27,j[n+12|0]=0,j[n+13|0]=0,j[n+14|0]=0,V0(n+16|0,0,19)|0,r[n+36>>2]=1,r[n+40>>2]=1,j[n+44|0]=1,j[n+45|0]=1,j[n+46|0]=1,V0(n+4172|0,0,168)|0,o=r[n+4340>>2]|0,m=n+4344|0,h=r[m>>2]|0,(h|0)!=(o|0)&&(r[m>>2]=h+(~((h-4+(-o|0)|0)>>>2)<<2)),h=r[n+4352>>2]|0,o=n+4356|0,m=r[o>>2]|0,(m|0)!=(h|0)&&(r[o>>2]=m+(~((m-4+(-h|0)|0)>>>2)<<2)),o=r[n+4364>>2]|0,m=n+4368|0,h=r[m>>2]|0,(h|0)!=(o|0)&&(r[m>>2]=h+(~((h-4+(-o|0)|0)>>>2)<<2)),h=r[n+4376>>2]|0,o=n+4380|0,m=r[o>>2]|0,(m|0)!=(h|0)&&(r[o>>2]=m+(~((m-4+(-h|0)|0)>>>2)<<2)),h=r[n+4388>>2]|0,o=n+4392|0,m=r[o>>2]|0,(m|0)==(h|0)){m=n+4160|0,r[m>>2]=0,m=n+47|0,j[m]=0,m=n+48|0,j[m]=0,m=n+49|0,j[m]=0,m=n+52|0,r[m>>2]=0,m=n+56|0,r[m>>2]=0,m=n+60|0,j[m]=0,m=n+4125|0,j[m]=0,m=n+4128|0,r[m>>2]=2,m=n+4132|0,V0(m|0,0,6)|0;return}r[o>>2]=m+(~((m-4+(-h|0)|0)>>>2)<<2),m=n+4160|0,r[m>>2]=0,m=n+47|0,j[m]=0,m=n+48|0,j[m]=0,m=n+49|0,j[m]=0,m=n+52|0,r[m>>2]=0,m=n+56|0,r[m>>2]=0,m=n+60|0,j[m]=0,m=n+4125|0,j[m]=0,m=n+4128|0,r[m>>2]=2,m=n+4132|0,V0(m|0,0,6)|0}function c1(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0;if(t2(n,0),te=jt(o)|0,j[n+1|0]=te,(te|0)>63|(te|0)==-99999)return kt(h+4|0,1009,0),te=0,te|0;if(te=jt(o)|0,m=n+2|0,j[m]=te,(te|0)>63|(te|0)==-99999)return kt(h+4|0,1010,0),te=0,te|0;if(te=(nt(o,1)|0)&255,j[n+3|0]=te,te=(nt(o,1)|0)&255,j[n+31|0]=te,te=(nt(o,3)|0)&255,j[n+4132|0]=te,te=(nt(o,1)|0)&255,j[n+4|0]=te,te=(nt(o,1)|0)&255,j[n+5|0]=te,te=jt(o)|0,g=te&255,w=n+6|0,j[w]=g,(te|0)==-99999||(j[w]=g+1,te=jt(o)|0,g=te&255,w=n+7|0,j[w]=g,(te|0)==-99999))return kt(h+4|0,1006,0),te=0,te|0;if(j[w]=g+1,m=j[m]|0,g=h+11096+(m*5168|0)|0,(j[g|0]|0)==0)return kt(h+4|0,1010,0),te=0,te|0;if(y=pr(o)|0,w=n+8|0,r[w>>2]=y,(y|0)==-99999)return kt(h+4|0,1006,0),te=0,te|0;r[w>>2]=y+26,te=(nt(o,1)|0)&255,j[n+12|0]=te,te=(nt(o,1)|0)&255,j[n+13|0]=te,te=(nt(o,1)|0)&255,j[n+14|0]=te;do if(te<<24>>24==0)r[n+16>>2]=0;else{if(te=jt(o)|0,r[n+16>>2]=te,(te|0)!=-99999)break;return kt(h+4|0,1006,0),te=0,te|0}while(!1);if(te=pr(o)|0,r[n+20>>2]=te,(te|0)==-99999||(te=pr(o)|0,r[n+24>>2]=te,(te|0)==-99999))return kt(h+4|0,1006,0),te=0,te|0;if(q=(nt(o,1)|0)&255,j[n+28|0]=q,q=(nt(o,1)|0)&255,j[n+29|0]=q,q=(nt(o,1)|0)&255,j[n+30|0]=q,q=(nt(o,1)|0)&255,j[n+32|0]=q,q=(nt(o,1)|0)&255,te=n+34|0,j[te]=q,q=(nt(o,1)|0)&255,j[n+33|0]=q,(j[te]|0)==0)r[n+36>>2]=1,r[n+40>>2]=1,j[n+44|0]=1,j[n+45|0]=0;else{if(w=jt(o)|0,_=n+36|0,r[_>>2]=w,(w|0)==-99999|(w|0)>9||(r[_>>2]=w+1,y=jt(o)|0,w=n+40|0,r[w>>2]=y,(y|0)==-99999|(y|0)>9))return kt(h+4|0,1006,0),te=0,te|0;r[w>>2]=y+1,te=(nt(o,1)|0)&255,j[n+44|0]=te;do if(te<<24>>24==0){C=r[h+11096+(m*5168|0)+5056>>2]|0,y=r[h+11096+(m*5168|0)+5064>>2]|0,q=(r[_>>2]|0)-1|0;e:do if((q|0)>0){for(B=0;te=jt(o)|0,q=n+4172+(B<<2)|0,r[q>>2]=te,(te|0)!=-99999;)if(te=te+1|0,r[q>>2]=te,C=C-te|0,B=B+1|0,q=(r[_>>2]|0)-1|0,(B|0)>=(q|0))break e;return kt(h+4|0,1006,0),te=0,te|0}while(!1);if((C|0)<1)return te=0,te|0;r[n+4172+(q<<2)>>2]=C,C=(r[w>>2]|0)-1|0;e:do if((C|0)>0){for(_=0;B=jt(o)|0,C=n+4212+(_<<2)|0,r[C>>2]=B,(B|0)!=-99999;)if(te=B+1|0,r[C>>2]=te,y=y-te|0,_=_+1|0,C=(r[w>>2]|0)-1|0,(_|0)>=(C|0))break e;return kt(h+4|0,1006,0),te=0,te|0}while(!1);if((y|0)<1)return te=0,te|0;r[n+4212+(C<<2)>>2]=y;break}while(!1);te=(nt(o,1)|0)&255,j[n+45|0]=te}y=n+52|0,r[y>>2]=0,w=n+56|0,r[w>>2]=0,te=(nt(o,1)|0)&255,j[n+46|0]=te,te=(nt(o,1)|0)&255,j[n+47|0]=te;do if(te<<24>>24==0)j[n+48|0]=0,j[n+49|0]=0;else{if(te=(nt(o,1)|0)&255,j[n+48|0]=te,te=(nt(o,1)|0)&255,j[n+49|0]=te,te<<24>>24!=0)break;if(_=pr(o)|0,r[y>>2]=_,(_|0)==-99999)return kt(h+4|0,1006,0),te=0,te|0;if(r[y>>2]=_<<1,y=pr(o)|0,r[w>>2]=y,(y|0)!=-99999){r[w>>2]=y<<1;break}return kt(h+4|0,1006,0),te=0,te|0}while(!1);if(w=(nt(o,1)|0)&255,j[n+60|0]=w,w=w<<24>>24==0,!((j[h+11096+(m*5168|0)+636|0]|0)!=0|w))return kt(h+4|0,1006,0),te=0,te|0;do if(w)Tt(n+61|0,h+11096+(m*5168|0)+638|0,4064)|0;else{if(w=ln(o,g,n+61|0,1)|0,(w|0)==0)break;return kt(h+4|0,w,0),te=0,te|0}while(!1);if(w=(nt(o,1)|0)&255,j[n+4125|0]=w,w=jt(o)|0,y=n+4128|0,r[y>>2]=w,(w|0)==-99999)return kt(h+4|0,1006,0),te=0,te|0;if(r[y>>2]=w+2,(w|0)>((r[h+11096+(m*5168|0)+612>>2]|0)-2+(r[h+11096+(m*5168|0)+616>>2]|0)|0))return te=0,te|0;te=(nt(o,1)|0)&255,j[n+4133|0]=te,te=(nt(o,1)|0)&255,j[n+4134|0]=te;do if(te<<24>>24!=0){if(q=(nt(o,1)|0)&255,te=n+4135|0,j[te]=q,q=(nt(o,1)|0)&255,j[n+4136|0]=q,q=(nt(o,6)|0)&255,j[n+4137|0]=q,(j[te]|0)==0||wl(n+4138|0,o,h,n)|0)break;return h=0,h|0}while(!1);return _l(n,g),j[n|0]=1,te=1,te|0}function _l(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0;h=D,m=o+5040|0,r[n+4160>>2]=(r[m>>2]|0)-(r[n+16>>2]|0),r[n+4164>>2]=(r[m>>2]|0)-(We[n+4141|0]|0),r[n+4168>>2]=We[n+4138|0]|0,w=n+36|0;do if((j[n+44|0]|0)!=0){y=r[w>>2]|0,g=D,D=D+((y<<2)+4)|0,D=D+7&-8;do if((y|0)>=0){for(_=r[o+5056>>2]|0,C=0;Be=(s0(_,C)|0)/(y|0)|0,r[g+(C<<2)>>2]=Be,(C|0)<(y|0);)C=C+1|0;if((y|0)<=0)break;for(B=0,C=r[g>>2]|0;y=B+1|0,_=r[g+(y<<2)>>2]|0,r[n+4172+(B<<2)>>2]=_-C,(y|0)<(r[w>>2]|0);)B=y,C=_}while(!1);if(g=n+40|0,B=r[g>>2]|0,y=D,D=D+((B<<2)+4)|0,D=D+7&-8,(B|0)<0)break;for(C=r[o+5064>>2]|0,_=0;Be=(s0(C,_)|0)/(B|0)|0,r[y+(_<<2)>>2]=Be,(_|0)<(B|0);)_=_+1|0;if((B|0)<=0)break;for(q=0,_=r[y>>2]|0;C=q+1|0,B=r[y+(C<<2)>>2]|0,r[n+4212+(q<<2)>>2]=B-_,(C|0)<(r[g>>2]|0);)q=C,_=B}while(!1);if(r[n+4252>>2]=0,(r[w>>2]|0)>0){y=0,g=0;do g=(r[n+4172+(y<<2)>>2]|0)+g|0,y=y+1|0,r[n+4252+(y<<2)>>2]=g;while((y|0)<(r[w>>2]|0))}if(r[n+4296>>2]=0,y=n+40|0,(r[y>>2]|0)>0){_=0,g=0;do g=(r[n+4212+(_<<2)>>2]|0)+g|0,_=_+1|0,r[n+4296+(_<<2)>>2]=g;while((_|0)<(r[y>>2]|0))}te=n+4340|0,q=o+5072|0,_=r[q>>2]|0,C=n+4344|0,B=r[C>>2]|0,g=te|0,oe=r[g>>2]|0,re=B-oe>>2;do if(re>>>0<_>>>0)gn(te,_-re|0),_=r[q>>2]|0;else{if(!(re>>>0>_>>>0)||(te=oe+(_<<2)|0,(B|0)==(te|0)))break;r[C>>2]=B+(~((B-4+(-te|0)|0)>>>2)<<2)}while(!1);oe=n+4352|0,C=n+4356|0,B=r[C>>2]|0,te=oe|0,re=r[te>>2]|0,le=B-re>>2;do if(le>>>0<_>>>0)gn(oe,_-le|0),_=r[q>>2]|0;else{if(!(le>>>0>_>>>0)||(re=re+(_<<2)|0,(B|0)==(re|0)))break;r[C>>2]=B+(~((B-4+(-re|0)|0)>>>2)<<2)}while(!1);oe=n+4364|0,B=n+4368|0,re=r[B>>2]|0,C=oe|0,ne=r[C>>2]|0,le=re-ne>>2;do if(le>>>0<_>>>0)gn(oe,_-le|0),ne=r[q>>2]|0;else{if(!(le>>>0>_>>>0)){ne=_;break}if(oe=ne+(_<<2)|0,(re|0)==(oe|0)){ne=_;break}r[B>>2]=re+(~((re-4+(-oe|0)|0)>>>2)<<2),ne=_}while(!1);pe=n+4376|0,_=n+4380|0,re=r[_>>2]|0,B=pe|0,le=r[B>>2]|0,oe=re-le>>2;do if(oe>>>0<ne>>>0)gn(pe,ne-oe|0);else{if(!(oe>>>0>ne>>>0)||(oe=le+(ne<<2)|0,(re|0)==(oe|0)))break;r[_>>2]=re+(~((re-4+(-oe|0)|0)>>>2)<<2)}while(!1);ne=n+4388|0,pe=r[o+5096>>2]|0,re=n+4392|0,oe=r[re>>2]|0,_=ne|0,ue=r[_>>2]|0,le=oe-ue>>2;do if(le>>>0<pe>>>0)gn(ne,pe-le|0);else{if(!(le>>>0>pe>>>0)||(le=ue+(pe<<2)|0,(oe|0)==(le|0)))break;r[re>>2]=oe+(~((oe-4+(-le|0)|0)>>>2)<<2)}while(!1);e:do if((r[q>>2]|0)>0){for(oe=o+5056|0,re=0;;){if(ne=r[oe>>2]|0,le=(re|0)%(ne|0)|0,ne=(re|0)/(ne|0)|0,ue=r[w>>2]|0,(ue|0)>0){pe=-1,ve=0;do pe=(le|0)<(r[n+4252+(ve<<2)>>2]|0)?pe:ve,ve=ve+1|0;while((ve|0)<(ue|0))}else pe=-1;if(ve=r[y>>2]|0,(ve|0)>0){ue=-1,ge=0;do ue=(ne|0)<(r[n+4296+(ge<<2)>>2]|0)?ue:ge,ge=ge+1|0;while((ge|0)<(ve|0))}else ue=-1;if(ve=(r[g>>2]|0)+(re<<2)|0,r[ve>>2]=0,(pe|0)>0){ge=n+4212+(ue<<2)|0,Te=0,Ve=0;do Ve=Ve+(s0(r[n+4172+(Te<<2)>>2]|0,r[ge>>2]|0)|0)|0,r[ve>>2]=Ve,Te=Te+1|0;while((Te|0)<(pe|0))}else Ve=0;if((ue|0)>0){ge=0;do Ve=Ve+(s0(r[n+4212+(ge<<2)>>2]|0,r[oe>>2]|0)|0)|0,r[ve>>2]=Ve,ge=ge+1|0;while((ge|0)<(ue|0))}if(!((ue|pe|0)>-1))break;if(Be=Ve+(s0(ne-(r[n+4296+(ue<<2)>>2]|0)|0,r[n+4172+(pe<<2)>>2]|0)|0)|0,r[ve>>2]=Be,Be=le-(r[n+4252+(pe<<2)>>2]|0)+Be|0,r[ve>>2]=Be,r[(r[te>>2]|0)+(Be<<2)>>2]=re,re=re+1|0,(re|0)>=(r[q>>2]|0))break e}y0(16944,16440,618,17488)}while(!1);if(re=r[y>>2]|0,(re|0)>0){q=o+5056|0,te=0,le=0,pe=r[w>>2]|0;do if((pe|0)>0){re=n+4296+(te<<2)|0,te=te+1|0,oe=n+4296+(te<<2)|0,ne=0,ge=r[oe>>2]|0;do{if(ve=r[re>>2]|0,(ve|0)<(ge|0)){pe=n+4252+(ne<<2)|0,ne=ne+1|0,ue=n+4252+(ne<<2)|0,Te=r[ue>>2]|0;do{if(Ve=r[pe>>2]|0,(Ve|0)<(Te|0)){ge=r[g>>2]|0,qe=r[C>>2]|0,Te=r[B>>2]|0;do Be=ge+((s0(r[q>>2]|0,ve)|0)+Ve<<2)|0,r[qe+(r[Be>>2]<<2)>>2]=le,Be=Te+((s0(r[q>>2]|0,ve)|0)+Ve<<2)|0,r[Be>>2]=le,Ve=Ve+1|0,Be=r[ue>>2]|0;while((Ve|0)<(Be|0));Te=Be,ge=r[oe>>2]|0}ve=ve+1|0}while((ve|0)<(ge|0));pe=r[w>>2]|0}else ne=ne+1|0;le=le+1|0}while((ne|0)<(pe|0));re=r[y>>2]|0}else te=te+1|0;while((te|0)<(re|0))}if(n=o+5092|0,B=r[n>>2]|0,(B|0)<=0){D=h;return}y=o+5088|0,w=o+5100|0,o=o+5056|0,C=0,re=r[y>>2]|0;do{if((re|0)>0){te=r[g>>2]|0,B=r[_>>2]|0,q=0;do{if(Be=r[w>>2]|0,qe=r[m>>2]|0,Ve=te+((s0(r[o>>2]|0,C<<Be>>qe)|0)+(q<<Be>>qe)<<2)|0,re=B+((s0(re,C)|0)+q<<2)|0,r[re>>2]=r[Ve>>2]<<(qe-Be<<1),re=(r[m>>2]|0)-(r[w>>2]|0)|0,(re|0)>0){oe=0,le=0;do ne=1<<le,(ne&C|0)==0?pe=0:pe=ne<<1<<le,oe=((ne&q|0)==0?0:ne<<le)+oe+pe|0,le=le+1|0;while((le|0)<(re|0))}else oe=0;re=B+((s0(r[y>>2]|0,C)|0)+q<<2)|0,r[re>>2]=(r[re>>2]|0)+oe,q=q+1|0,re=r[y>>2]|0}while((q|0)<(re|0));B=r[n>>2]|0}C=C+1|0}while((C|0)<(B|0));D=h}function h1(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0;if(h=D,(o|0)==2)m=pt;else if((o|0)==1)m=wt;else{D=h;return}if(m=r[m>>2]|0,I0(m,16080,(y=D,D=D+1|0,D=D+7&-8,r[y>>2]=0,y|0)),D=y,I0(m,15672,(y=D,D=D+8|0,r[y>>2]=j[n+1|0]|0,y|0)),D=y,I0(m,15304,(y=D,D=D+8|0,r[y>>2]=j[n+2|0]|0,y|0)),D=y,I0(m,14992,(y=D,D=D+8|0,r[y>>2]=j[n+3|0]|0,y|0)),D=y,I0(m,14728,(y=D,D=D+8|0,r[y>>2]=j[n+4|0]|0,y|0)),D=y,I0(m,14432,(y=D,D=D+8|0,r[y>>2]=j[n+5|0]|0,y|0)),D=y,I0(m,14168,(y=D,D=D+8|0,r[y>>2]=j[n+6|0]|0,y|0)),D=y,I0(m,13904,(y=D,D=D+8|0,r[y>>2]=j[n+7|0]|0,y|0)),D=y,I0(m,13664,(y=D,D=D+8|0,r[y>>2]=r[n+8>>2],y|0)),D=y,I0(m,13464,(y=D,D=D+8|0,r[y>>2]=j[n+12|0]|0,y|0)),D=y,I0(m,13272,(y=D,D=D+8|0,r[y>>2]=j[n+13|0]|0,y|0)),D=y,y=n+14|0,I0(m,13072,(w=D,D=D+8|0,r[w>>2]=j[y]|0,w|0)),D=w,(j[y]|0)!=0&&(I0(m,12776,(y=D,D=D+8|0,r[y>>2]=r[n+16>>2],y|0)),D=y),I0(m,12464,(y=D,D=D+8|0,r[y>>2]=r[n+20>>2],y|0)),D=y,I0(m,12256,(y=D,D=D+8|0,r[y>>2]=r[n+24>>2],y|0)),D=y,I0(m,11904,(y=D,D=D+8|0,r[y>>2]=j[n+28|0]|0,y|0)),D=y,I0(m,11560,(y=D,D=D+8|0,r[y>>2]=j[n+29|0]|0,y|0)),D=y,I0(m,11280,(y=D,D=D+8|0,r[y>>2]=j[n+30|0]|0,y|0)),D=y,I0(m,11032,(y=D,D=D+8|0,r[y>>2]=j[n+31|0]|0,y|0)),D=y,I0(m,10768,(y=D,D=D+8|0,r[y>>2]=j[n+32|0]|0,y|0)),D=y,y=n+34|0,I0(m,10520,(w=D,D=D+8|0,r[w>>2]=j[y]|0,w|0)),D=w,I0(m,10192,(w=D,D=D+8|0,r[w>>2]=j[n+33|0]|0,w|0)),D=w,(j[y]|0)!=0){if(w=n+36|0,I0(m,9856,(g=D,D=D+8|0,r[g>>2]=r[w>>2],g|0)),D=g,g=n+40|0,I0(m,9448,(y=D,D=D+8|0,r[y>>2]=r[g>>2],y|0)),D=y,I0(m,9112,(y=D,D=D+8|0,r[y>>2]=j[n+44|0]|0,y|0)),D=y,I0(m,8800,(y=D,D=D+1|0,D=D+7&-8,r[y>>2]=0,y|0)),D=y,(r[w>>2]|0)>=0)for(y=0;I0(m,8464,(_=D,D=D+8|0,r[_>>2]=r[n+4252+(y<<2)>>2],_|0)),D=_,(y|0)<(r[w>>2]|0);)y=y+1|0;if(I0(m,8280,(_=D,D=D+1|0,D=D+7&-8,r[_>>2]=0,_|0)),D=_,I0(m,8008,(_=D,D=D+1|0,D=D+7&-8,r[_>>2]=0,_|0)),D=_,(r[g>>2]|0)>=0)for(w=0;I0(m,8464,(_=D,D=D+8|0,r[_>>2]=r[n+4296+(w<<2)>>2],_|0)),D=_,(w|0)<(r[g>>2]|0);)w=w+1|0;I0(m,8280,(_=D,D=D+1|0,D=D+7&-8,r[_>>2]=0,_|0)),D=_,I0(m,7728,(_=D,D=D+8|0,r[_>>2]=j[n+45|0]|0,_|0)),D=_}if(I0(m,7432,(_=D,D=D+8|0,r[_>>2]=j[n+46|0]|0,_|0)),D=_,_=n+47|0,I0(m,7144,(y=D,D=D+8|0,r[y>>2]=j[_]|0,y|0)),D=y,(j[_]|0)!=0&&(I0(m,6848,(_=D,D=D+8|0,r[_>>2]=j[n+48|0]|0,_|0)),D=_,I0(m,6576,(_=D,D=D+8|0,r[_>>2]=j[n+49|0]|0,_|0)),D=_,I0(m,6416,(_=D,D=D+8|0,r[_>>2]=r[n+52>>2],_|0)),D=_,I0(m,6240,(_=D,D=D+8|0,r[_>>2]=r[n+56>>2],_|0)),D=_),I0(m,6056,(_=D,D=D+8|0,r[_>>2]=j[n+60|0]|0,_|0)),D=_,I0(m,5896,(_=D,D=D+8|0,r[_>>2]=j[n+4125|0]|0,_|0)),D=_,I0(m,5752,(_=D,D=D+8|0,r[_>>2]=r[n+4128>>2],_|0)),D=_,I0(m,5584,(_=D,D=D+8|0,r[_>>2]=j[n+4132|0]|0,_|0)),D=_,I0(m,5448,(_=D,D=D+8|0,r[_>>2]=j[n+4133|0]|0,_|0)),D=_,I0(m,5280,(_=D,D=D+8|0,r[_>>2]=j[n+4134|0]|0,_|0)),D=_,_=n+4135|0,I0(m,5096,(y=D,D=D+8|0,r[y>>2]=j[_]|0,y|0)),D=y,I0(m,4880,(y=D,D=D+8|0,r[y>>2]=j[n+4136|0]|0,y|0)),D=y,I0(m,4752,(y=D,D=D+8|0,r[y>>2]=j[n+4137|0]|0,y|0)),D=y,I0(m,4632,(y=D,D=D+8|0,r[y>>2]=r[n+4160>>2],y|0)),D=y,I0(m,4392,(y=D,D=D+8|0,r[y>>2]=r[n+4164>>2],y|0)),D=y,I0(m,4176,(y=D,D=D+8|0,r[y>>2]=r[n+4168>>2],y|0)),D=y,(j[_]|0)==0){D=h;return}e2(n+4138|0,o),D=h}function i2(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0;if((j[n+34|0]|0)==0)return _=(h|o|0)==0,_|0;if(m=r[n+36>>2]|0,(m|0)>0)y=0;else return _=0,_|0;for(;_=y+1|0,(r[n+4252+(y<<2)>>2]|0)!=(o|0);)if((_|0)<(m|0))y=_;else{w=0,g=9;break}if((g|0)==9)return w|0;if(m=r[n+40>>2]|0,(m|0)>0)o=0;else return _=0,_|0;for(;;){if(g=o+1|0,(r[n+4296+(o<<2)>>2]|0)==(h|0)){w=1,g=9;break}if((g|0)<(m|0))o=g;else{w=0,g=9;break}}return(g|0)==9?w|0:0}function gn(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;if(m=n+8|0,h=n+4|0,g=r[h>>2]|0,B=r[m>>2]|0,w=g,!(B-w>>2>>>0<o>>>0)){for(n=o,m=g;(m|0)!=0&&(r[m>>2]=0),n=n-1|0,(n|0)!=0;)m=m+4|0;r[h>>2]=g+(o<<2);return}for(g=n|0,n=r[g>>2]|0,q=n,w=w-q|0,C=w>>2,y=C+o|0,y>>>0>1073741823&&qi(0),B=B-q|0,B>>2>>>0<536870911?(B=B>>1,q=B>>>0<y>>>0?y:B,(q|0)==0?(B=0,q=0):_=10):(q=1073741823,_=10),(_|0)==10&&(B=It(q<<2)|0),_=B+(C<<2)|0;(_|0)!=0&&(r[_>>2]=0),o=o-1|0,(o|0)!=0;)_=_+4|0;o=n,Tt(B|0,o|0,w)|0,r[g>>2]=B,r[h>>2]=B+(y<<2),r[m>>2]=B+(q<<2),(n|0)!=0&&$0(o)}function r2(n){n=n|0;var o=0;o=n+96|0,u0=0,j[o]=u0,u0=u0>>8,j[o+1|0]=u0,u0=u0>>8,j[o+2|0]=u0,u0=u0>>8,j[o+3|0]=u0,o=0;do be[n+(o<<1)>>1]=0,be[n+32+(o<<1)>>1]=0,j[n+64+o|0]=0,j[n+80+o|0]=0,o=o+1|0;while((o|0)<16)}function s2(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0;_=D;do if((g|0)==0)te=56;else{if(((nt(h,1)|0)&255)<<24>>24==0){te=56;break}do if(y)if(y=jt(h)|0,(y|0)!=-99999&(y|0)<(g|0)){y=y+1|0;break}else return He=0,D=_,He|0;else y=1;while(!1);if(g=g-y|0,!((g|0)>-1))return y0(5088,15040,129,18616),0;if(le=nt(h,1)|0,y=jt(h)|0,(y|0)==-99999)return He=0,D=_,He|0;for(ne=y+1|0,pe=~y,y=w|0,ue=We[(r[y>>2]|0)+(g*100|0)+98|0]|0,ge=ue+1|0,re=D,D=D+ge|0,D=D+7&-8,oe=D,D=D+ge|0,D=D+7&-8,ge=0;He=(nt(h,1)|0)&255,j[re+ge|0]=He,He<<24>>24==0?(He=(nt(h,1)|0)&255,j[oe+ge|0]=He):j[oe+ge|0]=1,(ge|0)<(ue|0);)ge=ge+1|0;pe=(le|0)!=0?pe:ne,ge=r[y>>2]|0,Ve=j[ge+(g*100|0)+96|0]|0,ne=Ve&255,ge=j[ge+(g*100|0)+97|0]|0,le=ge&255,ge=ge<<24>>24==0;e:do if(ge)Te=0;else{w=w+4|0,qe=0,Be=le;t:for(;;){for(He=Be;;){if(Be=He-1|0,ze=r[y>>2]|0,!(g>>>0<(((r[w>>2]|0)-ze|0)/100|0)>>>0)){te=18;break t}if(!((He-1|0)>>>0<16)){te=20;break t}if(He=(be[ze+(g*100|0)+32+(Be<<1)>>1]|0)+pe|0,(He|0)<0&&(ze=Be+ne|0,(j[oe+ze|0]|0)!=0))break;if((Be|0)>0)He=Be;else{Te=qe;break e}}if((qe|0)>15){q=0,te=77;break}if(be[m+(qe<<1)>>1]=He,j[m+64+qe|0]=j[re+ze|0]|0,qe=qe+1|0,(Be|0)<=0){Te=qe;break e}}if((te|0)==18)return y0(12504,15040,174,18616),0;if((te|0)==20)return y0(9480,15040,175,18616),0;if((te|0)==77)return D=_,q|0}while(!1);do if((pe|0)<0){if((j[oe+ue|0]|0)==0)break;if((Te|0)>15)return He=0,D=_,He|0;be[m+(Te<<1)>>1]=pe,j[m+64+Te|0]=j[re+ue|0]|0,Te=Te+1|0;break}while(!1);Ve=Ve<<24>>24==0;e:do if(Ve)j[m+96|0]=Te,Te=0;else{w=0;t:for(;;){qe=(be[(r[y>>2]|0)+(g*100|0)+(w<<1)>>1]|0)+pe|0;do if((qe|0)<0){if((j[oe+w|0]|0)==0){ve=Te;break}if((Te|0)>15){q=0,te=77;break t}be[m+(Te<<1)>>1]=qe,j[m+64+Te|0]=j[re+w|0]|0,ve=Te+1|0}else ve=Te;while(!1);if(w=w+1|0,(w|0)<(ne|0))Te=ve;else break}if((te|0)==77)return D=_,q|0;if(j[m+96|0]=ve,Ve){Te=0;break}else Te=0,Ve=ne;for(;;){for(ve=r[y>>2]|0;Ve=Ve-1|0,w=(be[ve+(g*100|0)+(Ve<<1)>>1]|0)+pe|0,!((w|0)>0&&(j[oe+Ve|0]|0)!=0);)if((Ve|0)<=0)break e;if((Te|0)>15){q=0;break}if(be[m+32+(Te<<1)>>1]=w,j[m+80+Te|0]=j[re+Ve|0]|0,Te=Te+1|0,(Ve|0)<=0)break e}return D=_,q|0}while(!1);do if((pe|0)>0){if((j[oe+ue|0]|0)==0)break;if((Te|0)>15)return He=0,D=_,He|0;be[m+32+(Te<<1)>>1]=pe,j[m+80+Te|0]=j[re+ue|0]|0,Te=Te+1|0;break}while(!1);do if(ge)B=Te&255;else{te=0;e:for(;;){ue=(be[(r[y>>2]|0)+(g*100|0)+32+(te<<1)>>1]|0)+pe|0;do if((ue|0)>0){if(ve=te+ne|0,(j[oe+ve|0]|0)==0){C=Te;break}if((Te|0)>15){q=0,te=77;break e}be[m+32+(Te<<1)>>1]=ue,j[m+80+Te|0]=j[re+ve|0]|0,C=Te+1|0}else C=Te;while(!1);if(te=te+1|0,(te|0)<(le|0))Te=C;else{te=54;break}}if((te|0)==54){B=C&255;break}else if((te|0)==77)return D=_,q|0}while(!1);j[m+97|0]=B}while(!1);e:do if((te|0)==56){if(B=jt(h)|0,C=jt(h)|0,(C+B|0)>(r[o+528+((j[o+2|0]|0)-1<<2)>>2]|0))return He=m+96|0,u0=0,j[He]=u0,u0=u0>>8,j[He+1|0]=u0,u0=u0>>8,j[He+2|0]=u0,u0=u0>>8,j[He+3|0]=u0,kt(n,1018,0),He=0,D=_,He|0;if((B|0)>16|(C|0)>16)return kt(n,1018,0),He=0,D=_,He|0;j[m+96|0]=B,j[m+97|0]=C;t:do if((B|0)>0){for(o=0,g=0;;){if(q=jt(h)|0,(q|0)==-99999){q=0;break}if(He=(nt(h,1)|0)&255,n=m+(g<<1)|0,be[n>>1]=o+65535-q,j[m+64+g|0]=He,g=g+1|0,(g|0)<(B|0))o=be[n>>1]|0;else break t}return D=_,q|0}while(!1);if((C|0)>0)o=0,B=0;else break;for(;;){if(q=jt(h)|0,(q|0)==-99999){q=0;break}if(He=(nt(h,1)|0)&255,n=m+32+(B<<1)|0,be[n>>1]=o+1+q,j[m+80+B|0]=He,B=B+1|0,(B|0)<(C|0))o=be[n>>1]|0;else break e}return D=_,q|0}while(!1);if(h=m+99|0,j[h]=0,o=j[m+96|0]|0,o<<24>>24==0)o=0,q=0;else for(C=o&255,B=0,n=0;;)if((j[m+64+B|0]|0)!=0&&(n=n+1&255,j[h]=n),B=B+1|0,(B|0)>=(C|0)){q=n;break}if(C=j[m+97|0]|0,C<<24>>24==0)C=0;else{n=C&255,B=0;do(j[m+80+B|0]|0)!=0&&(q=q+1&255,j[h]=q),B=B+1|0;while((B|0)<(n|0))}return j[m+98|0]=C+o,He=1,D=_,He|0}function Z1(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0;if(m=D,w=o<<1,g=D,D=D+(w+2)|0,D=D+7&-8,w=w|1,j[g+w|0]=0,(w|0)>0&&V0(g|0,46,w|0)|0,j[g+o|0]=124,w=j[n+96|0]|0,w<<24>>24!=0){y=-o|0,C=w&255;do{C=C-1|0,B=be[n+(C<<1)>>1]|0,_=j[n+64+C|0]|0;do if((B|0)<(y|0))I0(h,16008,(w=D,D=D+16|0,r[w>>2]=B,r[w+8>>2]=_<<24>>24!=0?88:111,w|0)),D=w;else if(w=g+(B+o)|0,_<<24>>24==0){j[w]=111;break}else{j[w]=88;break}while(!1)}while((C|0)>0)}if(w=j[n+97|0]|0,w<<24>>24==0){I0(h,15608,(B=D,D=D+8|0,r[B>>2]=g,B|0)),D=B,D=m;return}_=w&255;do{_=_-1|0,C=be[n+32+(_<<1)>>1]|0,y=j[n+80+_|0]|0;do if((C|0)>(o|0))I0(h,16008,(w=D,D=D+16|0,r[w>>2]=C,r[w+8>>2]=y<<24>>24!=0?88:111,w|0)),D=w;else if(w=g+(C+o)|0,y<<24>>24==0){j[w]=111;break}else{j[w]=88;break}while(!1)}while((_|0)>0);I0(h,15608,(B=D,D=D+8|0,r[B>>2]=g,B|0)),D=B,D=m}function n2(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0;if((j[n+5467|0]|0)!=0){if(m=n+40|0,o=n+28|0,C=s0(r[o>>2]|0,r[m>>2]|0)|0,w=n+5760|0,C=s0(C,((r[w>>2]|0)+7|0)/8|0)|0,g=n+44|0,h=n+36|0,_=s0(r[h>>2]|0,r[g>>2]|0)|0,y=n+5768|0,_=s0(_,((r[y>>2]|0)+7|0)/8|0)|0,_=(C|0)>(_|0)?C:_,_=Qi((_|0)>-1?_:-1)|0,(_|0)==0){kt((r[n+10332>>2]|0)+4|0,1024,0);return}ge=(r[n+5776>>2]|0)==0?1:3,le=n+5828|0,C=n+5820|0,ne=n+10352|0,pe=n+10340|0,ve=n+52|0,ue=n+48|0,q=n+5804|0,te=n+4|0,B=_,oe=n+5780|0,re=n+5784|0,Te=0,Ge=r[le>>2]|0;e:for(;;){if(Ve=(Te|0)==0,ze=Ve?m:g,qe=r[ze>>2]|0,Be=n+4+(Te<<2)|0,Ye=s0(r[(Ve?o:h)>>2]|0,qe)|0,He=Ve?w:y,Tt(_|0,r[Be>>2]|0,s0(Ye,((r[He>>2]|0)+7|0)/8|0)|0)|0,(Ge|0)>0){Ye=0,r0=r[C>>2]|0;do{if((r0|0)>0){Ge=0;do{if(o0=(s0(r[ne>>2]|0,Ye)|0)+Ge|0,o0=f0[(r[pe>>2]|0)+(o0*24|0)+2>>1]|0,r0=r[ue>>2]|0,!(o0>>>0<(r[ve>>2]|0)-r0>>2>>>0)){n=24;break e}if(r0=r[r0+(o0<<2)>>2]|0,(r0|0)==0){n=24;break e}do if(Ve){if((j[r0+325|0]|0)==0)break;if(o0=1<<r[q>>2],v0=r[te>>2]|0,r0=r[m>>2]|0,(r[w>>2]|0)>8){Ss(n,Ge,Ye,0,0,o0,o0,B,qe,v0,r0);break}else{Ln(n,Ge,Ye,0,0,o0,o0,_,qe,v0,r0);break}}else{if((j[r0+326|0]|0)==0)break;if(E0=1<<r[q>>2],v0=(E0|0)/(r[oe>>2]|0)|0,E0=(E0|0)/(r[re>>2]|0)|0,r0=r[Be>>2]|0,o0=r[ze>>2]|0,(r[He>>2]|0)>8){Ss(n,Ge,Ye,0,Te,v0,E0,B,qe,r0,o0);break}else{Ln(n,Ge,Ye,0,Te,v0,E0,_,qe,r0,o0);break}}while(!1);Ge=Ge+1|0,r0=r[C>>2]|0}while((Ge|0)<(r0|0));Ge=r[le>>2]|0}Ye=Ye+1|0}while((Ye|0)<(Ge|0))}if(Te=Te+1|0,(Te|0)>=(ge|0)){n=23;break}}if((n|0)==23){Xi(_);return}else if((n|0)==24)return}}function a2(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;m=n|0,h=n+4|0,r[h>>2]=1,w=n+12|0,Ll(r[w>>2]|0),re=r[w>>2]|0,y=r[re+5820>>2]|0,g=y-1|0,B=r[re+5804>>2]|0,_=1<<B,o=n+8|0,C=n+24|0,Xs(re,m,g,r[o>>2]|0,r[C>>2]|0),re=r[o>>2]|0,(re|0)>0&&(Xs(r[w>>2]|0,m,g,re-1|0,r[C>>2]|0),re=r[o>>2]|0),te=re+1|0,q=r[w>>2]|0,(te|0)<(r[q+5828>>2]|0)&&(Xs(q,m,g,te,r[C>>2]|0),re=r[o>>2]|0),C=n+20|0,n=n+16|0,u4(r[C>>2]|0,r[n>>2]|0,re<<B,re+1<<B),te=r[w>>2]|0;e:do if((r[te+5820>>2]|0)>0){B=0;do{if(q=r[o>>2]|0,oe=(s0(r[te+10352>>2]|0,q)|0)+B|0,oe=f0[(r[te+10340>>2]|0)+(oe*24|0)+2>>1]|0,re=r[te+48>>2]|0,!(oe>>>0<(r[te+52>>2]|0)-re>>2>>>0)||(pe=r[re+(oe<<2)>>2]|0,(pe|0)==0))break e;do if((j[pe+325|0]|0)!=0)if(oe=r[n>>2]|0,re=r[oe+4>>2]|0,oe=r[oe+40>>2]|0,ne=r[C>>2]|0,le=r[ne+4>>2]|0,ne=r[ne+40>>2]|0,(r[te+5760>>2]|0)>8){Ss(te,B,q,0,0,_,_,re,oe,le,ne);break}else{Ln(te,B,q,0,0,_,_,re,oe,le,ne);break}while(!1);do if((j[pe+326|0]|0)!=0)if(re=r[w>>2]|0,q=(_|0)/(r[re+5780>>2]|0)|0,te=(_|0)/(r[re+5784>>2]|0)|0,ue=r[o>>2]|0,ne=r[n>>2]|0,pe=r[ne+8>>2]|0,ne=r[ne+44>>2]|0,oe=r[C>>2]|0,le=r[oe+8>>2]|0,oe=r[oe+44>>2]|0,(r[re+5768>>2]|0)>8?Ss(re,B,ue,0,1,q,te,pe,ne,le,oe):Ln(re,B,ue,0,1,q,te,pe,ne,le,oe),oe=r[w>>2]|0,le=r[o>>2]|0,pe=r[n>>2]|0,ne=r[pe+12>>2]|0,pe=r[pe+44>>2]|0,re=r[C>>2]|0,ue=r[re+12>>2]|0,re=r[re+44>>2]|0,(r[oe+5768>>2]|0)>8){Ss(oe,B,le,0,2,q,te,ne,pe,ue,re);break}else{Ln(oe,B,le,0,2,q,te,ne,pe,ue,re);break}while(!1);B=B+1|0,te=r[w>>2]|0}while((B|0)<(r[te+5820>>2]|0))}while(!1);if((y|0)<1){ue=te,r[h>>2]=3,Bn(ue);return}else y=0;for(;ue=(s0(r[o>>2]|0,r[te+5820>>2]|0)|0)+y|0,Zr((r[te+10524>>2]|0)+(ue*76|0)|0,4),!((y|0)>=(g|0));)y=y+1|0,te=r[w>>2]|0;ue=r[w>>2]|0,r[h>>2]=3,Bn(ue)}function ks(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0;if(w=D,D=D+8|0,m=w|0,h=r[n>>2]|0,(j[h+5467|0]|0)==0)return re=0,D=w,re|0;if(y=h+10332|0,B=r[y>>2]|0,g=n+8|0,re=h+10480|0,(Ch(g,r[h+24>>2]|0,r[h+28>>2]|0,r[h+20>>2]|0,h+764|0,0,B,r[h+10336>>2]|0,r[re>>2]|0,r[re+4>>2]|0,r[h+10488>>2]|0,1)|0)!=0)return kt((r[y>>2]|0)+4|0,1024,0),re=0,D=w,re|0;if(_=r[h+5828>>2]|0,d2(h,_),(_|0)>0){y=n+10668|0,C=n+10672|0,B=B+375396|0,n=n+10664|0,q=0;do te=It(28)|0,r[te+4>>2]=0,r[te>>2]=22280,r[te+16>>2]=h,r[te+20>>2]=g,r[te+12>>2]=h,r[te+8>>2]=q,r[te+24>>2]=o,r[m>>2]=te,re=r[y>>2]|0,re>>>0<(r[C>>2]|0)>>>0?((re|0)==0?re=0:(r[re>>2]=te,re=r[y>>2]|0),r[y>>2]=re+4):mn(n,m),cn(B,te),q=q+1|0;while((q|0)<(_|0))}return Il(h),pd(h,g),re=1,D=w,re|0}function o2(n){}function Su(n){n=n|0,$0(n)}function Eu(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0;if(m=D,D=D+104|0,h=m|0,nn(h|0,6568,(g=D,D=D+8|0,r[g>>2]=r[o+8>>2],g|0))|0,D=g,o=Er(h|0)|0,o>>>0>4294967279&&Ar(0),o>>>0<11){j[n]=o<<1,g=n+1|0,Tt(g|0,h|0,o)|0,g=g+o|0,j[g]=0,D=m;return}else{w=o+16&-16,g=It(w)|0,r[n+8>>2]=g,r[n>>2]=w|1,r[n+4>>2]=o,Tt(g|0,h|0,o)|0,g=g+o|0,j[g]=0,D=m;return}}function Ss(n,o,h,m,g,w,y,_,C,B,q){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0;var te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0,z0=0,m0=0,x0=0,A0=0,M0=0,F0=0,B0=0,Y0=0,lt=0,at=0,St=0,vt=0,Zt=0,Ai=0,Jt=0,Ot=0,Pt=0,Ut=0,pi=0,bt=0,wi=0,ui=0,bi=0,Qt=0,Bt=0,Ht=0;if(oe=D,D=D+152|0,Ye=oe|0,He=oe+8|0,Be=oe+16|0,te=oe+24|0,Ge=r[n+10352>>2]|0,re=(s0(Ge,h)|0)+o|0,m=r[n+10340>>2]|0,X0=g<<1,D0=(We[m+(re*24|0)+4|0]|0)>>>(X0>>>0)&3,(D0|0)==0){D=oe;return}if(Ve=(g|0)==0,ze=r[(Ve?n+5760|0:n+5768|0)>>2]|0,le=(1<<ze)-1|0,o=s0(w,o)|0,h=s0(y,h)|0,r0=r[(Ve?n+24|0:n+32|0)>>2]|0,v0=r[(Ve?n+28|0:n+36|0)>>2]|0,o0=r[n+10348>>2]|0,qe=o>>o0,S0=h>>o0,(qe|0)>-1&(qe|0)<(Ge|0)||y0(14920,12440,118,17328),(S0|0)>-1||y0(9408,12440,119,17328),E0=r[n+10356>>2]|0,(S0|0)>=(E0|0)&&y0(9408,12440,119,17328),P0=m+(((s0(S0,Ge)|0)+qe|0)*24|0)+2|0,S0=n+52|0,Z0=r[n+48>>2]|0,P0=r[(r[Z0+(f0[P0>>1]<<2)>>2]|0)+800>>2]|0,O0=r[n+5820>>2]|0,Ve?(Ve=0,qe=0):(Ve=(r[n+5784>>2]|0)-1|0,qe=(r[n+5780>>2]|0)-1|0),G0=r[n+5804>>2]|0,ot=G0-qe|0,G0=G0-Ve|0,w=(o+w|0)>(r0|0)?r0-o|0:w,y=(h+y|0)>(v0|0)?v0-h|0:y,N0=(j[m+(re*24|0)+22|0]|0)!=0,(D0|0)==2){if(D0=(We[m+(re*24|0)+5|0]|0)>>>(X0>>>0)&3,(D0|0)==0?(r[Ye>>2]=-1,r[Ye+4>>2]=1,r[He>>2]=0,r[He+4>>2]=0,ut=0,tt=0,X0=-1,D0=1):(D0|0)==1?(r[Ye>>2]=0,r[Ye+4>>2]=0,r[He>>2]=-1,r[He+4>>2]=1,ut=-1,tt=1,X0=0,D0=0):(D0|0)==2?(r[Ye>>2]=-1,r[Ye+4>>2]=1,r[He>>2]=-1,r[He+4>>2]=1,ut=-1,tt=1,X0=-1,D0=1):(D0|0)==3?(r[Ye>>2]=1,r[Ye+4>>2]=-1,r[He>>2]=-1,r[He+4>>2]=1,ut=-1,tt=1,X0=1,D0=-1):(ut=0,tt=0,X0=0,D0=0),ut=s0(ut,C)|0,tt=s0(tt,C)|0,j[Be|0]=j[m+(re*24|0)+9+(g<<2)|0]|0,j[Be+1|0]=j[m+(re*24|0)+9+(g<<2)+1|0]|0,j[Be+2|0]=0,j[Be+3|0]=j[m+(re*24|0)+9+(g<<2)+2|0]|0,j[Be+4|0]=j[m+(re*24|0)+9+(g<<2)+3|0]|0,(y|0)<=0){D=oe;return}ct=(w|0)>0,l0=n+5480|0,H0=n+10368|0,g0=n+10372|0,B0=n+10376|0,F0=n+10360|0,M0=w-1|0,z0=y-1|0,A0=n+5977|0,m0=n+10308|0,x0=(s0(h>>G0,O0)|0)+(o>>ot)|0,at=0;e:for(;;){if(St=at+h|0,lt=(s0(St,C)|0)+o|0,Y0=(s0(St,q)|0)+o|0,ct){Ot=St<<Ve,Ai=(at|0)==0,Pt=lt+ut|0,vt=lt+tt|0,Jt=(at|0)==(z0|0),Zt=0;do{do if(N0){if((j[l0]|0)==0){ge=28;break}if(bt=r[H0>>2]|0,pi=Zt+o<<qe>>bt,bt=Ot>>bt,!((pi|0)>-1)){ge=23;break e}if(Ut=r[g0>>2]|0,(pi|0)>=(Ut|0)){ge=23;break e}if(!((bt|0)>-1)){ge=26;break e}if((bt|0)>=(r[B0>>2]|0)){ge=26;break e}Ht=(s0(Ut,bt)|0)+pi|0,Ht=(r[F0>>2]|0)+(Ht*3|0)|0,((We[Ht]|We[Ht+1|0]<<8)<<16>>16&1024)==0&&(ge=28)}else ge=28;while(!1);t:do if((ge|0)==28){if(ge=0,pi=Zt+o|0,Ut=pi<<qe,wi=r[H0>>2]|0,bt=Ut>>wi,wi=Ot>>wi,!((bt|0)>-1)){ge=30;break e}if(ui=r[g0>>2]|0,(bt|0)>=(ui|0)){ge=30;break e}if(!((wi|0)>-1)){ge=33;break e}if((wi|0)>=(r[B0>>2]|0)){ge=33;break e}if(Ht=(s0(ui,wi)|0)+bt|0,Ht=(r[F0>>2]|0)+(Ht*3|0)|0,((We[Ht]|We[Ht+1|0]<<8)<<16>>16&2048)!=0)break;if((Zt|0)==0|Ai|(Zt|0)==(M0|0)|Jt){bt=0;do{if(ui=(r[Ye+(bt<<2)>>2]|0)+pi|0,wi=(r[He+(bt<<2)>>2]|0)+St|0,!((wi|ui|0)>-1&(ui|0)<(r0|0)&(wi|0)<(v0|0)))break t;if(Qt=ui<<qe>>o0,bi=wi<<Ve>>o0,!((Qt|0)>-1&(Qt|0)<(Ge|0))){ge=38;break e}if(!((bi|0)>-1&(bi|0)<(E0|0))){ge=40;break e}if(bi=m+(((s0(Ge,bi)|0)+Qt|0)*24|0)+2|0,bi=f0[bi>>1]|0,!(bi>>>0<(r[S0>>2]|0)-Z0>>2>>>0)){ge=113;break e}if(Ht=r[Z0+(bi<<2)>>2]|0,(Ht|0)==0){ge=113;break e}if(Bt=r[Ht+800>>2]|0,(Bt|0)<(P0|0)){if(Qt=Ut>>o0,bi=Ot>>o0,!((Qt|0)>-1&(Qt|0)<(Ge|0))){ge=45;break e}if(!((bi|0)>-1&(bi|0)<(E0|0))){ge=47;break e}if(Qt=m+(((s0(Ge,bi)|0)+Qt|0)*24|0)+2|0,(j[(r[Z0+(f0[Qt>>1]<<2)>>2]|0)+764|0]|0)==0)break t}if((Bt|0)>(P0|0)&&(j[Ht+764|0]|0)==0||(j[A0]|0)==0&&(Bt=(s0(wi>>G0,O0)|0)+(ui>>ot)|0,Ht=r[m0>>2]|0,(r[Ht+(Bt<<2)>>2]|0)!=(r[Ht+(x0<<2)>>2]|0)))break t;bt=bt+1|0}while((bt|0)<2)}Ut=f0[_+(Zt+lt<<1)>>1]|0,pi=Ut-(f0[_+(Pt+Zt+X0<<1)>>1]|0)|0,(pi|0)<0?pi=1:pi=(pi|0)>0|2,bt=Ut-(f0[_+(vt+Zt+D0<<1)>>1]|0)|0,(bt|0)<0?bt=-1:bt=(bt|0)>0|0,Ut=Ut+(j[Be+(pi+bt)|0]|0)|0,(Ut|0)<0?Ut=0:Ut=((Ut|0)>(le|0)?le:Ut)&65535,be[B+(Y0+Zt<<1)>>1]=Ut}while(!1);Zt=Zt+1|0}while((Zt|0)<(w|0))}if(at=at+1|0,(at|0)>=(y|0)){ge=113;break}}if((ge|0)==23)y0(14920,12440,118,17328);else if((ge|0)==26)y0(9408,12440,119,17328);else if((ge|0)==30)y0(14920,12440,118,17328);else if((ge|0)==33)y0(9408,12440,119,17328);else if((ge|0)==38)y0(14920,12440,118,17328);else if((ge|0)==40)y0(9408,12440,119,17328);else if((ge|0)==45)y0(14920,12440,118,17328);else if((ge|0)==47)y0(9408,12440,119,17328);else if((ge|0)==113){D=oe;return}}if(Be=We[m+(re*24|0)+6+g|0]|0,V0(te|0,0,128)|0,r[te+((Be&31)<<2)>>2]=1,r[te+((Be+1&31)<<2)>>2]=2,r[te+((Be+2&31)<<2)>>2]=3,r[te+((Be+3&31)<<2)>>2]=4,Be=ze-5|0,ze=(y|0)>0,!N0){if(!ze){D=oe;return}ge=(w|0)>0,Ve=(Be|0)>7,Te=0;do{if(ge){ve=Te+h|0,ue=s0(ve,C)|0,ve=s0(ve,q)|0,pe=0;do ne=pe+o|0,qe=f0[_+(ne+ue<<1)>>1]|0,n=Ve?0:r[te+(qe>>>(Be>>>0)<<2)>>2]|0,(n|0)>0&&(qe=(j[n-1+(m+(re*24|0)+9+(g<<2))|0]|0)+qe|0,(qe|0)<0?qe=0:qe=((qe|0)>(le|0)?le:qe)&65535,be[B+(ne+ve<<1)>>1]=qe),pe=pe+1|0;while((pe|0)<(w|0))}Te=Te+1|0}while((Te|0)<(y|0));D=oe;return}if(!ze){D=oe;return}He=(w|0)>0,ze=n+5480|0,Ye=n+10368|0,Ge=n+10372|0,r0=n+10376|0,n=n+10360|0,o0=(Be|0)>7,v0=0;e:for(;;){t:do if(He){if(P0=v0+h|0,E0=P0<<Ve,S0=s0(P0,C)|0,P0=s0(P0,q)|0,o0)for(P0=j[ze]|0,S0=0;;){if(P0<<24>>24==0)ne=r[Ye>>2]|0,Te=S0+o<<qe,ge=78;else{if(G0=S0+o<<qe,ot=r[Ye>>2]|0,N0=G0>>ot,Z0=E0>>ot,!((N0|0)>-1)){ge=87;break e}if(O0=r[Ge>>2]|0,(N0|0)>=(O0|0)){ge=87;break e}if(!((Z0|0)>-1)){ge=90;break e}if((Z0|0)>=(r[r0>>2]|0)){ge=90;break e}Ht=(s0(O0,Z0)|0)+N0|0,Ht=(r[n>>2]|0)+(Ht*3|0)|0,((We[Ht]|We[Ht+1|0]<<8)<<16>>16&1024)==0&&(ne=ot,Te=G0,ge=78)}if((ge|0)==78){if(ge=0,Z0=Te>>ne,O0=E0>>ne,!((Z0|0)>-1)){ge=94;break e}if((Z0|0)>=(r[Ge>>2]|0)){ge=94;break e}if(!((O0|0)>-1)){ge=97;break e}if((O0|0)>=(r[r0>>2]|0)){ge=97;break e}}if(S0=S0+1|0,(S0|0)>=(w|0))break t}else O0=0;do{if((j[ze]|0)==0)pe=O0+o|0,ue=r[Ye>>2]|0,ve=pe,pe=pe<<qe,ge=92;else{if(G0=O0+o|0,ot=G0<<qe,Z0=r[Ye>>2]|0,D0=ot>>Z0,N0=E0>>Z0,!((D0|0)>-1)){ge=87;break e}if(X0=r[Ge>>2]|0,(D0|0)>=(X0|0)){ge=87;break e}if(!((N0|0)>-1)){ge=90;break e}if((N0|0)>=(r[r0>>2]|0)){ge=90;break e}Ht=(s0(X0,N0)|0)+D0|0,Ht=(r[n>>2]|0)+(Ht*3|0)|0,((We[Ht]|We[Ht+1|0]<<8)<<16>>16&1024)==0&&(ue=Z0,ve=G0,pe=ot,ge=92)}do if((ge|0)==92){if(ge=0,Z0=pe>>ue,G0=E0>>ue,!((Z0|0)>-1)){ge=94;break e}if(ot=r[Ge>>2]|0,(Z0|0)>=(ot|0)){ge=94;break e}if(!((G0|0)>-1)){ge=97;break e}if((G0|0)>=(r[r0>>2]|0)){ge=97;break e}if(Ht=(s0(ot,G0)|0)+Z0|0,Ht=(r[n>>2]|0)+(Ht*3|0)|0,((We[Ht]|We[Ht+1|0]<<8)<<16>>16&2048)!=0||(Z0=f0[_+(ve+S0<<1)>>1]|0,G0=r[te+(Z0>>>(Be>>>0)<<2)>>2]|0,(G0|0)<=0))break;Z0=(j[G0-1+(m+(re*24|0)+9+(g<<2))|0]|0)+Z0|0,(Z0|0)<0?Z0=0:Z0=((Z0|0)>(le|0)?le:Z0)&65535,be[B+(ve+P0<<1)>>1]=Z0}while(!1);O0=O0+1|0}while((O0|0)<(w|0))}while(!1);if(v0=v0+1|0,(v0|0)>=(y|0)){ge=113;break}}if((ge|0)==87)y0(14920,12440,118,17328);else if((ge|0)==90)y0(9408,12440,119,17328);else if((ge|0)==94)y0(14920,12440,118,17328);else if((ge|0)==97)y0(9408,12440,119,17328);else if((ge|0)==113){D=oe;return}}function Ln(n,o,h,m,g,w,y,_,C,B,q){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0;var te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0,z0=0,m0=0,x0=0,A0=0,M0=0,F0=0,B0=0,Y0=0,lt=0,at=0,St=0,vt=0,Zt=0,Ai=0,Jt=0,Ot=0,Pt=0,Ut=0,pi=0,bt=0;if(m=D,D=D+152|0,le=m|0,pe=m+8|0,ne=m+16|0,P0=m+24|0,ue=n+10352|0,qe=r[ue>>2]|0,S0=(s0(qe,h)|0)+o|0,oe=n+10340|0,E0=r[oe>>2]|0,N0=g<<1,O0=(We[E0+(S0*24|0)+4|0]|0)>>>(N0>>>0)&3,(O0|0)==0){D=m;return}if(Ye=(g|0)==0,D0=r[(Ye?n+5760|0:n+5768|0)>>2]|0,te=(1<<D0)-1|0,o=s0(w,o)|0,h=s0(y,h)|0,ve=r[(Ye?n+24|0:n+32|0)>>2]|0,Ve=r[(Ye?n+28|0:n+36|0)>>2]|0,Te=n+10348|0,Be=r[Te>>2]|0,ze=o>>Be,Be=h>>Be,(ze|0)>-1&(ze|0)<(qe|0)||y0(14920,12440,118,17328),(Be|0)>-1||y0(9408,12440,119,17328),ge=n+10356|0,(Be|0)>=(r[ge>>2]|0)&&y0(9408,12440,119,17328),He=E0+(((s0(Be,qe)|0)+ze|0)*24|0)+2|0,qe=n+52|0,ze=n+48|0,He=r[(r[(r[ze>>2]|0)+(f0[He>>1]<<2)>>2]|0)+800>>2]|0,Be=r[n+5820>>2]|0,Ye?(r0=0,Ye=0):(r0=(r[n+5784>>2]|0)-1|0,Ye=(r[n+5780>>2]|0)-1|0),Ge=r[n+5804>>2]|0,o0=Ge-Ye|0,Ge=Ge-r0|0,w=(o+w|0)>(ve|0)?ve-o|0:w,y=(h+y|0)>(Ve|0)?Ve-h|0:y,v0=(j[E0+(S0*24|0)+22|0]|0)!=0,(O0|0)!=2){if(O0=We[E0+(S0*24|0)+6+g|0]|0,V0(P0|0,0,128)|0,r[P0+((O0&31)<<2)>>2]=1,r[P0+((O0+1&31)<<2)>>2]=2,r[P0+((O0+2&31)<<2)>>2]=3,r[P0+((O0+3&31)<<2)>>2]=4,O0=D0-5|0,D0=(y|0)>0,!v0){if(!D0){D=m;return}ve=(w|0)>0,ne=(O0|0)>7,le=0;do{if(ve){oe=le+h|0,pe=s0(oe,C)|0,oe=s0(oe,q)|0,ue=0;do re=ue+o|0,ge=We[_+(re+pe)|0]|0,Te=ne?0:r[P0+(ge>>>(O0>>>0)<<2)>>2]|0,(Te|0)>0&&(ge=(j[Te-1+(E0+(S0*24|0)+9+(g<<2))|0]|0)+ge|0,(ge|0)<0?ge=0:ge=((ge|0)>(te|0)?te:ge)&255,j[B+(re+oe)|0]=ge),ue=ue+1|0;while((ue|0)<(w|0))}le=le+1|0}while((le|0)<(y|0));D=m;return}if(!D0){D=m;return}D0=(w|0)>0,X0=n+5480|0,ut=n+10368|0,tt=n+10372|0,ct=n+10376|0,g0=n+10360|0,H0=(O0|0)>7,x0=0;e:for(;;){if(D0){A0=x0+h|0,z0=A0<<r0,l0=s0(A0,C)|0,A0=s0(A0,q)|0,m0=0;do{if((j[X0]|0)==0)G0=m0+o|0,ot=r[ut>>2]|0,Z0=G0,G0=G0<<Ye,re=81;else{if(Y0=m0+o|0,B0=Y0<<Ye,lt=r[ut>>2]|0,at=B0>>lt,F0=z0>>lt,!((at|0)>-1)){re=76;break e}if(M0=r[tt>>2]|0,(at|0)>=(M0|0)){re=76;break e}if(!((F0|0)>-1)){re=79;break e}if((F0|0)>=(r[ct>>2]|0)){re=79;break e}bt=(s0(M0,F0)|0)+at|0,bt=(r[g0>>2]|0)+(bt*3|0)|0,((We[bt]|We[bt+1|0]<<8)<<16>>16&1024)==0&&(ot=lt,Z0=Y0,G0=B0,re=81)}do if((re|0)==81){if(re=0,M0=G0>>ot,F0=z0>>ot,!((M0|0)>-1)){re=83;break e}if(B0=r[tt>>2]|0,(M0|0)>=(B0|0)){re=83;break e}if(!((F0|0)>-1)){re=86;break e}if((F0|0)>=(r[ct>>2]|0)){re=86;break e}if(bt=(s0(B0,F0)|0)+M0|0,bt=(r[g0>>2]|0)+(bt*3|0)|0,((We[bt]|We[bt+1|0]<<8)<<16>>16&2048)!=0||(F0=We[_+(Z0+l0)|0]|0,M0=H0?0:r[P0+(F0>>>(O0>>>0)<<2)>>2]|0,(M0|0)<=0))break;M0=(j[M0-1+(E0+(S0*24|0)+9+(g<<2))|0]|0)+F0|0,(M0|0)<0?M0=0:M0=((M0|0)>(te|0)?te:M0)&255,j[B+(Z0+A0)|0]=M0}while(!1);m0=m0+1|0}while((m0|0)<(w|0))}if(x0=x0+1|0,(x0|0)>=(y|0)){re=102;break}}if((re|0)==76)y0(14920,12440,118,17328);else if((re|0)==79)y0(9408,12440,119,17328);else if((re|0)==83)y0(14920,12440,118,17328);else if((re|0)==86)y0(9408,12440,119,17328);else if((re|0)==102){D=m;return}}if(P0=(We[E0+(S0*24|0)+5|0]|0)>>>(N0>>>0)&3,(P0|0)==3?(r[le>>2]=1,r[le+4>>2]=-1,r[pe>>2]=-1,r[pe+4>>2]=1,Z0=-1,G0=1,P0=1,O0=-1):(P0|0)==1?(r[le>>2]=0,r[le+4>>2]=0,r[pe>>2]=-1,r[pe+4>>2]=1,Z0=-1,G0=1,P0=0,O0=0):(P0|0)==2?(r[le>>2]=-1,r[le+4>>2]=1,r[pe>>2]=-1,r[pe+4>>2]=1,Z0=-1,G0=1,P0=-1,O0=1):(P0|0)==0?(r[le>>2]=-1,r[le+4>>2]=1,r[pe>>2]=0,r[pe+4>>2]=0,Z0=0,G0=0,P0=-1,O0=1):(Z0=0,G0=0,P0=0,O0=0),Z0=s0(Z0,C)|0,G0=s0(G0,C)|0,j[ne|0]=j[E0+(S0*24|0)+9+(g<<2)|0]|0,j[ne+1|0]=j[E0+(S0*24|0)+9+(g<<2)+1|0]|0,j[ne+2|0]=0,j[ne+3|0]=j[E0+(S0*24|0)+9+(g<<2)+2|0]|0,j[ne+4|0]=j[E0+(S0*24|0)+9+(g<<2)+3|0]|0,(y|0)<=0){D=m;return}N0=(w|0)>0,ot=n+5480|0,D0=n+10368|0,X0=n+10372|0,ut=n+10376|0,S0=n+10360|0,tt=w-1|0,E0=y-1|0,g=n+5977|0,ct=n+10308|0,n=(s0(h>>Ge,Be)|0)+(o>>o0)|0,g0=0;e:for(;;){if(m0=g0+h|0,l0=(s0(m0,C)|0)+o|0,B0=(s0(m0,q)|0)+o|0,N0){M0=m0<<r0,x0=(g0|0)==0,F0=l0+Z0|0,A0=l0+G0|0,H0=(g0|0)==(E0|0),z0=0;do{do if(v0){if((j[ot]|0)==0){re=28;break}if(lt=r[D0>>2]|0,at=z0+o<<Ye>>lt,lt=M0>>lt,!((at|0)>-1)){re=23;break e}if(Y0=r[X0>>2]|0,(at|0)>=(Y0|0)){re=23;break e}if(!((lt|0)>-1)){re=26;break e}if((lt|0)>=(r[ut>>2]|0)){re=26;break e}bt=(s0(Y0,lt)|0)+at|0,bt=(r[S0>>2]|0)+(bt*3|0)|0,((We[bt]|We[bt+1|0]<<8)<<16>>16&1024)==0&&(re=28)}else re=28;while(!1);t:do if((re|0)==28){if(re=0,Y0=z0+o|0,lt=Y0<<Ye,vt=r[D0>>2]|0,St=lt>>vt,vt=M0>>vt,!((St|0)>-1)){re=30;break e}if(at=r[X0>>2]|0,(St|0)>=(at|0)){re=30;break e}if(!((vt|0)>-1)){re=33;break e}if((vt|0)>=(r[ut>>2]|0)){re=33;break e}if(bt=(s0(at,vt)|0)+St|0,bt=(r[S0>>2]|0)+(bt*3|0)|0,((We[bt]|We[bt+1|0]<<8)<<16>>16&2048)!=0)break;if((z0|0)==0|x0|(z0|0)==(tt|0)|H0){at=0;do{if(vt=(r[le+(at<<2)>>2]|0)+Y0|0,St=(r[pe+(at<<2)>>2]|0)+m0|0,!((St|vt|0)>-1&(vt|0)<(ve|0)&(St|0)<(Ve|0)))break t;if(Jt=r[Te>>2]|0,Ot=vt<<Ye>>Jt,Pt=St<<r0>>Jt,!((Ot|0)>-1)){re=39;break e}if(Ai=r[ue>>2]|0,(Ot|0)>=(Ai|0)){re=39;break e}if(!((Pt|0)>-1)){re=42;break e}if(Zt=r[ge>>2]|0,(Pt|0)>=(Zt|0)){re=42;break e}if(Ut=(s0(Ai,Pt)|0)+Ot|0,Pt=r[oe>>2]|0,Ut=f0[Pt+(Ut*24|0)+2>>1]|0,Ot=r[ze>>2]|0,!(Ut>>>0<(r[qe>>2]|0)-Ot>>2>>>0)){re=102;break e}if(bt=r[Ot+(Ut<<2)>>2]|0,(bt|0)==0){re=102;break e}if(Ut=r[bt+800>>2]|0,(Ut|0)<(He|0)){if(pi=lt>>Jt,Jt=M0>>Jt,!((pi|0)>-1&(pi|0)<(Ai|0))){re=47;break e}if(!((Jt|0)>-1&(Jt|0)<(Zt|0))){re=49;break e}if(pi=Pt+(((s0(Ai,Jt)|0)+pi|0)*24|0)+2|0,(j[(r[Ot+(f0[pi>>1]<<2)>>2]|0)+764|0]|0)==0)break t}if((Ut|0)>(He|0)&&(j[bt+764|0]|0)==0||(j[g]|0)==0&&(pi=(s0(St>>Ge,Be)|0)+(vt>>o0)|0,bt=r[ct>>2]|0,(r[bt+(pi<<2)>>2]|0)!=(r[bt+(n<<2)>>2]|0)))break t;at=at+1|0}while((at|0)<2)}Y0=We[_+(z0+l0)|0]|0,lt=Y0-(We[_+(F0+z0+P0)|0]|0)|0,(lt|0)<0?lt=1:lt=(lt|0)>0|2,at=Y0-(We[_+(A0+z0+O0)|0]|0)|0,(at|0)<0?at=-1:at=(at|0)>0|0,Y0=Y0+(j[ne+(lt+at)|0]|0)|0,(Y0|0)<0?Y0=0:Y0=((Y0|0)>(te|0)?te:Y0)&255,j[B+(B0+z0)|0]=Y0}while(!1);z0=z0+1|0}while((z0|0)<(w|0))}if(g0=g0+1|0,(g0|0)>=(y|0)){re=102;break}}if((re|0)==23)y0(14920,12440,118,17328);else if((re|0)==26)y0(9408,12440,119,17328);else if((re|0)==30)y0(14920,12440,118,17328);else if((re|0)==33)y0(9408,12440,119,17328);else if((re|0)==39)y0(14920,12440,118,17328);else if((re|0)==42)y0(9408,12440,119,17328);else if((re|0)==47)y0(14920,12440,118,17328);else if((re|0)==49)y0(9408,12440,119,17328);else if((re|0)==102){D=m;return}}function mr(n,o){return n=n|0,o=o|0,(o|0)==2?(o=r[28640+(n<<2)>>2]|0,o|0):(o|0)==0?(o=r[28704+(n<<2)>>2]|0,o|0):(o|0)==1?(o=r[28672+(n<<2)>>2]|0,o|0):(o=0,o|0)}function l2(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,h=(r[27544+(m*24|0)+(g<<2)>>2]|0)+((h<<g)+o<<1)|0,m=n,u0=(We[h]|We[h+1|0]<<8)<<16>>16,j[m]=u0,u0=u0>>8,j[m+1|0]=u0}function Wr(){var n=0,o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0;for(n=1;;){if(h=r[28672+(n<<2)>>2]|0,o=1<<n,(o|0)>0){for(m=0,g=0;;){for(y=g&255,w=m,_=0;j[h+(w<<1)|0]=_,j[h+(w<<1)+1|0]=y,_=_+1|0,(_|0)<(o|0);)w=w+1|0;if(g=g+1|0,(g|0)<(o|0))m=m+o|0;else break}for(m=r[28640+(n<<2)>>2]|0,h=0,y=0;;){for(w=y&255,g=h,_=0;j[m+(g<<1)|0]=w,j[m+(g<<1)+1|0]=_,_=_+1|0,(_|0)<(o|0);)g=g+1|0;if(y=y+1|0,(y|0)<(o|0))h=h+o|0;else break}}for(h=r[28704+(n<<2)>>2]|0,m=o<<n,y=0,w=0,g=0;;){if((g|0)<(m|0))for(;!((y|0)>-1);)y=w,w=0;else if(!((y|0)>-1))break;(w|0)<(o|0)&(y|0)<(o|0)&&(j[h+(g<<1)|0]=w,j[h+(g<<1)+1|0]=y,g=g+1|0),y=y-1|0,w=w+1|0}if(n=n+1|0,(n|0)>=6){o=2;break}}do{h=1<<o,C=(h|0)>0,_=o-2|0,g=(1<<_<<_)-1|0,m=28704+(_<<2)|0,y=28672+(_<<2)|0,_=28640+(_<<2)|0,w=0;do{if(C){te=27544+(w*24|0)+(o<<2)|0,re=(w|0)==0,B=0;do{if(q=B<<o,n=r[te>>2]|0,re){oe=0;do{for(ne=oe+q|0,le=r[m>>2]|0,ue=16,pe=g;ve=(ue|0)==0,pe=(ve<<31>>31)+pe|0,ue=ve?15:ue-1|0,!((((We[le+(pe<<1)|0]|0)<<2)+(We[43504+(ue<<1)|0]|0)|0)==(oe|0)&&(((We[le+(pe<<1)+1|0]|0)<<2)+(We[43505+(ue<<1)|0]|0)|0)==(B|0)););j[n+(ne<<1)|0]=pe,j[n+(ne<<1)+1|0]=ue,oe=oe+1|0}while((oe|0)<(h|0))}else{oe=0;do{for(le=oe+q|0,(w|0)==1?(pe=40776,ne=r[y>>2]|0):(w|0)==2?(pe=38048,ne=r[_>>2]|0):(pe=0,ne=0),ve=16,ue=g;ge=(ve|0)==0,ue=(ge<<31>>31)+ue|0,ve=ge?15:ve-1|0,!((((We[ne+(ue<<1)|0]|0)<<2)+(We[pe+(ve<<1)|0]|0)|0)==(oe|0)&&(((We[ne+(ue<<1)+1|0]|0)<<2)+(We[pe+(ve<<1)+1|0]|0)|0)==(B|0)););j[n+(le<<1)|0]=ue,j[n+(le<<1)+1|0]=ve,oe=oe+1|0}while((oe|0)<(h|0))}B=B+1|0}while((B|0)<(h|0))}w=w+1|0}while((w|0)<3);o=o+1|0}while((o|0)<6)}function Tu(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0;for(h=0;;)if(w=nt(n,8)|0,h=w+h|0,(w|0)!=255){g=0;break}do w=nt(n,8)|0,g=w+g|0;while((w|0)==255);if(r[o>>2]=h,r[o+4>>2]=g,(h|0)!=132)return w=0,w|0;if(g=nt(n,8)|0,h=o+8|0,r[h>>2]=g,(m|0)==0)return w=1025,w|0;for(m=(r[m+476>>2]|0)==0?1:3,w=0;;){if((g|0)==2?(g=nt(n,32)|0,r[o+68+(w<<2)>>2]=g):(g|0)==1?(g=(nt(n,16)|0)&65535,be[o+60+(w<<1)>>1]=g):(g|0)==0&&(g=(nt(n,8)|0)&255,j[o+12+(w<<4)|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+1|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+2|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+3|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+4|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+5|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+6|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+7|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+8|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+9|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+10|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+11|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+12|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+13|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+14|0]=g,g=(nt(n,8)|0)&255,j[o+12+(w<<4)+15|0]=g),w=w+1|0,(w|0)>=(m|0)){n=0;break}g=r[h>>2]|0}return n|0}function xu(n,o){}function Cu(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0;if(h=D,D=D+168|0,te=h|0,g=h+152|0,(r[n>>2]|0)!=132||(j[(r[o+10332>>2]|0)+512|0]|0)==0||(w=g|0,(j[o+100|0]|0)==0))return E0=0,D=h,E0|0;_=(r[o+1240>>2]|0)==0?1:3,le=o+24|0,y=o+32|0,re=o+28|0,oe=o+36|0,ne=o+40|0,m=o+44|0,q=n+8|0,C=o+5760|0,B=o+5768|0,pe=0;e:for(;;){if(Ve=(pe|0)==0,ue=r[(Ve?le:y)>>2]|0,ve=r[(Ve?re:oe)>>2]|0,Te=r[o+4+(pe<<2)>>2]|0,ge=r[(Ve?ne:m)>>2]|0,qe=r[q>>2]|0,(qe|0)==0){He=r[(Ve?C:B)>>2]|0,Rd(te);t:do if((ve|0)>0){if(qe=ue<<1,ze=(ue|0)<0?-1:qe,Be=Te,Ve=(ue|0)>0,(He|0)>8)Te=0,He=0;else if(Ve){for(Ve=0;;)if(Zu(te,Te+(s0(Ve,ge)|0)|0,ue),Ve=Ve+1|0,(Ve|0)>=(ve|0)){Te=0;break t}}else for(Ve=0;;)if(Zu(te,Te+(s0(Ve,ge)|0)|0,ue),Ve=Ve+1|0,(Ve|0)>=(ve|0)){Te=0;break t}do{if((Te|0)==0&&(Te=Qi(ze)|0),Ve){Ge=s0(He,ge)|0,Ye=0;do v0=Be+(Ye+Ge<<1)|0,E0=Ye<<1,j[Te+E0|0]=be[v0>>1],j[Te+(E0|1)|0]=(f0[v0>>1]|0)>>>8,Ye=Ye+1|0;while((Ye|0)<(ue|0))}Zu(te,Te,qe),He=He+1|0}while((He|0)<(ve|0))}else Te=0;while(!1);for(Ld(w,te),(Te|0)==0||Xi(Te),ve=0;;){if(ue=ve+1|0,(j[g+ve|0]|0)!=(j[n+12+(pe<<4)+ve|0]|0)){m=33;break e}if((ue|0)<16)ve=ue;else break}}else if((qe|0)==1){do if((ve|0)>0){qe=(r[(Ve?C:B)>>2]|0)>8,He=ue<<1,ze=(ue|0)<0?-1:He,Be=Te,Ve=(ue|0)>0,Ge=0,Ye=0,v0=7439;do{do if(qe){if((Ge|0)==0&&(Ge=Qi(ze)|0),!Ve){o0=Ge,r0=He;break}for(r0=s0(Ye,ge)|0,o0=0;;)if(S0=Be+(o0+r0<<1)|0,E0=o0<<1,j[Ge+E0|0]=be[S0>>1],j[Ge+(E0|1)|0]=(f0[S0>>1]|0)>>>8,o0=o0+1|0,(o0|0)>=(ue|0)){o0=Ge,r0=He;break}}else o0=Te+(s0(Ye,ge)|0)|0,r0=ue;while(!1);if((r0|0)>0){E0=0;do S0=We[o0+E0|0]^(v0&65535)>>>8,S0=(S0&65535)>>>4^S0,v0=(S0|v0<<8)^S0<<5^S0<<12,E0=E0+1|0;while((E0|0)<(r0|0))}Ye=Ye+1|0}while((Ye|0)<(ve|0));if(ue=v0&65535,(Ge|0)==0)break;Xi(Ge)}else ue=7439;while(!1);if(ve=f0[n+60+(pe<<1)>>1]|0,(ue|0)!=(ve|0)){m=49;break}}else if((qe|0)==2){qe=(ve|0)>0;do if((r[(Ve?C:B)>>2]|0)<9){if(!qe){Ye=0;break}Ve=(ue|0)>0,qe=0,Ye=0;do{if(Ve){Be=qe>>>8^qe,ze=s0(qe,ge)|0,He=0;do Ye=((Be^He^He>>>8)&255^We[Te+(He+ze)|0])+Ye|0,He=He+1|0;while((He|0)<(ue|0))}qe=qe+1|0}while((qe|0)<(ve|0))}else{if(!qe){Ye=0;break}Ve=(ue|0)>0,qe=0,Ye=0;do{if(Ve){Be=qe>>>8^qe,ze=s0(qe,ge)|0,He=0;do S0=(Be^He^He>>>8)&255,Ye=S0+Ye+(S0^We[Te+(He+ze)|0])|0,He=He+1|0;while((He|0)<(ue|0))}qe=qe+1|0}while((qe|0)<(ve|0))}while(!1);if(ue=r[n+68+(pe<<2)>>2]|0,(Ye|0)!=(ue|0)){m=64;break}}if(pe=pe+1|0,(pe|0)>=(_|0)){o=0,m=66;break}}return(m|0)==33?(k1(r[pt>>2]|0,12208,(S0=D,D=D+8|0,r[S0>>2]=r[o+92>>2],S0|0))|0,D=S0,S0=5,D=h,S0|0):(m|0)==49?(E0=r[o+92>>2]|0,k1(r[pt>>2]|0,11840,(S0=D,D=D+24|0,r[S0>>2]=ve,r[S0+8>>2]=ue,r[S0+16>>2]=E0,S0|0))|0,D=S0,S0=5,D=h,S0|0):(m|0)==64?(E0=r[o+92>>2]|0,k1(r[pt>>2]|0,11840,(S0=D,D=D+24|0,r[S0>>2]=ue,r[S0+8>>2]=Ye,r[S0+16>>2]=E0,S0|0))|0,D=S0,S0=5,D=h,S0|0):(m|0)==66?(D=h,o|0):0}function Du(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;if(B=j[h+93784+((r[o+8>>2]|0)*4400|0)+2|0]|0,ue=jt(n)|0,w=o+380|0,j[w]=ue,ue>>>0>7)return ue=0,ue|0;g=h+11096+(B*5168|0)+476|0;do if((r[g>>2]|0)==0)y=o+381|0;else{if(y=pr(n)|0,y=(We[w]|0)+y|0,y>>>0>7)return ue=0,ue|0;ue=o+381|0,j[ue]=y,y=ue;break}while(!1);_=o+328|0,C=h+11096+(B*5168|0)+5164|0,q=h+11096+(B*5168|0)+5160|0,h=o+20|0,B=o+332|0,te=0;e:for(;;){if((te|0)==1)if((r[h>>2]|0)==0)re=B,m=9;else{o=1,m=33;break}else(te|0)==0&&(re=_,m=9);do if((m|0)==9){if(m=0,oe=r[re>>2]|0,re=oe-1|0,oe=(oe|0)<1,!oe)for(le=0;ue=(nt(n,1)|0)&255,j[o+382+(te<<4)+le|0]=ue,(le|0)<(re|0);)le=le+1|0;if((r[g>>2]|0)!=0){if(oe)break;for(le=0;ue=(nt(n,1)|0)&255,j[o+414+(te<<4)+le|0]=ue,(le|0)<(re|0);)le=le+1|0}if(oe)break;for(oe=0;;){if((j[o+382+(te<<4)+oe|0]|0)==0)be[o+446+(te<<5)+(oe<<1)>>1]=1<<We[w],j[o+510+(te<<4)+oe|0]=0;else{if(le=pr(n)|0,(le+128|0)>>>0>255){o=0,m=33;break e}if(be[o+446+(te<<5)+(oe<<1)>>1]=(1<<We[w])+le,le=pr(n)|0,ue=r[q>>2]|0,(le|0)<(-ue|0)|(le|0)>(ue-1|0)){o=0,m=33;break e}j[o+510+(te<<4)+oe|0]=le}if((j[o+414+(te<<4)+oe|0]|0)==0)ue=1<<We[y]&65535,be[o+542+(te<<6)+(oe<<2)>>1]=ue,j[o+670+(te<<5)+(oe<<1)|0]=0,be[o+542+(te<<6)+(oe<<2)+2>>1]=ue,j[o+670+(te<<5)+(oe<<1)+1|0]=0;else{le=0;do{if(ne=pr(n)|0,(ne+128|0)>>>0>255){o=0,m=33;break e}if(pe=o+542+(te<<6)+(oe<<2)+(le<<1)|0,be[pe>>1]=(1<<We[y])+ne,ue=pr(n)|0,ne=r[C>>2]|0,(ue|0)<(ne*-4|0|0)){o=0,m=33;break e}if((ue|0)>((ne<<2)-1|0)){o=0,m=33;break e}pe=s0(be[pe>>1]|0,ne)|0,pe=ne+ue-(pe>>We[y])|0,ue=-ne|0;do if((pe|0)<(ue|0))ne=ue&255;else if(ne=ne-1|0,(pe|0)>(ne|0)){ne=ne&255;break}else{ne=pe&255;break}while(!1);j[o+670+(te<<5)+(oe<<1)+le|0]=ne,le=le+1|0}while((le|0)<2)}if((oe|0)<(re|0))oe=oe+1|0;else break}}while(!1);if(te=te+1|0,(te|0)>=2){o=1,m=33;break}}return(m|0)==33?o|0:0}function u2(n){n=n|0;var o=0,h=0,m=0;r[n>>2]=0,j[n+4|0]=0,j[n+5|0]=0,r[n+8>>2]=0,j[n+12|0]=0,r[n+28>>2]=0,j[n+32|0]=0,V0(n+16|0,0,10)|0,r2(n+34|0),r[n+136>>2]=0,r[n+140>>2]=0,r[n+144>>2]=0,o=0;do j[n+148+o|0]=0,r[n+164+(o<<2)>>2]=0,j[n+228+o|0]=0,j[n+244+o|0]=0,r[n+260+(o<<2)>>2]=0,o=o+1|0;while((o|0)<16);for(r[n+376>>2]=0,j[n+380|0]=0,j[n+381|0]=0,V0(n+324|0,0,49)|0,o=0;;)if(j[n+382+o|0]=0,j[n+414+o|0]=0,be[n+446+(o<<1)>>1]=0,j[n+510+o|0]=0,be[n+542+(o<<2)+2>>1]=0,be[n+542+(o<<2)>>1]=0,j[n+670+(o<<1)+1|0]=0,j[n+670+(o<<1)|0]=0,o=o+1|0,(o|0)>=16){o=0;break}do j[n+398+o|0]=0,j[n+430+o|0]=0,be[n+478+(o<<1)>>1]=0,j[n+526+o|0]=0,be[n+606+(o<<2)+2>>1]=0,be[n+606+(o<<2)>>1]=0,j[n+702+(o<<1)+1|0]=0,j[n+702+(o<<1)|0]=0,o=o+1|0;while((o|0)<16);for(r[n+756>>2]=0,r[n+760>>2]=0,j[n+764|0]=0,r[n+768>>2]=0,r[n+772>>2]=0,V0(n+736|0,0,19)|0,o=r[n+776>>2]|0,h=n+780|0,m=r[h>>2]|0,(m|0)!=(o|0)&&(r[h>>2]=m+(~((m-4+(-o|0)|0)>>>2)<<2)),V0(n+788|0,0,24)|0,r2(n+812|0),r[n+912>>2]=0,o=0;;)if(r[n+916+(o<<2)>>2]=0,r[n+1044+(o<<2)>>2]=0,r[n+1172+(o<<2)>>2]=0,j[n+1300+o|0]=0,o=o+1|0,(o|0)>=16){o=0;break}do r[n+980+(o<<2)>>2]=0,r[n+1108+(o<<2)>>2]=0,r[n+1236+(o<<2)>>2]=0,j[n+1316+o|0]=0,o=o+1|0;while((o|0)<16);if(h=r[n+1344>>2]|0,o=n+1348|0,m=r[o>>2]|0,(m|0)==(h|0)){m=n+1340|0,j[m]=0;return}r[o>>2]=m+(~((m-4+(-h|0)|0)>>>2)<<2),m=n+1340|0,j[m]=0}function eo(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;if(j[m]=0,u2(n),C=n+12|0,j[C]=0,pe=(nt(o,1)|0)&255,_=n+4|0,j[_]=pe,(j[h+377210|0]|0)!=0&&(pe=(nt(o,1)|0)&255,j[n+5|0]=pe),g=jt(o)|0,r[n+8>>2]=g,(g|0)>64|(g|0)==-99999||(j[h+93784+(g*4400|0)|0]|0)==0)return kt(h+4|0,1009,0),pe=0,pe|0;if(w=j[h+93784+(g*4400|0)+2|0]|0,q=h+11096+(w*5168|0)|0,(j[q|0]|0)==0)return kt(h+4|0,1010,0),j[m]=0,pe=0,pe|0;if((j[_]|0)==0){for((j[h+93784+(g*4400|0)+3|0]|0)==0?B=0:B=(nt(o,1)|0)&255,j[C]=B,B=r[h+11096+(w*5168|0)+5072>>2]|0,te=0;(1<<te|0)<(B|0);)te=te+1|0;if(B=nt(o,te)|0,(j[C]|0)==0)C=0;else{if((B|0)==0)return j[m]=0,kt(h+4|0,1021,0),pe=0,pe|0;if(te=r[h+376224>>2]|0,(te|0)==0)return pe=16,pe|0;Tt(n|0,te|0,776)|0,re=(te|0)==(n|0),re||vs(n+776|0,r[te+776>>2]|0,r[te+780>>2]|0),Tt(n+788|0,te+788|0,544)|0,ma(n+1332|0,te+1332|0)|0,j[n+1340|0]=j[te+1340|0]|0,re||vs(n+1344|0,r[te+1344>>2]|0,r[te+1348>>2]|0),j[_]=0,j[C]=1,C=1}r[n+16>>2]=B,(B|0)>=0&&(y=25)}else j[C]=0,r[n+16>>2]=0,C=0,B=0,y=25;do if((y|0)==25){if(_=n+16|0,(B|0)>=(r[h+11096+(w*5168|0)+5072>>2]|0))break;e:do if(C<<24>>24==0){if(B=h+93784+(g*4400|0)+4132|0,(j[B]|0)>0){C=0;do _s(o,1),C=C+1|0;while((C|0)<(j[B]|0))}if(pe=jt(o)|0,C=n+20|0,r[C>>2]=pe,(pe|0)>2|(pe|0)==-99999)return kt(h+4|0,1007,0),j[m]=0,pe=0,pe|0;(j[h+93784+(g*4400|0)+31|0]|0)==0?j[n+24|0]=1:(pe=(nt(o,1)|0)&255,j[n+24|0]=pe),(j[h+11096+(w*5168|0)+480|0]|0)==1&&(pe=(nt(o,2)|0)&255,j[n+25|0]=pe),te=n+28|0,r[te>>2]=0,re=n+32|0,j[re]=0;do if(((j[h+377208|0]|0)-19&255)>>>0<2)r[te>>2]=0,r[n+140>>2]=0,r[n+144>>2]=0,le=0;else{B=h+11096+(w*5168|0)+520|0,pe=nt(o,r[B>>2]|0)|0,r[te>>2]=pe,pe=(nt(o,1)|0)&255,j[re]=pe;do if(pe<<24>>24==0)re=n+34|0,oe=h+11096+(w*5168|0)+4724|0,te=h+11096+(w*5168|0)+4720|0,s2((h|0)==0?0:h+4|0,q,o,re,((r[oe>>2]|0)-(r[te>>2]|0)|0)/100|0,h+11096+(w*5168|0)+4720|0,1)|0,r[n+808>>2]=((r[oe>>2]|0)-(r[te>>2]|0)|0)/100|0,Tt(n+812|0,re|0,100)|0;else{for(le=h+11096+(w*5168|0)+4724|0,oe=r[le>>2]|0,te=h+11096+(w*5168|0)+4720|0,q=r[te>>2]|0,re=(oe-q|0)/100|0,ne=0;(1<<ne|0)<(re|0);)ne=ne+1|0;if((ne|0)>0?(re=nt(o,ne)|0,r[n+136>>2]=re,oe=r[le>>2]|0,q=r[te>>2]|0):(r[n+136>>2]=0,re=0),(re|0)<((oe-q|0)/100|0|0)){r[n+808>>2]=re,Tt(n+812|0,q+(re*100|0)|0,100)|0;break}return kt(h+4|0,1015,0),pe=8,pe|0}while(!1);t:do if((j[h+11096+(w*5168|0)+4732|0]|0)==0)r[n+140>>2]=0,r[n+144>>2]=0,le=0;else{q=h+11096+(w*5168|0)+4736|0;do if((r[q>>2]|0)>0){if(pe=jt(o)|0,r[n+140>>2]=pe,(pe|0)==-99999)n=8;else break;return n|0}else r[n+140>>2]=0;while(!1);if(oe=jt(o)|0,re=n+144|0,r[re>>2]=oe,(oe|0)==-99999)return pe=8,pe|0;if(te=n+140|0,ne=r[te>>2]|0,oe=ne+oe|0,(oe+(We[n+908|0]|0)+(We[n+909|0]|0)|0)>(r[h+11096+(w*5168|0)+528+((j[h+11096+(w*5168|0)+2|0]|0)-1<<2)>>2]|0))return kt(h+4|0,1018,0),j[m]=0,pe=0,pe|0;if((oe|0)>0)oe=0,le=0;else{le=0;break}for(;;){if((oe|0)<(ne|0)){for(pe=r[q>>2]|0,ne=0;(1<<ne|0)<(pe|0);)ne=ne+1|0;if(pe=nt(o,ne)|0,ne=n+148+oe|0,j[ne]=pe,pe=pe&255,(pe|0)>=(r[q>>2]|0))break;r[h+376228+(oe<<2)>>2]=r[h+11096+(w*5168|0)+4740+(pe<<2)>>2],ne=j[(We[ne]|0)+(h+11096+(w*5168|0)+4868)|0]|0,r[h+376292+(oe<<2)>>2]=ne}else ue=nt(o,r[B>>2]|0)|0,pe=n+164+(oe<<2)|0,r[pe>>2]=ue,ue=(nt(o,1)|0)&255,ne=n+228+oe|0,j[ne]=ue,r[h+376228+(oe<<2)>>2]=r[pe>>2],ne=j[ne]|0,r[h+376292+(oe<<2)>>2]=ne;if(le=((ne|0)!=0)+le|0,ue=(nt(o,1)|0)&255,j[n+244+oe|0]=ue,ue<<24>>24==0)r[n+260+(oe<<2)>>2]=0,ne=0;else if(ne=jt(o)|0,r[n+260+(oe<<2)>>2]=ne,(ne|0)==-99999){n=8,y=194;break}do if((oe|0)==0)y=68;else{if((oe|0)==(r[te>>2]|0)){y=68;break}r[h+376356+(oe<<2)>>2]=(r[h+376356+(oe-1<<2)>>2]|0)+ne}while(!1);if((y|0)==68&&(y=0,r[h+376356+(oe<<2)>>2]=ne),oe=oe+1|0,ne=r[te>>2]|0,(oe|0)>=((r[re>>2]|0)+ne|0))break t}return(y|0)==194?n|0:(kt(h+4|0,1023,0),j[m]=0,ue=0,ue|0)}while(!1);if((j[h+11096+(w*5168|0)+4900|0]|0)==0){j[n+324|0]=0;break}else{ue=(nt(o,1)|0)&255,j[n+324|0]=ue;break}}while(!1);do if((j[h+11096+(w*5168|0)+4703|0]|0)==0)j[n+325|0]=0,j[n+326|0]=0;else if(ue=(nt(o,1)|0)&255,j[n+325|0]=ue,(r[h+11096+(w*5168|0)+5012>>2]|0)==0){j[n+326|0]=0;break}else{ue=(nt(o,1)|0)&255,j[n+326|0]=ue;break}while(!1);B=n+328|0,r[B>>2]=0,q=n+332|0,r[q>>2]=0;do if((r[C>>2]|0)>>>0<2){ue=(nt(o,1)|0)&255,j[n+327|0]=ue;do if(ue<<24>>24==0)te=j[h+93784+(g*4400|0)+6|0]|0,r[B>>2]=te,re=j[h+93784+(g*4400|0)+7|0]|0,y=90;else{if(te=jt(o)|0,r[B>>2]=te,(te|0)==-99999)return kt(h+4|0,1007,0),ue=8,ue|0;if(te=te+1|0,r[B>>2]=te,(r[C>>2]|0)!=0)break;if(y=jt(o)|0,r[q>>2]=y,(y|0)!=-99999){re=y+1|0,te=r[B>>2]|0,y=90;break}return kt(h+4|0,1007,0),ue=8,ue|0}while(!1);if((y|0)==90&&(r[q>>2]=re),(te|0)>16||(r[q>>2]|0)>16)return ue=8,ue|0;te=(We[n+911|0]|0)+le|0,r[n+912>>2]=te;do if((j[h+93784+(g*4400|0)+4125|0]|0)!=0&(te|0)>1){for(y=0;(1<<y|0)<(te|0);)y=y+1|0;ue=(nt(o,1)|0)&255,j[n+336|0]=ue;do if(ue<<24>>24!=0){if((r[B>>2]|0)>0)te=0;else break;do ue=(nt(o,y)|0)&255,j[n+338+te|0]=ue,te=te+1|0;while((te|0)<(r[B>>2]|0))}while(!1);if((r[C>>2]|0)!=0){j[n+337|0]=0;break}if(ue=(nt(o,1)|0)&255,j[n+337|0]=ue,ue<<24>>24==0)break;if((r[q>>2]|0)>0)te=0;else break;do ue=(nt(o,y)|0)&255,j[n+354+te|0]=ue,te=te+1|0;while((te|0)<(r[q>>2]|0))}else j[n+336|0]=0,j[n+337|0]=0;while(!1);(r[C>>2]|0)==0&&(ue=(nt(o,1)|0)&255,j[n+370|0]=ue),(j[h+93784+(g*4400|0)+5|0]|0)==0?j[n+371|0]=0:(ue=(nt(o,1)|0)&255,j[n+371|0]=ue);do if((j[n+324|0]|0)!=0){do if((r[C>>2]|0)==0){if(te=(nt(o,1)|0)&255,j[n+372|0]=te,re=n+372|0,te<<24>>24!=0){y=113;break}(r[q>>2]|0)>1?y=115:(re=0,y=118)}else j[n+372|0]=1,te=1,re=n+372|0,y=113;while(!1);(y|0)==113&&((r[B>>2]|0)>1?y=115:(re=te,y=118));do if((y|0)==115){if(te=jt(o)|0,r[n+376>>2]=te,(te|0)!=-99999){re=j[re]|0;break}return kt(h+4|0,1007,0),ue=8,ue|0}else(y|0)==118&&(r[n+376>>2]=0,te=0);while(!1);if(re<<24>>24==0){if((te|0)<(r[q>>2]|0))break}else if((te|0)<(r[B>>2]|0))break;return kt(h+4|0,8,0),ue=8,ue|0}while(!1);(j[h+93784+(g*4400|0)+29|0]|0)==0?y=125:(r[C>>2]|0)==1?y=127:y=125;do if((y|0)==125){if((j[h+93784+(g*4400|0)+30|0]|0)==0)break;(r[C>>2]|0)==0&&(y=127)}while(!1);do if((y|0)==127){if(Du(o,n,h)|0)break;return kt(h+4|0,8,0),ue=8,ue|0}while(!1);if(C=jt(o)|0,r[n+736>>2]=C,(C|0)!=-99999){r[n+804>>2]=5-C;break}return kt(h+4|0,1007,0),ue=8,ue|0}while(!1);if(ue=pr(o)|0,r[n+740>>2]=ue,(ue|0)==-99999)return kt(h+4|0,1007,0),ue=8,ue|0;do if((j[h+93784+(g*4400|0)+28|0]|0)==0)r[n+744>>2]=0,r[n+748>>2]=0;else{if(ue=pr(o)|0,r[n+744>>2]=ue,(ue|0)==-99999)return kt(h+4|0,1007,0),ue=8,ue|0;if(ue=pr(o)|0,r[n+748>>2]=ue,(ue|0)!=-99999)break;return kt(h+4|0,1007,0),ue=8,ue|0}while(!1);(j[h+93784+(g*4400|0)+4140|0]|0)!=0&&(ue=(nt(o,1)|0)&255,j[n+752|0]=ue),(j[h+93784+(g*4400|0)+48|0]|0)==0?(j[n+753|0]=0,q=1):(q=(nt(o,1)|0)&255,j[n+753|0]=q,q=q<<24>>24==0),B=n+756|0,r[B>>2]=r[h+93784+(g*4400|0)+52>>2],C=n+760|0,r[C>>2]=r[h+93784+(g*4400|0)+56>>2];do if(q)j[n+754|0]=j[h+93784+(g*4400|0)+49|0]|0;else{if(ue=(nt(o,1)|0)&255,j[n+754|0]=ue,ue<<24>>24!=0)break;if(q=pr(o)|0,r[B>>2]=q,(q|0)==-99999)return kt(h+4|0,1007,0),ue=8,ue|0;if(r[B>>2]=q<<1,B=pr(o)|0,r[C>>2]=B,(B|0)!=-99999){r[C>>2]=B<<1;break}return kt(h+4|0,1007,0),ue=8,ue|0}while(!1);C=j[h+93784+(g*4400|0)+46|0]|0;t:do if(C<<24>>24!=0){do if((j[n+325|0]|0)==0){if((j[n+326|0]|0)!=0)break;if((j[n+754|0]|0)!=0)break t}while(!1);ue=(nt(o,1)|0)&255,j[n+764|0]=ue;break e}while(!1);j[n+764|0]=C}while(!1);B=h+93784+(g*4400|0)+34|0;do if((j[B]|0)==0){if((j[h+93784+(g*4400|0)+33|0]|0)!=0){y=161;break}r[n+768>>2]=0}else y=161;while(!1);e:do if((y|0)==161){if(C=jt(o)|0,y=n+768|0,r[y>>2]=C,(C|0)==-99999)return kt(h+4|0,1007,0),ue=8,ue|0;do if((j[h+93784+(g*4400|0)+33|0]|0)!=0){if((((r[_>>2]|0)/(r[h+11096+(w*5168|0)+5056>>2]|0)|0)+C|0)<(r[h+11096+(w*5168|0)+5064>>2]|0))break;return kt(h+4|0,1007,0),ue=8,ue|0}while(!1);do if((j[B]|0)!=0){if((C|0)<=(s0(r[h+93784+(g*4400|0)+40>>2]|0,r[h+93784+(g*4400|0)+36>>2]|0)|0))break;return kt(h+4|0,1007,0),ue=8,ue|0}while(!1);te=n+776|0,B=n+780|0,_=r[B>>2]|0,w=te|0,q=r[w>>2]|0,re=_-q>>2;do if(re>>>0<C>>>0)gn(te,C-re|0),C=r[y>>2]|0;else{if(!(re>>>0>C>>>0)||(q=q+(C<<2)|0,(_|0)==(q|0)))break;r[B>>2]=_+(~((_-4+(-q|0)|0)>>>2)<<2)}while(!1);if((C|0)<=0)break;if(C=jt(o)|0,_=n+772|0,r[_>>2]=C,(C|0)==-99999)return kt(h+4|0,1007,0),ue=8,ue|0;if(B=C+1|0,r[_>>2]=B,(C|0)>31)return ue=8,ue|0;if((r[y>>2]|0)>0)C=0;else break;for(;;){if(te=(nt(o,B)|0)+1|0,q=r[w>>2]|0,B=q+(C<<2)|0,r[B>>2]=te,(C|0)>0&&(r[B>>2]=te+(r[q+(C-1<<2)>>2]|0)),C=C+1|0,(C|0)>=(r[y>>2]|0))break e;B=r[_>>2]|0}}while(!1);do if((j[h+93784+(g*4400|0)+4133|0]|0)!=0){if(y=jt(o)|0,w=n+788|0,r[w>>2]=y,(y|0)==-99999|(y|0)>1e3)return kt(h+4|0,1007,0),ue=8,ue|0;if((y|0)>0)y=0;else break;do nt(o,8)|0,y=y+1|0;while((y|0)<(r[w>>2]|0))}while(!1);return r[n+792>>2]=(r[n+740>>2]|0)+(r[h+93784+(g*4400|0)+8>>2]|0),h=r[n+20>>2]|0,(h|0)==2?r[n+796>>2]=0:(h|0)==1?r[n+796>>2]=(j[n+371|0]|0)+1:(h|0)==0&&(r[n+796>>2]=2-(j[n+371|0]|0)),r[n+804>>2]=5-(r[n+736>>2]|0),j[m]=1,ue=0,ue|0}while(!1);return kt(h+4|0,1020,0),ue=8,ue|0}function d1(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0;if(m=D,(h|0)==2)h=pt;else if((h|0)==1)h=wt;else{D=m;return}h=r[h>>2]|0,w=n+8|0,g=r[w>>2]|0,(j[o+93784+(g*4400|0)|0]|0)==0&&y0(12424,14776,1278,17264),y=j[o+93784+(g*4400|0)+2|0]|0,(j[o+11096+(y*5168|0)|0]|0)==0&&y0(12192,14776,1281,17264),I0(h,11792,(C=D,D=D+1|0,D=D+7&-8,r[C>>2]=0,C|0)),D=C,C=n+4|0,I0(h,11512,(_=D,D=D+8|0,r[_>>2]=j[C]|0,_|0)),D=_,_=o+377208|0,((j[_]|0)-16&255)>>>0<8&&(I0(h,11232,(te=D,D=D+8|0,r[te>>2]=j[n+5|0]|0,te|0)),D=te),I0(h,10984,(te=D,D=D+8|0,r[te>>2]=r[w>>2],te|0)),D=te,(j[C]|0)==0&&(I0(h,10720,(te=D,D=D+8|0,r[te>>2]=j[n+12|0]|0,te|0)),D=te,I0(h,10472,(te=D,D=D+8|0,r[te>>2]=r[n+16>>2],te|0)),D=te),w=n+20|0,C=r[w>>2]|0,(C|0)==0?C=66:C=(C|0)==1?80:73,I0(h,10144,(te=D,D=D+8|0,r[te>>2]=C,te|0)),D=te,(j[o+93784+(g*4400|0)+31|0]|0)!=0&&(I0(h,9808,(te=D,D=D+8|0,r[te>>2]=j[n+24|0]|0,te|0)),D=te),(j[o+11096+(y*5168|0)+480|0]|0)==1&&(I0(h,9360,(te=D,D=D+8|0,r[te>>2]=j[n+25|0]|0,te|0)),D=te),I0(h,9064,(te=D,D=D+8|0,r[te>>2]=r[n+28>>2],te|0)),D=te;do if(!(((j[_]|0)-19&255)>>>0<2)){te=n+32|0,I0(h,8752,(C=D,D=D+8|0,r[C>>2]=j[te]|0,C|0)),D=C,C=o+11096+(y*5168|0)+4720|0,_=(r[o+11096+(y*5168|0)+4724>>2]|0)-(r[C>>2]|0)|0;do if((j[te]|0)==0)I0(h,8440,(te=D,D=D+8|0,r[te>>2]=(_|0)/100|0,te|0)),D=te,Z1(n+34|0,16,h);else{if((_|0)<=100)break;te=n+136|0,I0(h,8232,(q=D,D=D+8|0,r[q>>2]=r[te>>2],q|0)),D=q,Z1((r[C>>2]|0)+((r[te>>2]|0)*100|0)|0,16,h)}while(!1);if((j[o+11096+(y*5168|0)+4732|0]|0)!=0&&((r[o+11096+(y*5168|0)+4736>>2]|0)>0&&(I0(h,7960,(te=D,D=D+8|0,r[te>>2]=r[n+140>>2],te|0)),D=te),I0(h,7680,(te=D,D=D+8|0,r[te>>2]=r[n+144>>2],te|0)),D=te),(j[o+11096+(y*5168|0)+4900|0]|0)==0)break;I0(h,7392,(te=D,D=D+8|0,r[te>>2]=j[n+324|0]|0,te|0)),D=te}while(!1);if((j[o+11096+(y*5168|0)+4703|0]|0)!=0&&(I0(h,7088,(te=D,D=D+8|0,r[te>>2]=j[n+325|0]|0,te|0)),D=te,I0(h,6808,(te=D,D=D+8|0,r[te>>2]=j[n+326|0]|0,te|0)),D=te),(r[w>>2]|0)>>>0<2){C=n+327|0,I0(h,6528,(_=D,D=D+8|0,r[_>>2]=j[C]|0,_|0)),D=_,_=n+328|0,q=(j[C]|0)!=0?31320:6040,I0(h,6376,(te=D,D=D+16|0,r[te>>2]=r[_>>2],r[te+8>>2]=q,te|0)),D=te,(r[w>>2]|0)==0&&(q=(j[C]|0)!=0?31320:6040,I0(h,5856,(te=D,D=D+16|0,r[te>>2]=r[n+332>>2],r[te+8>>2]=q,te|0)),D=te);do if((j[o+93784+(g*4400|0)+4125|0]|0)!=0){if((r[n+912>>2]|0)<=1)break;te=n+336|0,I0(h,5712,(q=D,D=D+8|0,r[q>>2]=j[te]|0,q|0)),D=q;do if((j[te]|0)!=0){if((r[_>>2]|0)>0)C=0;else break;do q=We[n+338+C|0]|0,I0(h,5552,(te=D,D=D+16|0,r[te>>2]=C,r[te+8>>2]=q,te|0)),D=te,C=C+1|0;while((C|0)<(r[_>>2]|0))}while(!1);if(te=n+337|0,I0(h,5392,(q=D,D=D+8|0,r[q>>2]=j[te]|0,q|0)),D=q,(j[te]|0)==0)break;if(B=n+332|0,(r[B>>2]|0)>0)C=0;else break;do q=We[n+354+C|0]|0,I0(h,5552,(te=D,D=D+16|0,r[te>>2]=C,r[te+8>>2]=q,te|0)),D=te,C=C+1|0;while((C|0)<(r[B>>2]|0))}while(!1);(r[w>>2]|0)==0&&(I0(h,5224,(te=D,D=D+8|0,r[te>>2]=j[n+370|0]|0,te|0)),D=te),I0(h,5008,(te=D,D=D+8|0,r[te>>2]=j[n+371|0]|0,te|0)),D=te,(j[n+324|0]|0)!=0&&(I0(h,4832,(te=D,D=D+8|0,r[te>>2]=j[n+372|0]|0,te|0)),D=te,I0(h,4712,(te=D,D=D+8|0,r[te>>2]=r[n+376>>2],te|0)),D=te),(j[o+93784+(g*4400|0)+29|0]|0)==0?C=47:(r[w>>2]|0)==1?C=49:C=47;do if((C|0)==47){if((j[o+93784+(g*4400|0)+30|0]|0)==0)break;(r[w>>2]|0)==0&&(C=49)}while(!1);e:do if((C|0)==49){I0(h,4480,(te=D,D=D+8|0,r[te>>2]=We[n+380|0]|0,te|0)),D=te,(r[o+11096+(y*5168|0)+476>>2]|0)!=0&&(I0(h,4248,(te=D,D=D+8|0,r[te>>2]=We[n+381|0]|0,te|0)),D=te),y=n+332|0,B=0;do{if((B|0)==1)if((r[w>>2]|0)==0)q=y,C=54;else break e;else(B|0)==0&&(q=_,C=54);do if((C|0)==54){if(C=0,te=r[q>>2]|0,q=te-1|0,(te|0)<1)break;for(te=0;re=be[n+446+(B<<5)+(te<<1)>>1]|0,I0(h,4096,(oe=D,D=D+24|0,r[oe>>2]=B,r[oe+8>>2]=te,r[oe+16>>2]=re,oe|0)),D=oe,oe=j[n+510+(B<<4)+te|0]|0,I0(h,4008,(re=D,D=D+24|0,r[re>>2]=B,r[re+8>>2]=te,r[re+16>>2]=oe,re|0)),D=re,re=be[n+542+(B<<6)+(te<<2)>>1]|0,I0(h,3944,(oe=D,D=D+32|0,r[oe>>2]=B,r[oe+8>>2]=te,r[oe+16>>2]=0,r[oe+24>>2]=re,oe|0)),D=oe,oe=j[n+670+(B<<5)+(te<<1)|0]|0,I0(h,3880,(re=D,D=D+32|0,r[re>>2]=B,r[re+8>>2]=te,r[re+16>>2]=0,r[re+24>>2]=oe,re|0)),D=re,re=be[n+542+(B<<6)+(te<<2)+2>>1]|0,I0(h,3944,(oe=D,D=D+32|0,r[oe>>2]=B,r[oe+8>>2]=te,r[oe+16>>2]=1,r[oe+24>>2]=re,oe|0)),D=oe,oe=j[n+670+(B<<5)+(te<<1)+1|0]|0,I0(h,3880,(re=D,D=D+32|0,r[re>>2]=B,r[re+8>>2]=te,r[re+16>>2]=1,r[re+24>>2]=oe,re|0)),D=re,(te|0)<(q|0);)te=te+1|0}while(!1);B=B+1|0}while((B|0)<2)}while(!1);I0(h,3792,(oe=D,D=D+8|0,r[oe>>2]=r[n+736>>2],oe|0)),D=oe}I0(h,3624,(oe=D,D=D+8|0,r[oe>>2]=r[n+740>>2],oe|0)),D=oe,(j[o+93784+(g*4400|0)+28|0]|0)!=0&&(I0(h,3464,(oe=D,D=D+8|0,r[oe>>2]=r[n+744>>2],oe|0)),D=oe,I0(h,3360,(oe=D,D=D+8|0,r[oe>>2]=r[n+748>>2],oe|0)),D=oe),w=n+753|0,(j[o+93784+(g*4400|0)+48|0]|0)!=0&&(I0(h,3144,(oe=D,D=D+8|0,r[oe>>2]=j[w]|0,oe|0)),D=oe),y=n+754|0,re=((j[w]|0)!=0?2896:2816)|0,I0(h,3088,(oe=D,D=D+16|0,r[oe>>2]=j[y]|0,r[oe+8>>2]=re,oe|0)),D=oe;do if((j[w]|0)!=0){if((j[y]|0)!=0)break;I0(h,2696,(oe=D,D=D+8|0,r[oe>>2]=r[n+756>>2],oe|0)),D=oe,I0(h,2600,(oe=D,D=D+8|0,r[oe>>2]=r[n+760>>2],oe|0)),D=oe}while(!1);e:do if((j[o+93784+(g*4400|0)+46|0]|0)!=0){do if((j[n+325|0]|0)==0){if((j[n+326|0]|0)!=0)break;if((j[y]|0)!=0)break e}while(!1);I0(h,2480,(oe=D,D=D+8|0,r[oe>>2]=j[n+764|0]|0,oe|0)),D=oe}while(!1);do if((j[o+93784+(g*4400|0)+34|0]|0)==0){if((j[o+93784+(g*4400|0)+33|0]|0)!=0)break;D=m;return}while(!1);if(o=n+768|0,I0(h,2320,(oe=D,D=D+8|0,r[oe>>2]=r[o>>2],oe|0)),D=oe,(r[o>>2]|0)<=0){D=m;return}if(I0(h,2136,(oe=D,D=D+8|0,r[oe>>2]=r[n+772>>2],oe|0)),D=oe,(r[o>>2]|0)<=0){D=m;return}n=n+776|0,g=0;do re=r[(r[n>>2]|0)+(g<<2)>>2]|0,I0(h,2048,(oe=D,D=D+16|0,r[oe>>2]=g,r[oe+8>>2]=re,oe|0)),D=oe,g=g+1|0;while((g|0)<(r[o>>2]|0));D=m}function Ru(){var n=0,o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0;if(n=ii(11296)|0,(n|0)==0)return Ve=0,Ve|0;V0(n|0,-1,11296)|0,r[7766]=n,r[7767]=n,r[7768]=n,r[7769]=n,r[7770]=n,r[7771]=n,r[7772]=n,r[7773]=n,o=n+16|0,r[7774]=o,r[7775]=o,r[7776]=o,r[7777]=o,r[7778]=o,r[7779]=o,r[7780]=o,r[7781]=o,o=n+1056|0,r[7782]=n+32,r[7783]=n+96,r[7784]=n+160,r[7785]=n+224,r[7786]=n+288,r[7787]=n+352,r[7788]=n+416,r[7789]=n+480,r[7790]=n+544,r[7791]=n+608,r[7792]=n+672,r[7793]=n+736,r[7794]=n+800,r[7795]=n+864,r[7796]=n+928,r[7797]=n+992,r[7798]=o,r[7802]=o,o=n+1312|0,r[7799]=o,r[7803]=o,o=n+1568|0,r[7800]=o,r[7804]=o,o=n+1824|0,r[7801]=o,r[7805]=o,o=n+2080|0,r[7806]=o,r[7810]=o,o=n+2336|0,r[7807]=o,r[7811]=o,o=n+2592|0,r[7808]=o,r[7812]=o,o=n+2848|0,r[7809]=o,r[7813]=o,o=n+3104|0,r[7814]=o,r[7818]=o,o=n+4128|0,r[7815]=o,r[7819]=o,o=n+5152|0,r[7816]=o,r[7820]=o,o=n+6176|0,r[7817]=o,r[7821]=o,o=n+7200|0,r[7822]=o,r[7826]=o,o=n+8224|0,r[7823]=o,r[7827]=o,o=n+9248|0,r[7824]=o,r[7828]=o,o=n+10272|0,r[7825]=o,r[7829]=o,o=2;e:for(;;){oe=1<<o,w=(oe|0)>0,_=oe>>2,h=(_|0)==1,m=o-2|0,_=(_|0)==2,g=0;do{y=(g|0)==0,n=0;do{B=(n|0)==0?9:15,C=0;do{if(w){q=31064+(m<<6)+(g<<5)+(n<<4)+(C<<2)|0,te=0;do{if(ge=te<<2,re=te<<o,le=-te|0,ne=te>>2,pe=te&3,ve=(pe|0)==0,ue=(pe|0)==1|0,h){le=0;do{if(ne=We[27272+(le+ge)|0]|0,ne=y?ne:ne+27|0,pe=(r[q>>2]|0)+(le+re)|0,Ve=j[pe]|0,!(Ve<<24>>24==-1|(Ve&255|0)==(ne|0))){o=26;break e}j[pe]=ne,le=le+1|0}while((le|0)<(oe|0))}else{ge=0;do{do if((ge|0)==(le|0))Te=0;else{Te=ge>>2,Ve=ge&3;do if((C|0)==0){if(Ve=Ve+pe|0,(Ve|0)>2){Ve=0;break}Ve=(Ve|0)>0?1:2}else if((C|0)==1)Ve=ve?2:ue;else if((C|0)==2){if((Ve|0)==0){Ve=2;break}Ve=(Ve|0)==1|0}else Ve=2;while(!1);if(y)if(Te=(Te+ne|0)>0?Ve+3|0:Ve,_){Te=Te+B|0;break}else{Te=Te+21|0;break}else if(_){Te=Ve+9|0;break}else{Te=Ve|12;break}}while(!1);if(Ve=y?Te:Te+27|0,Te=(r[q>>2]|0)+(ge+re)|0,qe=j[Te]|0,!(qe<<24>>24==-1|(qe&255|0)==(Ve|0))){o=26;break e}j[Te]=Ve,ge=ge+1|0}while((ge|0)<(oe|0))}te=te+1|0}while((te|0)<(oe|0))}C=C+1|0}while((C|0)<4);n=n+1|0}while((n|0)<2);g=g+1|0}while((g|0)<2);if(o=o+1|0,(o|0)>=6){n=1,o=33;break}}return(o|0)==26?(y0(1728,14776,2100,18008),0):(o|0)==33?n|0:0}function to(){Ft(r[7766]|0),r[7766]=0}function Lu(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0;y=D,D=D+24|0,w=y|0,ve=r[n+18600>>2]|0,m=r[n+18596>>2]|0,_=w|0,V0(_|0,0,17)|0;do if((o|0)>0){if(B=s0(r[m+5820>>2]|0,h)|0,C=r[m+10308>>2]|0,(r[n>>2]|0)<=(r[ve+800>>2]|0)){C=1;break}if((r[C+(B+o<<2)>>2]|0)!=(r[C+(o-1+B<<2)>>2]|0)){C=1;break}C=((fi(n+18556|0,r[n+18580>>2]|0)|0)&255)<<24>>24==0}else C=1;while(!1);do if((h|0)>0&C){if(q=r[m+5820>>2]|0,B=r[m+10308>>2]|0,((r[n>>2]|0)-q|0)<(r[ve+800>>2]|0)){B=0;break}if(v0=B+((s0(q,h)|0)+o<<2)|0,E0=B+((s0(q,h-1|0)|0)+o<<2)|0,(r[v0>>2]|0)!=(r[E0>>2]|0)){B=0;break}B=((fi(n+18556|0,r[n+18580>>2]|0)|0)&255)<<24>>24!=0}else B=0;while(!1);if(C&(B^1)){te=(r[m+5776>>2]|0)==0?1:3,re=ve+325|0,q=n+18556|0,oe=n+18580|0,le=m+5760|0,n=m+5768|0,ue=m+10087|0,pe=m+10088|0,ne=w+1|0,Te=ve+326|0,ge=0;do{ve=(ge|0)==0,((j[re]|0)!=0&ve||(j[Te]|0)!=0&(ge|0)>0)&&(g=13);do if((g|0)==13){g=0;do if(ve)(fi(q,(r[oe>>2]|0)+1|0)|0)==0?Ge=0:(E0=(Ur(q)|0)==0,Ge=E0?1:2),j[_]=Ge;else{if((ge|0)!=1){Ge=(We[_]|0)>>>(ge<<1>>>0)&3;break}(fi(q,(r[oe>>2]|0)+1|0)|0)==0?Ve=0:(E0=(Ur(q)|0)==0,Ve=E0?1:2),j[_]=Ve<<4|Ve<<2|We[_],Ge=Ve&255}while(!1);if(Ge<<24>>24==0)break;ze=ve?le:n,Ve=r[ze>>2]|0,r0=(fn(q,(Ve|0)<10?(1<<Ve-5)-1|0:31)|0)&255,Ve=w+5+(ge<<2)|0,j[Ve]=r0,qe=r[ze>>2]|0,o0=(fn(q,(qe|0)<10?(1<<qe-5)-1|0:31)|0)&255,qe=w+5+(ge<<2)+1|0,j[qe]=o0,Be=r[ze>>2]|0,Ye=(fn(q,(Be|0)<10?(1<<Be-5)-1|0:31)|0)&255,Be=w+5+(ge<<2)+2|0,j[Be]=Ye,ze=r[ze>>2]|0,He=(fn(q,(ze|0)<10?(1<<ze-5)-1|0:31)|0)&255,ze=w+5+(ge<<2)+3|0,j[ze]=He;do if(Ge<<24>>24==1)r0<<24>>24==0?Ge=0:(E0=(Ur(q)|0)!=0,Ge=E0?-1:1),o0<<24>>24==0?r0=0:(E0=(Ur(q)|0)!=0,r0=E0?-1:1),Ye<<24>>24==0?v0=0:(E0=(Ur(q)|0)!=0,v0=E0?-1:1),He<<24>>24==0?He=0:(E0=(Ur(q)|0)!=0,He=E0?-1:1),o0=(cs(q,5)|0)&255,j[w+2+ge|0]=o0,o0=j[qe]|0,Ye=j[Be]|0,E0=He,He=j[ze]|0;else{if(ve){Ge=(cs(q,2)|0)&255,j[ne]=Ge,Ge=1,r0=1,v0=-1,E0=-1;break}if((ge|0)!=1){Ge=1,r0=1,v0=-1,E0=-1;break}Ge=(cs(q,2)|0)&255,j[ne]=We[ne]|Ge<<2|Ge<<4,Ge=1,r0=1,v0=-1,E0=-1}while(!1);ve=We[ve?ue:pe]|0,Ge=(s0(j[Ve]<<ve,Ge)|0)&255,j[Ve]=Ge,o0=(s0(o0<<24>>24<<ve,r0)|0)&255,j[qe]=o0,v0=(s0(Ye<<24>>24<<ve,v0)|0)&255,j[Be]=v0,E0=(s0(He<<24>>24<<ve,E0)|0)&255,j[ze]=E0}while(!1);ge=ge+1|0}while((ge|0)<(te|0));E0=(s0(r[m+10352>>2]|0,h)|0)+o|0,Tt((r[m+10340>>2]|0)+(E0*24|0)+4|0,_|0,17)|0}if(C||(E0=s0(r[m+10352>>2]|0,h)|0,v0=r[m+10340>>2]|0,Tt(v0+((E0+o|0)*24|0)+4|0,v0+((o-1+E0|0)*24|0)+4|0,17)|0),!B){D=y;return}o0=r[m+10352>>2]|0,E0=(s0(o0,h-1|0)|0)+o|0,v0=r[m+10340>>2]|0,Tt(v0+(((s0(o0,h)|0)+o|0)*24|0)+4|0,v0+(E0*24|0)+4|0,17)|0,D=y}function c2(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0;w=r[n+18600>>2]|0,oe=r[n+18596>>2]|0,g=r[n>>2]|0,m=r[oe+5820>>2]|0,y=(g|0)%(m|0)|0,m=(g|0)/(m|0)|0,g=oe+5804|0,_=r[g>>2]|0,o=y<<_,h=m<<_,B=r[oe+10352>>2]|0,re=(s0(B,m)|0)+y|0,C=r[oe+10340>>2]|0,be[C+(re*24|0)>>1]=r[w+800>>2],re=r[w>>2]&65535,q=r[oe+10348>>2]|0,te=o>>q,q=h>>q,(te|0)>-1&(te|0)<(B|0)||y0(1024,904,128,17320),(q|0)>-1||y0(816,904,129,17320),(q|0)>=(r[oe+10356>>2]|0)&&y0(816,904,129,17320),oe=C+(((s0(B,q)|0)+te|0)*24|0)+2|0,be[oe>>1]=re;do if((j[w+325|0]|0)==0){if((j[w+326|0]|0)!=0)break;f1(n,o,h,_,0);return}while(!1);Lu(n,y,m,0),oe=r[g>>2]|0,f1(n,o,h,oe,0)}function f1(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0;q=n+18596|0,re=n+18600|0,oe=n+18516|0,y=n+18508|0,_=n+18512|0,C=n+18556|0,B=n+18580|0;e:for(;;){w=r[q>>2]|0,ne=1<<m,le=w+1248|0,ue=r[le>>2]|0;do if((ne+o|0)>(ue|0))te=28;else{if(ve=r[w+1252>>2]|0,(ne+h|0)>(ve|0)){te=28;break}if((r[w+5800>>2]|0)>=(m|0)){te=28;break}pe=o-1|0;do if((pe|h|0)>-1&(ue|0)>(pe|0)&(ve|0)>(h|0)){if(ne=r[w+5804>>2]|0,Te=s0(h>>ne,r[w+5820>>2]|0)|0,ge=Te+(o>>ne)|0,ne=Te+(pe>>ne)|0,Te=r[w+10340>>2]|0,(be[Te+(ge*24|0)>>1]|0)!=(be[Te+(ne*24|0)>>1]|0)){ge=0;break}Te=r[w+10308>>2]|0,ge=(r[Te+(ge<<2)>>2]|0)==(r[Te+(ne<<2)>>2]|0)|0}else ge=0;while(!1);ne=h-1|0;do if((ne|o|0)>-1&(ue|0)>(o|0)&(ve|0)>(ne|0)){if(Ve=r[w+5804>>2]|0,Te=r[w+5820>>2]|0,ve=o>>Ve,ue=(s0(h>>Ve,Te)|0)+ve|0,ve=(s0(ne>>Ve,Te)|0)+ve|0,Te=r[w+10340>>2]|0,(be[Te+(ue*24|0)>>1]|0)!=(be[Te+(ve*24|0)>>1]|0)){ue=0;break}Ve=r[w+10308>>2]|0,ue=(r[Ve+(ue<<2)>>2]|0)==(r[Ve+(ve<<2)>>2]|0)|0}else ue=0;while(!1);if((ge|0)==0)pe=2;else{if(ge=r[w+10368>>2]|0,ve=pe>>ge,ge=h>>ge,!((ve|0)>-1)){te=14;break e}if(pe=r[w+10372>>2]|0,(ve|0)>=(pe|0)){te=14;break e}if(!((ge|0)>-1)){te=17;break e}if((ge|0)>=(r[w+10376>>2]|0)){te=17;break e}pe=(s0(pe,ge)|0)+ve|0,pe=(r[w+10360>>2]|0)+(pe*3|0)|0,pe=(((We[pe]|We[pe+1|0]<<8)<<16>>16&65535)>>>6&255&3|0)>(g|0)|2}if((ue|0)==0)ne=0;else{if(Ve=r[w+10368>>2]|0,ue=o>>Ve,ne=ne>>Ve,!((ue|0)>-1)){te=22;break e}if(ve=r[w+10372>>2]|0,(ue|0)>=(ve|0)){te=22;break e}if(!((ne|0)>-1)){te=25;break e}if((ne|0)>=(r[w+10376>>2]|0)){te=25;break e}ne=(s0(ve,ne)|0)+ue|0,ne=(r[w+10360>>2]|0)+(ne*3|0)|0,ne=(((We[ne]|We[ne+1|0]<<8)<<16>>16&65535)>>>6&255&3|0)>(g|0)|0}ne=fi(C,(r[B>>2]|0)+(ne+pe)|0)|0}while(!1);(te|0)==28&&(te=0,ne=(r[w+5800>>2]|0)<(m|0)|0);do if((j[w+5946|0]|0)!=0){if((r[w+10092>>2]|0)>(m|0))break;r[y>>2]=0,r[_>>2]=0}while(!1);do if((j[(r[re>>2]|0)+752|0]|0)!=0){if((r[w+10096>>2]|0)>(m|0))break;r[oe>>2]=0}while(!1);if((ne|0)==0){te=42;break}if(m=m-1|0,pe=1<<m,ne=pe+o|0,pe=pe+h|0,g=g+1|0,f1(n,o,h,m,g),(ne|0)<(r[le>>2]|0)&&f1(n,ne,h,m,g),h=w+1252|0,(pe|0)<(r[h>>2]|0)&&f1(n,o,pe,m,g),(ne|0)>=(r[le>>2]|0)){te=48;break}if((pe|0)<(r[h>>2]|0))h=pe,o=ne;else{te=48;break}}if((te|0)==14)y0(1024,904,118,17320);else if((te|0)==17)y0(816,904,119,17320);else if((te|0)==22)y0(1024,904,118,17320);else if((te|0)==25)y0(816,904,119,17320);else if((te|0)==42){if(C=r[w+10368>>2]|0,y=o>>C,te=h>>C,C=1<<m-C,_=C+te|0,(C|0)>0){C=C+y|0,B=w+10372|0,w=w+10360|0,q=(g&65535)<<6&192;do{re=y;do Ve=(s0(r[B>>2]|0,te)|0)+re|0,Ve=(r[w>>2]|0)+(Ve*3|0)|0,u0=(We[Ve]|We[Ve+1|0]<<8)<<16>>16&-193|q,j[Ve]=u0,u0=u0>>8,j[Ve+1|0]=u0,re=re+1|0;while((re|0)<(C|0));te=te+1|0}while((te|0)<(_|0))}ql(n,o,h,m,g);return}else if((te|0)==48)return}function Us(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0,z0=0,m0=0,x0=0,A0=0,M0=0,F0=0,B0=0,Y0=0,lt=0,at=0,St=0,vt=0,Zt=0,Ai=0,Jt=0,Ot=0,Pt=0;if(C=D,D=D+152|0,Ve=C|0,te=C+8|0,q=C+72|0,y=C+104|0,_=C+120|0,w=C+136|0,g0=r[n+18596>>2]|0,ue=g0+764|0,le=r[g0+10368>>2]|0,oe=o>>le,le=h>>le,!((oe|0)>-1)||(re=r[g0+10372>>2]|0,(oe|0)>=(re|0)))return y0(1024,904,118,17320),0;if(!((le|0)>-1)||(le|0)>=(r[g0+10376>>2]|0))return y0(816,904,119,17320),0;pe=(s0(re,le)|0)+oe|0,pe=(r[g0+10360>>2]|0)+(pe*3|0)|0,pe=((We[pe]|We[pe+1|0]<<8)<<16>>16&65535)>>>8&3,re=(g|0)==0;do if(re){if(ne=r[g0+10448>>2]|0,le=o>>ne,qe=h>>ne,ne=1<<m-ne,oe=ne+qe|0,(ne|0)<=0)break;ge=ne+le|0,ve=g0+10452|0,ne=g0+10440|0;do{Te=le;do Pt=(s0(r[ve>>2]|0,qe)|0)+Te|0,Pt=(r[ne>>2]|0)+Pt|0,j[Pt]=j[Pt]|-128,Te=Te+1|0;while((Te|0)<(ge|0));qe=qe+1|0}while((qe|0)<(oe|0))}while(!1);do if((j[g0+5945|0]|0)==0)B=17;else{if((j[n+32|0]|0)!=0){B=17;break}if((r[g0+10100>>2]|0)<(m|0)){B=17;break}Pt=(fi(n+18556|0,(r[n+18580>>2]|0)+((g|0)!=0?142:141)|0)|0)&255,j[n+33+g|0]=Pt}while(!1);(B|0)==17&&(j[n+33+g|0]=0),oe=n+36|0,j[oe]=0;do if(pe<<24>>24==1){if((j[g0+5751|0]|0)==0){B=24;break}if(le=n+33+g|0,(j[le]|0)==0&&(j[n+32|0]|0)==0){B=24;break}if(ge=n+18580|0,ve=n+18556|0,ne=(g|0)!=0,Pt=(fi(ve,(r[ge>>2]|0)+(ne?144:143)|0)|0)&255,j[oe]=Pt,Pt<<24>>24==0)break;Pt=(fi(ve,(r[ge>>2]|0)+(ne?146:145)|0)|0)&255,j[n+37|0]=Pt}else B=24;while(!1);if((B|0)==24&&(j[oe]=0,le=n+33+g|0),ut=re?2:0,(j[le]|0)==0?(j[n+32|0]|0)!=0&&(B=27):B=27,(B|0)==27&&(ut=ut|1),ne=n+18580|0,qe=r[ne>>2]|0,ve=(m<<1)-1|0,re?(Be=(m*3|0)-6+(m-1>>2)+25|0,Ye=m+1>>2):(Be=40,Ye=m-2|0),ge=(ve|0)>0,ge){for(ze=n+18556|0,Te=0;He=Te+1|0,(fi(ze,qe+(Be+(Te>>Ye))|0)|0)!=0;)if((He|0)<(ve|0))Te=He;else{Te=ve;break}qe=r[ne>>2]|0}else Te=ve;re?(Be=(m*3|0)-6+(m-1>>2)+43|0,ze=m+1>>2):(Be=58,ze=m-2|0);e:do if(ge)for(Ye=n+18556|0,ge=0;;){if(He=ge+1|0,(fi(Ye,qe+(Be+(ge>>ze))|0)|0)==0){ve=ge;break e}if((He|0)<(ve|0))ge=He;else break}while(!1);if((Te|0)>3?(ge=(Te>>1)-1|0,ge=(cs(n+18556|0,ge)|0)+((Te&1|2)<<ge)|0):ge=Te,(ve|0)>3&&(Pt=(ve>>1)-1|0,ve=(cs(n+18556|0,Pt)|0)+((ve&1|2)<<Pt)|0),pe=pe<<24>>24==0,pe){do if(re){if(Be=r[g0+10408>>2]|0,qe=o>>Be,Be=h>>Be,!((qe|0)>-1)||(Te=r[g0+10412>>2]|0,(qe|0)>=(Te|0)))return y0(1024,904,118,17320),0;if(!((Be|0)>-1))return y0(816,904,119,17320),0;if((Be|0)<(r[g0+10416>>2]|0)){ze=(s0(Te,Be)|0)+qe|0,ze=ih(m,We[(r[g0+10400>>2]|0)+ze|0]|0,0,ue)|0;break}else return y0(816,904,119,17320),0}else{if(Be=r[g0+10428>>2]|0,qe=o>>Be,Be=h>>Be,!((qe|0)>-1)||(Te=r[g0+10432>>2]|0,(qe|0)>=(Te|0)))return y0(1024,904,118,17320),0;if(!((Be|0)>-1))return y0(816,904,119,17320),0;if((Be|0)<(r[g0+10436>>2]|0)){ze=(s0(Te,Be)|0)+qe|0,ze=ih(m,j[(r[g0+10420>>2]|0)+ze|0]&63,g,ue)|0;break}else return y0(816,904,119,17320),0}while(!1);ue=(ze|0)==2,Te=ue?ge:ve,qe=ue?ve:ge}else Te=ve,qe=ge,ze=0;ue=m-2|0,ve=mr(ue,ze)|0,ge=mr(2,ze)|0,l2(Ve,qe,Te,ze,m),Te=j[Ve+1|0]|0,qe=We[Ve|0]|0,V0(te|0,0,1<<ue<<ue|0)|0,Ve=n+14404+(g<<1)|0,be[Ve>>1]=0,Be=n+18556|0,Ge=(ze|0)!=0|0,r0=(g|0)!=0|0,X0=(Te&255)-1|0,ze=q|0,v0=w|0,P0=y|0,O0=g0+5749|0,G0=n+32|0,D0=re?42:43,N0=(g|0)>0,E0=g0+10408|0,Z0=g0+10412|0,ot=g0+10416|0,o0=g0+10400|0,S0=g0+5750|0,He=g0+5936|0,Ye=g0+5755|0,ct=n+18588+ut|0,H0=g0+10428|0,tt=g0+10432|0,ut=g0+10436|0,z0=g0+10420|0,B0=0,F0=0,l0=qe,M0=1;e:for(;;){x0=j[ve+(l0<<1)|0]|0,m0=j[ve+(l0<<1)+1|0]|0,g0=(l0|0)>0;do if((l0|0)<(qe|0)&g0)A0=x0&255,Y0=We[te+(((m0&255)<<ue)+A0)|0]|0,Y0=Y0&1|Y0>>>1,(fi(Be,(r[ne>>2]|0)+((re?Y0:Y0+2|0)+61)|0)|0)!=0&&(at=1,B=69);else{if(!((l0|0)==0|(l0|0)==(qe|0)))break;at=0,A0=x0&255,B=69}while(!1);do if((B|0)==69){if(B=0,x0<<24>>24!=0&&(Pt=te+(A0-1+((m0&255)<<ue))|0,j[Pt]=j[Pt]|1),Y0=m0&255,m0<<24>>24!=0&&(Pt=te+((Y0-1<<ue)+A0)|0,j[Pt]=j[Pt]|2),m0=A0<<2,x0=Y0<<2,lt=r[31064+(ue<<6)+(r0<<5)+(Ge<<4)+(We[te+((Y0<<ue)+A0)|0]<<2)>>2]|0,A0=(l0|0)==(qe|0),Y0=A0?X0:15,A0?(be[ze>>1]=1,j[v0]=1,j[P0]=Te,A0=1):A0=0,(Y0|0)>0){St=Y0;do{Zt=(We[ge+(St<<1)|0]|0)+m0|0,vt=(We[ge+(St<<1)+1|0]|0)+x0|0;do if((j[O0]|0)==0)B=79;else{if((j[G0]|0)!=0){vt=D0;break}(j[le]|0)==0?B=79:vt=D0}while(!1);(B|0)==79&&(B=0,vt=j[lt+(Zt+(vt<<m))|0]|0),(fi(Be,(r[ne>>2]|0)+((vt&255)+65)|0)|0)!=0&&(be[q+(A0<<1)>>1]=1,j[w+A0|0]=1,j[y+A0|0]=St,at=0,A0=A0+1|0),St=St-1|0}while((St|0)>0)}do if((Y0|0)>-1){if((at|0)!=0){be[q+(A0<<1)>>1]=1,j[w+A0|0]=1,j[y+A0|0]=0,A0=A0+1|0;break}do if((j[O0]|0)==0)B=88;else{if((j[G0]|0)!=0){Y0=D0;break}(j[le]|0)==0?B=88:Y0=D0}while(!1);if((B|0)==88&&(B=0,Y0=j[lt+((x0<<m)+m0)|0]|0),(fi(Be,(r[ne>>2]|0)+((Y0&255)+65)|0)|0)==0)break;be[q+(A0<<1)>>1]=1,j[w+A0|0]=1,j[y+A0|0]=0,A0=A0+1|0}while(!1);if((A0|0)==0)break;lt=((l0|0)==0|N0?0:2)|(M0|0)==0,Y0=(A0|0)>8?8:A0;do if((Y0|0)>0){at=lt<<2,vt=-1,M0=1,St=0;do{do if((St|0)==0)B0=1;else{if((B0|0)<=0)break;B0=(F0|0)==1?0:B0+1|0}while(!1);F0=((B0|0)<3?B0:3)+at|0,F0=fi(Be,(r[ne>>2]|0)+((N0?F0+16|0:F0)+109)|0)|0,(F0|0)==0?(j[w+St|0]=0,M0=((M0-1|0)>>>0<2)+M0|0):(M0=q+(St<<1)|0,be[M0>>1]=(be[M0>>1]|0)+1,M0=0,vt=(vt|0)==-1?St:vt),St=St+1|0}while((St|0)<(Y0|0));if((vt|0)==-1)break;Pt=fi(Be,(r[ne>>2]|0)+((N0?lt|4:lt)+133)|0)|0,Ot=q+(vt<<1)|0,be[Ot>>1]=(f0[Ot>>1]|0)+Pt,j[w+vt|0]=Pt}else M0=1;while(!1);if(re){if(Y0=r[E0>>2]|0,lt=o>>Y0,Y0=h>>Y0,!((lt|0)>-1)){B=107;break e}if(at=r[Z0>>2]|0,(lt|0)>=(at|0)){B=107;break e}if(!((Y0|0)>-1)){B=110;break e}if((Y0|0)>=(r[ot>>2]|0)){B=110;break e}Y0=(s0(at,Y0)|0)+lt|0,Y0=We[(r[o0>>2]|0)+Y0|0]|0}else{if(Y0=r[H0>>2]|0,lt=o>>Y0,Y0=h>>Y0,!((lt|0)>-1)){B=114;break e}if(at=r[tt>>2]|0,(lt|0)>=(at|0)){B=114;break e}if(!((Y0|0)>-1)){B=117;break e}if((Y0|0)>=(r[ut>>2]|0)){B=117;break e}Y0=(s0(at,Y0)|0)+lt|0,Y0=j[(r[z0>>2]|0)+Y0|0]&63}t:do if((j[G0]|0)==0){do if(pe){if((j[S0]|0)==0||(j[le]|0)==0)break;if((Y0&239|0)==10){at=0;break t}}while(!1);if((j[oe]|0)!=0){at=0;break}at=((j[P0]|0)-(j[y+(A0-1)|0]|0)|0)>3|0}else at=0;while(!1);if(Y0=A0-1|0,(Y0|0)>0){lt=0;do Pt=(Ur(Be)|0)&255,j[_+lt|0]=Pt,lt=lt+1|0;while((lt|0)<(Y0|0))}if(lt=(at|0)==0,(j[He]|0)==0|lt?(Pt=(Ur(Be)|0)&255,j[_+Y0|0]=Pt):j[_+Y0|0]=0,(j[Ye]|0)==0?Ai=0:Ai=(We[ct]|0)>>>2,(A0|0)>0)at=0,Zt=1,St=0;else break;do{vt=be[q+(St<<1)>>1]|0;do if((j[w+St|0]|0)==0)Jt=0;else{for(Ot=-1;;){if(Pt=Ot+1|0,Jt=Ur(Be)|0,(Ot|0)>63){Jt=0;break}if((Jt|0)==0){B=137;break}else Ot=Pt}do if((B|0)==137)if(B=0,(Pt|0)<4){Jt=(cs(Be,Ai)|0)+(Pt<<Ai)|0;break}else{Jt=Ot-2|0,Jt=(cs(Be,Jt+Ai|0)|0)+((1<<Jt)+2<<Ai)|0;break}while(!1);if(Ot=(j[Ye]|0)==0,Pt=(Jt+vt|0)>(3<<Ai|0),Ot){if(!Pt){Zt=0;break}Ai=Ai+1|0,Zt=0,Ai=(Ai|0)>4?4:Ai;break}if(Ai=(Pt&1)+Ai|0,Ot|Zt^1){Zt=0;break}if(Zt=j[ct]|0,Ot=(Zt&255)>>>2,(Jt|0)>=(3<<Ot|0)){j[ct]=Zt+1,Zt=0;break}if((Jt<<1|0)>=(1<<Ot|0)|Zt<<24>>24==0){Zt=0;break}j[ct]=Zt-1,Zt=0}while(!1);vt=Jt+vt|0,Jt=vt&65535,Jt=(j[_+St|0]|0)==0?Jt:-Jt&65535;do if((j[He]|0)==0|lt)vt=Jt;else{if(at=vt+at|0,(St|0)!=(Y0|0)){vt=Jt;break}vt=(at&1|0)==0?Jt:-Jt&65535}while(!1);Pt=j[y+St|0]|0,Ot=(We[ge+(Pt<<1)|0]|0)+m0|0,Pt=(We[ge+(Pt<<1)+1|0]|0)+x0|0,be[n+2116+(g<<11)+(be[Ve>>1]<<1)>>1]=vt,be[n+8260+(g<<11)+(be[Ve>>1]<<1)>>1]=Ot+(Pt<<m),be[Ve>>1]=(be[Ve>>1]|0)+1,St=St+1|0}while((St|0)<(A0|0))}while(!1);if(g0)l0=l0-1|0;else{B=153;break}}return(B|0)==107?(y0(1024,904,118,17320),0):(B|0)==110?(y0(816,904,119,17320),0):(B|0)==114?(y0(1024,904,118,17320),0):(B|0)==117?(y0(816,904,119,17320),0):((B|0)==153&&(D=C),0)}function bl(n,o,h,m,g,w,y,_,C,B,q,te,re){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0;var oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0;if((te|0)==-1)return y0(1560,14776,3547,18792),0;if((re|0)==-1)return y0(1424,14776,3548,18792),0;if((q|0)==-1)return y0(1392,14776,3549,18792),0;if(C=n+18596|0,ue=r[C>>2]|0,pe=r[ue+5776>>2]|0,ge=(pe|0)==3,oe=((ge^1)<<31>>31)+_|0,le=(oe|0)<2?2:oe,ve=n+33|0,u0=0,j[ve]=u0,u0=u0>>8,j[ve+1|0]=u0,u0=u0>>8,j[ve+2|0]=u0,u0=u0>>8,j[ve+3|0]=u0,ve=r[ue+10368>>2]|0,Te=o>>ve,ve=h>>ve,!((Te|0)>-1)||(oe=r[ue+10372>>2]|0,(Te|0)>=(oe|0)))return y0(1024,904,118,17320),0;if(!((ve|0)>-1)||(ve|0)>=(r[ue+10376>>2]|0))return y0(816,904,119,17320),0;Te=(s0(oe,ve)|0)+Te|0,Te=(r[ue+10360>>2]|0)+(Te*3|0)|0,Te=((We[Te]|We[Te+1|0]<<8)<<16>>16&65535)>>>8&3,oe=Te&255,Be=(q|0)!=0,Ve=Be^1,q=(re|te|0)==0;do if(!(q&Ve)){do if((j[ue+5946|0]|0)==0)ue=0;else{if(ue=n+18508|0,(r[ue>>2]|0)!=0){ue=0;break}ve=n+18556|0,qe=n+18580|0;do if((fi(ve,(r[qe>>2]|0)+139|0)|0)==0)ve=0,ze=0;else{ze=1,He=0;do{if((fi(ve,(r[qe>>2]|0)+140|0)|0)==0)break;ze=ze+1|0,He=He+1|0}while((He|0)<4);if((ze|0)==5&&(ze=(Ps(ve,0)|0)+5|0),(ze|0)==0){ve=0,ze=0;break}ve=(Ur(ve)|0)<<1}while(!1);r[ue>>2]=1,ue=s0(1-ve|0,ze)|0,r[n+18512>>2]=ue,ue=1}while(!1);do if((j[(r[n+18600>>2]|0)+752|0]|0)==0|q)ne=32;else{if((j[n+32|0]|0)!=0){ne=32;break}if(q=n+18516|0,(r[q>>2]|0)!=0){ne=32;break}if(ve=n+18556|0,qe=n+18580|0,He=fi(ve,(r[qe>>2]|0)+23|0)|0,ue=r[C>>2]|0,(He|0)==0){r[q>>2]=1,r[n+18520>>2]=0,r[n+18524>>2]=0;break}(We[ue+10074|0]|0)>>>0>1?ve=fi(ve,(r[qe>>2]|0)+24|0)|0:ve=0,r[q>>2]=1,r[n+18520>>2]=j[ue+10075+ve|0]|0,r[n+18524>>2]=j[ue+10081+ve|0]|0}while(!1);if((ne|0)==32&&!ue)break;hn(n,o,h,w,y)}while(!1);if(ze=1<<_,ve=1<<le,q=r[C>>2]|0,ue=r[q+5780>>2]|0,q=r[q+5784>>2]|0,qe=n+28|0,r[qe>>2]=0,Be&&Us(n,o,h,_,0)|0,Fs(n,o,h,w,y,ze,0,oe,Be),!((_|0)>2|ge))return(B|0)!=3||(o=(te&1|0)!=0,o&&Us(n,m,g,_,1)|0,(r[(r[C>>2]|0)+5776>>2]|0)!=0&&Fs(n,(m|0)/(ue|0)|0,(g|0)/(q|0)|0,(w|0)/(ue|0)|0,(y|0)/(q|0)|0,ze,1,oe,o),h=(te&2|0)!=0,h&&Us(n,m,ze+g|0,_,1)|0,o=(pe|0)==2,o&&Fs(n,(m|0)/(ue|0)|0,((g|0)/(q|0)|0)+ze|0,(w|0)/(ue|0)|0,(y|0)/(q|0)|0,ze,1,oe,h),h=(re&1|0)!=0,h&&Us(n,m,g,_,2)|0,(r[(r[C>>2]|0)+5776>>2]|0)!=0&&Fs(n,(m|0)/(ue|0)|0,(g|0)/(q|0)|0,(w|0)/(ue|0)|0,(y|0)/(q|0)|0,ze,2,oe,h),re=(re&2|0)!=0,re&&Us(n,m,ve+g|0,_,2)|0,!o)||Fs(n,(m|0)/(ue|0)|0,((g|0)/(q|0)|0)+ze|0,(w|0)/(ue|0)|0,(y|0)/(q|0)|0,ze,2,oe,re),0;g=r[C>>2]|0;e:do if((j[g+10071|0]|0)==0|Ve)g=0,m=0;else{do if(Te<<24>>24!=1){if(m=r[g+10428>>2]|0,_=o>>m,m=h>>m,!((_|0)>-1)||(B=r[g+10432>>2]|0,(_|0)>=(B|0)))return y0(1024,904,118,17320),0;if(!((m|0)>-1))return y0(816,904,119,17320),0;if((m|0)<(r[g+10436>>2]|0)){if(He=(s0(B,m)|0)+_|0,(j[(r[g+10420>>2]|0)+He|0]|0)<0)break;g=0,m=0;break e}else return y0(816,904,119,17320),0}while(!1);m=n+18556|0,_=n+18580|0,B=0;do{if((fi(m,(r[_>>2]|0)+(B+162)|0)|0)==0){ne=49;break}B=B+1|0}while((B|0)<4);if((ne|0)==49&&(B|0)==0){g=1,m=0;break}g=1,m=1-((fi(m,(r[_>>2]|0)+170|0)|0)<<1)<<B-1}while(!1);r[qe>>2]=m,m=(te&1|0)!=0,m&&Us(n,o,h,le,1)|0,(r[(r[C>>2]|0)+5776>>2]|0)!=0&&Fs(n,(o|0)/(ue|0)|0,(h|0)/(q|0)|0,(w|0)/(ue|0)|0,(y|0)/(q|0)|0,ve,1,oe,m),pe=(pe|0)==2,pe&&(te=(te&2|0)!=0,te&&Us(n,o,(q<<le)+h|0,le,1)|0,Fs(n,(o|0)/(ue|0)|0,((h|0)/(q|0)|0)+ve|0,(w|0)/(ue|0)|0,((y|0)/(q|0)|0)+ve|0,ve,1,oe,te));do if(g){g=n+18556|0,te=n+18580|0,m=0;do{if((fi(g,(r[te>>2]|0)+(m+166)|0)|0)==0){ne=63;break}m=m+1|0}while((m|0)<4);if((ne|0)==63&&(m|0)==0){ne=0;break}ne=1-((fi(g,(r[te>>2]|0)+171|0)|0)<<1)<<m-1}else ne=0;while(!1);return r[qe>>2]=ne,ne=(re&1|0)!=0,ne&&Us(n,o,h,le,2)|0,(r[(r[C>>2]|0)+5776>>2]|0)!=0&&Fs(n,(o|0)/(ue|0)|0,(h|0)/(q|0)|0,(w|0)/(ue|0)|0,(y|0)/(q|0)|0,ve,2,oe,ne),pe&&(re=(re&2|0)!=0,re&&Us(n,o,(q<<le)+h|0,le,2)|0,Fs(n,(o|0)/(ue|0)|0,((h|0)/(q|0)|0)+ve|0,(w|0)/(ue|0)|0,((y|0)/(q|0)|0)+ve|0,ve,2,oe,re)),0}function Fs(n,o,h,m,g,w,y,_,C){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0;var B=0,q=0,te=0,re=0,oe=0,le=0;q=n+18596|0,B=r[q>>2]|0,_=(_|0)==0;do if(_){do if((y|0)==0)if(re=r[B+10408>>2]|0,oe=o>>re,re=h>>re,(oe|0)>-1||y0(1024,904,118,17320),le=r[B+10412>>2]|0,(oe|0)>=(le|0)&&y0(1024,904,118,17320),(re|0)>-1||y0(816,904,119,17320),(re|0)<(r[B+10416>>2]|0)){te=(s0(le,re)|0)+oe|0,te=We[(r[B+10400>>2]|0)+te|0]|0;break}else y0(816,904,119,17320);else if(oe=s0(r[B+5780>>2]|0,o)|0,le=s0(r[B+5784>>2]|0,h)|0,re=r[B+10428>>2]|0,oe=oe>>re,re=le>>re,(oe|0)>-1||y0(1024,904,118,17320),le=r[B+10432>>2]|0,(oe|0)>=(le|0)&&y0(1024,904,118,17320),(re|0)>-1||y0(816,904,119,17320),(re|0)<(r[B+10436>>2]|0)){te=(s0(le,re)|0)+oe|0,te=j[(r[B+10420>>2]|0)+te|0]&63;break}else y0(816,904,119,17320);while(!1);te=te>>>0>34?1:te,vd(B,o,h,te,w,y);do if((j[(r[q>>2]|0)+5750|0]|0)==0)B=0;else{if((j[n+32|0]|0)==0&&(j[n+33+y|0]|0)==0){B=0;break}B=(te&239|0)==10}while(!1);B=B&(te|0)==26?2:B&1}else{if((j[n+36|0]|0)==0){B=0;break}B=(j[n+37|0]|0)!=0?2:1}while(!1);if(C){M1(n,o,h,m,g,w,y,(j[n+33+y|0]|0)!=0,_,B);return}(y|0)!=0&&(r[n+28>>2]|0)!=0&&(be[n+14404+(y<<1)>>1]=0,M1(n,o,h,m,g,w,y,(j[n+33+y|0]|0)!=0,_,0))}function In(n,o,h,m,g,w,y,_,C,B,q,te,re,oe,le){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0,oe=oe|0,le=le|0;var ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0;Te=n+18596|0,Ve=r[Te>>2]|0,qe=r[Ve+10368>>2]|0,Be=o>>qe,(Be|0)>-1||y0(1024,904,118,17320),ue=(te|0)==1,ne=n+18556|0,pe=n+18580|0,ge=(te|0)!=0,ve=h,Ge=h>>qe,Ye=qe;e:for(;;){if(ze=r[Ve+10372>>2]|0,(Be|0)>=(ze|0)){h=4;break}if(!((Ge|0)>-1)){h=7;break}if(He=r[Ve+10376>>2]|0,(Ge|0)>=(He|0)){h=7;break}if(qe=(s0(ze,Ge)|0)+Be|0,Be=r[Ve+10360>>2]|0,qe=Be+(qe*3|0)|0,qe=((We[qe]|We[qe+1|0]<<8)<<16>>16&65535)>>>8&3,(qe&255|0)!=(re|0)){h=9;break}Ge=(r[Ve+5868>>2]|0)<(_|0);do if(Ge)h=15;else{if((C|0)>=(q|0)|(r[Ve+5864>>2]|0)>=(_|0)|ge&(C|0)==0){h=15;break}if(h=5-_|0,!(h>>>0<3)){h=13;break e}Be=fi(ne,(r[pe>>2]|0)+(h+20)|0)|0,h=21}while(!1);do if((h|0)==15){if(h=o>>Ye,Ye=ve>>Ye,!((h|0)>-1&(h|0)<(ze|0))){h=16;break e}if(!((Ye|0)>-1&(Ye|0)<(He|0))){h=18;break e}if(Ge){h=22;break}Be=Be+(((s0(ze,Ye)|0)+h|0)*3|0)|0,Be=(ue&(C|0)==0|(r[Ve+1392>>2]|C|0)==0&qe<<24>>24==1&((We[Be]|We[Be+1|0]<<8)<<16>>16&56)!=0)&1,h=21}while(!1);if((h|0)==21&&(h=0,(Be|0)==0?Be=0:h=22),(h|0)==22){if(h=r[Ve+10448>>2]|0,Be=o>>h,h=ve>>h,!((Be|0)>-1)){h=24;break}if(ze=r[Ve+10452>>2]|0,(Be|0)>=(ze|0)){h=24;break}if(!((h|0)>-1)){h=27;break}if((h|0)>=(r[Ve+10456>>2]|0)){h=27;break}Be=(s0(ze,h)|0)+Be|0,Be=(r[Ve+10440>>2]|0)+Be|0,j[Be]=We[Be]|0|1<<C,Be=1}if(h=r[Ve+5776>>2]|0,(_|0)>2?(h|0)==0?(He=-1,h=41):h=32:(h|0)==3?h=32:(He=-1,h=41),(h|0)==32){h=0;do if(oe<<24>>24==0)ze=-1;else{if(He=C+16|0,ze=fi(ne,(r[pe>>2]|0)+He|0)|0,(r[Ve+5776>>2]|0)!=2||!((_|0)==3|Be^1))break;ze=(fi(ne,(r[pe>>2]|0)+He|0)|0)<<1|ze}while(!1);do if(le<<24>>24==0)He=-1;else{if(Ye=C+16|0,He=fi(ne,(r[pe>>2]|0)+Ye|0)|0,(r[Ve+5776>>2]|0)!=2||!((_|0)==3|Be^1))break;He=(fi(ne,(r[pe>>2]|0)+Ye|0)|0)<<1|He}while(!1);(ze|0)<0?h=41:oe=ze}if((h|0)==41){if(Ve=(_|0)==2,(C|0)==0&Ve){h=42;break}oe=(C|0)>0&Ve?oe&255:0}if((He|0)<0?le=(C|0)>0&(_|0)==2?le&255:0:le=He,!Be){h=48;break}if(_=_-1|0,qe=1<<_,g=qe+o|0,qe=qe+ve|0,C=C+1|0,oe=oe&255,le=le&255,In(n,o,ve,o,ve,w,y,_,C,0,q,te,re,oe,le),In(n,g,ve,o,ve,w,y,_,C,1,q,te,re,oe,le),In(n,o,qe,o,ve,w,y,_,C,2,q,te,re,oe,le),Ve=r[Te>>2]|0,h=r[Ve+10368>>2]|0,Be=g>>h,(Be|0)>-1)m=o,o=g,g=ve,ve=qe,B=3,Ge=qe>>h,Ye=h;else{h=4;break}}if((h|0)==4)y0(1024,904,118,17320);else if((h|0)==7)y0(816,904,119,17320);else if((h|0)==9)y0(1368,14776,3827,18816);else if((h|0)==13)y0(416,14776,1820,17880);else if((h|0)==16)y0(1024,904,118,17320);else if((h|0)==18)y0(816,904,119,17320);else if((h|0)==24)y0(1024,904,128,17320);else if((h|0)==27)y0(816,904,129,17320);else if((h|0)==42)y0(1320,14776,3894,18816);else if((h|0)==48){if(ue=(C|0)==0,qe<<24>>24!=0&ue&(oe|0)==0&(le|0)==0){Ge=1,bl(n,o,ve,m,g,w,y,_,0,B,Ge,oe,le)|0;return}Ge=fi(ne,(r[pe>>2]|0)+(ue&1|14)|0)|0,bl(n,o,ve,m,g,w,y,_,0,B,Ge,oe,le)|0;return}}function p1(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0;o=n+18556|0,y=n+18580|0,g=fi(o,(r[y>>2]|0)+150|0)|0,h=fi(o,(r[y>>2]|0)+150|0)|0,g=(g|0)==0,g?w=0:w=fi(o,(r[y>>2]|0)+151|0)|0,h=(h|0)==0,h?y=0:y=fi(o,(r[y>>2]|0)+151|0)|0;do if(g)g=0;else{if((w|0)==0?g=-1:g=Ps(o,1)|0,(Ur(o)|0)==0){g=g+2&65535;break}g=-2-g&65535}while(!1);if(h){w=0,y=n+18+(m<<2)|0,be[y>>1]=g,y=n+18+(m<<2)+2|0,be[y>>1]=w;return}if((y|0)==0?h=-1:h=Ps(o,1)|0,(Ur(o)|0)==0){w=h+2&65535,y=n+18+(m<<2)|0,be[y>>1]=g,y=n+18+(m<<2)+2|0,be[y>>1]=w;return}w=-2-h&65535,y=n+18+(m<<2)|0,be[y>>1]=g,y=n+18+(m<<2)+2|0,be[y>>1]=w}function gr(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0;if(re=n+18600|0,ne=r[re>>2]|0,oe=n+18556|0,le=n+18580|0,ge=fi(oe,(r[le>>2]|0)+147|0)|0,q=n+16|0,te=n+26|0,ue=(ge&255)<<4&16|j[te]&-17,j[te]=ue,(ge|0)!=0){e:do if((r[(r[re>>2]|0)+804>>2]|0)<2)oe=0;else{if((fi(oe,(r[le>>2]|0)+148|0)|0)==0){oe=0;break}if(((r[(r[re>>2]|0)+804>>2]|0)-1|0)>1)ne=1;else{oe=1;break}for(;;){if(le=ne+1|0,(Ur(oe)|0)==0){oe=ne&255;break e}if((le|0)<((r[(r[re>>2]|0)+804>>2]|0)-1|0))ne=le;else{oe=le&255;break}}}while(!1);j[te]=j[te]&31|oe<<5,ue=n+18592|0,ue=r[ue>>2]|0,ue=ue|0,ve=r[re>>2]|0,ge=n+18596|0,ge=r[ge>>2]|0,Bl(ue,ve,ge,q,o,h,m,g,C,w,y,B);return}if((r[ne+20>>2]|0)==0){ue=r[le>>2]|0;do if((y+w|0)==12)_=fi(oe,ue+160|0)|0;else{if((fi(oe,ue+(_+156)|0)|0)!=0){_=2;break}_=fi(oe,ue+160|0)|0}while(!1);_=_+1|0,j[te]=j[te]&-4|_&3,(_|0)==2?_=2:pe=15}else j[te]=ue&-4|1,_=1,pe=15;do if((pe|0)==15){ve=(r[ne+328>>2]|0)-1|0;e:do if((ve|0)==0)ue=0;else{if((fi(oe,(r[le>>2]|0)+154|0)|0)==0){ue=0;break}for(ue=ve&255,ge=0;;){if(pe=ge+1|0,(pe|0)==(ve|0))break e;if((ge|0)==0?ge=fi(oe,(r[le>>2]|0)+155|0)|0:ge=Ur(oe)|0,(ge|0)==0){ue=pe&255;break}else ge=pe}}while(!1);if(j[q|0]=ue,p1(n,0,0,0),ge=(fi(oe,(r[le>>2]|0)+152|0)|0)&255,j[te]=ge<<2&4|j[te]&-5,(_|0)!=1)break;ue=n+18592|0,ue=r[ue>>2]|0,ue=ue|0,ve=r[re>>2]|0,ge=n+18596|0,ge=r[ge>>2]|0,Bl(ue,ve,ge,q,o,h,m,g,C,w,y,B);return}while(!1);ve=(r[ne+332>>2]|0)-1|0;e:do if((ve|0)==0)ue=0;else{if((fi(oe,(r[le>>2]|0)+154|0)|0)==0){ue=0;break}for(ue=ve&255,ge=0;;){if(pe=ge+1|0,(pe|0)==(ve|0))break e;if((ge|0)==0?ge=fi(oe,(r[le>>2]|0)+155|0)|0:ge=Ur(oe)|0,(ge|0)==0){ue=pe&255;break}else ge=pe}}while(!1);j[n+17|0]=ue,(j[ne+370|0]|0)!=0&(_|0)==3?(be[n+22>>1]=0,be[n+24>>1]=0):p1(n,0,0,1),ue=(fi(oe,(r[le>>2]|0)+152|0)|0)&255,j[te]=ue<<3&8|j[te]&-9,ue=n+18592|0,ue=r[ue>>2]|0,ue=ue|0,ve=r[re>>2]|0,ge=n+18596|0,ge=r[ge>>2]|0,Bl(ue,ve,ge,q,o,h,m,g,C,w,y,B)}function Iu(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,r[h>>2]=n,r[w>>2]=m;do if((_&2|0)!=0){if((g-m|0)<3)return n=1,n|0;r[w>>2]=m+1,j[m]=-17,n=r[w>>2]|0,r[w>>2]=n+1,j[n]=-69,n=r[w>>2]|0,r[w>>2]=n+1,j[n]=-65;break}while(!1);if(_=r[h>>2]|0,!(_>>>0<o>>>0))return n=0,n|0;e:for(;;){if(_=r[_>>2]|0,(_&-2048|0)==55296|_>>>0>y>>>0){y=2,h=19;break}do if(_>>>0<128){if(m=r[w>>2]|0,(g-m|0)<1){y=1,h=19;break e}r[w>>2]=m+1,j[m]=_}else{if(_>>>0<2048){if(m=r[w>>2]|0,(g-m|0)<2){y=1,h=19;break e}r[w>>2]=m+1,j[m]=_>>>6|192,n=r[w>>2]|0,r[w>>2]=n+1,j[n]=_&63|128;break}if(m=r[w>>2]|0,n=g-m|0,_>>>0<65536){if((n|0)<3){y=1,h=19;break e}r[w>>2]=m+1,j[m]=_>>>12|224,n=r[w>>2]|0,r[w>>2]=n+1,j[n]=_>>>6&63|128,n=r[w>>2]|0,r[w>>2]=n+1,j[n]=_&63|128;break}else{if((n|0)<4){y=1,h=19;break e}r[w>>2]=m+1,j[m]=_>>>18|240,n=r[w>>2]|0,r[w>>2]=n+1,j[n]=_>>>12&63|128,n=r[w>>2]|0,r[w>>2]=n+1,j[n]=_>>>6&63|128,n=r[w>>2]|0,r[w>>2]=n+1,j[n]=_&63|128;break}}while(!1);if(_=(r[h>>2]|0)+4|0,r[h>>2]=_,!(_>>>0<o>>>0)){y=0,h=19;break}}return(h|0)==19?y|0:0}function Pu(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0;return n=D,D=D+16|0,B=n|0,C=n+8|0,r[B>>2]=h,r[C>>2]=w,o=Bu(h,m,B,w,y,C,1114111,0)|0,r[g>>2]=h+((r[B>>2]|0)-h),r[_>>2]=w+((r[C>>2]|0)-w>>2<<2),D=n,o|0}function Bu(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0,q=0,te=0;r[h>>2]=n,r[w>>2]=m,m=r[h>>2]|0;do if((_&4|0)!=0){if((o-m|0)<=2||(j[m]|0)!=-17||(j[m+1|0]|0)!=-69||(j[m+2|0]|0)!=-65)break;m=m+3|0,r[h>>2]=m}while(!1);e:do if(m>>>0<o>>>0){_=o,n=r[w>>2]|0;t:for(;;){if(!(n>>>0<g>>>0))break e;B=j[m]|0,C=B&255;do if(B<<24>>24>-1){if(C>>>0>y>>>0){o=2,h=40;break t}r[n>>2]=C,r[h>>2]=m+1}else{if((B&255)>>>0<194){o=2,h=40;break t}if((B&255)>>>0<224){if((_-m|0)<2){o=1,h=40;break t}if(B=We[m+1|0]|0,(B&192|0)!=128){o=2,h=40;break t}if(C=B&63|C<<6&1984,C>>>0>y>>>0){o=2,h=40;break t}r[n>>2]=C,r[h>>2]=m+2;break}if((B&255)>>>0<240){if((_-m|0)<3){o=1,h=40;break t}if(B=j[m+1|0]|0,q=j[m+2|0]|0,(C|0)==224){if((B&-32)<<24>>24!=-96){o=2,h=40;break t}}else if((C|0)==237){if((B&-32)<<24>>24!=-128){o=2,h=40;break t}}else if((B&-64)<<24>>24!=-128){o=2,h=40;break t}if(q=q&255,(q&192|0)!=128){o=2,h=40;break t}if(C=(B&255)<<6&4032|C<<12&61440|q&63,C>>>0>y>>>0){o=2,h=40;break t}r[n>>2]=C,r[h>>2]=m+3;break}if(!((B&255)>>>0<245)){o=2,h=40;break t}if((_-m|0)<4){o=1,h=40;break t}if(B=j[m+1|0]|0,q=j[m+2|0]|0,te=j[m+3|0]|0,(C|0)==244){if((B&-16)<<24>>24!=-128){o=2,h=40;break t}}else if((C|0)==240){if(!((B+112&255)>>>0<48)){o=2,h=40;break t}}else if((B&-64)<<24>>24!=-128){o=2,h=40;break t}if(q=q&255,(q&192|0)!=128){o=2,h=40;break t}if(te=te&255,(te&192|0)!=128){o=2,h=40;break t}if(C=(B&255)<<12&258048|C<<18&1835008|q<<6&4032|te&63,C>>>0>y>>>0){o=2,h=40;break t}r[n>>2]=C,r[h>>2]=m+4}while(!1);if(n=(r[w>>2]|0)+4|0,r[w>>2]=n,m=r[h>>2]|0,!(m>>>0<o>>>0))break e}if((h|0)==40)return o|0}while(!1);return te=m>>>0<o>>>0|0,te|0}function kl(n,o,h,m,g){return h=h|0,g=g|0,r[g>>2]=h,3}function Mu(n){return 0}function m1(n){return 0}function Uu(n,o,h,m,g){return h=h|0,m=m|0,g=g|0,Os(h,m,g,1114111,0)|0}function Os(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0;do if((g&4|0)==0)y=n;else{if((o-n|0)<=2){y=n;break}if((j[n]|0)!=-17){y=n;break}if((j[n+1|0]|0)!=-69){y=n;break}y=(j[n+2|0]|0)==-65?n+3|0:n}while(!1);e:do if(y>>>0<o>>>0&(h|0)!=0){w=o,g=1;t:for(;;){C=j[y]|0,_=C&255;do if(C<<24>>24>-1){if(_>>>0>m>>>0)break e;y=y+1|0}else{if((C&255)>>>0<194)break e;if((C&255)>>>0<224){if((w-y|0)<2||(C=We[y+1|0]|0,(C&192|0)!=128)||(C&63|_<<6&1984)>>>0>m>>>0)break e;y=y+2|0;break}if((C&255)>>>0<240){if(C=y,(w-C|0)<3)break e;if(B=j[y+1|0]|0,q=j[y+2|0]|0,(_|0)==224){if((B&-32)<<24>>24!=-96){m=21;break t}}else if((_|0)==237){if((B&-32)<<24>>24!=-128){m=23;break t}}else if((B&-64)<<24>>24!=-128){m=25;break t}if(C=q&255,(C&192|0)!=128||((B&255)<<6&4032|_<<12&61440|C&63)>>>0>m>>>0)break e;y=y+3|0;break}if(!((C&255)>>>0<245)||(q=y,(w-q|0)<4))break e;if(C=j[y+1|0]|0,te=j[y+2|0]|0,B=j[y+3|0]|0,(_|0)==240){if(!((C+112&255)>>>0<48)){m=33;break t}}else if((_|0)==244){if((C&-16)<<24>>24!=-128){m=35;break t}}else if((C&-64)<<24>>24!=-128){m=37;break t}if(q=te&255,(q&192|0)!=128||(B=B&255,(B&192|0)!=128)||((C&255)<<12&258048|_<<18&1835008|q<<6&4032|B&63)>>>0>m>>>0)break e;y=y+4|0}while(!1);if(!(y>>>0<o>>>0&g>>>0<h>>>0))break e;g=g+1|0}if((m|0)==21)return te=C-n|0,te|0;if((m|0)==23)return te=C-n|0,te|0;if((m|0)==25)return te=C-n|0,te|0;if((m|0)==33)return te=q-n|0,te|0;if((m|0)==35)return te=q-n|0,te|0;if((m|0)==37)return te=q-n|0,te|0}while(!1);return te=y-n|0,te|0}function Fu(n){return 4}function Ou(n){n=n|0,$0(n)}function Nu(n){n=n|0,$0(n)}function Sl(n){n=n|0,r[n>>2]=20096,R0(n+12|0),$0(n)}function zu(n){n=n|0,r[n>>2]=20096,R0(n+12|0)}function Gu(n){n=n|0,r[n>>2]=20048,R0(n+16|0),$0(n)}function El(n){n=n|0,r[n>>2]=20048,R0(n+16|0)}function Tl(n){return n=n|0,j[n+8|0]|0}function xl(n){return n=n|0,r[n+8>>2]|0}function Hu(n){return n=n|0,j[n+9|0]|0}function Cl(n){return n=n|0,r[n+12>>2]|0}function Vu(n,o){n=n|0,o=o|0,J2(n,o+12|0)}function Wu(n,o){n=n|0,o=o|0,J2(n,o+16|0)}function ju(n,o){n=n|0,Ks(n,12536,4)}function $u(n,o){n=n|0,no(n,12296,n0(12296)|0)}function Dl(n,o){n=n|0,Ks(n,11952,5)}function Rl(n,o){n=n|0,no(n,11608,n0(11608)|0)}function Ku(n){if(n=n|0,(j[51888]|0)!=0||(ei(51888)|0)==0)return n=r[8476]|0,n|0;do if((j[51776]|0)==0){if((ei(51776)|0)==0)break;V0(32832,0,168)|0,Mr(322,0,di|0)|0}while(!1);return Ii(32832,16184)|0,Ii(32844,16176)|0,Ii(32856,16168)|0,Ii(32868,16128)|0,Ii(32880,16016)|0,Ii(32892,16e3)|0,Ii(32904,15984)|0,Ii(32916,15960)|0,Ii(32928,15904)|0,Ii(32940,15824)|0,Ii(32952,15816)|0,Ii(32964,15808)|0,Ii(32976,15776)|0,Ii(32988,15712)|0,r[8476]=32832,n=r[8476]|0,n|0}function qu(n){if(n=n|0,(j[51832]|0)!=0||(ei(51832)|0)==0)return n=r[8454]|0,n|0;do if((j[51752]|0)==0){if((ei(51752)|0)==0)break;V0(32088,0,168)|0,Mr(176,0,di|0)|0}while(!1);return Oi(32088,16912)|0,Oi(32100,16880)|0,Oi(32112,16840)|0,Oi(32124,16728)|0,Oi(32136,16648)|0,Oi(32148,16616)|0,Oi(32160,16576)|0,Oi(32172,16544)|0,Oi(32184,16448)|0,Oi(32196,16424)|0,Oi(32208,16360)|0,Oi(32220,16344)|0,Oi(32232,16320)|0,Oi(32244,16256)|0,r[8454]=32088,n=r[8454]|0,n|0}function g1(n){if(n=n|0,(j[51880]|0)!=0||(ei(51880)|0)==0)return n=r[8474]|0,n|0;do if((j[51768]|0)==0){if((ei(51768)|0)==0)break;V0(32544,0,288)|0,Mr(198,0,di|0)|0}while(!1);return Ii(32544,1360)|0,Ii(32556,1272)|0,Ii(32568,1208)|0,Ii(32580,1096)|0,Ii(32592,1088)|0,Ii(32604,1064)|0,Ii(32616,1016)|0,Ii(32628,896)|0,Ii(32640,800)|0,Ii(32652,728)|0,Ii(32664,688)|0,Ii(32676,624)|0,Ii(32688,528)|0,Ii(32700,408)|0,Ii(32712,400)|0,Ii(32724,392)|0,Ii(32736,1088)|0,Ii(32748,376)|0,Ii(32760,288)|0,Ii(32772,17112)|0,Ii(32784,17104)|0,Ii(32796,17096)|0,Ii(32808,17088)|0,Ii(32820,17008)|0,r[8474]=32544,n=r[8474]|0,n|0}function y1(n){if(n=n|0,(j[51824]|0)!=0||(ei(51824)|0)==0)return n=r[8452]|0,n|0;do if((j[51744]|0)==0){if((ei(51744)|0)==0)break;V0(31800,0,288)|0,Mr(146,0,di|0)|0}while(!1);return Oi(31800,4560)|0,Oi(31812,4352)|0,Oi(31824,4152)|0,Oi(31836,4048)|0,Oi(31848,2448)|0,Oi(31860,3856)|0,Oi(31872,3760)|0,Oi(31884,3592)|0,Oi(31896,3424)|0,Oi(31908,3312)|0,Oi(31920,3184)|0,Oi(31932,3040)|0,Oi(31944,2880)|0,Oi(31956,2800)|0,Oi(31968,2680)|0,Oi(31980,2584)|0,Oi(31992,2448)|0,Oi(32004,2304)|0,Oi(32016,2120)|0,Oi(32028,2032)|0,Oi(32040,1904)|0,Oi(32052,1712)|0,Oi(32064,1544)|0,Oi(32076,1408)|0,r[8452]=31800,n=r[8452]|0,n|0}function Qe(n){if(n=n|0,(j[51896]|0)!=0||(ei(51896)|0)==0)return n=r[8478]|0,n|0;do if((j[51784]|0)==0){if((ei(51784)|0)==0)break;V0(33e3,0,288)|0,Mr(144,0,di|0)|0}while(!1);return Ii(33e3,5080)|0,Ii(33012,4872)|0,r[8478]=33e3,n=r[8478]|0,n|0}function R(n){if(n=n|0,(j[51840]|0)!=0||(ei(51840)|0)==0)return n=r[8456]|0,n|0;do if((j[51760]|0)==0){if((ei(51760)|0)==0)break;V0(32256,0,288)|0,Mr(208,0,di|0)|0}while(!1);return Oi(32256,5568)|0,Oi(32268,5432)|0,r[8456]=32256,n=r[8456]|0,n|0}function ie(n){return(j[51904]|0)!=0||(ei(51904)|0)==0||(Ks(33920,11072,8),Mr(314,33920,di|0)|0),33920}function ae(n){return(j[51848]|0)!=0||(ei(51848)|0)==0||(no(33832,10808,n0(10808)|0),Mr(230,33832,di|0)|0),33832}function we(n){return(j[51928]|0)!=0||(ei(51928)|0)==0||(Ks(33968,10560,8),Mr(314,33968,di|0)|0),33968}function _e(n){return(j[51872]|0)!=0||(ei(51872)|0)==0||(no(33880,10240,n0(10240)|0),Mr(230,33880,di|0)|0),33880}function fe(n){return(j[51920]|0)!=0||(ei(51920)|0)==0||(Ks(33952,9920,20),Mr(314,33952,di|0)|0),33952}function de(n){return(j[51864]|0)!=0||(ei(51864)|0)==0||(no(33864,9512,n0(9512)|0),Mr(230,33864,di|0)|0),33864}function Se(n){return(j[51912]|0)!=0||(ei(51912)|0)==0||(Ks(33936,9144,11),Mr(314,33936,di|0)|0),33936}function Pe(n){return(j[51856]|0)!=0||(ei(51856)|0)==0||(no(33848,8832,n0(8832)|0),Mr(230,33848,di|0)|0),33848}function xe(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0;if(m=D,D=D+8|0,g=m|0,(n|0)==(o|0))return r[h>>2]=4,_=0,D=m,+_;y=sr()|0,w=r[y>>2]|0,r[y>>2]=0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;C=Ct(2147483647,14472,0)|0,r[8330]=C}while(!1);return _=+wr(n,g,r[8330]|0),n=r[y>>2]|0,(n|0)==0&&(r[y>>2]=w),(r[g>>2]|0)!=(o|0)?(r[h>>2]=4,_=0,D=m,+_):(n|0)!=34?(D=m,+_):(r[h>>2]=4,D=m,+_)}function Oe(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0;if(m=D,D=D+8|0,g=m|0,(n|0)==(o|0))return r[h>>2]=4,_=0,D=m,+_;y=sr()|0,w=r[y>>2]|0,r[y>>2]=0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;C=Ct(2147483647,14472,0)|0,r[8330]=C}while(!1);return _=+wr(n,g,r[8330]|0),n=r[y>>2]|0,(n|0)==0&&(r[y>>2]=w),(r[g>>2]|0)!=(o|0)?(r[h>>2]=4,_=0,D=m,+_):(n|0)!=34?(D=m,+_):(r[h>>2]=4,D=m,+_)}function Fe(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0;if(m=D,D=D+8|0,g=m|0,(n|0)==(o|0))return r[h>>2]=4,_=0,D=m,+_;y=sr()|0,w=r[y>>2]|0,r[y>>2]=0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;C=Ct(2147483647,14472,0)|0,r[8330]=C}while(!1);return _=+wr(n,g,r[8330]|0),n=r[y>>2]|0,(n|0)==0&&(r[y>>2]=w),(r[g>>2]|0)!=(o|0)?(r[h>>2]=4,_=0,D=m,+_):((n|0)==34&&(r[h>>2]=4),D=m,+_)}function ye(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0;if(_=D,D=D+8|0,g=_|0,(n|0)==(o|0)||(j[n]|0)==45)return r[h>>2]=4,n=0,C=0,D=_,Mt=n,C|0;w=sr()|0,y=r[w>>2]|0,r[w>>2]=0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;C=Ct(2147483647,14472,0)|0,r[8330]=C}while(!1);return n=gs(n|0,g|0,m|0,r[8330]|0)|0,m=Mt,C=r[w>>2]|0,(C|0)==0&&(r[w>>2]=y),(r[g>>2]|0)!=(o|0)?(r[h>>2]=4,n=0,C=0,D=_,Mt=n,C|0):(C|0)!=34?(C=n,D=_,Mt=m,C|0):(r[h>>2]=4,n=-1,C=-1,D=_,Mt=n,C|0)}function Ne(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0;if(_=D,D=D+8|0,g=_|0,(n|0)==(o|0)||(j[n]|0)==45)return r[h>>2]=4,C=0,D=_,C|0;w=sr()|0,y=r[w>>2]|0,r[w>>2]=0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;C=Ct(2147483647,14472,0)|0,r[8330]=C}while(!1);return C=gs(n|0,g|0,m|0,r[8330]|0)|0,n=Mt,m=r[w>>2]|0,(m|0)==0&&(r[w>>2]=y),(r[g>>2]|0)!=(o|0)?(r[h>>2]=4,C=0,D=_,C|0):(y=0,(m|0)==34|(n>>>0>y>>>0|n>>>0==y>>>0&C>>>0>-1>>>0)?(r[h>>2]=4,C=-1,D=_,C|0):(D=_,C|0))}function ee(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0;if(_=D,D=D+8|0,g=_|0,(n|0)==(o|0)||(j[n]|0)==45)return r[h>>2]=4,C=0,D=_,C|0;w=sr()|0,y=r[w>>2]|0,r[w>>2]=0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;C=Ct(2147483647,14472,0)|0,r[8330]=C}while(!1);return C=gs(n|0,g|0,m|0,r[8330]|0)|0,n=Mt,m=r[w>>2]|0,(m|0)==0&&(r[w>>2]=y),(r[g>>2]|0)!=(o|0)?(r[h>>2]=4,C=0,D=_,C|0):(y=0,(m|0)==34|(n>>>0>y>>>0|n>>>0==y>>>0&C>>>0>-1>>>0)?(r[h>>2]=4,C=-1,D=_,C|0):(D=_,C|0))}function se(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0;if(_=D,D=D+8|0,g=_|0,(n|0)==(o|0)||(j[n]|0)==45)return r[h>>2]=4,C=0,D=_,C|0;w=sr()|0,y=r[w>>2]|0,r[w>>2]=0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;C=Ct(2147483647,14472,0)|0,r[8330]=C}while(!1);return C=gs(n|0,g|0,m|0,r[8330]|0)|0,n=Mt,m=r[w>>2]|0,(m|0)==0&&(r[w>>2]=y),(r[g>>2]|0)!=(o|0)?(r[h>>2]=4,C=0,D=_,C|0):(y=0,(m|0)==34|(n>>>0>y>>>0|n>>>0==y>>>0&C>>>0>65535)?(r[h>>2]=4,C=-1,D=_,C|0):(C=C&65535,D=_,C|0))}function he(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0;if(g=D,D=D+8|0,y=g|0,(n|0)==(o|0))return r[h>>2]=4,n=0,C=0,D=g,Mt=n,C|0;_=sr()|0,w=r[_>>2]|0,r[_>>2]=0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;C=Ct(2147483647,14472,0)|0,r[8330]=C}while(!1);return n=Hn(n|0,y|0,m|0,r[8330]|0)|0,m=Mt,C=r[_>>2]|0,(C|0)==0&&(r[_>>2]=w),(r[y>>2]|0)!=(o|0)?(r[h>>2]=4,n=0,C=0,D=g,Mt=n,C|0):(C|0)==34?(r[h>>2]=4,w=0,w=(m|0)>(w|0)|(m|0)==(w|0)&n>>>0>0,D=g,Mt=w?2147483647:-2147483648,(w?-1:0)|0):(C=n,D=g,Mt=m,C|0)}function ce(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0;if(g=D,D=D+8|0,y=g|0,(n|0)==(o|0))return r[h>>2]=4,C=0,D=g,C|0;_=sr()|0,w=r[_>>2]|0,r[_>>2]=0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;C=Ct(2147483647,14472,0)|0,r[8330]=C}while(!1);if(n=Hn(n|0,y|0,m|0,r[8330]|0)|0,m=Mt,C=r[_>>2]|0,(C|0)==0&&(r[_>>2]=w),(r[y>>2]|0)!=(o|0))return r[h>>2]=4,C=0,D=g,C|0;do if((C|0)==34){if(r[h>>2]=4,C=0,(m|0)>(C|0)|(m|0)==(C|0)&n>>>0>0)w=2147483647;else break;return D=g,w|0}else{if(C=-1,(m|0)<(C|0)|(m|0)==(C|0)&n>>>0<2147483648){r[h>>2]=4;break}return C=0,(m|0)>(C|0)|(m|0)==(C|0)&n>>>0>2147483647?(r[h>>2]=4,C=2147483647,D=g,C|0):(C=n,D=g,C|0)}while(!1);return C=-2147483648,D=g,C|0}function Ae(n){n=n|0;var o=0,h=0;if(o=n+4|0,h=(r[n>>2]|0)+(r[o+4>>2]|0)|0,n=h,o=r[o>>2]|0,(o&1|0)==0){h=o,Rr[h&511](n);return}else{h=r[(r[h>>2]|0)+(o-1)>>2]|0,Rr[h&511](n);return}}function ke(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0;if(m=n+8|0,h=n+4|0,g=r[h>>2]|0,C=r[m>>2]|0,y=g,!(C-y>>2>>>0<o>>>0)){do(g|0)==0?n=0:(r[g>>2]=0,n=r[h>>2]|0),g=n+4|0,r[h>>2]=g,o=o-1|0;while((o|0)!=0);return}g=n+16|0,w=n|0,q=r[w>>2]|0,y=y-q>>2,B=y+o|0,B>>>0>1073741823&&qi(0),C=C-q|0;do if(C>>2>>>0<536870911){if(C=C>>1,B=C>>>0<B>>>0?B:C,(B|0)==0){C=0,B=0;break}if(C=n+128|0,!((j[C]|0)==0&B>>>0<29)){_=11;break}j[C]=1,C=g}else B=1073741823,_=11;while(!1);(_|0)==11&&(C=It(B<<2)|0),_=C+(y<<2)|0;do(_|0)==0?_=0:r[_>>2]=0,_=_+4|0,o=o-1|0;while((o|0)!=0);if(o=r[w>>2]|0,te=(r[h>>2]|0)-o|0,q=C+(y-(te>>2)<<2)|0,y=o,Tt(q|0,y|0,te)|0,r[w>>2]=q,r[h>>2]=_,r[m>>2]=C+(B<<2),(o|0)!=0)if((g|0)==(o|0)){j[n+128|0]=0;return}else{$0(y);return}}function Ee(n){Gt(32532),Gt(32520),Gt(32508),Gt(32496),Gt(32484),Gt(32472),Gt(32460),Gt(32448),Gt(32436),Gt(32424),Gt(32412),Gt(32400),Gt(32388),Gt(32376),Gt(32364),Gt(32352),Gt(32340),Gt(32328),Gt(32316),Gt(32304),Gt(32292),Gt(32280),Gt(32268),Gt(32256)}function je(n){R0(33276),R0(33264),R0(33252),R0(33240),R0(33228),R0(33216),R0(33204),R0(33192),R0(33180),R0(33168),R0(33156),R0(33144),R0(33132),R0(33120),R0(33108),R0(33096),R0(33084),R0(33072),R0(33060),R0(33048),R0(33036),R0(33024),R0(33012),R0(33e3)}function Le(n){Gt(32076),Gt(32064),Gt(32052),Gt(32040),Gt(32028),Gt(32016),Gt(32004),Gt(31992),Gt(31980),Gt(31968),Gt(31956),Gt(31944),Gt(31932),Gt(31920),Gt(31908),Gt(31896),Gt(31884),Gt(31872),Gt(31860),Gt(31848),Gt(31836),Gt(31824),Gt(31812),Gt(31800)}function $e(n){R0(32820),R0(32808),R0(32796),R0(32784),R0(32772),R0(32760),R0(32748),R0(32736),R0(32724),R0(32712),R0(32700),R0(32688),R0(32676),R0(32664),R0(32652),R0(32640),R0(32628),R0(32616),R0(32604),R0(32592),R0(32580),R0(32568),R0(32556),R0(32544)}function Ie(n){Gt(32244),Gt(32232),Gt(32220),Gt(32208),Gt(32196),Gt(32184),Gt(32172),Gt(32160),Gt(32148),Gt(32136),Gt(32124),Gt(32112),Gt(32100),Gt(32088)}function De(n){R0(32988),R0(32976),R0(32964),R0(32952),R0(32940),R0(32928),R0(32916),R0(32904),R0(32892),R0(32880),R0(32868),R0(32856),R0(32844),R0(32832)}function Ue(n,o,h){return n=n|0,o=o|0,h=h|0,Ke(0,n,o,(h|0)!=0?h:31056)|0}function Ke(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0;g=D,D=D+8|0,w=g|0,r[w>>2]=n,m=((m|0)==0?31048:m)|0,_=r[m>>2]|0;e:do if((o|0)==0){if((_|0)==0)h=0;else break;return D=g,h|0}else{if((n|0)==0?(y=w,r[w>>2]=y,w=y):w=n,(h|0)==0)return _=-2,D=g,_|0;do if((_|0)==0){if(n=j[o]|0,y=n&255,n<<24>>24>-1)return r[w>>2]=y,_=n<<24>>24!=0|0,D=g,_|0;if(n=y-194|0,n>>>0>50)break e;o=o+1|0,_=r[18936+(n<<2)>>2]|0,y=h-1|0;break}else y=h;while(!1);t:do if((y|0)!=0){if(n=j[o]|0,C=(n&255)>>>3,(C-16|C+(_>>26))>>>0>7)break e;for(;o=o+1|0,_=(n&255)-128|_<<6,y=y-1|0,!((_|0)>=0);){if((y|0)==0)break t;if(n=j[o]|0,((n&255)-128|0)>>>0>63)break e}return r[m>>2]=0,r[w>>2]=_,C=h-y|0,D=g,C|0}while(!1);return r[m>>2]=_,C=-2,D=g,C|0}while(!1);return r[m>>2]=0,C=sr()|0,r[C>>2]=84,C=-1,D=g,C|0}function t0(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0;_=D,D=D+1032|0,w=_+1024|0,q=r[o>>2]|0,r[w>>2]=q,y=(n|0)!=0,C=_|0,m=y?m:256,B=y?n:C;e:do if((q|0)==0|(m|0)==0)C=h,n=0;else{for(n=0;;){if(re=h>>>2,te=re>>>0>=m>>>0,!(te|h>>>0>131)){C=h;break e}if(q=te?m:re,h=h-q|0,q=Re(B,w,q,g)|0,(q|0)==-1)break;if((B|0)==(C|0)?B=C:(B=B+(q<<2)|0,m=m-q|0),n=q+n|0,q=r[w>>2]|0,(q|0)==0|(m|0)==0){C=h;break e}}C=h,n=-1,m=0,q=r[w>>2]|0}while(!1);e:do if((q|0)!=0){if((m|0)==0|(C|0)==0)break;for(;h=Ke(B,q,C,g)|0,!((h+2|0)>>>0<3);){if(q=(r[w>>2]|0)+h|0,r[w>>2]=q,m=m-1|0,n=n+1|0,(m|0)==0|(C|0)==(h|0))break e;B=B+4|0,C=C-h|0}if((h|0)==0){r[w>>2]=0;break}else if((h|0)==-1){n=-1;break}else{r[g>>2]=0;break}}while(!1);return y?(r[o>>2]=r[w>>2],D=_,n|0):(D=_,n|0)}function Re(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0;g=r[o>>2]|0;do if((m|0)==0)m=5;else{if(m=m|0,y=r[m>>2]|0,(y|0)==0){m=5;break}if((n|0)==0){w=h,m=16;break}r[m>>2]=0,w=h,m=36}while(!1);(m|0)==5&&((n|0)==0?(w=h,m=7):(w=h,m=6));e:for(;;)if((m|0)==6){if((w|0)==0){m=53;break}for(;;){m=j[g]|0;do if(((m&255)-1|0)>>>0<127){if(!((g&3|0)==0&w>>>0>3)){y=m;break}for(;;){if(y=r[g>>2]|0,((y-16843009|y)&-2139062144|0)!=0){m=30;break}if(r[n>>2]=y&255,r[n+4>>2]=We[g+1|0]|0,r[n+8>>2]=We[g+2|0]|0,y=g+4|0,_=n+16|0,r[n+12>>2]=We[g+3|0]|0,w=w-4|0,w>>>0>3)n=_,g=y;else{m=31;break}}if((m|0)==30){y=y&255;break}else if((m|0)==31){g=y,n=_,y=j[y]|0;break}}else y=m;while(!1);if(m=y&255,!((m-1|0)>>>0<127))break;if(r[n>>2]=m,w=w-1|0,(w|0)==0){m=53;break e}else n=n+4|0,g=g+1|0}if(m=m-194|0,m>>>0>50){m=47;break}y=r[18936+(m<<2)>>2]|0,g=g+1|0,m=36;continue}else if((m|0)==7){m=j[g]|0;do if(((m&255)-1|0)>>>0<127){if((g&3|0)!=0)break;if(m=r[g>>2]|0,((m-16843009|m)&-2139062144|0)!=0){m=m&255;break}do g=g+4|0,w=w-4|0,m=r[g>>2]|0;while(((m-16843009|m)&-2139062144|0)==0);m=m&255}while(!1);if(m=m&255,(m-1|0)>>>0<127){g=g+1|0,w=w-1|0,m=7;continue}if(m=m-194|0,m>>>0>50){m=47;break}y=r[18936+(m<<2)>>2]|0,g=g+1|0,m=16;continue}else if((m|0)==16){if(_=(We[g]|0)>>>3,(_-16|_+(y>>26))>>>0>7){m=17;break}m=g+1|0;do if((y&33554432|0)==0)g=m;else{if(((We[m]|0)-128|0)>>>0>63){m=20;break e}if(m=g+2|0,(y&524288|0)==0){g=m;break}if(((We[m]|0)-128|0)>>>0>63){m=23;break e}g=g+3|0}while(!1);w=w-1|0,m=7;continue}else if((m|0)==36){if(_=We[g]|0,m=_>>>3,(m-16|m+(y>>26))>>>0>7){m=37;break}m=g+1|0,y=_-128|y<<6;do if((y|0)<0){if(_=(We[m]|0)-128|0,_>>>0>63){m=40;break e}if(m=g+2|0,y=_|y<<6,(y|0)>=0){g=m;break}if(m=(We[m]|0)-128|0,m>>>0>63){m=43;break e}y=m|y<<6,g=g+3|0}else g=m;while(!1);r[n>>2]=y,n=n+4|0,w=w-1|0,m=6;continue}if((m|0)==17)g=g-1|0,m=46;else if((m|0)==20)g=g-1|0,m=46;else if((m|0)==23)g=g-1|0,m=46;else if((m|0)==37)g=g-1|0,m=46;else if((m|0)==40)g=g-1|0,m=46;else if((m|0)==43)g=g-1|0,m=46;else if((m|0)==53)return h|0;(m|0)==46&&(y|0)==0&&(m=47);do if((m|0)==47){if((j[g]|0)!=0)break;return(n|0)!=0&&(r[n>>2]=0,r[o>>2]=0),_=h-w|0,_|0}while(!1);return _=sr()|0,r[_>>2]=84,(n|0)==0?(_=-1,_|0):(r[o>>2]=g,_=-1,_|0)}function Ze(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0;if(m=D,D=D+8|0,g=m|0,r[g>>2]=n,(o|0)==0)return w=0,D=m,w|0;do if((h|0)!=0){if((n|0)==0?(w=g,r[g>>2]=w,g=w):g=n,n=j[o]|0,w=n&255,n<<24>>24>-1)return r[g>>2]=w,w=n<<24>>24!=0|0,D=m,w|0;if(w=w-194|0,w>>>0>50||(n=o+1|0,w=r[18936+(w<<2)>>2]|0,h>>>0<4&&(w&-2147483648>>>(((h*6|0)-6|0)>>>0)|0)!=0)||(h=We[n]|0,n=h>>>3,(n-16|n+(w>>26))>>>0>7))break;if(h=h-128|w<<6,(h|0)>=0)return r[g>>2]=h,w=2,D=m,w|0;if(n=(We[o+2|0]|0)-128|0,n>>>0>63)break;if(h=n|h<<6,(h|0)>=0)return r[g>>2]=h,w=3,D=m,w|0;if(o=(We[o+3|0]|0)-128|0,o>>>0>63)break;return r[g>>2]=o|h<<6,w=4,D=m,w|0}while(!1);return w=sr()|0,r[w>>2]=84,w=-1,D=m,w|0}function i0(n,o,h){return n=n|0,o=o|0,h=h|0,(n|0)==0?(h=1,h|0):o>>>0<128?(j[n]=o,h=1,h|0):o>>>0<2048?(j[n]=o>>>6|192,j[n+1|0]=o&63|128,h=2,h|0):o>>>0<55296|(o-57344|0)>>>0<8192?(j[n]=o>>>12|224,j[n+1|0]=o>>>6&63|128,j[n+2|0]=o&63|128,h=3,h|0):(o-65536|0)>>>0<1048576?(j[n]=o>>>18|240,j[n+1|0]=o>>>12&63|128,j[n+2|0]=o>>>6&63|128,j[n+3|0]=o&63|128,h=4,h|0):(h=sr()|0,r[h>>2]=84,h=-1,h|0)}function e0(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0;y=D,D=D+264|0,g=y+256|0,_=y|0,B=r[o>>2]|0,r[g>>2]=B,w=(n|0)!=0,m=w?m:256,C=w?n:_;e:do if((B|0)==0|(m|0)==0)_=h,n=0;else{for(n=0;;){if(q=h>>>0>=m>>>0,!(q|h>>>0>32)){_=h;break e}if(B=q?m:h,h=h-B|0,B=a0(C,g,B,0)|0,(B|0)==-1)break;if((C|0)==(_|0)?C=_:(C=C+B|0,m=m-B|0),n=B+n|0,B=r[g>>2]|0,(B|0)==0|(m|0)==0){_=h;break e}}_=h,n=-1,m=0,B=r[g>>2]|0}while(!1);e:do if((B|0)!=0){if((m|0)==0|(_|0)==0)break;for(;h=i0(C,r[B>>2]|0,0)|0,!((h+1|0)>>>0<2);){if(B=(r[g>>2]|0)+4|0,r[g>>2]=B,_=_-1|0,n=n+1|0,(m|0)==(h|0)|(_|0)==0)break e;m=m-h|0,C=C+h|0}if((h|0)!=0){n=-1;break}r[g>>2]=0}while(!1);return w?(r[o>>2]=r[g>>2],D=y,n|0):(D=y,n|0)}function a0(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0;if(m=D,D=D+8|0,y=m|0,(n|0)==0){if(C=r[o>>2]|0,_=y|0,B=r[C>>2]|0,(B|0)==0)return B=0,D=m,B|0;for(w=0;;){if(B>>>0>127){if(B=i0(_,B,0)|0,(B|0)==-1){w=-1,C=26;break}}else B=1;if(w=B+w|0,C=C+4|0,B=r[C>>2]|0,(B|0)==0){C=26;break}}if((C|0)==26)return D=m,w|0}e:do if(h>>>0>3){for(_=h,C=r[o>>2]|0;;){if(B=r[C>>2]|0,(B|0)==0)break e;if(B>>>0>127){if(B=i0(n,B,0)|0,(B|0)==-1){w=-1;break}n=n+B|0,_=_-B|0}else j[n]=B,n=n+1|0,_=_-1|0,C=r[o>>2]|0;if(C=C+4|0,r[o>>2]=C,!(_>>>0>3))break e}return D=m,w|0}else _=h;while(!1);e:do if((_|0)==0)g=0;else{for(y=y|0,C=r[o>>2]|0;;){if(B=r[C>>2]|0,(B|0)==0){C=24;break}if(B>>>0>127){if(B=i0(y,B,0)|0,(B|0)==-1){w=-1,C=26;break}if(B>>>0>_>>>0){C=20;break}i0(n,r[C>>2]|0,0)|0,n=n+B|0,_=_-B|0}else j[n]=B,n=n+1|0,_=_-1|0,C=r[o>>2]|0;if(C=C+4|0,r[o>>2]=C,(_|0)==0){g=0;break e}}if((C|0)==20)return B=h-_|0,D=m,B|0;if((C|0)==24){j[n]=0,g=_;break}else if((C|0)==26)return D=m,w|0}while(!1);return r[o>>2]=0,B=h-g|0,D=m,B|0}function n0(n){n=n|0;var o=0;for(o=n;(r[o>>2]|0)!=0;)o=o+4|0;return o-n>>2|0}function Me(n,o,h){n=n|0,o=o|0,h=h|0;var m=0;if((h|0)==0)return n|0;for(m=h,h=n;m=m-1|0,r[h>>2]=r[o>>2],(m|0)!=0;)o=o+4|0,h=h+4|0;return n|0}function Xe(n,o,h){n=n|0,o=o|0,h=h|0;var m=0;if(m=(h|0)==0,n-o>>2>>>0<h>>>0){if(m)return n|0;do h=h-1|0,r[n+(h<<2)>>2]=r[o+(h<<2)>>2];while((h|0)!=0);return n|0}else{if(m)return n|0;for(m=n;h=h-1|0,r[m>>2]=r[o>>2],(h|0)!=0;)o=o+4|0,m=m+4|0;return n|0}}function c0(n,o,h){n=n|0,o=o|0,h=h|0;var m=0;if((h|0)==0)return n|0;for(m=n;h=h-1|0,r[m>>2]=o,(h|0)!=0;)m=m+4|0;return n|0}function h0(n){n=n|0,r[n>>2]=19504}function w0(n){n=n|0,$0(n)}function C0(n){}function q0(n){return 7128}function K0(n){}function U0(n){}function st(n){}function ht(n){n=n|0,$0(n)}function Dt(n){n=n|0,$0(n)}function gt(n){n=n|0,$0(n)}function j0(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0;return m=D,D=D+56|0,g=m|0,(n|0)==(o|0)?(w=1,D=m,w|0):(o|0)==0||(w=Nt(o,27072,27056,0)|0,o=w,(w|0)==0)||(V0(g|0,0,56)|0,r[g>>2]=o,r[g+8>>2]=n,r[g+12>>2]=-1,r[g+48>>2]=1,Ir[r[(r[w>>2]|0)+28>>2]&63](o,g,r[h>>2]|0,1),(r[g+24>>2]|0)!=1)?(w=0,D=m,w|0):(r[h>>2]=r[g+16>>2],w=1,D=m,w|0)}function ft(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0;if((r[o+8>>2]|0)==(n|0)){if(n=o+16|0,g=r[n>>2]|0,(g|0)==0){r[n>>2]=h,r[o+24>>2]=m,r[o+36>>2]=1;return}if((g|0)!=(h|0)){g=o+36|0,r[g>>2]=(r[g>>2]|0)+1,r[o+24>>2]=2,j[o+54|0]=1;return}h=o+24|0,(r[h>>2]|0)==2&&(r[h>>2]=m)}}function Rt(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0;if((n|0)!=(r[o+8>>2]|0)){g=r[n+8>>2]|0,Ir[r[(r[g>>2]|0)+28>>2]&63](g,o,h,m);return}if(n=o+16|0,g=r[n>>2]|0,(g|0)==0){r[n>>2]=h,r[o+24>>2]=m,r[o+36>>2]=1;return}if((g|0)!=(h|0)){g=o+36|0,r[g>>2]=(r[g>>2]|0)+1,r[o+24>>2]=2,j[o+54|0]=1;return}h=o+24|0,(r[h>>2]|0)==2&&(r[h>>2]=m)}function Et(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0;if((n|0)==(r[o+8>>2]|0)){if(w=o+16|0,g=r[w>>2]|0,(g|0)==0){r[w>>2]=h,r[o+24>>2]=m,r[o+36>>2]=1;return}if((g|0)!=(h|0)){C=o+36|0,r[C>>2]=(r[C>>2]|0)+1,r[o+24>>2]=2,j[o+54|0]=1;return}if(h=o+24|0,(r[h>>2]|0)!=2)return;r[h>>2]=m;return}if(w=r[n+12>>2]|0,g=n+16+(w<<3)|0,y=r[n+20>>2]|0,_=y>>8,(y&1|0)!=0&&(_=r[(r[h>>2]|0)+_>>2]|0),C=r[n+16>>2]|0,Ir[r[(r[C>>2]|0)+28>>2]&63](C,o,h+_|0,(y&2|0)!=0?m:2),!((w|0)<=1)){for(y=o+54|0,w=h,n=n+24|0;;){if(_=r[n+4>>2]|0,C=_>>8,(_&1|0)!=0&&(C=r[(r[w>>2]|0)+C>>2]|0),B=r[n>>2]|0,Ir[r[(r[B>>2]|0)+28>>2]&63](B,o,h+C|0,(_&2|0)!=0?m:2),(j[y]|0)!=0){m=16;break}if(n=n+8|0,!(n>>>0<g>>>0)){m=16;break}}m|0}}function Nt(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0;g=D,D=D+56|0,y=g|0,C=r[n>>2]|0,w=n+(r[C-8>>2]|0)|0,C=r[C-4>>2]|0,_=C,r[y>>2]=h,r[y+4>>2]=n,r[y+8>>2]=o,r[y+12>>2]=m,te=y+16|0,o=y+20|0,n=y+24|0,B=y+28|0,m=y+32|0,q=y+40|0,V0(te|0,0,39)|0;do if((C|0)==(h|0))r[y+48>>2]=1,as[r[(r[C>>2]|0)+20>>2]&63](_,y,w,w,1,0),h=(r[n>>2]|0)==1?w:0;else{if(Or[r[(r[C>>2]|0)+24>>2]&31](_,y,w,1,0),h=r[y+36>>2]|0,(h|0)==0){if((r[q>>2]|0)!=1){h=0;break}if((r[B>>2]|0)!=1){h=0;break}h=(r[m>>2]|0)==1?r[o>>2]|0:0;break}else if((h|0)!=1){h=0;break}if((r[n>>2]|0)!=1){if((r[q>>2]|0)!=0){h=0;break}if((r[B>>2]|0)!=1){h=0;break}if((r[m>>2]|0)!=1){h=0;break}}h=r[te>>2]|0}while(!1);return D=g,h|0}function mi(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0;if(_=n|0,(_|0)==(r[o+8>>2]|0)){if((r[o+4>>2]|0)!=(h|0)||(h=o+28|0,(r[h>>2]|0)==1))return;r[h>>2]=m;return}if((_|0)==(r[o>>2]|0)){do if((r[o+16>>2]|0)!=(h|0)){if(_=o+20|0,(r[_>>2]|0)==(h|0))break;if(r[o+32>>2]=m,C=o+44|0,(r[C>>2]|0)==4)return;ge=r[n+12>>2]|0,q=n+16+(ge<<3)|0;e:do if((ge|0)>0){le=o+52|0,ne=o+53|0,pe=o+54|0,oe=n+8|0,B=o+24|0,te=h,re=0,n=n+16|0,ue=0;t:do{if(j[le]=0,j[ne]=0,ve=r[n+4>>2]|0,ge=ve>>8,(ve&1|0)!=0&&(ge=r[(r[te>>2]|0)+ge>>2]|0),Te=r[n>>2]|0,as[r[(r[Te>>2]|0)+20>>2]&63](Te,o,h,h+ge|0,2-(ve>>>1&1)|0,g),(j[pe]|0)!=0)break;do if((j[ne]|0)!=0){if((j[le]|0)==0)if((r[oe>>2]&1|0)==0){ue=1;break t}else{ue=1;break}if((r[B>>2]|0)==1){B=27;break e}if((r[oe>>2]&2|0)==0){B=27;break e}else ue=1,re=1}while(!1);n=n+8|0}while(n>>>0<q>>>0);re?(y=ue,B=26):(w=ue,B=23)}else w=0,B=23;while(!1);do if((B|0)==23){if(r[_>>2]=h,Te=o+40|0,r[Te>>2]=(r[Te>>2]|0)+1,(r[o+36>>2]|0)!=1){y=w,B=26;break}if((r[o+24>>2]|0)!=2){y=w,B=26;break}j[o+54|0]=1,w?B=27:B=28}while(!1);if((B|0)==26&&(y?B=27:B=28),(B|0)==27){r[C>>2]=3;return}else if((B|0)==28){r[C>>2]=4;return}}while(!1);if((m|0)!=1)return;r[o+32>>2]=1;return}if(_=r[n+12>>2]|0,w=n+16+(_<<3)|0,y=r[n+20>>2]|0,C=y>>8,(y&1|0)!=0&&(C=r[(r[h>>2]|0)+C>>2]|0),Te=r[n+16>>2]|0,Or[r[(r[Te>>2]|0)+24>>2]&31](Te,o,h+C|0,(y&2|0)!=0?m:2,g),y=n+24|0,!((_|0)<=1)){C=r[n+8>>2]|0;do if((C&2|0)==0){if(_=o+36|0,(r[_>>2]|0)==1)break;if((C&1|0)==0){for(B=o+54|0,C=h,te=y;;){if((j[B]|0)!=0){B=53;break}if((r[_>>2]|0)==1){B=53;break}if(q=r[te+4>>2]|0,re=q>>8,(q&1|0)!=0&&(re=r[(r[C>>2]|0)+re>>2]|0),Te=r[te>>2]|0,Or[r[(r[Te>>2]|0)+24>>2]&31](Te,o,h+re|0,(q&2|0)!=0?m:2,g),te=te+8|0,!(te>>>0<w>>>0)){B=53;break}}if((B|0)==53)return}for(q=o+24|0,B=o+54|0,C=h,re=y;;){if((j[B]|0)!=0){B=53;break}if((r[_>>2]|0)==1&&(r[q>>2]|0)==1){B=53;break}if(te=r[re+4>>2]|0,oe=te>>8,(te&1|0)!=0&&(oe=r[(r[C>>2]|0)+oe>>2]|0),Te=r[re>>2]|0,Or[r[(r[Te>>2]|0)+24>>2]&31](Te,o,h+oe|0,(te&2|0)!=0?m:2,g),re=re+8|0,!(re>>>0<w>>>0)){B=53;break}}if((B|0)==53)return}while(!1);for(_=o+54|0,C=h;;){if((j[_]|0)!=0){B=53;break}if(B=r[y+4>>2]|0,q=B>>8,(B&1|0)!=0&&(q=r[(r[C>>2]|0)+q>>2]|0),Te=r[y>>2]|0,Or[r[(r[Te>>2]|0)+24>>2]&31](Te,o,h+q|0,(B&2|0)!=0?m:2,g),y=y+8|0,!(y>>>0<w>>>0)){B=53;break}}B|0}}function li(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0;if(y=n|0,(y|0)==(r[o+8>>2]|0)){if((r[o+4>>2]|0)!=(h|0)||(w=o+28|0,(r[w>>2]|0)==1))return;r[w>>2]=m;return}if((y|0)!=(r[o>>2]|0)){_=r[n+8>>2]|0,Or[r[(r[_>>2]|0)+24>>2]&31](_,o,h,m,g);return}do if((r[o+16>>2]|0)!=(h|0)){if(y=o+20|0,(r[y>>2]|0)==(h|0))break;if(r[o+32>>2]=m,m=o+44|0,(r[m>>2]|0)==4)return;_=o+52|0,j[_]=0,C=o+53|0,j[C]=0,n=r[n+8>>2]|0,as[r[(r[n>>2]|0)+20>>2]&63](n,o,h,h,1,g),(j[C]|0)==0?(n=0,w=13):(j[_]|0)==0&&(n=1,w=13);e:do if((w|0)==13){r[y>>2]=h,C=o+40|0,r[C>>2]=(r[C>>2]|0)+1;do if((r[o+36>>2]|0)==1){if((r[o+24>>2]|0)!=2){w=16;break}if(j[o+54|0]=1,n)break e}else w=16;while(!1);if((w|0)==16&&n)break;r[m>>2]=4;return}while(!1);r[m>>2]=3;return}while(!1);(m|0)==1&&(r[o+32>>2]=1)}function Yt(n,o,h,m,g){if(n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,(r[o+8>>2]|0)==(n|0)){if((r[o+4>>2]|0)!=(h|0)||(o=o+28|0,(r[o>>2]|0)==1))return;r[o>>2]=m;return}if((r[o>>2]|0)==(n|0)){do if((r[o+16>>2]|0)!=(h|0)){if(n=o+20|0,(r[n>>2]|0)==(h|0))break;r[o+32>>2]=m,r[n>>2]=h,g=o+40|0,r[g>>2]=(r[g>>2]|0)+1;do if((r[o+36>>2]|0)==1){if((r[o+24>>2]|0)!=2)break;j[o+54|0]=1}while(!1);r[o+44>>2]=4;return}while(!1);(m|0)==1&&(r[o+32>>2]=1)}}function gi(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;if((n|0)!=(r[o+8>>2]|0)){C=o+52|0,_=j[C]|0,q=o+53|0,B=j[q]|0,re=r[n+12>>2]|0,y=n+16+(re<<3)|0,j[C]=0,j[q]=0,te=r[n+20>>2]|0,oe=te>>8,(te&1|0)!=0&&(oe=r[(r[m>>2]|0)+oe>>2]|0),pe=r[n+16>>2]|0,as[r[(r[pe>>2]|0)+20>>2]&63](pe,o,h,m+oe|0,(te&2|0)!=0?g:2,w);e:do if((re|0)>1){oe=o+24|0,re=n+8|0,le=o+54|0,te=m,n=n+24|0;do{if((j[le]|0)!=0)break e;do if((j[C]|0)==0){if((j[q]|0)==0)break;if((r[re>>2]&1|0)==0)break e}else if((r[oe>>2]|0)==1||(r[re>>2]&2|0)==0)break e;while(!1);j[C]=0,j[q]=0,ne=r[n+4>>2]|0,pe=ne>>8,(ne&1|0)!=0&&(pe=r[(r[te>>2]|0)+pe>>2]|0),ue=r[n>>2]|0,as[r[(r[ue>>2]|0)+20>>2]&63](ue,o,h,m+pe|0,(ne&2|0)!=0?g:2,w),n=n+8|0}while(n>>>0<y>>>0)}while(!1);j[C]=_,j[q]=B;return}if(j[o+53|0]=1,(r[o+4>>2]|0)==(m|0)){if(j[o+52|0]=1,y=o+16|0,_=r[y>>2]|0,(_|0)==0){if(r[y>>2]=h,r[o+24>>2]=g,r[o+36>>2]=1,!((r[o+48>>2]|0)==1&(g|0)==1))return;j[o+54|0]=1;return}if((_|0)!=(h|0)){ue=o+36|0,r[ue>>2]=(r[ue>>2]|0)+1,j[o+54|0]=1;return}h=o+24|0,y=r[h>>2]|0,(y|0)==2?r[h>>2]=g:g=y,(r[o+48>>2]|0)==1&(g|0)==1&&(j[o+54|0]=1)}}function yi(n,o,h,m,g,w){if(n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,(n|0)!=(r[o+8>>2]|0)){n=r[n+8>>2]|0,as[r[(r[n>>2]|0)+20>>2]&63](n,o,h,m,g,w);return}if(j[o+53|0]=1,(r[o+4>>2]|0)==(m|0)){if(j[o+52|0]=1,n=o+16|0,m=r[n>>2]|0,(m|0)==0){if(r[n>>2]=h,r[o+24>>2]=g,r[o+36>>2]=1,!((r[o+48>>2]|0)==1&(g|0)==1))return;j[o+54|0]=1;return}if((m|0)!=(h|0)){w=o+36|0,r[w>>2]=(r[w>>2]|0)+1,j[o+54|0]=1;return}h=o+24|0,n=r[h>>2]|0,(n|0)==2?r[h>>2]=g:g=n,(r[o+48>>2]|0)==1&(g|0)==1&&(j[o+54|0]=1)}}function Fi(n,o,h,m,g,w){if(n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,(r[o+8>>2]|0)==(n|0)&&(j[o+53|0]=1,(r[o+4>>2]|0)==(m|0))){if(j[o+52|0]=1,m=o+16|0,n=r[m>>2]|0,(n|0)==0){if(r[m>>2]=h,r[o+24>>2]=g,r[o+36>>2]=1,!((r[o+48>>2]|0)==1&(g|0)==1))return;j[o+54|0]=1;return}if((n|0)!=(h|0)){w=o+36|0,r[w>>2]=(r[w>>2]|0)+1,j[o+54|0]=1;return}h=o+24|0,m=r[h>>2]|0,(m|0)==2?r[h>>2]=g:g=m,(r[o+48>>2]|0)==1&(g|0)==1&&(j[o+54|0]=1)}}function ii(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0;do if(n>>>0<245){if(n>>>0<11?n=16:n=n+11&-8,o=n>>>3,m=r[7832]|0,g=m>>>(o>>>0),(g&3|0)!=0){g=(g&1^1)+o|0,w=g<<1,n=31368+(w<<2)|0,w=31368+(w+2<<2)|0,h=r[w>>2]|0,o=h+8|0,y=r[o>>2]|0;do if((n|0)==(y|0))r[7832]=m&~(1<<g);else{if(y>>>0<(r[7836]|0)>>>0)return At(),0;if(m=y+12|0,(r[m>>2]|0)==(h|0)){r[m>>2]=n,r[w>>2]=y;break}else return At(),0}while(!1);return ne=g<<3,r[h+4>>2]=ne|3,ne=h+(ne|4)|0,r[ne>>2]=r[ne>>2]|1,ne=o,ne|0}if(!(n>>>0>(r[7834]|0)>>>0))break;if((g|0)!=0){h=2<<o,h=g<<o&(h|-h),h=(h&-h)-1|0,o=h>>>12&16,h=h>>>(o>>>0),w=h>>>5&8,h=h>>>(w>>>0),g=h>>>2&4,h=h>>>(g>>>0),y=h>>>1&2,h=h>>>(y>>>0),_=h>>>1&1,_=(w|o|g|y|_)+(h>>>(_>>>0))|0,h=_<<1,y=31368+(h<<2)|0,h=31368+(h+2<<2)|0,g=r[h>>2]|0,o=g+8|0,w=r[o>>2]|0;do if((y|0)==(w|0))r[7832]=m&~(1<<_);else{if(w>>>0<(r[7836]|0)>>>0)return At(),0;if(m=w+12|0,(r[m>>2]|0)==(g|0)){r[m>>2]=y,r[h>>2]=w;break}else return At(),0}while(!1);if(ne=_<<3,h=ne-n|0,r[g+4>>2]=n|3,m=g+n|0,r[g+(n|4)>>2]=h|1,r[g+ne>>2]=h,g=r[7834]|0,(g|0)!=0){n=r[7837]|0,w=g>>>3,y=w<<1,g=31368+(y<<2)|0,_=r[7832]|0,w=1<<w;do if((_&w|0)==0)r[7832]=_|w,w=g,y=31368+(y+2<<2)|0;else{if(y=31368+(y+2<<2)|0,w=r[y>>2]|0,!(w>>>0<(r[7836]|0)>>>0))break;return At(),0}while(!1);r[y>>2]=n,r[w+12>>2]=n,r[n+8>>2]=w,r[n+12>>2]=g}return r[7834]=h,r[7837]=m,ne=o,ne|0}if(o=r[7833]|0,(o|0)==0)break;for(m=(o&-o)-1|0,le=m>>>12&16,m=m>>>(le>>>0),oe=m>>>5&8,m=m>>>(oe>>>0),ne=m>>>2&4,m=m>>>(ne>>>0),o=m>>>1&2,m=m>>>(o>>>0),h=m>>>1&1,h=r[31632+((oe|le|ne|o|h)+(m>>>(h>>>0))<<2)>>2]|0,m=h,o=h,h=(r[h+4>>2]&-8)-n|0;w=r[m+16>>2]|0,!((w|0)==0&&(w=r[m+20>>2]|0,(w|0)==0));)y=(r[w+4>>2]&-8)-n|0,g=y>>>0<h>>>0,m=w,o=g?w:o,h=g?y:h;if(g=o,y=r[7836]|0,g>>>0<y>>>0||(ne=g+n|0,m=ne,!(g>>>0<ne>>>0)))return At(),0;w=r[o+24>>2]|0,_=r[o+12>>2]|0;do if((_|0)==(o|0)){if(C=o+20|0,_=r[C>>2]|0,(_|0)==0&&(C=o+16|0,_=r[C>>2]|0,(_|0)==0)){_=0;break}for(;;){if(B=_+20|0,q=r[B>>2]|0,(q|0)!=0){_=q,C=B;continue}if(q=_+16|0,B=r[q>>2]|0,(B|0)==0)break;_=B,C=q}if(C>>>0<y>>>0)return At(),0;r[C>>2]=0;break}else{if(C=r[o+8>>2]|0,C>>>0<y>>>0||(B=C+12|0,(r[B>>2]|0)!=(o|0)))return At(),0;if(y=_+8|0,(r[y>>2]|0)==(o|0)){r[B>>2]=_,r[y>>2]=C;break}else return At(),0}while(!1);e:do if((w|0)!=0){C=r[o+28>>2]|0,y=31632+(C<<2)|0;do if((o|0)==(r[y>>2]|0)){if(r[y>>2]=_,(_|0)!=0)break;r[7833]=r[7833]&~(1<<C);break e}else{if(w>>>0<(r[7836]|0)>>>0)return At(),0;if(y=w+16|0,(r[y>>2]|0)==(o|0)?r[y>>2]=_:r[w+20>>2]=_,(_|0)==0)break e}while(!1);if(_>>>0<(r[7836]|0)>>>0)return At(),0;r[_+24>>2]=w,w=r[o+16>>2]|0;do if((w|0)!=0){if(w>>>0<(r[7836]|0)>>>0)return At(),0;r[_+16>>2]=w,r[w+24>>2]=_;break}while(!1);if(w=r[o+20>>2]|0,(w|0)==0)break;if(w>>>0<(r[7836]|0)>>>0)return At(),0;r[_+20>>2]=w,r[w+24>>2]=_;break}while(!1);if(h>>>0<16)ne=h+n|0,r[o+4>>2]=ne|3,ne=g+(ne+4)|0,r[ne>>2]=r[ne>>2]|1;else{if(r[o+4>>2]=n|3,r[g+(n|4)>>2]=h|1,r[g+(h+n)>>2]=h,g=r[7834]|0,(g|0)!=0){n=r[7837]|0,w=g>>>3,y=w<<1,g=31368+(y<<2)|0,_=r[7832]|0,w=1<<w;do if((_&w|0)==0)r[7832]=_|w,w=g,y=31368+(y+2<<2)|0;else{if(y=31368+(y+2<<2)|0,w=r[y>>2]|0,!(w>>>0<(r[7836]|0)>>>0))break;return At(),0}while(!1);r[y>>2]=n,r[w+12>>2]=n,r[n+8>>2]=w,r[n+12>>2]=g}r[7834]=h,r[7837]=m}return ne=o+8|0,ne|0}else{if(n>>>0>4294967231){n=-1;break}if(o=n+11|0,n=o&-8,g=r[7833]|0,(g|0)==0)break;m=-n|0,o=o>>>8;do if((o|0)==0)w=0;else{if(n>>>0>16777215){w=31;break}le=(o+1048320|0)>>>16&8,ne=o<<le,oe=(ne+520192|0)>>>16&4,ne=ne<<oe,w=(ne+245760|0)>>>16&2,w=14-(oe|le|w)+(ne<<w>>>15)|0,w=n>>>((w+7|0)>>>0)&1|w<<1}while(!1);y=r[31632+(w<<2)>>2]|0;e:do if((y|0)==0)o=0,C=0;else for((w|0)==31?_=0:_=25-(w>>>1)|0,o=0,_=n<<_,C=0;;){if(q=r[y+4>>2]&-8,B=q-n|0,B>>>0<m>>>0)if((q|0)==(n|0)){o=y,m=B,C=y;break e}else o=y,m=B;if(B=r[y+20>>2]|0,y=r[y+16+(_>>>31<<2)>>2]|0,C=(B|0)==0|(B|0)==(y|0)?C:B,(y|0)==0)break;_=_<<1}while(!1);if((C|0)==0&(o|0)==0){if(ne=2<<w,g=g&(ne|-ne),(g|0)==0)break;ne=(g&-g)-1|0,re=ne>>>12&16,ne=ne>>>(re>>>0),te=ne>>>5&8,ne=ne>>>(te>>>0),oe=ne>>>2&4,ne=ne>>>(oe>>>0),le=ne>>>1&2,ne=ne>>>(le>>>0),C=ne>>>1&1,C=r[31632+((te|re|oe|le|C)+(ne>>>(C>>>0))<<2)>>2]|0}if((C|0)!=0)for(;;){if(w=(r[C+4>>2]&-8)-n|0,g=w>>>0<m>>>0,m=g?w:m,o=g?C:o,g=r[C+16>>2]|0,(g|0)!=0){C=g;continue}if(C=r[C+20>>2]|0,(C|0)==0)break}if((o|0)==0||!(m>>>0<((r[7834]|0)-n|0)>>>0))break;if(h=o,_=r[7836]|0,h>>>0<_>>>0||(w=h+n|0,g=w,!(h>>>0<w>>>0)))return At(),0;y=r[o+24>>2]|0,C=r[o+12>>2]|0;do if((C|0)==(o|0)){if(B=o+20|0,C=r[B>>2]|0,(C|0)==0&&(B=o+16|0,C=r[B>>2]|0,(C|0)==0)){C=0;break}for(;;){if(te=C+20|0,q=r[te>>2]|0,(q|0)!=0){C=q,B=te;continue}if(q=C+16|0,te=r[q>>2]|0,(te|0)==0)break;C=te,B=q}if(B>>>0<_>>>0)return At(),0;r[B>>2]=0;break}else{if(B=r[o+8>>2]|0,B>>>0<_>>>0||(_=B+12|0,(r[_>>2]|0)!=(o|0)))return At(),0;if(q=C+8|0,(r[q>>2]|0)==(o|0)){r[_>>2]=C,r[q>>2]=B;break}else return At(),0}while(!1);e:do if((y|0)!=0){_=r[o+28>>2]|0,B=31632+(_<<2)|0;do if((o|0)==(r[B>>2]|0)){if(r[B>>2]=C,(C|0)!=0)break;r[7833]=r[7833]&~(1<<_);break e}else{if(y>>>0<(r[7836]|0)>>>0)return At(),0;if(_=y+16|0,(r[_>>2]|0)==(o|0)?r[_>>2]=C:r[y+20>>2]=C,(C|0)==0)break e}while(!1);if(C>>>0<(r[7836]|0)>>>0)return At(),0;r[C+24>>2]=y,y=r[o+16>>2]|0;do if((y|0)!=0){if(y>>>0<(r[7836]|0)>>>0)return At(),0;r[C+16>>2]=y,r[y+24>>2]=C;break}while(!1);if(y=r[o+20>>2]|0,(y|0)==0)break;if(y>>>0<(r[7836]|0)>>>0)return At(),0;r[C+20>>2]=y,r[y+24>>2]=C;break}while(!1);e:do if(m>>>0<16)ne=m+n|0,r[o+4>>2]=ne|3,ne=h+(ne+4)|0,r[ne>>2]=r[ne>>2]|1;else{if(r[o+4>>2]=n|3,r[h+(n|4)>>2]=m|1,r[h+(m+n)>>2]=m,y=m>>>3,m>>>0<256){w=y<<1,m=31368+(w<<2)|0,_=r[7832]|0,y=1<<y;do if((_&y|0)==0)r[7832]=_|y,y=m,w=31368+(w+2<<2)|0;else{if(w=31368+(w+2<<2)|0,y=r[w>>2]|0,!(y>>>0<(r[7836]|0)>>>0))break;return At(),0}while(!1);r[w>>2]=g,r[y+12>>2]=g,r[h+(n+8)>>2]=y,r[h+(n+12)>>2]=m;break}g=m>>>8;do if((g|0)==0)g=0;else{if(m>>>0>16777215){g=31;break}le=(g+1048320|0)>>>16&8,ne=g<<le,oe=(ne+520192|0)>>>16&4,ne=ne<<oe,g=(ne+245760|0)>>>16&2,g=14-(oe|le|g)+(ne<<g>>>15)|0,g=m>>>((g+7|0)>>>0)&1|g<<1}while(!1);if(C=31632+(g<<2)|0,r[h+(n+28)>>2]=g,r[h+(n+20)>>2]=0,r[h+(n+16)>>2]=0,y=r[7833]|0,_=1<<g,(y&_|0)==0){r[7833]=y|_,r[C>>2]=w,r[h+(n+24)>>2]=C,r[h+(n+12)>>2]=w,r[h+(n+8)>>2]=w;break}y=r[C>>2]|0,(g|0)==31?_=0:_=25-(g>>>1)|0;t:do if((r[y+4>>2]&-8|0)!=(m|0)){for(g=y,C=m<<_;_=g+16+(C>>>31<<2)|0,y=r[_>>2]|0,(y|0)!=0;){if((r[y+4>>2]&-8|0)==(m|0))break t;g=y,C=C<<1}if(_>>>0<(r[7836]|0)>>>0)return At(),0;r[_>>2]=w,r[h+(n+24)>>2]=g,r[h+(n+12)>>2]=w,r[h+(n+8)>>2]=w;break e}while(!1);if(g=y+8|0,m=r[g>>2]|0,_=r[7836]|0,y>>>0<_>>>0||m>>>0<_>>>0)return At(),0;r[m+12>>2]=w,r[g>>2]=w,r[h+(n+8)>>2]=m,r[h+(n+12)>>2]=y,r[h+(n+24)>>2]=0;break}while(!1);return ne=o+8|0,ne|0}while(!1);if(o=r[7834]|0,!(n>>>0>o>>>0))return h=o-n|0,m=r[7837]|0,h>>>0>15?(ne=m,r[7837]=ne+n,r[7834]=h,r[ne+(n+4)>>2]=h|1,r[ne+o>>2]=h,r[m+4>>2]=n|3):(r[7834]=0,r[7837]=0,r[m+4>>2]=o|3,ne=m+(o+4)|0,r[ne>>2]=r[ne>>2]|1),ne=m+8|0,ne|0;if(o=r[7835]|0,n>>>0<o>>>0)return oe=o-n|0,r[7835]=oe,ne=r[7838]|0,le=ne,r[7838]=le+n,r[le+(n+4)>>2]=oe|1,r[ne+4>>2]=n|3,ne=ne+8|0,ne|0;do if((r[7756]|0)==0)if(o=ho(30)|0,(o-1&o|0)==0){r[7758]=o,r[7757]=o,r[7759]=-1,r[7760]=-1,r[7761]=0,r[7943]=0,ne=(A2(0)|0)&-16^1431655768,r[7756]=ne;break}else return At(),0;while(!1);if(w=n+48|0,o=r[7758]|0,y=n+47|0,m=o+y|0,o=-o|0,g=m&o,!(g>>>0>n>>>0))return ne=0,ne|0;_=r[7942]|0;do if((_|0)!=0){if(le=r[7940]|0,ne=le+g|0,ne>>>0<=le>>>0|ne>>>0>_>>>0)n=0;else break;return n|0}while(!1);e:do if((r[7943]&4|0)==0){_=r[7838]|0;t:do if((_|0)==0)h=182;else{for(C=31776;q=C|0,te=r[q>>2]|0,!(!(te>>>0>_>>>0)&&(B=C+4|0,(te+(r[B>>2]|0)|0)>>>0>_>>>0));)if(C=r[C+8>>2]|0,(C|0)==0){h=182;break t}if((C|0)==0){h=182;break}if(_=m-(r[7835]|0)&o,!(_>>>0<2147483647)){m=0;break}C=ws(_|0)|0,h=(C|0)==((r[q>>2]|0)+(r[B>>2]|0)|0),o=h?C:-1,m=h?_:0,h=191}while(!1);do if((h|0)==182){if(o=ws(0)|0,(o|0)==-1){m=0;break}if(_=o,C=r[7757]|0,m=C-1|0,(m&_|0)==0?_=g:_=g-_+(m+_&-C)|0,C=r[7940]|0,m=C+_|0,!(_>>>0>n>>>0&_>>>0<2147483647)){m=0;break}if(B=r[7942]|0,(B|0)!=0&&m>>>0<=C>>>0|m>>>0>B>>>0){m=0;break}C=ws(_|0)|0,h=(C|0)==(o|0),o=h?o:-1,m=h?_:0,h=191}while(!1);t:do if((h|0)==191){if(h=-_|0,(o|0)!=-1){h=202;break e}do if((C|0)!=-1&_>>>0<2147483647&_>>>0<w>>>0){if(o=r[7758]|0,o=y-_+o&-o,!(o>>>0<2147483647))break;if((ws(o|0)|0)==-1){ws(h|0)|0;break t}else{_=o+_|0;break}}while(!1);if((C|0)!=-1){m=_,o=C,h=202;break e}}while(!1);r[7943]=r[7943]|4,h=199}else m=0,h=199;while(!1);do if((h|0)==199){if(!(g>>>0<2147483647)||(o=ws(g|0)|0,g=ws(0)|0,!((g|0)!=-1&(o|0)!=-1&o>>>0<g>>>0)))break;w=g-o|0,g=w>>>0>(n+40|0)>>>0,g&&(m=g?w:m,h=202)}while(!1);do if((h|0)==202){g=(r[7940]|0)+m|0,r[7940]=g,g>>>0>(r[7941]|0)>>>0&&(r[7941]=g),g=r[7838]|0;e:do if((g|0)==0){ne=r[7836]|0,(ne|0)==0|o>>>0<ne>>>0&&(r[7836]=o),r[7944]=o,r[7945]=m,r[7947]=0,r[7841]=r[7756],r[7840]=-1,h=0;do ne=h<<1,le=31368+(ne<<2)|0,r[31368+(ne+3<<2)>>2]=le,r[31368+(ne+2<<2)>>2]=le,h=h+1|0;while(h>>>0<32);h=o+8|0,(h&7|0)==0?h=0:h=-h&7,ne=m-40-h|0,r[7838]=o+h,r[7835]=ne,r[o+(h+4)>>2]=ne|1,r[o+(m-36)>>2]=40,r[7839]=r[7760]}else{w=31776;do{if(y=r[w>>2]|0,_=w+4|0,C=r[_>>2]|0,(o|0)==(y+C|0)){h=214;break}w=r[w+8>>2]|0}while((w|0)!=0);do if((h|0)==214){if((r[w+12>>2]&8|0)!=0||(w=g,!(w>>>0>=y>>>0&w>>>0<o>>>0)))break;r[_>>2]=C+m,o=(r[7835]|0)+m|0,h=g+8|0,(h&7|0)==0?h=0:h=-h&7,ne=o-h|0,r[7838]=w+h,r[7835]=ne,r[w+(h+4)>>2]=ne|1,r[w+(o+4)>>2]=40,r[7839]=r[7760];break e}while(!1);o>>>0<(r[7836]|0)>>>0&&(r[7836]=o),w=o+m|0,y=31776;do{if(_=y|0,(r[_>>2]|0)==(w|0)){h=224;break}y=r[y+8>>2]|0}while((y|0)!=0);do if((h|0)==224){if((r[y+12>>2]&8|0)!=0)break;r[_>>2]=o,h=y+4|0,r[h>>2]=(r[h>>2]|0)+m,h=o+8|0,(h&7|0)==0?h=0:h=-h&7,g=o+(m+8)|0,(g&7|0)==0?C=0:C=-g&7,te=o+(C+m)|0,q=te,g=h+n|0,y=o+g|0,w=y,_=te-(o+h)-n|0,r[o+(h+4)>>2]=n|3;t:do if((q|0)==(r[7838]|0))ne=(r[7835]|0)+_|0,r[7835]=ne,r[7838]=w,r[o+(g+4)>>2]=ne|1;else{if((q|0)==(r[7837]|0)){ne=(r[7834]|0)+_|0,r[7834]=ne,r[7837]=w,r[o+(g+4)>>2]=ne|1,r[o+(ne+g)>>2]=ne;break}if(B=m+4|0,oe=r[o+(B+C)>>2]|0,(oe&3|0)==1){n=oe&-8,re=oe>>>3;i:do if(oe>>>0<256){B=r[o+((C|8)+m)>>2]|0,te=r[o+(m+12+C)>>2]|0,oe=31368+(re<<1<<2)|0;do if((B|0)!=(oe|0)){if(B>>>0<(r[7836]|0)>>>0)return At(),0;if((r[B+12>>2]|0)==(q|0))break;return At(),0}while(!1);if((te|0)==(B|0)){r[7832]=r[7832]&~(1<<re);break}do if((te|0)==(oe|0))re=te+8|0;else{if(te>>>0<(r[7836]|0)>>>0)return At(),0;if(re=te+8|0,(r[re>>2]|0)==(q|0))break;return At(),0}while(!1);r[B+12>>2]=te,r[re>>2]=B}else{q=r[o+((C|24)+m)>>2]|0,re=r[o+(m+12+C)>>2]|0;do if((re|0)==(te|0)){if(le=C|16,oe=o+(B+le)|0,re=r[oe>>2]|0,(re|0)==0&&(oe=o+(le+m)|0,re=r[oe>>2]|0,(re|0)==0)){re=0;break}for(;;){if(le=re+20|0,ne=r[le>>2]|0,(ne|0)!=0){re=ne,oe=le;continue}if(ne=re+16|0,le=r[ne>>2]|0,(le|0)==0)break;re=le,oe=ne}if(oe>>>0<(r[7836]|0)>>>0)return At(),0;r[oe>>2]=0;break}else{if(ne=r[o+((C|8)+m)>>2]|0,ne>>>0<(r[7836]|0)>>>0||(oe=ne+12|0,(r[oe>>2]|0)!=(te|0)))return At(),0;if(le=re+8|0,(r[le>>2]|0)==(te|0)){r[oe>>2]=re,r[le>>2]=ne;break}else return At(),0}while(!1);if((q|0)==0)break;oe=r[o+(m+28+C)>>2]|0,le=31632+(oe<<2)|0;do if((te|0)==(r[le>>2]|0)){if(r[le>>2]=re,(re|0)!=0)break;r[7833]=r[7833]&~(1<<oe);break i}else{if(q>>>0<(r[7836]|0)>>>0)return At(),0;if(oe=q+16|0,(r[oe>>2]|0)==(te|0)?r[oe>>2]=re:r[q+20>>2]=re,(re|0)==0)break i}while(!1);if(re>>>0<(r[7836]|0)>>>0)return At(),0;r[re+24>>2]=q,te=C|16,q=r[o+(te+m)>>2]|0;do if((q|0)!=0){if(q>>>0<(r[7836]|0)>>>0)return At(),0;r[re+16>>2]=q,r[q+24>>2]=re;break}while(!1);if(B=r[o+(B+te)>>2]|0,(B|0)==0)break;if(B>>>0<(r[7836]|0)>>>0)return At(),0;r[re+20>>2]=B,r[B+24>>2]=re;break}while(!1);q=o+((n|C)+m)|0,_=n+_|0}if(m=q+4|0,r[m>>2]=r[m>>2]&-2,r[o+(g+4)>>2]=_|1,r[o+(_+g)>>2]=_,m=_>>>3,_>>>0<256){y=m<<1,n=31368+(y<<2)|0,_=r[7832]|0,m=1<<m;do if((_&m|0)==0)r[7832]=_|m,m=n,y=31368+(y+2<<2)|0;else{if(y=31368+(y+2<<2)|0,m=r[y>>2]|0,!(m>>>0<(r[7836]|0)>>>0))break;return At(),0}while(!1);r[y>>2]=w,r[m+12>>2]=w,r[o+(g+8)>>2]=m,r[o+(g+12)>>2]=n;break}n=_>>>8;do if((n|0)==0)n=0;else{if(_>>>0>16777215){n=31;break}le=(n+1048320|0)>>>16&8,ne=n<<le,oe=(ne+520192|0)>>>16&4,ne=ne<<oe,n=(ne+245760|0)>>>16&2,n=14-(oe|le|n)+(ne<<n>>>15)|0,n=_>>>((n+7|0)>>>0)&1|n<<1}while(!1);if(m=31632+(n<<2)|0,r[o+(g+28)>>2]=n,r[o+(g+20)>>2]=0,r[o+(g+16)>>2]=0,C=r[7833]|0,w=1<<n,(C&w|0)==0){r[7833]=C|w,r[m>>2]=y,r[o+(g+24)>>2]=m,r[o+(g+12)>>2]=y,r[o+(g+8)>>2]=y;break}w=r[m>>2]|0,(n|0)==31?m=0:m=25-(n>>>1)|0;i:do if((r[w+4>>2]&-8|0)!=(_|0)){for(n=w,C=_<<m;m=n+16+(C>>>31<<2)|0,w=r[m>>2]|0,(w|0)!=0;){if((r[w+4>>2]&-8|0)==(_|0))break i;n=w,C=C<<1}if(m>>>0<(r[7836]|0)>>>0)return At(),0;r[m>>2]=y,r[o+(g+24)>>2]=n,r[o+(g+12)>>2]=y,r[o+(g+8)>>2]=y;break t}while(!1);if(m=w+8|0,_=r[m>>2]|0,n=r[7836]|0,w>>>0<n>>>0||_>>>0<n>>>0)return At(),0;r[_+12>>2]=y,r[m>>2]=y,r[o+(g+8)>>2]=_,r[o+(g+12)>>2]=w,r[o+(g+24)>>2]=0;break}while(!1);return ne=o+(h|8)|0,ne|0}while(!1);for(h=g,C=31776;y=r[C>>2]|0,!(!(y>>>0>h>>>0)&&(_=r[C+4>>2]|0,w=y+_|0,w>>>0>h>>>0));)C=r[C+8>>2]|0;if(C=y+(_-39)|0,(C&7|0)==0?C=0:C=-C&7,y=y+(_-47+C)|0,y=y>>>0<(g+16|0)>>>0?h:y,_=y+8|0,C=o+8|0,(C&7|0)==0?C=0:C=-C&7,ne=m-40-C|0,r[7838]=o+C,r[7835]=ne,r[o+(C+4)>>2]=ne|1,r[o+(m-36)>>2]=40,r[7839]=r[7760],r[y+4>>2]=27,r[_>>2]=r[7944],r[_+4>>2]=r[7945],r[_+8>>2]=r[7946],r[_+12>>2]=r[7947],r[7944]=o,r[7945]=m,r[7947]=0,r[7946]=_,m=y+28|0,r[m>>2]=7,(y+32|0)>>>0<w>>>0)for(;o=m+4|0,r[o>>2]=7,(m+8|0)>>>0<w>>>0;)m=o;if((y|0)==(h|0))break;if(m=y-g|0,w=h+(m+4)|0,r[w>>2]=r[w>>2]&-2,r[g+4>>2]=m|1,r[h+m>>2]=m,w=m>>>3,m>>>0<256){h=w<<1,o=31368+(h<<2)|0,m=r[7832]|0,w=1<<w;do if((m&w|0)==0)r[7832]=m|w,m=o,h=31368+(h+2<<2)|0;else{if(h=31368+(h+2<<2)|0,m=r[h>>2]|0,!(m>>>0<(r[7836]|0)>>>0))break;return At(),0}while(!1);r[h>>2]=g,r[m+12>>2]=g,r[g+8>>2]=m,r[g+12>>2]=o;break}o=g,h=m>>>8;do if((h|0)==0)h=0;else{if(m>>>0>16777215){h=31;break}le=(h+1048320|0)>>>16&8,ne=h<<le,oe=(ne+520192|0)>>>16&4,ne=ne<<oe,h=(ne+245760|0)>>>16&2,h=14-(oe|le|h)+(ne<<h>>>15)|0,h=m>>>((h+7|0)>>>0)&1|h<<1}while(!1);if(_=31632+(h<<2)|0,r[g+28>>2]=h,r[g+20>>2]=0,r[g+16>>2]=0,w=r[7833]|0,y=1<<h,(w&y|0)==0){r[7833]=w|y,r[_>>2]=o,r[g+24>>2]=_,r[g+12>>2]=g,r[g+8>>2]=g;break}_=r[_>>2]|0,(h|0)==31?w=0:w=25-(h>>>1)|0;t:do if((r[_+4>>2]&-8|0)!=(m|0)){for(h=_,w=m<<w;y=h+16+(w>>>31<<2)|0,_=r[y>>2]|0,(_|0)!=0;){if((r[_+4>>2]&-8|0)==(m|0))break t;h=_,w=w<<1}if(y>>>0<(r[7836]|0)>>>0)return At(),0;r[y>>2]=o,r[g+24>>2]=h,r[g+12>>2]=g,r[g+8>>2]=g;break e}while(!1);if(m=_+8|0,w=r[m>>2]|0,h=r[7836]|0,_>>>0<h>>>0||w>>>0<h>>>0)return At(),0;r[w+12>>2]=o,r[m>>2]=o,r[g+8>>2]=w,r[g+12>>2]=_,r[g+24>>2]=0;break}while(!1);if(o=r[7835]|0,!(o>>>0>n>>>0))break;return oe=o-n|0,r[7835]=oe,ne=r[7838]|0,le=ne,r[7838]=le+n,r[le+(n+4)>>2]=oe|1,r[ne+4>>2]=n|3,ne=ne+8|0,ne|0}while(!1);return ne=sr()|0,r[ne>>2]=12,ne=0,ne|0}function Ft(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0;if((n|0)!=0){le=n-8|0,ue=le,ne=r[7836]|0,le>>>0<ne>>>0&&At(),re=r[n-4>>2]|0,te=re&3,(te|0)==1&&At(),y=re&-8,B=n+(y-8)|0,C=B;e:do if((re&1|0)==0){if(ge=r[le>>2]|0,(te|0)==0)return;if(le=-8-ge|0,ue=n+le|0,te=ue,re=ge+y|0,ue>>>0<ne>>>0&&At(),(te|0)==(r[7837]|0)){if(o=n+(y-4)|0,(r[o>>2]&3|0)!=3){o=te,q=re;break}r[7834]=re,r[o>>2]=r[o>>2]&-2,r[n+(le+4)>>2]=re|1,r[B>>2]=re;return}if(ve=ge>>>3,ge>>>0<256){o=r[n+(le+8)>>2]|0,q=r[n+(le+12)>>2]|0,oe=31368+(ve<<1<<2)|0;do if((o|0)!=(oe|0)){if(o>>>0<ne>>>0&&At(),(r[o+12>>2]|0)==(te|0))break;At()}while(!1);if((q|0)==(o|0)){r[7832]=r[7832]&~(1<<ve),o=te,q=re;break}do if((q|0)==(oe|0))pe=q+8|0;else{if(q>>>0<ne>>>0&&At(),oe=q+8|0,(r[oe>>2]|0)==(te|0)){pe=oe;break}At()}while(!1);r[o+12>>2]=q,r[pe>>2]=o,o=te,q=re;break}pe=r[n+(le+24)>>2]|0,ge=r[n+(le+12)>>2]|0;do if((ge|0)==(ue|0)){if(ge=n+(le+20)|0,ve=r[ge>>2]|0,(ve|0)==0&&(ge=n+(le+16)|0,ve=r[ge>>2]|0,(ve|0)==0)){oe=0;break}for(;;){if(Ve=ve+20|0,Te=r[Ve>>2]|0,(Te|0)!=0){ve=Te,ge=Ve;continue}if(Te=ve+16|0,Ve=r[Te>>2]|0,(Ve|0)==0)break;ve=Ve,ge=Te}if(ge>>>0<ne>>>0)At();else{r[ge>>2]=0,oe=ve;break}}else if(ve=r[n+(le+8)>>2]|0,ve>>>0<ne>>>0&&At(),ne=ve+12|0,(r[ne>>2]|0)!=(ue|0)&&At(),Te=ge+8|0,(r[Te>>2]|0)==(ue|0)){r[ne>>2]=ge,r[Te>>2]=ve,oe=ge;break}else At();while(!1);if((pe|0)==0){o=te,q=re;break}ne=r[n+(le+28)>>2]|0,ve=31632+(ne<<2)|0;do if((ue|0)==(r[ve>>2]|0)){if(r[ve>>2]=oe,(oe|0)!=0)break;r[7833]=r[7833]&~(1<<ne),o=te,q=re;break e}else if(pe>>>0<(r[7836]|0)>>>0&&At(),ne=pe+16|0,(r[ne>>2]|0)==(ue|0)?r[ne>>2]=oe:r[pe+20>>2]=oe,(oe|0)==0){o=te,q=re;break e}while(!1);oe>>>0<(r[7836]|0)>>>0&&At(),r[oe+24>>2]=pe,ne=r[n+(le+16)>>2]|0;do if((ne|0)!=0)if(ne>>>0<(r[7836]|0)>>>0)At();else{r[oe+16>>2]=ne,r[ne+24>>2]=oe;break}while(!1);if(le=r[n+(le+20)>>2]|0,(le|0)==0){o=te,q=re;break}if(le>>>0<(r[7836]|0)>>>0)At();else{r[oe+20>>2]=le,r[le+24>>2]=oe,o=te,q=re;break}}else o=ue,q=y;while(!1);te=o,te>>>0<B>>>0||At(),re=n+(y-4)|0,oe=r[re>>2]|0,(oe&1|0)==0&&At();do if((oe&2|0)==0){if((C|0)==(r[7838]|0)){if(Ve=(r[7835]|0)+q|0,r[7835]=Ve,r[7838]=o,r[o+4>>2]=Ve|1,(o|0)!=(r[7837]|0))return;r[7837]=0,r[7834]=0;return}if((C|0)==(r[7837]|0)){Ve=(r[7834]|0)+q|0,r[7834]=Ve,r[7837]=o,r[o+4>>2]=Ve|1,r[te+Ve>>2]=Ve;return}q=(oe&-8)+q|0,re=oe>>>3;e:do if(oe>>>0<256){w=r[n+y>>2]|0,y=r[n+(y|4)>>2]|0,n=31368+(re<<1<<2)|0;do if((w|0)!=(n|0)){if(w>>>0<(r[7836]|0)>>>0&&At(),(r[w+12>>2]|0)==(C|0))break;At()}while(!1);if((y|0)==(w|0)){r[7832]=r[7832]&~(1<<re);break}do if((y|0)==(n|0))_=y+8|0;else{if(y>>>0<(r[7836]|0)>>>0&&At(),n=y+8|0,(r[n>>2]|0)==(C|0)){_=n;break}At()}while(!1);r[w+12>>2]=y,r[_>>2]=w}else{_=r[n+(y+16)>>2]|0,re=r[n+(y|4)>>2]|0;do if((re|0)==(B|0)){if(re=n+(y+12)|0,C=r[re>>2]|0,(C|0)==0&&(re=n+(y+8)|0,C=r[re>>2]|0,(C|0)==0)){w=0;break}for(;;){if(le=C+20|0,oe=r[le>>2]|0,(oe|0)!=0){C=oe,re=le;continue}if(oe=C+16|0,le=r[oe>>2]|0,(le|0)==0)break;C=le,re=oe}if(re>>>0<(r[7836]|0)>>>0)At();else{r[re>>2]=0,w=C;break}}else if(oe=r[n+y>>2]|0,oe>>>0<(r[7836]|0)>>>0&&At(),le=oe+12|0,(r[le>>2]|0)!=(B|0)&&At(),C=re+8|0,(r[C>>2]|0)==(B|0)){r[le>>2]=re,r[C>>2]=oe,w=re;break}else At();while(!1);if((_|0)==0)break;C=r[n+(y+20)>>2]|0,re=31632+(C<<2)|0;do if((B|0)==(r[re>>2]|0)){if(r[re>>2]=w,(w|0)!=0)break;r[7833]=r[7833]&~(1<<C);break e}else if(_>>>0<(r[7836]|0)>>>0&&At(),C=_+16|0,(r[C>>2]|0)==(B|0)?r[C>>2]=w:r[_+20>>2]=w,(w|0)==0)break e;while(!1);w>>>0<(r[7836]|0)>>>0&&At(),r[w+24>>2]=_,_=r[n+(y+8)>>2]|0;do if((_|0)!=0)if(_>>>0<(r[7836]|0)>>>0)At();else{r[w+16>>2]=_,r[_+24>>2]=w;break}while(!1);if(y=r[n+(y+12)>>2]|0,(y|0)==0)break;if(y>>>0<(r[7836]|0)>>>0)At();else{r[w+20>>2]=y,r[y+24>>2]=w;break}}while(!1);if(r[o+4>>2]=q|1,r[te+q>>2]=q,(o|0)!=(r[7837]|0))break;r[7834]=q;return}else r[re>>2]=oe&-2,r[o+4>>2]=q|1,r[te+q>>2]=q;while(!1);if(w=q>>>3,q>>>0<256){y=w<<1,h=31368+(y<<2)|0,n=r[7832]|0,w=1<<w;do if((n&w|0)==0)r[7832]=n|w,g=h,m=31368+(y+2<<2)|0;else{if(w=31368+(y+2<<2)|0,y=r[w>>2]|0,!(y>>>0<(r[7836]|0)>>>0)){g=y,m=w;break}At()}while(!1);r[m>>2]=o,r[g+12>>2]=o,r[o+8>>2]=g,r[o+12>>2]=h;return}m=o,g=q>>>8;do if((g|0)==0)g=0;else{if(q>>>0>16777215){g=31;break}Te=(g+1048320|0)>>>16&8,Ve=g<<Te,ge=(Ve+520192|0)>>>16&4,Ve=Ve<<ge,g=(Ve+245760|0)>>>16&2,g=14-(ge|Te|g)+(Ve<<g>>>15)|0,g=q>>>((g+7|0)>>>0)&1|g<<1}while(!1);w=31632+(g<<2)|0,r[o+28>>2]=g,r[o+20>>2]=0,r[o+16>>2]=0,n=r[7833]|0,y=1<<g;e:do if((n&y|0)==0)r[7833]=n|y,r[w>>2]=m,r[o+24>>2]=w,r[o+12>>2]=o,r[o+8>>2]=o;else{y=r[w>>2]|0,(g|0)==31?w=0:w=25-(g>>>1)|0;t:do if((r[y+4>>2]&-8|0)==(q|0))h=y;else{for(g=y,n=q<<w;w=g+16+(n>>>31<<2)|0,y=r[w>>2]|0,(y|0)!=0;)if((r[y+4>>2]&-8|0)==(q|0)){h=y;break t}else g=y,n=n<<1;if(w>>>0<(r[7836]|0)>>>0)At();else{r[w>>2]=m,r[o+24>>2]=g,r[o+12>>2]=o,r[o+8>>2]=o;break e}}while(!1);if(g=h+8|0,y=r[g>>2]|0,w=r[7836]|0,h>>>0<w>>>0&&At(),y>>>0<w>>>0)At();else{r[y+12>>2]=m,r[g>>2]=m,r[o+8>>2]=y,r[o+12>>2]=h,r[o+24>>2]=0;break}}while(!1);if(Ve=(r[7840]|0)-1|0,r[7840]=Ve,(Ve|0)==0)o=31784;else return;for(;o=r[o>>2]|0,(o|0)!=0;)o=o+8|0;r[7840]=-1}}function Mi(n,o){n=n|0,o=o|0;var h=0,m=0;return(n|0)==0?(m=ii(o)|0,m|0):o>>>0>4294967231?(m=sr()|0,r[m>>2]=12,m=0,m|0):(o>>>0<11?h=16:h=o+11&-8,h=Vi(n-8|0,h)|0,(h|0)!=0?(m=h+8|0,m|0):(h=ii(o)|0,(h|0)==0?(m=0,m|0):(m=r[n-4>>2]|0,m=(m&-8)-((m&3|0)==0?8:4)|0,Tt(h|0,n|0,m>>>0<o>>>0?m:o)|0,Ft(n),m=h,m|0)))}function Vi(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0;if(h=n+4|0,g=r[h>>2]|0,y=g&-8,m=n,C=m+y|0,B=C,_=r[7836]|0,m>>>0<_>>>0||(te=g&3,!((te|0)!=1&m>>>0<C>>>0))||(w=m+(y|4)|0,q=r[w>>2]|0,(q&1|0)==0))return At(),0;if((te|0)==0){if(o>>>0<256)return oe=0,oe|0;do if(!(y>>>0<(o+4|0)>>>0)){if((y-o|0)>>>0>r[7758]<<1>>>0)break;return n|0}while(!1);return oe=0,oe|0}if(!(y>>>0<o>>>0))return y=y-o|0,y>>>0>15?(r[h>>2]=g&1|o|2,r[m+(o+4)>>2]=y|3,r[w>>2]=r[w>>2]|1,kr(m+o|0,y),oe=n,oe|0):(oe=n,oe|0);if((B|0)==(r[7838]|0))return w=(r[7835]|0)+y|0,w>>>0>o>>>0?(oe=w-o|0,r[h>>2]=g&1|o|2,r[m+(o+4)>>2]=oe|1,r[7838]=m+o,r[7835]=oe,oe=n,oe|0):(oe=0,oe|0);if((B|0)==(r[7837]|0))return y=(r[7834]|0)+y|0,y>>>0<o>>>0?(oe=0,oe|0):(w=y-o|0,w>>>0>15?(r[h>>2]=g&1|o|2,r[m+(o+4)>>2]=w|1,r[m+y>>2]=w,h=m+(y+4)|0,r[h>>2]=r[h>>2]&-2,h=m+o|0):(r[h>>2]=g&1|y|2,h=m+(y+4)|0,r[h>>2]=r[h>>2]|1,h=0,w=0),r[7834]=w,r[7837]=h,oe=n,oe|0);if((q&2|0)!=0||(w=(q&-8)+y|0,w>>>0<o>>>0))return oe=0,oe|0;g=w-o|0,te=q>>>3;e:do if(q>>>0<256){C=r[m+(y+8)>>2]|0,y=r[m+(y+12)>>2]|0,q=31368+(te<<1<<2)|0;do if((C|0)!=(q|0)){if(C>>>0<_>>>0)return At(),0;if((r[C+12>>2]|0)==(B|0))break;return At(),0}while(!1);if((y|0)==(C|0)){r[7832]=r[7832]&~(1<<te);break}do if((y|0)==(q|0))_=y+8|0;else{if(y>>>0<_>>>0)return At(),0;if(_=y+8|0,(r[_>>2]|0)==(B|0))break;return At(),0}while(!1);r[C+12>>2]=y,r[_>>2]=C}else{B=r[m+(y+24)>>2]|0,q=r[m+(y+12)>>2]|0;do if((q|0)==(C|0)){if(te=m+(y+20)|0,q=r[te>>2]|0,(q|0)==0&&(te=m+(y+16)|0,q=r[te>>2]|0,(q|0)==0)){q=0;break}for(;;){if(oe=q+20|0,re=r[oe>>2]|0,(re|0)!=0){q=re,te=oe;continue}if(oe=q+16|0,re=r[oe>>2]|0,(re|0)==0)break;q=re,te=oe}if(te>>>0<_>>>0)return At(),0;r[te>>2]=0;break}else{if(te=r[m+(y+8)>>2]|0,te>>>0<_>>>0||(re=te+12|0,(r[re>>2]|0)!=(C|0)))return At(),0;if(_=q+8|0,(r[_>>2]|0)==(C|0)){r[re>>2]=q,r[_>>2]=te;break}else return At(),0}while(!1);if((B|0)==0)break;te=r[m+(y+28)>>2]|0,_=31632+(te<<2)|0;do if((C|0)==(r[_>>2]|0)){if(r[_>>2]=q,(q|0)!=0)break;r[7833]=r[7833]&~(1<<te);break e}else{if(B>>>0<(r[7836]|0)>>>0)return At(),0;if(_=B+16|0,(r[_>>2]|0)==(C|0)?r[_>>2]=q:r[B+20>>2]=q,(q|0)==0)break e}while(!1);if(q>>>0<(r[7836]|0)>>>0)return At(),0;r[q+24>>2]=B,_=r[m+(y+16)>>2]|0;do if((_|0)!=0){if(_>>>0<(r[7836]|0)>>>0)return At(),0;r[q+16>>2]=_,r[_+24>>2]=q;break}while(!1);if(y=r[m+(y+20)>>2]|0,(y|0)==0)break;if(y>>>0<(r[7836]|0)>>>0)return At(),0;r[q+20>>2]=y,r[y+24>>2]=q;break}while(!1);return g>>>0<16?(r[h>>2]=w|r[h>>2]&1|2,oe=m+(w|4)|0,r[oe>>2]=r[oe>>2]|1,oe=n,oe|0):(r[h>>2]=r[h>>2]&1|o|2,r[m+(o+4)>>2]=g|3,oe=m+(w|4)|0,r[oe>>2]=r[oe>>2]|1,kr(m+o|0,g),oe=n,oe|0)}function or(n,o){return n=n|0,o=o|0,n>>>0<9?(n=ii(o)|0,n|0):(n=Yr(n,o)|0,n|0)}function Yr(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0;if(g=n>>>0<16?16:n,(g-1&g|0)!=0)for(n=16;;)if(n>>>0<g>>>0)n=n<<1;else{g=n;break}if(!((-64-g|0)>>>0>o>>>0))return C=sr()|0,r[C>>2]=12,C=0,C|0;if(o>>>0<11?o=16:o=o+11&-8,h=ii(g+12+o|0)|0,(h|0)==0)return C=0,C|0;n=h-8|0,m=n,w=g-1|0;do if((h&w|0)!=0)if(_=h+w&-g,w=_-8|0,y=n,(w-y|0)>>>0>15||(w=_+(g-8)|0),g=w,C=w-y|0,_=h-4|0,B=r[_>>2]|0,y=(B&-8)-C|0,(B&3|0)==0){r[w>>2]=(r[n>>2]|0)+C,r[w+4>>2]=y,m=g;break}else{B=w+4|0,r[B>>2]=y|r[B>>2]&1|2,B=w+(y+4)|0,r[B>>2]=r[B>>2]|1,r[_>>2]=C|r[_>>2]&1|2,B=h+(C-4)|0,r[B>>2]=r[B>>2]|1,kr(m,C),m=g;break}while(!1);h=m+4|0,n=r[h>>2]|0;do if((n&3|0)!=0){if(g=n&-8,!(g>>>0>(o+16|0)>>>0))break;B=g-o|0,C=m,r[h>>2]=o|n&1|2,r[C+(o|4)>>2]=B|3,_=C+(g|4)|0,r[_>>2]=r[_>>2]|1,kr(C+o|0,B)}while(!1);return B=m+8|0,B|0}function kr(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0;y=n,B=y+o|0,C=B,q=r[n+4>>2]|0;e:do if((q&1|0)==0){if(oe=r[n>>2]|0,(q&3|0)==0)return;if(pe=y+(-oe|0)|0,n=pe,q=oe+o|0,le=r[7836]|0,pe>>>0<le>>>0&&At(),(n|0)==(r[7837]|0)){if(h=y+(o+4)|0,(r[h>>2]&3|0)!=3){h=n,te=q;break}r[7834]=q,r[h>>2]=r[h>>2]&-2,r[y+(4-oe)>>2]=q|1,r[B>>2]=q;return}if(ue=oe>>>3,oe>>>0<256){h=r[y+(8-oe)>>2]|0,te=r[y+(12-oe)>>2]|0,re=31368+(ue<<1<<2)|0;do if((h|0)!=(re|0)){if(h>>>0<le>>>0&&At(),(r[h+12>>2]|0)==(n|0))break;At()}while(!1);if((te|0)==(h|0)){r[7832]=r[7832]&~(1<<ue),h=n,te=q;break}do if((te|0)==(re|0))ne=te+8|0;else{if(te>>>0<le>>>0&&At(),re=te+8|0,(r[re>>2]|0)==(n|0)){ne=re;break}At()}while(!1);r[h+12>>2]=te,r[ne>>2]=h,h=n,te=q;break}ne=r[y+(24-oe)>>2]|0,ue=r[y+(12-oe)>>2]|0;do if((ue|0)==(pe|0)){if(ge=16-oe|0,ve=y+(ge+4)|0,ue=r[ve>>2]|0,(ue|0)==0&&(ve=y+ge|0,ue=r[ve>>2]|0,(ue|0)==0)){re=0;break}for(;;){if(ge=ue+20|0,Te=r[ge>>2]|0,(Te|0)!=0){ue=Te,ve=ge;continue}if(Te=ue+16|0,ge=r[Te>>2]|0,(ge|0)==0)break;ue=ge,ve=Te}if(ve>>>0<le>>>0)At();else{r[ve>>2]=0,re=ue;break}}else if(ve=r[y+(8-oe)>>2]|0,ve>>>0<le>>>0&&At(),le=ve+12|0,(r[le>>2]|0)!=(pe|0)&&At(),ge=ue+8|0,(r[ge>>2]|0)==(pe|0)){r[le>>2]=ue,r[ge>>2]=ve,re=ue;break}else At();while(!1);if((ne|0)==0){h=n,te=q;break}le=r[y+(28-oe)>>2]|0,ue=31632+(le<<2)|0;do if((pe|0)==(r[ue>>2]|0)){if(r[ue>>2]=re,(re|0)!=0)break;r[7833]=r[7833]&~(1<<le),h=n,te=q;break e}else if(ne>>>0<(r[7836]|0)>>>0&&At(),le=ne+16|0,(r[le>>2]|0)==(pe|0)?r[le>>2]=re:r[ne+20>>2]=re,(re|0)==0){h=n,te=q;break e}while(!1);re>>>0<(r[7836]|0)>>>0&&At(),r[re+24>>2]=ne,le=16-oe|0,oe=r[y+le>>2]|0;do if((oe|0)!=0)if(oe>>>0<(r[7836]|0)>>>0)At();else{r[re+16>>2]=oe,r[oe+24>>2]=re;break}while(!1);if(oe=r[y+(le+4)>>2]|0,(oe|0)==0){h=n,te=q;break}if(oe>>>0<(r[7836]|0)>>>0)At();else{r[re+20>>2]=oe,r[oe+24>>2]=re,h=n,te=q;break}}else h=n,te=o;while(!1);q=r[7836]|0,B>>>0<q>>>0&&At(),n=y+(o+4)|0,re=r[n>>2]|0;do if((re&2|0)==0){if((C|0)==(r[7838]|0)){if(Te=(r[7835]|0)+te|0,r[7835]=Te,r[7838]=h,r[h+4>>2]=Te|1,(h|0)!=(r[7837]|0))return;r[7837]=0,r[7834]=0;return}if((C|0)==(r[7837]|0)){Te=(r[7834]|0)+te|0,r[7834]=Te,r[7837]=h,r[h+4>>2]=Te|1,r[h+Te>>2]=Te;return}te=(re&-8)+te|0,n=re>>>3;e:do if(re>>>0<256){w=r[y+(o+8)>>2]|0,o=r[y+(o+12)>>2]|0,y=31368+(n<<1<<2)|0;do if((w|0)!=(y|0)){if(w>>>0<q>>>0&&At(),(r[w+12>>2]|0)==(C|0))break;At()}while(!1);if((o|0)==(w|0)){r[7832]=r[7832]&~(1<<n);break}do if((o|0)==(y|0))_=o+8|0;else{if(o>>>0<q>>>0&&At(),y=o+8|0,(r[y>>2]|0)==(C|0)){_=y;break}At()}while(!1);r[w+12>>2]=o,r[_>>2]=w}else{_=r[y+(o+24)>>2]|0,C=r[y+(o+12)>>2]|0;do if((C|0)==(B|0)){if(n=y+(o+20)|0,C=r[n>>2]|0,(C|0)==0&&(n=y+(o+16)|0,C=r[n>>2]|0,(C|0)==0)){w=0;break}for(;;){if(oe=C+20|0,re=r[oe>>2]|0,(re|0)!=0){C=re,n=oe;continue}if(re=C+16|0,oe=r[re>>2]|0,(oe|0)==0)break;C=oe,n=re}if(n>>>0<q>>>0)At();else{r[n>>2]=0,w=C;break}}else if(n=r[y+(o+8)>>2]|0,n>>>0<q>>>0&&At(),re=n+12|0,(r[re>>2]|0)!=(B|0)&&At(),q=C+8|0,(r[q>>2]|0)==(B|0)){r[re>>2]=C,r[q>>2]=n,w=C;break}else At();while(!1);if((_|0)==0)break;C=r[y+(o+28)>>2]|0,q=31632+(C<<2)|0;do if((B|0)==(r[q>>2]|0)){if(r[q>>2]=w,(w|0)!=0)break;r[7833]=r[7833]&~(1<<C);break e}else if(_>>>0<(r[7836]|0)>>>0&&At(),C=_+16|0,(r[C>>2]|0)==(B|0)?r[C>>2]=w:r[_+20>>2]=w,(w|0)==0)break e;while(!1);w>>>0<(r[7836]|0)>>>0&&At(),r[w+24>>2]=_,_=r[y+(o+16)>>2]|0;do if((_|0)!=0)if(_>>>0<(r[7836]|0)>>>0)At();else{r[w+16>>2]=_,r[_+24>>2]=w;break}while(!1);if(o=r[y+(o+20)>>2]|0,(o|0)==0)break;if(o>>>0<(r[7836]|0)>>>0)At();else{r[w+20>>2]=o,r[o+24>>2]=w;break}}while(!1);if(r[h+4>>2]=te|1,r[h+te>>2]=te,(h|0)!=(r[7837]|0))break;r[7834]=te;return}else r[n>>2]=re&-2,r[h+4>>2]=te|1,r[h+te>>2]=te;while(!1);if(w=te>>>3,te>>>0<256){y=w<<1,o=31368+(y<<2)|0,_=r[7832]|0,w=1<<w;do if((_&w|0)==0)r[7832]=_|w,m=o,g=31368+(y+2<<2)|0;else{if(w=31368+(y+2<<2)|0,y=r[w>>2]|0,!(y>>>0<(r[7836]|0)>>>0)){m=y,g=w;break}At()}while(!1);r[g>>2]=h,r[m+12>>2]=h,r[h+8>>2]=m,r[h+12>>2]=o;return}m=h,g=te>>>8;do if((g|0)==0)o=0;else{if(te>>>0>16777215){o=31;break}ge=(g+1048320|0)>>>16&8,Te=g<<ge,ve=(Te+520192|0)>>>16&4,Te=Te<<ve,o=(Te+245760|0)>>>16&2,o=14-(ve|ge|o)+(Te<<o>>>15)|0,o=te>>>((o+7|0)>>>0)&1|o<<1}while(!1);if(g=31632+(o<<2)|0,r[h+28>>2]=o,r[h+20>>2]=0,r[h+16>>2]=0,y=r[7833]|0,w=1<<o,(y&w|0)==0){r[7833]=y|w,r[g>>2]=m,r[h+24>>2]=g,r[h+12>>2]=h,r[h+8>>2]=h;return}g=r[g>>2]|0,(o|0)==31?o=0:o=25-(o>>>1)|0;e:do if((r[g+4>>2]&-8|0)!=(te|0)){for(w=te<<o;y=g+16+(w>>>31<<2)|0,o=r[y>>2]|0,(o|0)!=0;)if((r[o+4>>2]&-8|0)==(te|0)){g=o;break e}else g=o,w=w<<1;y>>>0<(r[7836]|0)>>>0&&At(),r[y>>2]=m,r[h+24>>2]=g,r[h+12>>2]=h,r[h+8>>2]=h;return}while(!1);w=g+8|0,o=r[w>>2]|0,y=r[7836]|0,g>>>0<y>>>0&&At(),o>>>0<y>>>0&&At(),r[o+12>>2]=m,r[w>>2]=m,r[h+8>>2]=o,r[h+12>>2]=g,r[h+24>>2]=0}function It(n){n=n|0;var o=0,h=0;for(n=(n|0)==0?1:n;;){if(h=ii(n)|0,(h|0)!=0){o=10;break}if(h=(Ti=r[10888]|0,r[10888]=Ti+0,Ti),(h|0)==0)break;Wh[h&3]()}return(o|0)==10?h|0:(h=qt(4)|0,r[h>>2]=19472,Wt(h|0,25528,174),0)}function Qi(n){return n=n|0,It(n)|0}function $0(n){n=n|0,(n|0)!=0&&Ft(n)}function Xi(n){n=n|0,$0(n)}function ps(n){n=n|0,$0(n)}function Jr(n){}function Sr(n){return 9160}function Pi(){var n=0;n=qt(4)|0,r[n>>2]=19472,Wt(n|0,25528,174)}function Wi(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0;if(m=D,D=D+512|0,y=m|0,(o|0)==2)w=-1074,g=53;else if((o|0)==1)w=-1074,g=53;else if((o|0)==0)w=-149,g=24;else return S0=0,D=m,+S0;B=n+4|0,q=n+100|0;do o=r[B>>2]|0,o>>>0<(r[q>>2]|0)>>>0?(r[B>>2]=o+1,Be=We[o]|0):Be=lr(n)|0;while((zt(Be|0)|0)!=0);do if((Be|0)==45|(Be|0)==43)if(o=1-(((Be|0)==45)<<1)|0,_=r[B>>2]|0,_>>>0<(r[q>>2]|0)>>>0){r[B>>2]=_+1,Be=We[_]|0;break}else{Be=lr(n)|0;break}else o=1;while(!1);_=0;do{if((Be|32|0)!=(j[3344+_|0]|0))break;do if(_>>>0<7)if(C=r[B>>2]|0,C>>>0<(r[q>>2]|0)>>>0){r[B>>2]=C+1,Be=We[C]|0;break}else{Be=lr(n)|0;break}while(!1);_=_+1|0}while(_>>>0<8);do if((_|0)==3)re=23;else if((_|0)!=8){if(te=(h|0)==0,!(_>>>0<4|te)){if((_|0)==8)break;re=23;break}e:do if((_|0)==0){_=0;do{if((Be|32|0)!=(j[14392+_|0]|0))break e;do if(_>>>0<2)if(C=r[B>>2]|0,C>>>0<(r[q>>2]|0)>>>0){r[B>>2]=C+1,Be=We[C]|0;break}else{Be=lr(n)|0;break}while(!1);_=_+1|0}while(_>>>0<3)}while(!1);if((_|0)==3){if(o=r[B>>2]|0,o>>>0<(r[q>>2]|0)>>>0?(r[B>>2]=o+1,o=We[o]|0):o=lr(n)|0,(o|0)==40)o=1;else return(r[q>>2]|0)==0?(S0=+$i,D=m,+S0):(r[B>>2]=(r[B>>2]|0)-1,S0=+$i,D=m,+S0);for(;g=r[B>>2]|0,g>>>0<(r[q>>2]|0)>>>0?(r[B>>2]=g+1,g=We[g]|0):g=lr(n)|0,!(!((g-48|0)>>>0<10|(g-65|0)>>>0<26)&&!((g-97|0)>>>0<26|(g|0)==95));)o=o+1|0;if((g|0)==41)return S0=+$i,D=m,+S0;if(g=(r[q>>2]|0)==0,g||(r[B>>2]=(r[B>>2]|0)-1),te)return v0=sr()|0,r[v0>>2]=22,Es(n,0),S0=0,D=m,+S0;if((o|0)==0|g)return S0=+$i,D=m,+S0;for(;;)if(o=o-1|0,r[B>>2]=(r[B>>2]|0)-1,(o|0)==0){le=+$i;break}return D=m,+le}else if((_|0)==0){do if((Be|0)==48){if(_=r[B>>2]|0,_>>>0<(r[q>>2]|0)>>>0?(r[B>>2]=_+1,_=We[_]|0):_=lr(n)|0,(_|32|0)!=120){if((r[q>>2]|0)==0){Be=48;break}r[B>>2]=(r[B>>2]|0)-1,Be=48;break}for(y=r[B>>2]|0,y>>>0<(r[q>>2]|0)>>>0?(r[B>>2]=y+1,ue=We[y]|0,Te=0):(ue=lr(n)|0,Te=0);;){if((ue|0)==46){re=70;break}else if((ue|0)!=48){_=0,y=0,C=0,oe=0,pe=0,Ve=0,r0=1,le=0,ne=0;break}if(y=r[B>>2]|0,y>>>0<(r[q>>2]|0)>>>0){r[B>>2]=y+1,ue=We[y]|0,Te=1;continue}else{ue=lr(n)|0,Te=1;continue}}e:do if((re|0)==70){if(y=r[B>>2]|0,y>>>0<(r[q>>2]|0)>>>0?(r[B>>2]=y+1,ue=We[y]|0):ue=lr(n)|0,(ue|0)==48)C=-1,oe=-1;else{_=0,y=0,C=0,oe=0,pe=1,Ve=0,r0=1,le=0,ne=0;break}for(;;){if(y=r[B>>2]|0,y>>>0<(r[q>>2]|0)>>>0?(r[B>>2]=y+1,ue=We[y]|0):ue=lr(n)|0,(ue|0)!=48){_=0,y=0,Te=1,pe=1,Ve=0,r0=1,le=0,ne=0;break e}v0=Tr(oe,C,-1,-1)|0,C=Mt,oe=v0}}while(!1);e:for(;;){qe=ue-48|0;do if(qe>>>0<10)re=84;else{if(ve=ue|32,ge=(ue|0)==46,!((ve-97|0)>>>0<6|ge))break e;if(ge)if((pe|0)==0){ge=_,ve=y,C=_,oe=y,pe=1;break}else{ue=46;break e}else{qe=(ue|0)>57?ve-87|0:qe,re=84;break}}while(!1);if((re|0)==84){re=0,v0=0;do if((_|0)<(v0|0)|(_|0)==(v0|0)&y>>>0<8)E0=r0,ne=qe+(ne<<4)|0;else{if(v0=0,(_|0)<(v0|0)|(_|0)==(v0|0)&y>>>0<14){S0=r0*.0625,E0=S0,le=le+S0*+(qe|0);break}if(!((qe|0)!=0&(Ve|0)==0)){E0=r0;break}Ve=1,E0=r0,le=le+r0*.5}while(!1);ve=Tr(y,_,1,0)|0,ge=Mt,Te=1,r0=E0}if(y=r[B>>2]|0,y>>>0<(r[q>>2]|0)>>>0){r[B>>2]=y+1,ue=We[y]|0,_=ge,y=ve;continue}else{ue=lr(n)|0,_=ge,y=ve;continue}}if((Te|0)==0){g=(r[q>>2]|0)==0,g||(r[B>>2]=(r[B>>2]|0)-1);do if(te)Es(n,0);else{if(g||(g=r[B>>2]|0,r[B>>2]=g-1,(pe|0)==0))break;r[B>>2]=g-2}while(!1);return S0=+(o|0)*0,D=m,+S0}if(pe=(pe|0)==0,re=pe?y:oe,C=pe?_:C,v0=0,(_|0)<(v0|0)|(_|0)==(v0|0)&y>>>0<8)do ne=ne<<4,y=Tr(y,_,1,0)|0,_=Mt,v0=0;while((_|0)<(v0|0)|(_|0)==(v0|0)&y>>>0<8);do if((ue|32|0)==112){if(y=hr(n,h)|0,_=Mt,!((y|0)==0&(_|0)==-2147483648))break;if(te)return Es(n,0),S0=0,D=m,+S0;if((r[q>>2]|0)==0){_=0,y=0;break}r[B>>2]=(r[B>>2]|0)-1,_=0,y=0;break}else{if((r[q>>2]|0)==0){_=0,y=0;break}r[B>>2]=(r[B>>2]|0)-1,_=0,y=0}while(!1);if(v0=Tr(re<<2|0,C<<2|re>>>30,-32,-1)|0,y=Tr(v0,Mt,y,_)|0,_=Mt,(ne|0)==0)return S0=+(o|0)*0,D=m,+S0;if(v0=0,(_|0)>(v0|0)|(_|0)==(v0|0)&y>>>0>(-w|0)>>>0)return v0=sr()|0,r[v0>>2]=34,S0=+(o|0)*17976931348623157e292*17976931348623157e292,D=m,+S0;if(C=w-106|0,v0=(C|0)<0|0?-1:0,(_|0)<(v0|0)|(_|0)==(v0|0)&y>>>0<C>>>0)return v0=sr()|0,r[v0>>2]=34,S0=+(o|0)*22250738585072014e-324*22250738585072014e-324,D=m,+S0;if((ne|0)>-1)do ne=ne<<1,le<.5?r0=le:(r0=le+-1,ne=ne|1),le=le+r0,y=Tr(y,_,-1,-1)|0,_=Mt;while((ne|0)>-1);C=0,w=Pn(32,0,w,(w|0)<0|0?-1:0)|0,w=Tr(y,_,w,Mt)|0,v0=Mt,(C|0)>(v0|0)|(C|0)==(v0|0)&g>>>0>w>>>0&&(g=(w|0)<0?0:w);do if((g|0)<53){if(r0=+(o|0),E0=+wn(+ +Js(1,84-g|0),+r0),!((g|0)<32&le!=0))break;o=ne&1,le=(o|0)==0?0:le,ne=(o^1)+ne|0}else E0=0,r0=+(o|0);while(!1);return le=r0*le+(E0+r0*+(ne>>>0>>>0))-E0,le==0&&(v0=sr()|0,r[v0>>2]=34),S0=+Fr(le,y),D=m,+S0}while(!1);for(C=w+g|0,_=-C|0,qe=0;;){if((Be|0)==46){re=139;break}else if((Be|0)!=48){He=0,ue=0,pe=0;break}if(oe=r[B>>2]|0,oe>>>0<(r[q>>2]|0)>>>0){r[B>>2]=oe+1,Be=We[oe]|0,qe=1;continue}else{Be=lr(n)|0,qe=1;continue}}e:do if((re|0)==139){if(oe=r[B>>2]|0,oe>>>0<(r[q>>2]|0)>>>0?(r[B>>2]=oe+1,Be=We[oe]|0):Be=lr(n)|0,(Be|0)==48)ue=-1,pe=-1;else{He=1,ue=0,pe=0;break}for(;;){if(oe=r[B>>2]|0,oe>>>0<(r[q>>2]|0)>>>0?(r[B>>2]=oe+1,Be=We[oe]|0):Be=lr(n)|0,(Be|0)!=48){He=1,qe=1;break e}v0=Tr(pe,ue,-1,-1)|0,ue=Mt,pe=v0}}while(!1);oe=y|0,r[oe>>2]=0,Ge=Be-48|0,Ye=(Be|0)==46;e:do if(Ge>>>0<10|Ye)for(ne=y+496|0,ze=0,Ve=0,ve=0,Te=0,ge=0;;){do if(Ye)if((He|0)==0)He=1,o0=ze,v0=Ve,ue=ze,pe=Ve;else break e;else{if(Ve=Tr(Ve,ze,1,0)|0,ze=Mt,Ye=(Be|0)!=48,(Te|0)>=125){if(!Ye){o0=ze,v0=Ve;break}r[ne>>2]=r[ne>>2]|1,o0=ze,v0=Ve;break}qe=y+(Te<<2)|0,(ge|0)!=0&&(Ge=Be-48+((r[qe>>2]|0)*10|0)|0),r[qe>>2]=Ge,ge=ge+1|0,qe=(ge|0)==9,ge=qe?0:ge,Te=(qe&1)+Te|0,qe=1,ve=Ye?Ve:ve,o0=ze,v0=Ve}while(!1);if(Ve=r[B>>2]|0,Ve>>>0<(r[q>>2]|0)>>>0?(r[B>>2]=Ve+1,Be=We[Ve]|0):Be=lr(n)|0,Ge=Be-48|0,Ye=(Be|0)==46,Ge>>>0<10|Ye)ze=o0,Ve=v0;else{ze=o0,Ve=v0,re=162;break}}else ze=0,Ve=0,ve=0,Te=0,ge=0,re=162;while(!1);(re|0)==162&&(ne=(He|0)==0,ue=ne?ze:ue,pe=ne?Ve:pe),ne=(qe|0)!=0;do if(ne){if((Be|32|0)!=101){re=171;break}h=hr(n,h)|0,qe=Mt;do if((h|0)==0&(qe|0)==-2147483648){if(te)return Es(n,0),S0=0,D=m,+S0;if((r[q>>2]|0)==0){qe=0,h=0;break}r[B>>2]=(r[B>>2]|0)-1,qe=0,h=0;break}while(!1);pe=Tr(h,qe,pe,ue)|0,ue=Mt}else re=171;while(!1);do if((re|0)==171){if(!((Be|0)>-1)||(r[q>>2]|0)==0)break;r[B>>2]=(r[B>>2]|0)-1}while(!1);if(!ne)return v0=sr()|0,r[v0>>2]=22,Es(n,0),S0=0,D=m,+S0;if(n=r[oe>>2]|0,(n|0)==0)return S0=+(o|0)*0,D=m,+S0;v0=0;do if((pe|0)==(Ve|0)&(ue|0)==(ze|0)&((ze|0)<(v0|0)|(ze|0)==(v0|0)&Ve>>>0<10)){if(!(g>>>0>30)&&(n>>>(g>>>0)|0)!=0)break;return S0=+(o|0)*+(n>>>0>>>0),D=m,+S0}while(!1);if(n=(w|0)/-2|0,v0=(n|0)<0|0?-1:0,(ue|0)>(v0|0)|(ue|0)==(v0|0)&pe>>>0>n>>>0)return v0=sr()|0,r[v0>>2]=34,S0=+(o|0)*17976931348623157e292*17976931348623157e292,D=m,+S0;if(n=w-106|0,v0=(n|0)<0|0?-1:0,(ue|0)<(v0|0)|(ue|0)==(v0|0)&pe>>>0<n>>>0)return v0=sr()|0,r[v0>>2]=34,S0=+(o|0)*22250738585072014e-324*22250738585072014e-324,D=m,+S0;if((ge|0)!=0){if((ge|0)<9){n=y+(Te<<2)|0,B=r[n>>2]|0;do B=B*10|0,ge=ge+1|0;while((ge|0)<9);r[n>>2]=B}Te=Te+1|0}do if((ve|0)<9){if(!((ve|0)<=(pe|0)&(pe|0)<18))break;if((pe|0)==9)return S0=+(o|0)*+((r[oe>>2]|0)>>>0>>>0),D=m,+S0;if((pe|0)<9)return S0=+(o|0)*+((r[oe>>2]|0)>>>0>>>0)/+(r[216+(8-pe<<2)>>2]|0),D=m,+S0;if(n=g+27+(pe*-3|0)|0,B=r[oe>>2]|0,(n|0)<=30&&(B>>>(n>>>0)|0)!=0)break;return S0=+(o|0)*+(B>>>0>>>0)*+(r[216+(pe-10<<2)>>2]|0),D=m,+S0}while(!1);if(n=(pe|0)%9|0,(n|0)==0)n=0,B=0;else{q=(pe|0)>-1?n:n+9|0,B=r[216+(8-q<<2)>>2]|0;do if((Te|0)==0)Te=0,n=0;else{for(h=1e9/(B|0)|0,n=0,oe=0,re=0;o0=y+(oe<<2)|0,te=r[o0>>2]|0,v0=((te>>>0)/(B>>>0)|0)+re|0,r[o0>>2]=v0,re=s0((te>>>0)%(B>>>0)|0,h)|0,te=oe+1|0,(oe|0)==(n|0)&(v0|0)==0&&(n=te&127,pe=pe-9|0),(te|0)!=(Te|0);)oe=te;if((re|0)==0)break;r[y+(Te<<2)>>2]=re,Te=Te+1|0}while(!1);B=0,pe=9-q+pe|0}e:for(;;){if(q=y+(n<<2)|0,(pe|0)<18)do{for(h=0,q=Te+127|0;q=q&127,te=y+(q<<2)|0,re=r[te>>2]|0,re=Tr(re<<29|0,0|re>>>3,h,0)|0,h=Mt,v0=0,h>>>0>v0>>>0|h>>>0==v0>>>0&re>>>0>1e9?(v0=Xc(re,h,1e9,0)|0,re=Zc(re,h,1e9,0)|0,h=v0):h=0,r[te>>2]=re,te=(q|0)==(n|0),(q|0)!=(Te+127&127|0)|te||(Te=(re|0)==0?q:Te),!te;)q=q-1|0;B=B-29|0}while((h|0)==0);else{if((pe|0)!=18)break;do{if(!((r[q>>2]|0)>>>0<9007199)){pe=18;break e}for(h=0,te=Te+127|0;te=te&127,re=y+(te<<2)|0,oe=r[re>>2]|0,oe=Tr(oe<<29|0,0|oe>>>3,h,0)|0,h=Mt,v0=0,h>>>0>v0>>>0|h>>>0==v0>>>0&oe>>>0>1e9?(v0=Xc(oe,h,1e9,0)|0,oe=Zc(oe,h,1e9,0)|0,h=v0):h=0,r[re>>2]=oe,re=(te|0)==(n|0),(te|0)!=(Te+127&127|0)|re||(Te=(oe|0)==0?te:Te),!re;)te=te-1|0;B=B-29|0}while((h|0)==0)}n=n+127&127,(n|0)==(Te|0)&&(v0=Te+127&127,Te=y+((Te+126&127)<<2)|0,r[Te>>2]=r[Te>>2]|r[y+(v0<<2)>>2],Te=v0),r[y+(n<<2)>>2]=h,pe=pe+9|0}e:for(;;){for(q=Te+1&127,h=y+((Te+127&127)<<2)|0;;){for(re=(pe|0)==18,te=(pe|0)>27?9:1;;){for(oe=0;;){if(ne=oe+n&127,(ne|0)==(Te|0)){oe=2;break}if(ne=r[y+(ne<<2)>>2]|0,ve=r[208+(oe<<2)>>2]|0,ne>>>0<ve>>>0){oe=2;break}if(ue=oe+1|0,ne>>>0>ve>>>0)break;if((ue|0)<2)oe=ue;else{oe=ue;break}}if((oe|0)==2&re)break e;if(B=te+B|0,(n|0)==(Te|0))n=Te;else break}oe=(1<<te)-1|0,re=1e9>>>(te>>>0),ne=n,ve=0;do o0=y+(n<<2)|0,v0=r[o0>>2]|0,ue=(v0>>>(te>>>0))+ve|0,r[o0>>2]=ue,ve=s0(v0&oe,re)|0,ue=(n|0)==(ne|0)&(ue|0)==0,n=n+1&127,pe=ue?pe-9|0:pe,ne=ue?n:ne;while((n|0)!=(Te|0));if((ve|0)==0){n=ne;continue}if((q|0)!=(ne|0))break;r[h>>2]=r[h>>2]|1,n=ne}r[y+(Te<<2)>>2]=ve,n=ne,Te=q}h=n&127,(h|0)==(Te|0)&&(r[y+(q-1<<2)>>2]=0,Te=q),r0=+((r[y+(h<<2)>>2]|0)>>>0>>>0),q=n+1&127,(q|0)==(Te|0)&&(Te=Te+1&127,r[y+(Te-1<<2)>>2]=0),le=+(o|0),E0=le*(r0*1e9+ +((r[y+(q<<2)>>2]|0)>>>0>>>0)),o=B+53|0,w=o-w|0,(w|0)<(g|0)?(g=(w|0)<0?0:w,q=1):q=0,(g|0)<53?(O0=+wn(+ +Js(1,105-g|0),+E0),P0=+Ri(+E0,+ +Js(1,53-g|0)),r0=O0,S0=P0,E0=O0+(E0-P0)):(r0=0,S0=0),h=n+2&127;do if((h|0)!=(Te|0)){y=r[y+(h<<2)>>2]|0;do if(y>>>0<5e8){if((y|0)==0&&(n+3&127|0)==(Te|0))break;S0=le*.25+S0}else{if(y>>>0>5e8){S0=le*.75+S0;break}if((n+3&127|0)==(Te|0)){S0=le*.5+S0;break}else{S0=le*.75+S0;break}}while(!1);if((53-g|0)<=1||+Ri(+S0,1)!=0)break;S0=S0+1}while(!1);le=E0+S0-r0;do if((o&2147483647|0)>(-2-C|0)){if(+tr(+le)<9007199254740992||(le=le*.5,q=(q|0)!=0&(g|0)==(w|0)?0:q,B=B+1|0),(B+50|0)<=(_|0)&&!((q|0)!=0&S0!=0))break;v0=sr()|0,r[v0>>2]=34}while(!1);return O0=+Fr(le,B),D=m,+O0}else return(r[q>>2]|0)!=0&&(r[B>>2]=(r[B>>2]|0)-1),v0=sr()|0,r[v0>>2]=22,Es(n,0),O0=0,D=m,+O0}while(!1);do if((re|0)==23){if(g=(r[q>>2]|0)==0,g||(r[B>>2]=(r[B>>2]|0)-1),_>>>0<4|(h|0)==0|g)break;do r[B>>2]=(r[B>>2]|0)-1,_=_-1|0;while(_>>>0>3)}while(!1);return O0=+(o|0)*ir,D=m,+O0}function hr(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0;h=n+4|0,g=r[h>>2]|0,m=n+100|0,g>>>0<(r[m>>2]|0)>>>0?(r[h>>2]=g+1,w=We[g]|0):w=lr(n)|0;do if((w|0)==45|(w|0)==43){if(g=(w|0)==45|0,w=r[h>>2]|0,w>>>0<(r[m>>2]|0)>>>0?(r[h>>2]=w+1,w=We[w]|0):w=lr(n)|0,(w-48|0)>>>0<10|(o|0)==0||(r[m>>2]|0)==0)break;r[h>>2]=(r[h>>2]|0)-1}else g=0;while(!1);if((w-48|0)>>>0>9)return(r[m>>2]|0)==0?(w=-2147483648,y=0,Mt=w,y|0):(r[h>>2]=(r[h>>2]|0)-1,w=-2147483648,y=0,Mt=w,y|0);for(o=0;o=w-48+o|0,w=r[h>>2]|0,w>>>0<(r[m>>2]|0)>>>0?(r[h>>2]=w+1,w=We[w]|0):w=lr(n)|0,!!((w-48|0)>>>0<10&(o|0)<214748364);)o=o*10|0;if(y=o,o=(o|0)<0|0?-1:0,(w-48|0)>>>0<10)do o=Yu(y,o,10,0)|0,y=Mt,w=Tr(w,(w|0)<0|0?-1:0,-48,-1)|0,y=Tr(w,Mt,o,y)|0,o=Mt,w=r[h>>2]|0,w>>>0<(r[m>>2]|0)>>>0?(r[h>>2]=w+1,w=We[w]|0):w=lr(n)|0,_=21474836;while((w-48|0)>>>0<10&((o|0)<(_|0)|(o|0)==(_|0)&y>>>0<2061584302));if((w-48|0)>>>0<10)do w=r[h>>2]|0,w>>>0<(r[m>>2]|0)>>>0?(r[h>>2]=w+1,w=We[w]|0):w=lr(n)|0;while((w-48|0)>>>0<10);return(r[m>>2]|0)!=0&&(r[h>>2]=(r[h>>2]|0)-1),h=(g|0)!=0,n=Pn(0,0,y,o)|0,m=h?Mt:o,_=h?n:y,Mt=m,_|0}function Es(n,o){n=n|0,o=o|0;var h=0,m=0,g=0;if(r[n+104>>2]=o,m=r[n+8>>2]|0,h=r[n+4>>2]|0,g=m-h|0,r[n+108>>2]=g,(o|0)!=0&(g|0)>(o|0)){r[n+100>>2]=h+o;return}else{r[n+100>>2]=m;return}}function lr(n){n=n|0;var o=0,h=0,m=0,g=0,w=0;m=n+104|0,o=r[m>>2]|0,((o|0)==0||(r[n+108>>2]|0)<(o|0))&&(h=3);do if((h|0)==3){if(o=ms(n)|0,(o|0)<0)break;w=r[m>>2]|0,m=r[n+8>>2]|0;do if((w|0)==0)h=8;else{if(g=r[n+4>>2]|0,w=w-(r[n+108>>2]|0)-1|0,(m-g|0)<=(w|0)){h=8;break}r[n+100>>2]=g+w}while(!1);return(h|0)==8&&(r[n+100>>2]=m),h=r[n+4>>2]|0,(m|0)!=0&&(w=n+108|0,r[w>>2]=m+1-h+(r[w>>2]|0)),n=h-1|0,(We[n]|0|0)==(o|0)?(w=o,w|0):(j[n]=o,w=o,w|0)}while(!1);return r[n+100>>2]=0,w=-1,w|0}function Js(n,o){n=+n,o=o|0;var h=0;do if((o|0)>1023){if(n=n*898846567431158e293,h=o-1023|0,(h|0)<=1023){o=h;break}o=o-2046|0,n=n*898846567431158e293,o=(o|0)>1023?1023:o}else{if(!((o|0)<-1022))break;if(n=n*22250738585072014e-324,h=o+1022|0,!((h|0)<-1022)){o=h;break}o=o+2044|0,n=n*22250738585072014e-324,o=(o|0)<-1022?-1022:o}while(!1);return+(n*(r[k0>>2]=0,r[k0+4>>2]=o+1023<<20|0,+p0[k0>>3]))}function Fr(n,o){return n=+n,o=o|0,+ +Js(n,o)}function As(n){n=n|0;var o=0,h=0,m=0;return h=n+74|0,o=j[h]|0,j[h]=o-1&255|o,h=n+20|0,o=n+44|0,(r[h>>2]|0)>>>0>(r[o>>2]|0)>>>0&&Yi[r[n+36>>2]&63](n,0,0)|0,r[n+16>>2]=0,r[n+28>>2]=0,r[h>>2]=0,m=n|0,h=r[m>>2]|0,(h&20|0)==0?(m=r[o>>2]|0,r[n+8>>2]=m,r[n+4>>2]=m,m=0,m|0):(h&4|0)==0?(m=-1,m|0):(r[m>>2]=h|32,m=-1,m|0)}function ms(n){n=n|0;var o=0,h=0;o=D,D=D+8|0,h=o|0;do if((r[n+8>>2]|0)==0){if((As(n)|0)==0)break;return n=-1,D=o,n|0}while(!1);return(Yi[r[n+32>>2]&63](n,h,1)|0)!=1?(h=-1,D=o,h|0):(h=We[h]|0,D=o,h|0)}function wr(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0;return h=D,D=D+112|0,g=h|0,V0(g|0,0,112)|0,y=g+4|0,r[y>>2]=n,w=g+8|0,r[w>>2]=-1,r[g+44>>2]=n,r[g+76>>2]=-1,Es(g,0),m=+Wi(g,2,1),g=(r[y>>2]|0)-(r[w>>2]|0)+(r[g+108>>2]|0)|0,(o|0)==0?(D=h,+m):((g|0)!=0&&(n=n+g|0),r[o>>2]=n,D=h,+m)}function Tt(n,o,h){n=n|0,o=o|0,h=h|0;var m=0;if((h|0)>=4096)return _1(n|0,o|0,h|0)|0;if(m=n|0,(n&3)==(o&3)){for(;n&3;){if((h|0)==0)return m|0;j[n]=j[o]|0,n=n+1|0,o=o+1|0,h=h-1|0}for(;(h|0)>=4;)r[n>>2]=r[o>>2],n=n+4|0,o=o+4|0,h=h-4|0}for(;(h|0)>0;)j[n]=j[o]|0,n=n+1|0,o=o+1|0,h=h-1|0;return m|0}function V0(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0;if(m=n+h|0,(h|0)>=20){if(o=o&255,y=n&3,w=o|o<<8|o<<16|o<<24,g=m&-4,y)for(y=n+4-y|0;(n|0)<(y|0);)j[n]=o,n=n+1|0;for(;(n|0)<(g|0);)r[n>>2]=w,n=n+4|0}for(;(n|0)<(m|0);)j[n]=o,n=n+1|0;return n-h|0}function Er(n){n=n|0;var o=0;for(o=n;j[o]|0;)o=o+1|0;return o-n|0}function Gi(n,o,h){n=n|0,o=o|0,h=h|0;var m=0;if((o|0)<(n|0)&(n|0)<(o+h|0)){for(m=n,o=o+h|0,n=n+h|0;(h|0)>0;)n=n-1|0,o=o-1|0,h=h-1|0,j[n]=j[o]|0;n=m}else Tt(n,o,h)|0;return n|0}function h2(n,o,h,m,g,w,y,_){n=n,o=o,h=h,m=m,g=g,y=y,_=_,j=n,be=o,r=h,We=m,f0=g,it=y,p0=_}function Tr(n,o,h,m){return n=n|0,o=o|0,h=h|0,m=m|0,h=n+h>>>0,Mt=o+m+(h>>>0<n>>>0|0)>>>0,h|0|0}function Pn(n,o,h,m){return n=n|0,o=o|0,h=h|0,m=m|0,o=o-m-(h>>>0>n>>>0|0)>>>0,Mt=o,n-h>>>0|0|0}function yn(n,o,h){return n=n|0,o=o|0,h=h|0,(h|0)<32?(Mt=o<<h|(n&(1<<h)-1<<32-h)>>>32-h,n<<h):(Mt=n<<h-32,0)}function Yc(n,o,h){return n=n|0,o=o|0,h=h|0,(h|0)<32?(Mt=o>>>h,n>>>h|(o&(1<<h)-1)<<32-h):(Mt=0,o>>>h-32|0)}function Jc(n,o,h){return n=n|0,o=o|0,h=h|0,(h|0)<32?(Mt=o>>h,n>>>h|(o&(1<<h)-1)<<32-h):(Mt=(o|0)<0?-1:0,o>>h-32|0)}function io(n){n=n|0;var o=0;return o=j[J0+(n>>>24)|0]|0,(o|0)<8?o|0:(o=j[J0+(n>>16&255)|0]|0,(o|0)<8?o+8|0:(o=j[J0+(n>>8&255)|0]|0,(o|0)<8?o+16|0:(j[J0+(n&255)|0]|0)+24|0))}function Qc(n){n=n|0;var o=0;return o=j[T0+(n&255)|0]|0,(o|0)<8?o|0:(o=j[T0+(n>>8&255)|0]|0,(o|0)<8?o+8|0:(o=j[T0+(n>>16&255)|0]|0,(o|0)<8?o+16|0:(j[T0+(n>>>24)|0]|0)+24|0))}function jh(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0;return w=n&65535,m=o&65535,h=s0(m,w)|0,g=n>>>16,m=(h>>>16)+(s0(m,g)|0)|0,o=o>>>16,n=s0(o,w)|0,Mt=(m>>>16)+(s0(o,g)|0)+(((m&65535)+n|0)>>>16)|0,m+n<<16|h&65535|0|0}function Yu(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0;return g=n,w=h,n=jh(g,w)|0,h=Mt,Mt=(s0(o,w)|0)+(s0(m,g)|0)+h|h&0,n|0|0|0}function Xc(n,o,h,m){return n=n|0,o=o|0,h=h|0,m=m|0,n=eh(n,o,h,m,0)|0,Mt=Mt,n|0}function Zc(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0;return w=D,D=D+8|0,g=w|0,eh(n,o,h,m,g)|0,D=w,Mt=r[g+4>>2]|0,r[g>>2]|0|0}function eh(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0;if(y=n,C=o,_=C,B=h,w=m,q=w,(_|0)==0)return h=(g|0)!=0,(q|0)==0?(h&&(r[g>>2]=(y>>>0)%(B>>>0),r[g+4>>2]=0),q=0,te=(y>>>0)/(B>>>0)>>>0,Mt=q,te|0):h?(r[g>>2]=n|0,r[g+4>>2]=o&0,q=0,te=0,Mt=q,te|0):(q=0,te=0,Mt=q,te|0);te=(q|0)==0;do if((B|0)==0){if(te)return(g|0)!=0&&(r[g>>2]=(_>>>0)%(B>>>0),r[g+4>>2]=0),q=0,te=(_>>>0)/(B>>>0)>>>0,Mt=q,te|0;if((y|0)==0)return(g|0)!=0&&(r[g>>2]=0,r[g+4>>2]=(_>>>0)%(q>>>0)),B=0,te=(_>>>0)/(q>>>0)>>>0,Mt=B,te|0;if(B=q-1|0,(B&q|0)==0)return(g|0)!=0&&(r[g>>2]=n|0,r[g+4>>2]=B&_|o&0),B=0,te=_>>>((Qc(q|0)|0)>>>0),Mt=B,te|0;if(B=(io(q|0)|0)-(io(_|0)|0)|0,B>>>0<=30){o=B+1|0,te=31-B|0,C=o,n=_<<te|y>>>(o>>>0),o=_>>>(o>>>0),q=0,_=y<<te;break}return(g|0)==0?(q=0,te=0,Mt=q,te|0):(r[g>>2]=n|0,r[g+4>>2]=C|o&0,q=0,te=0,Mt=q,te|0)}else{if(!te){if(B=(io(q|0)|0)-(io(_|0)|0)|0,B>>>0<=31){q=B+1|0,te=31-B|0,o=B-31>>31,C=q,n=y>>>(q>>>0)&o|_<<te,o=_>>>(q>>>0)&o,q=0,_=y<<te;break}return(g|0)==0?(q=0,te=0,Mt=q,te|0):(r[g>>2]=n|0,r[g+4>>2]=C|o&0,q=0,te=0,Mt=q,te|0)}if(q=B-1|0,(q&B|0)!=0){te=(io(B|0)|0)+33-(io(_|0)|0)|0,le=64-te|0,B=32-te|0,re=B>>31,oe=te-32|0,o=oe>>31,C=te,n=B-1>>31&_>>>(oe>>>0)|(_<<B|y>>>(te>>>0))&o,o=o&_>>>(te>>>0),q=y<<le&re,_=(_<<le|y>>>(oe>>>0))&re|y<<B&te-33>>31;break}return(g|0)!=0&&(r[g>>2]=q&y,r[g+4>>2]=0),(B|0)==1?(oe=C|o&0,le=n|0|0,Mt=oe,le|0):(le=Qc(B|0)|0,oe=_>>>(le>>>0)|0,le=_<<32-le|y>>>(le>>>0)|0,Mt=oe,le|0)}while(!1);if((C|0)==0)te=n,h=0,n=0;else{for(h=h|0|0,w=w|m&0,m=Tr(h,w,-1,-1)|0,y=Mt,B=o,te=n,n=0;o=q>>>31|_<<1,q=n|q<<1,_=te<<1|_>>>31|0,B=te>>>31|B<<1|0,Pn(m,y,_,B)|0,te=Mt,le=te>>31|((te|0)<0?-1:0)<<1,n=le&1,te=Pn(_,B,le&h,(((te|0)<0?-1:0)>>31|((te|0)<0?-1:0)<<1)&w)|0,B=Mt,C=C-1|0,(C|0)!=0;)_=o;_=o,o=B,h=0}return w=0,(g|0)!=0&&(r[g>>2]=te,r[g+4>>2]=o),oe=(q|0)>>>31|(_|w)<<1|(w<<1|q>>>31)&0|h,le=(q<<1|0)&-2|n,Mt=oe,le|0}function $h(){g2()}function Kh(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,Or[n&31](o|0,h|0,m|0,g|0,w|0)}function qh(n,o){n=n|0,o=o|0,Rr[n&511](o|0)}function Yh(n,o,h){n=n|0,o=o|0,h=h|0,si[n&127](o|0,h|0)}function Jh(n,o){return n=n|0,o=o|0,_0[n&255](o|0)|0}function Qh(n,o,h,m,g,w){return n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,$c[n&31](o|0,h|0,m|0,g|0,w|0)|0}function Xh(n,o,h,m){return n=n|0,o=o|0,h=h|0,m=m|0,Yi[n&63](o|0,h|0,m|0)|0}function Zh(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=+y,B6[n&15](o|0,h|0,m|0,g|0,w|0,+y)}function ed(n,o,h,m,g,w,y,_,C){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,Nn[n&63](o|0,h|0,m|0,g|0,w|0,y|0,_|0,C|0)}function td(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,as[n&63](o|0,h|0,m|0,g|0,w|0,y|0)}function id(n,o,h,m,g,w,y,_,C,B,q,te,re,oe){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0,oe=oe|0,$l[n&3](o|0,h|0,m|0,g|0,w|0,y|0,_|0,C|0,B|0,q|0,te|0,re|0,oe|0)}function rd(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,Hr[n&127](o|0,h|0,m|0,g|0,w|0,y|0,_|0)}function sd(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=+_,M6[n&7](o|0,h|0,m|0,g|0,w|0,y|0,+_)}function nd(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,Gs[n&15](o|0,h|0,m|0,g|0,w|0,y|0,_|0,C|0,B|0)}function ad(n,o,h,m,g,w,y,_,C,B,q){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,_r[n&15](o|0,h|0,m|0,g|0,w|0,y|0,_|0,C|0,B|0,q|0)}function od(n,o,h){return n=n|0,o=o|0,h=h|0,ni[n&63](o|0,h|0)|0}function ld(n,o,h,m,g,w,y,_,C,B,q,te,re){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0,Kl[n&3](o|0,h|0,m|0,g|0,w|0,y|0,_|0,C|0,B|0,q|0,te|0,re|0)}function ud(n,o,h,m,g){return n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,Lr[n&15](o|0,h|0,m|0,g|0)|0}function cd(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0,Kr[n&63](o|0,h|0,m|0)}function hd(n){n=n|0,Wh[n&3]()}function dd(n,o,h,m,g,w,y,_,C){return n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,An[n&31](o|0,h|0,m|0,g|0,w|0,y|0,_|0,C|0)|0}function fd(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,Ir[n&63](o|0,h|0,m|0,g|0)}function dr(n,o,h,m,g){Q0(0)}function b0(n){Q0(1)}function $t(n,o){Q0(2)}function et(n){return Q0(3),0}function xr(n,o,h,m,g){return Q0(4),0}function Bi(n,o,h){return Q0(5),0}function Ts(n,o,h,m,g,w){Q0(6)}function Ui(n,o,h,m,g,w,y,_){Q0(7)}function ki(n,o,h,m,g,w){Q0(8)}function Ju(n,o,h,m,g,w,y,_,C,B,q,te,re){Q0(9)}function ti(n,o,h,m,g,w,y){Q0(10)}function ro(n,o,h,m,g,w,y){Q0(11)}function xs(n,o,h,m,g,w,y,_,C){Q0(12)}function Cs(n,o,h,m,g,w,y,_,C,B){Q0(13)}function Si(n,o){return Q0(14),0}function Qu(n,o,h,m,g,w,y,_,C,B,q,te){Q0(15)}function Qs(n,o,h,m){return Q0(16),0}function Li(n,o,h){Q0(17)}function Xu(){Q0(18)}function fr(n,o,h,m,g,w,y,_){return Q0(19),0}function Ci(n,o,h,m){Q0(20)}function pd(n,o){n=n|0,o=o|0;var h=0,m=0,g=0;m=n+4|0,h=o+4|0,g=r[m>>2]|0,r[m>>2]=r[h>>2],r[h>>2]=g,h=n+60|0,g=o+60|0,m=r[h>>2]|0,r[h>>2]=r[g>>2],r[g>>2]=m,g=n+10492|0,m=o+10492|0,h=r[g>>2]|0,r[g>>2]=r[m>>2],r[m>>2]=h,m=n+8|0,h=o+8|0,g=r[m>>2]|0,r[m>>2]=r[h>>2],r[h>>2]=g,h=n+64|0,g=o+64|0,m=r[h>>2]|0,r[h>>2]=r[g>>2],r[g>>2]=m,g=n+10496|0,m=o+10496|0,h=r[g>>2]|0,r[g>>2]=r[m>>2],r[m>>2]=h,m=n+12|0,h=o+12|0,g=r[m>>2]|0,r[m>>2]=r[h>>2],r[h>>2]=g,h=n+68|0,g=o+68|0,m=r[h>>2]|0,r[h>>2]=r[g>>2],r[g>>2]=m,g=n+10500|0,m=o+10500|0,h=r[g>>2]|0,r[g>>2]=r[m>>2],r[m>>2]=h,m=n+40|0,h=o+40|0,g=r[m>>2]|0,r[m>>2]=r[h>>2],r[h>>2]=g,h=n+44|0,g=o+44|0,m=r[h>>2]|0,r[h>>2]=r[g>>2],r[g>>2]=m,g=n+10504|0,m=r[g>>2]|0,h=r[g+4>>2]|0,n=o+10504|0,o=r[n+4>>2]|0,r[g>>2]=r[n>>2],r[g+4>>2]=o,r[n>>2]=m,r[n+4>>2]=h}function d2(n,o){n=n|0,o=o|0;var h=0;h=n+10528|0,r[h>>2]=(r[h>>2]|0)+o,n=n+10544|0,r[n>>2]=(r[n>>2]|0)+o}function Ll(n,o){n=n|0;var h=0;h=n+10528|0,r[h>>2]=(r[h>>2]|0)-1,n=n+10532|0,r[n>>2]=(r[n>>2]|0)+1}function Bn(n,o){n=n|0;var h=0,m=0,g=0;g=n+10532|0,m=r[g>>2]|0,r[g>>2]=m-1,g=n+10540|0,h=(r[g>>2]|0)+1|0,r[g>>2]=h,(m|0)<=0&&y0(2424,15792,642,17760),(h|0)==(r[n+10544>>2]|0)&&b2(n+10572|0)}function Xs(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,md(n,o,(s0(r[n+5820>>2]|0,m)|0)+h|0,g)}function md(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0;(o|0)!=0&&(h=(r[n+10524>>2]|0)+(h*76|0)|0,!((_i(h)|0)>=(m|0))&&(g=n+10532|0,r[g>>2]=(r[g>>2]|0)-1,n=n+10536|0,r[n>>2]=(r[n>>2]|0)+1,o=o+4|0,r[o>>2]=2,B1(h,m),r[o>>2]=1,r[n>>2]=(r[n>>2]|0)-1,r[g>>2]=(r[g>>2]|0)+1))}function Il(n){n=n|0;var o=0,h=0,m=0;if(o=n+10548|0,h=n+10540|0,m=n+10544|0,(r[h>>2]|0)!=(r[m>>2]|0)){n=n+10572|0;do k2(n,o);while((r[h>>2]|0)!=(r[m>>2]|0))}}function gd(n){n=n|0;var o=0,h=0;if(o=r[n+10360>>2]|0,(o|0)!=0&&V0(o|0,0,(r[n+10364>>2]|0)*3|0|0)|0,o=r[n+10340>>2]|0,(o|0)!=0&&V0(o|0,0,(r[n+10344>>2]|0)*24|0|0)|0,o=r[n+10460>>2]|0,(o|0)!=0&&V0(o|0,0,r[n+10464>>2]|0)|0,o=n+10344|0,!((r[o>>2]|0)<=0)){n=r[n+10524>>2]|0,h=0;do r[n+(h*76|0)>>2]=0,h=h+1|0;while((h|0)<(r[o>>2]|0))}}function yd(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0;if(o=o>>2,h=h>>2,m=m>>2,y=g>>2,g=r[n+10392>>2]|0,!((y|0)<=0)){if(n=n+10380|0,C=w|0,(m|0)>0)_=0;else return;do{B=(s0(_+h|0,g)|0)+o|0,w=0;do q=(r[n>>2]|0)+((B+w|0)*12|0)|0,be[q>>1]=be[C>>1]|0,be[q+2>>1]=be[C+2>>1]|0,be[q+4>>1]=be[C+4>>1]|0,be[q+6>>1]=be[C+6>>1]|0,be[q+8>>1]=be[C+8>>1]|0,be[q+10>>1]=be[C+10>>1]|0,w=w+1|0;while((w|0)<(m|0));_=_+1|0}while((_|0)<(y|0))}}function th(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0;return(g|m|0)<0||(r[n+1248>>2]|0)<=(m|0)||(r[n+1252>>2]|0)<=(g|0)?(h=0,h|0):(w=r[n+5864>>2]|0,C=r[n+5852>>2]|0,y=(s0(g>>w,C)|0)+(m>>w)|0,_=r[n+10320>>2]|0,w=_+((s0(h>>w,C)|0)+(o>>w)<<2)|0,(r[_+(y<<2)>>2]|0)>(r[w>>2]|0)||(C=r[n+5804>>2]|0,o=o>>C,h=h>>C,m=m>>C,g=g>>C,C=r[n+10352>>2]|0,_=(s0(C,h)|0)+o|0,y=r[n+10340>>2]|0,C=y+(((s0(C,g)|0)+m|0)*24|0)|0,(be[y+(_*24|0)>>1]|0)!=(be[C>>1]|0))?(C=0,C|0):(C=r[n+5820>>2]|0,_=(s0(C,h)|0)+o|0,y=r[n+10308>>2]|0,C=y+((s0(C,g)|0)+m<<2)|0,C=(r[y+(_<<2)>>2]|0)==(r[C>>2]|0),C|0))}function Mn(n,o,h,m,g,w,y,_,C,B,q){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0;var te=0;do if((o|0)>(B|0))te=3;else{if(!((h|0)<=(q|0)&(m+o|0)>(B|0)&(m+h|0)>(q|0))){te=3;break}if((y<<1|0)!=(m|0)||!((_<<1|0)==(m|0)&(C|0)==1)||(_+h|0)>(q|0)||(y+o|0)<=(B|0))break;return 0}while(!1);do if((te|0)==3){if((q|B|0)<0||(r[n+1248>>2]|0)<=(B|0)||(r[n+1252>>2]|0)<=(q|0)||(C=r[n+5864>>2]|0,_=r[n+5852>>2]|0,m=(s0(q>>C,_)|0)+(B>>C)|0,h=r[n+10320>>2]|0,C=h+((s0(w>>C,_)|0)+(g>>C)<<2)|0,(r[h+(m<<2)>>2]|0)>(r[C>>2]|0))||(te=r[n+5804>>2]|0,g=g>>te,w=w>>te,y=B>>te,te=q>>te,C=r[n+10352>>2]|0,m=(s0(C,w)|0)+g|0,h=r[n+10340>>2]|0,C=h+(((s0(C,te)|0)+y|0)*24|0)|0,(be[h+(m*24|0)>>1]|0)!=(be[C>>1]|0)))return 0;if(C=r[n+5820>>2]|0,m=(s0(C,w)|0)+g|0,h=r[n+10308>>2]|0,C=h+((s0(C,te)|0)+y<<2)|0,(r[h+(m<<2)>>2]|0)==(r[C>>2]|0))break;return 0}while(!1);return C=r[n+10368>>2]|0,B=B>>C,q=q>>C,!((B|0)>-1)||(w=r[n+10372>>2]|0,(B|0)>=(w|0))?(y0(568,17072,118,17344),0):(q|0)>-1&&(q|0)<(r[n+10376>>2]|0)?(C=(s0(w,q)|0)+B|0,C=(r[n+10360>>2]|0)+(C*3|0)|0,((We[C]|We[C+1|0]<<8)<<16>>16&768)!=0|0):(y0(16504,17072,119,17344),0)}function Ad(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0;do if(g){if(g=r[y+10368>>2]|0,C=o-1>>g,g=h>>g,(C|0)>-1||y0(7e3,5152,118,17336),_=r[y+10372>>2]|0,(C|0)>=(_|0)&&y0(7e3,5152,118,17336),(g|0)>-1||y0(3672,5152,119,17336),(g|0)>=(r[y+10376>>2]|0)&&y0(3672,5152,119,17336),C=(s0(_,g)|0)+C|0,C=(r[y+10360>>2]|0)+(C*3|0)|0,((We[C]|We[C+1|0]<<8)<<16>>16&1792)!=0){g=1;break}g=We[(r[y+10400>>2]|0)+(m-1)|0]|0}else g=1;while(!1);do if(w){if(C=r[y+10368>>2]|0,w=o>>C,o=h-1>>C,(w|0)>-1||y0(7e3,5152,118,17336),_=r[y+10372>>2]|0,(w|0)>=(_|0)&&y0(7e3,5152,118,17336),(o|0)>-1||y0(3672,5152,119,17336),(o|0)>=(r[y+10376>>2]|0)&&y0(3672,5152,119,17336),C=(s0(_,o)|0)+w|0,C=(r[y+10360>>2]|0)+(C*3|0)|0,((We[C]|We[C+1|0]<<8)<<16>>16&1792)!=0){y=1;break}if(C=r[y+5804>>2]|0,(h>>C<<C|0)>=(h|0)){y=1;break}y=We[(r[y+10400>>2]|0)+(m-(r[y+5876>>2]|0))|0]|0}else y=1;while(!1);if((g|0)==(y|0))if(g>>>0<2){r[n>>2]=0,r[n+4>>2]=1,r[n+8>>2]=26;return}else{r[n>>2]=g,r[n+4>>2]=(g+29&31)+2,r[n+8>>2]=((g-1|0)%32|0)+2;return}if(r[n>>2]=g,r[n+4>>2]=y,!((g|0)==0|(y|0)==0)){r[n+8>>2]=0;return}if(n=n+8|0,(g|0)==1|(y|0)==1){r[n>>2]=26;return}else{r[n>>2]=1;return}}function ih(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0;if((n|0)==3)g=2;else if((n|0)!=2)return n=0,n|0;do if((g|0)==2){if((h|0)==0||(r[m+5012>>2]|0)==3)break;return o=0,o|0}while(!1);return(o-6|0)>>>0<9?(n=2,n|0):(n=(o-22|0)>>>0<9|0,n|0)}function vd(n,o,h,m,g,w){if(n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,(r[((w|0)==0?n+5760|0:n+5768|0)>>2]|0)>8){wd(n,o,h,m,g,w);return}else{_d(n,o,h,m,g,w);return}}function wd(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;_=D,D=D+264|0,y=_|0,C=y+128|0,Td(n,o,h,g,w,C);do if((j[n+5753|0]|0)==0){if((w|0)!=0&&(r[n+5776>>2]|0)!=3)break;xd(n,C,g,w,m)}while(!1);if((m|0)==1){Cd(n,o,h,g,w,C),D=_;return}else if((m|0)==0){if(C=r[((w|0)==0?n+40|0:n+44|0)>>2]|0,w=(r[n+4+(w<<2)>>2]|0)+((s0(C,h)|0)+o<<1)|0,(g|0)>1){for(o=g,h=0;o=o>>1,(o|0)>1;)h=h+1|0;n=h+2|0}else n=1;if((g|0)<=0){D=_;return}for(te=g-1|0,q=f0[y+(g+65<<1)>>1]|0,B=f0[y+(63-g<<1)>>1]|0,re=0;;){for(h=te-re|0,m=re+1|0,o=s0(re,C)|0,ne=f0[y+(63-re<<1)>>1]|0,le=s0(B,m)|0,oe=0;ue=s0(ne,te-oe|0)|0,re=oe+1|0,pe=s0(q,re)|0,pe=ue+g+pe+(s0(f0[y+(oe+65<<1)>>1]|0,h)|0)+le>>n&65535,be[w+(oe+o<<1)>>1]=pe,(re|0)<(g|0);)oe=re;if((m|0)<(g|0))re=m;else break}D=_;return}else{Dd(n,o,h,m,g,w,C),D=_;return}}function _d(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0;_=D,D=D+136|0,y=_|0,C=y+64|0,bd(n,o,h,g,w,C);do if((j[n+5753|0]|0)==0){if((w|0)!=0&&(r[n+5776>>2]|0)!=3)break;kd(n,C,g,w,m)}while(!1);if((m|0)==1){Sd(n,o,h,g,w,C),D=_;return}else if((m|0)==0){if(C=r[((w|0)==0?n+40|0:n+44|0)>>2]|0,w=r[n+4+(w<<2)>>2]|0,(g|0)>1){for(m=g,n=0;m=m>>1,(m|0)>1;)n=n+1|0;n=n+2|0}else n=1;if((g|0)<=0){D=_;return}for(q=g-1|0,te=We[y+(g+65)|0]|0,re=We[y+(63-g)|0]|0,oe=0;;){for(m=q-oe|0,B=oe+1|0,ue=s0(oe+h|0,C)|0,oe=We[y+(63-oe)|0]|0,pe=s0(re,B)|0,ue=ue+o|0,ne=0;ge=s0(oe,q-ne|0)|0,le=ne+1|0,ve=s0(te,le)|0,ve=ge+g+ve+(s0(We[y+(ne+65)|0]|0,m)|0)+pe>>n&255,j[w+(ue+ne)|0]=ve,(le|0)<(g|0);)ne=le;if((B|0)<(g|0))oe=B;else break}D=_;return}else{Ed(n,o,h,m,g,w,C),D=_;return}}function bd(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0;y=D,D=D+136|0,_=y|0,pe=_+64|0,B=r[n+4+(g<<2)>>2]|0,te=(g|0)==0,oe=r[(te?n+40|0:n+44|0)>>2]|0,te?(ne=1,g=1):(ne=r[n+5784>>2]|0,g=r[n+5780>>2]|0),te=r[(te?n+5760|0:n+5768|0)>>2]|0,He=s0(g,o)|0,ue=s0(ne,h)|0,Ge=r[n+5804>>2]|0,E0=r[n+5820>>2]|0,Be=(He|0)!=0,Z0=(ue|0)==0,re=Z0^1,qe=Be&re,v0=s0(g,m+o|0)|0,ze=r[n+1248>>2]|0,ge=(v0|0)<(ze|0)&re,O0=He>>Ge,o0=ue>>Ge,P0=He-1>>Ge,v0=v0>>Ge,Ge=ue-1>>Ge,G0=r[n+10352>>2]|0,Ve=s0(G0,o0)|0,r0=r[n+10340>>2]|0,Te=f0[r0+((Ve+O0|0)*24|0)>>1]|0,Be?S0=f0[r0+((Ve+P0|0)*24|0)>>1]|0:S0=-1,Z0?Ye=-1:(Ye=r0+(((s0(G0,Ge)|0)+O0|0)*24|0)|0,Ye=f0[Ye>>1]|0),ge?(Ve=r0+(((s0(G0,Ge)|0)+v0|0)*24|0)|0,Ve=f0[Ve>>1]|0):Ve=-1,qe?(r0=r0+(((s0(G0,Ge)|0)+P0|0)*24|0)|0,r0=f0[r0>>1]|0):r0=-1,G0=s0(o0,E0)|0,ot=r[n+10308>>2]|0,o0=r[ot+(G0+O0<<2)>>2]|0,Be?G0=r[ot+(G0+P0<<2)>>2]|0:G0=-1,Z0?O0=-1:(O0=ot+((s0(Ge,E0)|0)+O0<<2)|0,O0=r[O0>>2]|0),qe?(P0=ot+((s0(Ge,E0)|0)+P0<<2)|0,P0=r[P0>>2]|0):P0=-1,ge?(v0=ot+((s0(Ge,E0)|0)+v0<<2)|0,v0=r[v0>>2]|0):v0=-1,Ge=(S0|0)==(Te|0)&(G0|0)==(o0|0)&Be,re=(Ye|0)==(Te|0)&(O0|0)==(o0|0)&re,r0=(r0|0)==(Te|0)&(P0|0)==(o0|0)&qe,Ve=(Ve|0)==(Te|0)&(v0|0)==(o0|0)&ge,ge=n+5864|0,Be=r[ge>>2]|0,Te=n+5852|0,Be=(s0(ue>>Be,r[Te>>2]|0)|0)+(He>>Be)|0,qe=n+10320|0,Be=r[(r[qe>>2]|0)+(Be<<2)>>2]|0,G0=(ne-1-ue+(r[n+1252>>2]|0)|0)/(ne|0)|0,ue=m<<1,ot=(G0|0)>(ue|0)?ue:G0,ze=(g-1-He+ze|0)/(g|0)|0,Ye=(ze|0)>(ue|0)?ue:ze,He=-ue|0,ze=m<<2|1,V0(_+(64-ue)|0,0,ze|0)|0;e:do if((ot|0)>0){P0=o-1|0,O0=s0(g,P0)|0,S0=n+5944|0,o0=n+10368|0,v0=n+10372|0,E0=n+10376|0,Z0=n+10360|0,G0=~G0,N0=~(m<<1),G0=((G0|0)>(N0|0)?G0:N0)+65|0,N0=0,X0=0,D0=ot-1|0,ot=0;t:for(;;){tt=_+(G0+(ot<<2))|0;do if(Ge){if(ct=r[ge>>2]|0,ut=D0+h|0,g0=s0(ut,ne)|0,ct=(s0(g0>>ct,r[Te>>2]|0)|0)+(O0>>ct)|0,ct=(r[(r[qe>>2]|0)+(ct<<2)>>2]|0)<=(Be|0),(j[S0]|0)==0){if(!ct)break}else{if(l0=r[o0>>2]|0,H0=O0>>l0,g0=g0>>l0,!((H0|0)>-1)){Ge=25;break t}if(l0=r[v0>>2]|0,(H0|0)>=(l0|0)){Ge=25;break t}if(!((g0|0)>-1)){Ge=28;break t}if((g0|0)>=(r[E0>>2]|0)){Ge=28;break t}if(l0=(s0(l0,g0)|0)+H0|0,l0=(r[Z0>>2]|0)+(l0*3|0)|0,!(((We[l0]|We[l0+1|0]<<8)<<16>>16&768)==0&ct))break}ct=B+((s0(ut,oe)|0)+P0)|0,(N0|0)==0&&(X0=j[ct]|0),l0=tt,u0=16843009,j[l0]=u0,u0=u0>>8,j[l0+1|0]=u0,u0=u0>>8,j[l0+2|0]=u0,u0=u0>>8,j[l0+3|0]=u0,j[w+~D0|0]=j[ct]|0,l0=B+((s0(ut-1|0,oe)|0)+P0)|0,j[w+(1-D0-1)|0]=j[l0]|0,l0=B+((s0(ut-2|0,oe)|0)+P0)|0,j[w+(2-D0-1)|0]=j[l0]|0,l0=B+((s0(ut-3|0,oe)|0)+P0)|0,j[w+(3-D0-1)|0]=j[l0]|0,N0=N0+4|0}while(!1);if(D0=D0-4|0,(D0|0)>-1)ot=ot+1|0;else{le=N0,ve=X0;break e}}(Ge|0)==25?y0(7e3,5152,118,17336):(Ge|0)==28&&y0(3672,5152,119,17336)}else le=0,ve=0;while(!1);e:do if(r0){r0=o-1|0,v0=s0(g,r0)|0,o0=r[ge>>2]|0,Ge=h-1|0,E0=s0(ne,Ge)|0,o0=(s0(E0>>o0,r[Te>>2]|0)|0)+(v0>>o0)|0,o0=(r[(r[qe>>2]|0)+(o0<<2)>>2]|0)<=(Be|0);do if((j[n+5944|0]|0)==0){if(!o0)break e}else if(S0=r[n+10368>>2]|0,v0=v0>>S0,S0=E0>>S0,(v0|0)>-1||y0(7e3,5152,118,17336),E0=r[n+10372>>2]|0,(v0|0)>=(E0|0)&&y0(7e3,5152,118,17336),(S0|0)>-1||y0(3672,5152,119,17336),(S0|0)<(r[n+10376>>2]|0)){if(l0=(s0(E0,S0)|0)+v0|0,l0=(r[n+10360>>2]|0)+(l0*3|0)|0,((We[l0]|We[l0+1|0]<<8)<<16>>16&768)==0&o0)break;break e}else y0(3672,5152,119,17336);while(!1);Ge=B+((s0(oe,Ge)|0)+r0)|0,(le|0)==0&&(ve=j[Ge]|0),j[w]=j[Ge]|0,j[pe]=1,le=le+1|0}while(!1);e:do if((Ye|0)>0){r0=h-1|0,ne=s0(ne,r0)|0,h=n+5944|0,oe=s0(oe,r0)|0,r0=n+10368|0,Ge=n+10372|0,pe=n+10376|0,n=n+10360|0,v0=0,o0=0;t:for(;;){E0=_+((o0<<2)+65)|0;do if((v0|0)<(m|0)?re:Ve){if(S0=v0+o|0,O0=s0(S0,g)|0,P0=r[ge>>2]|0,P0=(s0(ne>>P0,r[Te>>2]|0)|0)+(O0>>P0)|0,P0=(r[(r[qe>>2]|0)+(P0<<2)>>2]|0)<=(Be|0),(j[h]|0)==0){if(!P0)break}else{if(Z0=r[r0>>2]|0,G0=O0>>Z0,Z0=ne>>Z0,!((G0|0)>-1)){Ge=54;break t}if(O0=r[Ge>>2]|0,(G0|0)>=(O0|0)){Ge=54;break t}if(!((Z0|0)>-1)){Ge=57;break t}if((Z0|0)>=(r[pe>>2]|0)){Ge=57;break t}if(l0=(s0(O0,Z0)|0)+G0|0,l0=(r[n>>2]|0)+(l0*3|0)|0,!(((We[l0]|We[l0+1|0]<<8)<<16>>16&768)==0&P0))break}S0=S0+oe|0,P0=B+S0|0,(le|0)==0&&(ve=j[P0]|0),l0=E0,u0=16843009,j[l0]=u0,u0=u0>>8,j[l0+1|0]=u0,u0=u0>>8,j[l0+2|0]=u0,u0=u0>>8,j[l0+3|0]=u0,l0=v0|1,j[w+l0|0]=j[P0]|0,j[w+(l0+1)|0]=j[B+(S0+1)|0]|0,j[w+(v0|3)|0]=j[B+(S0+2)|0]|0,j[w+((v0|3)+1)|0]=j[B+(S0+3)|0]|0,le=le+4|0}while(!1);if(v0=v0+4|0,(v0|0)<(Ye|0))o0=o0+1|0;else{q=le,C=ve;break e}}(Ge|0)==54?y0(7e3,5152,118,17336):(Ge|0)==57&&y0(3672,5152,119,17336)}else q=le,C=ve;while(!1);if((q|0)==(ze|0)){D=y;return}if((q|0)==0){V0(w+He|0,1<<te-1&255|0,ze|0)|0,D=y;return}if(B=m*-2|0,(j[_+(B+64)|0]|0)==0&&(j[w+B|0]=C),C=B|1,(C|0)>(ue|0)){D=y;return}for(;(j[_+(C+64)|0]|0)==0&&(j[w+C|0]=j[w+(C-1)|0]|0),(C|0)<(ue|0);)C=C+1|0;D=y}function kd(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0;if(y=D,D=D+136|0,w=y|0,(g|0)==1|(h|0)==4){D=y;return}_=g-26|0,_=(_|0)<0?26-g|0:_,C=g-10|0,g=(C|0)<0?10-g|0:C,g=(_|0)<(g|0)?_:g;do if((h|0)==8){if((g|0)>7)break;D=y;return}else if((h|0)==16){if((g|0)>1)break;D=y;return}else if((h|0)==32){if((g|0)>0)break;D=y;return}else y0(8920,15552,518,18232);while(!1);do if((j[n+5665|0]|0)!=0&(m|0)==0&(h|0)==32){if(g=We[o]|0,m=(We[o+64|0]|0)+g-(We[o+32|0]<<1)|0,n=1<<(r[n+1276>>2]|0)-5,(((m|0)<0?-m|0:m)|0)>=(n|0)){m=0;break}m=(We[o-64|0]|0)+g-(We[o-32|0]<<1)|0,m=(((m|0)<0?-m|0:m)|0)<(n|0)}else m=0;while(!1);n=h*-2|0,j[w+(n+64)|0]=j[o+n|0]|0,n=h<<1,j[w+(n+64)|0]=j[o+n|0]|0;do if(m){_=j[o]|0,j[w+64|0]=_,_=_&255,g=(We[o-64|0]|0)-_|0,C=(We[o+64|0]|0)-_|0,m=1;do B=(((s0(g,m)|0)+32|0)>>>6)+_&255,j[w+(64-m)|0]=B,B=(((s0(C,m)|0)+32|0)>>>6)+_&255,j[w+(m+64)|0]=B,m=m+1|0;while((m|0)<64)}else{if(g=n-1|0,_=1-n|0,(_|0)>(g|0))break;for(m=_,_=j[o+_|0]|0;C=m+1|0,B=j[o+C|0]|0,j[w+(m+64)|0]=((B&255)+2+((_&255)<<1)+(We[o+(m-1)|0]|0)|0)>>>2,(m|0)<(g|0);)m=C,_=B}while(!1);Tt(o+(-n|0)|0,w+(64-n)|0,h<<2|1)|0,D=y}function Sd(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0;if(C=(g|0)==0,y=r[(C?n+40|0:n+44|0)>>2]|0,g=r[n+4+(g<<2)>>2]|0,n=(s0(y,h)|0)+o|0,B=g+n|0,_=(m|0)>1,_){for(te=m,q=0;te=te>>1,(te|0)>1;)q=q+1|0;te=q+2|0}else te=1;if(q=(m|0)>0,q)for(oe=0,le=0;re=le+1|0,oe=(We[w+re|0]|0)+oe+(We[w+~le|0]|0)|0,(re|0)<(m|0);)le=re;else oe=0;if(te=oe+m>>te,!(C&(m|0)<32)){if(!q)return;h=te&255,o=0;do V0(g+(n+(s0(y,o)|0))|0,h|0,m|0)|0,o=o+1|0;while((o|0)<(m|0));return}if(j[B]=((te<<1)+2+(We[w-1|0]|0)+(We[w+1|0]|0)|0)>>>2,!!_){for(q=(te*3|0)+2|0,C=1;B=C+1|0,j[g+(C+n)|0]=(q+(We[w+B|0]|0)|0)>>>2,(B|0)<(m|0);)C=B;if(_){C=(te*3|0)+2|0,B=1;do le=g+((s0(B,y)|0)+n)|0,j[le]=(C+(We[w+~B|0]|0)|0)>>>2,B=B+1|0;while((B|0)<(m|0));if(_)for(n=te&255,h=(s0(y,h+1|0)|0)+o+1|0,o=m-1|0,_=1,w=0;V0(g+(h+(s0(y,w)|0))|0,n|0,o|0)|0,_=_+1|0,(_|0)<(m|0);)w=w+1|0}}}function Ed(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0;_=D,D=D+136|0,re=_|0,oe=(w|0)==0,B=r[(oe?n+40|0:n+44|0)>>2]|0,w=r[n+4+(w<<2)>>2]|0,C=(s0(B,h)|0)+o|0,q=r[(oe?n+5760|0:n+5768|0)>>2]|0,(m|0)>=35&&y0(12952,15552,596,18712),(m|0)<=1&&y0(10072,15552,597,18712),le=r[64+(m<<2)>>2]|0;do if((j[n+5750|0]|0)==0)te=0;else if(Te=r[n+10368>>2]|0,o=o>>Te,h=h>>Te,(o|0)>-1||y0(7e3,5152,118,17336),ne=r[n+10372>>2]|0,(o|0)>=(ne|0)&&y0(7e3,5152,118,17336),(h|0)>-1||y0(3672,5152,119,17336),(h|0)<(r[n+10376>>2]|0)){te=(s0(ne,h)|0)+o|0,te=(r[n+10360>>2]|0)+(te*3|0)|0,te=((We[te]|We[te+1|0]<<8)<<16>>16&2048)!=0;break}else y0(3672,5152,119,17336);while(!1);if(n=(g|0)<0,(m|0)>17){n||Tt(re+64|0,y|0,g+1|0)|0,n=m-11|0;do if(n>>>0<15){if(n=r[30584+(n<<2)>>2]|0,o=(s0(le,g)|0)>>5,!((o|0)<-1))break;do Te=y+(-((s0(o,n)|0)+128>>8)|0)|0,j[re+(o+64)|0]=j[Te]|0,o=o+1|0;while((o|0)<0)}else{if((g<<1|0)<=(g|0))break;Tt(re+(g+65)|0,y+(g+1)|0,g)|0}while(!1);if(ue=(g|0)>0,ue)for(ve=0;;){pe=ve+1|0,n=s0(pe,le)|0,h=n>>5,n=n&31,o=(n|0)==0,ne=h+65|0,Te=(s0(ve,B)|0)+C|0,ve=32-n|0,ge=0;do o?j[w+(Te+ge)|0]=j[re+(ne+ge)|0]|0:(Ve=ge+h|0,qe=s0(We[re+(Ve+65)|0]|0,ve)|0,Ve=(qe+16+(s0(We[re+(Ve+66)|0]|0,n)|0)|0)>>>5&255,j[w+(Te+ge)|0]=Ve),ge=ge+1|0;while((ge|0)<(g|0));if((pe|0)<(g|0))ve=pe;else break}if(te|(m|0)==26&oe&(g|0)<32^1|ue^1){D=_;return}te=y+1|0,re=(1<<q)-1|0,q=0;do oe=((We[y+~q|0]|0)-(We[y]|0)>>1)+(We[te]|0)|0,(oe|0)<0?oe=0:oe=((oe|0)>(re|0)?re:oe)&255,qe=w+((s0(q,B)|0)+C)|0,j[qe]=oe,q=q+1|0;while((q|0)<(g|0));D=_;return}else{if(!n)for(n=0;j[re+(n+64)|0]=j[y+(-n|0)|0]|0,(n|0)<(g|0);)n=n+1|0;n=m-11|0;do if(n>>>0<15){if(n=r[30584+(n<<2)>>2]|0,o=(s0(le,g)|0)>>5,!((o|0)<-1))break;do qe=y+((s0(o,n)|0)+128>>8)|0,j[re+(o+64)|0]=j[qe]|0,o=o+1|0;while((o|0)<0)}else{if(n=g<<1,(n|0)>(g|0))o=g;else break;for(;h=o+1|0,j[re+(o+65)|0]=j[y+~o|0]|0,(h|0)<(n|0);)o=h}while(!1);if(o=(g|0)>0,o){ge=0;do{for(h=ge+65|0,ne=(s0(ge,B)|0)+C|0,pe=0;n=pe+1|0,ve=s0(n,le)|0,ue=ve>>5,ve=ve&31,(ve|0)==0?j[w+(ne+pe)|0]=j[re+(h+ue)|0]|0:(qe=ue+ge|0,Ve=s0(We[re+(qe+65)|0]|0,32-ve|0)|0,qe=(Ve+16+(s0(We[re+(qe+66)|0]|0,ve)|0)|0)>>>5&255,j[w+(ne+pe)|0]=qe),(n|0)<(g|0);)pe=n;ge=ge+1|0}while((ge|0)<(g|0))}if(te|(m|0)==10&oe&(g|0)<32^1|o^1){D=_;return}for(B=y-1|0,q=(1<<q)-1|0,te=0;re=te+1|0,oe=((We[y+re|0]|0)-(We[y]|0)>>1)+(We[B]|0)|0,(oe|0)<0?oe=0:oe=((oe|0)>(q|0)?q:oe)&255,j[w+(te+C)|0]=oe,(re|0)<(g|0);)te=re;D=_;return}}function Td(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0;y=D,D=D+136|0,_=y|0,Ve=_+64|0,q=r[n+4+(g<<2)>>2]|0,g=(g|0)==0,pe=r[(g?n+40|0:n+44|0)>>2]|0,g?(Te=1,te=1):(Te=r[n+5784>>2]|0,te=r[n+5780>>2]|0),g=r[(g?n+5760|0:n+5768|0)>>2]|0,ze=s0(te,o)|0,oe=s0(Te,h)|0,ge=r[n+5804>>2]|0,Ge=r[n+5820>>2]|0,r0=(ze|0)!=0,G0=(oe|0)==0,re=G0^1,ne=r0&re,P0=s0(te,m+o|0)|0,qe=r[n+1248>>2]|0,le=(P0|0)<(qe|0)&re,ot=ze>>ge,E0=oe>>ge,Z0=ze-1>>ge,P0=P0>>ge,ge=oe-1>>ge,S0=r[n+10352>>2]|0,ue=s0(S0,E0)|0,O0=r[n+10340>>2]|0,o0=f0[O0+((ue+ot|0)*24|0)>>1]|0,r0?v0=f0[O0+((ue+Z0|0)*24|0)>>1]|0:v0=-1,G0?ve=-1:(ve=O0+(((s0(S0,ge)|0)+ot|0)*24|0)|0,ve=f0[ve>>1]|0),le?(ue=O0+(((s0(S0,ge)|0)+P0|0)*24|0)|0,ue=f0[ue>>1]|0):ue=-1,ne?(O0=O0+(((s0(S0,ge)|0)+Z0|0)*24|0)|0,O0=f0[O0>>1]|0):O0=-1,S0=s0(E0,Ge)|0,N0=r[n+10308>>2]|0,E0=r[N0+(S0+ot<<2)>>2]|0,r0?S0=r[N0+(S0+Z0<<2)>>2]|0:S0=-1,G0?G0=-1:(G0=N0+((s0(ge,Ge)|0)+ot<<2)|0,G0=r[G0>>2]|0),ne?(Z0=N0+((s0(ge,Ge)|0)+Z0<<2)|0,Z0=r[Z0>>2]|0):Z0=-1,le?(ge=N0+((s0(ge,Ge)|0)+P0<<2)|0,ge=r[ge>>2]|0):ge=-1,re=(ve|0)==(o0|0)&(G0|0)==(E0|0)&re,Ge=(O0|0)==(o0|0)&(Z0|0)==(E0|0)&ne,ne=(ue|0)==(o0|0)&(ge|0)==(E0|0)&le,le=r[n+5864>>2]|0,ve=r[n+5852>>2]|0,ge=(s0(oe>>le,ve)|0)+(ze>>le)|0,ue=r[n+10320>>2]|0,ge=r[ue+(ge<<2)>>2]|0,ut=(Te-1-oe+(r[n+1252>>2]|0)|0)/(Te|0)|0,oe=m<<1,P0=(ut|0)>(oe|0)?oe:ut,qe=(te-1-ze+qe|0)/(te|0)|0,qe=(qe|0)>(oe|0)?oe:qe,ze=m<<2|1,V0(_+(64-oe)|0,0,ze|0)|0,X0=P0-1|0;e:do if((P0|0)>0){if(ot=o-1|0,G0=s0(te,ot)|0,Z0=n+5944|0,O0=n+10368|0,N0=n+10372|0,D0=n+10376|0,P0=n+10360|0,!((v0|0)==(o0|0)&(S0|0)==(E0|0)&r0)){for(;;)if(X0=X0-4|0,!((X0|0)>-1)){Be=0,He=0;break e}}for(r0=~ut,o0=~(m<<1),r0=((r0|0)>(o0|0)?r0:o0)+65|0,o0=0,S0=0,E0=X0,v0=0;;){if(ut=_+(r0+(v0<<2))|0,X0=E0+h|0,H0=s0(X0,Te)|0,tt=ue+((s0(H0>>le,ve)|0)+(G0>>le)<<2)|0,tt=(r[tt>>2]|0)<=(ge|0),(j[Z0]|0)==0)tt&&(Ye=29);else{if(g0=r[O0>>2]|0,ct=G0>>g0,g0=H0>>g0,!((ct|0)>-1)){Ye=33;break}if(H0=r[N0>>2]|0,(ct|0)>=(H0|0)){Ye=33;break}if(!((g0|0)>-1)){Ye=34;break}if((g0|0)>=(r[D0>>2]|0)){Ye=34;break}g0=(s0(H0,g0)|0)+ct|0,g0=(r[P0>>2]|0)+(g0*3|0)|0,((We[g0]|We[g0+1|0]<<8)<<16>>16&768)==0&tt&&(Ye=29)}if((Ye|0)==29&&(Ye=0,tt=q+((s0(X0,pe)|0)+ot<<1)|0,(o0|0)==0&&(S0=be[tt>>1]|0),g0=ut,u0=16843009,j[g0]=u0,u0=u0>>8,j[g0+1|0]=u0,u0=u0>>8,j[g0+2|0]=u0,u0=u0>>8,j[g0+3|0]=u0,be[w+(~E0<<1)>>1]=be[tt>>1]|0,g0=q+((s0(X0-1|0,pe)|0)+ot<<1)|0,be[w+(1-E0-1<<1)>>1]=be[g0>>1]|0,g0=q+((s0(X0-2|0,pe)|0)+ot<<1)|0,be[w+(2-E0-1<<1)>>1]=be[g0>>1]|0,g0=q+((s0(X0-3|0,pe)|0)+ot<<1)|0,be[w+(3-E0-1<<1)>>1]=be[g0>>1]|0,o0=o0+4|0),E0=E0-4|0,(E0|0)>-1)v0=v0+1|0;else{Be=o0,He=S0;break e}}(Ye|0)==33?y0(7e3,5152,118,17336):(Ye|0)==34&&y0(3672,5152,119,17336)}else Be=0,He=0;while(!1);e:do if(Ge){Ge=o-1|0,o0=s0(te,Ge)|0,r0=h-1|0,v0=s0(Te,r0)|0,Ye=ue+((s0(v0>>le,ve)|0)+(o0>>le)<<2)|0,Ye=(r[Ye>>2]|0)<=(ge|0);do if((j[n+5944|0]|0)==0){if(!Ye)break e}else if(E0=r[n+10368>>2]|0,o0=o0>>E0,E0=v0>>E0,(o0|0)>-1||y0(7e3,5152,118,17336),v0=r[n+10372>>2]|0,(o0|0)>=(v0|0)&&y0(7e3,5152,118,17336),(E0|0)>-1||y0(3672,5152,119,17336),(E0|0)<(r[n+10376>>2]|0)){if(g0=(s0(v0,E0)|0)+o0|0,g0=(r[n+10360>>2]|0)+(g0*3|0)|0,((We[g0]|We[g0+1|0]<<8)<<16>>16&768)==0&Ye)break;break e}else y0(3672,5152,119,17336);while(!1);Ye=q+((s0(pe,r0)|0)+Ge<<1)|0,(Be|0)==0&&(He=be[Ye>>1]|0),be[w>>1]=be[Ye>>1]|0,j[Ve]=1,Be=Be+1|0}while(!1);e:do if((qe|0)>0){Ve=h-1|0,Te=s0(Te,Ve)|0,h=n+5944|0,pe=s0(pe,Ve)|0,Ve=n+10368|0,Ye=n+10372|0,Ge=n+10376|0,n=n+10360|0,o0=0,r0=0;t:for(;;){v0=_+((r0<<2)+65)|0;do if((o0|0)<(m|0)?re:ne){if(S0=o0+o|0,P0=s0(S0,te)|0,E0=ue+((s0(Te>>le,ve)|0)+(P0>>le)<<2)|0,E0=(r[E0>>2]|0)<=(ge|0),(j[h]|0)==0){if(!E0)break}else{if(O0=r[Ve>>2]|0,P0=P0>>O0,O0=Te>>O0,!((P0|0)>-1)){Ye=55;break t}if(Z0=r[Ye>>2]|0,(P0|0)>=(Z0|0)){Ye=55;break t}if(!((O0|0)>-1)){Ye=58;break t}if((O0|0)>=(r[Ge>>2]|0)){Ye=58;break t}if(g0=(s0(Z0,O0)|0)+P0|0,g0=(r[n>>2]|0)+(g0*3|0)|0,!(((We[g0]|We[g0+1|0]<<8)<<16>>16&768)==0&E0))break}E0=S0+pe|0,S0=q+(E0<<1)|0,(Be|0)==0&&(He=be[S0>>1]|0),g0=v0,u0=16843009,j[g0]=u0,u0=u0>>8,j[g0+1|0]=u0,u0=u0>>8,j[g0+2|0]=u0,u0=u0>>8,j[g0+3|0]=u0,g0=o0|1,be[w+(g0<<1)>>1]=be[S0>>1]|0,be[w+(g0+1<<1)>>1]=be[q+(E0+1<<1)>>1]|0,be[w+((o0|3)<<1)>>1]=be[q+(E0+2<<1)>>1]|0,be[w+((o0|3)+1<<1)>>1]=be[q+(E0+3<<1)>>1]|0,Be=Be+4|0}while(!1);if(o0=o0+4|0,(o0|0)<(qe|0))r0=r0+1|0;else{C=Be,B=He;break e}}(Ye|0)==55?y0(7e3,5152,118,17336):(Ye|0)==58&&y0(3672,5152,119,17336)}else C=Be,B=He;while(!1);if((C|0)==(ze|0)){D=y;return}if(o=m*-2|0,(C|0)==0){if((o|0)>(oe|0)){D=y;return}for(_=1<<g-1&65535;be[w+(o<<1)>>1]=_,(o|0)<(oe|0);)o=o+1|0;D=y;return}if((j[_+(o+64)|0]|0)==0&&(be[w+(o<<1)>>1]=B),C=o|1,(C|0)>(oe|0)){D=y;return}for(;(j[_+(C+64)|0]|0)==0&&(be[w+(C<<1)>>1]=be[w+(C-1<<1)>>1]|0),(C|0)<(oe|0);)C=C+1|0;D=y}function xd(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0;if(y=D,D=D+264|0,w=y|0,(g|0)==1|(h|0)==4){D=y;return}_=g-26|0,_=(_|0)<0?26-g|0:_,C=g-10|0,g=(C|0)<0?10-g|0:C,g=(_|0)<(g|0)?_:g;do if((h|0)==32){if((g|0)>0)break;D=y;return}else if((h|0)==16){if((g|0)>1)break;D=y;return}else if((h|0)==8){if((g|0)>7)break;D=y;return}else y0(8920,15552,518,18232);while(!1);do if((j[n+5665|0]|0)!=0&(m|0)==0&(h|0)==32){if(g=f0[o>>1]|0,m=(f0[o+128>>1]|0)+g-(f0[o+64>>1]<<1)|0,n=1<<(r[n+1276>>2]|0)-5,(((m|0)<0?-m|0:m)|0)>=(n|0)){m=0;break}m=(f0[o-128>>1]|0)+g-(f0[o-64>>1]<<1)|0,m=(((m|0)<0?-m|0:m)|0)<(n|0)}else m=0;while(!1);n=h*-2|0,be[w+(n+64<<1)>>1]=be[o+(n<<1)>>1]|0,n=h<<1,be[w+(n+64<<1)>>1]=be[o+(n<<1)>>1]|0;do if(m){_=be[o>>1]|0,be[w+128>>1]=_,_=_&65535,g=(f0[o-128>>1]|0)-_|0,C=(f0[o+128>>1]|0)-_|0,m=1;do B=(((s0(g,m)|0)+32|0)>>>6)+_&65535,be[w+(64-m<<1)>>1]=B,B=(((s0(C,m)|0)+32|0)>>>6)+_&65535,be[w+(m+64<<1)>>1]=B,m=m+1|0;while((m|0)<64)}else{if(g=n-1|0,_=1-n|0,(_|0)>(g|0))break;for(m=_,_=be[o+(_<<1)>>1]|0;C=m+1|0,B=be[o+(C<<1)>>1]|0,be[w+(m+64<<1)>>1]=((B&65535)+2+((_&65535)<<1)+(f0[o+(m-1<<1)>>1]|0)|0)>>>2,(m|0)<(g|0);)m=C,_=B}while(!1);Tt(o+(-n<<1)|0,w+(64-n<<1)|0,h<<3|2)|0,D=y}function Cd(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0;if(_=(g|0)==0,y=r[(_?n+40|0:n+44|0)>>2]|0,g=(r[n+4+(g<<2)>>2]|0)+((s0(y,h)|0)+o<<1)|0,o=(m|0)>1,o){for(h=m,n=0;h=h>>1,(h|0)>1;)n=n+1|0;h=n+2|0}else h=1;if(n=(m|0)>0,n)for(q=0,B=0;C=B+1|0,q=(f0[w+(C<<1)>>1]|0)+q+(f0[w+(~B<<1)>>1]|0)|0,(C|0)<(m|0);)B=C;else q=0;if(h=q+m>>h,!(_&(m|0)<32)){if(!n)return;n=h&65535,_=0;do{o=s0(_,y)|0,w=0;do be[g+(w+o<<1)>>1]=n,w=w+1|0;while((w|0)<(m|0));_=_+1|0}while((_|0)<(m|0));return}if(be[g>>1]=((h<<1)+2+(f0[w-2>>1]|0)+(f0[w+2>>1]|0)|0)>>>2,!!o){for(n=(h*3|0)+2|0,_=1;C=_+1|0,be[g+(_<<1)>>1]=(n+(f0[w+(C<<1)>>1]|0)|0)>>>2,(C|0)<(m|0);)_=C;if(o){n=(h*3|0)+2|0,_=1;do q=g+((s0(_,y)|0)<<1)|0,be[q>>1]=(n+(f0[w+(~_<<1)>>1]|0)|0)>>>2,_=_+1|0;while((_|0)<(m|0));if(o){w=h&65535,o=1;do{_=s0(o,y)|0,n=1;do be[g+(n+_<<1)>>1]=w,n=n+1|0;while((n|0)<(m|0));o=o+1|0}while((o|0)<(m|0))}}}}function Dd(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0;_=D,le=y,q=D,D=D+258|0,D=D+7&-8,re=(w|0)==0,C=r[(re?n+40|0:n+44|0)>>2]|0,w=(r[n+4+(w<<2)>>2]|0)+((s0(C,h)|0)+o<<1)|0,B=r[(re?n+5760|0:n+5768|0)>>2]|0,(m|0)>=35&&y0(12952,15552,596,18712),(m|0)<=1&&y0(10072,15552,597,18712),oe=r[64+(m<<2)>>2]|0;do if((j[n+5750|0]|0)==0)te=0;else if(ge=r[n+10368>>2]|0,o=o>>ge,h=h>>ge,(o|0)>-1||y0(7e3,5152,118,17336),ne=r[n+10372>>2]|0,(o|0)>=(ne|0)&&y0(7e3,5152,118,17336),(h|0)>-1||y0(3672,5152,119,17336),(h|0)<(r[n+10376>>2]|0)){te=(s0(ne,h)|0)+o|0,te=(r[n+10360>>2]|0)+(te*3|0)|0,te=((We[te]|We[te+1|0]<<8)<<16>>16&2048)!=0;break}else y0(3672,5152,119,17336);while(!1);if(n=(g|0)<0,(m|0)>17){n||Tt(q+128|0,le|0,(g<<1)+2|0)|0,le=m-11|0;do if(le>>>0<15){if(le=r[30584+(le<<2)>>2]|0,n=(s0(oe,g)|0)>>5,!((n|0)<-1))break;do ge=y+(-((s0(n,le)|0)+128>>8)<<1)|0,be[q+(n+64<<1)>>1]=be[ge>>1]|0,n=n+1|0;while((n|0)<0)}else{if((g<<1|0)<=(g|0))break;Tt(q+(g+65<<1)|0,y+(g+1<<1)|0,g<<1)|0}while(!1);if(pe=(g|0)>0,pe)for(ue=0;;){ne=ue+1|0,le=s0(ne,oe)|0,o=le>>5,le=le&31,n=(le|0)==0,h=o+65|0,ue=s0(ue,C)|0,ve=32-le|0,ge=0;do n?be[w+(ge+ue<<1)>>1]=be[q+(h+ge<<1)>>1]|0:(Te=ge+o|0,Ve=s0(f0[q+(Te+65<<1)>>1]|0,ve)|0,Te=(Ve+16+(s0(f0[q+(Te+66<<1)>>1]|0,le)|0)|0)>>>5&65535,be[w+(ge+ue<<1)>>1]=Te),ge=ge+1|0;while((ge|0)<(g|0));if((ne|0)<(g|0))ue=ne;else break}if(te|(m|0)==26&re&(g|0)<32^1|pe^1){D=_;return}q=y+2|0,te=(1<<B)-1|0,B=0;do re=((f0[y+(~B<<1)>>1]|0)-(f0[y>>1]|0)>>1)+(f0[q>>1]|0)|0,(re|0)<0?re=0:re=((re|0)>(te|0)?te:re)&65535,Ve=w+((s0(B,C)|0)<<1)|0,be[Ve>>1]=re,B=B+1|0;while((B|0)<(g|0));D=_;return}else{if(!n)for(le=0;be[q+(le+64<<1)>>1]=be[y+(-le<<1)>>1]|0,(le|0)<(g|0);)le=le+1|0;le=m-11|0;do if(le>>>0<15){if(le=r[30584+(le<<2)>>2]|0,n=(s0(oe,g)|0)>>5,!((n|0)<-1))break;do Ve=y+((s0(n,le)|0)+128>>8<<1)|0,be[q+(n+64<<1)>>1]=be[Ve>>1]|0,n=n+1|0;while((n|0)<0)}else{if(o=g<<1,(o|0)>(g|0))le=g;else break;for(;n=le+1|0,be[q+(le+65<<1)>>1]=be[y+(~le<<1)>>1]|0,(n|0)<(o|0);)le=n}while(!1);if(n=(g|0)>0,n){o=0;do{for(ve=o+65|0,h=s0(o,C)|0,ne=0;pe=ne+1|0,ue=s0(pe,oe)|0,le=ue>>5,ue=ue&31,(ue|0)==0?be[w+(ne+h<<1)>>1]=be[q+(ve+le<<1)>>1]|0:(Ve=le+o|0,Te=s0(f0[q+(Ve+65<<1)>>1]|0,32-ue|0)|0,Ve=(Te+16+(s0(f0[q+(Ve+66<<1)>>1]|0,ue)|0)|0)>>>5&65535,be[w+(ne+h<<1)>>1]=Ve),(pe|0)<(g|0);)ne=pe;o=o+1|0}while((o|0)<(g|0))}if(te|(m|0)==10&re&(g|0)<32^1|n^1){D=_;return}for(C=y-2|0,B=(1<<B)-1|0,q=0;te=q+1|0,re=((f0[y+(te<<1)>>1]|0)-(f0[y>>1]|0)>>1)+(f0[C>>1]|0)|0,(re|0)<0?re=0:re=((re|0)>(B|0)?B:re)&65535,be[w+(q<<1)>>1]=re,(te|0)<(g|0);)q=te;D=_;return}}function Rd(n){n=n|0,r[n+8>>2]=1732584193,r[n+12>>2]=-271733879,r[n+16>>2]=-1732584194,r[n+20>>2]=271733878,r[n>>2]=0,r[n+4>>2]=0}function Zu(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0;g=n|0,m=r[g>>2]|0,y=m+h&536870911,r[g>>2]=y,g=n+4|0,w=r[g>>2]|0,y>>>0<m>>>0&&(w=w+1|0,r[g>>2]=w),r[n+4>>2]=w+(h>>>29),g=m&63;do if((g|0)!=0){if(m=64-g|0,g=n+24+g|0,!(m>>>0>h>>>0)){Tt(g|0,o|0,m)|0,Pl(n,n+24|0,64)|0,o=o+m|0,h=h-m|0;break}Tt(g|0,o|0,h)|0;return}while(!1);h>>>0>63&&(o=Pl(n,o,h&-64)|0,h=h&63),Tt(n+24|0,o|0,h)|0}function Pl(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0;pe=n+8|0,oe=n+12|0,w=n+16|0,y=n+20|0,_=n+88|0,C=n+92|0,B=n+96|0,q=n+100|0,te=n+104|0,re=n+108|0,m=n+112|0,le=n+116|0,ne=n+120|0,g=n+124|0,ue=n+128|0,ve=n+132|0,ge=n+136|0,Te=n+140|0,Ve=n+144|0,n=n+148|0,qe=r[pe>>2]|0,Be=r[oe>>2]|0,He=r[y>>2]|0,ze=r[w>>2]|0;do G0=(We[o+1|0]|0)<<8|(We[o]|0)|(We[o+2|0]|0)<<16|(We[o+3|0]|0)<<24,r[_>>2]=G0,G0=qe-680876936+(Be&(He^ze)^He)+G0|0,G0=(G0<<7|G0>>>25)+Be|0,Ge=(We[o+5|0]|0)<<8|(We[o+4|0]|0)|(We[o+6|0]|0)<<16|(We[o+7|0]|0)<<24,r[C>>2]=Ge,Ge=He-389564586+Ge+(G0&(Be^ze)^ze)|0,Ge=(Ge<<12|Ge>>>20)+G0|0,r0=(We[o+9|0]|0)<<8|(We[o+8|0]|0)|(We[o+10|0]|0)<<16|(We[o+11|0]|0)<<24,r[B>>2]=r0,r0=ze+606105819+r0+(Ge&(G0^Be)^Be)|0,r0=(r0<<17|r0>>>15)+Ge|0,l0=(We[o+13|0]|0)<<8|(We[o+12|0]|0)|(We[o+14|0]|0)<<16|(We[o+15|0]|0)<<24,r[q>>2]=l0,l0=Be-1044525330+l0+(r0&(Ge^G0)^G0)|0,l0=(l0<<22|l0>>>10)+r0|0,Ye=(We[o+17|0]|0)<<8|(We[o+16|0]|0)|(We[o+18|0]|0)<<16|(We[o+19|0]|0)<<24,r[te>>2]=Ye,Ye=G0-176418897+Ye+(l0&(r0^Ge)^Ge)|0,Ye=(Ye<<7|Ye>>>25)+l0|0,G0=(We[o+21|0]|0)<<8|(We[o+20|0]|0)|(We[o+22|0]|0)<<16|(We[o+23|0]|0)<<24,r[re>>2]=G0,G0=Ge+1200080426+G0+(Ye&(l0^r0)^r0)|0,G0=(G0<<12|G0>>>20)+Ye|0,Ge=(We[o+25|0]|0)<<8|(We[o+24|0]|0)|(We[o+26|0]|0)<<16|(We[o+27|0]|0)<<24,r[m>>2]=Ge,Ge=r0-1473231341+Ge+(G0&(Ye^l0)^l0)|0,Ge=(Ge<<17|Ge>>>15)+G0|0,r0=(We[o+29|0]|0)<<8|(We[o+28|0]|0)|(We[o+30|0]|0)<<16|(We[o+31|0]|0)<<24,r[le>>2]=r0,r0=l0-45705983+r0+(Ge&(G0^Ye)^Ye)|0,r0=(r0<<22|r0>>>10)+Ge|0,l0=(We[o+33|0]|0)<<8|(We[o+32|0]|0)|(We[o+34|0]|0)<<16|(We[o+35|0]|0)<<24,r[ne>>2]=l0,l0=Ye+1770035416+l0+(r0&(Ge^G0)^G0)|0,l0=(l0<<7|l0>>>25)+r0|0,Ye=(We[o+37|0]|0)<<8|(We[o+36|0]|0)|(We[o+38|0]|0)<<16|(We[o+39|0]|0)<<24,r[g>>2]=Ye,Ye=G0-1958414417+Ye+(l0&(r0^Ge)^Ge)|0,Ye=(Ye<<12|Ye>>>20)+l0|0,G0=(We[o+41|0]|0)<<8|(We[o+40|0]|0)|(We[o+42|0]|0)<<16|(We[o+43|0]|0)<<24,r[ue>>2]=G0,Ge=G0-42063+Ge+(Ye&(l0^r0)^r0)|0,Ge=(Ge<<17|Ge>>>15)+Ye|0,G0=(We[o+45|0]|0)<<8|(We[o+44|0]|0)|(We[o+46|0]|0)<<16|(We[o+47|0]|0)<<24,r[ve>>2]=G0,r0=G0-1990404162+r0+(Ge&(Ye^l0)^l0)|0,r0=(r0<<22|r0>>>10)+Ge|0,G0=(We[o+49|0]|0)<<8|(We[o+48|0]|0)|(We[o+50|0]|0)<<16|(We[o+51|0]|0)<<24,r[ge>>2]=G0,l0=G0+1804603682+l0+(r0&(Ge^Ye)^Ye)|0,l0=(l0<<7|l0>>>25)+r0|0,G0=(We[o+53|0]|0)<<8|(We[o+52|0]|0)|(We[o+54|0]|0)<<16|(We[o+55|0]|0)<<24,r[Te>>2]=G0,Ye=G0-40341101+Ye+(l0&(r0^Ge)^Ge)|0,Ye=(Ye<<12|Ye>>>20)+l0|0,G0=(We[o+57|0]|0)<<8|(We[o+56|0]|0)|(We[o+58|0]|0)<<16|(We[o+59|0]|0)<<24,r[Ve>>2]=G0,Ge=G0-1502002290+Ge+(Ye&(l0^r0)^r0)|0,Ge=(Ge<<17|Ge>>>15)+Ye|0,G0=(We[o+61|0]|0)<<8|(We[o+60|0]|0)|(We[o+62|0]|0)<<16|(We[o+63|0]|0)<<24,r[n>>2]=G0,r0=G0+1236535329+r0+(Ge&(Ye^l0)^l0)|0,r0=(r0<<22|r0>>>10)+Ge|0,N0=r[C>>2]|0,l0=N0-165796510+l0+((r0^Ge)&Ye^Ge)|0,l0=(l0<<5|l0>>>27)+r0|0,Z0=r[m>>2]|0,Ye=Z0-1069501632+Ye+((l0^r0)&Ge^r0)|0,Ye=(Ye<<9|Ye>>>23)+l0|0,S0=r[ve>>2]|0,Ge=S0+643717713+Ge+((Ye^l0)&r0^l0)|0,Ge=(Ge<<14|Ge>>>18)+Ye|0,g0=r[_>>2]|0,r0=g0-373897302+r0+((Ge^Ye)&l0^Ye)|0,r0=(r0<<20|r0>>>12)+Ge|0,tt=r[re>>2]|0,l0=tt-701558691+l0+((r0^Ge)&Ye^Ge)|0,l0=(l0<<5|l0>>>27)+r0|0,D0=r[ue>>2]|0,Ye=D0+38016083+Ye+((l0^r0)&Ge^r0)|0,Ye=(Ye<<9|Ye>>>23)+l0|0,Ge=G0-660478335+Ge+((Ye^l0)&r0^l0)|0,Ge=(Ge<<14|Ge>>>18)+Ye|0,P0=r[te>>2]|0,r0=P0-405537848+r0+((Ge^Ye)&l0^Ye)|0,r0=(r0<<20|r0>>>12)+Ge|0,v0=r[g>>2]|0,l0=v0+568446438+l0+((r0^Ge)&Ye^Ge)|0,l0=(l0<<5|l0>>>27)+r0|0,ct=r[Ve>>2]|0,Ye=ct-1019803690+Ye+((l0^r0)&Ge^r0)|0,Ye=(Ye<<9|Ye>>>23)+l0|0,X0=r[q>>2]|0,Ge=X0-187363961+Ge+((Ye^l0)&r0^l0)|0,Ge=(Ge<<14|Ge>>>18)+Ye|0,ot=r[ne>>2]|0,r0=ot+1163531501+r0+((Ge^Ye)&l0^Ye)|0,r0=(r0<<20|r0>>>12)+Ge|0,O0=r[Te>>2]|0,l0=O0-1444681467+l0+((r0^Ge)&Ye^Ge)|0,l0=(l0<<5|l0>>>27)+r0|0,E0=r[B>>2]|0,Ye=E0-51403784+Ye+((l0^r0)&Ge^r0)|0,Ye=(Ye<<9|Ye>>>23)+l0|0,H0=r[le>>2]|0,Ge=H0+1735328473+Ge+((Ye^l0)&r0^l0)|0,Ge=(Ge<<14|Ge>>>18)+Ye|0,o0=Ge^Ye,ut=r[ge>>2]|0,r0=ut-1926607734+r0+(o0&l0^Ye)|0,r0=(r0<<20|r0>>>12)+Ge|0,o0=tt-378558+l0+(o0^r0)|0,o0=(o0<<4|o0>>>28)+r0|0,Ye=ot-2022574463+Ye+(r0^Ge^o0)|0,Ye=(Ye<<11|Ye>>>21)+o0|0,Ge=S0+1839030562+Ge+(o0^r0^Ye)|0,Ge=(Ge<<16|Ge>>>16)+Ye|0,r0=ct-35309556+r0+(Ye^o0^Ge)|0,r0=(r0<<23|r0>>>9)+Ge|0,o0=N0-1530992060+o0+(Ge^Ye^r0)|0,o0=(o0<<4|o0>>>28)+r0|0,Ye=P0+1272893353+Ye+(r0^Ge^o0)|0,Ye=(Ye<<11|Ye>>>21)+o0|0,Ge=H0-155497632+Ge+(o0^r0^Ye)|0,Ge=(Ge<<16|Ge>>>16)+Ye|0,r0=D0-1094730640+r0+(Ye^o0^Ge)|0,r0=(r0<<23|r0>>>9)+Ge|0,o0=O0+681279174+o0+(Ge^Ye^r0)|0,o0=(o0<<4|o0>>>28)+r0|0,Ye=g0-358537222+Ye+(r0^Ge^o0)|0,Ye=(Ye<<11|Ye>>>21)+o0|0,Ge=X0-722521979+Ge+(o0^r0^Ye)|0,Ge=(Ge<<16|Ge>>>16)+Ye|0,r0=Z0+76029189+r0+(Ye^o0^Ge)|0,r0=(r0<<23|r0>>>9)+Ge|0,o0=v0-640364487+o0+(Ge^Ye^r0)|0,o0=(o0<<4|o0>>>28)+r0|0,Ye=ut-421815835+Ye+(r0^Ge^o0)|0,Ye=(Ye<<11|Ye>>>21)+o0|0,Ge=G0+530742520+Ge+(o0^r0^Ye)|0,Ge=(Ge<<16|Ge>>>16)+Ye|0,r0=E0-995338651+r0+(Ye^o0^Ge)|0,r0=(r0<<23|r0>>>9)+Ge|0,o0=g0-198630844+o0+((r0|~Ye)^Ge)|0,o0=(o0<<6|o0>>>26)+r0|0,Ye=H0+1126891415+Ye+((o0|~Ge)^r0)|0,Ye=(Ye<<10|Ye>>>22)+o0|0,Ge=ct-1416354905+Ge+((Ye|~r0)^o0)|0,Ge=(Ge<<15|Ge>>>17)+Ye|0,r0=tt-57434055+r0+((Ge|~o0)^Ye)|0,r0=(r0<<21|r0>>>11)+Ge|0,o0=ut+1700485571+o0+((r0|~Ye)^Ge)|0,o0=(o0<<6|o0>>>26)+r0|0,Ye=X0-1894986606+Ye+((o0|~Ge)^r0)|0,Ye=(Ye<<10|Ye>>>22)+o0|0,Ge=D0-1051523+Ge+((Ye|~r0)^o0)|0,Ge=(Ge<<15|Ge>>>17)+Ye|0,r0=N0-2054922799+r0+((Ge|~o0)^Ye)|0,r0=(r0<<21|r0>>>11)+Ge|0,o0=ot+1873313359+o0+((r0|~Ye)^Ge)|0,o0=(o0<<6|o0>>>26)+r0|0,Ye=G0-30611744+Ye+((o0|~Ge)^r0)|0,Ye=(Ye<<10|Ye>>>22)+o0|0,Ge=Z0-1560198380+Ge+((Ye|~r0)^o0)|0,Ge=(Ge<<15|Ge>>>17)+Ye|0,r0=O0+1309151649+r0+((Ge|~o0)^Ye)|0,r0=(r0<<21|r0>>>11)+Ge|0,o0=P0-145523070+o0+((r0|~Ye)^Ge)|0,o0=(o0<<6|o0>>>26)+r0|0,Ye=S0-1120210379+Ye+((o0|~Ge)^r0)|0,Ye=(Ye<<10|Ye>>>22)+o0|0,Ge=E0+718787259+Ge+((Ye|~r0)^o0)|0,Ge=(Ge<<15|Ge>>>17)+Ye|0,r0=v0-343485551+r0+((Ge|~o0)^Ye)|0,qe=o0+qe|0,Be=Ge+Be+(r0<<21|r0>>>11)|0,ze=Ge+ze|0,He=Ye+He|0,o=o+64|0,h=h-64|0;while((h|0)!=0);return r[pe>>2]=qe,r[oe>>2]=Be,r[w>>2]=ze,r[y>>2]=He,o|0}function Ld(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0;h=o|0,g=r[h>>2]&63,w=g+1|0,m=o+24|0,j[o+24+g|0]=-128,g=g^63,g>>>0<8?(V0(o+24+w|0,0,g|0)|0,m=m|0,Pl(o,m,64)|0,g=56,w=0):(g=g-8|0,m=m|0),V0(o+24+w|0,0,g|0)|0,w=r[h>>2]|0,g=w<<3,r[h>>2]=g,j[o+80|0]=g,j[o+81|0]=w>>>5,j[o+82|0]=w>>>13,j[o+83|0]=w>>>21,w=r[o+4>>2]|0,j[o+84|0]=w,j[o+85|0]=w>>>8,j[o+86|0]=w>>>16,j[o+87|0]=w>>>24,Pl(o,m,64)|0,w=o+8|0,j[n]=r[w>>2],j[n+1|0]=(r[w>>2]|0)>>>8,j[n+2|0]=(r[w>>2]|0)>>>16,j[n+3|0]=(r[w>>2]|0)>>>24,w=o+12|0,j[n+4|0]=r[w>>2],j[n+5|0]=(r[w>>2]|0)>>>8,j[n+6|0]=(r[w>>2]|0)>>>16,j[n+7|0]=(r[w>>2]|0)>>>24,w=o+16|0,j[n+8|0]=r[w>>2],j[n+9|0]=(r[w>>2]|0)>>>8,j[n+10|0]=(r[w>>2]|0)>>>16,j[n+11|0]=(r[w>>2]|0)>>>24,w=o+20|0,j[n+12|0]=r[w>>2],j[n+13|0]=(r[w>>2]|0)>>>8,j[n+14|0]=(r[w>>2]|0)>>>16,j[n+15|0]=(r[w>>2]|0)>>>24,V0(o|0,0,152)|0}function Id(n,o,h,m,g,w,y,_,C,B,q){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0;var te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0;te=D,D=D+49160|0,ve=te|0,re=te+16384|0,He=te+49152|0,Ge=w+m|0,o0=y+g|0,r0=h+764|0,le=r[h+5780>>2]|0,oe=r[h+5784>>2]|0,pe=r[h+40>>2]|0,ne=(s0(pe,o0)|0)+Ge|0,ne=(r[h+4>>2]|0)+(ne<<We[h+16|0])|0,g=r[h+44>>2]|0,y=(s0(g,(o0|0)/(oe|0)|0)|0)+((Ge|0)/(le|0)|0)|0,w=(r[h+8>>2]|0)+(y<<We[h+17|0])|0,y=(r[h+12>>2]|0)+(y<<We[h+18|0])|0,ge=j[q|0]|0,P0=ge&255,r[He>>2]=P0,Be=j[q+1|0]|0,ze=Be&255,qe=He+4|0,r[qe>>2]=ze,v0=h+5760|0,ue=r[v0>>2]|0,Ye=h+5768|0,m=r[Ye>>2]|0,Ve=h+5961|0;do if((j[Ve]|0)==0){if(ge<<24>>24==0|Be<<24>>24==0||(be[q+4>>1]|0)!=(be[q+8>>1]|0)||(be[q+6>>1]|0)!=(be[q+10>>1]|0)||(r[o+916+(j[q+2|0]<<2)>>2]|0)!=(r[o+980+(j[q+3|0]<<2)>>2]|0))break;r[qe>>2]=0,ze=0}while(!1);S0=n,Be=h+10516|0,qe=n+4|0,E0=0;e:for(;;){do if((P0|0)!=0){if(P0=j[q+2+E0|0]|0,P0<<24>>24>15){Te=10;break e}if(Z0=ni[r[(r[S0>>2]|0)+8>>2]&63](n,r[o+916+(E0<<6)+(P0<<24>>24<<2)>>2]|0)|0,(r[Z0+96>>2]|0)==0){j[Be]=3,kt(qe,1012,0);break}if(P0=q+4+(E0<<2)|0,D0=be[P0>>1]|0,O0=q+4+(E0<<2)+2|0,N0=be[O0>>1]|0,ot=ve+(E0<<13)|0,G0=r[Z0+4>>2]|0,(r[v0>>2]|0)>8?Pd(n,r0,D0,N0,Ge,o0,ot,_,G0,r[Z0+40>>2]|0,C,B,ue):Bd(n,r0,D0,N0,Ge,o0,ot,_,G0,r[Z0+40>>2]|0,C,B,ue),D0=be[P0>>1]|0,N0=be[O0>>1]|0,G0=re+(E0<<13)|0,ot=r[Z0+8>>2]|0,(r[v0>>2]|0)>8){tt=Z0+44|0,ut=(C|0)/(le|0)|0,X0=(B|0)/(oe|0)|0,rh(n,r0,D0,N0,Ge,o0,G0,_,ot,r[tt>>2]|0,ut,X0,m),rh(n,r0,be[P0>>1]|0,be[O0>>1]|0,Ge,o0,re+16384+(E0<<13)|0,_,r[Z0+12>>2]|0,r[tt>>2]|0,ut,X0,m);break}else{X0=Z0+44|0,ut=(C|0)/(le|0)|0,tt=(B|0)/(oe|0)|0,sh(n,r0,D0,N0,Ge,o0,G0,_,ot,r[X0>>2]|0,ut,tt,m),sh(n,r0,be[P0>>1]|0,be[O0>>1]|0,Ge,o0,re+16384+(E0<<13)|0,_,r[Z0+12>>2]|0,r[X0>>2]|0,ut,tt,m);break}}while(!1);if(P0=E0+1|0,(P0|0)>=2)break;E0=P0,P0=r[He+(P0<<2)>>2]|0}if((Te|0)==10){j[Be]=3,kt(qe,1012,0),D=te;return}if(Te=14-(r[v0>>2]|0)|0,r0=(Te|0)<2?2:Te,He=We[h+5920|0]|0,Te=14-(r[Ye>>2]|0)|0,Ge=(Te|0)<2?2:Te,Te=We[h+5921|0]|0,Ye=r[o+20>>2]|0,(Ye|0)==1)if(h=ge<<24>>24==1&(ze|0)==0,(j[Ve]|0)==0){if(!h){kt(qe,1011,0),j[Be]=3,D=te;return}if(ve=ve|0,(ue|0)<9?as[r[n+176>>2]&63](ne,pe,ve,_,C,B):Hr[r[n+192>>2]&127](ne,pe,ve,_,C,B,ue),ne=re|0,C=(C|0)/(le|0)|0,B=(B|0)/(oe|0)|0,(m|0)<9){tt=n+176|0,as[r[tt>>2]&63](w,g,ne,_,C,B),as[r[tt>>2]&63](y,g,re+16384|0,_,C,B),D=te;return}else{tt=n+192|0,Hr[r[tt>>2]&127](w,g,ne,_,C,B,m),Hr[r[tt>>2]&127](y,g,re+16384|0,_,C,B,m),D=te;return}}else{if(!h){kt(qe,1011,0),j[Be]=3,D=te;return}if(tt=j[q+2|0]|0,qe=(We[o+380|0]|0)+r0|0,q=(We[o+381|0]|0)+Ge|0,Be=be[o+446+(tt<<1)>>1]|0,ze=j[o+510+tt|0]<<He,ge=be[o+542+(tt<<2)>>1]|0,h=j[o+670+(tt<<1)|0]<<Te,Ve=be[o+542+(tt<<2)+2>>1]|0,o=j[o+670+(tt<<1)+1|0]<<Te,ve=ve|0,(ue|0)<9?Gs[r[n+180>>2]&15](ne,pe,ve,_,C,B,Be,ze,qe):_r[r[n+196>>2]&15](ne,pe,ve,_,C,B,Be,ze,qe,ue),ne=re|0,C=(C|0)/(le|0)|0,B=(B|0)/(oe|0)|0,(m|0)<9){tt=n+180|0,Gs[r[tt>>2]&15](w,g,ne,_,C,B,ge,h,q),Gs[r[tt>>2]&15](y,g,re+16384|0,_,C,B,Ve,o,q),D=te;return}else{tt=n+196|0,_r[r[tt>>2]&15](w,g,ne,_,C,B,ge,h,q,m),_r[r[tt>>2]&15](y,g,re+16384|0,_,C,B,Ve,o,q,m),D=te;return}}else if((Ye|0)==0){Ve=(ze|0)==1;do if(ge<<24>>24==1){if(!Ve)break;if((j[h+5962|0]|0)==0)if(o=ve|0,q=ve+8192|0,ve=n+172|0,(ue|0)<9?Hr[r[ve>>2]&127](ne,pe,o,q,_,C,B):Nn[r[n+188>>2]&63](ne,pe,o,q,_,C,B,ue),ue=re|0,pe=re+8192|0,ne=re+16384|0,re=re+24576|0,C=(C|0)/(le|0)|0,B=(B|0)/(oe|0)|0,(m|0)<9){tt=ve|0,Hr[r[tt>>2]&127](w,g,ue,pe,_,C,B),Hr[r[tt>>2]&127](y,g,ne,re,_,C,B),D=te;return}else{tt=n+188|0,Nn[r[tt>>2]&63](w,g,ue,pe,_,C,B,m),Nn[r[tt>>2]&63](y,g,ne,re,_,C,B,m),D=te;return}else if(ze=j[q+2|0]|0,tt=j[q+3|0]|0,Ye=(We[o+380|0]|0)+r0|0,q=(We[o+381|0]|0)+Ge|0,o0=be[o+446+(ze<<1)>>1]|0,r0=j[o+510+ze|0]<<He,Ge=be[o+478+(tt<<1)>>1]|0,v0=j[o+526+tt|0]<<He,qe=be[o+542+(ze<<2)>>1]|0,Ve=j[o+670+(ze<<1)|0]<<Te,He=be[o+542+(ze<<2)+2>>1]|0,ze=j[o+670+(ze<<1)+1|0]<<Te,ge=be[o+606+(tt<<2)>>1]|0,h=j[o+702+(tt<<1)|0]<<Te,Be=be[o+606+(tt<<2)+2>>1]|0,o=j[o+702+(tt<<1)+1|0]<<Te,Te=ve|0,ve=ve+8192|0,(ue|0)<9?Kl[r[n+184>>2]&3](ne,pe,Te,ve,_,C,B,o0,r0,Ge,v0,Ye):$l[r[n+200>>2]&3](ne,pe,Te,ve,_,C,B,o0,r0,Ge,v0,Ye,ue),pe=re|0,ue=re+8192|0,ne=re+16384|0,re=re+24576|0,C=(C|0)/(le|0)|0,B=(B|0)/(oe|0)|0,(m|0)<9){tt=n+184|0,Kl[r[tt>>2]&3](w,g,pe,ue,_,C,B,qe,Ve,ge,h,q),Kl[r[tt>>2]&3](y,g,ne,re,_,C,B,He,ze,Be,o,q),D=te;return}else{tt=n+200|0,$l[r[tt>>2]&3](w,g,pe,ue,_,C,B,qe,Ve,ge,h,q,m),$l[r[tt>>2]&3](y,g,ne,re,_,C,B,He,ze,Be,o,q,m),D=te;return}}else{if(Ve)break;kt(qe,1011,0),j[Be]=3,D=te;return}while(!1);if(ge=ge<<24>>24==0|0,(j[h+5962|0]|0)==0)if(ve=ve+(ge<<13)|0,(ue|0)<9?as[r[n+176>>2]&63](ne,pe,ve,_,C,B):Hr[r[n+192>>2]&127](ne,pe,ve,_,C,B,ue),ne=re+(ge<<13)|0,C=(C|0)/(le|0)|0,B=(B|0)/(oe|0)|0,(m|0)<9){tt=n+176|0,as[r[tt>>2]&63](w,g,ne,_,C,B),as[r[tt>>2]&63](y,g,re+16384+(ge<<13)|0,_,C,B),D=te;return}else{tt=n+192|0,Hr[r[tt>>2]&127](w,g,ne,_,C,B,m),Hr[r[tt>>2]&127](y,g,re+16384+(ge<<13)|0,_,C,B,m),D=te;return}else if(tt=j[q+2+ge|0]|0,Be=(We[o+380|0]|0)+r0|0,q=(We[o+381|0]|0)+Ge|0,ze=be[o+446+(ge<<5)+(tt<<1)>>1]|0,He=j[o+510+(ge<<4)+tt|0]<<He,Ve=be[o+542+(ge<<6)+(tt<<2)>>1]|0,h=j[o+670+(ge<<5)+(tt<<1)|0]<<Te,qe=be[o+542+(ge<<6)+(tt<<2)+2>>1]|0,o=j[o+670+(ge<<5)+(tt<<1)+1|0]<<Te,ve=ve+(ge<<13)|0,(ue|0)<9?Gs[r[n+180>>2]&15](ne,pe,ve,_,C,B,ze,He,Be):_r[r[n+196>>2]&15](ne,pe,ve,_,C,B,ze,He,Be,ue),ne=re+(ge<<13)|0,C=(C|0)/(le|0)|0,B=(B|0)/(oe|0)|0,(m|0)<9){tt=n+180|0,Gs[r[tt>>2]&15](w,g,ne,_,C,B,Ve,h,q),Gs[r[tt>>2]&15](y,g,re+16384+(ge<<13)|0,_,C,B,qe,o,q),D=te;return}else{tt=n+196|0,_r[r[tt>>2]&15](w,g,ne,_,C,B,Ve,h,q,m),_r[r[tt>>2]&15](y,g,re+16384+(ge<<13)|0,_,C,B,qe,o,q,m),D=te;return}}else y0(8616,15536,489,18272)}function Pd(n,o,h,m,g,w,y,_,C,B,q,te,re){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0;var oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0;if(oe=D,D=D+20448|0,ne=oe|0,ue=oe+9088|0,le=h&3,pe=m&3,g=(h>>2)+g|0,w=(m>>2)+w|0,ve=14-(r[o+4996>>2]|0)|0,qe=r[o+484>>2]|0,Ve=r[o+488>>2]|0,((m|h)&3|0)==0){do if((w|g|0)>-1){if((g+q|0)>(qe|0)||(w+te|0)>(Ve|0))break;if(C=C+((s0(w,B)|0)+g<<1)|0,g=ne|0,(re|0)<9){Hr[r[n+220>>2]&127](y,_,C,B,q,te,g),D=oe;return}else{Nn[r[n+300>>2]&63](y,_,C,B,q,te,g,re),D=oe;return}}while(!1);if((te|0)<=0){D=oe;return}if(n=Ve-1|0,re=qe-1|0,(q|0)>0)le=0;else{D=oe;return}do{if(ue=le+w|0,ne=s0(le,_)|0,pe=(ue|0)>(n|0)?n:ue,(ue|0)<0){pe=0;do ue=pe+g|0,(ue|0)<0?ue=0:ue=(ue|0)>(re|0)?re:ue,be[y+(pe+ne<<1)>>1]=(f0[C+(ue<<1)>>1]|0)<<ve,pe=pe+1|0;while((pe|0)<(q|0))}else{ue=0;do h=ue+g|0,(h|0)<0?h=0:h=(h|0)>(re|0)?re:h,Ge=C+((s0(pe,B)|0)+h<<1)|0,be[y+(ue+ne<<1)>>1]=(f0[Ge>>1]|0)<<ve,ue=ue+1|0;while((ue|0)<(q|0))}le=le+1|0}while((le|0)<(te|0));D=oe;return}h=r[30768+(le<<2)>>2]|0,o=r[30872+(le<<2)>>2]|0,ve=r[30768+(pe<<2)>>2]|0,Te=r[30872+(pe<<2)>>2]|0,m=-h|0;do if((g-h|0)>-1){if(!((w-ve|0)>-1)){ge=23;break}if((g+q+o|0)>=(qe|0)){ge=23;break}if((w+te+Te|0)>=(Ve|0)){ge=23;break}m=B,B=C+((s0(w,B)|0)+g<<1)|0}else ge=23;while(!1);if((ge|0)==23){if(ze=-ve|0,ge=Te+te|0,(ge|0)>(ze|0)){o=o+q|0,Te=(o|0)>(m|0),Ve=Ve-1|0,qe=qe-1|0;do{if(Te)if(Ye=ze+w|0,Be=((ze+ve|0)*80|0)+h|0,He=(Ye|0)>(Ve|0)?Ve:Ye,(Ye|0)<0){He=m;do Ye=He+g|0,(Ye|0)<0?Ye=0:Ye=(Ye|0)>(qe|0)?qe:Ye,be[ue+(Be+He<<1)>>1]=be[C+(Ye<<1)>>1]|0,He=He+1|0;while((He|0)<(o|0))}else{Ye=m;do Ge=Ye+g|0,(Ge|0)<0?Ge=0:Ge=(Ge|0)>(qe|0)?qe:Ge,Ge=C+((s0(He,B)|0)+Ge<<1)|0,be[ue+(Be+Ye<<1)>>1]=be[Ge>>1]|0,Ye=Ye+1|0;while((Ye|0)<(o|0))}ze=ze+1|0}while((ze|0)<(ge|0))}m=80,B=ue+((ve*80|0)+h<<1)|0}if(C=ne|0,(re|0)<9){Hr[r[n+220+(le<<4)+(pe<<2)>>2]&127](y,_,B,m,q,te,C),D=oe;return}else{Nn[r[n+300+(le<<4)+(pe<<2)>>2]&63](y,_,B,m,q,te,C,re),D=oe;return}}function Bd(n,o,h,m,g,w,y,_,C,B,q,te,re){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0;var oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0;if(oe=D,D=D+14768|0,ne=oe|0,ue=oe+9088|0,le=h&3,pe=m&3,g=(h>>2)+g|0,w=(m>>2)+w|0,ve=14-(r[o+4996>>2]|0)|0,Ve=r[o+484>>2]|0,qe=r[o+488>>2]|0,((m|h)&3|0)==0){do if((w|g|0)>-1){if((g+q|0)>(Ve|0)||(w+te|0)>(qe|0))break;if(C=C+((s0(w,B)|0)+g)|0,g=ne|0,(re|0)<9){Hr[r[n+220>>2]&127](y,_,C,B,q,te,g),D=oe;return}else{Nn[r[n+300>>2]&63](y,_,C,B,q,te,g,re),D=oe;return}}while(!1);if((te|0)<=0){D=oe;return}n=(q|0)>0,re=qe-1|0,ue=Ve-1|0,le=0;do{if(n){h=le+w|0,ne=(h|0)<0,pe=s0(le,_)|0,m=(h|0)>(re|0)?re:h,h=0;do ge=h+g|0,(ge|0)<0?ge=0:ge=(ge|0)>(ue|0)?ue:ge,r0=C+((s0(ne?0:m,B)|0)+ge)|0,be[y+(h+pe<<1)>>1]=(We[r0]|0)<<ve,h=h+1|0;while((h|0)<(q|0))}le=le+1|0}while((le|0)<(te|0));D=oe;return}ve=r[30768+(le<<2)>>2]|0,o=r[30872+(le<<2)>>2]|0,h=r[30768+(pe<<2)>>2]|0,Te=r[30872+(pe<<2)>>2]|0,m=-ve|0;do if((g-ve|0)>-1){if(!((w-h|0)>-1)){ge=21;break}if((g+q+o|0)>=(Ve|0)){ge=21;break}if((w+te+Te|0)>=(qe|0)){ge=21;break}m=B,B=C+((s0(w,B)|0)+g)|0}else ge=21;while(!1);if((ge|0)==21){if(ze=-h|0,ge=Te+te|0,(ge|0)>(ze|0)){Te=o+q|0,o=(Te|0)>(m|0),qe=qe-1|0,Ve=Ve-1|0;do{if(o){Ye=ze+w|0,Be=(Ye|0)<0,He=((ze+h|0)*80|0)+ve|0,Ye=(Ye|0)>(qe|0)?qe:Ye,Ge=m;do r0=Ge+g|0,(r0|0)<0?r0=0:r0=(r0|0)>(Ve|0)?Ve:r0,r0=C+((s0(Be?0:Ye,B)|0)+r0)|0,j[ue+(He+Ge)|0]=j[r0]|0,Ge=Ge+1|0;while((Ge|0)<(Te|0))}ze=ze+1|0}while((ze|0)<(ge|0))}m=80,B=ue+((h*80|0)+ve)|0}if(C=ne|0,(re|0)<9){Hr[r[n+220+(le<<4)+(pe<<2)>>2]&127](y,_,B,m,q,te,C),D=oe;return}else{Nn[r[n+300+(le<<4)+(pe<<2)>>2]&63](y,_,B,m,q,te,C,re),D=oe;return}}function rh(n,o,h,m,g,w,y,_,C,B,q,te,re){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0;var oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0;if(oe=D,D=D+19808|0,le=oe|0,ne=oe+9088|0,pe=14-(r[o+5004>>2]|0)|0,Be=r[o+5016>>2]|0,ve=(r[o+484>>2]|0)/(Be|0)|0,ze=r[o+5020>>2]|0,Te=(r[o+488>>2]|0)/(ze|0)|0,Ye=s0(2/(Be|0)|0,h)|0,He=s0(2/(ze|0)|0,m)|0,h=Ye&7,m=He&7,g=((g|0)/(Be|0)|0)+(Ye>>3)|0,w=((w|0)/(ze|0)|0)+(He>>3)|0,o=(m|0)==0,((He|Ye)&7|0)==0){do if((g|0)>-1){if(!((g+q|0)<=(ve|0)&(w|0)>-1)||(w+te|0)>(Te|0))break;if(C=C+((s0(w,B)|0)+g<<1)|0,(re|0)<9){Gs[r[n+204>>2]&15](y,_,C,B,q,te,0,0,0),D=oe;return}else{_r[r[n+284>>2]&15](y,_,C,B,q,te,0,0,0,re),D=oe;return}}while(!1);if((te|0)<=0){D=oe;return}re=(q|0)>0,n=Te-1|0,ne=ve-1|0,le=0;do{if(re){o=le+w|0,m=(o|0)<0,h=s0(le,_)|0,ue=(o|0)>(n|0)?n:o,o=0;do ve=o+g|0,(ve|0)<0?ve=0:ve=(ve|0)>(ne|0)?ne:ve,Ye=C+((s0(m?0:ue,B)|0)+ve<<1)|0,be[y+(o+h<<1)>>1]=(f0[Ye>>1]|0)<<pe,o=o+1|0;while((o|0)<(q|0))}le=le+1|0}while((le|0)<(te|0));D=oe;return}do if((g|0)>0){if(!((g+q|0)<=(ve-2|0)&(w|0)>0)){ue=17;break}if((w+te|0)>(Te-2|0)){ue=17;break}C=C+((s0(w,B)|0)+g<<1)|0}else ue=17;while(!1);if((ue|0)==17){if(ue=te+2|0,(ue|0)>-1){ge=q+2|0,pe=(ge|0)>-1,Te=Te-1|0,ve=ve-1|0,Be=-1;do{if(pe){ze=Be+w|0,Ve=(ze|0)<0,qe=(Be*80|0)+80|0,He=(ze|0)>(Te|0)?Te:ze,ze=-1;do Ye=ze+g|0,(Ye|0)<0?Ye=0:Ye=(Ye|0)>(ve|0)?ve:Ye,Ye=C+((s0(Ve?0:He,B)|0)+Ye<<1)|0,ze=ze+1|0,be[ne+(qe+ze<<1)>>1]=be[Ye>>1]|0;while((ze|0)<(ge|0))}Be=Be+1|0}while((Be|0)<(ue|0))}C=ne+162|0,B=80}if(g=(h|0)!=0,!(o|g^1))if(g=le|0,(re|0)<9){_r[r[n+216>>2]&15](y,_,C,B,q,te,h,m,g,re),D=oe;return}else{_r[r[n+296>>2]&15](y,_,C,B,q,te,h,m,g,re),D=oe;return}if(g)if(g=le|0,(re|0)<9){_r[r[n+208>>2]&15](y,_,C,B,q,te,h,m,g,re),D=oe;return}else{_r[r[n+288>>2]&15](y,_,C,B,q,te,h,m,g,re),D=oe;return}if(o&&y0(10064,15536,268,17976),g=le|0,(re|0)<9){_r[r[n+212>>2]&15](y,_,C,B,q,te,0,m,g,re),D=oe;return}else{_r[r[n+292>>2]&15](y,_,C,B,q,te,0,m,g,re),D=oe;return}}function sh(n,o,h,m,g,w,y,_,C,B,q,te,re){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0;var oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0;if(oe=D,D=D+14448|0,le=oe|0,ne=oe+9088|0,pe=14-(r[o+5004>>2]|0)|0,Be=r[o+5016>>2]|0,ve=(r[o+484>>2]|0)/(Be|0)|0,ze=r[o+5020>>2]|0,Te=(r[o+488>>2]|0)/(ze|0)|0,Ye=s0(2/(Be|0)|0,h)|0,He=s0(2/(ze|0)|0,m)|0,h=Ye&7,m=He&7,g=((g|0)/(Be|0)|0)+(Ye>>3)|0,w=((w|0)/(ze|0)|0)+(He>>3)|0,o=(m|0)==0,((He|Ye)&7|0)==0){do if((g|0)>-1){if(!((g+q|0)<=(ve|0)&(w|0)>-1)||(w+te|0)>(Te|0))break;if(C=C+((s0(w,B)|0)+g)|0,(re|0)<9){Gs[r[n+204>>2]&15](y,_,C,B,q,te,0,0,0),D=oe;return}else{_r[r[n+284>>2]&15](y,_,C,B,q,te,0,0,0,re),D=oe;return}}while(!1);if((te|0)<=0){D=oe;return}re=(q|0)>0,n=Te-1|0,ne=ve-1|0,le=0;do{if(re){o=le+w|0,m=(o|0)<0,h=s0(le,_)|0,ue=(o|0)>(n|0)?n:o,o=0;do ve=o+g|0,(ve|0)<0?ve=0:ve=(ve|0)>(ne|0)?ne:ve,Ye=C+((s0(m?0:ue,B)|0)+ve)|0,be[y+(o+h<<1)>>1]=(We[Ye]|0)<<pe,o=o+1|0;while((o|0)<(q|0))}le=le+1|0}while((le|0)<(te|0));D=oe;return}do if((g|0)>0){if(!((g+q|0)<=(ve-2|0)&(w|0)>0)){ue=17;break}if((w+te|0)>(Te-2|0)){ue=17;break}C=C+((s0(w,B)|0)+g)|0}else ue=17;while(!1);if((ue|0)==17){if(ue=te+2|0,(ue|0)>-1){ge=q+2|0,pe=(ge|0)>-1,Te=Te-1|0,ve=ve-1|0,Be=-1;do{if(pe){ze=Be+w|0,Ve=(ze|0)<0,qe=(Be*80|0)+80|0,He=(ze|0)>(Te|0)?Te:ze,ze=-1;do Ye=ze+g|0,(Ye|0)<0?Ye=0:Ye=(Ye|0)>(ve|0)?ve:Ye,Ye=C+((s0(Ve?0:He,B)|0)+Ye)|0,ze=ze+1|0,j[ne+(qe+ze)|0]=j[Ye]|0;while((ze|0)<(ge|0))}Be=Be+1|0}while((Be|0)<(ue|0))}C=ne+81|0,B=80}if(g=(h|0)!=0,!(o|g^1))if(g=le|0,(re|0)<9){_r[r[n+216>>2]&15](y,_,C,B,q,te,h,m,g,re),D=oe;return}else{_r[r[n+296>>2]&15](y,_,C,B,q,te,h,m,g,re),D=oe;return}if(g)if(g=le|0,(re|0)<9){_r[r[n+208>>2]&15](y,_,C,B,q,te,h,m,g,re),D=oe;return}else{_r[r[n+288>>2]&15](y,_,C,B,q,te,h,m,g,re),D=oe;return}if(o&&y0(10064,15536,268,17976),g=le|0,(re|0)<9){_r[r[n+212>>2]&15](y,_,C,B,q,te,0,m,g,re),D=oe;return}else{_r[r[n+292>>2]&15](y,_,C,B,q,te,0,m,g,re),D=oe;return}}function Md(n,o,h,m,g,w,y,_,C,B,q,te){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0;var re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0;if(y=r[n+10060>>2]|0,re=r[n+10368>>2]|0,le=o>>re,re=h>>re,!((le|0)>-1)||(oe=r[n+10372>>2]|0,(le|0)>=(oe|0)))return y0(1232,544,118,17296),0;if(!((re|0)>-1)||(re|0)>=(r[n+10376>>2]|0))return y0(17016,544,119,17296),0;re=(s0(oe,re)|0)+le|0,re=(r[n+10360>>2]|0)+(re*3|0)|0,re=((We[re]|We[re+1|0]<<8)<<16>>16&65535)>>>3&7,ge=re&255,le=g-1|0,ue=C+w|0,pe=ue-1|0,Te=g>>y,oe=(Te|0)==(le>>y|0),oe&&(w>>y|0)==(pe>>y|0)?(ve=0,re=0):ne=9;do if((ne|0)==9){if((B|0)==1&&(ge&3|0)==2|re<<24>>24==7){ve=0,re=0;break}if(!(Mn(n,o,h,m,g,w,_,C,B,le,pe)|0)){ve=0,re=0;break}if(ze=r[n+10388>>2]|0,re=le>>ze,pe=pe>>ze,!((re|0)>-1)||(ve=r[n+10392>>2]|0,(re|0)>=(ve|0)))return y0(1232,544,118,17296),0;if(!((pe|0)>-1))return y0(17016,544,119,17296),0;if((pe|0)<(r[n+10396>>2]|0)){re=(s0(ve,pe)|0)+re|0,ve=q|0,re=(r[n+10380>>2]|0)+(re*12|0)|0,be[ve>>1]=be[re>>1]|0,be[ve+2>>1]=be[re+2>>1]|0,be[ve+4>>1]=be[re+4>>1]|0,be[ve+6>>1]=be[re+6>>1]|0,be[ve+8>>1]=be[re+8>>1]|0,be[ve+10>>1]=be[re+10>>1]|0,ve=1,re=1;break}else return y0(17016,544,119,17296),0}while(!1);if((ve|0)>=(te|0))return ze=ve,ze|0;Ve=_+g|0,qe=Ve-1|0,pe=w-1|0,(Te|0)==(qe>>y|0)&&(w>>y|0)==(pe>>y|0)?(qe=ve,ve=0,ge=0):ne=22;e:do if((ne|0)==22){if((B|0)==1&&(ge|0)==5|(ge|0)==4|(ge|0)==1){qe=ve,ve=0,ge=0;break}if(!(Mn(n,o,h,m,g,w,_,C,B,qe,pe)|0)){qe=ve,ve=0,ge=0;break}if(ge=r[n+10388>>2]|0,Be=qe>>ge,ge=pe>>ge,!((Be|0)>-1)||(qe=r[n+10392>>2]|0,(Be|0)>=(qe|0)))return y0(1232,544,118,17296),0;if(!((ge|0)>-1)||(ge|0)>=(r[n+10396>>2]|0))return y0(17016,544,119,17296),0;qe=(s0(qe,ge)|0)+Be|0,ge=r[n+10380>>2]|0;t:do if(re)for(Be=0;;){if(ze=j[q+Be|0]|0,ze<<24>>24!=(j[ge+(qe*12|0)+Be|0]|0)||ze<<24>>24!=0&&((be[q+4+(Be<<2)>>1]|0)!=(be[ge+(qe*12|0)+4+(Be<<2)>>1]|0)||(be[q+4+(Be<<2)+2>>1]|0)!=(be[ge+(qe*12|0)+4+(Be<<2)+2>>1]|0)||(j[q+2+Be|0]|0)!=(j[ge+(qe*12|0)+2+Be|0]|0)))break t;if(Be=Be+1|0,(Be|0)>=2){qe=ve,ve=0,ge=1;break e}}while(!1);ze=q+(ve*12|0)|0,qe=ge+(qe*12|0)|0,be[ze>>1]=be[qe>>1]|0,be[ze+2>>1]=be[qe+2>>1]|0,be[ze+4>>1]=be[qe+4>>1]|0,be[ze+6>>1]=be[qe+6>>1]|0,be[ze+8>>1]=be[qe+8>>1]|0,be[ze+10>>1]=be[qe+10>>1]|0,qe=ve+1|0,ge=1}while(!1);if((qe|0)>=(te|0))return ze=qe,ze|0;(Te|0)==(Ve>>y|0)?(w>>y|0)!=(pe>>y|0)&&(ne=42):ne=42;e:do if((ne|0)==42){if(!(Mn(n,o,h,m,g,w,_,C,B,Ve,pe)|0))break;if(Be=r[n+10388>>2]|0,Te=Ve>>Be,Be=pe>>Be,!((Te|0)>-1)||(Ve=r[n+10392>>2]|0,(Te|0)>=(Ve|0)))return y0(1232,544,118,17296),0;if(!((Be|0)>-1)||(Be|0)>=(r[n+10396>>2]|0))return y0(17016,544,119,17296),0;Ve=(s0(Ve,Be)|0)+Te|0,Te=r[n+10380>>2]|0;t:do if(ge)for(Be=0;;){if(ze=j[q+(ve*12|0)+Be|0]|0,ze<<24>>24!=(j[Te+(Ve*12|0)+Be|0]|0)||ze<<24>>24!=0&&((be[q+(ve*12|0)+4+(Be<<2)>>1]|0)!=(be[Te+(Ve*12|0)+4+(Be<<2)>>1]|0)||(be[q+(ve*12|0)+4+(Be<<2)+2>>1]|0)!=(be[Te+(Ve*12|0)+4+(Be<<2)+2>>1]|0)||(j[q+(ve*12|0)+2+Be|0]|0)!=(j[Te+(Ve*12|0)+2+Be|0]|0)))break t;if(Be=Be+1|0,(Be|0)>=2)break e}while(!1);ze=q+(qe*12|0)|0,Be=Te+(Ve*12|0)|0,be[ze>>1]=be[Be>>1]|0,be[ze+2>>1]=be[Be+2>>1]|0,be[ze+4>>1]=be[Be+4>>1]|0,be[ze+6>>1]=be[Be+6>>1]|0,be[ze+8>>1]=be[Be+8>>1]|0,be[ze+10>>1]=be[Be+10>>1]|0,qe=qe+1|0}while(!1);if((qe|0)>=(te|0))return ze=qe,ze|0;oe?(w>>y|0)!=(ue>>y|0)&&(ne=60):ne=60;e:do if((ne|0)==60){if(!(Mn(n,o,h,m,g,w,_,C,B,le,ue)|0))break;if(ze=r[n+10388>>2]|0,ne=le>>ze,ue=ue>>ze,!((ne|0)>-1)||(Te=r[n+10392>>2]|0,(ne|0)>=(Te|0)))return y0(1232,544,118,17296),0;if(!((ue|0)>-1)||(ue|0)>=(r[n+10396>>2]|0))return y0(17016,544,119,17296),0;ne=(s0(Te,ue)|0)+ne|0,ue=r[n+10380>>2]|0;t:do if(re)for(Ve=0;;){if(Te=j[q+Ve|0]|0,Te<<24>>24!=(j[ue+(ne*12|0)+Ve|0]|0)||Te<<24>>24!=0&&((be[q+4+(Ve<<2)>>1]|0)!=(be[ue+(ne*12|0)+4+(Ve<<2)>>1]|0)||(be[q+4+(Ve<<2)+2>>1]|0)!=(be[ue+(ne*12|0)+4+(Ve<<2)+2>>1]|0)||(j[q+2+Ve|0]|0)!=(j[ue+(ne*12|0)+2+Ve|0]|0)))break t;if(Ve=Ve+1|0,(Ve|0)>=2)break e}while(!1);ze=q+(qe*12|0)|0,Be=ue+(ne*12|0)|0,be[ze>>1]=be[Be>>1]|0,be[ze+2>>1]=be[Be+2>>1]|0,be[ze+4>>1]=be[Be+4>>1]|0,be[ze+6>>1]=be[Be+6>>1]|0,be[ze+8>>1]=be[Be+8>>1]|0,be[ze+10>>1]=be[Be+10>>1]|0,qe=qe+1|0}while(!1);if((qe|0)>=(te|0)|(qe|0)==4)return ze=qe,ze|0;do if(oe){if((w>>y|0)!=(pe>>y|0))break;return qe|0}while(!1);if(!(Mn(n,o,h,m,g,w,_,C,B,le,pe)|0))return ze=qe,ze|0;if(_=r[n+10388>>2]|0,g=le>>_,_=pe>>_,!((g|0)>-1)||(w=r[n+10392>>2]|0,(g|0)>=(w|0)))return y0(1232,544,118,17296),0;if(!((_|0)>-1)||(_|0)>=(r[n+10396>>2]|0))return y0(17016,544,119,17296),0;g=(s0(w,_)|0)+g|0,n=r[n+10380>>2]|0;e:do if(ge){w=0;do{if(_=j[q+(ve*12|0)+w|0]|0,_<<24>>24!=(j[n+(g*12|0)+w|0]|0)||_<<24>>24!=0&&((be[q+(ve*12|0)+4+(w<<2)>>1]|0)!=(be[n+(g*12|0)+4+(w<<2)>>1]|0)||(be[q+(ve*12|0)+4+(w<<2)+2>>1]|0)!=(be[n+(g*12|0)+4+(w<<2)+2>>1]|0)||(j[q+(ve*12|0)+2+w|0]|0)!=(j[n+(g*12|0)+2+w|0]|0)))break e;w=w+1|0}while((w|0)<2);return qe|0}while(!1);e:do if(re){w=0;do{if(_=j[q+w|0]|0,_<<24>>24!=(j[n+(g*12|0)+w|0]|0)||_<<24>>24!=0&&((be[q+4+(w<<2)>>1]|0)!=(be[n+(g*12|0)+4+(w<<2)>>1]|0)||(be[q+4+(w<<2)+2>>1]|0)!=(be[n+(g*12|0)+4+(w<<2)+2>>1]|0)||(j[q+2+w|0]|0)!=(j[n+(g*12|0)+2+w|0]|0)))break e;w=w+1|0}while((w|0)<2);return qe|0}while(!1);return ze=q+(qe*12|0)|0,Be=n+(g*12|0)|0,be[ze>>1]=be[Be>>1]|0,be[ze+2>>1]=be[Be+2>>1]|0,be[ze+4>>1]=be[Be+4>>1]|0,be[ze+6>>1]=be[Be+6>>1]|0,be[ze+8>>1]=be[Be+8>>1]|0,be[ze+10>>1]=be[Be+10>>1]|0,ze=qe+1|0,ze|0}function _c(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0;if(g=D,_=o,o=D,D=D+4|0,D=D+7&-8,r[o>>2]=r[_>>2],(h|0)<-128?h=-128:h=(h|0)>127?127:h,(m|0)<-128?m=-128:m=(m|0)>127?127:m,(h|0)==0)return y=o,_=n,u0=f0[y>>1]|f0[y+2>>1]<<16,be[_>>1]=u0,be[_+2>>1]=u0>>16,_=0,D=g,_|0;h=(s0(((((h|0)<0?-h|0:h)>>1)+16384|0)/(h|0)|0,m)|0)+32>>6,(h|0)<-4096?h=-4096:h=(h|0)>4095?4095:h,y=s0(be[o>>1]|0,h)|0,w=(y|0)<0,w?_=-1:_=(y|0)>0|0,m=(w?-y|0:y)+127>>8;do if((s0(m,_)|0)<-32768)m=-32768;else{if(w?_=-1:_=(y|0)>0|0,(s0(m,_)|0)>32767){m=32767;break}w?w=-1:w=(y|0)>0|0,m=(s0(m,w)|0)&65535}while(!1);be[n>>1]=m,m=s0(be[o+2>>1]|0,h)|0,h=(m|0)<0,h?w=-1:w=(m|0)>0|0,o=(h?-m|0:m)+127>>8;do if((s0(o,w)|0)<-32768)o=-32768;else{if(h?w=-1:w=(m|0)>0|0,(s0(o,w)|0)>32767){o=32767;break}h?h=-1:h=(m|0)>0|0,o=(s0(o,h)|0)&65535}while(!1);return be[n+2>>1]=o,_=1,D=g,_|0}function nh(n,o,h,m,g,w,y,_,C,B,q,te){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0;var re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0;re=D,D=D+8|0,g=re|0,m=g,ni[r[(r[n>>2]|0)+12>>2]&63](n,w)|0||y0(12928,15536,1074,18352),oe=n,w=ni[r[(r[oe>>2]|0)+8>>2]&63](n,w)|0;do if((r[w+24>>2]|0)>(y|0)){if((r[w+28>>2]|0)<=(_|0))break;if(ne=r[w+10368>>2]|0,le=y>>ne,ne=_>>ne,(le|0)>-1||y0(1232,544,118,17296),pe=r[w+10372>>2]|0,(le|0)>=(pe|0)&&y0(1232,544,118,17296),(ne|0)>-1||y0(17016,544,119,17296),(ne|0)>=(r[w+10376>>2]|0)&&y0(17016,544,119,17296),ge=(s0(pe,ne)|0)+le|0,ge=(r[w+10360>>2]|0)+(ge*3|0)|0,((We[ge]|We[ge+1|0]<<8)<<16>>16&768)==0){be[q>>1]=0,be[q+2>>1]=0,j[te]=0,D=re;return}if((j[w+10516|0]|0)==1){be[q>>1]=0,be[q+2>>1]=0,j[te]=0,D=re;return}le=r[w+10388>>2]|0,pe=y>>le,le=_>>le,(pe|0)>-1||y0(1232,544,118,17296),ne=r[w+10392>>2]|0,(pe|0)>=(ne|0)&&y0(1232,544,118,17296),(le|0)>-1||y0(17016,544,119,17296),(le|0)>=(r[w+10396>>2]|0)&&y0(17016,544,119,17296),ne=(s0(ne,le)|0)+pe|0,le=r[w+10380>>2]|0;do if((j[le+(ne*12|0)|0]|0)==0)oe=1,pe=le+(ne*12|0)+3|0,le=le+(ne*12|0)+8|0;else{if((j[le+(ne*12|0)+1|0]|0)==0){oe=0,pe=le+(ne*12|0)+2|0,le=le+(ne*12|0)+4|0;break}if(pe=r[o+92>>2]|0,ue=h+332|0,(r[ue>>2]|0)<1)ge=1;else{ve=0,ge=1;do Te=(ni[r[(r[oe>>2]|0)+8>>2]&63](n,r[h+980+(ve<<2)>>2]|0)|0)+92|0,ge=ge&(r[Te>>2]|0)<=(pe|0),ve=ve+1|0;while(!((ve|0)>=(r[ue>>2]|0)|ge^1))}if(ue=h+328|0,!((r[ue>>2]|0)<1|ge^1)){ve=0;do Te=(ni[r[(r[oe>>2]|0)+8>>2]&63](n,r[h+916+(ve<<2)>>2]|0)|0)+92|0,ge=ge&(r[Te>>2]|0)<=(pe|0),ve=ve+1|0;while(!((ve|0)>=(r[ue>>2]|0)|ge^1))}if(ge){oe=B,pe=le+(ne*12|0)+2+B|0,le=le+(ne*12|0)+4+(B<<2)|0;break}else{Te=j[h+372|0]|0,oe=Te,pe=le+(ne*12|0)+2+Te|0,le=le+(ne*12|0)+4+(Te<<2)|0;break}}while(!1);if(le=f0[le>>1]|f0[le+2>>1]<<16,ne=j[pe]|0,Te=r[w+10348>>2]|0,y=y>>Te,_=_>>Te,(y|0)>-1||y0(1232,544,118,17296),pe=r[w+10352>>2]|0,(y|0)>=(pe|0)&&y0(1232,544,118,17296),(_|0)>-1||y0(17016,544,119,17296),(_|0)>=(r[w+10356>>2]|0)&&y0(17016,544,119,17296),y=(s0(pe,_)|0)+y|0,y=r[(r[w+48>>2]|0)+(f0[(r[w+10340>>2]|0)+(y*24|0)+2>>1]<<2)>>2]|0,_=h+1300+(B<<4)+C|0,(j[_]|0)!=(j[y+1300+(oe<<4)+ne|0]|0)){j[te]=0,be[q>>1]=0,be[q+2>>1]=0,D=re;return}if(j[te]=1,te=(r[w+92>>2]|0)-(r[y+1044+(oe<<6)+(ne<<2)>>2]|0)|0,B=(r[o+92>>2]|0)-(r[h+1044+(B<<6)+(C<<2)>>2]|0)|0,(j[_]|0)!=0|(te|0)==(B|0)){Te=q,u0=le,be[Te>>1]=u0,be[Te+2>>1]=u0>>16,D=re;return}if(r[g>>2]=le,_c(q,m,te,B)|0){D=re;return}kt(n+4|0,1008,0),j[o+10516|0]=3,D=re;return}while(!1);kt(n+4|0,1026,0),j[te]=0,D=re}function Sc(n,o,h,m,g,w,y,_,C,B,q){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0;var te=0,re=0,oe=0,le=0,ne=0;if((j[h+324|0]|0)==0){be[B>>1]=0,be[B+2>>1]=0,j[q]=0;return}re=r[o+5804>>2]|0;do if((r[h+20>>2]|0)==0){if((j[h+372|0]|0)!=0){te=6;break}oe=h+980+(r[h+376>>2]<<2)|0}else te=6;while(!1);if((te|0)==6&&(oe=h+916+(r[h+376>>2]<<2)|0),oe=r[oe>>2]|0,!(ni[r[(r[n>>2]|0)+12>>2]&63](n,oe)|0)){be[B>>1]=0,be[B+2>>1]=0,j[q]=0,kt(n+4|0,1012,0);return}ne=y+g|0,le=w+m|0;do if((g>>re|0)==(ne>>re|0)){if((le|0)>=(r[o+1248>>2]|0)){te=12;break}if((ne|0)>=(r[o+1252>>2]|0)){te=12;break}if(nh(n,o,h,0,0,oe,le&-16,ne&-16,_,C,B,q),(j[q]|0)==0)break;return}else te=12;while(!1);(te|0)==12&&(be[B>>1]=0,be[B+2>>1]=0,j[q]=0),nh(n,o,h,0,0,oe,(w>>1)+m&-16,(y>>1)+g&-16,_,C,B,q)}function Ud(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0;if(C=r[m>>2]|0,!!((C|0)>1&(C|0)<(g|0))){w=s0(C-1|0,C)|0,y=n,q=0,_=1;e:for(;;)for(;;){if(!_){h=20;break e}if(re=r[30904+(q<<2)>>2]|0,oe=r[30952+(q<<2)>>2]|0,!((re|0)<(C|0)&(oe|0)<(C|0))){h=6;break e}if(ne=h+(re*12|0)|0,(j[ne]|0)==0?te=0:te=ni[r[(r[y>>2]|0)+8>>2]&63](n,r[o+916+(j[h+(re*12|0)+2|0]<<2)>>2]|0)|0,le=h+(oe*12|0)+1|0,(j[le]|0)==0?B=0:B=ni[r[(r[y>>2]|0)+8>>2]&63](n,r[o+980+(j[h+(oe*12|0)+3|0]<<2)>>2]|0)|0,ne=j[ne]|0,ne<<24>>24!=0&(te|0)==0){h=20;break e}if(le=j[le]|0,le<<24>>24!=0&(B|0)==0){h=20;break e}t:do if(!(ne<<24>>24==0|le<<24>>24==0)){do if((r[te+92>>2]|0)==(r[B+92>>2]|0)){if((be[h+(re*12|0)+4>>1]|0)!=(be[h+(oe*12|0)+8>>1]|0))break;if((be[h+(re*12|0)+6>>1]|0)==(be[h+(oe*12|0)+10>>1]|0))break t}while(!1);te=r[m>>2]|0,j[h+(te*12|0)+2|0]=j[h+(re*12|0)+2|0]|0,j[h+(te*12|0)+3|0]=j[h+(oe*12|0)+3|0]|0,j[h+(te*12|0)|0]=ne,j[h+(te*12|0)+1|0]=le,ne=h+(re*12|0)+4|0,le=h+(te*12|0)+4|0,u0=f0[ne>>1]|f0[ne+2>>1]<<16,be[le>>1]=u0,be[le+2>>1]=u0>>16,le=h+(oe*12|0)+8|0,ne=h+(te*12|0)+8|0,u0=f0[le>>1]|f0[le+2>>1]<<16,be[ne>>1]=u0,be[ne+2>>1]=u0>>16,r[m>>2]=(r[m>>2]|0)+1}while(!1);if(q=q+1|0,(q|0)==(w|0)){q=w,_=0;continue e}if((r[m>>2]|0)==(g|0)){_=0;continue e}}if((h|0)==6)y0(10064,15536,1360,18064);else if((h|0)==20)return}}function Fd(n,o,h,m,g,w,y,_,C,B,q,te,re){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0;var oe=0,le=0,ne=0,pe=0,ue=0;oe=D,D=D+24|0,le=oe|0,ne=oe+8|0,pe=oe+16|0,ue=(r[h+10060>>2]|0)>2&(_|0)==8,B=ue?_:B,C=ue?_:C,y=ue?g:y,w=ue?m:w,te=te+1|0,q=Md(h,m,g,_,w,y,0,C,B,ue?0:q,re,te)|0,r[le>>2]=q;do if((q|0)<(te|0)){if(_=pe|0,Sc(n,h,o,w,y,C,B,0,0,ne|0,_),ue=j[_]|0,g=pe+1|0,j[g]=0,pe=o+20|0,(r[pe>>2]|0)==0?(Sc(n,h,o,w,y,C,B,0,1,ne+4|0,g),h=j[g]|0,ue=h|ue):h=0,ue<<24>>24==0){ne=pe;break}r[le>>2]=q+1,m=re+(q*12|0)+4|0,u0=r[ne>>2]|0,be[m>>1]=u0,be[m+2>>1]=u0>>16,m=re+(q*12|0)+8|0,u0=r[ne+4>>2]|0,be[m>>1]=u0,be[m+2>>1]=u0>>16,j[re+(q*12|0)|0]=j[_]|0,j[re+(q*12|0)+1|0]=h,j[re+(q*12|0)+2|0]=0,j[re+(q*12|0)+3|0]=0,ne=pe}else ne=o+20|0;while(!1);if(h=r[ne>>2]|0,(h|0)==0&&(Ud(n,o,re,le,te),h=r[ne>>2]|0),n=r[o+328>>2]|0,(h|0)==1?o=n:(o=r[o+332>>2]|0,o=(n|0)<(o|0)?n:o),C=r[le>>2]|0,(C|0)<(te|0))n=0;else{D=oe;return}for(;pe=re+(C*12|0)|0,y=(n|0)<(o|0)?n&255:0,j[re+(C*12|0)+2|0]=y,B=re+(C*12|0)+3|0,(h|0)==1?(j[B]=-1,j[pe|0]=1,j[re+(C*12|0)+1|0]=0):(j[B]=y,j[pe|0]=1,j[re+(C*12|0)+1|0]=1),m=re+(C*12|0)+4|0,g=m|0,u0=0,be[g>>1]=u0,be[g+2>>1]=u0>>16,m=m+4|0,u0=0,be[m>>1]=u0,be[m+2>>1]=u0>>16,C=C+1|0,!((C|0)>=(te|0));)n=n+1|0,h=r[ne>>2]|0;r[le>>2]=C,D=oe}function Od(n,o,h,m,g,w,y,_,C,B,q,te,re,oe,le){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0,oe=oe|0,le=le|0;var ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0,z0=0,m0=0,x0=0,A0=0,M0=0;if(qe=D,D=D+32|0,ot=qe|0,G0=qe+8|0,Z0=qe+16|0,D0=qe+24|0,N0=D0,ue=D,D=D+12|0,D=D+7&-8,ve=D,D=D+12|0,D=D+7&-8,pe=D,D=D+3|0,D=D+7&-8,ge=D,D=D+4|0,D=D+7&-8,ne=ge,Be=oe+1|0,j[Be]=0,X0=y-1|0,r[ot>>2]=X0,Te=B+_|0,r[G0>>2]=Te,r[ot+4>>2]=X0,v0=Te-1|0,r[G0+4>>2]=v0,j[oe]=0,be[le>>1]=0,be[le+2>>1]=0,Te=Mn(o,m,g,w,y,_,C,B,re,X0,Te)|0,O0=Te&1,j[Z0|0]=O0,v0=Mn(o,m,g,w,y,_,C,B,re,X0,v0)|0,j[Z0+1|0]=v0&1,v0=Te|v0,Te=n,Ve=h+916+(q<<6)+(te<<2)|0,ze=ni[r[(r[Te>>2]|0)+8>>2]&63](n,r[Ve>>2]|0)|0,(ze|0)==0){D=qe;return}Ye=r[ze+92>>2]|0,ut=o+10368|0,H0=o+10372|0,ct=o+10376|0,tt=o+10360|0,He=1-q|0,Ge=o+10388|0,r0=o+10392|0,o0=o+10396|0,ze=o+10380|0,E0=le,S0=0,P0=-1;e:for(;;){t:do if(O0<<24>>24==0)l0=P0;else{if((j[oe]|0)!=0){l0=P0;break}if(g0=r[ot+(S0<<2)>>2]|0,O0=r[G0+(S0<<2)>>2]|0,m0=r[ut>>2]|0,z0=g0>>m0,m0=O0>>m0,!((z0|0)>-1)){g0=8;break e}if(l0=r[H0>>2]|0,(z0|0)>=(l0|0)){g0=8;break e}if(!((m0|0)>-1)){g0=11;break e}if((m0|0)>=(r[ct>>2]|0)){g0=11;break e}if(M0=(s0(l0,m0)|0)+z0|0,M0=(r[tt>>2]|0)+(M0*3|0)|0,((We[M0]|We[M0+1|0]<<8)<<16>>16&768)==0){l0=P0;break}if(M0=r[Ge>>2]|0,g0=g0>>M0,O0=O0>>M0,!((g0|0)>-1)){g0=15;break e}if(l0=r[r0>>2]|0,(g0|0)>=(l0|0)){g0=15;break e}if(!((O0|0)>-1)){g0=18;break e}if((O0|0)>=(r[o0>>2]|0)){g0=18;break e}z0=(s0(l0,O0)|0)+g0|0,l0=r[ze>>2]|0,g0=l0+(z0*12|0)+q|0,(j[g0]|0)==0?m0=0:m0=ni[r[(r[Te>>2]|0)+8>>2]&63](n,r[h+916+(q<<6)+(j[l0+(z0*12|0)+2+q|0]<<2)>>2]|0)|0,x0=l0+(z0*12|0)+He|0,(j[x0]|0)==0?O0=0:O0=ni[r[(r[Te>>2]|0)+8>>2]&63](n,r[h+916+(He<<6)+(j[l0+(z0*12|0)+2+He|0]<<2)>>2]|0)|0;do if(!((j[g0]|0)==0|(m0|0)==0)){if((r[m0+92>>2]|0)!=(Ye|0))break;j[oe]=1,M0=l0+(z0*12|0)+4+(q<<2)|0,u0=f0[M0>>1]|f0[M0+2>>1]<<16,be[E0>>1]=u0,be[E0+2>>1]=u0>>16,l0=j[l0+(z0*12|0)+2+q|0]|0;break t}while(!1);if((j[x0]|0)==0|(O0|0)==0){l0=P0;break}if((r[O0+92>>2]|0)!=(Ye|0)){l0=P0;break}j[oe]=1,M0=l0+(z0*12|0)+4+(He<<2)|0,u0=f0[M0>>1]|f0[M0+2>>1]<<16,be[E0>>1]=u0,be[E0+2>>1]=u0>>16,l0=j[l0+(z0*12|0)+2+He|0]|0}while(!1);if(O0=S0+1|0,(O0|0)>=2){g0=3;break}S0=O0,P0=l0,O0=j[Z0+O0|0]|0}if((g0|0)==3){S0=h+1300+(q<<4)+te|0,te=o+92|0,P0=n+4|0,O0=o+10516|0,g0=0;e:for(;;){if((j[oe]|0)!=0){g0=62;break}t:do if((j[Z0+g0|0]|0)==0)z0=-1;else{if(m0=r[ot+(g0<<2)>>2]|0,z0=r[G0+(g0<<2)>>2]|0,A0=r[ut>>2]|0,M0=m0>>A0,A0=z0>>A0,!((M0|0)>-1)){g0=35;break e}if(x0=r[H0>>2]|0,(M0|0)>=(x0|0)){g0=35;break e}if(!((A0|0)>-1)){g0=38;break e}if((A0|0)>=(r[ct>>2]|0)){g0=38;break e}if(M0=(s0(x0,A0)|0)+M0|0,M0=(r[tt>>2]|0)+(M0*3|0)|0,((We[M0]|We[M0+1|0]<<8)<<16>>16&768)==0){z0=-1;break}if(x0=r[Ge>>2]|0,m0=m0>>x0,x0=z0>>x0,!((m0|0)>-1)){g0=42;break e}if(z0=r[r0>>2]|0,(m0|0)>=(z0|0)){g0=42;break e}if(!((x0|0)>-1)){g0=45;break e}if((x0|0)>=(r[o0>>2]|0)){g0=45;break e}m0=(s0(z0,x0)|0)+m0|0,z0=r[ze>>2]|0;do if((j[z0+(m0*12|0)+q|0]|0)==1){if(x0=z0+(m0*12|0)+2+q|0,(j[S0]|0)!=(j[(j[x0]|0)+(h+1300+(q<<4))|0]|0))break;j[oe]=1,l0=z0+(m0*12|0)+4+(q<<2)|0,u0=f0[l0>>1]|f0[l0+2>>1]<<16,be[E0>>1]=u0,be[E0+2>>1]=u0>>16,l0=j[x0]|0,z0=q;break t}while(!1);if((j[z0+(m0*12|0)+He|0]|0)!=1){z0=-1;break}if(x0=z0+(m0*12|0)+2+He|0,(j[S0]|0)!=(j[(j[x0]|0)+(h+1300+(He<<4))|0]|0)){z0=-1;break}j[oe]=1,l0=z0+(m0*12|0)+4+(He<<2)|0,u0=f0[l0>>1]|f0[l0+2>>1]<<16,be[E0>>1]=u0,be[E0+2>>1]=u0>>16,l0=j[x0]|0,z0=He}while(!1);do if((j[oe]|0)==1){if((l0|0)<0){g0=54;break e}if(!((z0|0)>-1)){g0=56;break e}if(m0=ni[r[(r[Te>>2]|0)+8>>2]&63](n,r[h+916+(z0<<6)+(l0<<2)>>2]|0)|0,ni[r[(r[Te>>2]|0)+8>>2]&63](n,r[Ve>>2]|0)|0,(j[h+1300+(z0<<4)+l0|0]|0)!=0||(j[S0]|0)!=0||(M0=r[te>>2]|0,A0=M0-(r[m0+92>>2]|0)|0,r[D0>>2]=f0[E0>>1]|f0[E0+2>>1]<<16,_c(le,N0,A0,M0-Ye|0)|0))break;kt(P0,1008,0),j[O0]=3}while(!1);if(g0=g0+1|0,(g0|0)>=2){g0=62;break}}if((g0|0)==35)y0(1232,544,118,17296);else if((g0|0)==38)y0(17016,544,119,17296);else if((g0|0)==42)y0(1232,544,118,17296);else if((g0|0)==45)y0(17016,544,119,17296);else if((g0|0)==54){j[Be]=0,j[oe]=0,D=qe;return}else if((g0|0)==56)y0(5136,15536,1698,18112);else if((g0|0)==62){M0=C+y|0,r[ue>>2]=M0,D0=_-1|0,r[ve>>2]=D0,r[ue+4>>2]=M0-1,r[ve+4>>2]=D0,r[ue+8>>2]=X0,r[ve+8>>2]=D0,j[Be]=0,Z0=le+4|0,be[Z0>>1]=0,be[le+6>>1]=0,le=Z0,G0=0,ot=-1,X0=M0;e:for(;;){M0=Mn(o,m,g,w,y,_,C,B,re,X0,D0)|0,j[pe+G0|0]=M0&1;t:do if(M0){if((j[Be]|0)!=0)break;if(M0=r[Ge>>2]|0,N0=X0>>M0,D0=D0>>M0,!((N0|0)>-1)){g0=67;break e}if(X0=r[r0>>2]|0,(N0|0)>=(X0|0)){g0=67;break e}if(!((D0|0)>-1)){g0=70;break e}if((D0|0)>=(r[o0>>2]|0)){g0=70;break e}tt=(s0(X0,D0)|0)+N0|0,ct=r[ze>>2]|0,ut=ct+(tt*12|0)+q|0,(j[ut]|0)==0?X0=0:X0=ni[r[(r[Te>>2]|0)+8>>2]&63](n,r[h+916+(q<<6)+(j[ct+(tt*12|0)+2+q|0]<<2)>>2]|0)|0,D0=ct+(tt*12|0)+He|0,(j[D0]|0)==0?N0=0:N0=ni[r[(r[Te>>2]|0)+8>>2]&63](n,r[h+916+(He<<6)+(j[ct+(tt*12|0)+2+He|0]<<2)>>2]|0)|0;do if(!((j[ut]|0)==0|(X0|0)==0)){if((r[X0+92>>2]|0)!=(Ye|0))break;j[Be]=1,ot=ct+(tt*12|0)+4+(q<<2)|0,u0=f0[ot>>1]|f0[ot+2>>1]<<16,be[le>>1]=u0,be[le+2>>1]=u0>>16,ot=j[ct+(tt*12|0)+2+q|0]|0;break t}while(!1);if((j[D0]|0)==0|(N0|0)==0||(r[N0+92>>2]|0)!=(Ye|0))break;j[Be]=1,ot=ct+(tt*12|0)+4+(He<<2)|0,u0=f0[ot>>1]|f0[ot+2>>1]<<16,be[le>>1]=u0,be[le+2>>1]=u0>>16,ot=j[ct+(tt*12|0)+2+He|0]|0}while(!1);if(N0=G0+1|0,(N0|0)>=3){g0=83;break}G0=N0,X0=r[ue+(N0<<2)>>2]|0,D0=r[ve+(N0<<2)>>2]|0}if((g0|0)==67)y0(1232,544,118,17296);else if((g0|0)==70)y0(17016,544,119,17296);else if((g0|0)==83){if(v0){D=qe;return}(j[Be]|0)!=0&&(j[oe]=1,u0=f0[le>>1]|f0[le+2>>1]<<16,be[E0>>1]=u0,be[E0+2>>1]=u0>>16),j[Be]=0,o=o+10332|0,v0=0,w=1;e:for(;;){if(!w){g0=115;break}t:do if((j[pe+v0|0]|0)==0)w=-1;else{if(y=r[Ge>>2]|0,_=r[ue+(v0<<2)>>2]>>y,y=r[ve+(v0<<2)>>2]>>y,!((_|0)>-1)){g0=91;break e}if(w=r[r0>>2]|0,(_|0)>=(w|0)){g0=91;break e}if(!((y|0)>-1)){g0=94;break e}if((y|0)>=(r[o0>>2]|0)){g0=94;break e}w=(s0(w,y)|0)+_|0,y=r[ze>>2]|0;do if((j[y+(w*12|0)+q|0]|0)==1){if(_=y+(w*12|0)+2+q|0,(j[S0]|0)!=(j[(j[_]|0)+(h+1300+(q<<4))|0]|0))break;j[Be]=1,ot=y+(w*12|0)+4+(q<<2)|0,u0=f0[ot>>1]|f0[ot+2>>1]<<16,be[le>>1]=u0,be[le+2>>1]=u0>>16,ot=j[_]|0,w=q;break t}while(!1);if((j[y+(w*12|0)+He|0]|0)!=1){w=-1;break}if(_=y+(w*12|0)+2+He|0,(j[S0]|0)!=(j[(j[_]|0)+(h+1300+(He<<4))|0]|0)){w=-1;break}j[Be]=1,ot=y+(w*12|0)+4+(He<<2)|0,u0=f0[ot>>1]|f0[ot+2>>1]<<16,be[le>>1]=u0,be[le+2>>1]=u0>>16,ot=j[_]|0,w=He}while(!1);do if((j[Be]|0)==1){if((ot|0)<0){g0=103;break e}if(!((w|0)>-1)){g0=105;break e}if(!((ot|0)>-1)){g0=107;break e}if(_=ni[r[(r[Te>>2]|0)+8>>2]&63](n,r[h+916+(w<<6)+(ot<<2)>>2]|0)|0,y=ni[r[(r[Te>>2]|0)+8>>2]&63](n,r[Ve>>2]|0)|0,(_|0)==0|(y|0)==0){kt((r[o>>2]|0)+4|0,1012,0),j[O0]=3;break}if(_=r[_+92>>2]|0,!((_|0)!=(r[y+92>>2]|0)&(j[h+1300+(w<<4)+ot|0]|0)==0&(j[S0]|0)==0)||(M0=r[te>>2]|0,r[ge>>2]=f0[le>>1]|f0[le+2>>1]<<16,_c(Z0,ne,M0-_|0,M0-Ye|0)|0))break;kt(P0,1008,0),j[O0]=3}while(!1);if(v0=v0+1|0,(v0|0)>=3){g0=115;break}w=(j[Be]|0)==0}if((g0|0)==91)y0(1232,544,118,17296);else if((g0|0)==94)y0(17016,544,119,17296);else if((g0|0)==103){j[Be]=0,j[oe]=0,D=qe;return}else if((g0|0)==105)y0(5136,15536,1839,18112);else if((g0|0)==107)y0(3656,15536,1840,18112);else if((g0|0)==115){D=qe;return}}}}else(g0|0)==8?y0(1232,544,118,17296):(g0|0)==11?y0(17016,544,119,17296):(g0|0)==15?y0(1232,544,118,17296):(g0|0)==18&&y0(17016,544,119,17296)}function Nd(n,o,h,m,g,w,y,_,C,B,q,te,re,oe){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0,oe=oe|0;var le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0;le=D,D=D+32|0,ve=le|0,ue=le+8|0,pe=le+16|0,ne=le+24|0,ge=ne,Ve=ve|0,Od(n,h,o,m,g,w,y,_,C,B,q,te,re,Ve,ue|0),re=(j[Ve]|0)==0;do if(re)Te=6;else{if((j[ve+1|0]|0)==0){Te=6;break}if((be[ue>>1]|0)==(be[ue+4>>1]|0)&&(be[ue+2>>1]|0)==(be[ue+6>>1]|0)){Te=6;break}j[pe]=0}while(!1);(Te|0)==6&&Sc(n,h,o,y,_,C,B,te,q,ge,pe),re?C=0:(C=oe,u0=r[ue>>2]|0,be[C>>1]=u0,be[C+2>>1]=u0>>16,C=1);e:do if((j[ve+1|0]|0)!=0){do if(!re){if((be[ue>>1]|0)!=(be[ue+4>>1]|0))break;if((be[ue+2>>1]|0)==(be[ue+6>>1]|0))break e}while(!1);Ve=oe+(C<<2)|0,u0=r[ue+4>>2]|0,be[Ve>>1]=u0,be[Ve+2>>1]=u0>>16,C=C+1|0}while(!1);if((j[pe]|0)!=0&&(Ve=oe+(C<<2)|0,u0=r[ne>>2]|0,be[Ve>>1]=u0,be[Ve+2>>1]=u0>>16,C=C+1|0),(C|0)<2){do be[oe+(C<<2)>>1]=0,be[oe+(C<<2)+2>>1]=0,C=C+1|0;while((C|0)<2);D=le;return}if((C|0)==2){D=le;return}else y0(2360,15536,1943,18152)}function zd(n,o,h,m,g,w,y,_,C,B,q,te,re){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0;var oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0;if(oe=D,D=D+80|0,le=oe|0,pe=oe+8|0,ne=oe+72|0,y=y+g|0,_=_+w|0,ge=r[h+10368>>2]|0,ue=g>>ge,ge=w>>ge,(ue|0)>-1||y0(1232,544,118,17296),ve=r[h+10372>>2]|0,(ue|0)>=(ve|0)&&y0(1232,544,118,17296),(ge|0)>-1||y0(17016,544,119,17296),(ge|0)>=(r[h+10376>>2]|0)&&y0(17016,544,119,17296),ue=(s0(ve,ge)|0)+ue|0,ue=(r[h+10360>>2]|0)+(ue*3|0)|0,ue=((We[ue]|We[ue+1|0]<<8)<<16>>16&65535)>>>8&255&3,(ue|0)==1?(ve=m+10|0,ue=j[ve]|0,(ue&16)==0?ge=11:ge=12):(ue|0)==2?(ue=j[m+10|0]|0,ge=12):(ve=m+10|0,ge=11),(ge|0)==11){pe=le|0,ue=0;do ge=j[ve]&3,(ge<<24>>24|0)==3?ge=20:(ge<<24>>24|0)==2?(ue|0)==1?ge=20:ge=19:(ge<<24>>24|0)==1&&(ue|0)==0?ge=20:ge=19,(ge|0)==19?(j[re+2+ue|0]=-1,j[re+ue|0]=0):(ge|0)==20&&(Ve=j[m+ue|0]|0,j[re+2+ue|0]=Ve,j[re+ue|0]=1,ge=be[m+2+(ue<<2)+2>>1]|0,Te=f0[m+2+(ue<<2)>>1]|0,Nd(n,o,h,g,w,C,y,_,B,q,ue,Ve<<24>>24,te,pe),qe=le+(((We[ve]|0)>>>(((ue|0)!=0?3:2)>>>0)&1)<<2)|0,qe=f0[qe>>1]|f0[qe+2>>1]<<16,Ve=ne+(ue<<2)|0,u0=qe,be[Ve>>1]=u0,be[Ve+2>>1]=u0>>16,Ve=(be[ne+(ue<<2)+2>>1]|0)+ge&65535,be[re+4+(ue<<2)>>1]=qe+Te,be[re+4+(ue<<2)+2>>1]=Ve),ue=ue+1|0;while((ue|0)<2);D=oe;return}else if((ge|0)==12){if(Ve=(ue&255)>>>5&255,Fd(n,o,h,g,w,y,_,C,B,q,te,Ve,pe|0),qe=re|0,Ve=pe+(Ve*12|0)|0,be[qe>>1]=be[Ve>>1]|0,be[qe+2>>1]=be[Ve+2>>1]|0,be[qe+4>>1]=be[Ve+4>>1]|0,be[qe+6>>1]=be[Ve+6>>1]|0,be[qe+8>>1]=be[Ve+8>>1]|0,be[qe+10>>1]=be[Ve+10>>1]|0,(j[qe]|0)==0){D=oe;return}if(w=re+1|0,(j[w]|0)==0){D=oe;return}if((q+B|0)!=12){D=oe;return}j[re+3|0]=-1,j[w]=0,D=oe;return}}function Bl(n,o,h,m,g,w,y,_,C,B,q,te){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0;var re=0,oe=0;re=D,D=D+16|0,oe=re|0,zd(n,o,h,m,g,w,y,_,C,B,q,te,oe),Id(n,o,h,g,w,y,_,C,B,q,oe),yd(h,y+g|0,_+w|0,B,q,oe),D=re}function Gd(n,o){n=n|0,o=o|0;var h=0;_s(o,1),h=(nt(o,6)|0)&255,j[n|0]=h,h=(nt(o,6)|0)&255,j[n+1|0]=h,o=(nt(o,3)|0)+255&255,j[n+2|0]=o}function ah(n){return n=n|0,(n-19&255)>>>0<2|0}function Hd(n){return n=n|0,(n-16&255)>>>0<3|0}function oh(n){return n=n|0,(n&-2)<<24>>24==8|0}function Tc(n){return n=n|0,(n-16&255)>>>0<8|0}function Vd(n){return n=n|0,(n&-2)<<24>>24==6|0}function Wd(n){switch(n=n|0,n&255|0){case 0:case 2:case 4:case 6:case 8:case 10:case 12:case 14:{n=1;break}default:n=0}return n|0}function jd(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0;for(m=r[n+32>>2]|0,n=(r[n+36>>2]|0)-m>>2;;){if(g=n-1|0,!((g|0)>-1)){n=0,h=4;break}if(((r[m+(g<<2)>>2]|0)-h|0)>(o|0))n=g;else{h=4;break}}return(h|0)==4?n|0:0}function $d(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0;if(w=D,D=D+8|0,m=w|0,_=n+24|0,te=r[_>>2]|0,(te-2|0)<=0){D=w;return}for(y=n+36|0,h=n+32|0,g=n+40|0,o=n+32|0,n=r[n+20>>2]|0,C=0;;){B=n+2|0,re=j[B]|0;do if((re<<24>>24|0)==3|(re<<24>>24|0)==0){if((j[n]|0)!=0||(q=n+1|0,!((j[q]|0)==0&re<<24>>24==3)))break;re=r[y>>2]|0,te=C+2+(re-(r[h>>2]|0)>>2)|0,r[m>>2]=te,(re|0)==(r[g>>2]|0)?ch(o,m):((re|0)!=0&&(r[re>>2]=te),r[y>>2]=re+4),Gi(B|0,n+3|0,-3-C+(r[_>>2]|0)|0)|0,te=(r[_>>2]|0)-1|0,r[_>>2]=te,C=C+1|0,n=q}else C=C+2|0,n=B;while(!1);if(C=C+1|0,(C|0)<(te-2|0))n=n+1|0;else break}D=w}function lh(n){n=n|0,j[n|0]=0,j[n+1|0]=0,V0(n+4|0,0,48)|0}function uh(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0;for(w=n+32|0,o=n+16|0,g=n+28|0,m=n+36|0;y=r[w>>2]|0,!((y|0)==0||(h=r[o>>2]|0,C=r[g>>2]|0,_=r[(r[h+(C>>>10<<2)>>2]|0)+((C&1023)<<2)>>2]|0,r[w>>2]=y-1,C=C+1|0,r[g>>2]=C,C>>>0>2047&&($0(r[h>>2]|0),r[o>>2]=(r[o>>2]|0)+4,r[g>>2]=(r[g>>2]|0)-1024),r[m>>2]=(r[m>>2]|0)-(r[_+24>>2]|0),(_|0)==0));)jr(n,_);if(h=r[n+8>>2]|0,(h|0)!=0&&jr(n,h),h=n+44|0,_=r[h>>2]|0,m=n+40|0,y=r[m>>2]|0,(_|0)==(y|0))m=_,w=_;else for(g=0;;)if(w=r[y+(g<<2)>>2]|0,(w|0)==0?w=y:(Ft(r[w+20>>2]|0),y=r[w+32>>2]|0,(y|0)!=0&&(_=w+36|0,C=r[_>>2]|0,(C|0)!=(y|0)&&(r[_>>2]=C+(~((C-4+(-y|0)|0)>>>2)<<2)),$0(y)),$0(w|0),_=r[h>>2]|0,w=r[m>>2]|0),g=g+1|0,y=w,g>>>0<_-y>>2>>>0)y=w;else{m=_;break}(w|0)!=0&&((m|0)!=(w|0)&&(r[h>>2]=m+(~((m-4+(-y|0)|0)>>>2)<<2)),$0(w)),h=n+12|0,rf(h|0),g=r[o>>2]|0,n=n+20|0,m=r[n>>2]|0;do if((g|0)!=(m|0)){do $0(r[g>>2]|0),g=g+4|0;while((g|0)!=(m|0));if(m=r[o>>2]|0,o=r[n>>2]|0,(o|0)==(m|0))break;r[n>>2]=o+(~((o-4+(-m|0)|0)>>>2)<<2)}while(!1);o=r[h>>2]|0,(o|0)!=0&&$0(o)}function Kd(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0;return h=n+32|0,o=r[h>>2]|0,(o|0)==0?(y=0,y|0):(w=n+16|0,y=r[w>>2]|0,g=n+28|0,_=r[g>>2]|0,m=r[(r[y+(_>>>10<<2)>>2]|0)+((_&1023)<<2)>>2]|0,r[h>>2]=o-1,h=_+1|0,r[g>>2]=h,h>>>0>2047&&($0(r[y>>2]|0),r[w>>2]=(r[w>>2]|0)+4,r[g>>2]=(r[g>>2]|0)-1024),_=n+36|0,r[_>>2]=(r[_>>2]|0)-(r[m+24>>2]|0),_=m,_|0)}function jr(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0;if(h=D,D=D+8|0,y=h|0,r[y>>2]=o,(o|0)==0){D=h;return}if(g=n+40|0,m=n+44|0,w=r[m>>2]|0,!(w-(r[g>>2]|0)>>2>>>0<16)){Ft(r[o+20>>2]|0),m=r[o+32>>2]|0,(m|0)!=0&&(n=o+36|0,g=r[n>>2]|0,(g|0)!=(m|0)&&(r[n>>2]=g+(~((g-4+(-m|0)|0)>>>2)<<2)),$0(m)),$0(o|0),D=h;return}if((w|0)==(r[n+48>>2]|0)){tf(g,y),D=h;return}(w|0)==0?o=0:(r[w>>2]=o,o=r[m>>2]|0),r[m>>2]=o+4,D=h}function Rc(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0;return m=n+44|0,h=r[m>>2]|0,(h|0)==(r[n+40>>2]|0)?(m=It(48)|0,j[m]=0,j[m+1|0]=0,j[m+2|0]=0,y=m+32|0,r[y>>2]=0,w=m+36|0,r[w>>2]=0,_=m+40|0,r[_>>2]=0,h=It(64)|0,g=h,r[w>>2]=g,r[y>>2]=g,y=h+64|0,r[_>>2]=y,(h|0)!=0&&(r[g>>2]=0),V0(h+4|0,0,60)|0,r[w>>2]=y,V0(m+8|0,0,24)|0):(y=h-4|0,_=r[y>>2]|0,r[m>>2]=h+(~((y+(-y|0)|0)>>>2)<<2),m=_),j[m|0]=0,j[m+1|0]=0,j[m+2|0]=0,h=m+8|0,r[h>>2]=0,r[h+4>>2]=0,r[m+16>>2]=0,h=m+24|0,r[h>>2]=0,w=r[m+32>>2]|0,g=m+36|0,y=r[g>>2]|0,(y|0)!=(w|0)&&(r[g>>2]=y+(~((y-4+(-w|0)|0)>>>2)<<2)),w=m+28|0,(r[w>>2]|0)>=(o|0)?(_=m,_|0):(g=ii(o)|0,(g|0)==0?(jr(n,m),_=0,_|0):(n=m+20|0,y=r[n>>2]|0,(y|0)!=0&&(Tt(g|0,y|0,r[h>>2]|0)|0,Ft(y)),r[n>>2]=g,r[w>>2]=o,_=m,_|0))}function qd(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0;y=D,D=D+8|0,_=y|0,j[n+1|0]=0,B=n+8|0,ve=r[B>>2]|0,C=h+3|0;do if((ve|0)==0){if(q=Rc(n,C)|0,r[B>>2]=q,(q|0)==0)return ze=7,D=y,ze|0;ve=q+8|0,r[ve>>2]=m,r[ve+4>>2]=g,r[q+16>>2]=w,ve=r[B>>2]|0;break}while(!1);if(oe=ve+24|0,re=r[oe>>2]|0,q=C+re|0,te=ve+28|0,(r[te>>2]|0)<(q|0)){if(re=ii(q)|0,(re|0)==0)return ze=7,D=y,ze|0;ne=ve+20|0,le=r[ne>>2]|0,(le|0)!=0&&(Tt(re|0,le|0,r[oe>>2]|0)|0,Ft(le)),r[ne>>2]=re,r[te>>2]=q,q=r[oe>>2]|0}else q=re,re=r[ve+20>>2]|0;Te=re+q|0;do if((h|0)>0){pe=n+4|0,oe=n+12|0,re=n+20|0,te=n+16|0,q=n+28|0,ne=n+32|0,le=n+36|0,ue=1;e:for(;;){ge=r[pe>>2]|0;t:do switch(ge|0){case 3:{j[Te]=j[o]|0,r[pe>>2]=4,Te=Te+1|0,ge=ve;break}case 4:{j[Te]=j[o]|0,r[pe>>2]=5,Te=Te+1|0,ge=ve;break}case 5:if(ge=j[o]|0,ge<<24>>24==0){r[pe>>2]=6,ge=ve;break t}else{j[Te]=ge,Te=Te+1|0,ge=ve;break t}case 0:case 1:if((j[o]|0)==0){r[pe>>2]=ge+1,ge=ve;break t}else{r[pe>>2]=0,ge=ve;break t}case 2:if(ge=j[o]|0,(ge<<24>>24|0)==1){r[pe>>2]=3,ge=ve;break t}else if((ge<<24>>24|0)==0){ge=ve;break t}else{r[pe>>2]=0,ge=ve;break t}case 7:if(ge=j[o]|0,(ge<<24>>24|0)==0){j[Te]=0,Te=Te+1|0,ge=ve;break t}else if((ge<<24>>24|0)==3){if(j[Te]=0,ge=Te+2|0,j[Te+1|0]=0,r[pe>>2]=5,Te=ve+36|0,Ve=r[Te>>2]|0,qe=(Ve-(r[ve+32>>2]|0)>>2)+(ge-(r[ve+20>>2]|0))|0,r[_>>2]=qe,(Ve|0)==(r[ve+40>>2]|0)){ch(ve+32|0,_),Te=ge,ge=ve;break t}(Ve|0)!=0&&(r[Ve>>2]=qe),r[Te>>2]=Ve+4,Te=ge,ge=ve;break t}else if((ge<<24>>24|0)==1){ge=ve+24|0,r[ge>>2]=Te-(r[ve+20>>2]|0),Ve=r[re>>2]|0,qe=r[te>>2]|0,(Ve|0)==(qe|0)?ze=0:ze=(Ve-qe<<8)-1|0,Be=r[q>>2]|0,Te=r[ne>>2]|0,(ze-Be|0)==(Te|0)&&(Lc(oe),Te=r[ne>>2]|0,Be=r[q>>2]|0,qe=r[te>>2]|0,Ve=r[re>>2]|0),Be=Te+Be|0;do if((Ve|0)!=(qe|0)){if(Ve=(r[qe+(Be>>>10<<2)>>2]|0)+((Be&1023)<<2)|0,(Ve|0)==0)break;r[Ve>>2]=ve}while(!1);if(r[ne>>2]=Te+1,r[le>>2]=(r[le>>2]|0)+(r[ge>>2]|0),ve=Rc(n,C)|0,r[B>>2]=ve,(ve|0)==0){_=7,h=48;break e}ge=ve+8|0,r[ge>>2]=m,r[ge+4>>2]=g,r[ve+16>>2]=w,ge=r[B>>2]|0,Te=r[ge+20>>2]|0,r[pe>>2]=3;break t}else{j[Te]=0,j[Te+1|0]=0,j[Te+2|0]=j[o]|0,r[pe>>2]=5,Te=Te+3|0,ge=ve;break t}case 6:if((j[o]|0)==0){r[pe>>2]=7,ge=ve;break t}else{j[Te]=0,j[Te+1|0]=j[o]|0,r[pe>>2]=5,Te=Te+2|0,ge=ve;break t}default:ge=ve}while(!1);if((ue|0)>=(h|0)){h=46;break}o=o+1|0,ve=ge,ue=ue+1|0}if((h|0)==46){ve=ge,re=r[ge+20>>2]|0;break}else if((h|0)==48)return D=y,_|0}while(!1);return r[ve+24>>2]=Te-re,ze=0,D=y,ze|0}function Yd(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0;if((r[n+8>>2]|0)!=0)return y0(6496,15256,375,17864),0;j[n+1|0]=0,y=Rc(n,h)|0;do if((y|0)!=0){if(q=y+28|0,(r[q>>2]|0)<(h|0)){if(C=ii(h)|0,(C|0)==0)break;_=y+20|0,B=r[_>>2]|0,(B|0)!=0&&(Tt(C|0,B|0,r[y+24>>2]|0)|0,Ft(B)),r[_>>2]=C,r[q>>2]=h}else C=r[y+20>>2]|0;Tt(C|0,o|0,h)|0,o=y+24|0,r[o>>2]=h,_=y+8|0,r[_>>2]=m,r[_+4>>2]=g,r[y+16>>2]=w,$d(y),g=n+20|0,m=r[g>>2]|0,_=n+16|0,C=r[_>>2]|0,(m|0)==(C|0)?te=0:te=(m-C<<8)-1|0,B=n+28|0,q=r[B>>2]|0,w=n+32|0,h=r[w>>2]|0,(te-q|0)==(h|0)&&(Lc(n+12|0),h=r[w>>2]|0,q=r[B>>2]|0,C=r[_>>2]|0,m=r[g>>2]|0),g=h+q|0;do if((m|0)!=(C|0)){if(m=(r[C+(g>>>10<<2)>>2]|0)+((g&1023)<<2)|0,(m|0)==0)break;r[m>>2]=y}while(!1);return r[w>>2]=h+1,te=n+36|0,r[te>>2]=(r[te>>2]|0)+(r[o>>2]|0),te=0,te|0}while(!1);return jr(n,y),te=7,te|0}function Ml(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0;if(m=n+8|0,o=r[m>>2]|0,(o|0)==0)return re=0,re|0;if(h=n+4|0,g=r[h>>2]|0,(g|0)==6){if(g=o+24|0,B=r[g>>2]|0,_=B+1|0,C=o+28|0,(r[C>>2]|0)<(_|0)){if(w=ii(_)|0,(w|0)==0)return re=7,re|0;y=o+20|0,q=r[y>>2]|0,(q|0)!=0&&(Tt(w|0,q|0,B)|0,Ft(q),B=r[g>>2]|0),r[y>>2]=w,r[C>>2]=_}else w=r[o+20>>2]|0;j[w+B|0]=0,r[g>>2]=(r[g>>2]|0)+1,g=r[h>>2]|0}if((g|0)==7){if(g=o+24|0,B=r[g>>2]|0,C=B+2|0,y=o+28|0,(r[y>>2]|0)<(C|0)){if(w=ii(C)|0,(w|0)==0)return re=7,re|0;_=o+20|0,q=r[_>>2]|0,(q|0)!=0&&(Tt(w|0,q|0,B)|0,Ft(q),B=r[g>>2]|0),r[_>>2]=w,r[y>>2]=C}else w=r[o+20>>2]|0;re=w+B|0,u0=0,j[re]=u0,u0=u0>>8,j[re+1|0]=u0,r[g>>2]=(r[g>>2]|0)+2,g=r[h>>2]|0}if((g|0)>4){_=n+20|0,y=r[_>>2]|0,B=n+16|0,C=r[B>>2]|0,(y|0)==(C|0)?re=0:re=(y-C<<8)-1|0,te=n+28|0,q=r[te>>2]|0,g=n+32|0,w=r[g>>2]|0,(re-q|0)==(w|0)&&(Lc(n+12|0),w=r[g>>2]|0,q=r[te>>2]|0,C=r[B>>2]|0,y=r[_>>2]|0),_=w+q|0;do if((y|0)!=(C|0)){if(y=(r[C+(_>>>10<<2)>>2]|0)+((_&1023)<<2)|0,(y|0)==0)break;r[y>>2]=o}while(!1);r[g>>2]=w+1,re=n+36|0,r[re>>2]=(r[re>>2]|0)+(r[o+24>>2]|0),r[m>>2]=0}return r[h>>2]=0,re=0,re|0}function Jd(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0;if(h=n+8|0,o=r[h>>2]|0,(o|0)!=0&&(jr(n,o),r[h>>2]=0),m=n+32|0,w=r[m>>2]|0,(w|0)==0){_=n+36|0,y=n+4|0,r[y>>2]=0,r[_>>2]=0;return}for(h=n+16|0,o=n+28|0,g=n+36|0;;){if(_=r[h>>2]|0,C=r[o>>2]|0,y=r[(r[_+(C>>>10<<2)>>2]|0)+((C&1023)<<2)>>2]|0,r[m>>2]=w-1,w=C+1|0,r[o>>2]=w,w>>>0>2047&&($0(r[_>>2]|0),r[h>>2]=(r[h>>2]|0)+4,r[o>>2]=(r[o>>2]|0)-1024),r[g>>2]=(r[g>>2]|0)-(r[y+24>>2]|0),(y|0)==0){o=10;break}if(jr(n,y),w=r[m>>2]|0,(w|0)==0){o=10;break}}if((o|0)==10){C=n+4|0,r[C>>2]=0,r[g>>2]=0;return}}function Lc(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0;if(o=D,D=D+48|0,q=o|0,B=o+8|0,y=o+16|0,_=o+40|0,m=n+16|0,h=r[m>>2]|0,h>>>0>1023){r[m>>2]=h-1024,w=n+4|0,_=r[w>>2]|0,m=r[_>>2]|0,q=_+4|0,r[w>>2]=q,h=n+8|0,y=r[h>>2]|0,g=n+12|0;do if((y|0)==(r[g>>2]|0)){if(n=n|0,te=r[n>>2]|0,q>>>0>te>>>0){le=q,g=((le-te>>2)+1|0)/-2|0,y=y-le|0,Gi(_+(g+1<<2)|0,q|0,y|0)|0,y=_+((y>>2)+1+g<<2)|0,r[h>>2]=y,r[w>>2]=(r[w>>2]|0)+(g<<2),g=13;break}if(_=y-te>>1,_=(_|0)==0?1:_,B=It(_<<2)|0,C=B+(_>>>2<<2)|0,_=B+(_<<2)|0,(q|0)==(y|0))y=C;else{te=C;do(te|0)==0?te=0:r[te>>2]=r[q>>2],te=te+4|0,q=q+4|0;while((q|0)!=(y|0));y=te,te=r[n>>2]|0}if(r[n>>2]=B,r[w>>2]=C,r[h>>2]=y,r[g>>2]=_,(te|0)==0){g=12;break}$0(te),y=r[h>>2]|0,g=12}else g=12;while(!1);(g|0)==12&&((y|0)==0?m=0:g=13),(g|0)==13&&(r[y>>2]=m,m=r[h>>2]|0),r[h>>2]=m+4,D=o;return}if(oe=n|0,h=n+8|0,te=r[h>>2]|0,g=n+4|0,C=te-(r[g>>2]|0)>>2,m=n+12|0,re=r[m>>2]|0,w=n|0,le=re-(r[w>>2]|0)|0,!(C>>>0<le>>2>>>0)){for(B=le>>1,le=(B|0)==0?1:B,B=y+12|0,r[y+16>>2]=n+12,oe=It(le<<2)|0,q=y|0,r[q>>2]=oe,re=oe+(C<<2)|0,n=y+8|0,r[n>>2]=re,C=y+4|0,r[C>>2]=re,r[B>>2]=oe+(le<<2),le=It(4096)|0,r[_>>2]=le,Zd(y,_),_=r[h>>2]|0;(_|0)!=(r[g>>2]|0);)le=_-4|0,ef(y,le),_=le;if(y=r[w>>2]|0,r[w>>2]=r[q>>2],r[q>>2]=y,r[g>>2]=r[C>>2],r[C>>2]=_,g=r[h>>2]|0,r[h>>2]=r[n>>2],r[n>>2]=g,le=r[m>>2]|0,r[m>>2]=r[B>>2],r[B>>2]=le,(g|0)!=(_|0)&&(r[n>>2]=g+(~((g-4+(-_|0)|0)>>>2)<<2)),(y|0)==0){D=o;return}$0(y),D=o;return}if(n=It(4096)|0,(re|0)!=(te|0)){r[q>>2]=n,Qd(oe,q),D=o;return}r[B>>2]=n,Xd(oe,B),y=r[g>>2]|0,n=r[y>>2]|0,te=y+4|0,r[g>>2]=te,B=r[h>>2]|0;do if((B|0)==(r[m>>2]|0)){if(q=r[w>>2]|0,te>>>0>q>>>0){oe=te,le=((oe-q>>2)+1|0)/-2|0,B=B-oe|0,Gi(y+(le+1<<2)|0,te|0,B|0)|0,B=y+((B>>2)+1+le<<2)|0,r[h>>2]=B,r[g>>2]=(r[g>>2]|0)+(le<<2),g=29;break}if(y=B-q>>1,y=(y|0)==0?1:y,C=It(y<<2)|0,_=C+(y>>>2<<2)|0,y=C+(y<<2)|0,(te|0)==(B|0))B=_;else{q=_;do(q|0)==0?q=0:r[q>>2]=r[te>>2],q=q+4|0,te=te+4|0;while((te|0)!=(B|0));B=q,q=r[w>>2]|0}if(r[w>>2]=C,r[g>>2]=_,r[h>>2]=B,r[m>>2]=y,(q|0)==0){g=28;break}$0(q),B=r[h>>2]|0,g=28}else g=28;while(!1);(g|0)==28&&((B|0)==0?m=0:g=29),(g|0)==29&&(r[B>>2]=n,m=r[h>>2]|0),r[h>>2]=m+4,D=o}function Qd(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;h=n+8|0,y=r[h>>2]|0,m=n+12|0;do if((y|0)==(r[m>>2]|0)){if(g=n+4|0,B=r[g>>2]|0,n=n|0,q=r[n>>2]|0,B>>>0>q>>>0){C=B,q=((C-q>>2)+1|0)/-2|0,y=y-C|0,Gi(B+(q<<2)|0,B|0,y|0)|0,y=B+(q+(y>>2)<<2)|0,r[h>>2]=y,r[g>>2]=(r[g>>2]|0)+(q<<2);break}if(w=y-q>>1,C=(w|0)==0?1:w,_=It(C<<2)|0,w=_+(C>>>2<<2)|0,C=_+(C<<2)|0,(B|0)==(y|0))y=w;else{q=w;do(q|0)==0?q=0:r[q>>2]=r[B>>2],q=q+4|0,B=B+4|0;while((B|0)!=(y|0));y=q,q=r[n>>2]|0}if(r[n>>2]=_,r[g>>2]=w,r[h>>2]=y,r[m>>2]=C,(q|0)==0)break;$0(q),y=r[h>>2]|0}while(!1);if((y|0)==0){q=0,q=q+4|0,r[h>>2]=q;return}r[y>>2]=r[o>>2],q=r[h>>2]|0,q=q+4|0,r[h>>2]=q}function Xd(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;h=n+4|0,B=r[h>>2]|0,m=n|0;do if((B|0)==(r[m>>2]|0)){if(g=n+8|0,w=r[g>>2]|0,n=n+12|0,q=r[n>>2]|0,y=q,w>>>0<q>>>0){C=w,q=((y-C>>2)+1|0)/2|0,C=C-B|0,_=w+(q-(C>>2)<<2)|0,Gi(_|0,B|0,C|0)|0,r[h>>2]=_,r[g>>2]=(r[g>>2]|0)+(q<<2);break}if(y=y-B>>1,C=(y|0)==0?1:y,y=It(C<<2)|0,_=y+((C+3|0)>>>2<<2)|0,C=y+(C<<2)|0,(B|0)==(w|0))q=_;else{q=_;do(q|0)==0?q=0:r[q>>2]=r[B>>2],q=q+4|0,B=B+4|0;while((B|0)!=(w|0));B=r[m>>2]|0}if(r[m>>2]=y,r[h>>2]=_,r[g>>2]=q,r[n>>2]=C,(B|0)==0)break;$0(B),_=r[h>>2]|0}else _=B;while(!1);r[_-4>>2]=r[o>>2],r[h>>2]=(r[h>>2]|0)-4}function Zd(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;h=n+8|0,y=r[h>>2]|0,m=n+12|0;do if((y|0)==(r[m>>2]|0)){if(g=n+4|0,B=r[g>>2]|0,n=n|0,q=r[n>>2]|0,B>>>0>q>>>0){C=B,q=((C-q>>2)+1|0)/-2|0,y=y-C|0,Gi(B+(q<<2)|0,B|0,y|0)|0,y=B+(q+(y>>2)<<2)|0,r[h>>2]=y,r[g>>2]=(r[g>>2]|0)+(q<<2);break}if(w=y-q>>1,C=(w|0)==0?1:w,_=It(C<<2)|0,w=_+(C>>>2<<2)|0,C=_+(C<<2)|0,(B|0)==(y|0))y=w;else{q=w;do(q|0)==0?q=0:r[q>>2]=r[B>>2],q=q+4|0,B=B+4|0;while((B|0)!=(y|0));y=q,q=r[n>>2]|0}if(r[n>>2]=_,r[g>>2]=w,r[h>>2]=y,r[m>>2]=C,(q|0)==0)break;$0(q),y=r[h>>2]|0}while(!1);if((y|0)==0){q=0,q=q+4|0,r[h>>2]=q;return}r[y>>2]=r[o>>2],q=r[h>>2]|0,q=q+4|0,r[h>>2]=q}function ef(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;h=n+4|0,B=r[h>>2]|0,m=n|0;do if((B|0)==(r[m>>2]|0)){if(g=n+8|0,w=r[g>>2]|0,n=n+12|0,q=r[n>>2]|0,y=q,w>>>0<q>>>0){C=w,q=((y-C>>2)+1|0)/2|0,C=C-B|0,_=w+(q-(C>>2)<<2)|0,Gi(_|0,B|0,C|0)|0,r[h>>2]=_,r[g>>2]=(r[g>>2]|0)+(q<<2);break}if(y=y-B>>1,C=(y|0)==0?1:y,y=It(C<<2)|0,_=y+((C+3|0)>>>2<<2)|0,C=y+(C<<2)|0,(B|0)==(w|0))q=_;else{q=_;do(q|0)==0?q=0:r[q>>2]=r[B>>2],q=q+4|0,B=B+4|0;while((B|0)!=(w|0));B=r[m>>2]|0}if(r[m>>2]=y,r[h>>2]=_,r[g>>2]=q,r[n>>2]=C,(B|0)==0)break;$0(B),_=r[h>>2]|0}else _=B;while(!1);r[_-4>>2]=r[o>>2],r[h>>2]=(r[h>>2]|0)-4}function tf(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;g=n+4|0,h=n|0,y=r[h>>2]|0,B=y,w=(r[g>>2]|0)-B|0,_=w>>2,m=_+1|0,m>>>0>1073741823&&qi(0),n=n+8|0,B=(r[n>>2]|0)-B|0,B>>2>>>0<536870911?(B=B>>1,q=B>>>0<m>>>0?m:B,(q|0)==0?(B=0,q=0):C=5):(q=1073741823,C=5),(C|0)==5&&(B=It(q<<2)|0),_=B+(_<<2)|0,(_|0)!=0&&(r[_>>2]=r[o>>2]),o=y,Tt(B|0,o|0,w)|0,r[h>>2]=B,r[g>>2]=B+(m<<2),r[n>>2]=B+(q<<2),(y|0)!=0&&$0(o)}function ch(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;g=n+4|0,h=n|0,y=r[h>>2]|0,B=y,w=(r[g>>2]|0)-B|0,_=w>>2,m=_+1|0,m>>>0>1073741823&&qi(0),n=n+8|0,B=(r[n>>2]|0)-B|0,B>>2>>>0<536870911?(B=B>>1,q=B>>>0<m>>>0?m:B,(q|0)==0?(B=0,q=0):C=5):(q=1073741823,C=5),(C|0)==5&&(B=It(q<<2)|0),_=B+(_<<2)|0,(_|0)!=0&&(r[_>>2]=r[o>>2]),o=y,Tt(B|0,o|0,w)|0,r[h>>2]=B,r[g>>2]=B+(m<<2),r[n>>2]=B+(q<<2),(y|0)!=0&&$0(o)}function rf(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0;m=n+4|0,g=r[m>>2]|0,o=n+16|0,C=r[o>>2]|0,_=g+(C>>>10<<2)|0,h=n+8|0,y=r[h>>2]|0,(y|0)==(g|0)?(w=0,C=0,n=n+20|0):(n=n+20|0,w=C+(r[n>>2]|0)|0,w=(r[g+(w>>>10<<2)>>2]|0)+((w&1023)<<2)|0,C=(r[_>>2]|0)+((C&1023)<<2)|0);e:for(;;){do{if((C|0)==(w|0))break e;C=C+4|0}while((C-(r[_>>2]|0)|0)!=4096);C=_+4|0,_=C,C=r[C>>2]|0}if(r[n>>2]=0,w=y-g>>2,w>>>0>2)do $0(r[g>>2]|0),g=(r[m>>2]|0)+4|0,r[m>>2]=g,w=(r[h>>2]|0)-g>>2;while(w>>>0>2);if((w|0)==2){r[o>>2]=1024;return}else if((w|0)==1){r[o>>2]=512;return}else return}function sf(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0;g=D,D=D+40|0,y=g|0,_=g+16|0,le=g+32|0,w=y|0,r[w>>2]=0,m=y+4|0,r[m>>2]=0,B=y+8|0,r[B>>2]=0,C=o+376220|0,te=r[r[C>>2]>>2]|0,re=o+377208|0;e:do if(Tc(j[re]|0)|0){if((j[o+376205|0]|0)==0||(qe=r[C>>2]|0,oe=r[qe+92>>2]|0,ue=n+376156|0,Ve=r[ue>>2]|0,ve=n+376152|0,Te=r[ve>>2]|0,(Ve-Te|0)<=0))break;pe=o+376156|0,ne=o+376152|0,ge=0;t:for(;;){Be=r[ne>>2]|0,(r[pe>>2]|0)-Be>>2>>>0>ge>>>0?ze=r[Be+(ge<<2)>>2]|0:ze=0;do if((r[ze+96>>2]|0)!=0){if((r[ze+92>>2]|0)>=(oe|0)||(Be=ze+104|0,!((r[Be>>2]|0)>>>0>(r[qe>>2]|0)>>>0)))break;Ye=r[ze>>2]|0,He=r[m>>2]|0,o0=r[B>>2]|0;do if(He>>>0<o0>>>0)(He|0)!=0&&(r[He>>2]=Ye),r[m>>2]=He+4;else{if(ze=r[w>>2]|0,v0=ze,He=He-v0|0,r0=He>>2,Ge=r0+1|0,Ge>>>0>1073741823)break t;if(o0=o0-v0|0,o0>>2>>>0<536870911?(o0=o0>>1,v0=o0>>>0<Ge>>>0?Ge:o0,(v0|0)==0?(o0=0,v0=0):q=20):(v0=1073741823,q=20),(q|0)==20&&(q=0,o0=It(v0<<2)|0),r0=o0+(r0<<2)|0,(r0|0)!=0&&(r[r0>>2]=Ye),Ye=ze,Tt(o0|0,Ye|0,He)|0,r[w>>2]=o0,r[m>>2]=o0+(Ge<<2),r[B>>2]=o0+(v0<<2),(ze|0)==0)break;$0(Ye),qe=r[C>>2]|0,Ve=r[ue>>2]|0,Te=r[ve>>2]|0}while(!1);r[Be>>2]=r[qe>>2]}while(!1);if(ge=ge+1|0,(ge|0)>=(Ve-Te>>2|0))break e}qi(0)}while(!1);if(ah(j[re]|0)|0)V0(o+376548|0,0,20)|0;else{if(re=h+908|0,(j[re]|0)==0)ne=0,oe=0;else{ne=0,oe=0,pe=0;do ue=(be[h+812+(pe<<1)>>1]|0)+(r[(r[C>>2]|0)+92>>2]|0)|0,(j[h+876+pe|0]|0)==0?(r[o+376696+(ne<<2)>>2]=ue,ne=ne+1|0):(r[o+376568+(oe<<2)>>2]=ue,oe=oe+1|0),pe=pe+1|0;while((pe|0)<(We[re]|0))}if(r[o+376548>>2]=oe,re=h+909|0,(j[re]|0)==0)oe=0;else{oe=0,pe=0;do ue=(be[h+844+(pe<<1)>>1]|0)+(r[(r[C>>2]|0)+92>>2]|0)|0,(j[h+892+pe|0]|0)==0?(r[o+376696+(ne<<2)>>2]=ue,ne=ne+1|0):(r[o+376632+(oe<<2)>>2]=ue,oe=oe+1|0),pe=pe+1|0;while((pe|0)<(We[re]|0))}if(r[o+376552>>2]=oe,r[o+376556>>2]=ne,oe=h+140|0,re=h+144|0,((r[re>>2]|0)+(r[oe>>2]|0)|0)>0){ne=h+28|0,pe=o+375388|0,ve=0,ge=0,ue=0;do Ve=r[o+376228+(ue<<2)>>2]|0,Te=h+244+ue|0,(j[Te]|0)!=0&&(Ve=(r[(r[C>>2]|0)+92>>2]|0)+Ve-(r[ne>>2]|0)-(s0(r[(r[pe>>2]|0)+5032>>2]|0,r[o+376356+(ue<<2)>>2]|0)|0)|0),(r[o+376292+(ue<<2)>>2]|0)==0?(r[o+376824+(ve<<2)>>2]=Ve,r[o+376484+(ve<<2)>>2]=j[Te]|0,ve=ve+1|0):(r[o+376760+(ge<<2)>>2]=Ve,r[o+376420+(ge<<2)>>2]=j[Te]|0,ge=ge+1|0),ue=ue+1|0;while((ue|0)<((r[re>>2]|0)+(r[oe>>2]|0)|0))}else ve=0,ge=0;r[o+376560>>2]=ge,r[o+376564>>2]=ve}if(re=n+376156|0,oe=n+376152|0,pe=(r[re>>2]|0)-(r[oe>>2]|0)>>2,j[le]=0,mf(_,pe,le),le=o+376560|0,pe=r[le>>2]|0,(pe|0)>0){for(pe=o+376144|0,ne=r[_>>2]|0,ve=o+376152|0,ue=o+375388|0,ge=0;;)if(Te=o+376760+(ge<<2)|0,Ve=r[Te>>2]|0,(r[o+376420+(ge<<2)>>2]|0)==0?qe=bh(pe,Ve,te,1)|0:qe=f2(pe,Ve,te,1)|0,Ve=o+377080+(ge<<2)|0,r[Ve>>2]=qe,(qe|0)>-1?(v0=ne+(qe>>>5<<2)|0,r[v0>>2]=r[v0>>2]|1<<(qe&31)):(qe=_t(n,o,r[ue>>2]|0,r[Te>>2]|0,1)|0,r[Ve>>2]=qe,v0=ne+(qe>>>5<<2)|0,r[v0>>2]=r[v0>>2]|1<<(qe&31)),(j[(r[(r[ve>>2]|0)+(qe<<2)>>2]|0)+10516|0]|0)!=0&&(j[(r[C>>2]|0)+10516|0]=4),ge=ge+1|0,Te=r[le>>2]|0,(ge|0)>=(Te|0)){pe=Te;break}}if(ne=o+376564|0,Te=r[ne>>2]|0,(Te|0)>0){pe=o+376144|0,ve=r[_>>2]|0,ge=o+375388|0,ue=0;do Te=o+376824+(ue<<2)|0,Ve=r[Te>>2]|0,(r[o+376484+(ue<<2)>>2]|0)==0?Ve=bh(pe,Ve,te,1)|0:Ve=f2(pe,Ve,te,1)|0,qe=o+377144+(ue<<2)|0,r[qe>>2]=Ve,(Ve|0)>-1?(v0=ve+(Ve>>>5<<2)|0,r[v0>>2]=r[v0>>2]|1<<(Ve&31)):(o0=_t(n,o,r[ge>>2]|0,r[Te>>2]|0,1)|0,r[qe>>2]=o0,v0=ve+(o0>>>5<<2)|0,r[v0>>2]=r[v0>>2]|1<<(o0&31)),ue=ue+1|0,Te=r[ne>>2]|0;while((ue|0)<(Te|0));le=r[le>>2]|0}else le=pe;if((le|0)>0){pe=r[o+376152>>2]|0,ne=0;do r[(r[pe+(r[o+377080+(ne<<2)>>2]<<2)>>2]|0)+96>>2]=2,ne=ne+1|0;while((ne|0)<(le|0))}if((Te|0)>0){le=r[o+376152>>2]|0,ne=0;do r[(r[le+(r[o+377144+(ne<<2)>>2]<<2)>>2]|0)+96>>2]=2,ne=ne+1|0;while((ne|0)<(Te|0))}if(ue=o+376548|0,(r[ue>>2]|0)>0){le=o+376144|0,ne=r[_>>2]|0,pe=o+376152|0,ge=o+375388|0,ve=0;do Te=o+376568+(ve<<2)|0,qe=f2(le,r[Te>>2]|0,te,0)|0,Ve=o+376888+(ve<<2)|0,r[Ve>>2]=qe,(qe|0)>-1?(v0=ne+(qe>>>5<<2)|0,r[v0>>2]=r[v0>>2]|1<<(qe&31)):(qe=_t(n,o,r[ge>>2]|0,r[Te>>2]|0,0)|0,r[Ve>>2]=qe,v0=ne+(qe>>>5<<2)|0,r[v0>>2]=r[v0>>2]|1<<(qe&31)),(j[(r[(r[pe>>2]|0)+(qe<<2)>>2]|0)+10516|0]|0)!=0&&(j[(r[C>>2]|0)+10516|0]=4),ve=ve+1|0;while((ve|0)<(r[ue>>2]|0))}if(ge=o+376552|0,(r[ge>>2]|0)>0){ne=o+376144|0,ue=r[_>>2]|0,ve=o+376152|0,pe=o+375388|0,le=0;do qe=o+376632+(le<<2)|0,Te=f2(ne,r[qe>>2]|0,te,0)|0,Ve=o+376952+(le<<2)|0,r[Ve>>2]=Te,(Te|0)>-1?(v0=ue+(Te>>>5<<2)|0,r[v0>>2]=r[v0>>2]|1<<(Te&31)):(Te=_t(n,o,r[pe>>2]|0,r[qe>>2]|0,0)|0,r[Ve>>2]=Te,v0=ue+(Te>>>5<<2)|0,r[v0>>2]=r[v0>>2]|1<<(Te&31)),(j[(r[(r[ve>>2]|0)+(Te<<2)>>2]|0)+10516|0]|0)!=0&&(j[(r[C>>2]|0)+10516|0]=4),le=le+1|0;while((le|0)<(r[ge>>2]|0))}if(n=o+376556|0,(r[n>>2]|0)>0){pe=o+376144|0,le=r[_>>2]|0,ue=0;do ne=f2(pe,r[o+376696+(ue<<2)>>2]|0,te,0)|0,r[o+377016+(ue<<2)>>2]=ne,(ne|0)>-1&&(v0=le+(ne>>>5<<2)|0,r[v0>>2]=r[v0>>2]|1<<(ne&31)),ue=ue+1|0;while((ue|0)<(r[n>>2]|0))}ne=r[re>>2]|0,pe=r[oe>>2]|0;e:do if((ne-pe|0)>0){n=r[_>>2]|0,te=o+376156|0,o=o+376152|0,le=0;t:for(;;){do if((r[n+(le>>>5<<2)>>2]&1<<(le&31)|0)==0){if(ue=r[o>>2]|0,(r[te>>2]|0)-ue>>2>>>0>le>>>0?ge=r[ue+(le<<2)>>2]|0:ge=0,ve=r[C>>2]|0,(ge|0)==(ve|0)||(ue=ge+104|0,!((r[ue>>2]|0)>>>0>(r[ve>>2]|0)>>>0))||(r[ge+96>>2]|0)==0)break;qe=r[ge>>2]|0,Te=r[m>>2]|0,ze=r[B>>2]|0;do if(Te>>>0<ze>>>0)(Te|0)!=0&&(r[Te>>2]=qe),r[m>>2]=Te+4;else{if(ge=r[w>>2]|0,He=ge,Ve=Te-He|0,Be=Ve>>2,Te=Be+1|0,Te>>>0>1073741823)break t;if(ze=ze-He|0,ze>>2>>>0<536870911?(ze=ze>>1,He=ze>>>0<Te>>>0?Te:ze,(He|0)==0?(ze=0,He=0):q=136):(He=1073741823,q=136),(q|0)==136&&(q=0,ze=It(He<<2)|0),Be=ze+(Be<<2)|0,(Be|0)!=0&&(r[Be>>2]=qe),qe=ge,Tt(ze|0,qe|0,Ve)|0,r[w>>2]=ze,r[m>>2]=ze+(Te<<2),r[B>>2]=ze+(He<<2),(ge|0)==0)break;$0(qe),ve=r[C>>2]|0,ne=r[re>>2]|0,pe=r[oe>>2]|0}while(!1);r[ue>>2]=r[ve>>2]}while(!1);if(le=le+1|0,(le|0)>=(ne-pe>>2|0))break e}qi(0)}while(!1);if(C=h+1344|0,(C|0)!=(y|0)&&vs(C,r[w>>2]|0,r[m>>2]|0),y=r[_>>2]|0,(y|0)!=0&&$0(y),w=r[w>>2]|0,(w|0)==0){D=g;return}y=r[m>>2]|0,(y|0)!=(w|0)&&(r[m>>2]=y+(~((y-4+(-w|0)|0)>>>2)<<2)),$0(w),D=g}function nf(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0;for(n=D,D=D+480|0,le=n|0,g=n+192|0,m=n+384|0,te=r[h+912>>2]|0,oe=h+328|0,ne=r[oe>>2]|0,re=(ne|0)>(te|0)?ne:te,V0(m|0,0,96)|0,q=o+376548|0,B=o+376552|0,C=o+376560|0,pe=(te|0)>(ne|0)?te:ne,y=o+376888|0,w=o+376952|0,_=o+377080|0,ue=0;;){if((ue|0)>=(re|0)){re=13;break}if(ve=r[q>>2]|0,(ve|0)>0&&(ge=(ve|0)>1?-ve|0:-1,ve=ue-pe|0,Te=ge>>>0>ve>>>0?ge:ve,Tt(le+(ue<<2)|0,y|0,Te*-4|0)|0,ue=ue-Te|0),ve=r[B>>2]|0,(ve|0)>0&(ue|0)<(re|0)&&(ge=(ve|0)>1?-ve|0:-1,ve=ue-pe|0,Te=ge>>>0>ve>>>0?ge:ve,Tt(le+(ue<<2)|0,w|0,Te*-4|0)|0,ue=ue-Te|0),ve=r[C>>2]|0,(ve|0)>0&(ue|0)<(re|0)&&(ge=(ve|0)>1?-ve|0:-1,ve=ue-pe|0,Te=ge>>>0>ve>>>0?ge:ve,Tt(le+(ue<<2)|0,_|0,Te*-4|0)|0,V0(m+ue|0,1,-Te|0)|0,ue=ue-Te|0),(ue|0)==0){re=10;break}}e:do if((re|0)==10)if(h=o+84|0,m=r[h>>2]|0,(m|0)==20){r[o+80>>2]=1001,h=0;break}else{r[h>>2]=m+1,r[o+4+(m<<2)>>2]=1016,h=0;break}else if((re|0)==13){if((ne|0)>=17)return y0(1672,14344,1781,17560),0;if((ne|0)>0)for(pe=h+336|0,ue=o+376156|0,ve=o+376152|0,ne=0;;){if((j[pe]|0)==0?ge=ne:ge=We[h+338+ne|0]|0,Te=h+916+(ne<<2)|0,r[Te>>2]=r[le+(ge<<2)>>2],j[h+1300+ne|0]=j[m+ge|0]|0,Te=r[Te>>2]|0,ge=r[ve>>2]|0,!((r[ue>>2]|0)-ge>>2>>>0>Te>>>0)){h=0;break e}if(ge=r[ge+(Te<<2)>>2]|0,(ge|0)==0){h=0;break e}if(r[h+1044+(ne<<2)>>2]=r[ge+92>>2],r[h+1172+(ne<<2)>>2]=r[ge+96>>2],ge=ne+1|0,ne=r[oe>>2]|0,(ge|0)<(ne|0))ne=ge;else break}if((r[h+20>>2]|0)!=0){h=1;break}for(oe=h+332|0,le=r[oe>>2]|0,pe=(le|0)>(te|0)?le:te,te=(te|0)>(le|0)?te:le,ue=0;!((ue|0)>=(pe|0));)if(ve=r[B>>2]|0,(ve|0)>0&&(ve=(ve|0)>1?-ve|0:-1,ge=ue-te|0,Te=ve>>>0>ge>>>0?ve:ge,Tt(g+(ue<<2)|0,w|0,Te*-4|0)|0,ue=ue-Te|0),ve=r[q>>2]|0,(ve|0)>0&(ue|0)<(pe|0)&&(ge=(ve|0)>1?-ve|0:-1,ve=ue-te|0,Te=ge>>>0>ve>>>0?ge:ve,Tt(g+(ue<<2)|0,y|0,Te*-4|0)|0,ue=ue-Te|0),ve=r[C>>2]|0,(ve|0)>0&(ue|0)<(pe|0)&&(ve=(ve|0)>1?-ve|0:-1,ge=ue-te|0,Te=ve>>>0>ge>>>0?ve:ge,Tt(g+(ue<<2)|0,_|0,Te*-4|0)|0,V0(m+48+ue|0,1,-Te|0)|0,ue=ue-Te|0),(ue|0)==0){re=32;break}if((re|0)==32)if(m=o+84|0,h=r[m>>2]|0,(h|0)==20){r[o+80>>2]=1001,h=0;break}else{r[m>>2]=h+1,r[o+4+(h<<2)>>2]=1016,h=0;break}if((ne|0)>16)if(m=o+84|0,h=r[m>>2]|0,(h|0)==20){r[o+80>>2]=1001,h=0;break}else{r[m>>2]=h+1,r[o+4+(h<<2)>>2]=1012,h=0;break}if((le|0)>=17)return y0(976,14344,1834,17560),0;if((le|0)<=0){h=1;break}for(y=h+337|0,w=o+376156|0,o=o+376152|0,_=0;;){if((j[y]|0)==0?C=_:C=We[h+354+_|0]|0,B=h+980+(_<<2)|0,r[B>>2]=r[g+(C<<2)>>2],j[h+1316+_|0]=j[m+48+C|0]|0,C=r[B>>2]|0,B=r[o>>2]|0,!((r[w>>2]|0)-B>>2>>>0>C>>>0)){h=0;break e}if(C=r[B+(C<<2)>>2]|0,(C|0)==0){h=0;break e}if(r[h+1108+(_<<2)>>2]=r[C+92>>2],r[h+1236+(_<<2)>>2]=r[C+96>>2],_=_+1|0,(_|0)>=(r[oe>>2]|0)){h=1;break}}}while(!1);return D=n,h|0}function Ul(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0;h=r[n+375388>>2]|0,m=(h|0)==0;do if(m){if(g=r[n+375384>>2]|0,(g|0)==0){g=6;break}g=(r[g+8>>2]|0)-1|0}else g=(j[h+2|0]|0)-1|0;while(!1);do if((j[n+376112|0]|0)!=(g|0)){do if(m){if(h=r[n+375384>>2]|0,(h|0)==0){B=6;break}h=r[h+8>>2]|0,o=10}else h=j[h+2|0]|0,o=10;while(!1);if((o|0)==10)if((h|0)>0)B=h-1|0;else break;for(o=B+1|0,h=n+375892|0;;){if(m=B*100|0,w=(m|0)/(o|0)|0,m=(m+100|0)/(o|0)|0,(w|0)<=(m|0))for(g=m-w|0,_=w;C=r[h>>2]|0,y=(B|0)>(C|0),B=y?C:B,j[n+375912+(_<<1)|0]=B,j[n+375912+(_<<1)+1|0]=y?100:(((_-w|0)*100|0|0)/(g|0)|0)&255,(_|0)<(m|0);)_=_+1|0;if(r[n+376116+(B<<2)>>2]=m,(B|0)>0)B=B-1|0;else break}}while(!1);C=r[n+375896>>2]|0,B=j[n+375912+(C<<1)|0]|0,r[n+375900>>2]=B,r[n+375904>>2]=j[n+375912+(C<<1)+1|0]|0,r[n+375908>>2]=B}function af(n){n=n|0;var o=0;return o=r[n+375388>>2]|0,(o|0)!=0?(o=(j[o+2|0]|0)-1|0,o|0):(n=r[n+375384>>2]|0,(n|0)==0?(o=6,o|0):(o=(r[n+8>>2]|0)-1|0,o|0))}function of(n,o){n=n|0,o=o|0,r[n+375892>>2]=o,Ul(n)}function lf(n,o){n=n|0,o=o|0;var h=0,m=0;return h=r[n+375388>>2]|0,(h|0)==0?(o=n+375896|0,o=r[o>>2]|0,o|0):(h=(j[h+2|0]|0)-1|0,(o+1|0)>>>0<3?(m=n+375900|0,o=(r[m>>2]|0)+o|0,o=(o|0)<0?0:o,h=(h|0)<(o|0)?h:o,r[m>>2]=h,o=n+375896|0,r[o>>2]=r[n+376116+(h<<2)>>2],Ul(n),o=r[o>>2]|0,o|0):(y0(16816,14344,2161,17712),0))}function uf(n,o){n=n|0,o=o|0,r[n+375896>>2]=o,Ul(n)}function cf(n){n=n|0;var o=0,h=0,m=0;return h=n+80|0,o=r[h>>2]|0,(o|0)==0?(h=0,h|0):(m=r[n>>2]|0,o=o-1|0,r[h>>2]=o,Gi(n|0,n+4|0,o<<2|0)|0,h=m,h|0)}function hf(n,o){n=n|0,o=o|0;var h=0;return h=r[n+376152>>2]|0,(r[n+376156>>2]|0)-h>>2>>>0>o>>>0?(n=r[h+(o<<2)>>2]|0,n|0):(n=0,n|0)}function df(n,o){return n=n|0,o=o|0,(o|0)>-1?(o=((r[n+376156>>2]|0)-(r[n+376152>>2]|0)>>2|0)>(o|0),o|0):(o=0,o|0)}function ff(n){}function pf(n){n=n|0,$0(n)}function mf(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0;if(w=n|0,r[w>>2]=0,g=n+4|0,r[g>>2]=0,y=n+8|0,r[y>>2]=0,(o|0)!=0)if((o|0)<0&&qi(0),_=((o-1|0)>>>5)+1|0,m=It(_<<2)|0,n=m,r[w>>2]=n,r[y>>2]=_,y=(j[h]|0)==0,r[g>>2]=o,g=o>>>5,h=g<<2,y){if(V0(m|0,0,h|0)|0,m=g<<5,(m|0)==(o|0))return;_=n+(g<<2)|0,r[_>>2]=r[_>>2]&~(-1>>>((32-o+m|0)>>>0));return}else{if(V0(m|0,-1,h|0)|0,m=g<<5,(m|0)==(o|0))return;_=n+(g<<2)|0,r[_>>2]=r[_>>2]|-1>>>((32-o+m|0)>>>0);return}}function vs(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0;if(m=o,g=h-m>>2,y=n+8|0,q=r[y>>2]|0,w=n|0,C=r[w>>2]|0,B=C,!(g>>>0>q-B>>2>>>0)){if(w=n+4|0,y=(r[w>>2]|0)-B|0,_=y>>2,!(g>>>0>_>>>0)){if(h=h-m|0,Gi(C|0,o|0,h|0)|0,h=C+(h>>2<<2)|0,o=r[w>>2]|0,(o|0)==(h|0))return;r[w>>2]=o+(~((o-4+(-h|0)|0)>>>2)<<2);return}if(m=o+(_<<2)|0,Gi(C|0,o|0,y|0)|0,(m|0)==(h|0))return;for(g=r[w>>2]|0,o=(h-4+(-m|0)|0)>>>2,y=g;(y|0)!=0&&(r[y>>2]=r[m>>2]),m=m+4|0,(m|0)!=(h|0);)y=y+4|0;r[w>>2]=g+(o+1<<2);return}(C|0)!=0&&(q=n+4|0,te=r[q>>2]|0,(te|0)!=(C|0)&&(r[q>>2]=te+(~((te-4+(-B|0)|0)>>>2)<<2)),$0(C),r[y>>2]=0,r[q>>2]=0,r[w>>2]=0,q=0),g>>>0>1073741823&&qi(0);do if(q>>2>>>0<536870911){if(C=q>>1,g=C>>>0<g>>>0?g:C,!(g>>>0>1073741823)){_=g;break}qi(0)}else _=1073741823;while(!1);if(g=It(_<<2)|0,n=n+4|0,r[n>>2]=g,r[w>>2]=g,r[y>>2]=g+(_<<2),(o|0)!=(h|0)){for(m=(h-4+(-m|0)|0)>>>2,w=g;(w|0)!=0&&(r[w>>2]=r[o>>2]),o=o+4|0,(o|0)!=(h|0);)w=w+4|0;r[n>>2]=g+(m+1<<2)}}function hh(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0;if(m=n+8|0,h=n+4|0,g=r[h>>2]|0,_=r[m>>2]|0,y=g,!(_-y>>3>>>0<o>>>0)){do(g|0)==0?m=0:(qs(g),m=r[h>>2]|0),g=m+8|0,r[h>>2]=g,o=o-1|0;while((o|0)!=0);return}g=n|0,C=r[g>>2]|0,y=y-C>>3,n=y+o|0,n>>>0>536870911&&qi(0),_=_-C|0,_>>3>>>0<268435455?(_=_>>2,n=_>>>0<n>>>0?n:_,(n|0)==0?(_=0,n=0):w=9):(n=536870911,w=9),(w|0)==9&&(_=It(n<<3)|0),y=_+(y<<3)|0,w=_+(n<<3)|0,_=y;do(_|0)==0?_=0:qs(_),_=_+8|0,o=o-1|0;while((o|0)!=0);o=r[g>>2]|0,n=r[h>>2]|0;do if((n|0)==(o|0))r[g>>2]=y,r[h>>2]=_,r[m>>2]=w;else{do y=y-8|0,n=n-8|0,q1(y,n);while((n|0)!=(o|0));if(o=r[g>>2]|0,n=r[h>>2]|0,r[g>>2]=y,r[h>>2]=_,r[m>>2]=w,(n|0)==(o|0))break;do n=n-8|0,ts(n);while((n|0)!=(o|0))}while(!1);(o|0)!=0&&$0(o)}function gf(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;g=n+4|0,h=n|0,y=r[h>>2]|0,B=y,w=(r[g>>2]|0)-B|0,_=w>>2,m=_+1|0,m>>>0>1073741823&&qi(0),n=n+8|0,B=(r[n>>2]|0)-B|0,B>>2>>>0<536870911?(B=B>>1,q=B>>>0<m>>>0?m:B,(q|0)==0?(B=0,q=0):C=5):(q=1073741823,C=5),(C|0)==5&&(B=It(q<<2)|0),_=B+(_<<2)|0,(_|0)!=0&&(r[_>>2]=r[o>>2]),o=y,Tt(B|0,o|0,w)|0,r[h>>2]=B,r[g>>2]=B+(m<<2),r[n>>2]=B+(q<<2),(y|0)!=0&&$0(o)}function yf(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;g=n+4|0,h=n|0,y=r[h>>2]|0,B=y,w=(r[g>>2]|0)-B|0,_=w>>2,m=_+1|0,m>>>0>1073741823&&qi(0),n=n+8|0,B=(r[n>>2]|0)-B|0,B>>2>>>0<536870911?(B=B>>1,q=B>>>0<m>>>0?m:B,(q|0)==0?(B=0,q=0):C=5):(q=1073741823,C=5),(C|0)==5&&(B=It(q<<2)|0),_=B+(_<<2)|0,(_|0)!=0&&(r[_>>2]=r[o>>2]),o=y,Tt(B|0,o|0,w)|0,r[h>>2]=B,r[g>>2]=B+(m<<2),r[n>>2]=B+(q<<2),(y|0)!=0&&$0(o)}function Af(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;w=n+4|0,m=n|0,h=r[m>>2]|0,B=h,y=(r[w>>2]|0)-B|0,_=(y|0)/80|0,g=_+1|0,g>>>0>53687091&&qi(0),n=n+8|0,B=((r[n>>2]|0)-B|0)/80|0,B>>>0<26843545?(B=B<<1,q=B>>>0<g>>>0?g:B,(q|0)==0?(B=0,q=0):C=5):(q=53687091,C=5),(C|0)==5&&(B=It(q*80|0)|0),C=B+(_*80|0)|0,(C|0)!=0&&Tt(C|0,o|0,80)|0,C=B+((((y|0)/-80|0)+_|0)*80|0)|0,o=h,Tt(C|0,o|0,y)|0,r[m>>2]=C,r[w>>2]=B+(g*80|0),r[n>>2]=B+(q*80|0),(h|0)!=0&&$0(o)}function vf(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;g=n+4|0,h=n|0,y=r[h>>2]|0,B=y,w=(r[g>>2]|0)-B|0,_=w>>2,m=_+1|0,m>>>0>1073741823&&qi(0),n=n+8|0,B=(r[n>>2]|0)-B|0,B>>2>>>0<536870911?(B=B>>1,q=B>>>0<m>>>0?m:B,(q|0)==0?(B=0,q=0):C=5):(q=1073741823,C=5),(C|0)==5&&(B=It(q<<2)|0),_=B+(_<<2)|0,(_|0)!=0&&(r[_>>2]=r[o>>2]),o=y,Tt(B|0,o|0,w)|0,r[h>>2]=B,r[g>>2]=B+(m<<2),r[n>>2]=B+(q<<2),(y|0)!=0&&$0(o)}function dh(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;if(B=o,y=(h-B|0)/100|0,w=n+8|0,q=r[w>>2]|0,g=n|0,_=r[g>>2]|0,C=_,!(y>>>0>((q-C|0)/100|0)>>>0)){if(m=n+4|0,g=(r[m>>2]|0)-C|0,w=(g|0)/100|0,!(y>>>0>w>>>0)){if(h=h-B|0,Gi(_|0,o|0,h|0)|0,o=_+(((h|0)/100|0)*100|0)|0,h=r[m>>2]|0,(h|0)==(o|0))return;r[m>>2]=h+(~(((h-100+(-o|0)|0)>>>0)/100|0)*100|0);return}if(w=o+(w*100|0)|0,Gi(_|0,o|0,g|0)|0,(w|0)==(h|0))return;o=r[m>>2]|0;do(o|0)==0?o=0:(Tt(o|0,w|0,100)|0,o=r[m>>2]|0),o=o+100|0,r[m>>2]=o,w=w+100|0;while((w|0)!=(h|0));return}(_|0)!=0&&(q=n+4|0,B=r[q>>2]|0,(B|0)!=(_|0)&&(r[q>>2]=B+(~(((B-100+(-C|0)|0)>>>0)/100|0)*100|0)),$0(_),r[w>>2]=0,r[q>>2]=0,r[g>>2]=0,q=0),y>>>0>42949672&&qi(0),_=(q|0)/100|0;do if(_>>>0<21474836){if(_=_<<1,y=_>>>0<y>>>0?y:_,!(y>>>0>42949672)){m=y;break}qi(0)}else m=42949672;while(!1);if(_=It(m*100|0)|0,y=n+4|0,r[y>>2]=_,r[g>>2]=_,r[w>>2]=_+(m*100|0),(o|0)!=(h|0))do(_|0)==0?m=0:(Tt(_|0,o|0,100)|0,m=r[y>>2]|0),_=m+100|0,r[y>>2]=_,o=o+100|0;while((o|0)!=(h|0))}function fh(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0;if(y=h-o|0,g=n+8|0,B=r[g>>2]|0,m=n|0,_=r[m>>2]|0,C=_,!(y>>>0>(B-C|0)>>>0)){if(m=n+4|0,g=(r[m>>2]|0)-C|0,!(y>>>0>g>>>0)){if(Gi(_|0,o|0,y|0)|0,h=_+y|0,(r[m>>2]|0)==(h|0))return;r[m>>2]=h;return}if(w=o+g|0,Gi(_|0,o|0,g|0)|0,(w|0)==(h|0))return;o=r[m>>2]|0;do(o|0)==0?o=0:(j[o]=j[w]|0,o=r[m>>2]|0),o=o+1|0,r[m>>2]=o,w=w+1|0;while((w|0)!=(h|0));return}(_|0)!=0&&(C=n+4|0,(r[C>>2]|0)!=(_|0)&&(r[C>>2]=_),$0(_),r[g>>2]=0,r[C>>2]=0,r[m>>2]=0,B=0),(y|0)<0&&qi(0);do if(B>>>0<1073741823){if(_=B<<1,y=_>>>0<y>>>0?y:_,(y|0)>=0){w=y;break}qi(0)}else w=2147483647;while(!1);if(_=It(w)|0,y=n+4|0,r[y>>2]=_,r[m>>2]=_,r[g>>2]=_+w,(o|0)!=(h|0))do(_|0)==0?m=0:(j[_]=j[o]|0,m=r[y>>2]|0),_=m+1|0,r[y>>2]=_,o=o+1|0;while((o|0)!=(h|0))}function ph(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0;if(m=o,q=h-m|0,_=q>>1,y=n+8|0,te=r[y>>2]|0,w=n|0,C=r[w>>2]|0,B=C,!(_>>>0>te-B>>1>>>0)){if(g=n+4|0,w=(r[g>>2]|0)-B|0,y=w>>1,!(_>>>0>y>>>0)){if(h=h-m|0,Gi(C|0,o|0,h|0)|0,h=C+(h>>1<<1)|0,o=r[g>>2]|0,(o|0)==(h|0))return;r[g>>2]=o+(~((o-2+(-h|0)|0)>>>1)<<1);return}if(m=o+(y<<1)|0,Gi(C|0,o|0,w|0)|0,(m|0)==(h|0))return;for(o=r[g>>2]|0,w=(h-2+(-m|0)|0)>>>1,y=o;(y|0)!=0&&(be[y>>1]=be[m>>1]|0),m=m+2|0,(m|0)!=(h|0);)y=y+2|0;r[g>>2]=o+(w+1<<1);return}(C|0)!=0&&(te=n+4|0,re=r[te>>2]|0,(re|0)!=(C|0)&&(r[te>>2]=re+(~((re-2+(-B|0)|0)>>>1)<<1)),$0(C),r[y>>2]=0,r[te>>2]=0,r[w>>2]=0,te=0),(q|0)<0&&qi(0);do if(te>>1>>>0<1073741823){if(_=te>>>0<_>>>0?_:te,(_|0)>=0){g=_;break}qi(0)}else g=2147483647;while(!1);if(_=It(g<<1)|0,n=n+4|0,r[n>>2]=_,r[w>>2]=_,r[y>>2]=_+(g<<1),(o|0)!=(h|0)){for(m=(h-2+(-m|0)|0)>>>1,g=_;(g|0)!=0&&(be[g>>1]=be[o>>1]|0),o=o+2|0,(o|0)!=(h|0);)g=g+2|0;r[n>>2]=_+(m+1<<1)}}function mh(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;if(C=o,g=(h-C|0)/12|0,w=n+8|0,q=r[w>>2]|0,y=n|0,m=r[y>>2]|0,B=m,g>>>0>((q-B|0)/12|0)>>>0){if((m|0)!=0){if(C=n+4|0,B=r[C>>2]|0,(B|0)!=(m|0)){do B=B-12|0,r[C>>2]=B,q=r[B>>2]|0,(q|0)!=0&&($0(q),B=r[C>>2]|0);while((B|0)!=(m|0));m=r[y>>2]|0}$0(m),r[w>>2]=0,r[C>>2]=0,r[y>>2]=0,q=0}g>>>0>357913941&&qi(0),m=(q|0)/12|0;do if(m>>>0<178956970){if(m=m<<1,m=m>>>0<g>>>0?g:m,!(m>>>0>357913941)){_=m;break}qi(0)}else _=357913941;while(!1);q=It(_*12|0)|0,r[n+4>>2]=q,r[y>>2]=q,r[w>>2]=q+(_*12|0),gh(n,o,h);return}if(w=n+4|0,y=((r[w>>2]|0)-B|0)/12|0,g>>>0>y>>>0?(g=1,y=o+(y*12|0)|0):(g=0,y=h),(y|0)!=(o|0)){for(_=y-12+(-C|0)|0,C=m;bf(C,o)|0,o=o+12|0,(o|0)!=(y|0);)C=C+12|0;m=m+((((_>>>0)/12|0)+1|0)*12|0)|0}if(g){gh(n,y,h);return}if(h=r[w>>2]|0,(h|0)!=(m|0))do h=h-12|0,r[w>>2]=h,n=r[h>>2]|0,(n|0)!=0&&($0(n),h=r[w>>2]|0);while((h|0)!=(m|0))}function gh(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0;if(m=D,D=D+16|0,g=m|0,w=m+8|0,(o|0)==(h|0)){D=m;return}_=n+4|0,C=g|0,B=g+4|0,y=w|0,n=w+4|0,te=r[_>>2]|0;e:for(;;){do if((te|0)!=0){if(ne=te|0,r[ne>>2]=0,oe=te+4|0,r[oe>>2]=0,re=te+8|0,r[re>>2]=0,q=o+4|0,le=r[q>>2]|0,(le|0)==0)break;if((le|0)<0){h=6;break e}le=((le-1|0)>>>5)+1|0,pe=It(le<<2)|0,r[ne>>2]=pe,r[oe>>2]=0,r[re>>2]=le,le=r[o>>2]|0,r[C>>2]=le,r[B>>2]=0,ne=r[q>>2]|0,r[y>>2]=le+(ne>>>5<<2),r[n>>2]=ne&31,wf(te,g,w)}while(!1);if(te=(r[_>>2]|0)+12|0,r[_>>2]=te,o=o+12|0,(o|0)==(h|0)){h=9;break}}if((h|0)==6)qi(0);else if((h|0)==9){D=m;return}}function wf(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0;if(m=D,D=D+32|0,te=o,ne=D,D=D+8|0,r[ne>>2]=r[te>>2],r[ne+4>>2]=r[te+4>>2],te=h,oe=D,D=D+8|0,r[oe>>2]=r[te>>2],r[oe+4>>2]=r[te+4>>2],te=m|0,B=m+8|0,C=m+16|0,h=m+24|0,w=n+4|0,pe=r[w>>2]|0,re=r[ne>>2]|0,ne=r[ne+4>>2]|0,le=r[oe>>2]|0,oe=r[oe+4>>2]|0,q=re,o=ne,y=oe,_=le-q<<3,r[w>>2]=pe-o+y+_,w=r[n>>2]|0,g=pe>>>5,n=w+(g<<2)|0,pe=pe&31,(o|0)!=(pe|0)){r[te>>2]=re,r[te+4>>2]=ne,r[B>>2]=le,r[B+4>>2]=oe,r[C>>2]=n,r[C+4>>2]=pe,_f(h,te,B,C),D=m;return}y=y-o+_|0;do if((y|0)>0){if((o|0)==0?o=0:(_=32-o|0,pe=(y|0)<(_|0)?y:_,ne=-1>>>((_-pe|0)>>>0)&-1<<o,r[n>>2]=r[n>>2]&~ne|r[q>>2]&ne,o=pe+o|0,y=y-pe|0,q=q+4|0,n=w+((o>>>5)+g<<2)|0,o=o&31),w=y>>>5,Gi(n|0,q|0,w<<2|0)|0,g=y-(w<<5)|0,n=n+(w<<2)|0,(g|0)<=0)break;o=-1>>>((32-g|0)>>>0),r[n>>2]=r[n>>2]&~o|r[q+(w<<2)>>2]&o,o=g}while(!1);r[h>>2]=n,r[h+4>>2]=o,D=m}function _f(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0;if(g=D,le=o,_=D,D=D+8|0,r[_>>2]=r[le>>2],r[_+4>>2]=r[le+4>>2],le=h,w=D,D=D+8|0,r[w>>2]=r[le>>2],r[w+4>>2]=r[le+4>>2],h=_|0,o=r[h>>2]|0,_=r[_+4>>2]|0,w=(r[w+4>>2]|0)-_+((r[w>>2]|0)-o<<3)|0,(w|0)<=0){oe=m+4|0,le=n|0,re=m|0,re=r[re>>2]|0,r[le>>2]=re,le=n+4|0,oe=r[oe>>2]|0,r[le>>2]=oe,D=g;return}if((_|0)==0?te=r[m+4>>2]|0:(C=32-_|0,y=(w|0)<(C|0)?w:C,C=-1>>>((C-y|0)>>>0)&-1<<_&r[o>>2],q=m+4|0,le=r[q>>2]|0,oe=32-le|0,B=oe>>>0<y>>>0?oe:y,te=m|0,re=r[te>>2]|0,oe=r[re>>2]&~(-1>>>((oe-B|0)>>>0)&-1<<le),r[re>>2]=oe,le=r[q>>2]|0,le>>>0>_>>>0?le=C<<le-_:le=C>>>((_-le|0)>>>0),r[re>>2]=oe|le,oe=(r[q>>2]|0)+B|0,re=re+(oe>>>5<<2)|0,r[te>>2]=re,te=oe&31,r[q>>2]=te,oe=y-B|0,(oe|0)>0&&(r[re>>2]=r[re>>2]&~(-1>>>((32-oe|0)>>>0))|C>>>((_+B|0)>>>0),r[q>>2]=oe,te=oe),o=o+4|0,r[h>>2]=o,w=w-y|0),y=m+4|0,_=32-te|0,C=-1<<te,w>>>0>31){q=~C,B=m|0,te=r[B>>2]|0,re=te,te=r[te>>2]|0;do le=r[o>>2]|0,oe=te&q,r[re>>2]=oe,r[re>>2]=oe|le<<r[y>>2],re=re+4|0,te=r[re>>2]&C|le>>>(_>>>0),r[re>>2]=te,w=w-32|0,o=o+4|0;while(w>>>0>31);r[h>>2]=o,r[B>>2]=re}if((w|0)<=0){oe=y,le=n|0,re=m|0,re=r[re>>2]|0,r[le>>2]=re,le=n+4|0,oe=r[oe>>2]|0,r[le>>2]=oe,D=g;return}if(h=r[o>>2]&-1>>>((32-w|0)>>>0),o=(_|0)<(w|0)?_:w,oe=m|0,re=r[oe>>2]|0,le=r[re>>2]&~(-1<<r[y>>2]&-1>>>((_-o|0)>>>0)),r[re>>2]=le,r[re>>2]=le|h<<r[y>>2],le=(r[y>>2]|0)+o|0,_=re+(le>>>5<<2)|0,r[oe>>2]=_,r[y>>2]=le&31,w=w-o|0,(w|0)<=0){oe=y,le=n|0,re=m|0,re=r[re>>2]|0,r[le>>2]=re,le=n+4|0,oe=r[oe>>2]|0,r[le>>2]=oe,D=g;return}r[_>>2]=r[_>>2]&~(-1>>>((32-w|0)>>>0))|h>>>(o>>>0),r[y>>2]=w,oe=y,le=n|0,re=m|0,re=r[re>>2]|0,r[le>>2]=re,le=n+4|0,oe=r[oe>>2]|0,r[le>>2]=oe,D=g}function bf(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0;if((n|0)==(o|0))return n|0;if(h=o+4|0,y=r[h>>2]|0,(y|0)==0)h=0;else{g=n+8|0,w=n|0,m=r[w>>2]|0;do if(y>>>0>r[g>>2]<<5>>>0){if((m|0)!=0&&($0(m),r[w>>2]=0,r[g>>2]=0,r[n+4>>2]=0,y=r[h>>2]|0),(y|0)<0)return qi(0),0;y=((y-1|0)>>>5)+1|0,m=It(y<<2)|0,r[w>>2]=m,r[n+4>>2]=0,r[g>>2]=y,y=r[h>>2]|0;break}while(!1);Gi(m|0,r[o>>2]|0,((y-1|0)>>>5<<2)+4|0)|0,h=r[h>>2]|0}return r[n+4>>2]=h,n|0}function kf(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;g=n+4|0,h=n|0,y=r[h>>2]|0,B=y,w=(r[g>>2]|0)-B|0,_=w>>2,m=_+1|0,m>>>0>1073741823&&qi(0),n=n+8|0,B=(r[n>>2]|0)-B|0,B>>2>>>0<536870911?(B=B>>1,q=B>>>0<m>>>0?m:B,(q|0)==0?(B=0,q=0):C=5):(q=1073741823,C=5),(C|0)==5&&(B=It(q<<2)|0),_=B+(_<<2)|0,(_|0)!=0&&(r[_>>2]=r[o>>2]),o=y,Tt(B|0,o|0,w)|0,r[h>>2]=B,r[g>>2]=B+(m<<2),r[n>>2]=B+(q<<2),(y|0)!=0&&$0(o)}function Sf(n){n=n|0,r[n+776>>2]=0,r[n+780>>2]=0,r[n+784>>2]=0,qs(n+1332|0),r[n+1344>>2]=0,r[n+1348>>2]=0,r[n+1352>>2]=0,u2(n)}function $r(n){n=n|0;var o=0,h=0,m=0,g=0;if(h=r[n+640>>2]|0,(h|0)!=0&&(o=n+644|0,(r[o>>2]|0)!=(h|0)&&(r[o>>2]=h),$0(h)),h=r[n+628>>2]|0,(h|0)!=0&&(o=n+632|0,m=r[o>>2]|0,(m|0)!=(h|0)&&(r[o>>2]=m+(~((m-2+(-h|0)|0)>>>1)<<1)),$0(h)),o=n+592|0,h=r[o>>2]|0,(h|0)!=0){if(n=n+596|0,g=r[n>>2]|0,(g|0)!=(h|0)){do g=g-12|0,r[n>>2]=g,m=r[g>>2]|0,(m|0)!=0&&($0(m),g=r[n>>2]|0);while((g|0)!=(h|0));h=r[o>>2]|0}$0(h)}}function Ef(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0;m=n+4|0,g=r[m>>2]|0,o=n+16|0,C=r[o>>2]|0,_=g+(C>>>10<<2)|0,h=n+8|0,y=r[h>>2]|0,(y|0)==(g|0)?(w=0,C=0,n=n+20|0):(n=n+20|0,w=C+(r[n>>2]|0)|0,w=(r[g+(w>>>10<<2)>>2]|0)+((w&1023)<<2)|0,C=(r[_>>2]|0)+((C&1023)<<2)|0);e:for(;;){do{if((C|0)==(w|0))break e;C=C+4|0}while((C-(r[_>>2]|0)|0)!=4096);C=_+4|0,_=C,C=r[C>>2]|0}if(r[n>>2]=0,w=y-g>>2,w>>>0>2)do $0(r[g>>2]|0),g=(r[m>>2]|0)+4|0,r[m>>2]=g,w=(r[h>>2]|0)-g>>2;while(w>>>0>2);if((w|0)==2){r[o>>2]=1024;return}else if((w|0)==1){r[o>>2]=512;return}else return}function yh(n){n=n|0,r[n>>2]=30,r[n+4>>2]=20,r[n+8>>2]=2,r[n+12>>2]=2,r[n+16>>2]=8,r[n+20>>2]=40,r[n+24>>2]=6,r[n+28>>2]=2,r[n+32>>2]=6,r[n+36>>2]=8,r[n+40>>2]=8,r[n+44>>2]=8,r[n+48>>2]=26,r[n+52>>2]=28,r[n+56>>2]=52,r[n+60>>2]=44,r[n+64>>2]=86,r[n+68>>2]=6,r[n+72>>2]=36,r[n+76>>2]=56,r[n+80>>2]=14,r[n+84>>2]=64,r[n+88>>2]=48,r[n+92>>2]=112,r[n+96>>2]=8,r[n+100>>2]=22,r[n+104>>2]=32,r[n+108>>2]=84,r[n+112>>2]=2,r[n+116>>2]=4,r[n+120>>2]=4,r[n+124>>2]=4,r[n+128>>2]=42,r[n+132>>2]=6,r[n+136>>2]=18,r[n+140>>2]=12,r[n+144>>2]=2,r[n+148>>2]=26,r[n+152>>2]=24,r[n+156>>2]=32,r[n+160>>2]=40,r[n+164>>2]=34,r[n+168>>2]=20,r[n+172>>2]=36,r[n+176>>2]=22,r[n+180>>2]=14,r[n+184>>2]=4,r[n+188>>2]=44,r[n+204>>2]=22,r[n+212>>2]=20,r[n+208>>2]=36,r[n+192>>2]=4,r[n+200>>2]=10,r[n+196>>2]=40,r[n+216>>2]=28,r[n+220>>2]=12,r[n+224>>2]=38,r[n+228>>2]=16,r[n+232>>2]=30,r[n+236>>2]=16,r[n+240>>2]=40,r[n+244>>2]=12,r[n+248>>2]=18,r[n+252>>2]=24,r[n+256>>2]=26,r[n+260>>2]=52,r[n+284>>2]=14,r[n+288>>2]=4,r[n+296>>2]=16,r[n+292>>2]=2,r[n+300>>2]=10,r[n+264>>2]=10,r[n+268>>2]=4,r[n+272>>2]=14,r[n+276>>2]=2,r[n+280>>2]=28,r[n+304>>2]=24,r[n+308>>2]=8,r[n+312>>2]=32,r[n+316>>2]=14,r[n+320>>2]=20,r[n+324>>2]=18,r[n+328>>2]=6,r[n+332>>2]=2,r[n+336>>2]=26}function Tf(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0;if(!((m|0)<=0)){w=(1<<g)-1|0,y=0;do{_=s0(y,o)|0,C=s0(y,m)|0,B=0;do g=n+(B+_)|0,q=(We[g]|0)+(r[h+(B+C<<2)>>2]|0)|0,(q|0)<0?q=0:q=((q|0)>(w|0)?w:q)&255,j[g]=q,B=B+1|0;while((B|0)<(m|0));y=y+1|0}while((y|0)<(m|0))}}function xf(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0;if(!((m|0)<=0)){w=(1<<g)-1|0,y=0;do{_=s0(y,o)|0,C=s0(y,m)|0,B=0;do g=n+(B+_<<1)|0,q=(f0[g>>1]|0)+(r[h+(B+C<<2)>>2]|0)|0,(q|0)<0?q=0:q=((q|0)>(w|0)?w:q)&65535,be[g>>1]=q,B=B+1|0;while((B|0)<(m|0));y=y+1|0}while((y|0)<(m|0))}}function Cf(n,o,h){y0(15968,16560,51,18680)}function Df(n,o,h,m){y0(15968,16560,68,18648)}function Rf(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0;if(w=1<<g-1,(h|0)>0)y=0;else return;do{_=s0(y,h)|0,C=0;do B=C+_|0,r[n+(B<<2)>>2]=(be[o+(B<<1)>>1]<<m)+w>>g,C=C+1|0;while((C|0)<(h|0));y=y+1|0}while((y|0)<(h|0))}function Lf(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0,q=0;if(w=h+5|0,y=1<<h,(y|0)>0)g=0;else return;do{C=0,_=0;do C=((be[o+((_<<h)+g<<1)>>1]<<w)+2048>>12)+C|0,B=n+((s0(_,m)|0)+g)|0,q=C+(We[B]|0)|0,(q|0)<0?q=0:q=(q|0)>255?-1:q&255,j[B]=q,_=_+1|0;while((_|0)<(y|0));g=g+1|0}while((g|0)<(y|0))}function If(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0;if(w=h+5|0,_=1<<h,(_|0)>0)y=0;else return;do{g=y<<h,C=s0(y,m)|0,q=0,B=0;do q=((be[o+(B+g<<1)>>1]<<w)+2048>>12)+q|0,te=n+(B+C)|0,re=q+(We[te]|0)|0,(re|0)<0?re=0:re=(re|0)>255?-1:re&255,j[te]=re,B=B+1|0;while((B|0)<(_|0));y=y+1|0}while((y|0)<(_|0))}function Pf(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0;if((h|0)>0)m=0;else return;do{w=0,g=0;do y=(s0(g,h)|0)+m|0,w=(be[o+(y<<1)>>1]|0)+w|0,r[n+(y<<2)>>2]=w,g=g+1|0;while((g|0)<(h|0));m=m+1|0}while((m|0)<(h|0))}function Bf(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0;if((h|0)>0)m=0;else return;do{g=s0(m,h)|0,y=0,w=0;do _=w+g|0,y=(be[o+(_<<1)>>1]|0)+y|0,r[n+(_<<2)>>2]=y,w=w+1|0;while((w|0)<(h|0));m=m+1|0}while((m|0)<(h|0))}function Mf(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0;if(w=1<<g-1,(h|0)>0)y=0;else return;do{C=0,_=0;do B=(s0(_,h)|0)+y|0,C=((be[o+(B<<1)>>1]<<m)+w>>g)+C|0,r[n+(B<<2)>>2]=C,_=_+1|0;while((_|0)<(h|0));y=y+1|0}while((y|0)<(h|0))}function Uf(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0;if(w=1<<g-1,(h|0)>0)y=0;else return;do{_=s0(y,h)|0,B=0,C=0;do q=C+_|0,B=((be[o+(q<<1)>>1]<<m)+w>>g)+B|0,r[n+(q<<2)>>2]=B,C=C+1|0;while((C|0)<(h|0));y=y+1|0}while((y|0)<(h|0))}function Ff(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0;if((h|0)>0)m=0;else return;do{g=s0(m,h)|0,w=0;do y=w+g|0,r[n+(y<<2)>>2]=be[o+(y<<1)>>1]|0,w=w+1|0;while((w|0)<(h|0));m=m+1|0}while((m|0)<(h|0))}function Of(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;if(h=(o|0)/2|0,!((o|0)<=1)){m=o-1|0,g=0;do{w=s0(g,o)|0,y=m+(s0(m-g|0,o)|0)|0,_=0;do q=n+(_+w<<1)|0,C=n+(y-_<<1)|0,B=be[q>>1]|0,be[q>>1]=be[C>>1]|0,be[C>>1]=B,_=_+1|0;while((_|0)<(o|0));g=g+1|0}while((g|0)<(h|0))}}function Nf(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0;for(m=D,D=D+32|0,g=m|0,_=0;;){y=be[o+(_<<1)>>1]|0,w=0;do C=s0(y<<16>>16,j[27256+w|0]|0)|0,C=(s0(be[o+(_+4<<1)>>1]|0,j[27260+w|0]|0)|0)+C|0,C=(s0(be[o+(_+8<<1)>>1]|0,j[27264+w|0]|0)|0)+C|0,C=(s0(be[o+(_+12<<1)>>1]|0,j[27268+w|0]|0)|0)+C+64>>7,(C|0)<-32768?C=-32768:C=(C|0)>32767?32767:C&65535,be[g+(w<<3)+(_<<1)>>1]=C,w=w+1|0;while((w|0)<4);if(_=_+1|0,(_|0)>=4){_=0;break}}do{C=s0(_,h)|0,B=be[g+(_<<3)>>1]|0,y=be[g+(_<<3)+2>>1]|0,q=be[g+(_<<3)+4>>1]|0,w=be[g+(_<<3)+6>>1]|0,o=0;do te=s0(B<<16>>16,j[27256+o|0]|0)|0,te=(s0(y<<16>>16,j[27260+o|0]|0)|0)+te|0,te=(s0(q<<16>>16,j[27264+o|0]|0)|0)+te|0,te=(s0(w<<16>>16,j[27268+o|0]|0)|0)+te+2048>>12,(te|0)<-32768?re=-32768:re=(te|0)>32767?32767:te,te=n+(o+C)|0,re=(We[te]|0)+re|0,(re|0)<0?re=0:re=(re|0)>255?-1:re&255,j[te]=re,o=o+1|0;while((o|0)<4);_=_+1|0}while((_|0)<4);D=m}function zf(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0;y=D,D=D+32|0,w=y|0,g=20-m|0,C=g-1|0,q=0;do{B=be[o+(q<<1)>>1]|0,_=0;do te=s0(B<<16>>16,j[27256+_|0]|0)|0,te=(s0(be[o+(q+4<<1)>>1]|0,j[27260+_|0]|0)|0)+te|0,te=(s0(be[o+(q+8<<1)>>1]|0,j[27264+_|0]|0)|0)+te|0,te=(s0(be[o+(q+12<<1)>>1]|0,j[27268+_|0]|0)|0)+te+64>>7,(te|0)<-32768?te=-32768:te=(te|0)>32767?32767:te&65535,be[w+(_<<3)+(q<<1)>>1]=te,_=_+1|0;while((_|0)<4);q=q+1|0}while((q|0)<4);_=1<<C,te=(1<<m)-1|0,m=0;do{q=s0(m,h)|0,o=be[w+(m<<3)>>1]|0,B=be[w+(m<<3)+2>>1]|0,C=be[w+(m<<3)+4>>1]|0,oe=be[w+(m<<3)+6>>1]|0,re=0;do le=s0(o<<16>>16,j[27256+re|0]|0)|0,le=(s0(B<<16>>16,j[27260+re|0]|0)|0)+le|0,le=(s0(C<<16>>16,j[27264+re|0]|0)|0)+le|0,le=(s0(oe<<16>>16,j[27268+re|0]|0)|0)+le+_>>g,(le|0)<-32768?ne=-32768:ne=(le|0)>32767?32767:le,le=n+(re+q<<1)|0,ne=(f0[le>>1]|0)+ne|0,(ne|0)<0?ne=0:ne=((ne|0)>(te|0)?te:ne)&65535,be[le>>1]=ne,re=re+1|0;while((re|0)<4);m=m+1|0}while((m|0)<4);D=y}function Gf(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0;for(m=D,D=D+32|0,g=m|0,w=0;;){y=be[o+(w<<1)>>1]|0,_=0;do C=s0(y<<16>>16,j[27256+(_<<2)|0]|0)|0,C=(s0(be[o+(w+h<<1)>>1]|0,j[27257+(_<<2)|0]|0)|0)+C|0,C=(s0(be[o+((h<<1)+w<<1)>>1]|0,j[27258+(_<<2)|0]|0)|0)+C|0,C=(s0(be[o+((h*3|0)+w<<1)>>1]|0,j[27259+(_<<2)|0]|0)|0)+C+1>>1,(C|0)<-32768?C=-32768:C=(C|0)>32767?32767:C&65535,be[g+((_<<2)+w<<1)>>1]=C,_=_+1|0;while((_|0)<4);if(w=w+1|0,(w|0)>=4){o=0;break}}do{w=o<<2,h=be[g+(w<<1)>>1]|0,y=0;do C=s0(h<<16>>16,j[27256+(y<<2)|0]|0)|0,C=(s0(be[g+((w|1)<<1)>>1]|0,j[27257+(y<<2)|0]|0)|0)+C|0,C=(s0(be[g+((w|2)<<1)>>1]|0,j[27258+(y<<2)|0]|0)|0)+C|0,C=((s0(be[g+((w|3)<<1)>>1]|0,j[27259+(y<<2)|0]|0)|0)+C+128|0)>>>8&65535,be[n+(y+w<<1)>>1]=C,y=y+1|0;while((y|0)<4);o=o+1|0}while((o|0)<4);D=m}function Hf(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0;w=D,D=D+32|0,g=w|0,y=h-1|0,m=1<<m,te=m-1|0,m=-m|0,B=m&65535,_=0;do{C=be[o+(_<<1)>>1]|0,q=0;do re=s0(C<<16>>16,j[27256+q|0]|0)|0,re=(s0(be[o+(_+4<<1)>>1]|0,j[27260+q|0]|0)|0)+re|0,re=(s0(be[o+(_+8<<1)>>1]|0,j[27264+q|0]|0)|0)+re|0,re=(s0(be[o+(_+12<<1)>>1]|0,j[27268+q|0]|0)|0)+re+64>>7,(re|0)<(m|0)?re=B:re=((re|0)>(te|0)?te:re)&65535,be[g+(q<<3)+(_<<1)>>1]=re,q=q+1|0;while((q|0)<4);_=_+1|0}while((_|0)<4);_=1<<y,m=0;do{te=m<<2,y=be[g+(m<<3)>>1]|0,C=be[g+(m<<3)+2>>1]|0,B=be[g+(m<<3)+4>>1]|0,q=be[g+(m<<3)+6>>1]|0,o=0;do re=s0(y<<16>>16,j[27256+o|0]|0)|0,re=(s0(C<<16>>16,j[27260+o|0]|0)|0)+re|0,re=(s0(B<<16>>16,j[27264+o|0]|0)|0)+re|0,re=(s0(q<<16>>16,j[27268+o|0]|0)|0)+re+_>>h,r[n+(o+te<<2)>>2]=re,o=o+1|0;while((o|0)<4);m=m+1|0}while((m|0)<4);D=w}function Fl(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0;if(w=D,D=D+2048|0,y=w|0,(o|0)>1){C=o,_=0;do _=_+1|0,C=C>>1;while((C|0)>1)}else _=0;if(C=5-_|0,_=1<<m-1,B=1<<g,g=B-1|0,B=-B|0,te=(o|0)>0,!te){D=w;return}re=B&65535,oe=0;do{for(le=o;q=le-1|0,!((le|0)<=0);)if(ue=h+((s0(q,o)|0)+oe<<1)|0,(be[ue>>1]|0)==0)le=q;else break;le=(le|0)<1,ne=0;do{if(le)pe=0;else{for(ue=0,pe=0;ve=h+((s0(pe,o)|0)+oe<<1)|0,ue=(s0(be[ve>>1]|0,j[27616+(pe<<C<<5)+ne|0]|0)|0)+ue|0,(pe|0)<(q|0);)pe=pe+1|0;pe=ue+64>>7}(pe|0)<(B|0)?pe=re:pe=((pe|0)>(g|0)?g:pe)&65535,ve=y+((s0(ne,o)|0)+oe<<1)|0,be[ve>>1]=pe,ne=ne+1|0}while((ne|0)<(o|0));oe=oe+1|0}while((oe|0)<(o|0));if(te)g=0;else{D=w;return}do{for(B=s0(g,o)|0,q=o;h=q-1|0,!((q|0)<=0);)if((be[y+(h+B<<1)>>1]|0)==0)q=h;else break;q=(q|0)<1,te=0;do{if(q)oe=0;else for(oe=0,re=0;oe=(s0(be[y+(re+B<<1)>>1]|0,j[27616+(re<<C<<5)+te|0]|0)|0)+oe|0,(re|0)<(h|0);)re=re+1|0;r[n+(te+B<<2)>>2]=oe+_>>m,te=te+1|0}while((te|0)<(o|0));g=g+1|0}while((g|0)<(o|0));D=w}function Vf(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0,Fl(n,4,o,h,m)}function Wf(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0,Fl(n,8,o,h,m)}function jf(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0,Fl(n,16,o,h,m)}function $f(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0,Fl(n,32,o,h,m)}function Kf(n,o,h){n=n|0,o=o|0,h=h|0,Ol(n,h,4,o,8)}function Ol(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0;if(_=D,D=D+2048|0,C=_|0,y=20-g|0,w=1<<y-1,(h|0)>1){B=h,te=0;do te=te+1|0,B=B>>1;while((B|0)>1)}else te=0;if(B=5-te|0,te=(h|0)>0,te)re=0;else{D=_;return}do{for(le=h;oe=le-1|0,!((le|0)<=0);)if(ue=m+((s0(oe,h)|0)+re<<1)|0,(be[ue>>1]|0)==0)le=oe;else break;le=(le|0)<1,ne=0;do{if(le)pe=0,q=13;else{for(ue=0,pe=0;ve=m+((s0(pe,h)|0)+re<<1)|0,ue=(s0(be[ve>>1]|0,j[27616+(pe<<B<<5)+ne|0]|0)|0)+ue|0,(pe|0)<(oe|0);)pe=pe+1|0;pe=ue+64>>7,(pe|0)<-32768?pe=-32768:q=13}(q|0)==13&&(q=0,pe=(pe|0)>32767?32767:pe&65535),ve=C+((s0(ne,h)|0)+re<<1)|0,be[ve>>1]=pe,ne=ne+1|0}while((ne|0)<(h|0));re=re+1|0}while((re|0)<(h|0));if(!te){D=_;return}m=(1<<g)-1|0,te=0;do{for(q=s0(te,h)|0,re=h;g=re-1|0,!((re|0)<=0);)if((be[C+(g+q<<1)>>1]|0)==0)re=g;else break;oe=(re|0)<1,le=s0(te,o)|0,re=0;do{if(oe)pe=0;else for(pe=0,ne=0;pe=(s0(be[C+(ne+q<<1)>>1]|0,j[27616+(ne<<B<<5)+re|0]|0)|0)+pe|0,(ne|0)<(g|0);)ne=ne+1|0;ne=n+(re+le)|0,pe=(We[ne]|0)+(pe+w>>y)|0,(pe|0)<0?pe=0:pe=((pe|0)>(m|0)?m:pe)&255,j[ne]=pe,re=re+1|0}while((re|0)<(h|0));te=te+1|0}while((te|0)<(h|0));D=_}function qf(n,o,h){n=n|0,o=o|0,h=h|0,Ol(n,h,8,o,8)}function Yf(n,o,h){n=n|0,o=o|0,h=h|0,Ol(n,h,16,o,8)}function Jf(n,o,h){n=n|0,o=o|0,h=h|0,Ol(n,h,32,o,8)}function Qf(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0,Nl(n,h,4,o,m)}function Nl(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0;if(_=D,D=D+2048|0,C=_|0,y=20-g|0,w=1<<y-1,(h|0)>1){B=h,te=0;do te=te+1|0,B=B>>1;while((B|0)>1)}else te=0;if(B=5-te|0,te=(h|0)>0,te)re=0;else{D=_;return}do{for(le=h;oe=le-1|0,!((le|0)<=0);)if(ue=m+((s0(oe,h)|0)+re<<1)|0,(be[ue>>1]|0)==0)le=oe;else break;le=(le|0)<1,ne=0;do{if(le)pe=0,q=13;else{for(ue=0,pe=0;ve=m+((s0(pe,h)|0)+re<<1)|0,ue=(s0(be[ve>>1]|0,j[27616+(pe<<B<<5)+ne|0]|0)|0)+ue|0,(pe|0)<(oe|0);)pe=pe+1|0;pe=ue+64>>7,(pe|0)<-32768?pe=-32768:q=13}(q|0)==13&&(q=0,pe=(pe|0)>32767?32767:pe&65535),ve=C+((s0(ne,h)|0)+re<<1)|0,be[ve>>1]=pe,ne=ne+1|0}while((ne|0)<(h|0));re=re+1|0}while((re|0)<(h|0));if(!te){D=_;return}m=(1<<g)-1|0,te=0;do{for(q=s0(te,h)|0,re=h;g=re-1|0,!((re|0)<=0);)if((be[C+(g+q<<1)>>1]|0)==0)re=g;else break;oe=(re|0)<1,le=s0(te,o)|0,re=0;do{if(oe)pe=0;else for(pe=0,ne=0;pe=(s0(be[C+(ne+q<<1)>>1]|0,j[27616+(ne<<B<<5)+re|0]|0)|0)+pe|0,(ne|0)<(g|0);)ne=ne+1|0;ne=n+(re+le<<1)|0,pe=(f0[ne>>1]|0)+(pe+w>>y)|0,(pe|0)<0?pe=0:pe=((pe|0)>(m|0)?m:pe)&65535,be[ne>>1]=pe,re=re+1|0}while((re|0)<(h|0));te=te+1|0}while((te|0)<(h|0));D=_}function Xf(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0,Nl(n,h,8,o,m)}function Zf(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0,Nl(n,h,16,o,m)}function ep(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0,Nl(n,h,32,o,m)}function tp(n,o,h){n=n|0,o=o|0,h=h|0,zl(n,4,o,h)}function zl(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;if(g=D,D=D+2048|0,w=g|0,(o|0)>1){for(y=o,B=0;;)if(y=y>>1,(y|0)>1)B=B+1|0;else{y=o,_=0;break}for(;y=y>>1,(y|0)>1;)_=_+1|0;y=_+7|0,q=1<<B-1,_=1<<_+6,te=o,C=0;do C=C+1|0,te=te>>1;while((te|0)>1)}else C=0,B=-1,y=6,q=0,_=32;if(C=5-C|0,te=(o|0)>0,te)oe=0;else{D=g;return}do{le=0;do{ne=le<<C,re=0,pe=0;do ue=h+((s0(pe,m)|0)+oe<<1)|0,re=(s0(be[ue>>1]|0,j[27616+(ne<<5)+pe|0]|0)|0)+re|0,pe=pe+1|0;while((pe|0)<(o|0));ue=w+((s0(le,o)|0)+oe<<1)|0,be[ue>>1]=re+q>>B,le=le+1|0}while((le|0)<(o|0));oe=oe+1|0}while((oe|0)<(o|0));if(te)h=0;else{D=g;return}do{m=s0(h,o)|0,re=0;do{te=re<<C,q=0,B=0;do q=(s0(be[w+(B+m<<1)>>1]|0,j[27616+(te<<5)+B|0]|0)|0)+q|0,B=B+1|0;while((B|0)<(o|0));be[n+(re+m<<1)>>1]=q+_>>y,re=re+1|0}while((re|0)<(o|0));h=h+1|0}while((h|0)<(o|0));D=g}function ip(n,o,h){n=n|0,o=o|0,h=h|0,zl(n,8,o,h)}function rp(n,o,h){n=n|0,o=o|0,h=h|0,zl(n,16,o,h)}function sp(n,o,h){n=n|0,o=o|0,h=h|0,zl(n,32,o,h)}function Ah(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0;if(g=D,D=D+2176|0,w=g|0,y=(o|0)>0,!y){D=g;return}q=o>>1,B=(q|0)>0,_=o>>2,C=(_|0)>1,oe=g+2048|0,re=g+2112|0,te=0;do{if(ne=s0(te,m)|0,B){le=0;do pe=h+(le+ne<<1)|0,ve=le+q|0,ue=h+(ve+ne<<1)|0,be[oe+(le<<1)>>1]=(be[ue>>1]|0)+(be[pe>>1]|0),be[oe+(ve<<1)>>1]=(be[pe>>1]|0)-(be[ue>>1]|0),le=le+1|0;while((le|0)<(q|0))}if(C)for(le=oe,oe=q,ue=_;;){ne=(ue|0)>0,pe=0;do{if(ne){ve=0;do qe=ve+pe|0,Ve=be[le+(qe<<1)>>1]|0,ge=qe+ue|0,Te=be[le+(ge<<1)>>1]|0,be[re+(qe<<1)>>1]=Te+Ve,be[re+(ge<<1)>>1]=Ve-Te,ve=ve+1|0;while((ve|0)<(ue|0))}pe=pe+oe|0}while((pe|0)<(o|0));if(ue=ue>>1,(ue|0)>1)qe=le,le=re,oe=oe>>1,re=qe;else{oe=re,re=le;break}}ne=s0(te,o)|0,le=0;do Te=oe+(le<<1)|0,qe=le|1,Ve=oe+(qe<<1)|0,be[w+(le+ne<<1)>>1]=(be[Ve>>1]|0)+(be[Te>>1]|0),be[w+(qe+ne<<1)>>1]=(be[Te>>1]|0)-(be[Ve>>1]|0),le=le+2|0;while((le|0)<(o|0));te=te+1|0}while((te|0)<(o|0));if(!y){D=g;return}for(y=o>>1,m=(y|0)>0,C=o>>2,_=(C|0)>1,B=0;;){if(m){h=0;do Te=w+((s0(h,o)|0)+B<<1)|0,qe=h+y|0,Ve=w+((s0(qe,o)|0)+B<<1)|0,be[oe+(h<<1)>>1]=(be[Ve>>1]|0)+(be[Te>>1]|0),be[oe+(qe<<1)>>1]=(be[Te>>1]|0)-(be[Ve>>1]|0),h=h+1|0;while((h|0)<(y|0))}if(_)for(h=y,ne=C;;){te=(ne|0)>0,q=0;do{if(te){le=0;do ge=le+q|0,Te=be[oe+(ge<<1)>>1]|0,qe=ge+ne|0,Ve=be[oe+(qe<<1)>>1]|0,be[re+(ge<<1)>>1]=Ve+Te,be[re+(qe<<1)>>1]=Te-Ve,le=le+1|0;while((le|0)<(ne|0))}q=q+h|0}while((q|0)<(o|0));if(ne=ne>>1,(ne|0)>1)qe=oe,oe=re,h=h>>1,re=qe;else{h=re,re=oe;break}}else h=oe;q=0;do Te=h+(q<<1)|0,qe=q|1,Ve=h+(qe<<1)|0,ge=n+((s0(q,o)|0)+B<<1)|0,be[ge>>1]=(be[Ve>>1]|0)+(be[Te>>1]|0),qe=n+((s0(qe,o)|0)+B<<1)|0,be[qe>>1]=(be[Te>>1]|0)-(be[Ve>>1]|0),q=q+2|0;while((q|0)<(o|0));if(B=B+1|0,(B|0)<(o|0))oe=h;else break}D=g}function np(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0;m=D,D=D+32|0,ue=m|0,ne=be[o>>1]|0,pe=be[o+4>>1]|0,w=pe+ne&65535,ge=be[o+2>>1]|0,y=be[o+6>>1]|0,te=y+ge&65535,pe=ne-pe&65535,y=ge-y&65535,ge=ue|0,be[ge>>1]=te+w,ne=ue+2|0,be[ne>>1]=w-te,te=ue+4|0,be[te>>1]=y+pe,w=ue+6|0,be[w>>1]=pe-y,y=be[o+(h<<1)>>1]|0,pe=be[o+(h+2<<1)>>1]|0,q=pe+y&65535,ve=be[o+(h+1<<1)>>1]|0,_=be[o+(h+3<<1)>>1]|0,le=_+ve&65535,pe=y-pe&65535,_=ve-_&65535,ve=le+q&65535,be[ue+8>>1]=ve,le=q-le&65535,be[ue+10>>1]=le,q=ue+12|0,be[q>>1]=_+pe,y=ue+14|0,be[y>>1]=pe-_,_=h<<1,pe=be[o+(_<<1)>>1]|0,Ve=be[o+(_+2<<1)>>1]|0,g=Ve+pe&65535,re=be[o+((_|1)<<1)>>1]|0,_=be[o+(_+3<<1)>>1]|0,C=_+re&65535,Ve=pe-Ve&65535,_=re-_&65535,re=C+g&65535,be[ue+16>>1]=re,C=g-C&65535,be[ue+18>>1]=C,g=_+Ve&65535,be[ue+20>>1]=g,_=Ve-_&65535,be[ue+22>>1]=_,h=h*3|0,Ve=be[o+(h<<1)>>1]|0,pe=be[o+(h+2<<1)>>1]|0,Te=pe+Ve&65535,oe=be[o+(h+1<<1)>>1]|0,h=be[o+(h+3<<1)>>1]|0,B=h+oe&65535,pe=Ve-pe&65535,h=oe-h&65535,oe=B+Te&65535,be[ue+24>>1]=oe,B=Te-B&65535,be[ue+26>>1]=B,o=h+pe&65535,be[ue+28>>1]=o,h=pe-h&65535,be[ue+30>>1]=h,ge=be[ge>>1]|0,ue=re+ge&65535,pe=oe+ve&65535,re=ge-re&65535,oe=ve-oe&65535,be[n>>1]=pe+ue,be[n+8>>1]=ue-pe,be[n+16>>1]=oe+re,be[n+24>>1]=re-oe,ne=be[ne>>1]|0,oe=C+ne&65535,re=B+le&65535,C=ne-C&65535,B=le-B&65535,be[n+2>>1]=re+oe,be[n+10>>1]=oe-re,be[n+18>>1]=B+C,be[n+26>>1]=C-B,te=be[te>>1]|0,B=g+te&65535,q=be[q>>1]|0,C=o+q&65535,g=te-g&65535,o=q-o&65535,be[n+4>>1]=C+B,be[n+12>>1]=B-C,be[n+20>>1]=o+g,be[n+28>>1]=g-o,o=be[w>>1]|0,w=_+o&65535,y=be[y>>1]|0,g=h+y&65535,o=o-_&65535,h=y-h&65535,be[n+6>>1]=g+w,be[n+14>>1]=w-g,be[n+22>>1]=h+o,be[n+30>>1]=o-h,D=m}function ap(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0;for(g=D,D=D+128|0,m=g|0,w=0;;)if(_=s0(w,h)|0,ue=be[o+(_<<1)>>1]|0,ne=be[o+(_+4<<1)>>1]|0,B=ne+ue&65535,pe=be[o+(_+1<<1)>>1]|0,y=be[o+(_+5<<1)>>1]|0,q=y+pe&65535,oe=be[o+(_+2<<1)>>1]|0,C=be[o+(_+6<<1)>>1]|0,re=C+oe&65535,le=be[o+(_+3<<1)>>1]|0,_=be[o+(_+7<<1)>>1]|0,te=_+le&65535,ne=ue-ne&65535,y=pe-y&65535,C=oe-C&65535,_=le-_&65535,le=re+B&65535,oe=te+q&65535,re=B-re&65535,te=q-te&65535,q=C+ne&65535,B=_+y&65535,C=ne-C&65535,_=y-_&65535,y=w<<3,be[m+(y<<1)>>1]=oe+le,be[m+((y|1)<<1)>>1]=le-oe,be[m+((y|2)<<1)>>1]=te+re,be[m+((y|3)<<1)>>1]=re-te,be[m+((y|4)<<1)>>1]=B+q,be[m+((y|5)<<1)>>1]=q-B,be[m+((y|6)<<1)>>1]=_+C,be[m+((y|7)<<1)>>1]=C-_,w=w+1|0,(w|0)>=8){h=0;break}do qe=be[m+(h<<1)>>1]|0,q=h+32|0,Te=be[m+(q<<1)>>1]|0,re=Te+qe&65535,w=h+8|0,Ve=be[m+(w<<1)>>1]|0,oe=h+40|0,ge=be[m+(oe<<1)>>1]|0,te=ge+Ve&65535,y=h+16|0,o=be[m+(y<<1)>>1]|0,le=h+48|0,ne=be[m+(le<<1)>>1]|0,_=ne+o&65535,B=h+24|0,ve=be[m+(B<<1)>>1]|0,ue=h+56|0,pe=be[m+(ue<<1)>>1]|0,C=pe+ve&65535,Te=qe-Te&65535,ge=Ve-ge&65535,ne=o-ne&65535,pe=ve-pe&65535,ve=_+re&65535,o=C+te&65535,_=re-_&65535,C=te-C&65535,te=ne+Te&65535,re=pe+ge&65535,ne=Te-ne&65535,pe=ge-pe&65535,be[n+(h<<1)>>1]=o+ve,be[n+(w<<1)>>1]=ve-o,be[n+(y<<1)>>1]=C+_,be[n+(B<<1)>>1]=_-C,be[n+(q<<1)>>1]=re+te,be[n+(oe<<1)>>1]=te-re,be[n+(le<<1)>>1]=pe+ne,be[n+(ue<<1)>>1]=ne-pe,h=h+1|0;while((h|0)<8);D=g}function op(n,o,h){n=n|0,o=o|0,h=h|0,Ah(n,16,o,h)}function lp(n,o,h){n=n|0,o=o|0,h=h|0,Ah(n,32,o,h)}function up(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0;if((g&1|0)!=0&&y0(13704,16192,40,18488),(w|0)>0&(g|0)>0)_=0;else return;do{for(y=h+((s0(_,m)|0)<<1)|0,C=n+(s0(_,o)|0)|0,B=0;q=(be[y>>1]|0)+32>>6,(q|0)<0?q=0:q=(q|0)>255?-1:q&255,j[C]=q,q=(be[y+2>>1]|0)+32>>6,(q|0)<0?q=0:q=(q|0)>255?-1:q&255,j[C+1|0]=q,B=B+2|0,(B|0)<(g|0);)y=y+4|0,C=C+2|0;_=_+1|0}while((_|0)<(w|0))}function cp(n,o,h,m,g,w,y,_,C){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0;var B=0,q=0,te=0,re=0,oe=0,le=0;if((C|0)<=0&&y0(13312,16192,60,18552),B=1<<C-1,(w|0)>0&(g|0)>0)q=0;else return;do{for(te=h+((s0(q,m)|0)<<1)|0,re=n+(s0(q,o)|0)|0,oe=0;le=((s0(be[te>>1]|0,y)|0)+B>>C)+_|0,(le|0)<0?le=0:le=(le|0)>255?-1:le&255,j[re]=le,oe=oe+1|0,(oe|0)<(g|0);)te=te+2|0,re=re+1|0;q=q+1|0}while((q|0)<(w|0))}function hp(n,o,h,m,g,w,y,_,C,B,q,te){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0;var re=0,oe=0,le=0,ne=0,pe=0;if((te|0)<=0&&y0(13312,16192,80,18456),q=C+1+q<<te,!((y|0)<=0)){if(C=te+1|0,(w|0)>0)re=0;else return;do{for(oe=s0(re,g)|0,te=h+(oe<<1)|0,oe=m+(oe<<1)|0,le=n+(s0(re,o)|0)|0,ne=0;pe=s0(be[te>>1]|0,_)|0,pe=pe+q+(s0(be[oe>>1]|0,B)|0)>>C,(pe|0)<0?pe=0:pe=(pe|0)>255?-1:pe&255,j[le]=pe,ne=ne+1|0,(ne|0)<(w|0);)te=te+2|0,oe=oe+2|0,le=le+1|0;re=re+1|0}while((re|0)<(y|0))}}function dp(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0;if((w&1|0)!=0&&y0(13704,16192,105,18312),!((y|0)<=0)){C=(w|0)>0,_=0;do{if(q=s0(_,g)|0,C)for(B=h+(q<<1)|0,q=m+(q<<1)|0,te=n+(s0(_,o)|0)|0,re=0;oe=(be[B>>1]|0)+64+(be[q>>1]|0)>>7,(oe|0)<0?oe=0:oe=(oe|0)>255?-1:oe&255,j[te]=oe,oe=(be[B+2>>1]|0)+64+(be[q+2>>1]|0)>>7,(oe|0)<0?oe=0:oe=(oe|0)>255?-1:oe&255,j[te+1|0]=oe,re=re+2|0,(re|0)<(w|0);)B=B+4|0,q=q+4|0,te=te+2|0;_=_+1|0}while((_|0)<(y|0))}}function fp(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0;if(C=14-y|0,(C|0)>0?_=1<<C-1:_=0,(g&1|0)!=0&&y0(13704,16192,172,18424),!((w|0)<=0)){B=(g|0)>0,te=(1<<y)-1|0,re=te&65535,y=0;do{if(B)for(oe=h+((s0(y,m)|0)<<1)|0,q=n+((s0(y,o)|0)<<1)|0,le=0;ne=(be[oe>>1]|0)+_>>C,(ne|0)<0?ne=0:ne=(ne|0)>(te|0)?re:ne&65535,be[q>>1]=ne,ne=(be[oe+2>>1]|0)+_>>C,(ne|0)<0?ne=0:ne=(ne|0)>(te|0)?re:ne&65535,be[q+2>>1]=ne,le=le+2|0,(le|0)<(g|0);)oe=oe+4|0,q=q+4|0;y=y+1|0}while((y|0)<(w|0))}}function pp(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0;if((C|0)<=0&&y0(13312,16192,193,18520),q=1<<C-1,!((w|0)<=0)){te=(g|0)>0,re=(1<<B)-1|0,B=0;do{if(te)for(oe=h+((s0(B,m)|0)<<1)|0,le=n+((s0(B,o)|0)<<1)|0,ne=0;pe=((s0(be[oe>>1]|0,y)|0)+q>>C)+_|0,(pe|0)<0?pe=0:pe=((pe|0)>(re|0)?re:pe)&65535,be[le>>1]=pe,ne=ne+1|0,(ne|0)<(g|0);)oe=oe+2|0,le=le+2|0;B=B+1|0}while((B|0)<(w|0))}}function mp(n,o,h,m,g,w,y,_,C,B,q,te,re){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0;var oe=0,le=0,ne=0,pe=0,ue=0,ve=0;if((te|0)<=0&&y0(13312,16192,213,18392),C=C+1+q<<te,!((y|0)<=0)){q=(w|0)>0,te=te+1|0,oe=(1<<re)-1|0,re=0;do{if(ne=s0(re,g)|0,q)for(le=h+(ne<<1)|0,ne=m+(ne<<1)|0,pe=n+((s0(re,o)|0)<<1)|0,ue=0;ve=s0(be[le>>1]|0,_)|0,ve=ve+C+(s0(be[ne>>1]|0,B)|0)>>te,(ve|0)<0?ve=0:ve=((ve|0)>(oe|0)?oe:ve)&65535,be[pe>>1]=ve,ue=ue+1|0,(ue|0)<(w|0);)le=le+2|0,ne=ne+2|0,pe=pe+2|0;re=re+1|0}while((re|0)<(y|0))}}function gp(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;if(C=15-_|0,B=1<<C-1,(w&1|0)!=0&&y0(13704,16192,238,18192),!((y|0)<=0)){q=(w|0)>0,re=(1<<_)-1|0,te=re&65535,_=0;do{if(le=s0(_,g)|0,q)for(oe=h+(le<<1)|0,le=m+(le<<1)|0,ne=n+((s0(_,o)|0)<<1)|0,pe=0;ue=(be[oe>>1]|0)+B+(be[le>>1]|0)>>C,(ue|0)<0?ue=0:ue=(ue|0)>(re|0)?te:ue&65535,be[ne>>1]=ue,ue=(be[oe+2>>1]|0)+B+(be[le+2>>1]|0)>>C,(ue|0)<0?ue=0:ue=(ue|0)>(re|0)?te:ue&65535,be[ne+2>>1]=ue,pe=pe+2|0,(pe|0)<(w|0);)oe=oe+4|0,le=le+4|0,ne=ne+4|0;_=_+1|0}while((_|0)<(y|0))}}function yp(n,o,h,m,g,w,y,_,C){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0;var B=0,q=0;if(!((w|0)<=0)){_=(g|0)>0,y=0;do{if(_)for(B=n+((s0(y,o)|0)<<1)|0,C=h+(s0(y,m)|0)|0,q=0;be[B>>1]=(We[C]|0)<<6,q=q+1|0,(q|0)<(g|0);)B=B+2|0,C=C+1|0;y=y+1|0}while((y|0)<(w|0))}}function Ap(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0;if(C=14-B|0,!((w|0)<=0)){q=(g|0)>0,y=0;do{if(q)for(B=n+((s0(y,o)|0)<<1)|0,_=h+((s0(y,m)|0)<<1)|0,te=0;be[B>>1]=(f0[_>>1]|0)<<C,te=te+1|0,(te|0)<(g|0);)B=B+2|0,_=_+2|0;y=y+1|0}while((y|0)<(w|0))}}function vp(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0;if(C=D,oe=B-8|0,q=w+3|0,re=s0(g<<1,q)|0,B=D,D=D+re|0,D=D+7&-8,re=w+2|0,(re|0)>-1)for(te=(g|0)>0,ne=-1;;){e:do if(te)for(le=ne+1|0,ne=h+((s0(ne,m)|0)-1)|0,ue=0;;){switch(y|0){case 2:{pe=((We[ne+1|0]|0)*54|0)+((We[ne]|0)*-4|0)+(We[ne+2|0]<<4)-(We[ne+3|0]<<1)>>oe&65535;break}case 5:{pe=((We[ne+1|0]|0)*28|0)+((We[ne]|0)*-4|0)+((We[ne+2|0]|0)*46|0)+((We[ne+3|0]|0)*-6|0)>>oe&65535;break}case 6:{pe=(We[ne+1|0]<<4)+((We[ne]|0)*-2|0)+((We[ne+2|0]|0)*54|0)-(We[ne+3|0]<<2)>>oe&65535;break}case 4:{pe=((We[ne]|0)*-4|0)-(We[ne+3|0]<<2)+(((We[ne+2|0]|0)+(We[ne+1|0]|0)|0)*36|0)>>oe&65535;break}case 0:{pe=We[ne+1|0]|0;break}case 1:{pe=((We[ne+1|0]|0)*58|0)+((We[ne]|0)*-2|0)+((We[ne+2|0]|0)*10|0)-(We[ne+3|0]<<1)>>oe&65535;break}case 3:{pe=((We[ne+1|0]|0)*46|0)+((We[ne]|0)*-6|0)+((We[ne+2|0]|0)*28|0)-(We[ne+3|0]<<2)>>oe&65535;break}default:pe=((We[ne+1|0]|0)*10|0)+((We[ne]|0)*-2|0)+((We[ne+2|0]|0)*58|0)-(We[ne+3|0]<<1)>>oe&65535}if(ve=B+(le+(s0(ue,q)|0)<<1)|0,be[ve>>1]=pe,ue=ue+1|0,(ue|0)<(g|0))ne=ne+1|0;else break e}else le=ne+1|0;while(!1);if((le|0)<(re|0))ne=le;else break}if(h=(y|0)==0?oe:6,(g|0)<=0){D=C;return}m=(w|0)>0,y=0;do{e:do if(m)for(te=B+((s0(y,q)|0)<<1)|0,oe=0;;){switch(_|0){case 0:{re=be[te+2>>1]|0;break}case 1:{re=((be[te+2>>1]|0)*58|0)+((be[te>>1]|0)*-2|0)+((be[te+4>>1]|0)*10|0)-(be[te+6>>1]<<1)>>h&65535;break}case 2:{re=((be[te+2>>1]|0)*54|0)+((be[te>>1]|0)*-4|0)+(be[te+4>>1]<<4)-(be[te+6>>1]<<1)>>h&65535;break}case 3:{re=((be[te+2>>1]|0)*46|0)+((be[te>>1]|0)*-6|0)+((be[te+4>>1]|0)*28|0)-(be[te+6>>1]<<2)>>h&65535;break}case 4:{re=((be[te>>1]|0)*-4|0)-(be[te+6>>1]<<2)+(((be[te+4>>1]|0)+(be[te+2>>1]|0)|0)*36|0)>>h&65535;break}case 5:{re=((be[te+2>>1]|0)*28|0)+((be[te>>1]|0)*-4|0)+((be[te+4>>1]|0)*46|0)+((be[te+6>>1]|0)*-6|0)>>h&65535;break}case 6:{re=(be[te+2>>1]<<4)+((be[te>>1]|0)*-2|0)+((be[te+4>>1]|0)*54|0)-(be[te+6>>1]<<2)>>h&65535;break}default:re=((be[te+2>>1]|0)*10|0)+((be[te>>1]|0)*-2|0)+((be[te+4>>1]|0)*58|0)-(be[te+6>>1]<<1)>>h&65535}if(ve=n+((s0(oe,o)|0)+y<<1)|0,be[ve>>1]=re,oe=oe+1|0,(oe|0)<(w|0))te=te+2|0;else break e}while(!1);y=y+1|0}while((y|0)<(g|0));D=C}function wp(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0;if(C=D,oe=B-8|0,q=w+3|0,re=s0(g<<1,q)|0,B=D,D=D+re|0,D=D+7&-8,re=w+2|0,(re|0)>-1)for(te=(g|0)>0,ne=-1;;){e:do if(te)for(le=ne+1|0,ne=h+((s0(ne,m)|0)-1<<1)|0,ue=0;;){switch(y|0){case 2:{pe=((f0[ne+2>>1]|0)*54|0)+((f0[ne>>1]|0)*-4|0)+(f0[ne+4>>1]<<4)-(f0[ne+6>>1]<<1)>>oe&65535;break}case 3:{pe=((f0[ne+2>>1]|0)*46|0)+((f0[ne>>1]|0)*-6|0)+((f0[ne+4>>1]|0)*28|0)-(f0[ne+6>>1]<<2)>>oe&65535;break}case 4:{pe=((f0[ne>>1]|0)*-4|0)-(f0[ne+6>>1]<<2)+(((f0[ne+4>>1]|0)+(f0[ne+2>>1]|0)|0)*36|0)>>oe&65535;break}case 5:{pe=((f0[ne+2>>1]|0)*28|0)+((f0[ne>>1]|0)*-4|0)+((f0[ne+4>>1]|0)*46|0)+((f0[ne+6>>1]|0)*-6|0)>>oe&65535;break}case 6:{pe=(f0[ne+2>>1]<<4)+((f0[ne>>1]|0)*-2|0)+((f0[ne+4>>1]|0)*54|0)-(f0[ne+6>>1]<<2)>>oe&65535;break}case 0:{pe=be[ne+2>>1]|0;break}case 1:{pe=((f0[ne+2>>1]|0)*58|0)+((f0[ne>>1]|0)*-2|0)+((f0[ne+4>>1]|0)*10|0)-(f0[ne+6>>1]<<1)>>oe&65535;break}default:pe=((f0[ne+2>>1]|0)*10|0)+((f0[ne>>1]|0)*-2|0)+((f0[ne+4>>1]|0)*58|0)-(f0[ne+6>>1]<<1)>>oe&65535}if(ve=B+(le+(s0(ue,q)|0)<<1)|0,be[ve>>1]=pe,ue=ue+1|0,(ue|0)<(g|0))ne=ne+2|0;else break e}else le=ne+1|0;while(!1);if((le|0)<(re|0))ne=le;else break}if(h=(y|0)==0?oe:6,(g|0)<=0){D=C;return}m=(w|0)>0,y=0;do{e:do if(m)for(te=B+((s0(y,q)|0)<<1)|0,oe=0;;){switch(_|0){case 3:{re=((be[te+2>>1]|0)*46|0)+((be[te>>1]|0)*-6|0)+((be[te+4>>1]|0)*28|0)-(be[te+6>>1]<<2)>>h&65535;break}case 4:{re=((be[te>>1]|0)*-4|0)-(be[te+6>>1]<<2)+(((be[te+4>>1]|0)+(be[te+2>>1]|0)|0)*36|0)>>h&65535;break}case 5:{re=((be[te+2>>1]|0)*28|0)+((be[te>>1]|0)*-4|0)+((be[te+4>>1]|0)*46|0)+((be[te+6>>1]|0)*-6|0)>>h&65535;break}case 6:{re=(be[te+2>>1]<<4)+((be[te>>1]|0)*-2|0)+((be[te+4>>1]|0)*54|0)-(be[te+6>>1]<<2)>>h&65535;break}case 0:{re=be[te+2>>1]|0;break}case 1:{re=((be[te+2>>1]|0)*58|0)+((be[te>>1]|0)*-2|0)+((be[te+4>>1]|0)*10|0)-(be[te+6>>1]<<1)>>h&65535;break}case 2:{re=((be[te+2>>1]|0)*54|0)+((be[te>>1]|0)*-4|0)+(be[te+4>>1]<<4)-(be[te+6>>1]<<1)>>h&65535;break}default:re=((be[te+2>>1]|0)*10|0)+((be[te>>1]|0)*-2|0)+((be[te+4>>1]|0)*58|0)-(be[te+6>>1]<<1)>>h&65535}if(ve=n+((s0(oe,o)|0)+y<<1)|0,be[ve>>1]=re,oe=oe+1|0,(oe|0)<(w|0))te=te+2|0;else break e}while(!1);y=y+1|0}while((y|0)<(g|0));D=C}function _p(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0;if(!((w|0)<=0)){_=(g|0)>0,y=0;do{if(_)for(q=0,C=n+((s0(y,o)|0)<<1)|0,B=h+(s0(y,m)|0)|0;oe=(We[B+1|0]|0)<<6,re=(We[B+2|0]|0)<<6,te=(We[B+3|0]|0)<<6,be[C>>1]=(We[B]|0)<<6,be[C+2>>1]=oe,be[C+4>>1]=re,be[C+6>>1]=te,q=q+4|0,(q|0)<(g|0);)C=C+8|0,B=B+4|0;y=y+1|0}while((y|0)<(w|0))}}function bp(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0,q=0,te=0;if(y=14-_|0,!((w|0)<=0)){C=(g|0)>0,_=0;do{if(C)for(B=h+((s0(_,m)|0)<<1)|0,q=n+((s0(_,o)|0)<<1)|0,te=0;be[q>>1]=(f0[B>>1]|0)<<y,te=te+1|0,(te|0)<(g|0);)B=B+2|0,q=q+2|0;_=_+1|0}while((_|0)<(w|0))}}function kp(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,0,1,8)}function ss(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0;te=r[30784+(_<<2)>>2]|0,re=r[30784+(C<<2)>>2]|0,oe=r[30888+(C<<2)>>2]|0,q=re+w+oe|0,B=B-8|0;do if((_|0)==2){if(ue=-re|0,oe=oe+w|0,(oe|0)<=(ue|0))break;le=(g|0)>0;do{if(le)for(ne=h+((s0(ue,m)|0)-te)|0,ve=y+(ue+re<<1)|0,ge=0;pe=ne+1|0,be[ve>>1]=(We[pe]<<2)-(We[ne]|0)+(We[ne+6|0]<<2)-(We[ne+7|0]|0)+(((We[ne+4|0]|0)+(We[ne+3|0]|0)|0)*40|0)+(((We[ne+5|0]|0)+(We[ne+2|0]|0)|0)*-11|0)>>B,ge=ge+1|0,(ge|0)<(g|0);)ne=pe,ve=ve+(q<<1)|0;ue=ue+1|0}while((ue|0)<(oe|0))}else if((_|0)==3){if(ne=-re|0,oe=oe+w|0,(oe|0)<=(ne|0))break;le=(g|0)>0;do{if(le)for(ue=h+((s0(ne,m)|0)-te)|0,pe=y+(ne+re<<1)|0,ge=0;ve=ue+1|0,be[pe>>1]=((We[ve]|0)*-5|0)+(We[ue]|0)+((We[ue+2|0]|0)*17|0)+((We[ue+3|0]|0)*58|0)+((We[ue+4|0]|0)*-10|0)+(We[ue+5|0]<<2)-(We[ue+6|0]|0)>>B,ge=ge+1|0,(ge|0)<(g|0);)ue=ve,pe=pe+(q<<1)|0;ne=ne+1|0}while((ne|0)<(oe|0))}else if((_|0)==1){if(ve=-re|0,le=oe+w|0,(le|0)<=(ve|0))break;oe=(g|0)>0;do{if(oe)for(pe=h+((s0(ve,m)|0)-te)|0,ue=y+(ve+re<<1)|0,ge=0;ne=pe+1|0,be[ue>>1]=(We[ne]<<2)-(We[pe]|0)+((We[pe+2|0]|0)*-10|0)+((We[pe+3|0]|0)*58|0)+((We[pe+4|0]|0)*17|0)+((We[pe+5|0]|0)*-5|0)+(We[pe+6|0]|0)>>B,ge=ge+1|0,(ge|0)<(g|0);)pe=ne,ue=ue+(q<<1)|0;ve=ve+1|0}while((ve|0)<(le|0))}else if((_|0)==0){if(ne=-re|0,oe=oe+w|0,(oe|0)<=(ne|0))break;le=(g|0)>0;do{if(le)for(ue=h+((s0(ne,m)|0)-te)|0,pe=y+(ne+re<<1)|0,ve=0;be[pe>>1]=We[ue]|0,ve=ve+1|0,(ve|0)<(g|0);)ue=ue+1|0,pe=pe+(q<<1)|0;ne=ne+1|0}while((ne|0)<(oe|0))}while(!1);if(_=(_|0)==0?B:6,(C|0)==3){if((g|0)<=0)return;C=(w|0)>0,h=0;do{if(C)for(re=y+((s0(h,q)|0)<<1)|0,te=n+(h<<1)|0,B=0;m=re+2|0,be[te>>1]=((be[m>>1]|0)*-5|0)+(be[re>>1]|0)+((be[re+4>>1]|0)*17|0)+((be[re+6>>1]|0)*58|0)+((be[re+8>>1]|0)*-10|0)+(be[re+10>>1]<<2)-(be[re+12>>1]|0)>>_,B=B+1|0,(B|0)<(w|0);)re=m,te=te+(o<<1)|0;h=h+1|0}while((h|0)<(g|0));return}else if((C|0)==2){if((g|0)<=0)return;te=(w|0)>0,C=0;do{if(te)for(m=y+((s0(C,q)|0)<<1)|0,re=n+(C<<1)|0,B=0;h=m+2|0,be[re>>1]=(be[h>>1]<<2)-(be[m>>1]|0)+(be[m+12>>1]<<2)-(be[m+14>>1]|0)+(((be[m+8>>1]|0)+(be[m+6>>1]|0)|0)*40|0)+(((be[m+10>>1]|0)+(be[m+4>>1]|0)|0)*-11|0)>>_,B=B+1|0,(B|0)<(w|0);)m=h,re=re+(o<<1)|0;C=C+1|0}while((C|0)<(g|0));return}else if((C|0)==1){if((g|0)<=0)return;re=(w|0)>0,te=0;do{if(re)for(h=y+((s0(te,q)|0)<<1)|0,m=n+(te<<1)|0,B=0;C=h+2|0,be[m>>1]=(be[C>>1]<<2)-(be[h>>1]|0)+((be[h+4>>1]|0)*-10|0)+((be[h+6>>1]|0)*58|0)+((be[h+8>>1]|0)*17|0)+((be[h+10>>1]|0)*-5|0)+(be[h+12>>1]|0)>>_,B=B+1|0,(B|0)<(w|0);)h=C,m=m+(o<<1)|0;te=te+1|0}while((te|0)<(g|0));return}else if((C|0)==0){if((g|0)<=0)return;_=(w|0)>0,C=0;do{if(_)for(te=y+((s0(C,q)|0)<<1)|0,re=n+(C<<1)|0,m=0;be[re>>1]=be[te>>1]|0,m=m+1|0,(m|0)<(w|0);)te=te+2|0,re=re+(o<<1)|0;C=C+1|0}while((C|0)<(g|0));return}else return}function Sp(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,0,2,8)}function Ep(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,0,3,8)}function Tp(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,1,0,8)}function xp(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,1,1,8)}function Cp(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,1,2,8)}function Dp(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,1,3,8)}function Rp(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,2,0,8)}function Lp(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,2,1,8)}function Ip(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,2,2,8)}function Pp(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,2,3,8)}function Bp(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,3,0,8)}function Mp(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,3,1,8)}function Up(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,3,2,8)}function Fp(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,ss(n,o,h,m,g,w,y,3,3,8)}function Op(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,0,1,_)}function ns(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0;re=r[30784+(_<<2)>>2]|0,te=r[30784+(C<<2)>>2]|0,oe=r[30888+(C<<2)>>2]|0,q=te+w+oe|0,B=B-8|0;do if((_|0)==1){if(ne=-te|0,oe=oe+w|0,(oe|0)<=(ne|0))break;le=(g|0)>0;do{if(le)for(ue=h+((s0(ne,m)|0)-re<<1)|0,pe=y+(ne+te<<1)|0,ge=0;ve=ue+2|0,be[pe>>1]=(f0[ve>>1]<<2)-(f0[ue>>1]|0)+((f0[ue+4>>1]|0)*-10|0)+((f0[ue+6>>1]|0)*58|0)+((f0[ue+8>>1]|0)*17|0)+((f0[ue+10>>1]|0)*-5|0)+(f0[ue+12>>1]|0)>>B,ge=ge+1|0,(ge|0)<(g|0);)ue=ve,pe=pe+(q<<1)|0;ne=ne+1|0}while((ne|0)<(oe|0))}else if((_|0)==2){if(ne=-te|0,oe=oe+w|0,(oe|0)<=(ne|0))break;le=(g|0)>0;do{if(le)for(ue=h+((s0(ne,m)|0)-re<<1)|0,pe=y+(ne+te<<1)|0,ge=0;ve=ue+2|0,be[pe>>1]=(f0[ve>>1]<<2)-(f0[ue>>1]|0)+(f0[ue+12>>1]<<2)-(f0[ue+14>>1]|0)+(((f0[ue+8>>1]|0)+(f0[ue+6>>1]|0)|0)*40|0)+(((f0[ue+10>>1]|0)+(f0[ue+4>>1]|0)|0)*-11|0)>>B,ge=ge+1|0,(ge|0)<(g|0);)ue=ve,pe=pe+(q<<1)|0;ne=ne+1|0}while((ne|0)<(oe|0))}else if((_|0)==0){if(ne=-te|0,le=oe+w|0,(le|0)<=(ne|0))break;oe=(g|0)>0;do{if(oe)for(pe=h+((s0(ne,m)|0)-re<<1)|0,ue=y+(ne+te<<1)|0,ve=0;be[ue>>1]=be[pe>>1]|0,ve=ve+1|0,(ve|0)<(g|0);)pe=pe+2|0,ue=ue+(q<<1)|0;ne=ne+1|0}while((ne|0)<(le|0))}else if((_|0)==3){if(ne=-te|0,le=oe+w|0,(le|0)<=(ne|0))break;oe=(g|0)>0;do{if(oe)for(ve=h+((s0(ne,m)|0)-re<<1)|0,pe=y+(ne+te<<1)|0,ge=0;ue=ve+2|0,be[pe>>1]=((f0[ue>>1]|0)*-5|0)+(f0[ve>>1]|0)+((f0[ve+4>>1]|0)*17|0)+((f0[ve+6>>1]|0)*58|0)+((f0[ve+8>>1]|0)*-10|0)+(f0[ve+10>>1]<<2)-(f0[ve+12>>1]|0)>>B,ge=ge+1|0,(ge|0)<(g|0);)ve=ue,pe=pe+(q<<1)|0;ne=ne+1|0}while((ne|0)<(le|0))}while(!1);if(te=(_|0)==0?B:6,(C|0)==3){if((g|0)<=0)return;_=(w|0)>0,C=0;do{if(_)for(re=y+((s0(C,q)|0)<<1)|0,h=n+(C<<1)|0,B=0;m=re+2|0,be[h>>1]=((be[m>>1]|0)*-5|0)+(be[re>>1]|0)+((be[re+4>>1]|0)*17|0)+((be[re+6>>1]|0)*58|0)+((be[re+8>>1]|0)*-10|0)+(be[re+10>>1]<<2)-(be[re+12>>1]|0)>>te,B=B+1|0,(B|0)<(w|0);)re=m,h=h+(o<<1)|0;C=C+1|0}while((C|0)<(g|0));return}else if((C|0)==2){if((g|0)<=0)return;_=(w|0)>0,C=0;do{if(_)for(re=y+((s0(C,q)|0)<<1)|0,h=n+(C<<1)|0,B=0;m=re+2|0,be[h>>1]=(be[m>>1]<<2)-(be[re>>1]|0)+(be[re+12>>1]<<2)-(be[re+14>>1]|0)+(((be[re+8>>1]|0)+(be[re+6>>1]|0)|0)*40|0)+(((be[re+10>>1]|0)+(be[re+4>>1]|0)|0)*-11|0)>>te,B=B+1|0,(B|0)<(w|0);)re=m,h=h+(o<<1)|0;C=C+1|0}while((C|0)<(g|0));return}else if((C|0)==1){if((g|0)<=0)return;re=(w|0)>0,m=0;do{if(re)for(_=y+((s0(m,q)|0)<<1)|0,h=n+(m<<1)|0,B=0;C=_+2|0,be[h>>1]=(be[C>>1]<<2)-(be[_>>1]|0)+((be[_+4>>1]|0)*-10|0)+((be[_+6>>1]|0)*58|0)+((be[_+8>>1]|0)*17|0)+((be[_+10>>1]|0)*-5|0)+(be[_+12>>1]|0)>>te,B=B+1|0,(B|0)<(w|0);)_=C,h=h+(o<<1)|0;m=m+1|0}while((m|0)<(g|0));return}else if((C|0)==0){if((g|0)<=0)return;te=(w|0)>0,C=0;do{if(te)for(_=y+((s0(C,q)|0)<<1)|0,h=n+(C<<1)|0,re=0;be[h>>1]=be[_>>1]|0,re=re+1|0,(re|0)<(w|0);)_=_+2|0,h=h+(o<<1)|0;C=C+1|0}while((C|0)<(g|0));return}else return}function Np(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,0,2,_)}function zp(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,0,3,_)}function Gp(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,1,0,_)}function Hp(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,1,1,_)}function Vp(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,1,2,_)}function Wp(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,1,3,_)}function jp(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,2,0,_)}function $p(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,2,1,_)}function Kp(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,2,2,_)}function qp(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,2,3,_)}function Yp(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,3,0,_)}function Jp(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,3,1,_)}function Qp(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,3,2,_)}function Xp(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,ns(n,o,h,m,g,w,y,3,3,_)}function vh(n){n=n|0,V0(n+8|0,0,48)|0,r[n>>2]=30,r[n+4>>2]=30}function wh(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0;if(o=n+12|0,w=r[o>>2]|0,h=n+8|0,g=r[h>>2]|0,(w|0)!=(g|0)){m=0;do y=r[g+(m<<2)>>2]|0,(y|0)!=0&&(p2(y),$0(y),w=r[o>>2]|0,g=r[h>>2]|0),m=m+1|0;while(m>>>0<w-g>>2>>>0)}m=n+32|0,Ic(m|0),w=n+36|0,_=r[w>>2]|0,g=n+40|0,y=r[g>>2]|0;do if((_|0)!=(y|0)){do $0(r[_>>2]|0),_=_+4|0;while((_|0)!=(y|0));if(w=r[w>>2]|0,y=r[g>>2]|0,(y|0)==(w|0))break;r[g>>2]=y+(~((y-4+(-w|0)|0)>>>2)<<2)}while(!1);m=r[m>>2]|0,(m|0)!=0&&$0(m),m=r[n+20>>2]|0,(m|0)!=0&&(n=n+24|0,g=r[n>>2]|0,(g|0)!=(m|0)&&(r[n>>2]=g+(~((g-4+(-m|0)|0)>>>2)<<2)),$0(m)),h=r[h>>2]|0,(h|0)!=0&&(n=r[o>>2]|0,(n|0)!=(h|0)&&(r[o>>2]=n+(~((n-4+(-h|0)|0)>>>2)<<2)),$0(h))}function _h(n,o){n=n|0,o=o|0;var h=0,m=0;if(o||(m=r[n+12>>2]|0,h=r[n+8>>2]|0,o=m-h>>2,o>>>0<(r[n>>2]|0)>>>0))return m=1,m|0;if((m|0)==(h|0))return m=0,m|0;for(n=0;;){if(m=r[h+(n<<2)>>2]|0,(j[m+100|0]|0)==0&&(r[m+96>>2]|0)==0){h=1,o=7;break}if(n=n+1|0,!(n>>>0<o>>>0)){h=0,o=7;break}}return(o|0)==7?h|0:0}function f2(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0;g=r[n+12>>2]|0,n=r[n+8>>2]|0;e:do if(!((g|0)==(n|0)|m^1)){m=0;t:for(;;){w=r[n+(m<<2)>>2]|0;do if((r[w+92>>2]|0)==(o|0)){if((r[w+104>>2]|0)<=(h|0))break;if((r[w+96>>2]|0)==2)break t}while(!1);if(m=m+1|0,!(m>>>0<g-n>>2>>>0))break e}return m|0}while(!1);if((g|0)==(n|0))return w=-1,w|0;w=0;e:for(;;){m=r[n+(w<<2)>>2]|0;do if((r[m+92>>2]|0)==(o|0)){if((r[m+104>>2]|0)<=(h|0))break;if((r[m+96>>2]|0)!=0){m=w,h=11;break e}}while(!1);if(w=w+1|0,!(w>>>0<g-n>>2>>>0)){m=-1,h=11;break}}return(h|0)==11?m|0:0}function bh(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0;g=r[n+12>>2]|0,n=r[n+8>>2]|0;e:do if(!((g|0)==(n|0)|m^1)){m=0;t:for(;;){w=r[n+(m<<2)>>2]|0;do if((r[w+88>>2]|0)==(o|0)){if((r[w+104>>2]|0)<=(h|0))break;if((r[w+96>>2]|0)==2)break t}while(!1);if(m=m+1|0,!(m>>>0<g-n>>2>>>0))break e}return m|0}while(!1);if((g|0)==(n|0))return w=-1,w|0;w=0;e:for(;;){m=r[n+(w<<2)>>2]|0;do if((r[m+88>>2]|0)==(o|0)){if((r[m+104>>2]|0)<=(h|0))break;if((r[m+96>>2]|0)!=0){m=w,h=11;break e}}while(!1);if(w=w+1|0,!(w>>>0<g-n>>2>>>0)){m=-1,h=11;break}}return(h|0)==11?m|0:0}function kh(n,o){n=n|0,o=o|0;var h=0,m=0,g=0;if(h=r[n+12>>2]|0,n=r[n+8>>2]|0,(h|0)==(n|0))return g=-1,g|0;for(m=0;;){if(g=m+1|0,(r[r[n+(m<<2)>>2]>>2]|0)==(o|0)){o=4;break}if(g>>>0<h-n>>2>>>0)m=g;else{m=-1,o=4;break}}return(o|0)==4?m|0:0}function Sh(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0;if(o=n+20|0,g=r[o>>2]|0,h=n+24|0,m=r[h>>2]|0,(g|0)==(m|0)&&y0(11328,15872,147,17376),y=m-g>>2,y>>>0>1)for(_=r[(r[g>>2]|0)+92>>2]|0,m=0,B=1;w=r[(r[g+(B<<2)>>2]|0)+92>>2]|0,C=(w|0)<(_|0),m=C?B:m,B=B+1|0,B>>>0<y>>>0;)_=C?w:_;else m=0;w=g+(m<<2)|0,_=n+40|0,y=r[_>>2]|0,B=n+36|0,C=r[B>>2]|0,(y|0)==(C|0)?oe=0:oe=(y-C<<8)-1|0,te=n+48|0,q=r[te>>2]|0,g=n+52|0,re=r[g>>2]|0,(oe-q|0)==(re|0)?(t4(n+32|0),n=r[g>>2]|0,q=r[te>>2]|0,C=r[B>>2]|0,y=r[_>>2]|0):n=re,_=n+q|0;do if((y|0)!=(C|0)){if(y=(r[C+(_>>>10<<2)>>2]|0)+((_&1023)<<2)|0,(y|0)==0)break;r[y>>2]=r[w>>2]}while(!1);r[g>>2]=n+1,r[(r[o>>2]|0)+(m<<2)>>2]=r[(r[h>>2]|0)-4>>2],re=r[h>>2]|0,oe=re-4|0,r[h>>2]=re+(~((oe+(-oe|0)|0)>>>2)<<2)}function Eh(n){n=n|0;var o=0,h=0;if(o=n+20|0,h=n+24|0,(r[o>>2]|0)==(r[h>>2]|0))return h=0,h|0;for(;;)if(Sh(n),(r[o>>2]|0)==(r[h>>2]|0)){n=1;break}return n|0}function Zp(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0;if(o=n+12|0,y=r[o>>2]|0,m=n+8|0,w=r[m>>2]|0,(y|0)!=(w|0)){g=0;do B=r[w+(g<<2)>>2]|0,_=B+100|0,C=B+96|0,(j[_]|0)==0?(r[C>>2]|0)!=0&&(h=4):h=4,(h|0)==4&&(h=0,j[_]=0,r[C>>2]=0,Gl(B),y=r[o>>2]|0,w=r[m>>2]|0),g=g+1|0;while(g>>>0<y-w>>2>>>0)}if(h=r[n+20>>2]|0,o=n+24|0,m=r[o>>2]|0,(m|0)==(h|0)){B=n+32|0,Ic(B);return}r[o>>2]=m+(~((m-4+(-h|0)|0)>>>2)<<2),B=n+32|0,Ic(B)}function Th(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0;_=D,D=D+8|0,te=_|0,q=n+8|0,B=n+12|0,le=r[B>>2]|0,C=q|0,oe=r[C>>2]|0;e:do if((le|0)==(oe|0))re=-1,ne=le,oe=le;else{for(re=0;ne=r[oe+(re<<2)>>2]|0,!((j[ne+100|0]|0)==0&&(r[ne+96>>2]|0)==0);)if(re=re+1|0,!(re>>>0<le-oe>>2>>>0)){re=-1,ne=le;break e}Gl(ne),ne=r[B>>2]|0,oe=r[C>>2]|0}while(!1);le=ne-oe>>2;do if(!(le>>>0<=(r[n+4>>2]|0)>>>0|(re|0)==(le-1|0))){if(oe=r[ne-4>>2]|0,(j[oe+100|0]|0)!=0||(r[oe+96>>2]|0)!=0)break;(oe|0)!=0&&(p2(oe),$0(oe),ne=r[B>>2]|0),le=ne-4|0,ne=ne+(~((le+(-le|0)|0)>>>2)<<2)|0,r[B>>2]=ne}while(!1);do if((re|0)==-1){if(re=ne-(r[C>>2]|0)>>2,le=It(10624)|0,Pc(le),r[te>>2]=le,oe=r[B>>2]|0,!(oe>>>0<(r[n+16>>2]|0)>>>0)){e4(q,te);break}(oe|0)==0?q=0:(r[oe>>2]=le,q=r[B>>2]|0),r[B>>2]=q+4}while(!1);return B=r[(r[C>>2]|0)+(re<<2)>>2]|0,C=r[o+476>>2]|0,C>>>0<4?(Ch(B,r[o+484>>2]|0,r[o+488>>2]|0,C,o,1,h,0,m,g,w,y)|0,j[B+10516|0]=0,D=_,re|0):(y0(13160,15872,259,17360),0)}function xh(n){n=n|0;var o=0,h=0;o=n+36|0,h=n+48|0,n=n+52|0,r[n>>2]=(r[n>>2]|0)-1,n=(r[h>>2]|0)+1|0,r[h>>2]=n,n>>>0>2047&&($0(r[r[o>>2]>>2]|0),r[o>>2]=(r[o>>2]|0)+4,r[h>>2]=(r[h>>2]|0)-1024)}function e4(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;g=n+4|0,h=n|0,y=r[h>>2]|0,B=y,w=(r[g>>2]|0)-B|0,_=w>>2,m=_+1|0,m>>>0>1073741823&&qi(0),n=n+8|0,B=(r[n>>2]|0)-B|0,B>>2>>>0<536870911?(B=B>>1,q=B>>>0<m>>>0?m:B,(q|0)==0?(B=0,q=0):C=5):(q=1073741823,C=5),(C|0)==5&&(B=It(q<<2)|0),_=B+(_<<2)|0,(_|0)!=0&&(r[_>>2]=r[o>>2]),o=y,Tt(B|0,o|0,w)|0,r[h>>2]=B,r[g>>2]=B+(m<<2),r[n>>2]=B+(q<<2),(y|0)!=0&&$0(o)}function Ic(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0;m=n+4|0,g=r[m>>2]|0,o=n+16|0,C=r[o>>2]|0,_=g+(C>>>10<<2)|0,h=n+8|0,y=r[h>>2]|0,(y|0)==(g|0)?(w=0,C=0,n=n+20|0):(n=n+20|0,w=C+(r[n>>2]|0)|0,w=(r[g+(w>>>10<<2)>>2]|0)+((w&1023)<<2)|0,C=(r[_>>2]|0)+((C&1023)<<2)|0);e:for(;;){do{if((C|0)==(w|0))break e;C=C+4|0}while((C-(r[_>>2]|0)|0)!=4096);C=_+4|0,_=C,C=r[C>>2]|0}if(r[n>>2]=0,w=y-g>>2,w>>>0>2)do $0(r[g>>2]|0),g=(r[m>>2]|0)+4|0,r[m>>2]=g,w=(r[h>>2]|0)-g>>2;while(w>>>0>2);if((w|0)==2){r[o>>2]=1024;return}else if((w|0)==1){r[o>>2]=512;return}else return}function t4(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0;if(o=D,D=D+48|0,q=o|0,B=o+8|0,y=o+16|0,_=o+40|0,m=n+16|0,h=r[m>>2]|0,h>>>0>1023){r[m>>2]=h-1024,w=n+4|0,_=r[w>>2]|0,m=r[_>>2]|0,q=_+4|0,r[w>>2]=q,h=n+8|0,y=r[h>>2]|0,g=n+12|0;do if((y|0)==(r[g>>2]|0)){if(n=n|0,te=r[n>>2]|0,q>>>0>te>>>0){le=q,g=((le-te>>2)+1|0)/-2|0,y=y-le|0,Gi(_+(g+1<<2)|0,q|0,y|0)|0,y=_+((y>>2)+1+g<<2)|0,r[h>>2]=y,r[w>>2]=(r[w>>2]|0)+(g<<2),g=13;break}if(_=y-te>>1,_=(_|0)==0?1:_,B=It(_<<2)|0,C=B+(_>>>2<<2)|0,_=B+(_<<2)|0,(q|0)==(y|0))y=C;else{te=C;do(te|0)==0?te=0:r[te>>2]=r[q>>2],te=te+4|0,q=q+4|0;while((q|0)!=(y|0));y=te,te=r[n>>2]|0}if(r[n>>2]=B,r[w>>2]=C,r[h>>2]=y,r[g>>2]=_,(te|0)==0){g=12;break}$0(te),y=r[h>>2]|0,g=12}else g=12;while(!1);(g|0)==12&&((y|0)==0?m=0:g=13),(g|0)==13&&(r[y>>2]=m,m=r[h>>2]|0),r[h>>2]=m+4,D=o;return}if(oe=n|0,h=n+8|0,te=r[h>>2]|0,g=n+4|0,C=te-(r[g>>2]|0)>>2,m=n+12|0,re=r[m>>2]|0,w=n|0,le=re-(r[w>>2]|0)|0,!(C>>>0<le>>2>>>0)){for(B=le>>1,le=(B|0)==0?1:B,B=y+12|0,r[y+16>>2]=n+12,oe=It(le<<2)|0,q=y|0,r[q>>2]=oe,re=oe+(C<<2)|0,n=y+8|0,r[n>>2]=re,C=y+4|0,r[C>>2]=re,r[B>>2]=oe+(le<<2),le=It(4096)|0,r[_>>2]=le,s4(y,_),_=r[h>>2]|0;(_|0)!=(r[g>>2]|0);)le=_-4|0,n4(y,le),_=le;if(y=r[w>>2]|0,r[w>>2]=r[q>>2],r[q>>2]=y,r[g>>2]=r[C>>2],r[C>>2]=_,g=r[h>>2]|0,r[h>>2]=r[n>>2],r[n>>2]=g,le=r[m>>2]|0,r[m>>2]=r[B>>2],r[B>>2]=le,(g|0)!=(_|0)&&(r[n>>2]=g+(~((g-4+(-_|0)|0)>>>2)<<2)),(y|0)==0){D=o;return}$0(y),D=o;return}if(n=It(4096)|0,(re|0)!=(te|0)){r[q>>2]=n,i4(oe,q),D=o;return}r[B>>2]=n,r4(oe,B),y=r[g>>2]|0,n=r[y>>2]|0,te=y+4|0,r[g>>2]=te,B=r[h>>2]|0;do if((B|0)==(r[m>>2]|0)){if(q=r[w>>2]|0,te>>>0>q>>>0){oe=te,le=((oe-q>>2)+1|0)/-2|0,B=B-oe|0,Gi(y+(le+1<<2)|0,te|0,B|0)|0,B=y+((B>>2)+1+le<<2)|0,r[h>>2]=B,r[g>>2]=(r[g>>2]|0)+(le<<2),g=29;break}if(y=B-q>>1,y=(y|0)==0?1:y,C=It(y<<2)|0,_=C+(y>>>2<<2)|0,y=C+(y<<2)|0,(te|0)==(B|0))B=_;else{q=_;do(q|0)==0?q=0:r[q>>2]=r[te>>2],q=q+4|0,te=te+4|0;while((te|0)!=(B|0));B=q,q=r[w>>2]|0}if(r[w>>2]=C,r[g>>2]=_,r[h>>2]=B,r[m>>2]=y,(q|0)==0){g=28;break}$0(q),B=r[h>>2]|0,g=28}else g=28;while(!1);(g|0)==28&&((B|0)==0?m=0:g=29),(g|0)==29&&(r[B>>2]=n,m=r[h>>2]|0),r[h>>2]=m+4,D=o}function i4(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;h=n+8|0,y=r[h>>2]|0,m=n+12|0;do if((y|0)==(r[m>>2]|0)){if(g=n+4|0,B=r[g>>2]|0,n=n|0,q=r[n>>2]|0,B>>>0>q>>>0){C=B,q=((C-q>>2)+1|0)/-2|0,y=y-C|0,Gi(B+(q<<2)|0,B|0,y|0)|0,y=B+(q+(y>>2)<<2)|0,r[h>>2]=y,r[g>>2]=(r[g>>2]|0)+(q<<2);break}if(w=y-q>>1,C=(w|0)==0?1:w,_=It(C<<2)|0,w=_+(C>>>2<<2)|0,C=_+(C<<2)|0,(B|0)==(y|0))y=w;else{q=w;do(q|0)==0?q=0:r[q>>2]=r[B>>2],q=q+4|0,B=B+4|0;while((B|0)!=(y|0));y=q,q=r[n>>2]|0}if(r[n>>2]=_,r[g>>2]=w,r[h>>2]=y,r[m>>2]=C,(q|0)==0)break;$0(q),y=r[h>>2]|0}while(!1);if((y|0)==0){q=0,q=q+4|0,r[h>>2]=q;return}r[y>>2]=r[o>>2],q=r[h>>2]|0,q=q+4|0,r[h>>2]=q}function r4(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;h=n+4|0,B=r[h>>2]|0,m=n|0;do if((B|0)==(r[m>>2]|0)){if(g=n+8|0,w=r[g>>2]|0,n=n+12|0,q=r[n>>2]|0,y=q,w>>>0<q>>>0){C=w,q=((y-C>>2)+1|0)/2|0,C=C-B|0,_=w+(q-(C>>2)<<2)|0,Gi(_|0,B|0,C|0)|0,r[h>>2]=_,r[g>>2]=(r[g>>2]|0)+(q<<2);break}if(y=y-B>>1,C=(y|0)==0?1:y,y=It(C<<2)|0,_=y+((C+3|0)>>>2<<2)|0,C=y+(C<<2)|0,(B|0)==(w|0))q=_;else{q=_;do(q|0)==0?q=0:r[q>>2]=r[B>>2],q=q+4|0,B=B+4|0;while((B|0)!=(w|0));B=r[m>>2]|0}if(r[m>>2]=y,r[h>>2]=_,r[g>>2]=q,r[n>>2]=C,(B|0)==0)break;$0(B),_=r[h>>2]|0}else _=B;while(!1);r[_-4>>2]=r[o>>2],r[h>>2]=(r[h>>2]|0)-4}function s4(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;h=n+8|0,y=r[h>>2]|0,m=n+12|0;do if((y|0)==(r[m>>2]|0)){if(g=n+4|0,B=r[g>>2]|0,n=n|0,q=r[n>>2]|0,B>>>0>q>>>0){C=B,q=((C-q>>2)+1|0)/-2|0,y=y-C|0,Gi(B+(q<<2)|0,B|0,y|0)|0,y=B+(q+(y>>2)<<2)|0,r[h>>2]=y,r[g>>2]=(r[g>>2]|0)+(q<<2);break}if(w=y-q>>1,C=(w|0)==0?1:w,_=It(C<<2)|0,w=_+(C>>>2<<2)|0,C=_+(C<<2)|0,(B|0)==(y|0))y=w;else{q=w;do(q|0)==0?q=0:r[q>>2]=r[B>>2],q=q+4|0,B=B+4|0;while((B|0)!=(y|0));y=q,q=r[n>>2]|0}if(r[n>>2]=_,r[g>>2]=w,r[h>>2]=y,r[m>>2]=C,(q|0)==0)break;$0(q),y=r[h>>2]|0}while(!1);if((y|0)==0){q=0,q=q+4|0,r[h>>2]=q;return}r[y>>2]=r[o>>2],q=r[h>>2]|0,q=q+4|0,r[h>>2]=q}function n4(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0;h=n+4|0,B=r[h>>2]|0,m=n|0;do if((B|0)==(r[m>>2]|0)){if(g=n+8|0,w=r[g>>2]|0,n=n+12|0,q=r[n>>2]|0,y=q,w>>>0<q>>>0){C=w,q=((y-C>>2)+1|0)/2|0,C=C-B|0,_=w+(q-(C>>2)<<2)|0,Gi(_|0,B|0,C|0)|0,r[h>>2]=_,r[g>>2]=(r[g>>2]|0)+(q<<2);break}if(y=y-B>>1,C=(y|0)==0?1:y,y=It(C<<2)|0,_=y+((C+3|0)>>>2<<2)|0,C=y+(C<<2)|0,(B|0)==(w|0))q=_;else{q=_;do(q|0)==0?q=0:r[q>>2]=r[B>>2],q=q+4|0,B=B+4|0;while((B|0)!=(w|0));B=r[m>>2]|0}if(r[m>>2]=y,r[h>>2]=_,r[g>>2]=q,r[n>>2]=C,(B|0)==0)break;$0(B),_=r[h>>2]|0}else _=B;while(!1);r[_-4>>2]=r[o>>2],r[h>>2]=(r[h>>2]|0)-4}function a4(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0;if(w=r[o+4>>2]|0,m=r[o+8>>2]|0,g=(m|0)/(r[h+5784>>2]|0)|0,n=r[o+12>>2]|0,o=w-1+n|0,o=o-((o|0)%(n|0)|0)|0,w=((w|0)/(r[h+5780>>2]|0)|0)-1+n|0,n=w-((w|0)%(n|0)|0)|0,w=r[h+5760>>2]|0,!((w-8|0)>>>0<9))return y0(15720,15792,115,17912),0;if(y=r[h+5768>>2]|0,!((y-8|0)>>>0<9))return y0(15344,15792,116,17912),0;m=or(16,s0(s0(o,m)|0,(w+7|0)/8|0)|0)|0,w=(m|0)==0;do if((r[h+20>>2]|0)==0){if(w)h=0;else{n=0,y=0,g=0;break}return h|0}else{if(g=s0(s0(n,g)|0,(y+7|0)/8|0)|0,y=or(16,g)|0,g=or(16,g)|0,!((y|0)==0|(g|0)==0|w))break;return w||Ft(m),(y|0)!=0&&Ft(y),(g|0)==0?(y=0,y|0):(Ft(g),y=0,y|0)}while(!1);return r[h+4>>2]=m,r[h+10492>>2]=0,r[h+40>>2]=o,r[h+8>>2]=y,r[h+10496>>2]=0,r[h+12>>2]=g,r[h+10500>>2]=0,r[h+44>>2]=n,y=1,y|0}function o4(n,o,h){n=n|0,o=o|0,n=r[o+4>>2]|0,(n|0)!=0&&Ft(n),n=r[o+8>>2]|0,(n|0)!=0&&Ft(n),o=r[o+12>>2]|0,(o|0)!=0&&Ft(o)}function Pc(n){n=n|0,r[n+48>>2]=0,r[n+52>>2]=0,r[n+56>>2]=0,r[n+700>>2]=0,r[n+704>>2]=0,r[n+708>>2]=0,V0(n+736|0,0,24)|0,R1(n+764|0),X1(n+5932|0),j[n+10518|0]=0,j[n+10519|0]=0,j[n+10520|0]=0,V0(n+10340|0,0,140)|0,r[n>>2]=-1,r[n+104>>2]=0,r[n+10332>>2]=0,r[n+10336>>2]=0,r[n+10512>>2]=0,r[n+4>>2]=0,r[n+60>>2]=0,r[n+8>>2]=0,r[n+64>>2]=0,r[n+12>>2]=0,r[n+68>>2]=0,r[n+28>>2]=0,r[n+24>>2]=0,r[n+10524>>2]=0,V0(n+10480|0,0,24)|0,j[n+10516|0]=2,r[n+88>>2]=-1,r[n+92>>2]=-1,r[n+96>>2]=0,j[n+100|0]=0,V0(n+10528|0,0,20)|0}function Ch(n,o,h,m,g,w,y,_,C,B,q,te){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0;var re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0;if(re=D,D=D+40|0,le=re|0,(g|0)==0)return y0(13112,15792,240,17792),0;if(pe=n+764|0,Tt(pe|0,g|0,4717)|0,(pe|0)!=(g|0)&&dh(n+5484|0,r[g+4720>>2]|0,r[g+4724>>2]|0),Tt(n+5496|0,g+4732|0,436)|0,Gl(n),ne=r[8838]|0,r[8838]=ne+1,r[n>>2]=ne,r[n+104>>2]=2147483647,r[n+10332>>2]=y,r[n+10336>>2]=_,r[n+20>>2]=m,r[n+24>>2]=o,r[n+28>>2]=h,ne=n+32|0,r[ne>>2]=o,pe=n+36|0,r[pe>>2]=h,r[n+10488>>2]=q,q=n+10480|0,r[q>>2]=C,r[q+4>>2]=B,(m|0)==1)B=2,oe=8;else if((m|0)==0|(m|0)==3)C=1,B=1;else if((m|0)==2)B=1,oe=8;else return y0(10232,15792,276,17792),0;if((oe|0)==8&&(C=2),(m|0)==2)r[le>>2]=3,q=(o+1|0)/2|0,r[ne>>2]=q,m=h;else if((m|0)==0)r[le>>2]=1,r[ne>>2]=0,r[pe>>2]=0,q=0,m=0;else if((m|0)==1)r[le>>2]=2,q=(o+1|0)/2|0,r[ne>>2]=q,m=(h+1|0)/2|0,r[pe>>2]=m;else if((m|0)==3)r[le>>2]=4,q=o,m=h;else return y0(7192,15792,302,17792),0;r[le+4>>2]=o,r[le+8>>2]=h,r[le+12>>2]=16,ne=r[g+496>>2]|0,Te=r[g+500>>2]|0,pe=r[g+504>>2]|0,ge=r[g+508>>2]|0,Ve=Te+ne|0,ve=o-(s0(Ve,C)|0)|0,r[n+72>>2]=ve,o=ge+pe|0,ue=h-(s0(o,B)|0)|0,r[n+76>>2]=ue,r[n+80>>2]=q-Ve,r[n+84>>2]=m-o,h=s0(ne,C)|0,r[le+16>>2]=h,o=s0(Te,C)|0,r[le+20>>2]=o,o=s0(pe,B)|0,r[le+24>>2]=o,C=s0(ge,B)|0,r[le+28>>2]=C,r[le+32>>2]=ve,r[le+36>>2]=ue,j[n+16|0]=(r[g+4996>>2]|0)>8|0,C=(r[g+5004>>2]|0)>8|0,j[n+17|0]=C,j[n+18|0]=C,C=(y|0)==0,C?B=0:B=r[y+544>>2]|0,m=(_|0)==0;do if(m)te=te^1,oe=23;else{if(B=r[_+3060>>2]|0,te=te^1,m|te){oe=23;break}if(Ve=r[_+3064>>2]|0,r[n+10512>>2]=Ve,te=n+10504|0,(Ve|0)==0){oe=te,Ve=27248,te=r[Ve>>2]|0,Ve=r[Ve+4>>2]|0,r[oe>>2]=te,r[oe+4>>2]=Ve,oe=26;break}else{r[te>>2]=0,r[n+10508>>2]=0;break}}while(!1);do if((oe|0)==23)if(oe=n+10504|0,C|te){Ve=27248,te=r[Ve>>2]|0,Ve=r[Ve+4>>2]|0,r[oe>>2]=te,r[oe+4>>2]=Ve,oe=26;break}else{Ve=y+536|0,te=r[Ve>>2]|0,Ve=r[Ve+4>>2]|0,r[oe>>2]=te,r[oe+4>>2]=Ve,oe=26;break}while(!1);do if((oe|0)==26){if((te|0)==0)break;if(Ve=(Lr[te&15](y,le,n,B)|0)==0,Te=(r[n+4>>2]|0)+((s0(r[n+40>>2]|0,o)|0)+h)|0,r[n+60>>2]=Te,Te=(s0(r[n+44>>2]|0,pe)|0)+ne|0,r[n+64>>2]=(r[n+8>>2]|0)+Te,r[n+68>>2]=(r[n+12>>2]|0)+Te,Ve)oe=7;else break;return D=re,oe|0}while(!1);do if(w){te=g+5112|0,_=r[te>>2]|0,y=g+5116|0,le=r[y>>2]|0,w=g+5108|0,ne=r[w>>2]|0,h=s0(le,_)|0,o=n+10404|0,pe=n+10400|0,C=r[pe>>2]|0;do if((h|0)==(r[o>>2]|0))oe=33;else if(Ft(C),C=ii(h)|0,r[pe>>2]=C,(C|0)==0){r[o>>2]=0,le=0;break}else{r[o>>2]=h,oe=33;break}while(!1);(oe|0)==33&&(r[n+10412>>2]=_,r[n+10416>>2]=le,r[n+10408>>2]=ne,le=(C|0)!=0),te=r[te>>2]|0,y=r[y>>2]|0,w=r[w>>2]|0,_=s0(y,te)|0,ne=n+10424|0,pe=n+10420|0,h=r[pe>>2]|0;do if((_|0)==(r[ne>>2]|0))oe=38;else if(Ft(h),h=ii(_)|0,r[pe>>2]=h,(h|0)==0){r[ne>>2]=0,w=0;break}else{r[ne>>2]=_,oe=38;break}while(!1);(oe|0)==38&&(r[n+10432>>2]=te,r[n+10436>>2]=y,r[n+10428>>2]=w,w=(h|0)!=0),te=le&w,y=g+5052|0,_=r[y>>2]|0,w=g+5060|0,ne=r[w>>2]|0,le=g+5036|0,pe=r[le>>2]|0,C=s0(ne,_)|0,o=n+10364|0,h=n+10360|0,B=r[h>>2]|0;do if((C|0)==(r[o>>2]|0))oe=43;else if(Ft(B|0),Ve=ii(C*3|0)|0,B=Ve,r[h>>2]=B,(Ve|0)==0){r[o>>2]=0,_=0;break}else{r[o>>2]=C,oe=43;break}while(!1);(oe|0)==43&&(r[n+10372>>2]=_,r[n+10376>>2]=ne,r[n+10368>>2]=pe,_=(B|0)!=0),te=te&_,ne=(r[le>>2]|0)-2|0,y=r[y>>2]<<ne,w=r[w>>2]<<ne,ne=s0(w,y)|0,_=n+10384|0,le=n+10380|0,pe=r[le>>2]|0;do if((ne|0)==(r[_>>2]|0))oe=48;else if(Ft(pe|0),Ve=ii(ne*12|0)|0,pe=Ve,r[le>>2]=pe,(Ve|0)==0){r[_>>2]=0,w=0;break}else{r[_>>2]=ne,oe=48;break}while(!1);(oe|0)==48&&(r[n+10392>>2]=y,r[n+10396>>2]=w,r[n+10388>>2]=2,w=(pe|0)!=0),w=te&w,le=r[g+5088>>2]|0,y=r[g+5092>>2]|0,te=r[g+5100>>2]|0,ne=s0(y,le)|0,_=n+10444|0,pe=n+10440|0,h=r[pe>>2]|0;do if((ne|0)==(r[_>>2]|0))oe=53;else if(Ft(h),h=ii(ne)|0,r[pe>>2]=h,(h|0)==0){r[_>>2]=0,y=0;break}else{r[_>>2]=ne,oe=53;break}while(!1);(oe|0)==53&&(r[n+10452>>2]=le,r[n+10456>>2]=y,r[n+10448>>2]=te,y=(h|0)!=0),w=w&y,le=((r[g+484>>2]|0)+3|0)/4|0,y=((r[g+488>>2]|0)+3|0)/4|0,_=s0(y,le)|0,te=n+10464|0,ne=n+10460|0,pe=r[ne>>2]|0;do if((_|0)==(r[te>>2]|0))oe=58;else if(Ft(pe),pe=ii(_)|0,r[ne>>2]=pe,(pe|0)==0){r[te>>2]=0,y=0;break}else{r[te>>2]=_,oe=58;break}while(!1);if((oe|0)==58&&(r[n+10472>>2]=le,r[n+10476>>2]=y,r[n+10468>>2]=2,y=(pe|0)!=0),y=w&y,le=n+10344|0,pe=r[le>>2]|0,(pe|0)==(r[g+5072>>2]|0)){if(y)break;return oe=7,D=re,oe|0}if(w=n+10524|0,te=r[w>>2]|0,(te|0)!=0){if(ne=te-76+72|0,_=ne,ne=r[ne>>2]|0,(ne|0)!=0){ne=te+(ne*76|0)|0;do ne=ne-76|0;while((ne|0)!=(te|0))}Xi(_),pe=r[le>>2]|0}_=r[g+5056>>2]|0,te=r[g+5064>>2]|0,g=r[g+5040>>2]|0,ne=s0(te,_)|0,h=n+10340|0,o=r[h>>2]|0;do if((ne|0)==(pe|0))ne=pe,oe=69;else if(Ft(o),Ve=ii(ne*24|0)|0,o=Ve,r[h>>2]=o,(Ve|0)==0){r[le>>2]=0,n=0,ne=0;break}else{r[le>>2]=ne,oe=69;break}while(!1);if((oe|0)==69&&(r[n+10352>>2]=_,r[n+10356>>2]=te,r[n+10348>>2]=g,n=(o|0)!=0),oe=y&n,n=Lt(ne|0,76)|0,Ve=Mt,n=m2(n|0,4)|0,n=Qi(Ve|Mt?-1:n)|0,r[n>>2]=ne,n=n+4|0,(ne|0)!=0){g=n+(ne*76|0)|0,y=n;do go(y),y=y+76|0;while((y|0)!=(g|0))}if(r[w>>2]=n,oe)break;return oe=7,D=re,oe|0}while(!1);return Ve=0,D=re,Ve|0}function Gl(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0;if(o=n+4|0,(r[o>>2]|0)!=0&&(h=r[n+10512>>2]|0,(h|0)==0?(m=r[n+10332>>2]|0,(m|0)==0?h=0:h=r[m+544>>2]|0,Kr[r[n+10508>>2]&63](m,n,h)):(y=r[n+10336>>2]|0,Kr[h&63](y,n,r[y+3060>>2]|0)),r[o>>2]=0,r[n+60>>2]=0,r[n+8>>2]=0,r[n+64>>2]=0,r[n+12>>2]=0,r[n+68>>2]=0),o=n+52|0,m=r[o>>2]|0,n=n+48|0,g=r[n>>2]|0,(m|0)!=(g|0)){for(h=0,w=m;m=r[g+(h<<2)>>2]|0,(m|0)==0?m=w:(w=r[m+1344>>2]|0,(w|0)!=0&&(g=m+1348|0,y=r[g>>2]|0,(y|0)!=(w|0)&&(r[g>>2]=y+(~((y-4+(-w|0)|0)>>>2)<<2)),$0(w)),ts(m+1332|0),y=r[m+776>>2]|0,(y|0)!=0&&(g=m+780|0,w=r[g>>2]|0,(w|0)!=(y|0)&&(r[g>>2]=w+(~((w-4+(-y|0)|0)>>>2)<<2)),$0(y)),$0(m),m=r[o>>2]|0,g=r[n>>2]|0),h=h+1|0,w=g,h>>>0<m-w>>2>>>0;)w=m;(m|0)!=(g|0)&&(r[o>>2]=m+(~((m-4+(-w|0)|0)>>>2)<<2))}}function p2(n){n=n|0;var o=0,h=0,m=0;if(Gl(n),o=r[n+10524>>2]|0,(o|0)!=0){if(m=o-76+72|0,h=m,m=r[m>>2]|0,(m|0)!=0){m=o+(m*76|0)|0;do m=m-76|0;while((m|0)!=(o|0))}Xi(h)}Ft(r[n+10460>>2]|0),Ft(r[n+10440>>2]|0),Ft(r[n+10420>>2]|0),Ft(r[n+10400>>2]|0),Ft(r[n+10380>>2]|0),Ft(r[n+10360>>2]|0),Ft(r[n+10340>>2]|0),zi(n+5932|0),ur(n+764|0),$r(n+108|0),o=r[n+48>>2]|0,(o|0)!=0&&(n=n+52|0,h=r[n>>2]|0,(h|0)!=(o|0)&&(r[n>>2]=h+(~((h-4+(-o|0)|0)>>>2)<<2)),$0(o))}function l4(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0,(o|0)>-1&&V0(r[n+4>>2]|0,o&255|0,s0(r[n+28>>2]|0,r[n+40>>2]|0)|0)|0,(h|0)>-1&&V0(r[n+8>>2]|0,h&255|0,s0(r[n+36>>2]|0,r[n+44>>2]|0)|0)|0,(m|0)>-1&&V0(r[n+12>>2]|0,m&255|0,s0(r[n+36>>2]|0,r[n+44>>2]|0)|0)|0}function u4(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0;g=r[o+28>>2]|0,g=(g|0)<(m|0)?g:m,(h&1|0)!=0&&y0(5264,15792,535,17776),(g&1|0)!=0&&y0(3744,15792,536,17776),q=((r[n+5760>>2]|0)+7|0)/8|0,m=((r[n+5768>>2]|0)+7|0)/8|0,w=o+40|0,oe=r[w>>2]|0,y=n+40|0,re=r[y>>2]|0;e:do if((oe|0)==(re|0))re=s0(s0(q,h)|0,oe)|0,Tt((r[n+4>>2]|0)+re|0,(r[o+4>>2]|0)+re|0,s0(s0(q,g-h|0)|0,oe)|0)|0;else{if((g|0)<=(h|0))break;for(_=n+4|0,C=o+4|0,B=o+24|0,te=h;;){if(le=s0(te,q)|0,re=(r[_>>2]|0)+(s0(le,re)|0)|0,oe=(r[C>>2]|0)+(s0(le,oe)|0)|0,Tt(re|0,oe|0,s0(r[B>>2]|0,q)|0)|0,te=te+1|0,(te|0)>=(g|0))break e;re=r[y>>2]|0,oe=r[w>>2]|0}}while(!1);if(y=r[o+5784>>2]|0,te=(h|0)/(y|0)|0,y=(g|0)/(y|0)|0,(r[o+20>>2]|0)!=0){if(g=o+44|0,B=r[g>>2]|0,h=n+44|0,q=r[h>>2]|0,(B|0)==(q|0)){re=s0(te,m)|0,le=s0(re,B)|0,oe=s0(y-te|0,m)|0,Tt((r[n+8>>2]|0)+le|0,(r[o+8>>2]|0)+le|0,s0(oe,B)|0)|0,le=r[h>>2]|0,re=s0(re,le)|0,Tt((r[n+12>>2]|0)+re|0,(r[o+12>>2]|0)+re|0,s0(oe,le)|0)|0;return}if(!((te|0)>=(y|0)))for(w=n+8|0,_=o+8|0,C=o+32|0,n=n+12|0,o=o+12|0;le=s0(te,m)|0,re=(r[w>>2]|0)+(s0(le,q)|0)|0,oe=(r[_>>2]|0)+(s0(le,B)|0)|0,Tt(re|0,oe|0,s0(r[C>>2]|0,m)|0)|0,oe=(r[n>>2]|0)+(s0(le,r[h>>2]|0)|0)|0,le=(r[o>>2]|0)+(s0(le,r[g>>2]|0)|0)|0,Tt(oe|0,le|0,s0(r[C>>2]|0,m)|0)|0,te=te+1|0,!((te|0)>=(y|0));)q=r[h>>2]|0,B=r[g>>2]|0}}function Cr(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0;if(o>>>0>4294967279&&Ar(0),h=n,g=j[h]|0,(g&1)==0?w=10:(g=r[n>>2]|0,w=(g&-2)-1|0,g=g&255),(g&1)==0?m=(g&255)>>>1:m=r[n+4>>2]|0,o=m>>>0>o>>>0?m:o,o>>>0<11?o=10:o=(o+16&-16)-1|0,(o|0)!=(w|0)){do if((o|0)==10)_=n+1|0,y=r[n+8>>2]|0,w=1,C=0;else if(y=o+1|0,o>>>0>w>>>0,_=It(y)|0,(g&1)==0){y=n+1|0,w=0,C=1;break}else{y=r[n+8>>2]|0,w=1,C=1;break}while(!1);if((g&1)==0?g=(g&255)>>>1:g=r[n+4>>2]|0,Tt(_|0,y|0,g+1|0)|0,w&&$0(y),C){r[n>>2]=o+1|1,r[n+4>>2]=m,r[n+8>>2]=_;return}else{j[h]=m<<1;return}}}function so(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0;if(h=n,g=j[h]|0,m=(g&1)!=0,m?(g=r[n+4>>2]|0,w=(r[n>>2]&-2)-1|0):(g=(g&255)>>>1,w=10),(g|0)==(w|0)?(Mc(n,w,1,w,w,0,0),(j[h]&1)==0?m=7:m=8):m?m=8:m=7,(m|0)==7){j[h]=(g<<1)+2,m=n+1|0,w=g+1|0,g=m+g|0,j[g]=o,w=m+w|0,j[w]=0;return}else if((m|0)==8){m=r[n+8>>2]|0,w=g+1|0,r[n+4>>2]=w,g=m+g|0,j[g]=o,w=m+w|0,j[w]=0;return}}function Dh(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0;return m=n,y=j[m]|0,(y&1)==0?g=10:(y=r[n>>2]|0,g=(y&-2)-1|0,y=y&255),(y&1)==0?w=(y&255)>>>1:w=r[n+4>>2]|0,(g-w|0)>>>0<h>>>0?(Rh(n,g,h-g+w|0,w,w,0,h,o),n|0):((h|0)==0||((y&1)==0?g=n+1|0:g=r[n+8>>2]|0,Tt(g+w|0,o|0,h)|0,h=w+h|0,(j[m]&1)==0?j[m]=h<<1:r[n+4>>2]=h,j[g+h|0]=0),n|0)}function Rh(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0;(-18-o|0)>>>0<h>>>0&&Ar(0),(j[n]&1)==0?C=n+1|0:C=r[n+8>>2]|0;do if(o>>>0<2147483623){if(B=h+o|0,h=o<<1,h=B>>>0<h>>>0?h:B,h>>>0<11){B=11;break}B=h+16&-16}else B=-17;while(!1);if(h=It(B)|0,(g|0)!=0&&Tt(h|0,C|0,g)|0,(y|0)!=0&&Tt(h+g|0,_|0,y)|0,m=m-w|0,(m|0)!=(g|0)&&Tt(h+(y+g)|0,C+(w+g)|0,m-g|0)|0,(o|0)==10){_=n+8|0,r[_>>2]=h,_=B|1,B=n|0,r[B>>2]=_,B=m+y|0,_=n+4|0,r[_>>2]=B,B=h+B|0,j[B]=0;return}$0(C),_=n+8|0,r[_>>2]=h,_=B|1,B=n|0,r[B>>2]=_,B=m+y|0,_=n+4|0,r[_>>2]=B,B=h+B|0,j[B]=0}function Mc(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0;(-17-o|0)>>>0<h>>>0&&Ar(0),(j[n]&1)==0?_=n+1|0:_=r[n+8>>2]|0;do if(o>>>0<2147483623){if(C=h+o|0,h=o<<1,h=C>>>0<h>>>0?h:C,h>>>0<11){C=11;break}C=h+16&-16}else C=-17;while(!1);if(h=It(C)|0,(g|0)!=0&&Tt(h|0,_|0,g)|0,m=m-w|0,(m|0)!=(g|0)&&Tt(h+(y+g)|0,_+(w+g)|0,m-g|0)|0,(o|0)==10){m=n+8|0,r[m>>2]=h,h=C|1,C=n|0,r[C>>2]=h;return}$0(_),m=n+8|0,r[m>>2]=h,h=C|1,C=n|0,r[C>>2]=h}function no(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0;if(h>>>0>1073741807&&Ar(0),h>>>0<2){j[n]=h<<1,n=n+4|0,Me(n,o,h)|0,o=n+(h<<2)|0,r[o>>2]=0;return}else{g=h+4&-4,m=It(g<<2)|0,r[n+8>>2]=m,r[n>>2]=g|1,r[n+4>>2]=h,n=m,Me(n,o,h)|0,o=n+(h<<2)|0,r[o>>2]=0;return}}function Uc(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0;if(o>>>0>1073741807&&Ar(0),o>>>0<2){j[n]=o<<1,n=n+4|0,c0(n,h,o)|0,h=n+(o<<2)|0,r[h>>2]=0;return}else{g=o+4&-4,m=It(g<<2)|0,r[n+8>>2]=m,r[n>>2]=g|1,r[n+4>>2]=o,n=m,c0(n,h,o)|0,h=n+(o<<2)|0,r[h>>2]=0;return}}function Gt(n){n=n|0,(j[n]&1)!=0&&$0(r[n+8>>2]|0)}function Oi(n,o){return n=n|0,o=o|0,c4(n,o,n0(o)|0)|0}function c4(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0;return m=n,w=j[m]|0,(w&1)==0?g=1:(w=r[n>>2]|0,g=(w&-2)-1|0,w=w&255),y=(w&1)==0,g>>>0<h>>>0?(y?m=(w&255)>>>1:m=r[n+4>>2]|0,h4(n,g,h-g|0,m,0,m,h,o),n|0):(y?g=n+4|0:g=r[n+8>>2]|0,Xe(g,o,h)|0,r[g+(h<<2)>>2]=0,(j[m]&1)==0?(j[m]=h<<1,n|0):(r[n+4>>2]=h,n|0))}function Ds(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0;if(o>>>0>1073741807&&Ar(0),h=n,g=j[h]|0,(g&1)==0?w=1:(g=r[n>>2]|0,w=(g&-2)-1|0,g=g&255),(g&1)==0?m=(g&255)>>>1:m=r[n+4>>2]|0,o=m>>>0>o>>>0?m:o,o>>>0<2?o=1:o=(o+4&-4)-1|0,(o|0)!=(w|0)){do if((o|0)==1)_=n+4|0,y=r[n+8>>2]|0,w=1,C=0;else if(y=(o<<2)+4|0,o>>>0>w>>>0,_=It(y)|0,(g&1)==0){y=n+4|0,w=0,C=1;break}else{y=r[n+8>>2]|0,w=1,C=1;break}while(!1);if((g&1)==0?g=(g&255)>>>1:g=r[n+4>>2]|0,Me(_,y,g+1|0)|0,w&&$0(y),C){r[n>>2]=o+1|1,r[n+4>>2]=m,r[n+8>>2]=_;return}else{j[h]=m<<1;return}}}function Hl(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0;if(h=n,g=j[h]|0,m=(g&1)!=0,m?(g=r[n+4>>2]|0,w=(r[n>>2]&-2)-1|0):(g=(g&255)>>>1,w=1),(g|0)==(w|0)?(Lh(n,w,1,w,w,0,0),(j[h]&1)==0?m=7:m=8):m?m=8:m=7,(m|0)==7){j[h]=(g<<1)+2,m=n+4|0,w=g+1|0,g=m+(g<<2)|0,r[g>>2]=o,w=m+(w<<2)|0,r[w>>2]=0;return}else if((m|0)==8){m=r[n+8>>2]|0,w=g+1|0,r[n+4>>2]=w,g=m+(g<<2)|0,r[g>>2]=o,w=m+(w<<2)|0,r[w>>2]=0;return}}function h4(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0;(1073741806-o|0)>>>0<h>>>0&&Ar(0),(j[n]&1)==0?C=n+4|0:C=r[n+8>>2]|0;do if(o>>>0<536870887){if(B=h+o|0,h=o<<1,h=B>>>0<h>>>0?h:B,h>>>0<2){B=2;break}B=h+4&-4}else B=1073741807;while(!1);if(h=It(B<<2)|0,(g|0)!=0&&Me(h,C,g)|0,(y|0)!=0&&Me(h+(g<<2)|0,_,y)|0,m=m-w|0,(m|0)!=(g|0)&&Me(h+(y+g<<2)|0,C+(w+g<<2)|0,m-g|0)|0,(o|0)==1){_=n+8|0,r[_>>2]=h,_=B|1,B=n|0,r[B>>2]=_,B=m+y|0,_=n+4|0,r[_>>2]=B,B=h+(B<<2)|0,r[B>>2]=0;return}$0(C),_=n+8|0,r[_>>2]=h,_=B|1,B=n|0,r[B>>2]=_,B=m+y|0,_=n+4|0,r[_>>2]=B,B=h+(B<<2)|0,r[B>>2]=0}function Lh(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0;(1073741807-o|0)>>>0<h>>>0&&Ar(0),(j[n]&1)==0?_=n+4|0:_=r[n+8>>2]|0;do if(o>>>0<536870887){if(C=h+o|0,h=o<<1,h=C>>>0<h>>>0?h:C,h>>>0<2){C=2;break}C=h+4&-4}else C=1073741807;while(!1);if(h=It(C<<2)|0,(g|0)!=0&&Me(h,_,g)|0,m=m-w|0,(m|0)!=(g|0)&&Me(h+(y+g<<2)|0,_+(w+g<<2)|0,m-g|0)|0,(o|0)==1){m=n+8|0,r[m>>2]=h,h=C|1,C=n|0,r[C>>2]=h;return}$0(_),m=n+8|0,r[m>>2]=h,h=C|1,C=n|0,r[C>>2]=h}function Vl(n,o){n=n|0,o=o|0;var h=0,m=0,g=0;if(m=D,D=D+8|0,h=m|0,g=(r[n+24>>2]|0)==0,g?r[n+16>>2]=o|1:r[n+16>>2]=o,((g&1|o)&r[n+20>>2]|0)==0){D=m;return}o=qt(16)|0;do if((j[51816]|0)==0){if((ei(51816)|0)==0)break;r[8332]=21064,Mr(74,33328,di|0)|0}while(!1);n=yn(33328,0,32)|0,r[h>>2]=n|1,r[h+4>>2]=Mt,Y2(o,h,13504),r[o>>2]=20248,Wt(o|0,26120,38)}function zr(n){n=n|0;var o=0,h=0,m=0;if(r[n>>2]=20224,m=r[n+40>>2]|0,o=n+32|0,h=n+36|0,(m|0)!=0)do m=m-1|0,Kr[r[(r[o>>2]|0)+(m<<2)>>2]&63](0,n,r[(r[h>>2]|0)+(m<<2)>>2]|0);while((m|0)!=0);yr(n+28|0),Ft(r[o>>2]|0),Ft(r[h>>2]|0),Ft(r[n+48>>2]|0),Ft(r[n+60>>2]|0)}function Di(n,o){n=n|0,o=o|0,On(n,o+28|0)}function Un(n,o){n=n|0,o=o|0,r[n+24>>2]=o,r[n+16>>2]=(o|0)==0,r[n+20>>2]=0,r[n+4>>2]=4098,r[n+12>>2]=0,r[n+8>>2]=6,V0(n+32|0,0,40)|0,Fn(n+28|0)}function d4(n){n=n|0,r[n>>2]=21296,yr(n+4|0),$0(n)}function f4(n){n=n|0,r[n>>2]=21296,yr(n+4|0)}function p4(n,o){}function m4(n,o,h){return n=n|0,n|0}function g4(n,o,h,m,g,w){n=n|0,w=w|0,w=n,r[w>>2]=0,r[w+4>>2]=0,w=n+8|0,r[w>>2]=-1,r[w+4>>2]=-1}function y4(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0;m=D,g=h,o=D,D=D+16|0,r[o>>2]=r[g>>2],r[o+4>>2]=r[g+4>>2],r[o+8>>2]=r[g+8>>2],r[o+12>>2]=r[g+12>>2],o=n,r[o>>2]=0,r[o+4>>2]=0,o=n+8|0,r[o>>2]=-1,r[o+4>>2]=-1,D=m}function A4(n){return 0}function v4(n){return 0}function w4(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0;if(m=n,(h|0)<=0)return _=0,_|0;for(g=n+12|0,w=n+16|0,y=0;;){if(_=r[g>>2]|0,_>>>0<(r[w>>2]|0)>>>0)r[g>>2]=_+1,_=j[_]|0;else{if(_=_0[r[(r[m>>2]|0)+40>>2]&255](n)|0,(_|0)==-1){h=8;break}_=_&255}if(j[o]=_,y=y+1|0,(y|0)<(h|0))o=o+1|0;else{h=8;break}}return(h|0)==8?y|0:0}function _4(n){return-1}function b4(n){n=n|0;var o=0;return(_0[r[(r[n>>2]|0)+36>>2]&255](n)|0)==-1?(n=-1,n|0):(o=n+12|0,n=r[o>>2]|0,r[o>>2]=n+1,n=We[n]|0,n|0)}function k4(n,o){return-1}function S4(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0;if(w=n,(h|0)<=0)return _=0,_|0;for(m=n+24|0,g=n+28|0,y=0;;){if(_=r[m>>2]|0,_>>>0<(r[g>>2]|0)>>>0)C=j[o]|0,r[m>>2]=_+1,j[_]=C;else if((ni[r[(r[w>>2]|0)+52>>2]&63](n,We[o]|0)|0)==-1){h=7;break}if(y=y+1|0,(y|0)<(h|0))o=o+1|0;else{h=7;break}}return(h|0)==7?y|0:0}function E4(n,o){return-1}function T4(n){n=n|0,r[n>>2]=21224,yr(n+4|0),$0(n)}function x4(n){n=n|0,r[n>>2]=21224,yr(n+4|0)}function C4(n,o){}function D4(n,o,h){return n=n|0,n|0}function R4(n,o,h,m,g,w){n=n|0,w=w|0,w=n,r[w>>2]=0,r[w+4>>2]=0,w=n+8|0,r[w>>2]=-1,r[w+4>>2]=-1}function L4(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0;m=D,g=h,o=D,D=D+16|0,r[o>>2]=r[g>>2],r[o+4>>2]=r[g+4>>2],r[o+8>>2]=r[g+8>>2],r[o+12>>2]=r[g+12>>2],o=n,r[o>>2]=0,r[o+4>>2]=0,o=n+8|0,r[o>>2]=-1,r[o+4>>2]=-1,D=m}function I4(n){return 0}function P4(n){return 0}function B4(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0;if(m=n,(h|0)<=0)return _=0,_|0;for(g=n+12|0,w=n+16|0,y=0;;){if(_=r[g>>2]|0,_>>>0<(r[w>>2]|0)>>>0)r[g>>2]=_+4,_=r[_>>2]|0;else if(_=_0[r[(r[m>>2]|0)+40>>2]&255](n)|0,(_|0)==-1){h=8;break}if(r[o>>2]=_,y=y+1|0,(y|0)>=(h|0)){h=8;break}o=o+4|0}return(h|0)==8?y|0:0}function M4(n){return-1}function U4(n){n=n|0;var o=0;return(_0[r[(r[n>>2]|0)+36>>2]&255](n)|0)==-1?(n=-1,n|0):(o=n+12|0,n=r[o>>2]|0,r[o>>2]=n+4,n=r[n>>2]|0,n|0)}function F4(n,o){return-1}function O4(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0;if(w=n,(h|0)<=0)return _=0,_|0;for(m=n+24|0,g=n+28|0,y=0;;){if(_=r[m>>2]|0,_>>>0<(r[g>>2]|0)>>>0)C=r[o>>2]|0,r[m>>2]=_+4,r[_>>2]=C;else if((ni[r[(r[w>>2]|0)+52>>2]&63](n,r[o>>2]|0)|0)==-1){h=8;break}if(y=y+1|0,(y|0)>=(h|0)){h=8;break}o=o+4|0}return(h|0)==8?y|0:0}function N4(n,o){return-1}function z4(n){n=n|0,zr(n+8|0),$0(n)}function G4(n){n=n|0,zr(n+8|0)}function H4(n){n=n|0;var o=0;o=n,n=r[(r[n>>2]|0)-12>>2]|0,zr(o+(n+8)|0),$0(o+n|0)}function V4(n){n=n|0,zr(n+((r[(r[n>>2]|0)-12>>2]|0)+8)|0)}function Oc(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0;if(o=D,D=D+8|0,g=o|0,m=n,y=r[(r[m>>2]|0)-12>>2]|0,h=n,(r[h+(y+24)>>2]|0)==0)return D=o,n|0;w=g|0,j[w]=0,r[g+4>>2]=n;do if((r[h+(y+16)>>2]|0)==0){if(_=r[h+(y+72)>>2]|0,(_|0)!=0&&(Oc(_)|0,y=r[(r[m>>2]|0)-12>>2]|0),j[w]=1,_=r[h+(y+24)>>2]|0,(_0[r[(r[_>>2]|0)+24>>2]&255](_)|0)!=-1)break;_=r[(r[m>>2]|0)-12>>2]|0,Vl(h+_|0,r[h+(_+16)>>2]|1)}while(!1);return X4(g),D=o,n|0}function W4(n){n=n|0,zr(n+8|0),$0(n)}function j4(n){n=n|0,zr(n+8|0)}function $4(n){n=n|0;var o=0;o=n,n=r[(r[n>>2]|0)-12>>2]|0,zr(o+(n+8)|0),$0(o+n|0)}function K4(n){n=n|0,zr(n+((r[(r[n>>2]|0)-12>>2]|0)+8)|0)}function Nc(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0,_=0;if(o=D,D=D+8|0,g=o|0,m=n,y=r[(r[m>>2]|0)-12>>2]|0,h=n,(r[h+(y+24)>>2]|0)==0)return D=o,n|0;w=g|0,j[w]=0,r[g+4>>2]=n;do if((r[h+(y+16)>>2]|0)==0){if(_=r[h+(y+72)>>2]|0,(_|0)!=0&&(Nc(_)|0,y=r[(r[m>>2]|0)-12>>2]|0),j[w]=1,_=r[h+(y+24)>>2]|0,(_0[r[(r[_>>2]|0)+24>>2]&255](_)|0)!=-1)break;_=r[(r[m>>2]|0)-12>>2]|0,Vl(h+_|0,r[h+(_+16)>>2]|1)}while(!1);return r5(g),D=o,n|0}function q4(n){n=n|0,zr(n+4|0),$0(n)}function Y4(n){n=n|0,zr(n+4|0)}function J4(n){n=n|0;var o=0;o=n,n=r[(r[n>>2]|0)-12>>2]|0,zr(o+(n+4)|0),$0(o+n|0)}function Q4(n){n=n|0,zr(n+((r[(r[n>>2]|0)-12>>2]|0)+4)|0)}function X4(n){n=n|0;var o=0,h=0;n=n+4|0,o=r[n>>2]|0,h=r[(r[o>>2]|0)-12>>2]|0,(r[o+(h+24)>>2]|0)!=0&&(r[o+(h+16)>>2]|0)==0&&(r[o+(h+4)>>2]&8192|0)!=0&&(Gn()|0||(h=r[n>>2]|0,h=r[h+((r[(r[h>>2]|0)-12>>2]|0)+24)>>2]|0,(_0[r[(r[h>>2]|0)+24>>2]&255](h)|0)==-1&&(o=r[n>>2]|0,h=r[(r[o>>2]|0)-12>>2]|0,Vl(o+h|0,r[o+(h+16)>>2]|1))))}function Z4(n){n=n|0,zr(n+4|0),$0(n)}function e5(n){n=n|0,zr(n+4|0)}function t5(n){n=n|0;var o=0;o=n,n=r[(r[n>>2]|0)-12>>2]|0,zr(o+(n+4)|0),$0(o+n|0)}function i5(n){n=n|0,zr(n+((r[(r[n>>2]|0)-12>>2]|0)+4)|0)}function r5(n){n=n|0;var o=0,h=0;n=n+4|0,o=r[n>>2]|0,h=r[(r[o>>2]|0)-12>>2]|0,(r[o+(h+24)>>2]|0)!=0&&(r[o+(h+16)>>2]|0)==0&&(r[o+(h+4)>>2]&8192|0)!=0&&(Gn()|0||(h=r[n>>2]|0,h=r[h+((r[(r[h>>2]|0)-12>>2]|0)+24)>>2]|0,(_0[r[(r[h>>2]|0)+24>>2]&255](h)|0)==-1&&(o=r[n>>2]|0,h=r[(r[o>>2]|0)-12>>2]|0,Vl(o+h|0,r[o+(h+16)>>2]|1))))}function s5(n){return 15656}function n5(n,o,h){if(n=n|0,o=o|0,h=h|0,(h|0)==1){Ks(n,16464,35);return}else{q2(n,o|0,h);return}}function a5(n){}function o5(n){n=n|0,Lo(n|0),$0(n)}function l5(n){n=n|0,Lo(n|0)}function u5(n){n=n|0,zr(n),$0(n)}function c5(n){n=n|0,$0(n)}function h5(n){n=n|0,$0(n)}function d5(n){}function f5(n){}function p5(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0;e:do if((m|0)!=(g|0)){for(;;){if((o|0)==(h|0)){h=-1,g=7;break}if(w=j[o]|0,n=j[m]|0,w<<24>>24<n<<24>>24){h=-1,g=7;break}if(n<<24>>24<w<<24>>24){h=1,g=7;break}if(o=o+1|0,m=m+1|0,(m|0)==(g|0))break e}if((g|0)==7)return h|0}while(!1);return w=(o|0)!=(h|0)|0,w|0}function m5(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0;if(o=h,g=m-o|0,g>>>0>4294967279&&Ar(n),g>>>0<11?(j[n]=g<<1,n=n+1|0):(y=g+16&-16,w=It(y)|0,r[n+8>>2]=w,r[n>>2]=y|1,r[n+4>>2]=g,n=w),(h|0)==(m|0)){y=n,j[y]=0;return}else g=n;for(;j[g]=j[h]|0,h=h+1|0,(h|0)!=(m|0);)g=g+1|0;y=n+(m+(-o|0))|0,j[y]=0}function g5(n,o,h){n=n|0,o=o|0,h=h|0;var m=0;if((o|0)==(h|0))return n=0,n|0;n=0;do n=(j[o]|0)+(n<<4)|0,m=n&-268435456,n=(m>>>24|m)^n,o=o+1|0;while((o|0)!=(h|0));return n|0}function y5(n){n=n|0,$0(n)}function A5(n){}function v5(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0;e:do if((m|0)!=(g|0)){for(;;){if((o|0)==(h|0)){h=-1,g=7;break}if(w=r[o>>2]|0,n=r[m>>2]|0,(w|0)<(n|0)){h=-1,g=7;break}if((n|0)<(w|0)){h=1,g=7;break}if(o=o+4|0,m=m+4|0,(m|0)==(g|0))break e}if((g|0)==7)return h|0}while(!1);return w=(o|0)!=(h|0)|0,w|0}function w5(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0;if(o=h,g=m-o|0,w=g>>2,w>>>0>1073741807&&Ar(n),w>>>0<2?(j[n]=g>>>1,n=n+4|0):(y=w+4&-4,g=It(y<<2)|0,r[n+8>>2]=g,r[n>>2]=y|1,r[n+4>>2]=w,n=g),(h|0)==(m|0)){y=n,r[y>>2]=0;return}for(o=m-4+(-o|0)|0,g=n;r[g>>2]=r[h>>2],h=h+4|0,(h|0)!=(m|0);)g=g+4|0;y=n+((o>>>2)+1<<2)|0,r[y>>2]=0}function _5(n,o,h){n=n|0,o=o|0,h=h|0;var m=0;if((o|0)==(h|0))return n=0,n|0;n=0;do n=(r[o>>2]|0)+(n<<4)|0,m=n&-268435456,n=(m>>>24|m)^n,o=o+4|0;while((o|0)!=(h|0));return n|0}function b5(n){n=n|0,$0(n)}function k5(n){}function S5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;if(_=D,D=D+112|0,q=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[q>>2],q=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[q>>2],q=_|0,re=_+16|0,oe=_+32|0,ue=_+40|0,ne=_+48|0,pe=_+56|0,le=_+64|0,te=_+72|0,C=_+80|0,B=_+104|0,(r[g+4>>2]&1|0)==0){r[oe>>2]=-1,re=r[(r[o>>2]|0)+16>>2]|0,le=h|0,r[ne>>2]=r[le>>2],r[pe>>2]=r[m>>2],Hr[re&127](ue,o,ne,pe,g,w,oe),h=r[ue>>2]|0,r[le>>2]=h,m=r[oe>>2]|0,(m|0)==1?j[y]=1:(m|0)==0?j[y]=0:(j[y]=1,r[w>>2]=4),r[n>>2]=h,D=_;return}Di(le,g),oe=le|0,le=r[oe>>2]|0,(r[8716]|0)!=-1&&(r[re>>2]=34864,r[re+4>>2]=16,r[re+8>>2]=0,Vt(34864,re,114)),re=(r[8717]|0)-1|0,ne=r[le+8>>2]|0;do if((r[le+12>>2]|0)-ne>>2>>>0>re>>>0){if(re=r[ne+(re<<2)>>2]|0,(re|0)==0)break;vi(r[oe>>2]|0)|0,Di(te,g),te=te|0,g=r[te>>2]|0,(r[8620]|0)!=-1&&(r[q>>2]=34480,r[q+4>>2]=16,r[q+8>>2]=0,Vt(34480,q,114)),q=(r[8621]|0)-1|0,oe=r[g+8>>2]|0;do if((r[g+12>>2]|0)-oe>>2>>>0>q>>>0){if(q=r[oe+(q<<2)>>2]|0,(q|0)==0)break;pe=q,vi(r[te>>2]|0)|0,ue=C|0,o=q,si[r[(r[o>>2]|0)+24>>2]&127](ue,pe),si[r[(r[o>>2]|0)+28>>2]&127](C+12|0,pe),r[B>>2]=r[m>>2],ue=(ao(h,B,ue,C+24|0,re,w,1)|0)==(ue|0)|0,j[y]=ue,r[n>>2]=r[h>>2],R0(C+12|0),R0(C|0),D=_;return}while(!1);ue=qt(4)|0,h0(ue),Wt(ue|0,25544,156)}while(!1);ue=qt(4)|0,h0(ue),Wt(ue|0,25544,156)}function ao(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0;C=D,D=D+104|0,ue=o,o=D,D=D+4|0,D=D+7&-8,r[o>>2]=r[ue>>2],ue=(m-h|0)/12|0,q=C|0;do if(ue>>>0>100){if(B=ii(ue)|0,(B|0)!=0){q=B;break}Pi(),q=0,B=0}else B=0;while(!1);if(te=(h|0)==(m|0),te)pe=0;else for(pe=0,re=q,oe=h;le=j[oe]|0,(le&1)==0?le=(le&255)>>>1:le=r[oe+4>>2]|0,(le|0)==0?(j[re]=2,pe=pe+1|0,ue=ue-1|0):j[re]=1,oe=oe+12|0,(oe|0)!=(m|0);)re=re+1|0;n=n|0,o=o|0,re=g,oe=0;e:for(;;){le=r[n>>2]|0;do if((le|0)==0)le=0;else{if((r[le+12>>2]|0)!=(r[le+16>>2]|0))break;if((_0[r[(r[le>>2]|0)+36>>2]&255](le)|0)==-1){r[n>>2]=0,le=0;break}else{le=r[n>>2]|0;break}}while(!1);ve=(le|0)==0,ne=r[o>>2]|0;do if((ne|0)==0)ne=0;else{if((r[ne+12>>2]|0)!=(r[ne+16>>2]|0)||(_0[r[(r[ne>>2]|0)+36>>2]&255](ne)|0)!=-1)break;r[o>>2]=0,ne=0}while(!1);if(le=(ne|0)==0,ge=r[n>>2]|0,!((ve^le)&(ue|0)!=0))break;if(le=r[ge+12>>2]|0,(le|0)==(r[ge+16>>2]|0)?ne=(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)&255:ne=j[le]|0,y||(ne=ni[r[(r[re>>2]|0)+12>>2]&63](g,ne)|0),le=oe+1|0,te){oe=le;continue}t:do if(y)for(ve=q,Te=0,ge=h;;){do if((j[ve]|0)==1){if(qe=j[ge]|0,Be=(qe&1)==0,Be?Ve=ge+1|0:Ve=r[ge+8>>2]|0,ne<<24>>24!=(j[Ve+oe|0]|0)){j[ve]=0,ue=ue-1|0;break}if(Be?Te=(qe&255)>>>1:Te=r[ge+4>>2]|0,(Te|0)!=(le|0)){Te=1;break}j[ve]=2,Te=1,pe=pe+1|0,ue=ue-1|0}while(!1);if(ge=ge+12|0,(ge|0)==(m|0)){ne=ue;break t}ve=ve+1|0}else for(ve=q,Te=0,ge=h;;){do if((j[ve]|0)==1){if(qe=ge,(j[qe]&1)==0?Ve=ge+1|0:Ve=r[ge+8>>2]|0,ne<<24>>24!=(ni[r[(r[re>>2]|0)+12>>2]&63](g,j[Ve+oe|0]|0)|0)<<24>>24){j[ve]=0,ue=ue-1|0;break}if(Te=j[qe]|0,(Te&1)==0?Te=(Te&255)>>>1:Te=r[ge+4>>2]|0,(Te|0)!=(le|0)){Te=1;break}j[ve]=2,Te=1,pe=pe+1|0,ue=ue-1|0}while(!1);if(ge=ge+12|0,(ge|0)==(m|0)){ne=ue;break t}ve=ve+1|0}while(!1);if(!Te){oe=le,ue=ne;continue}if(ue=r[n>>2]|0,oe=ue+12|0,ve=r[oe>>2]|0,(ve|0)==(r[ue+16>>2]|0)?_0[r[(r[ue>>2]|0)+40>>2]&255](ue)|0:r[oe>>2]=ve+1,(ne+pe|0)>>>0<2){oe=le,ue=ne;continue}else oe=q,ue=h;for(;;){do if((j[oe]|0)==2){if(ve=j[ue]|0,(ve&1)==0?ve=(ve&255)>>>1:ve=r[ue+4>>2]|0,(ve|0)==(le|0))break;j[oe]=0,pe=pe-1|0}while(!1);if(ue=ue+12|0,(ue|0)==(m|0)){oe=le,ue=ne;continue e}else oe=oe+1|0}}do if((ge|0)==0)ge=0;else{if((r[ge+12>>2]|0)!=(r[ge+16>>2]|0))break;if((_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)==-1){r[n>>2]=0,ge=0;break}else{ge=r[n>>2]|0;break}}while(!1);y=(ge|0)==0;do if(le)_=92;else{if((r[ne+12>>2]|0)!=(r[ne+16>>2]|0)){if(y)break;_=94;break}if((_0[r[(r[ne>>2]|0)+36>>2]&255](ne)|0)==-1){r[o>>2]=0,_=92;break}else{if(y)break;_=94;break}}while(!1);(_|0)==92&&y&&(_=94),(_|0)==94&&(r[w>>2]=r[w>>2]|2);e:do if(te)_=99;else{if((j[q]|0)==2){m=h;break}for(;;){if(h=h+12|0,q=q+1|0,(h|0)==(m|0)){_=99;break e}if((j[q]|0)==2){m=h;break}}}while(!1);return(_|0)==99&&(r[w>>2]=r[w>>2]|4),(B|0)==0?(D=C,m|0):(Ft(B),D=C,m|0)}function E5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],T5(n,0,m,h,g,w,y),D=o}function T5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0;B=D,D=D+256|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ne>>2],ne=B|0,ge=B+32|0,C=B+40|0,o=B+56|0,q=B+72|0,re=B+80|0,oe=B+240|0,te=B+248|0,le=r[g+4>>2]&74,(le|0)==8?le=16:(le|0)==0?le=0:(le|0)==64?le=8:le=10,ne=ne|0,lo(C,g,ne,ge),ve=o,V0(ve|0,0,12)|0,oi(o,10,0),(j[ve]&1)==0?(pe=o+1|0,ze=pe,ue=o+8|0):(ue=o+8|0,ze=r[ue>>2]|0,pe=o+1|0),r[q>>2]=ze,g=re|0,r[oe>>2]=g,r[te>>2]=0,h=h|0,m=m|0,Ve=o|0,Te=o+4|0,qe=j[ge]|0,ge=r[h>>2]|0;e:for(;;){do if((ge|0)==0)ge=0;else{if((r[ge+12>>2]|0)!=(r[ge+16>>2]|0)||(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)!=-1)break;r[h>>2]=0,ge=0}while(!1);He=(ge|0)==0,Be=r[m>>2]|0;do if((Be|0)==0)_=21;else{if((r[Be+12>>2]|0)!=(r[Be+16>>2]|0)){if(He)break;break e}if((_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0)==-1){r[m>>2]=0,_=21;break}else{if(He)break;break e}}while(!1);if((_|0)==21)if(_=0,He){Be=0;break}else Be=0;if(He=j[ve]|0,Ge=(He&1)==0,Ge?Ye=(He&255)>>>1:Ye=r[Te>>2]|0,((r[q>>2]|0)-ze|0)==(Ye|0)&&(Ge?(ze=(He&255)>>>1,He=(He&255)>>>1):(He=r[Te>>2]|0,ze=He),oi(o,ze<<1,0),(j[ve]&1)==0?ze=10:ze=(r[Ve>>2]&-2)-1|0,oi(o,ze,0),(j[ve]&1)==0?ze=pe:ze=r[ue>>2]|0,r[q>>2]=ze+He),He=ge+12|0,Ge=r[He>>2]|0,Ye=ge+16|0,(Ge|0)==(r[Ye>>2]|0)?Ge=(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)&255:Ge=j[Ge]|0,(A1(Ge,le,ze,q,te,qe,C,g,oe,ne)|0)!=0)break;if(Be=r[He>>2]|0,(Be|0)==(r[Ye>>2]|0)){_0[r[(r[ge>>2]|0)+40>>2]&255](ge)|0;continue}else{r[He>>2]=Be+1;continue}}ne=j[C]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[C+4>>2]|0;do if((ne|0)!=0){if(ne=r[oe>>2]|0,(ne-re|0)>=160)break;Ge=r[te>>2]|0,r[oe>>2]=ne+4,r[ne>>2]=Ge}while(!1);Ge=ce(ze,r[q>>2]|0,w,le)|0,r[y>>2]=Ge,Dr(C,g,r[oe>>2]|0,w);do if((ge|0)==0)ge=0;else{if((r[ge+12>>2]|0)!=(r[ge+16>>2]|0)||(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)!=-1)break;r[h>>2]=0,ge=0}while(!1);y=(ge|0)==0;do if((Be|0)==0)_=66;else{if((r[Be+12>>2]|0)!=(r[Be+16>>2]|0)){if(!y)break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}if((_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0)==-1){r[m>>2]=0,_=66;break}if(!(y^(Be|0)==0))break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}while(!1);do if((_|0)==66){if(y)break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B}function x5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],C5(n,0,m,h,g,w,y),D=o}function C5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0;B=D,D=D+256|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ne>>2],ne=B|0,ge=B+32|0,C=B+40|0,o=B+56|0,q=B+72|0,re=B+80|0,oe=B+240|0,te=B+248|0,le=r[g+4>>2]&74,(le|0)==64?le=8:(le|0)==0?le=0:(le|0)==8?le=16:le=10,ne=ne|0,lo(C,g,ne,ge),ve=o,V0(ve|0,0,12)|0,oi(o,10,0),(j[ve]&1)==0?(pe=o+1|0,ze=pe,ue=o+8|0):(ue=o+8|0,ze=r[ue>>2]|0,pe=o+1|0),r[q>>2]=ze,g=re|0,r[oe>>2]=g,r[te>>2]=0,h=h|0,m=m|0,Ve=o|0,Te=o+4|0,qe=j[ge]|0,ge=r[h>>2]|0;e:for(;;){do if((ge|0)==0)ge=0;else{if((r[ge+12>>2]|0)!=(r[ge+16>>2]|0)||(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)!=-1)break;r[h>>2]=0,ge=0}while(!1);He=(ge|0)==0,Be=r[m>>2]|0;do if((Be|0)==0)_=21;else{if((r[Be+12>>2]|0)!=(r[Be+16>>2]|0)){if(He)break;break e}if((_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0)==-1){r[m>>2]=0,_=21;break}else{if(He)break;break e}}while(!1);if((_|0)==21)if(_=0,He){Be=0;break}else Be=0;if(He=j[ve]|0,Ge=(He&1)==0,Ge?Ye=(He&255)>>>1:Ye=r[Te>>2]|0,((r[q>>2]|0)-ze|0)==(Ye|0)&&(Ge?(ze=(He&255)>>>1,He=(He&255)>>>1):(He=r[Te>>2]|0,ze=He),oi(o,ze<<1,0),(j[ve]&1)==0?ze=10:ze=(r[Ve>>2]&-2)-1|0,oi(o,ze,0),(j[ve]&1)==0?ze=pe:ze=r[ue>>2]|0,r[q>>2]=ze+He),He=ge+12|0,Ge=r[He>>2]|0,Ye=ge+16|0,(Ge|0)==(r[Ye>>2]|0)?Ge=(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)&255:Ge=j[Ge]|0,(A1(Ge,le,ze,q,te,qe,C,g,oe,ne)|0)!=0)break;if(Be=r[He>>2]|0,(Be|0)==(r[Ye>>2]|0)){_0[r[(r[ge>>2]|0)+40>>2]&255](ge)|0;continue}else{r[He>>2]=Be+1;continue}}ne=j[C]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[C+4>>2]|0;do if((ne|0)!=0){if(ne=r[oe>>2]|0,(ne-re|0)>=160)break;Ge=r[te>>2]|0,r[oe>>2]=ne+4,r[ne>>2]=Ge}while(!1);Ge=he(ze,r[q>>2]|0,w,le)|0,r[y>>2]=Ge,r[y+4>>2]=Mt,Dr(C,g,r[oe>>2]|0,w);do if((ge|0)==0)ge=0;else{if((r[ge+12>>2]|0)!=(r[ge+16>>2]|0)||(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)!=-1)break;r[h>>2]=0,ge=0}while(!1);y=(ge|0)==0;do if((Be|0)==0)_=66;else{if((r[Be+12>>2]|0)!=(r[Be+16>>2]|0)){if(!y)break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}if((_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0)==-1){r[m>>2]=0,_=66;break}if(!(y^(Be|0)==0))break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}while(!1);do if((_|0)==66){if(y)break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B}function D5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],R5(n,0,m,h,g,w,y),D=o}function R5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0;B=D,D=D+256|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ne>>2],ne=B|0,ge=B+32|0,C=B+40|0,o=B+56|0,q=B+72|0,re=B+80|0,oe=B+240|0,te=B+248|0,le=r[g+4>>2]&74,(le|0)==8?le=16:(le|0)==0?le=0:(le|0)==64?le=8:le=10,ne=ne|0,lo(C,g,ne,ge),ve=o,V0(ve|0,0,12)|0,oi(o,10,0),(j[ve]&1)==0?(pe=o+1|0,ze=pe,ue=o+8|0):(ue=o+8|0,ze=r[ue>>2]|0,pe=o+1|0),r[q>>2]=ze,g=re|0,r[oe>>2]=g,r[te>>2]=0,h=h|0,m=m|0,Ve=o|0,Te=o+4|0,qe=j[ge]|0,ge=r[h>>2]|0;e:for(;;){do if((ge|0)==0)ge=0;else{if((r[ge+12>>2]|0)!=(r[ge+16>>2]|0)||(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)!=-1)break;r[h>>2]=0,ge=0}while(!1);He=(ge|0)==0,Be=r[m>>2]|0;do if((Be|0)==0)_=21;else{if((r[Be+12>>2]|0)!=(r[Be+16>>2]|0)){if(He)break;break e}if((_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0)==-1){r[m>>2]=0,_=21;break}else{if(He)break;break e}}while(!1);if((_|0)==21)if(_=0,He){Be=0;break}else Be=0;if(He=j[ve]|0,Ge=(He&1)==0,Ge?Ye=(He&255)>>>1:Ye=r[Te>>2]|0,((r[q>>2]|0)-ze|0)==(Ye|0)&&(Ge?(ze=(He&255)>>>1,He=(He&255)>>>1):(He=r[Te>>2]|0,ze=He),oi(o,ze<<1,0),(j[ve]&1)==0?ze=10:ze=(r[Ve>>2]&-2)-1|0,oi(o,ze,0),(j[ve]&1)==0?ze=pe:ze=r[ue>>2]|0,r[q>>2]=ze+He),He=ge+12|0,Ge=r[He>>2]|0,Ye=ge+16|0,(Ge|0)==(r[Ye>>2]|0)?Ge=(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)&255:Ge=j[Ge]|0,(A1(Ge,le,ze,q,te,qe,C,g,oe,ne)|0)!=0)break;if(Be=r[He>>2]|0,(Be|0)==(r[Ye>>2]|0)){_0[r[(r[ge>>2]|0)+40>>2]&255](ge)|0;continue}else{r[He>>2]=Be+1;continue}}ne=j[C]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[C+4>>2]|0;do if((ne|0)!=0){if(ne=r[oe>>2]|0,(ne-re|0)>=160)break;Ge=r[te>>2]|0,r[oe>>2]=ne+4,r[ne>>2]=Ge}while(!1);Ge=se(ze,r[q>>2]|0,w,le)|0,be[y>>1]=Ge,Dr(C,g,r[oe>>2]|0,w);do if((ge|0)==0)ge=0;else{if((r[ge+12>>2]|0)!=(r[ge+16>>2]|0)||(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)!=-1)break;r[h>>2]=0,ge=0}while(!1);y=(ge|0)==0;do if((Be|0)==0)_=66;else{if((r[Be+12>>2]|0)!=(r[Be+16>>2]|0)){if(!y)break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}if((_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0)==-1){r[m>>2]=0,_=66;break}if(!(y^(Be|0)==0))break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}while(!1);do if((_|0)==66){if(y)break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B}function L5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],I5(n,0,m,h,g,w,y),D=o}function I5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0;B=D,D=D+256|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ne>>2],ne=B|0,ge=B+32|0,C=B+40|0,o=B+56|0,q=B+72|0,re=B+80|0,oe=B+240|0,te=B+248|0,le=r[g+4>>2]&74,(le|0)==64?le=8:(le|0)==0?le=0:(le|0)==8?le=16:le=10,ne=ne|0,lo(C,g,ne,ge),ve=o,V0(ve|0,0,12)|0,oi(o,10,0),(j[ve]&1)==0?(pe=o+1|0,ze=pe,ue=o+8|0):(ue=o+8|0,ze=r[ue>>2]|0,pe=o+1|0),r[q>>2]=ze,g=re|0,r[oe>>2]=g,r[te>>2]=0,h=h|0,m=m|0,Ve=o|0,Te=o+4|0,qe=j[ge]|0,ge=r[h>>2]|0;e:for(;;){do if((ge|0)==0)ge=0;else{if((r[ge+12>>2]|0)!=(r[ge+16>>2]|0)||(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)!=-1)break;r[h>>2]=0,ge=0}while(!1);He=(ge|0)==0,Be=r[m>>2]|0;do if((Be|0)==0)_=21;else{if((r[Be+12>>2]|0)!=(r[Be+16>>2]|0)){if(He)break;break e}if((_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0)==-1){r[m>>2]=0,_=21;break}else{if(He)break;break e}}while(!1);if((_|0)==21)if(_=0,He){Be=0;break}else Be=0;if(He=j[ve]|0,Ge=(He&1)==0,Ge?Ye=(He&255)>>>1:Ye=r[Te>>2]|0,((r[q>>2]|0)-ze|0)==(Ye|0)&&(Ge?(ze=(He&255)>>>1,He=(He&255)>>>1):(He=r[Te>>2]|0,ze=He),oi(o,ze<<1,0),(j[ve]&1)==0?ze=10:ze=(r[Ve>>2]&-2)-1|0,oi(o,ze,0),(j[ve]&1)==0?ze=pe:ze=r[ue>>2]|0,r[q>>2]=ze+He),He=ge+12|0,Ge=r[He>>2]|0,Ye=ge+16|0,(Ge|0)==(r[Ye>>2]|0)?Ge=(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)&255:Ge=j[Ge]|0,(A1(Ge,le,ze,q,te,qe,C,g,oe,ne)|0)!=0)break;if(Be=r[He>>2]|0,(Be|0)==(r[Ye>>2]|0)){_0[r[(r[ge>>2]|0)+40>>2]&255](ge)|0;continue}else{r[He>>2]=Be+1;continue}}ne=j[C]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[C+4>>2]|0;do if((ne|0)!=0){if(ne=r[oe>>2]|0,(ne-re|0)>=160)break;Ge=r[te>>2]|0,r[oe>>2]=ne+4,r[ne>>2]=Ge}while(!1);Ge=ee(ze,r[q>>2]|0,w,le)|0,r[y>>2]=Ge,Dr(C,g,r[oe>>2]|0,w);do if((ge|0)==0)ge=0;else{if((r[ge+12>>2]|0)!=(r[ge+16>>2]|0)||(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)!=-1)break;r[h>>2]=0,ge=0}while(!1);y=(ge|0)==0;do if((Be|0)==0)_=66;else{if((r[Be+12>>2]|0)!=(r[Be+16>>2]|0)){if(!y)break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}if((_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0)==-1){r[m>>2]=0,_=66;break}if(!(y^(Be|0)==0))break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}while(!1);do if((_|0)==66){if(y)break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B}function P5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],B5(n,0,m,h,g,w,y),D=o}function B5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0;B=D,D=D+256|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ne>>2],ne=B|0,ge=B+32|0,C=B+40|0,o=B+56|0,q=B+72|0,re=B+80|0,oe=B+240|0,te=B+248|0,le=r[g+4>>2]&74,(le|0)==8?le=16:(le|0)==0?le=0:(le|0)==64?le=8:le=10,ne=ne|0,lo(C,g,ne,ge),ve=o,V0(ve|0,0,12)|0,oi(o,10,0),(j[ve]&1)==0?(pe=o+1|0,ze=pe,ue=o+8|0):(ue=o+8|0,ze=r[ue>>2]|0,pe=o+1|0),r[q>>2]=ze,g=re|0,r[oe>>2]=g,r[te>>2]=0,h=h|0,m=m|0,Ve=o|0,Te=o+4|0,qe=j[ge]|0,ge=r[h>>2]|0;e:for(;;){do if((ge|0)==0)ge=0;else{if((r[ge+12>>2]|0)!=(r[ge+16>>2]|0)||(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)!=-1)break;r[h>>2]=0,ge=0}while(!1);He=(ge|0)==0,Be=r[m>>2]|0;do if((Be|0)==0)_=21;else{if((r[Be+12>>2]|0)!=(r[Be+16>>2]|0)){if(He)break;break e}if((_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0)==-1){r[m>>2]=0,_=21;break}else{if(He)break;break e}}while(!1);if((_|0)==21)if(_=0,He){Be=0;break}else Be=0;if(He=j[ve]|0,Ge=(He&1)==0,Ge?Ye=(He&255)>>>1:Ye=r[Te>>2]|0,((r[q>>2]|0)-ze|0)==(Ye|0)&&(Ge?(ze=(He&255)>>>1,He=(He&255)>>>1):(He=r[Te>>2]|0,ze=He),oi(o,ze<<1,0),(j[ve]&1)==0?ze=10:ze=(r[Ve>>2]&-2)-1|0,oi(o,ze,0),(j[ve]&1)==0?ze=pe:ze=r[ue>>2]|0,r[q>>2]=ze+He),He=ge+12|0,Ge=r[He>>2]|0,Ye=ge+16|0,(Ge|0)==(r[Ye>>2]|0)?Ge=(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)&255:Ge=j[Ge]|0,(A1(Ge,le,ze,q,te,qe,C,g,oe,ne)|0)!=0)break;if(Be=r[He>>2]|0,(Be|0)==(r[Ye>>2]|0)){_0[r[(r[ge>>2]|0)+40>>2]&255](ge)|0;continue}else{r[He>>2]=Be+1;continue}}ne=j[C]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[C+4>>2]|0;do if((ne|0)!=0){if(ne=r[oe>>2]|0,(ne-re|0)>=160)break;Ge=r[te>>2]|0,r[oe>>2]=ne+4,r[ne>>2]=Ge}while(!1);Ge=Ne(ze,r[q>>2]|0,w,le)|0,r[y>>2]=Ge,Dr(C,g,r[oe>>2]|0,w);do if((ge|0)==0)ge=0;else{if((r[ge+12>>2]|0)!=(r[ge+16>>2]|0)||(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)!=-1)break;r[h>>2]=0,ge=0}while(!1);y=(ge|0)==0;do if((Be|0)==0)_=66;else{if((r[Be+12>>2]|0)!=(r[Be+16>>2]|0)){if(!y)break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}if((_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0)==-1){r[m>>2]=0,_=66;break}if(!(y^(Be|0)==0))break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}while(!1);do if((_|0)==66){if(y)break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B}function M5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],U5(n,0,m,h,g,w,y),D=o}function U5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0;B=D,D=D+256|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ne>>2],ne=B|0,ge=B+32|0,C=B+40|0,o=B+56|0,q=B+72|0,re=B+80|0,oe=B+240|0,te=B+248|0,le=r[g+4>>2]&74,(le|0)==8?le=16:(le|0)==0?le=0:(le|0)==64?le=8:le=10,ne=ne|0,lo(C,g,ne,ge),ve=o,V0(ve|0,0,12)|0,oi(o,10,0),(j[ve]&1)==0?(pe=o+1|0,ze=pe,ue=o+8|0):(ue=o+8|0,ze=r[ue>>2]|0,pe=o+1|0),r[q>>2]=ze,g=re|0,r[oe>>2]=g,r[te>>2]=0,h=h|0,m=m|0,Ve=o|0,Te=o+4|0,qe=j[ge]|0,ge=r[h>>2]|0;e:for(;;){do if((ge|0)==0)ge=0;else{if((r[ge+12>>2]|0)!=(r[ge+16>>2]|0)||(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)!=-1)break;r[h>>2]=0,ge=0}while(!1);He=(ge|0)==0,Be=r[m>>2]|0;do if((Be|0)==0)_=21;else{if((r[Be+12>>2]|0)!=(r[Be+16>>2]|0)){if(He)break;break e}if((_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0)==-1){r[m>>2]=0,_=21;break}else{if(He)break;break e}}while(!1);if((_|0)==21)if(_=0,He){Be=0;break}else Be=0;if(He=j[ve]|0,Ge=(He&1)==0,Ge?Ye=(He&255)>>>1:Ye=r[Te>>2]|0,((r[q>>2]|0)-ze|0)==(Ye|0)&&(Ge?(ze=(He&255)>>>1,He=(He&255)>>>1):(He=r[Te>>2]|0,ze=He),oi(o,ze<<1,0),(j[ve]&1)==0?ze=10:ze=(r[Ve>>2]&-2)-1|0,oi(o,ze,0),(j[ve]&1)==0?ze=pe:ze=r[ue>>2]|0,r[q>>2]=ze+He),He=ge+12|0,Ge=r[He>>2]|0,Ye=ge+16|0,(Ge|0)==(r[Ye>>2]|0)?Ge=(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)&255:Ge=j[Ge]|0,(A1(Ge,le,ze,q,te,qe,C,g,oe,ne)|0)!=0)break;if(Be=r[He>>2]|0,(Be|0)==(r[Ye>>2]|0)){_0[r[(r[ge>>2]|0)+40>>2]&255](ge)|0;continue}else{r[He>>2]=Be+1;continue}}ne=j[C]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[C+4>>2]|0;do if((ne|0)!=0){if(ne=r[oe>>2]|0,(ne-re|0)>=160)break;Ge=r[te>>2]|0,r[oe>>2]=ne+4,r[ne>>2]=Ge}while(!1);Ge=ye(ze,r[q>>2]|0,w,le)|0,r[y>>2]=Ge,r[y+4>>2]=Mt,Dr(C,g,r[oe>>2]|0,w);do if((ge|0)==0)ge=0;else{if((r[ge+12>>2]|0)!=(r[ge+16>>2]|0)||(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)!=-1)break;r[h>>2]=0,ge=0}while(!1);y=(ge|0)==0;do if((Be|0)==0)_=66;else{if((r[Be+12>>2]|0)!=(r[Be+16>>2]|0)){if(!y)break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}if((_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0)==-1){r[m>>2]=0,_=66;break}if(!(y^(Be|0)==0))break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}while(!1);do if((_|0)==66){if(y)break;Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,Ge=n|0,r[Ge>>2]=ge,R0(o),R0(C),D=B}function F5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],O5(n,0,m,h,g,w,y),D=o}function O5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0;B=D,D=D+280|0,Be=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[Be>>2],Be=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[Be>>2],Be=B+32|0,Te=B+40|0,C=B+48|0,o=B+64|0,re=B+80|0,te=B+88|0,oe=B+248|0,q=B+256|0,le=B+264|0,pe=B+272|0,ne=B|0,Gc(C,g,ne,Be,Te),ue=o,V0(ue|0,0,12)|0,oi(o,10,0),(j[ue]&1)==0?(ve=o+1|0,Ye=ve,ge=o+8|0):(ge=o+8|0,Ye=r[ge>>2]|0,ve=o+1|0),r[re>>2]=Ye,g=te|0,r[oe>>2]=g,r[q>>2]=0,j[le]=1,j[pe]=69,h=h|0,m=m|0,qe=o|0,Ve=o+4|0,Be=j[Be]|0,ze=j[Te]|0,Te=r[h>>2]|0;e:for(;;){do if((Te|0)==0)Te=0;else{if((r[Te+12>>2]|0)!=(r[Te+16>>2]|0)||(_0[r[(r[Te>>2]|0)+36>>2]&255](Te)|0)!=-1)break;r[h>>2]=0,Te=0}while(!1);Ge=(Te|0)==0,He=r[m>>2]|0;do if((He|0)==0)_=17;else{if((r[He+12>>2]|0)!=(r[He+16>>2]|0)){if(Ge)break;break e}if((_0[r[(r[He>>2]|0)+36>>2]&255](He)|0)==-1){r[m>>2]=0,_=17;break}else{if(Ge)break;break e}}while(!1);if((_|0)==17)if(_=0,Ge){He=0;break}else He=0;if(Ge=j[ue]|0,o0=(Ge&1)==0,o0?r0=(Ge&255)>>>1:r0=r[Ve>>2]|0,((r[re>>2]|0)-Ye|0)==(r0|0)&&(o0?(Ye=(Ge&255)>>>1,Ge=(Ge&255)>>>1):(Ge=r[Ve>>2]|0,Ye=Ge),oi(o,Ye<<1,0),(j[ue]&1)==0?Ye=10:Ye=(r[qe>>2]&-2)-1|0,oi(o,Ye,0),(j[ue]&1)==0?Ye=ve:Ye=r[ge>>2]|0,r[re>>2]=Ye+Ge),r0=Te+12|0,o0=r[r0>>2]|0,Ge=Te+16|0,(o0|0)==(r[Ge>>2]|0)?o0=(_0[r[(r[Te>>2]|0)+36>>2]&255](Te)|0)&255:o0=j[o0]|0,(Hc(o0,le,pe,Ye,re,Be,ze,C,g,oe,q,ne)|0)!=0)break;if(He=r[r0>>2]|0,(He|0)==(r[Ge>>2]|0)){_0[r[(r[Te>>2]|0)+40>>2]&255](Te)|0;continue}else{r[r0>>2]=He+1;continue}}ne=j[C]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[C+4>>2]|0;do if((ne|0)!=0){if((j[le]|0)==0||(le=r[oe>>2]|0,(le-te|0)>=160))break;o0=r[q>>2]|0,r[oe>>2]=le+4,r[le>>2]=o0}while(!1);v0=+Fe(Ye,r[re>>2]|0,w),it[y>>2]=v0,Dr(C,g,r[oe>>2]|0,w);do if((Te|0)==0)Te=0;else{if((r[Te+12>>2]|0)!=(r[Te+16>>2]|0)||(_0[r[(r[Te>>2]|0)+36>>2]&255](Te)|0)!=-1)break;r[h>>2]=0,Te=0}while(!1);y=(Te|0)==0;do if((He|0)==0)_=63;else{if((r[He+12>>2]|0)!=(r[He+16>>2]|0)){if(!y)break;o0=n|0,r[o0>>2]=Te,R0(o),R0(C),D=B;return}if((_0[r[(r[He>>2]|0)+36>>2]&255](He)|0)==-1){r[m>>2]=0,_=63;break}if(!(y^(He|0)==0))break;o0=n|0,r[o0>>2]=Te,R0(o),R0(C),D=B;return}while(!1);do if((_|0)==63){if(y)break;o0=n|0,r[o0>>2]=Te,R0(o),R0(C),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,o0=n|0,r[o0>>2]=Te,R0(o),R0(C),D=B}function N5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],z5(n,0,m,h,g,w,y),D=o}function z5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0;B=D,D=D+280|0,Be=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[Be>>2],Be=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[Be>>2],Be=B+32|0,Te=B+40|0,C=B+48|0,o=B+64|0,re=B+80|0,te=B+88|0,oe=B+248|0,q=B+256|0,le=B+264|0,pe=B+272|0,ne=B|0,Gc(C,g,ne,Be,Te),ue=o,V0(ue|0,0,12)|0,oi(o,10,0),(j[ue]&1)==0?(ve=o+1|0,Ye=ve,ge=o+8|0):(ge=o+8|0,Ye=r[ge>>2]|0,ve=o+1|0),r[re>>2]=Ye,g=te|0,r[oe>>2]=g,r[q>>2]=0,j[le]=1,j[pe]=69,h=h|0,m=m|0,qe=o|0,Ve=o+4|0,Be=j[Be]|0,ze=j[Te]|0,Te=r[h>>2]|0;e:for(;;){do if((Te|0)==0)Te=0;else{if((r[Te+12>>2]|0)!=(r[Te+16>>2]|0)||(_0[r[(r[Te>>2]|0)+36>>2]&255](Te)|0)!=-1)break;r[h>>2]=0,Te=0}while(!1);Ge=(Te|0)==0,He=r[m>>2]|0;do if((He|0)==0)_=17;else{if((r[He+12>>2]|0)!=(r[He+16>>2]|0)){if(Ge)break;break e}if((_0[r[(r[He>>2]|0)+36>>2]&255](He)|0)==-1){r[m>>2]=0,_=17;break}else{if(Ge)break;break e}}while(!1);if((_|0)==17)if(_=0,Ge){He=0;break}else He=0;if(Ge=j[ue]|0,o0=(Ge&1)==0,o0?r0=(Ge&255)>>>1:r0=r[Ve>>2]|0,((r[re>>2]|0)-Ye|0)==(r0|0)&&(o0?(Ye=(Ge&255)>>>1,Ge=(Ge&255)>>>1):(Ge=r[Ve>>2]|0,Ye=Ge),oi(o,Ye<<1,0),(j[ue]&1)==0?Ye=10:Ye=(r[qe>>2]&-2)-1|0,oi(o,Ye,0),(j[ue]&1)==0?Ye=ve:Ye=r[ge>>2]|0,r[re>>2]=Ye+Ge),r0=Te+12|0,o0=r[r0>>2]|0,Ge=Te+16|0,(o0|0)==(r[Ge>>2]|0)?o0=(_0[r[(r[Te>>2]|0)+36>>2]&255](Te)|0)&255:o0=j[o0]|0,(Hc(o0,le,pe,Ye,re,Be,ze,C,g,oe,q,ne)|0)!=0)break;if(He=r[r0>>2]|0,(He|0)==(r[Ge>>2]|0)){_0[r[(r[Te>>2]|0)+40>>2]&255](Te)|0;continue}else{r[r0>>2]=He+1;continue}}ne=j[C]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[C+4>>2]|0;do if((ne|0)!=0){if((j[le]|0)==0||(le=r[oe>>2]|0,(le-te|0)>=160))break;o0=r[q>>2]|0,r[oe>>2]=le+4,r[le>>2]=o0}while(!1);v0=+Oe(Ye,r[re>>2]|0,w),p0[y>>3]=v0,Dr(C,g,r[oe>>2]|0,w);do if((Te|0)==0)Te=0;else{if((r[Te+12>>2]|0)!=(r[Te+16>>2]|0)||(_0[r[(r[Te>>2]|0)+36>>2]&255](Te)|0)!=-1)break;r[h>>2]=0,Te=0}while(!1);y=(Te|0)==0;do if((He|0)==0)_=63;else{if((r[He+12>>2]|0)!=(r[He+16>>2]|0)){if(!y)break;o0=n|0,r[o0>>2]=Te,R0(o),R0(C),D=B;return}if((_0[r[(r[He>>2]|0)+36>>2]&255](He)|0)==-1){r[m>>2]=0,_=63;break}if(!(y^(He|0)==0))break;o0=n|0,r[o0>>2]=Te,R0(o),R0(C),D=B;return}while(!1);do if((_|0)==63){if(y)break;o0=n|0,r[o0>>2]=Te,R0(o),R0(C),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,o0=n|0,r[o0>>2]=Te,R0(o),R0(C),D=B}function G5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],H5(n,0,m,h,g,w,y),D=o}function H5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0;B=D,D=D+280|0,Be=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[Be>>2],Be=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[Be>>2],Be=B+32|0,Te=B+40|0,C=B+48|0,o=B+64|0,re=B+80|0,te=B+88|0,oe=B+248|0,q=B+256|0,le=B+264|0,pe=B+272|0,ne=B|0,Gc(C,g,ne,Be,Te),ue=o,V0(ue|0,0,12)|0,oi(o,10,0),(j[ue]&1)==0?(ve=o+1|0,Ye=ve,ge=o+8|0):(ge=o+8|0,Ye=r[ge>>2]|0,ve=o+1|0),r[re>>2]=Ye,g=te|0,r[oe>>2]=g,r[q>>2]=0,j[le]=1,j[pe]=69,h=h|0,m=m|0,qe=o|0,Ve=o+4|0,Be=j[Be]|0,ze=j[Te]|0,Te=r[h>>2]|0;e:for(;;){do if((Te|0)==0)Te=0;else{if((r[Te+12>>2]|0)!=(r[Te+16>>2]|0)||(_0[r[(r[Te>>2]|0)+36>>2]&255](Te)|0)!=-1)break;r[h>>2]=0,Te=0}while(!1);Ge=(Te|0)==0,He=r[m>>2]|0;do if((He|0)==0)_=17;else{if((r[He+12>>2]|0)!=(r[He+16>>2]|0)){if(Ge)break;break e}if((_0[r[(r[He>>2]|0)+36>>2]&255](He)|0)==-1){r[m>>2]=0,_=17;break}else{if(Ge)break;break e}}while(!1);if((_|0)==17)if(_=0,Ge){He=0;break}else He=0;if(Ge=j[ue]|0,o0=(Ge&1)==0,o0?r0=(Ge&255)>>>1:r0=r[Ve>>2]|0,((r[re>>2]|0)-Ye|0)==(r0|0)&&(o0?(Ye=(Ge&255)>>>1,Ge=(Ge&255)>>>1):(Ge=r[Ve>>2]|0,Ye=Ge),oi(o,Ye<<1,0),(j[ue]&1)==0?Ye=10:Ye=(r[qe>>2]&-2)-1|0,oi(o,Ye,0),(j[ue]&1)==0?Ye=ve:Ye=r[ge>>2]|0,r[re>>2]=Ye+Ge),r0=Te+12|0,o0=r[r0>>2]|0,Ge=Te+16|0,(o0|0)==(r[Ge>>2]|0)?o0=(_0[r[(r[Te>>2]|0)+36>>2]&255](Te)|0)&255:o0=j[o0]|0,(Hc(o0,le,pe,Ye,re,Be,ze,C,g,oe,q,ne)|0)!=0)break;if(He=r[r0>>2]|0,(He|0)==(r[Ge>>2]|0)){_0[r[(r[Te>>2]|0)+40>>2]&255](Te)|0;continue}else{r[r0>>2]=He+1;continue}}ne=j[C]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[C+4>>2]|0;do if((ne|0)!=0){if((j[le]|0)==0||(le=r[oe>>2]|0,(le-te|0)>=160))break;o0=r[q>>2]|0,r[oe>>2]=le+4,r[le>>2]=o0}while(!1);v0=+xe(Ye,r[re>>2]|0,w),p0[y>>3]=v0,Dr(C,g,r[oe>>2]|0,w);do if((Te|0)==0)Te=0;else{if((r[Te+12>>2]|0)!=(r[Te+16>>2]|0)||(_0[r[(r[Te>>2]|0)+36>>2]&255](Te)|0)!=-1)break;r[h>>2]=0,Te=0}while(!1);y=(Te|0)==0;do if((He|0)==0)_=63;else{if((r[He+12>>2]|0)!=(r[He+16>>2]|0)){if(!y)break;o0=n|0,r[o0>>2]=Te,R0(o),R0(C),D=B;return}if((_0[r[(r[He>>2]|0)+36>>2]&255](He)|0)==-1){r[m>>2]=0,_=63;break}if(!(y^(He|0)==0))break;o0=n|0,r[o0>>2]=Te,R0(o),R0(C),D=B;return}while(!1);do if((_|0)==63){if(y)break;o0=n|0,r[o0>>2]=Te,R0(o),R0(C),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,o0=n|0,r[o0>>2]=Te,R0(o),R0(C),D=B}function V5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0;C=D,D=D+272|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ne>>2],ne=C|0,oe=C+16|0,o=C+48|0,le=C+64|0,B=C+72|0,re=C+88|0,pe=C+96|0,te=C+256|0,q=C+264|0,V0(o|0,0,12)|0,Di(le,g),g=le|0,le=r[g>>2]|0,(r[8716]|0)!=-1&&(r[ne>>2]=34864,r[ne+4>>2]=16,r[ne+8>>2]=0,Vt(34864,ne,114)),ne=(r[8717]|0)-1|0,ue=r[le+8>>2]|0;do if((r[le+12>>2]|0)-ue>>2>>>0>ne>>>0){if(le=r[ue+(ne<<2)>>2]|0,(le|0)==0)break;oe=oe|0,Lr[r[(r[le>>2]|0)+32>>2]&15](le,27208,27234,oe)|0,vi(r[g>>2]|0)|0,ne=B,V0(ne|0,0,12)|0,oi(B,10,0),(j[ne]&1)==0?(le=B+1|0,Te=le,g=B+8|0):(g=B+8|0,Te=r[g>>2]|0,le=B+1|0),r[re>>2]=Te,pe=pe|0,r[te>>2]=pe,r[q>>2]=0,h=h|0,m=m|0,ue=B|0,ve=B+4|0,ge=r[h>>2]|0;e:for(;;){do if((ge|0)==0)ge=0;else{if((r[ge+12>>2]|0)!=(r[ge+16>>2]|0)||(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)!=-1)break;r[h>>2]=0,ge=0}while(!1);qe=(ge|0)==0,Ve=r[m>>2]|0;do if((Ve|0)==0)_=25;else{if((r[Ve+12>>2]|0)!=(r[Ve+16>>2]|0)){if(qe)break;break e}if((_0[r[(r[Ve>>2]|0)+36>>2]&255](Ve)|0)==-1){r[m>>2]=0,_=25;break}else{if(qe)break;break e}}while(!1);if((_|0)==25&&(_=0,qe)||(Ve=j[ne]|0,qe=(Ve&1)==0,qe?Be=(Ve&255)>>>1:Be=r[ve>>2]|0,((r[re>>2]|0)-Te|0)==(Be|0)&&(qe?(Te=(Ve&255)>>>1,Ve=(Ve&255)>>>1):(Ve=r[ve>>2]|0,Te=Ve),oi(B,Te<<1,0),(j[ne]&1)==0?Te=10:Te=(r[ue>>2]&-2)-1|0,oi(B,Te,0),(j[ne]&1)==0?Te=le:Te=r[g>>2]|0,r[re>>2]=Te+Ve),Ve=ge+12|0,Be=r[Ve>>2]|0,qe=ge+16|0,(Be|0)==(r[qe>>2]|0)?Be=(_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0)&255:Be=j[Be]|0,(A1(Be,16,Te,re,q,0,o,pe,te,oe)|0)!=0))break;if(Be=r[Ve>>2]|0,(Be|0)==(r[qe>>2]|0)){_0[r[(r[ge>>2]|0)+40>>2]&255](ge)|0;continue}else{r[Ve>>2]=Be+1;continue}}j[Te+3|0]=0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;Be=Ct(2147483647,14472,0)|0,r[8330]=Be}while(!1);Be=Ih(Te,r[8330]|0,11744,(qe=D,D=D+8|0,r[qe>>2]=y,qe|0))|0,D=qe,(Be|0)!=1&&(r[w>>2]=4),te=r[h>>2]|0;do if((te|0)==0)te=0;else{if((r[te+12>>2]|0)!=(r[te+16>>2]|0)||(_0[r[(r[te>>2]|0)+36>>2]&255](te)|0)!=-1)break;r[h>>2]=0,te=0}while(!1);y=(te|0)==0,q=r[m>>2]|0;do if((q|0)==0)_=73;else{if((r[q+12>>2]|0)!=(r[q+16>>2]|0)){if(!y)break;Be=n|0,r[Be>>2]=te,R0(B),R0(o),D=C;return}if((_0[r[(r[q>>2]|0)+36>>2]&255](q)|0)==-1){r[m>>2]=0,_=73;break}if(!(y^(q|0)==0))break;Be=n|0,r[Be>>2]=te,R0(B),R0(o),D=C;return}while(!1);do if((_|0)==73){if(y)break;Be=n|0,r[Be>>2]=te,R0(B),R0(o),D=C;return}while(!1);r[w>>2]=r[w>>2]|2,Be=n|0,r[Be>>2]=te,R0(B),R0(o),D=C;return}while(!1);Be=qt(4)|0,h0(Be),Wt(Be|0,25544,156)}function A1(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0,re=0;te=r[m>>2]|0,q=(te|0)==(h|0);do if(q){if(re=(j[B+24|0]|0)==n<<24>>24,!re&&(j[B+25|0]|0)!=n<<24>>24)break;return r[m>>2]=h+1,j[h]=re?43:45,r[g>>2]=0,re=0,re|0}while(!1);if(re=j[y]|0,(re&1)==0?y=(re&255)>>>1:y=r[y+4>>2]|0,(y|0)!=0&n<<24>>24==w<<24>>24)return h=r[C>>2]|0,(h-_|0)>=160?(re=0,re|0):(re=r[g>>2]|0,r[C>>2]=h+4,r[h>>2]=re,r[g>>2]=0,re=0,re|0);for(C=B+26|0,_=B;w=_+1|0,(j[_]|0)!=n<<24>>24;)if((w|0)==(C|0)){_=C;break}else _=w;if(B=_-B|0,(B|0)>23)return re=-1,re|0;do if((o|0)==16){if((B|0)<22)break;return q||(te-h|0)>=3||(j[te-1|0]|0)!=48?(re=-1,re|0):(r[g>>2]=0,re=j[27208+B|0]|0,r[m>>2]=te+1,j[te]=re,re=0,re|0)}else if((o|0)==8|(o|0)==10){if((B|0)<(o|0))break;return g=-1,g|0}while(!1);return re=j[27208+B|0]|0,r[m>>2]=te+1,j[te]=re,r[g>>2]=(r[g>>2]|0)+1,re=0,re|0}function Ih(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0;return g=D,D=D+16|0,w=g|0,y=w,r[y>>2]=m,r[y+4>>2]=0,o=Ki(o|0)|0,h=Ni(n|0,h|0,w|0)|0,(o|0)==0?(D=g,h|0):(Ki(o|0)|0,D=g,h|0)}function W5(n){n=n|0,$0(n)}function j5(n){}function $5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;if(_=D,D=D+112|0,q=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[q>>2],q=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[q>>2],q=_|0,re=_+16|0,oe=_+32|0,ue=_+40|0,ne=_+48|0,pe=_+56|0,le=_+64|0,te=_+72|0,C=_+80|0,B=_+104|0,(r[g+4>>2]&1|0)==0){r[oe>>2]=-1,re=r[(r[o>>2]|0)+16>>2]|0,le=h|0,r[ne>>2]=r[le>>2],r[pe>>2]=r[m>>2],Hr[re&127](ue,o,ne,pe,g,w,oe),h=r[ue>>2]|0,r[le>>2]=h,m=r[oe>>2]|0,(m|0)==1?j[y]=1:(m|0)==0?j[y]=0:(j[y]=1,r[w>>2]=4),r[n>>2]=h,D=_;return}Di(le,g),oe=le|0,le=r[oe>>2]|0,(r[8714]|0)!=-1&&(r[re>>2]=34856,r[re+4>>2]=16,r[re+8>>2]=0,Vt(34856,re,114)),re=(r[8715]|0)-1|0,ne=r[le+8>>2]|0;do if((r[le+12>>2]|0)-ne>>2>>>0>re>>>0){if(re=r[ne+(re<<2)>>2]|0,(re|0)==0)break;vi(r[oe>>2]|0)|0,Di(te,g),te=te|0,g=r[te>>2]|0,(r[8618]|0)!=-1&&(r[q>>2]=34472,r[q+4>>2]=16,r[q+8>>2]=0,Vt(34472,q,114)),q=(r[8619]|0)-1|0,oe=r[g+8>>2]|0;do if((r[g+12>>2]|0)-oe>>2>>>0>q>>>0){if(q=r[oe+(q<<2)>>2]|0,(q|0)==0)break;pe=q,vi(r[te>>2]|0)|0,ue=C|0,o=q,si[r[(r[o>>2]|0)+24>>2]&127](ue,pe),si[r[(r[o>>2]|0)+28>>2]&127](C+12|0,pe),r[B>>2]=r[m>>2],ue=(oo(h,B,ue,C+24|0,re,w,1)|0)==(ue|0)|0,j[y]=ue,r[n>>2]=r[h>>2],Gt(C+12|0),Gt(C|0),D=_;return}while(!1);ue=qt(4)|0,h0(ue),Wt(ue|0,25544,156)}while(!1);ue=qt(4)|0,h0(ue),Wt(ue|0,25544,156)}function oo(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0;C=D,D=D+104|0,ue=o,o=D,D=D+4|0,D=D+7&-8,r[o>>2]=r[ue>>2],ue=(m-h|0)/12|0,q=C|0;do if(ue>>>0>100){if(B=ii(ue)|0,(B|0)!=0){q=B;break}Pi(),q=0,B=0}else B=0;while(!1);if(te=(h|0)==(m|0),te)pe=0;else for(pe=0,re=q,oe=h;le=j[oe]|0,(le&1)==0?le=(le&255)>>>1:le=r[oe+4>>2]|0,(le|0)==0?(j[re]=2,pe=pe+1|0,ue=ue-1|0):j[re]=1,oe=oe+12|0,(oe|0)!=(m|0);)re=re+1|0;n=n|0,o=o|0,re=g,oe=0;e:for(;;){le=r[n>>2]|0;do if((le|0)==0)ne=1;else if(ne=r[le+12>>2]|0,(ne|0)==(r[le+16>>2]|0)?le=_0[r[(r[le>>2]|0)+36>>2]&255](le)|0:le=r[ne>>2]|0,(le|0)==-1){r[n>>2]=0,ne=1;break}else{ne=(r[n>>2]|0)==0;break}while(!1);le=r[o>>2]|0;do if((le|0)==0)ge=1,le=0;else{if(ve=r[le+12>>2]|0,(ve|0)==(r[le+16>>2]|0)?ve=_0[r[(r[le>>2]|0)+36>>2]&255](le)|0:ve=r[ve>>2]|0,(ve|0)!=-1){ge=0;break}r[o>>2]=0,ge=1,le=0}while(!1);if(ve=r[n>>2]|0,!((ne^ge)&(ue|0)!=0))break;if(le=r[ve+12>>2]|0,(le|0)==(r[ve+16>>2]|0)?ne=_0[r[(r[ve>>2]|0)+36>>2]&255](ve)|0:ne=r[le>>2]|0,y||(ne=ni[r[(r[re>>2]|0)+28>>2]&63](g,ne)|0),le=oe+1|0,te){oe=le;continue}t:do if(y)for(ve=q,Te=0,ge=h;;){do if((j[ve]|0)==1){if(qe=j[ge]|0,Be=(qe&1)==0,Be?Ve=ge+4|0:Ve=r[ge+8>>2]|0,(ne|0)!=(r[Ve+(oe<<2)>>2]|0)){j[ve]=0,ue=ue-1|0;break}if(Be?Te=(qe&255)>>>1:Te=r[ge+4>>2]|0,(Te|0)!=(le|0)){Te=1;break}j[ve]=2,Te=1,pe=pe+1|0,ue=ue-1|0}while(!1);if(ge=ge+12|0,(ge|0)==(m|0)){ne=ue;break t}ve=ve+1|0}else for(ve=q,Te=0,ge=h;;){do if((j[ve]|0)==1){if(Ve=ge,(j[Ve]&1)==0?qe=ge+4|0:qe=r[ge+8>>2]|0,(ne|0)!=(ni[r[(r[re>>2]|0)+28>>2]&63](g,r[qe+(oe<<2)>>2]|0)|0)){j[ve]=0,ue=ue-1|0;break}if(Te=j[Ve]|0,(Te&1)==0?Te=(Te&255)>>>1:Te=r[ge+4>>2]|0,(Te|0)!=(le|0)){Te=1;break}j[ve]=2,Te=1,pe=pe+1|0,ue=ue-1|0}while(!1);if(ge=ge+12|0,(ge|0)==(m|0)){ne=ue;break t}ve=ve+1|0}while(!1);if(!Te){oe=le,ue=ne;continue}if(ve=r[n>>2]|0,ue=ve+12|0,oe=r[ue>>2]|0,(oe|0)==(r[ve+16>>2]|0)?_0[r[(r[ve>>2]|0)+40>>2]&255](ve)|0:r[ue>>2]=oe+4,(ne+pe|0)>>>0<2){oe=le,ue=ne;continue}else oe=q,ue=h;for(;;){do if((j[oe]|0)==2){if(ve=j[ue]|0,(ve&1)==0?ve=(ve&255)>>>1:ve=r[ue+4>>2]|0,(ve|0)==(le|0))break;j[oe]=0,pe=pe-1|0}while(!1);if(ue=ue+12|0,(ue|0)==(m|0)){oe=le,ue=ne;continue e}else oe=oe+1|0}}do if((ve|0)==0)y=1;else if(y=r[ve+12>>2]|0,(y|0)==(r[ve+16>>2]|0)?y=_0[r[(r[ve>>2]|0)+36>>2]&255](ve)|0:y=r[y>>2]|0,(y|0)==-1){r[n>>2]=0,y=1;break}else{y=(r[n>>2]|0)==0;break}while(!1);do if((le|0)==0)_=94;else if(g=r[le+12>>2]|0,(g|0)==(r[le+16>>2]|0)?g=_0[r[(r[le>>2]|0)+36>>2]&255](le)|0:g=r[g>>2]|0,(g|0)==-1){r[o>>2]=0,_=94;break}else{if(y)break;_=96;break}while(!1);(_|0)==94&&y&&(_=96),(_|0)==96&&(r[w>>2]=r[w>>2]|2);e:do if(te)_=101;else{if((j[q]|0)==2){m=h;break}for(;;){if(h=h+12|0,q=q+1|0,(h|0)==(m|0)){_=101;break e}if((j[q]|0)==2){m=h;break}}}while(!1);return(_|0)==101&&(r[w>>2]=r[w>>2]|4),(B|0)==0?(D=C,m|0):(Ft(B),D=C,m|0)}function K5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],q5(n,0,m,h,g,w,y),D=o}function q5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0;B=D,D=D+328|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ne>>2],ne=B|0,pe=B+104|0,o=B+112|0,C=B+128|0,te=B+144|0,re=B+152|0,q=B+312|0,oe=B+320|0,le=r[g+4>>2]&74,(le|0)==8?le=16:(le|0)==64?le=8:(le|0)==0?le=0:le=10,ne=ne|0,uo(o,g,ne,pe),ge=C,V0(ge|0,0,12)|0,oi(C,10,0),(j[ge]&1)==0?(ue=C+1|0,ze=ue,ve=C+8|0):(ve=C+8|0,ze=r[ve>>2]|0,ue=C+1|0),r[te>>2]=ze,g=re|0,r[q>>2]=g,r[oe>>2]=0,h=h|0,m=m|0,Te=C|0,Ve=C+4|0,qe=r[pe>>2]|0,pe=r[h>>2]|0;e:for(;;){do if((pe|0)==0)He=1,pe=0;else{if(Be=r[pe+12>>2]|0,(Be|0)==(r[pe+16>>2]|0)?Be=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:Be=r[Be>>2]|0,(Be|0)!=-1){He=0;break}r[h>>2]=0,He=1,pe=0}while(!1);Be=r[m>>2]|0;do if((Be|0)==0)_=22;else if(Ye=r[Be+12>>2]|0,(Ye|0)==(r[Be+16>>2]|0)?Ye=_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0:Ye=r[Ye>>2]|0,(Ye|0)==-1){r[m>>2]=0,_=22;break}else{if(He)break;break e}while(!1);if((_|0)==22)if(_=0,He){Be=0;break}else Be=0;if(He=j[ge]|0,Ge=(He&1)==0,Ge?Ye=(He&255)>>>1:Ye=r[Ve>>2]|0,((r[te>>2]|0)-ze|0)==(Ye|0)&&(Ge?(ze=(He&255)>>>1,He=(He&255)>>>1):(He=r[Ve>>2]|0,ze=He),oi(C,ze<<1,0),(j[ge]&1)==0?ze=10:ze=(r[Te>>2]&-2)-1|0,oi(C,ze,0),(j[ge]&1)==0?ze=ue:ze=r[ve>>2]|0,r[te>>2]=ze+He),He=pe+12|0,Ge=r[He>>2]|0,Ye=pe+16|0,(Ge|0)==(r[Ye>>2]|0)?Ge=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:Ge=r[Ge>>2]|0,(v1(Ge,le,ze,te,oe,qe,o,g,q,ne)|0)!=0)break;if(Be=r[He>>2]|0,(Be|0)==(r[Ye>>2]|0)){_0[r[(r[pe>>2]|0)+40>>2]&255](pe)|0;continue}else{r[He>>2]=Be+4;continue}}ne=j[o]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[o+4>>2]|0;do if((ne|0)!=0){if(ne=r[q>>2]|0,(ne-re|0)>=160)break;Ge=r[oe>>2]|0,r[q>>2]=ne+4,r[ne>>2]=Ge}while(!1);Ge=ce(ze,r[te>>2]|0,w,le)|0,r[y>>2]=Ge,Dr(o,g,r[q>>2]|0,w);do if((pe|0)==0)y=1,pe=0;else{if(y=r[pe+12>>2]|0,(y|0)==(r[pe+16>>2]|0)?y=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:y=r[y>>2]|0,(y|0)!=-1){y=0;break}r[h>>2]=0,y=1,pe=0}while(!1);do if((Be|0)==0)_=67;else{if(q=r[Be+12>>2]|0,(q|0)==(r[Be+16>>2]|0)?q=_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0:q=r[q>>2]|0,(q|0)==-1){r[m>>2]=0,_=67;break}if(!y)break;Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B;return}while(!1);do if((_|0)==67){if(y)break;Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B}function Y5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],J5(n,0,m,h,g,w,y),D=o}function J5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0;B=D,D=D+328|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ne>>2],ne=B|0,pe=B+104|0,o=B+112|0,C=B+128|0,te=B+144|0,re=B+152|0,q=B+312|0,oe=B+320|0,le=r[g+4>>2]&74,(le|0)==64?le=8:(le|0)==8?le=16:(le|0)==0?le=0:le=10,ne=ne|0,uo(o,g,ne,pe),ge=C,V0(ge|0,0,12)|0,oi(C,10,0),(j[ge]&1)==0?(ue=C+1|0,ze=ue,ve=C+8|0):(ve=C+8|0,ze=r[ve>>2]|0,ue=C+1|0),r[te>>2]=ze,g=re|0,r[q>>2]=g,r[oe>>2]=0,h=h|0,m=m|0,Te=C|0,Ve=C+4|0,qe=r[pe>>2]|0,pe=r[h>>2]|0;e:for(;;){do if((pe|0)==0)He=1,pe=0;else{if(Be=r[pe+12>>2]|0,(Be|0)==(r[pe+16>>2]|0)?Be=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:Be=r[Be>>2]|0,(Be|0)!=-1){He=0;break}r[h>>2]=0,He=1,pe=0}while(!1);Be=r[m>>2]|0;do if((Be|0)==0)_=22;else if(Ye=r[Be+12>>2]|0,(Ye|0)==(r[Be+16>>2]|0)?Ye=_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0:Ye=r[Ye>>2]|0,(Ye|0)==-1){r[m>>2]=0,_=22;break}else{if(He)break;break e}while(!1);if((_|0)==22)if(_=0,He){Be=0;break}else Be=0;if(He=j[ge]|0,Ge=(He&1)==0,Ge?Ye=(He&255)>>>1:Ye=r[Ve>>2]|0,((r[te>>2]|0)-ze|0)==(Ye|0)&&(Ge?(ze=(He&255)>>>1,He=(He&255)>>>1):(He=r[Ve>>2]|0,ze=He),oi(C,ze<<1,0),(j[ge]&1)==0?ze=10:ze=(r[Te>>2]&-2)-1|0,oi(C,ze,0),(j[ge]&1)==0?ze=ue:ze=r[ve>>2]|0,r[te>>2]=ze+He),He=pe+12|0,Ge=r[He>>2]|0,Ye=pe+16|0,(Ge|0)==(r[Ye>>2]|0)?Ge=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:Ge=r[Ge>>2]|0,(v1(Ge,le,ze,te,oe,qe,o,g,q,ne)|0)!=0)break;if(Be=r[He>>2]|0,(Be|0)==(r[Ye>>2]|0)){_0[r[(r[pe>>2]|0)+40>>2]&255](pe)|0;continue}else{r[He>>2]=Be+4;continue}}ne=j[o]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[o+4>>2]|0;do if((ne|0)!=0){if(ne=r[q>>2]|0,(ne-re|0)>=160)break;Ge=r[oe>>2]|0,r[q>>2]=ne+4,r[ne>>2]=Ge}while(!1);Ge=he(ze,r[te>>2]|0,w,le)|0,r[y>>2]=Ge,r[y+4>>2]=Mt,Dr(o,g,r[q>>2]|0,w);do if((pe|0)==0)y=1,pe=0;else{if(y=r[pe+12>>2]|0,(y|0)==(r[pe+16>>2]|0)?y=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:y=r[y>>2]|0,(y|0)!=-1){y=0;break}r[h>>2]=0,y=1,pe=0}while(!1);do if((Be|0)==0)_=67;else{if(q=r[Be+12>>2]|0,(q|0)==(r[Be+16>>2]|0)?q=_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0:q=r[q>>2]|0,(q|0)==-1){r[m>>2]=0,_=67;break}if(!y)break;Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B;return}while(!1);do if((_|0)==67){if(y)break;Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B}function Q5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],X5(n,0,m,h,g,w,y),D=o}function X5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0;B=D,D=D+328|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ne>>2],ne=B|0,pe=B+104|0,o=B+112|0,C=B+128|0,te=B+144|0,re=B+152|0,q=B+312|0,oe=B+320|0,le=r[g+4>>2]&74,(le|0)==0?le=0:(le|0)==64?le=8:(le|0)==8?le=16:le=10,ne=ne|0,uo(o,g,ne,pe),ge=C,V0(ge|0,0,12)|0,oi(C,10,0),(j[ge]&1)==0?(ue=C+1|0,ze=ue,ve=C+8|0):(ve=C+8|0,ze=r[ve>>2]|0,ue=C+1|0),r[te>>2]=ze,g=re|0,r[q>>2]=g,r[oe>>2]=0,h=h|0,m=m|0,Te=C|0,Ve=C+4|0,qe=r[pe>>2]|0,pe=r[h>>2]|0;e:for(;;){do if((pe|0)==0)He=1,pe=0;else{if(Be=r[pe+12>>2]|0,(Be|0)==(r[pe+16>>2]|0)?Be=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:Be=r[Be>>2]|0,(Be|0)!=-1){He=0;break}r[h>>2]=0,He=1,pe=0}while(!1);Be=r[m>>2]|0;do if((Be|0)==0)_=22;else if(Ye=r[Be+12>>2]|0,(Ye|0)==(r[Be+16>>2]|0)?Ye=_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0:Ye=r[Ye>>2]|0,(Ye|0)==-1){r[m>>2]=0,_=22;break}else{if(He)break;break e}while(!1);if((_|0)==22)if(_=0,He){Be=0;break}else Be=0;if(He=j[ge]|0,Ge=(He&1)==0,Ge?Ye=(He&255)>>>1:Ye=r[Ve>>2]|0,((r[te>>2]|0)-ze|0)==(Ye|0)&&(Ge?(ze=(He&255)>>>1,He=(He&255)>>>1):(He=r[Ve>>2]|0,ze=He),oi(C,ze<<1,0),(j[ge]&1)==0?ze=10:ze=(r[Te>>2]&-2)-1|0,oi(C,ze,0),(j[ge]&1)==0?ze=ue:ze=r[ve>>2]|0,r[te>>2]=ze+He),He=pe+12|0,Ge=r[He>>2]|0,Ye=pe+16|0,(Ge|0)==(r[Ye>>2]|0)?Ge=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:Ge=r[Ge>>2]|0,(v1(Ge,le,ze,te,oe,qe,o,g,q,ne)|0)!=0)break;if(Be=r[He>>2]|0,(Be|0)==(r[Ye>>2]|0)){_0[r[(r[pe>>2]|0)+40>>2]&255](pe)|0;continue}else{r[He>>2]=Be+4;continue}}ne=j[o]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[o+4>>2]|0;do if((ne|0)!=0){if(ne=r[q>>2]|0,(ne-re|0)>=160)break;Ge=r[oe>>2]|0,r[q>>2]=ne+4,r[ne>>2]=Ge}while(!1);Ge=se(ze,r[te>>2]|0,w,le)|0,be[y>>1]=Ge,Dr(o,g,r[q>>2]|0,w);do if((pe|0)==0)y=1,pe=0;else{if(y=r[pe+12>>2]|0,(y|0)==(r[pe+16>>2]|0)?y=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:y=r[y>>2]|0,(y|0)!=-1){y=0;break}r[h>>2]=0,y=1,pe=0}while(!1);do if((Be|0)==0)_=67;else{if(q=r[Be+12>>2]|0,(q|0)==(r[Be+16>>2]|0)?q=_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0:q=r[q>>2]|0,(q|0)==-1){r[m>>2]=0,_=67;break}if(!y)break;Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B;return}while(!1);do if((_|0)==67){if(y)break;Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B}function Z5(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],e3(n,0,m,h,g,w,y),D=o}function e3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0;B=D,D=D+328|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ne>>2],ne=B|0,pe=B+104|0,o=B+112|0,C=B+128|0,te=B+144|0,re=B+152|0,q=B+312|0,oe=B+320|0,le=r[g+4>>2]&74,(le|0)==64?le=8:(le|0)==0?le=0:(le|0)==8?le=16:le=10,ne=ne|0,uo(o,g,ne,pe),ge=C,V0(ge|0,0,12)|0,oi(C,10,0),(j[ge]&1)==0?(ue=C+1|0,ze=ue,ve=C+8|0):(ve=C+8|0,ze=r[ve>>2]|0,ue=C+1|0),r[te>>2]=ze,g=re|0,r[q>>2]=g,r[oe>>2]=0,h=h|0,m=m|0,Te=C|0,Ve=C+4|0,qe=r[pe>>2]|0,pe=r[h>>2]|0;e:for(;;){do if((pe|0)==0)He=1,pe=0;else{if(Be=r[pe+12>>2]|0,(Be|0)==(r[pe+16>>2]|0)?Be=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:Be=r[Be>>2]|0,(Be|0)!=-1){He=0;break}r[h>>2]=0,He=1,pe=0}while(!1);Be=r[m>>2]|0;do if((Be|0)==0)_=22;else if(Ye=r[Be+12>>2]|0,(Ye|0)==(r[Be+16>>2]|0)?Ye=_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0:Ye=r[Ye>>2]|0,(Ye|0)==-1){r[m>>2]=0,_=22;break}else{if(He)break;break e}while(!1);if((_|0)==22)if(_=0,He){Be=0;break}else Be=0;if(He=j[ge]|0,Ge=(He&1)==0,Ge?Ye=(He&255)>>>1:Ye=r[Ve>>2]|0,((r[te>>2]|0)-ze|0)==(Ye|0)&&(Ge?(ze=(He&255)>>>1,He=(He&255)>>>1):(He=r[Ve>>2]|0,ze=He),oi(C,ze<<1,0),(j[ge]&1)==0?ze=10:ze=(r[Te>>2]&-2)-1|0,oi(C,ze,0),(j[ge]&1)==0?ze=ue:ze=r[ve>>2]|0,r[te>>2]=ze+He),He=pe+12|0,Ge=r[He>>2]|0,Ye=pe+16|0,(Ge|0)==(r[Ye>>2]|0)?Ge=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:Ge=r[Ge>>2]|0,(v1(Ge,le,ze,te,oe,qe,o,g,q,ne)|0)!=0)break;if(Be=r[He>>2]|0,(Be|0)==(r[Ye>>2]|0)){_0[r[(r[pe>>2]|0)+40>>2]&255](pe)|0;continue}else{r[He>>2]=Be+4;continue}}ne=j[o]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[o+4>>2]|0;do if((ne|0)!=0){if(ne=r[q>>2]|0,(ne-re|0)>=160)break;Ge=r[oe>>2]|0,r[q>>2]=ne+4,r[ne>>2]=Ge}while(!1);Ge=ee(ze,r[te>>2]|0,w,le)|0,r[y>>2]=Ge,Dr(o,g,r[q>>2]|0,w);do if((pe|0)==0)y=1,pe=0;else{if(y=r[pe+12>>2]|0,(y|0)==(r[pe+16>>2]|0)?y=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:y=r[y>>2]|0,(y|0)!=-1){y=0;break}r[h>>2]=0,y=1,pe=0}while(!1);do if((Be|0)==0)_=67;else{if(q=r[Be+12>>2]|0,(q|0)==(r[Be+16>>2]|0)?q=_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0:q=r[q>>2]|0,(q|0)==-1){r[m>>2]=0,_=67;break}if(!y)break;Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B;return}while(!1);do if((_|0)==67){if(y)break;Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B}function t3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],i3(n,0,m,h,g,w,y),D=o}function i3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0;B=D,D=D+328|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ne>>2],ne=B|0,pe=B+104|0,o=B+112|0,C=B+128|0,te=B+144|0,re=B+152|0,q=B+312|0,oe=B+320|0,le=r[g+4>>2]&74,(le|0)==8?le=16:(le|0)==64?le=8:(le|0)==0?le=0:le=10,ne=ne|0,uo(o,g,ne,pe),ge=C,V0(ge|0,0,12)|0,oi(C,10,0),(j[ge]&1)==0?(ue=C+1|0,ze=ue,ve=C+8|0):(ve=C+8|0,ze=r[ve>>2]|0,ue=C+1|0),r[te>>2]=ze,g=re|0,r[q>>2]=g,r[oe>>2]=0,h=h|0,m=m|0,Te=C|0,Ve=C+4|0,qe=r[pe>>2]|0,pe=r[h>>2]|0;e:for(;;){do if((pe|0)==0)He=1,pe=0;else{if(Be=r[pe+12>>2]|0,(Be|0)==(r[pe+16>>2]|0)?Be=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:Be=r[Be>>2]|0,(Be|0)!=-1){He=0;break}r[h>>2]=0,He=1,pe=0}while(!1);Be=r[m>>2]|0;do if((Be|0)==0)_=22;else if(Ye=r[Be+12>>2]|0,(Ye|0)==(r[Be+16>>2]|0)?Ye=_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0:Ye=r[Ye>>2]|0,(Ye|0)==-1){r[m>>2]=0,_=22;break}else{if(He)break;break e}while(!1);if((_|0)==22)if(_=0,He){Be=0;break}else Be=0;if(He=j[ge]|0,Ge=(He&1)==0,Ge?Ye=(He&255)>>>1:Ye=r[Ve>>2]|0,((r[te>>2]|0)-ze|0)==(Ye|0)&&(Ge?(ze=(He&255)>>>1,He=(He&255)>>>1):(He=r[Ve>>2]|0,ze=He),oi(C,ze<<1,0),(j[ge]&1)==0?ze=10:ze=(r[Te>>2]&-2)-1|0,oi(C,ze,0),(j[ge]&1)==0?ze=ue:ze=r[ve>>2]|0,r[te>>2]=ze+He),He=pe+12|0,Ge=r[He>>2]|0,Ye=pe+16|0,(Ge|0)==(r[Ye>>2]|0)?Ge=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:Ge=r[Ge>>2]|0,(v1(Ge,le,ze,te,oe,qe,o,g,q,ne)|0)!=0)break;if(Be=r[He>>2]|0,(Be|0)==(r[Ye>>2]|0)){_0[r[(r[pe>>2]|0)+40>>2]&255](pe)|0;continue}else{r[He>>2]=Be+4;continue}}ne=j[o]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[o+4>>2]|0;do if((ne|0)!=0){if(ne=r[q>>2]|0,(ne-re|0)>=160)break;Ge=r[oe>>2]|0,r[q>>2]=ne+4,r[ne>>2]=Ge}while(!1);Ge=Ne(ze,r[te>>2]|0,w,le)|0,r[y>>2]=Ge,Dr(o,g,r[q>>2]|0,w);do if((pe|0)==0)y=1,pe=0;else{if(y=r[pe+12>>2]|0,(y|0)==(r[pe+16>>2]|0)?y=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:y=r[y>>2]|0,(y|0)!=-1){y=0;break}r[h>>2]=0,y=1,pe=0}while(!1);do if((Be|0)==0)_=67;else{if(q=r[Be+12>>2]|0,(q|0)==(r[Be+16>>2]|0)?q=_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0:q=r[q>>2]|0,(q|0)==-1){r[m>>2]=0,_=67;break}if(!y)break;Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B;return}while(!1);do if((_|0)==67){if(y)break;Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B}function r3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],s3(n,0,m,h,g,w,y),D=o}function s3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0;B=D,D=D+328|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ne>>2],ne=B|0,pe=B+104|0,o=B+112|0,C=B+128|0,te=B+144|0,re=B+152|0,q=B+312|0,oe=B+320|0,le=r[g+4>>2]&74,(le|0)==64?le=8:(le|0)==8?le=16:(le|0)==0?le=0:le=10,ne=ne|0,uo(o,g,ne,pe),ge=C,V0(ge|0,0,12)|0,oi(C,10,0),(j[ge]&1)==0?(ue=C+1|0,ze=ue,ve=C+8|0):(ve=C+8|0,ze=r[ve>>2]|0,ue=C+1|0),r[te>>2]=ze,g=re|0,r[q>>2]=g,r[oe>>2]=0,h=h|0,m=m|0,Te=C|0,Ve=C+4|0,qe=r[pe>>2]|0,pe=r[h>>2]|0;e:for(;;){do if((pe|0)==0)He=1,pe=0;else{if(Be=r[pe+12>>2]|0,(Be|0)==(r[pe+16>>2]|0)?Be=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:Be=r[Be>>2]|0,(Be|0)!=-1){He=0;break}r[h>>2]=0,He=1,pe=0}while(!1);Be=r[m>>2]|0;do if((Be|0)==0)_=22;else if(Ye=r[Be+12>>2]|0,(Ye|0)==(r[Be+16>>2]|0)?Ye=_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0:Ye=r[Ye>>2]|0,(Ye|0)==-1){r[m>>2]=0,_=22;break}else{if(He)break;break e}while(!1);if((_|0)==22)if(_=0,He){Be=0;break}else Be=0;if(He=j[ge]|0,Ge=(He&1)==0,Ge?Ye=(He&255)>>>1:Ye=r[Ve>>2]|0,((r[te>>2]|0)-ze|0)==(Ye|0)&&(Ge?(ze=(He&255)>>>1,He=(He&255)>>>1):(He=r[Ve>>2]|0,ze=He),oi(C,ze<<1,0),(j[ge]&1)==0?ze=10:ze=(r[Te>>2]&-2)-1|0,oi(C,ze,0),(j[ge]&1)==0?ze=ue:ze=r[ve>>2]|0,r[te>>2]=ze+He),He=pe+12|0,Ge=r[He>>2]|0,Ye=pe+16|0,(Ge|0)==(r[Ye>>2]|0)?Ge=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:Ge=r[Ge>>2]|0,(v1(Ge,le,ze,te,oe,qe,o,g,q,ne)|0)!=0)break;if(Be=r[He>>2]|0,(Be|0)==(r[Ye>>2]|0)){_0[r[(r[pe>>2]|0)+40>>2]&255](pe)|0;continue}else{r[He>>2]=Be+4;continue}}ne=j[o]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[o+4>>2]|0;do if((ne|0)!=0){if(ne=r[q>>2]|0,(ne-re|0)>=160)break;Ge=r[oe>>2]|0,r[q>>2]=ne+4,r[ne>>2]=Ge}while(!1);Ge=ye(ze,r[te>>2]|0,w,le)|0,r[y>>2]=Ge,r[y+4>>2]=Mt,Dr(o,g,r[q>>2]|0,w);do if((pe|0)==0)y=1,pe=0;else{if(y=r[pe+12>>2]|0,(y|0)==(r[pe+16>>2]|0)?y=_0[r[(r[pe>>2]|0)+36>>2]&255](pe)|0:y=r[y>>2]|0,(y|0)!=-1){y=0;break}r[h>>2]=0,y=1,pe=0}while(!1);do if((Be|0)==0)_=67;else{if(q=r[Be+12>>2]|0,(q|0)==(r[Be+16>>2]|0)?q=_0[r[(r[Be>>2]|0)+36>>2]&255](Be)|0:q=r[q>>2]|0,(q|0)==-1){r[m>>2]=0,_=67;break}if(!y)break;Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B;return}while(!1);do if((_|0)==67){if(y)break;Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,Ge=n|0,r[Ge>>2]=pe,R0(C),R0(o),D=B}function n3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],a3(n,0,m,h,g,w,y),D=o}function a3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0;B=D,D=D+376|0,Be=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[Be>>2],Be=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[Be>>2],Be=B+128|0,ue=B+136|0,o=B+144|0,C=B+160|0,q=B+176|0,oe=B+184|0,te=B+344|0,re=B+352|0,le=B+360|0,pe=B+368|0,ne=B|0,Vc(o,g,ne,Be,ue),Te=C,V0(Te|0,0,12)|0,oi(C,10,0),(j[Te]&1)==0?(ve=C+1|0,Ye=ve,ge=C+8|0):(ge=C+8|0,Ye=r[ge>>2]|0,ve=C+1|0),r[q>>2]=Ye,g=oe|0,r[te>>2]=g,r[re>>2]=0,j[le]=1,j[pe]=69,h=h|0,m=m|0,Ve=C|0,qe=C+4|0,Be=r[Be>>2]|0,ze=r[ue>>2]|0,ue=r[h>>2]|0;e:for(;;){do if((ue|0)==0)Ge=1,ue=0;else{if(He=r[ue+12>>2]|0,(He|0)==(r[ue+16>>2]|0)?He=_0[r[(r[ue>>2]|0)+36>>2]&255](ue)|0:He=r[He>>2]|0,(He|0)!=-1){Ge=0;break}r[h>>2]=0,Ge=1,ue=0}while(!1);He=r[m>>2]|0;do if((He|0)==0)_=18;else if(r0=r[He+12>>2]|0,(r0|0)==(r[He+16>>2]|0)?r0=_0[r[(r[He>>2]|0)+36>>2]&255](He)|0:r0=r[r0>>2]|0,(r0|0)==-1){r[m>>2]=0,_=18;break}else{if(Ge)break;break e}while(!1);if((_|0)==18)if(_=0,Ge){He=0;break}else He=0;if(Ge=j[Te]|0,o0=(Ge&1)==0,o0?r0=(Ge&255)>>>1:r0=r[qe>>2]|0,((r[q>>2]|0)-Ye|0)==(r0|0)&&(o0?(Ye=(Ge&255)>>>1,Ge=(Ge&255)>>>1):(Ge=r[qe>>2]|0,Ye=Ge),oi(C,Ye<<1,0),(j[Te]&1)==0?Ye=10:Ye=(r[Ve>>2]&-2)-1|0,oi(C,Ye,0),(j[Te]&1)==0?Ye=ve:Ye=r[ge>>2]|0,r[q>>2]=Ye+Ge),r0=ue+12|0,o0=r[r0>>2]|0,Ge=ue+16|0,(o0|0)==(r[Ge>>2]|0)?o0=_0[r[(r[ue>>2]|0)+36>>2]&255](ue)|0:o0=r[o0>>2]|0,(Wc(o0,le,pe,Ye,q,Be,ze,o,g,te,re,ne)|0)!=0)break;if(He=r[r0>>2]|0,(He|0)==(r[Ge>>2]|0)){_0[r[(r[ue>>2]|0)+40>>2]&255](ue)|0;continue}else{r[r0>>2]=He+4;continue}}ne=j[o]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[o+4>>2]|0;do if((ne|0)!=0){if((j[le]|0)==0||(le=r[te>>2]|0,(le-oe|0)>=160))break;o0=r[re>>2]|0,r[te>>2]=le+4,r[le>>2]=o0}while(!1);v0=+Fe(Ye,r[q>>2]|0,w),it[y>>2]=v0,Dr(o,g,r[te>>2]|0,w);do if((ue|0)==0)y=1,ue=0;else{if(y=r[ue+12>>2]|0,(y|0)==(r[ue+16>>2]|0)?y=_0[r[(r[ue>>2]|0)+36>>2]&255](ue)|0:y=r[y>>2]|0,(y|0)!=-1){y=0;break}r[h>>2]=0,y=1,ue=0}while(!1);do if((He|0)==0)_=64;else{if(q=r[He+12>>2]|0,(q|0)==(r[He+16>>2]|0)?q=_0[r[(r[He>>2]|0)+36>>2]&255](He)|0:q=r[q>>2]|0,(q|0)==-1){r[m>>2]=0,_=64;break}if(!y)break;o0=n|0,r[o0>>2]=ue,R0(C),R0(o),D=B;return}while(!1);do if((_|0)==64){if(y)break;o0=n|0,r[o0>>2]=ue,R0(C),R0(o),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,o0=n|0,r[o0>>2]=ue,R0(C),R0(o),D=B}function o3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],l3(n,0,m,h,g,w,y),D=o}function l3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0;B=D,D=D+376|0,Be=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[Be>>2],Be=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[Be>>2],Be=B+128|0,ue=B+136|0,o=B+144|0,C=B+160|0,q=B+176|0,oe=B+184|0,te=B+344|0,re=B+352|0,le=B+360|0,pe=B+368|0,ne=B|0,Vc(o,g,ne,Be,ue),Te=C,V0(Te|0,0,12)|0,oi(C,10,0),(j[Te]&1)==0?(ve=C+1|0,Ye=ve,ge=C+8|0):(ge=C+8|0,Ye=r[ge>>2]|0,ve=C+1|0),r[q>>2]=Ye,g=oe|0,r[te>>2]=g,r[re>>2]=0,j[le]=1,j[pe]=69,h=h|0,m=m|0,Ve=C|0,qe=C+4|0,Be=r[Be>>2]|0,ze=r[ue>>2]|0,ue=r[h>>2]|0;e:for(;;){do if((ue|0)==0)Ge=1,ue=0;else{if(He=r[ue+12>>2]|0,(He|0)==(r[ue+16>>2]|0)?He=_0[r[(r[ue>>2]|0)+36>>2]&255](ue)|0:He=r[He>>2]|0,(He|0)!=-1){Ge=0;break}r[h>>2]=0,Ge=1,ue=0}while(!1);He=r[m>>2]|0;do if((He|0)==0)_=18;else if(r0=r[He+12>>2]|0,(r0|0)==(r[He+16>>2]|0)?r0=_0[r[(r[He>>2]|0)+36>>2]&255](He)|0:r0=r[r0>>2]|0,(r0|0)==-1){r[m>>2]=0,_=18;break}else{if(Ge)break;break e}while(!1);if((_|0)==18)if(_=0,Ge){He=0;break}else He=0;if(Ge=j[Te]|0,o0=(Ge&1)==0,o0?r0=(Ge&255)>>>1:r0=r[qe>>2]|0,((r[q>>2]|0)-Ye|0)==(r0|0)&&(o0?(Ye=(Ge&255)>>>1,Ge=(Ge&255)>>>1):(Ge=r[qe>>2]|0,Ye=Ge),oi(C,Ye<<1,0),(j[Te]&1)==0?Ye=10:Ye=(r[Ve>>2]&-2)-1|0,oi(C,Ye,0),(j[Te]&1)==0?Ye=ve:Ye=r[ge>>2]|0,r[q>>2]=Ye+Ge),r0=ue+12|0,o0=r[r0>>2]|0,Ge=ue+16|0,(o0|0)==(r[Ge>>2]|0)?o0=_0[r[(r[ue>>2]|0)+36>>2]&255](ue)|0:o0=r[o0>>2]|0,(Wc(o0,le,pe,Ye,q,Be,ze,o,g,te,re,ne)|0)!=0)break;if(He=r[r0>>2]|0,(He|0)==(r[Ge>>2]|0)){_0[r[(r[ue>>2]|0)+40>>2]&255](ue)|0;continue}else{r[r0>>2]=He+4;continue}}ne=j[o]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[o+4>>2]|0;do if((ne|0)!=0){if((j[le]|0)==0||(le=r[te>>2]|0,(le-oe|0)>=160))break;o0=r[re>>2]|0,r[te>>2]=le+4,r[le>>2]=o0}while(!1);v0=+Oe(Ye,r[q>>2]|0,w),p0[y>>3]=v0,Dr(o,g,r[te>>2]|0,w);do if((ue|0)==0)y=1,ue=0;else{if(y=r[ue+12>>2]|0,(y|0)==(r[ue+16>>2]|0)?y=_0[r[(r[ue>>2]|0)+36>>2]&255](ue)|0:y=r[y>>2]|0,(y|0)!=-1){y=0;break}r[h>>2]=0,y=1,ue=0}while(!1);do if((He|0)==0)_=64;else{if(q=r[He+12>>2]|0,(q|0)==(r[He+16>>2]|0)?q=_0[r[(r[He>>2]|0)+36>>2]&255](He)|0:q=r[q>>2]|0,(q|0)==-1){r[m>>2]=0,_=64;break}if(!y)break;o0=n|0,r[o0>>2]=ue,R0(C),R0(o),D=B;return}while(!1);do if((_|0)==64){if(y)break;o0=n|0,r[o0>>2]=ue,R0(C),R0(o),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,o0=n|0,r[o0>>2]=ue,R0(C),R0(o),D=B}function u3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0;o=D,D=D+16|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=m,_=D,D=D+4|0,D=D+7&-8,r[_>>2]=r[B>>2],m=o|0,h=o+8|0,r[m>>2]=r[C>>2],r[h>>2]=r[_>>2],c3(n,0,m,h,g,w,y),D=o}function c3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0;B=D,D=D+376|0,Be=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[Be>>2],Be=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[Be>>2],Be=B+128|0,ue=B+136|0,o=B+144|0,C=B+160|0,q=B+176|0,oe=B+184|0,te=B+344|0,re=B+352|0,le=B+360|0,pe=B+368|0,ne=B|0,Vc(o,g,ne,Be,ue),Te=C,V0(Te|0,0,12)|0,oi(C,10,0),(j[Te]&1)==0?(ve=C+1|0,Ye=ve,ge=C+8|0):(ge=C+8|0,Ye=r[ge>>2]|0,ve=C+1|0),r[q>>2]=Ye,g=oe|0,r[te>>2]=g,r[re>>2]=0,j[le]=1,j[pe]=69,h=h|0,m=m|0,Ve=C|0,qe=C+4|0,Be=r[Be>>2]|0,ze=r[ue>>2]|0,ue=r[h>>2]|0;e:for(;;){do if((ue|0)==0)Ge=1,ue=0;else{if(He=r[ue+12>>2]|0,(He|0)==(r[ue+16>>2]|0)?He=_0[r[(r[ue>>2]|0)+36>>2]&255](ue)|0:He=r[He>>2]|0,(He|0)!=-1){Ge=0;break}r[h>>2]=0,Ge=1,ue=0}while(!1);He=r[m>>2]|0;do if((He|0)==0)_=18;else if(r0=r[He+12>>2]|0,(r0|0)==(r[He+16>>2]|0)?r0=_0[r[(r[He>>2]|0)+36>>2]&255](He)|0:r0=r[r0>>2]|0,(r0|0)==-1){r[m>>2]=0,_=18;break}else{if(Ge)break;break e}while(!1);if((_|0)==18)if(_=0,Ge){He=0;break}else He=0;if(Ge=j[Te]|0,o0=(Ge&1)==0,o0?r0=(Ge&255)>>>1:r0=r[qe>>2]|0,((r[q>>2]|0)-Ye|0)==(r0|0)&&(o0?(Ye=(Ge&255)>>>1,Ge=(Ge&255)>>>1):(Ge=r[qe>>2]|0,Ye=Ge),oi(C,Ye<<1,0),(j[Te]&1)==0?Ye=10:Ye=(r[Ve>>2]&-2)-1|0,oi(C,Ye,0),(j[Te]&1)==0?Ye=ve:Ye=r[ge>>2]|0,r[q>>2]=Ye+Ge),r0=ue+12|0,o0=r[r0>>2]|0,Ge=ue+16|0,(o0|0)==(r[Ge>>2]|0)?o0=_0[r[(r[ue>>2]|0)+36>>2]&255](ue)|0:o0=r[o0>>2]|0,(Wc(o0,le,pe,Ye,q,Be,ze,o,g,te,re,ne)|0)!=0)break;if(He=r[r0>>2]|0,(He|0)==(r[Ge>>2]|0)){_0[r[(r[ue>>2]|0)+40>>2]&255](ue)|0;continue}else{r[r0>>2]=He+4;continue}}ne=j[o]|0,(ne&1)==0?ne=(ne&255)>>>1:ne=r[o+4>>2]|0;do if((ne|0)!=0){if((j[le]|0)==0||(le=r[te>>2]|0,(le-oe|0)>=160))break;o0=r[re>>2]|0,r[te>>2]=le+4,r[le>>2]=o0}while(!1);v0=+xe(Ye,r[q>>2]|0,w),p0[y>>3]=v0,Dr(o,g,r[te>>2]|0,w);do if((ue|0)==0)y=1,ue=0;else{if(y=r[ue+12>>2]|0,(y|0)==(r[ue+16>>2]|0)?y=_0[r[(r[ue>>2]|0)+36>>2]&255](ue)|0:y=r[y>>2]|0,(y|0)!=-1){y=0;break}r[h>>2]=0,y=1,ue=0}while(!1);do if((He|0)==0)_=64;else{if(q=r[He+12>>2]|0,(q|0)==(r[He+16>>2]|0)?q=_0[r[(r[He>>2]|0)+36>>2]&255](He)|0:q=r[q>>2]|0,(q|0)==-1){r[m>>2]=0,_=64;break}if(!y)break;o0=n|0,r[o0>>2]=ue,R0(C),R0(o),D=B;return}while(!1);do if((_|0)==64){if(y)break;o0=n|0,r[o0>>2]=ue,R0(C),R0(o),D=B;return}while(!1);r[w>>2]=r[w>>2]|2,o0=n|0,r[o0>>2]=ue,R0(C),R0(o),D=B}function h3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0;C=D,D=D+344|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ne>>2],ne=C|0,oe=C+16|0,o=C+120|0,le=C+136|0,B=C+144|0,q=C+160|0,pe=C+168|0,te=C+328|0,re=C+336|0,V0(o|0,0,12)|0,Di(le,g),g=le|0,le=r[g>>2]|0,(r[8714]|0)!=-1&&(r[ne>>2]=34856,r[ne+4>>2]=16,r[ne+8>>2]=0,Vt(34856,ne,114)),ne=(r[8715]|0)-1|0,ue=r[le+8>>2]|0;do if((r[le+12>>2]|0)-ue>>2>>>0>ne>>>0){if(le=r[ue+(ne<<2)>>2]|0,(le|0)==0)break;oe=oe|0,Lr[r[(r[le>>2]|0)+48>>2]&15](le,27208,27234,oe)|0,vi(r[g>>2]|0)|0,g=B,V0(g|0,0,12)|0,oi(B,10,0),(j[g]&1)==0?(le=B+1|0,Te=le,ne=B+8|0):(ne=B+8|0,Te=r[ne>>2]|0,le=B+1|0),r[q>>2]=Te,pe=pe|0,r[te>>2]=pe,r[re>>2]=0,h=h|0,m=m|0,ue=B|0,ve=B+4|0,ge=r[h>>2]|0;e:for(;;){do if((ge|0)==0)Ve=1,ge=0;else{if(Ve=r[ge+12>>2]|0,(Ve|0)==(r[ge+16>>2]|0)?Ve=_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0:Ve=r[Ve>>2]|0,(Ve|0)!=-1){Ve=0;break}r[h>>2]=0,Ve=1,ge=0}while(!1);qe=r[m>>2]|0;do if((qe|0)==0)_=26;else if(Be=r[qe+12>>2]|0,(Be|0)==(r[qe+16>>2]|0)?qe=_0[r[(r[qe>>2]|0)+36>>2]&255](qe)|0:qe=r[Be>>2]|0,(qe|0)==-1){r[m>>2]=0,_=26;break}else{if(Ve)break;break e}while(!1);if((_|0)==26&&(_=0,Ve)||(Ve=j[g]|0,Be=(Ve&1)==0,Be?qe=(Ve&255)>>>1:qe=r[ve>>2]|0,((r[q>>2]|0)-Te|0)==(qe|0)&&(Be?(Te=(Ve&255)>>>1,Ve=(Ve&255)>>>1):(Ve=r[ve>>2]|0,Te=Ve),oi(B,Te<<1,0),(j[g]&1)==0?Te=10:Te=(r[ue>>2]&-2)-1|0,oi(B,Te,0),(j[g]&1)==0?Te=le:Te=r[ne>>2]|0,r[q>>2]=Te+Ve),Ve=ge+12|0,Be=r[Ve>>2]|0,qe=ge+16|0,(Be|0)==(r[qe>>2]|0)?Be=_0[r[(r[ge>>2]|0)+36>>2]&255](ge)|0:Be=r[Be>>2]|0,(v1(Be,16,Te,q,re,0,o,pe,te,oe)|0)!=0))break;if(Be=r[Ve>>2]|0,(Be|0)==(r[qe>>2]|0)){_0[r[(r[ge>>2]|0)+40>>2]&255](ge)|0;continue}else{r[Ve>>2]=Be+4;continue}}j[Te+3|0]=0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;Be=Ct(2147483647,14472,0)|0,r[8330]=Be}while(!1);Be=Ih(Te,r[8330]|0,11744,(qe=D,D=D+8|0,r[qe>>2]=y,qe|0))|0,D=qe,(Be|0)!=1&&(r[w>>2]=4),q=r[h>>2]|0;do if((q|0)==0)y=1,q=0;else{if(y=r[q+12>>2]|0,(y|0)==(r[q+16>>2]|0)?y=_0[r[(r[q>>2]|0)+36>>2]&255](q)|0:y=r[y>>2]|0,(y|0)!=-1){y=0;break}r[h>>2]=0,y=1,q=0}while(!1);re=r[m>>2]|0;do if((re|0)==0)_=74;else{if(te=r[re+12>>2]|0,(te|0)==(r[re+16>>2]|0)?te=_0[r[(r[re>>2]|0)+36>>2]&255](re)|0:te=r[te>>2]|0,(te|0)==-1){r[m>>2]=0,_=74;break}if(!y)break;Be=n|0,r[Be>>2]=q,R0(B),R0(o),D=C;return}while(!1);do if((_|0)==74){if(y)break;Be=n|0,r[Be>>2]=q,R0(B),R0(o),D=C;return}while(!1);r[w>>2]=r[w>>2]|2,Be=n|0,r[Be>>2]=q,R0(B),R0(o),D=C;return}while(!1);Be=qt(4)|0,h0(Be),Wt(Be|0,25544,156)}function v1(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0,re=0;te=r[m>>2]|0,q=(te|0)==(h|0);do if(q){if(re=(r[B+96>>2]|0)==(n|0),!re&&(r[B+100>>2]|0)!=(n|0))break;return r[m>>2]=h+1,j[h]=re?43:45,r[g>>2]=0,re=0,re|0}while(!1);if(re=j[y]|0,(re&1)==0?y=(re&255)>>>1:y=r[y+4>>2]|0,(y|0)!=0&(n|0)==(w|0))return h=r[C>>2]|0,(h-_|0)>=160?(re=0,re|0):(re=r[g>>2]|0,r[C>>2]=h+4,r[h>>2]=re,r[g>>2]=0,re=0,re|0);for(C=B+104|0,_=B;w=_+4|0,(r[_>>2]|0)!=(n|0);)if((w|0)==(C|0)){_=C;break}else _=w;if(n=_-B|0,B=n>>2,(n|0)>92)return re=-1,re|0;do if((o|0)==16){if((n|0)<88)break;return q||(te-h|0)>=3||(j[te-1|0]|0)!=48?(re=-1,re|0):(r[g>>2]=0,re=j[27208+B|0]|0,r[m>>2]=te+1,j[te]=re,re=0,re|0)}else if((o|0)==8|(o|0)==10){if((B|0)<(o|0))break;return g=-1,g|0}while(!1);return re=j[27208+B|0]|0,r[m>>2]=te+1,j[te]=re,r[g>>2]=(r[g>>2]|0)+1,re=0,re|0}function lo(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0;g=D,D=D+40|0,w=g|0,_=g+16|0,y=g+32|0,Di(y,o),o=y|0,y=r[o>>2]|0,(r[8716]|0)!=-1&&(r[_>>2]=34864,r[_+4>>2]=16,r[_+8>>2]=0,Vt(34864,_,114)),_=(r[8717]|0)-1|0,C=r[y+8>>2]|0;do if((r[y+12>>2]|0)-C>>2>>>0>_>>>0){if(y=r[C+(_<<2)>>2]|0,(y|0)==0)break;Lr[r[(r[y>>2]|0)+32>>2]&15](y,27208,27234,h)|0,h=r[o>>2]|0,(r[8620]|0)!=-1&&(r[w>>2]=34480,r[w+4>>2]=16,r[w+8>>2]=0,Vt(34480,w,114)),w=(r[8621]|0)-1|0,y=r[h+8>>2]|0;do if((r[h+12>>2]|0)-y>>2>>>0>w>>>0){if(w=r[y+(w<<2)>>2]|0,(w|0)==0)break;C=w,_=_0[r[(r[w>>2]|0)+16>>2]&255](C)|0,j[m]=_,si[r[(r[w>>2]|0)+20>>2]&127](n,C),vi(r[o>>2]|0)|0,D=g;return}while(!1);C=qt(4)|0,h0(C),Wt(C|0,25544,156)}while(!1);C=qt(4)|0,h0(C),Wt(C|0,25544,156)}function Gc(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0;w=D,D=D+40|0,y=w|0,C=w+16|0,_=w+32|0,Di(_,o),o=_|0,_=r[o>>2]|0,(r[8716]|0)!=-1&&(r[C>>2]=34864,r[C+4>>2]=16,r[C+8>>2]=0,Vt(34864,C,114)),C=(r[8717]|0)-1|0,B=r[_+8>>2]|0;do if((r[_+12>>2]|0)-B>>2>>>0>C>>>0){if(_=r[B+(C<<2)>>2]|0,(_|0)==0)break;Lr[r[(r[_>>2]|0)+32>>2]&15](_,27208,27240,h)|0,h=r[o>>2]|0,(r[8620]|0)!=-1&&(r[y>>2]=34480,r[y+4>>2]=16,r[y+8>>2]=0,Vt(34480,y,114)),y=(r[8621]|0)-1|0,_=r[h+8>>2]|0;do if((r[h+12>>2]|0)-_>>2>>>0>y>>>0){if(y=r[_+(y<<2)>>2]|0,(y|0)==0)break;B=y,C=y,_=_0[r[(r[C>>2]|0)+12>>2]&255](B)|0,j[m]=_,C=_0[r[(r[C>>2]|0)+16>>2]&255](B)|0,j[g]=C,si[r[(r[y>>2]|0)+20>>2]&127](n,B),vi(r[o>>2]|0)|0,D=w;return}while(!1);B=qt(4)|0,h0(B),Wt(B|0,25544,156)}while(!1);B=qt(4)|0,h0(B),Wt(B|0,25544,156)}function Hc(n,o,h,m,g,w,y,_,C,B,q,te){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0;var re=0;if(n<<24>>24==w<<24>>24)return(j[o]|0)==0?(re=-1,re|0):(j[o]=0,re=r[g>>2]|0,r[g>>2]=re+1,j[re]=46,g=j[_]|0,(g&1)==0?g=(g&255)>>>1:g=r[_+4>>2]|0,(g|0)==0||(g=r[B>>2]|0,(g-C|0)>=160)?(re=0,re|0):(re=r[q>>2]|0,r[B>>2]=g+4,r[g>>2]=re,re=0,re|0));do if(n<<24>>24==y<<24>>24){if(w=j[_]|0,(w&1)==0?w=(w&255)>>>1:w=r[_+4>>2]|0,(w|0)==0)break;return(j[o]|0)==0?(re=-1,re|0):(g=r[B>>2]|0,(g-C|0)>=160?(re=0,re|0):(re=r[q>>2]|0,r[B>>2]=g+4,r[g>>2]=re,r[q>>2]=0,re=0,re|0))}while(!1);for(y=te+32|0,re=te;;){if(w=re+1|0,(j[re]|0)==n<<24>>24){y=re;break}if((w|0)==(y|0))break;re=w}if(n=y-te|0,(n|0)>31)return re=-1,re|0;if(te=j[27208+n|0]|0,(n|0)==25|(n|0)==24){q=r[g>>2]|0;do if((q|0)!=(m|0)){if((j[q-1|0]&95|0)==(j[h]&127|0))break;return q=-1,q|0}while(!1);return r[g>>2]=q+1,j[q]=te,re=0,re|0}else{if((n|0)==22|(n|0)==23)return j[h]=80,re=r[g>>2]|0,r[g>>2]=re+1,j[re]=te,re=0,re|0;m=j[h]|0;do if((te&95|0)==(m<<24>>24|0)){if(j[h]=m|-128,(j[o]|0)==0||(j[o]=0,h=j[_]|0,(h&1)==0?_=(h&255)>>>1:_=r[_+4>>2]|0,(_|0)==0)||(_=r[B>>2]|0,(_-C|0)>=160))break;re=r[q>>2]|0,r[B>>2]=_+4,r[_>>2]=re}while(!1);return re=r[g>>2]|0,r[g>>2]=re+1,j[re]=te,(n|0)>21?(re=0,re|0):(r[q>>2]=(r[q>>2]|0)+1,re=0,re|0)}}function uo(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0,C=0;g=D,D=D+40|0,w=g|0,_=g+16|0,y=g+32|0,Di(y,o),o=y|0,y=r[o>>2]|0,(r[8714]|0)!=-1&&(r[_>>2]=34856,r[_+4>>2]=16,r[_+8>>2]=0,Vt(34856,_,114)),_=(r[8715]|0)-1|0,C=r[y+8>>2]|0;do if((r[y+12>>2]|0)-C>>2>>>0>_>>>0){if(y=r[C+(_<<2)>>2]|0,(y|0)==0)break;Lr[r[(r[y>>2]|0)+48>>2]&15](y,27208,27234,h)|0,h=r[o>>2]|0,(r[8618]|0)!=-1&&(r[w>>2]=34472,r[w+4>>2]=16,r[w+8>>2]=0,Vt(34472,w,114)),w=(r[8619]|0)-1|0,y=r[h+8>>2]|0;do if((r[h+12>>2]|0)-y>>2>>>0>w>>>0){if(w=r[y+(w<<2)>>2]|0,(w|0)==0)break;C=w,_=_0[r[(r[w>>2]|0)+16>>2]&255](C)|0,r[m>>2]=_,si[r[(r[w>>2]|0)+20>>2]&127](n,C),vi(r[o>>2]|0)|0,D=g;return}while(!1);C=qt(4)|0,h0(C),Wt(C|0,25544,156)}while(!1);C=qt(4)|0,h0(C),Wt(C|0,25544,156)}function Ph(n,o,h,m,g,w,y,_,C,B,q){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0;var te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0,z0=0,m0=0,x0=0,A0=0,M0=0,F0=0,B0=0,Y0=0,lt=0,at=0;te=D,D=D+408|0,z0=o,r0=D,D=D+4|0,D=D+7&-8,r[r0>>2]=r[z0>>2],z0=te|0,Ye=te+400|0,Ve=D,D=D+1|0,D=D+7&-8,Te=D,D=D+1|0,D=D+7&-8,le=D,D=D+12|0,D=D+7&-8,oe=D,D=D+12|0,D=D+7&-8,re=D,D=D+12|0,D=D+7&-8,o=D,D=D+12|0,D=D+7&-8,ne=D,D=D+12|0,D=D+7&-8,ve=D,D=D+4|0,D=D+7&-8,pe=D,D=D+4|0,D=D+7&-8,l0=z0|0,r[Ye>>2]=0,qe=le,V0(qe|0,0,12)|0,ze=oe,V0(ze|0,0,12)|0,He=re,V0(He|0,0,12)|0,ge=o,V0(ge|0,0,12)|0,Be=ne,V0(Be|0,0,12)|0,p3(h,m,Ye,Ve,Te,le,oe,re,o,ve),m=C|0,r[B>>2]=r[m>>2],h=n|0,n=r0|0,r0=_+8|0,v0=o+1|0,E0=o+4|0,o0=o+8|0,Ge=re+1|0,S0=re+4|0,_=re+8|0,D0=(g&512|0)!=0,X0=oe+1|0,O0=oe+8|0,g=oe+4|0,ot=ne,G0=ot+1|0,N0=ne+8|0,Z0=ne+4|0,P0=Ye+3|0,ut=C+4|0,C=le+4|0,H0=194,g0=l0,z0=z0+400|0,tt=0,ct=0;e:for(;;){m0=r[h>>2]|0;do if((m0|0)==0)m0=0;else{if((r[m0+12>>2]|0)!=(r[m0+16>>2]|0))break;if((_0[r[(r[m0>>2]|0)+36>>2]&255](m0)|0)==-1){r[h>>2]=0,m0=0;break}else{m0=r[h>>2]|0;break}}while(!1);x0=(m0|0)==0,m0=r[n>>2]|0;do if((m0|0)==0)ue=15;else{if((r[m0+12>>2]|0)!=(r[m0+16>>2]|0)){if(x0)break;ue=310;break e}if((_0[r[(r[m0>>2]|0)+36>>2]&255](m0)|0)==-1){r[n>>2]=0,ue=15;break}else{if(x0)break;ue=310;break e}}while(!1);if((ue|0)==15)if(ue=0,x0){ue=310;break}else m0=0;t:do switch(j[Ye+tt|0]|0){case 1:{if((tt|0)==3){ue=310;break e}if(x0=r[h>>2]|0,ue=r[x0+12>>2]|0,(ue|0)==(r[x0+16>>2]|0)?ue=(_0[r[(r[x0>>2]|0)+36>>2]&255](x0)|0)&255:ue=j[ue]|0,!(ue<<24>>24>-1)){ue=41;break e}if((be[(r[r0>>2]|0)+(ue<<24>>24<<1)>>1]&8192)==0){ue=41;break e}A0=r[h>>2]|0,ue=A0+12|0,x0=r[ue>>2]|0,(x0|0)==(r[A0+16>>2]|0)?ue=(_0[r[(r[A0>>2]|0)+40>>2]&255](A0)|0)&255:(r[ue>>2]=x0+1,ue=j[x0]|0),so(ne,ue),ue=42;break}case 0:{ue=42;break}case 3:{if(m0=j[He]|0,A0=(m0&1)==0,A0?B0=(m0&255)>>>1:B0=r[S0>>2]|0,x0=j[ge]|0,M0=(x0&1)==0,M0?F0=(x0&255)>>>1:F0=r[E0>>2]|0,(B0|0)==(-F0|0))break t;A0?F0=(m0&255)>>>1:F0=r[S0>>2]|0;do if((F0|0)!=0){if(M0?M0=(x0&255)>>>1:M0=r[E0>>2]|0,(M0|0)==0)break;if(A0=r[h>>2]|0,F0=r[A0+12>>2]|0,M0=r[A0+16>>2]|0,(F0|0)==(M0|0)?(x0=(_0[r[(r[A0>>2]|0)+36>>2]&255](A0)|0)&255,M0=r[h>>2]|0,m0=j[He]|0,A0=M0,F0=r[M0+12>>2]|0,M0=r[M0+16>>2]|0):x0=j[F0]|0,B0=A0+12|0,M0=(F0|0)==(M0|0),x0<<24>>24==(j[(m0&1)==0?Ge:r[_>>2]|0]|0)){M0?_0[r[(r[A0>>2]|0)+40>>2]&255](A0)|0:r[B0>>2]=F0+1,m0=j[He]|0,(m0&1)==0?m0=(m0&255)>>>1:m0=r[S0>>2]|0,ct=m0>>>0>1?re:ct;break t}if(M0?m0=(_0[r[(r[A0>>2]|0)+36>>2]&255](A0)|0)&255:m0=j[F0]|0,m0<<24>>24!=(j[(j[ge]&1)==0?v0:r[o0>>2]|0]|0)){ue=136;break e}x0=r[h>>2]|0,A0=x0+12|0,m0=r[A0>>2]|0,(m0|0)==(r[x0+16>>2]|0)?_0[r[(r[x0>>2]|0)+40>>2]&255](x0)|0:r[A0>>2]=m0+1,j[y]=1,m0=j[ge]|0,(m0&1)==0?m0=(m0&255)>>>1:m0=r[E0>>2]|0,ct=m0>>>0>1?o:ct;break t}while(!1);if(A0?A0=(m0&255)>>>1:A0=r[S0>>2]|0,M0=r[h>>2]|0,F0=r[M0+12>>2]|0,B0=(F0|0)==(r[M0+16>>2]|0),(A0|0)==0){if(B0?(m0=(_0[r[(r[M0>>2]|0)+36>>2]&255](M0)|0)&255,x0=j[ge]|0):m0=j[F0]|0,m0<<24>>24!=(j[(x0&1)==0?v0:r[o0>>2]|0]|0))break t;m0=r[h>>2]|0,x0=m0+12|0,A0=r[x0>>2]|0,(A0|0)==(r[m0+16>>2]|0)?_0[r[(r[m0>>2]|0)+40>>2]&255](m0)|0:r[x0>>2]=A0+1,j[y]=1,m0=j[ge]|0,(m0&1)==0?m0=(m0&255)>>>1:m0=r[E0>>2]|0,ct=m0>>>0>1?o:ct;break t}if(B0?(x0=(_0[r[(r[M0>>2]|0)+36>>2]&255](M0)|0)&255,m0=j[He]|0):x0=j[F0]|0,x0<<24>>24!=(j[(m0&1)==0?Ge:r[_>>2]|0]|0)){j[y]=1;break t}A0=r[h>>2]|0,x0=A0+12|0,m0=r[x0>>2]|0,(m0|0)==(r[A0+16>>2]|0)?_0[r[(r[A0>>2]|0)+40>>2]&255](A0)|0:r[x0>>2]=m0+1,m0=j[He]|0,(m0&1)==0?m0=(m0&255)>>>1:m0=r[S0>>2]|0,ct=m0>>>0>1?re:ct;break}case 2:{if(!((ct|0)!=0|tt>>>0<2)&&((tt|0)==2?x0=(j[P0]|0)!=0:x0=0,!(D0|x0))){ct=0;break t}A0=j[ze]|0,M0=(A0&1)==0,x0=M0?X0:r[O0>>2]|0;i:do if((tt|0)==0)M0=m0,F0=m0;else{if(!((We[Ye+(tt-1)|0]|0)>>>0<2)){M0=m0,F0=m0;break}for(M0=x0+(M0?(A0&255)>>>1:r[g>>2]|0)|0,F0=x0;(F0|0)!=(M0|0);){if(B0=j[F0]|0,!(B0<<24>>24>-1)){M0=F0;break}if((be[(r[r0>>2]|0)+(B0<<24>>24<<1)>>1]&8192)==0){M0=F0;break}else F0=F0+1|0}if(F0=M0-x0|0,Y0=j[Be]|0,B0=(Y0&1)==0,B0?lt=(Y0&255)>>>1:lt=r[Z0>>2]|0,F0>>>0>lt>>>0){M0=m0,F0=m0;break}if(B0?(lt=(Y0&255)>>>1,B0=lt,Y0=G0,lt=lt-F0+(ot+1)|0):(at=r[N0>>2]|0,lt=r[Z0>>2]|0,B0=lt,Y0=at,lt=at+(lt-F0)|0),F0=Y0+B0|0,(lt|0)==(F0|0)){x0=M0,M0=m0,F0=m0;break}else B0=x0;for(;;){if((j[lt]|0)!=(j[B0]|0)){M0=m0,F0=m0;break i}if(lt=lt+1|0,(lt|0)==(F0|0)){x0=M0,M0=m0,F0=m0;break}else B0=B0+1|0}}while(!1);i:for(;(A0&1)==0?(A0=(A0&255)>>>1,m0=X0):(A0=r[g>>2]|0,m0=r[O0>>2]|0),(x0|0)!=(m0+A0|0);){m0=r[h>>2]|0;do if((m0|0)==0)m0=0;else{if((r[m0+12>>2]|0)!=(r[m0+16>>2]|0))break;if((_0[r[(r[m0>>2]|0)+36>>2]&255](m0)|0)==-1){r[h>>2]=0,m0=0;break}else{m0=r[h>>2]|0;break}}while(!1);m0=(m0|0)==0;do if((M0|0)==0)ue=173;else{if((r[M0+12>>2]|0)!=(r[M0+16>>2]|0))if(m0){m0=M0;break}else break i;if((_0[r[(r[M0>>2]|0)+36>>2]&255](M0)|0)==-1){r[n>>2]=0,F0=0,ue=173;break}else if(m0^(F0|0)==0){m0=F0;break}else break i}while(!1);if((ue|0)==173){if(ue=0,m0)break;m0=0}if(A0=r[h>>2]|0,M0=r[A0+12>>2]|0,(M0|0)==(r[A0+16>>2]|0)?A0=(_0[r[(r[A0>>2]|0)+36>>2]&255](A0)|0)&255:A0=j[M0]|0,A0<<24>>24!=(j[x0]|0))break;B0=r[h>>2]|0,M0=B0+12|0,A0=r[M0>>2]|0,(A0|0)==(r[B0+16>>2]|0)?_0[r[(r[B0>>2]|0)+40>>2]&255](B0)|0:r[M0>>2]=A0+1,x0=x0+1|0,A0=j[ze]|0,M0=m0}if(!D0)break t;if(m0=j[ze]|0,(m0&1)==0?(A0=(m0&255)>>>1,m0=X0):(A0=r[g>>2]|0,m0=r[O0>>2]|0),(x0|0)!=(m0+A0|0)){ue=189;break e}break}case 4:{m0=0;i:for(;;){x0=r[h>>2]|0;do if((x0|0)==0)x0=0;else{if((r[x0+12>>2]|0)!=(r[x0+16>>2]|0))break;if((_0[r[(r[x0>>2]|0)+36>>2]&255](x0)|0)==-1){r[h>>2]=0,x0=0;break}else{x0=r[h>>2]|0;break}}while(!1);A0=(x0|0)==0,x0=r[n>>2]|0;do if((x0|0)==0)ue=202;else{if((r[x0+12>>2]|0)!=(r[x0+16>>2]|0)){if(A0)break;break i}if((_0[r[(r[x0>>2]|0)+36>>2]&255](x0)|0)==-1){r[n>>2]=0,ue=202;break}else{if(A0)break;break i}}while(!1);if((ue|0)==202&&(ue=0,A0))break;A0=r[h>>2]|0,x0=r[A0+12>>2]|0,(x0|0)==(r[A0+16>>2]|0)?x0=(_0[r[(r[A0>>2]|0)+36>>2]&255](A0)|0)&255:x0=j[x0]|0;do if(x0<<24>>24>-1){if((be[(r[r0>>2]|0)+(x0<<24>>24<<1)>>1]&2048)==0){ue=221;break}if(A0=r[B>>2]|0,(A0|0)==(q|0)){M0=(r[ut>>2]|0)!=194,F0=r[m>>2]|0,A0=q-F0|0,q=A0>>>0<2147483647?A0<<1:-1,F0=Mi(M0?F0:0,q)|0,(F0|0)==0&&Pi();do if(M0)r[m>>2]=F0;else{if(M0=r[m>>2]|0,r[m>>2]=F0,(M0|0)==0)break;Rr[r[ut>>2]&511](M0),F0=r[m>>2]|0}while(!1);r[ut>>2]=88,A0=F0+A0|0,r[B>>2]=A0,q=(r[m>>2]|0)+q|0}r[B>>2]=A0+1,j[A0]=x0,m0=m0+1|0}else ue=221;while(!1);if((ue|0)==221){if(ue=0,A0=j[qe]|0,(A0&1)==0?A0=(A0&255)>>>1:A0=r[C>>2]|0,(A0|0)==0|(m0|0)==0||x0<<24>>24!=(j[Te]|0))break;(l0|0)==(z0|0)&&(l0=l0-g0|0,z0=l0>>>0<2147483647?l0<<1:-1,(H0|0)==194&&(g0=0),at=Mi(g0,z0)|0,g0=at,(at|0)==0&&Pi(),z0=g0+(z0>>>2<<2)|0,l0=g0+(l0>>2<<2)|0,H0=88),r[l0>>2]=m0,m0=0,l0=l0+4|0}if(x0=r[h>>2]|0,A0=x0+12|0,M0=r[A0>>2]|0,(M0|0)==(r[x0+16>>2]|0)){_0[r[(r[x0>>2]|0)+40>>2]&255](x0)|0;continue}else{r[A0>>2]=M0+1;continue}}if((g0|0)==(l0|0)|(m0|0)==0||((l0|0)==(z0|0)&&(l0=l0-g0|0,z0=l0>>>0<2147483647?l0<<1:-1,(H0|0)==194&&(g0=0),at=Mi(g0,z0)|0,g0=at,(at|0)==0&&Pi(),z0=g0+(z0>>>2<<2)|0,l0=g0+(l0>>2<<2)|0,H0=88),r[l0>>2]=m0,l0=l0+4|0),(r[ve>>2]|0)>0){m0=r[h>>2]|0;do if((m0|0)==0)m0=0;else{if((r[m0+12>>2]|0)!=(r[m0+16>>2]|0))break;if((_0[r[(r[m0>>2]|0)+36>>2]&255](m0)|0)==-1){r[h>>2]=0,m0=0;break}else{m0=r[h>>2]|0;break}}while(!1);x0=(m0|0)==0,m0=r[n>>2]|0;do if((m0|0)==0)ue=257;else{if((r[m0+12>>2]|0)!=(r[m0+16>>2]|0)){if(x0)break;ue=264;break e}if((_0[r[(r[m0>>2]|0)+36>>2]&255](m0)|0)==-1){r[n>>2]=0,ue=257;break}else{if(x0)break;ue=264;break e}}while(!1);if((ue|0)==257)if(ue=0,x0){ue=264;break e}else m0=0;if(x0=r[h>>2]|0,A0=r[x0+12>>2]|0,(A0|0)==(r[x0+16>>2]|0)?x0=(_0[r[(r[x0>>2]|0)+36>>2]&255](x0)|0)&255:x0=j[A0]|0,x0<<24>>24!=(j[Ve]|0)){ue=264;break e}for(x0=r[h>>2]|0,A0=x0+12|0,M0=r[A0>>2]|0,(M0|0)==(r[x0+16>>2]|0)?(_0[r[(r[x0>>2]|0)+40>>2]&255](x0)|0,x0=m0,A0=m0):(r[A0>>2]=M0+1,x0=m0,A0=m0);;){m0=r[h>>2]|0;do if((m0|0)==0)m0=0;else{if((r[m0+12>>2]|0)!=(r[m0+16>>2]|0))break;if((_0[r[(r[m0>>2]|0)+36>>2]&255](m0)|0)==-1){r[h>>2]=0,m0=0;break}else{m0=r[h>>2]|0;break}}while(!1);M0=(m0|0)==0;do if((x0|0)==0)m0=A0,ue=280;else{if((r[x0+12>>2]|0)!=(r[x0+16>>2]|0))if(M0){m0=A0;break}else{ue=288;break e}if((_0[r[(r[x0>>2]|0)+36>>2]&255](x0)|0)==-1){r[n>>2]=0,m0=0,ue=280;break}else if(M0^(A0|0)==0){m0=A0,x0=A0;break}else{ue=288;break e}}while(!1);if((ue|0)==280)if(ue=0,M0){ue=288;break e}else x0=0;if(A0=r[h>>2]|0,M0=r[A0+12>>2]|0,(M0|0)==(r[A0+16>>2]|0)?A0=(_0[r[(r[A0>>2]|0)+36>>2]&255](A0)|0)&255:A0=j[M0]|0,!(A0<<24>>24>-1)){ue=288;break e}if((be[(r[r0>>2]|0)+(A0<<24>>24<<1)>>1]&2048)==0){ue=288;break e}if(A0=r[B>>2]|0,(A0|0)==(q|0)){M0=(r[ut>>2]|0)!=194,F0=r[m>>2]|0,q=q-F0|0,A0=q>>>0<2147483647?q<<1:-1,F0=Mi(M0?F0:0,A0)|0,(F0|0)==0&&Pi();do if(M0)r[m>>2]=F0;else{if(M0=r[m>>2]|0,r[m>>2]=F0,(M0|0)==0)break;Rr[r[ut>>2]&511](M0),F0=r[m>>2]|0}while(!1);r[ut>>2]=88,at=F0+q|0,r[B>>2]=at,q=(r[m>>2]|0)+A0|0,A0=at}if(F0=r[h>>2]|0,M0=r[F0+12>>2]|0,(M0|0)==(r[F0+16>>2]|0)?(M0=(_0[r[(r[F0>>2]|0)+36>>2]&255](F0)|0)&255,A0=r[B>>2]|0):M0=j[M0]|0,r[B>>2]=A0+1,j[A0]=M0,B0=(r[ve>>2]|0)-1|0,r[ve>>2]=B0,F0=r[h>>2]|0,M0=F0+12|0,A0=r[M0>>2]|0,(A0|0)==(r[F0+16>>2]|0)?_0[r[(r[F0>>2]|0)+40>>2]&255](F0)|0:r[M0>>2]=A0+1,(B0|0)>0)A0=m0;else break}}if((r[B>>2]|0)==(r[m>>2]|0)){ue=308;break e}break}}while(!1);t:do if((ue|0)==42){if(ue=0,(tt|0)==3){ue=310;break e}else A0=m0,x0=m0;for(;;){m0=r[h>>2]|0;do if((m0|0)==0)m0=0;else{if((r[m0+12>>2]|0)!=(r[m0+16>>2]|0))break;if((_0[r[(r[m0>>2]|0)+36>>2]&255](m0)|0)==-1){r[h>>2]=0,m0=0;break}else{m0=r[h>>2]|0;break}}while(!1);m0=(m0|0)==0;do if((A0|0)==0)ue=55;else{if((r[A0+12>>2]|0)!=(r[A0+16>>2]|0))if(m0){m0=A0;break}else break t;if((_0[r[(r[A0>>2]|0)+36>>2]&255](A0)|0)==-1){r[n>>2]=0,x0=0,ue=55;break}else if(m0^(x0|0)==0){m0=x0;break}else break t}while(!1);if((ue|0)==55){if(ue=0,m0)break t;m0=0}if(M0=r[h>>2]|0,A0=r[M0+12>>2]|0,(A0|0)==(r[M0+16>>2]|0)?A0=(_0[r[(r[M0>>2]|0)+36>>2]&255](M0)|0)&255:A0=j[A0]|0,!(A0<<24>>24>-1)||(be[(r[r0>>2]|0)+(A0<<24>>24<<1)>>1]&8192)==0)break t;A0=r[h>>2]|0,F0=A0+12|0,M0=r[F0>>2]|0,(M0|0)==(r[A0+16>>2]|0)?A0=(_0[r[(r[A0>>2]|0)+40>>2]&255](A0)|0)&255:(r[F0>>2]=M0+1,A0=j[M0]|0),so(ne,A0),A0=m0}}while(!1);if(tt=tt+1|0,!(tt>>>0<4)){ue=310;break}}e:do if((ue|0)==41)r[w>>2]=r[w>>2]|4,w=0;else if((ue|0)==136)r[w>>2]=r[w>>2]|4,w=0;else if((ue|0)==189)r[w>>2]=r[w>>2]|4,w=0;else if((ue|0)==264)r[w>>2]=r[w>>2]|4,w=0;else if((ue|0)==288)r[w>>2]=r[w>>2]|4,w=0;else if((ue|0)==308)r[w>>2]=r[w>>2]|4,w=0;else if((ue|0)==310){t:do if((ct|0)!=0){ve=ct,y=ct+1|0,B=ct+8|0,ge=ct+4|0,Te=1;i:for(;;){if(Ve=j[ve]|0,(Ve&1)==0?Ve=(Ve&255)>>>1:Ve=r[ge>>2]|0,!(Te>>>0<Ve>>>0))break t;Ve=r[h>>2]|0;do if((Ve|0)==0)Ve=0;else{if((r[Ve+12>>2]|0)!=(r[Ve+16>>2]|0))break;if((_0[r[(r[Ve>>2]|0)+36>>2]&255](Ve)|0)==-1){r[h>>2]=0,Ve=0;break}else{Ve=r[h>>2]|0;break}}while(!1);Ve=(Ve|0)==0,qe=r[n>>2]|0;do if((qe|0)==0)ue=328;else{if((r[qe+12>>2]|0)!=(r[qe+16>>2]|0)){if(Ve)break;break i}if((_0[r[(r[qe>>2]|0)+36>>2]&255](qe)|0)==-1){r[n>>2]=0,ue=328;break}else{if(Ve)break;break i}}while(!1);if((ue|0)==328&&(ue=0,Ve)||(Ve=r[h>>2]|0,qe=r[Ve+12>>2]|0,(qe|0)==(r[Ve+16>>2]|0)?qe=(_0[r[(r[Ve>>2]|0)+36>>2]&255](Ve)|0)&255:qe=j[qe]|0,(j[ve]&1)==0?Ve=y:Ve=r[B>>2]|0,qe<<24>>24!=(j[Ve+Te|0]|0)))break;if(Te=Te+1|0,Be=r[h>>2]|0,qe=Be+12|0,Ve=r[qe>>2]|0,(Ve|0)==(r[Be+16>>2]|0)){_0[r[(r[Be>>2]|0)+40>>2]&255](Be)|0;continue}else{r[qe>>2]=Ve+1;continue}}r[w>>2]=r[w>>2]|4,w=0;break e}while(!1);if((g0|0)==(l0|0)){w=1,g0=l0;break}if(r[pe>>2]=0,Dr(le,g0,l0,pe),(r[pe>>2]|0)==0){w=1;break}r[w>>2]=r[w>>2]|4,w=0}while(!1);return R0(ne),R0(o),R0(re),R0(oe),R0(le),(g0|0)==0?(D=te,w|0):(Rr[H0&511](g0),D=te,w|0)}function w1(n){n=n|0;var o=0;o=qt(8)|0,dn(o,n),Wt(o|0,25560,30)}function d3(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0;o=D,D=D+160|0,ge=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ge>>2],ge=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ge>>2],ge=o|0,ue=o+16|0,ne=o+120|0,oe=o+128|0,ve=o+136|0,le=o+144|0,pe=o+152|0,B=ne|0,r[B>>2]=ue,q=ne+4|0,r[q>>2]=194,ue=ue+100|0,Di(ve,w),te=ve|0,re=r[te>>2]|0,(r[8716]|0)!=-1&&(r[ge>>2]=34864,r[ge+4>>2]=16,r[ge+8>>2]=0,Vt(34864,ge,114)),Te=(r[8717]|0)-1|0,ge=r[re+8>>2]|0;do if((r[re+12>>2]|0)-ge>>2>>>0>Te>>>0){if(Te=r[ge+(Te<<2)>>2]|0,(Te|0)==0)break;if(ge=Te,j[le]=0,m=m|0,re=r[m>>2]|0,r[pe>>2]=re,Ph(h,pe,g,ve,r[w+4>>2]|0,y,le,ge,ne,oe,ue)|0){g=_,(j[g]&1)==0?(j[_+1|0]=0,j[g]=0):(j[r[_+8>>2]|0]=0,r[_+4>>2]=0),(j[le]|0)!=0&&so(_,ni[r[(r[Te>>2]|0)+28>>2]&63](ge,45)|0),le=ni[r[(r[Te>>2]|0)+28>>2]&63](ge,48)|0,w=r[B>>2]|0,oe=r[oe>>2]|0,g=oe-1|0;e:do if(w>>>0<g>>>0)for(;;){if(ne=w+1|0,(j[w]|0)!=le<<24>>24)break e;if(ne>>>0<g>>>0)w=ne;else{w=ne;break}}while(!1);f3(_,w,oe)|0}_=h|0,h=r[_>>2]|0;do if((h|0)==0)h=0;else{if((r[h+12>>2]|0)!=(r[h+16>>2]|0)||(_0[r[(r[h>>2]|0)+36>>2]&255](h)|0)!=-1)break;r[_>>2]=0,h=0}while(!1);_=(h|0)==0;do if((re|0)==0)C=33;else{if((r[re+12>>2]|0)!=(r[re+16>>2]|0)){if(_)break;C=35;break}if((_0[r[(r[re>>2]|0)+36>>2]&255](re)|0)==-1){r[m>>2]=0,C=33;break}else{if(_^(re|0)==0)break;C=35;break}}while(!1);if((C|0)==33&&_&&(C=35),(C|0)==35&&(r[y>>2]=r[y>>2]|2),r[n>>2]=h,vi(r[te>>2]|0)|0,C=r[B>>2]|0,r[B>>2]=0,(C|0)==0){D=o;return}Rr[r[q>>2]&511](C),D=o;return}while(!1);Te=qt(4)|0,h0(Te),Wt(Te|0,25544,156)}function f3(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0;if(m=n,y=o,g=j[m]|0,(g&1)==0?(C=10,_=g,g=(g&255)>>>1):(_=r[n>>2]|0,C=(_&-2)-1|0,_=_&255,g=r[n+4>>2]|0),w=h-y|0,(h|0)==(o|0))return n|0;for((C-g|0)>>>0<w>>>0&&(Mc(n,C,g+w-C|0,g,g,0,0),_=j[m]|0),(_&1)==0?_=n+1|0:_=r[n+8>>2]|0,y=h+(g-y)|0,C=_+g|0;j[C]=j[o]|0,o=o+1|0,(o|0)!=(h|0);)C=C+1|0;return j[_+y|0]=0,h=g+w|0,(j[m]&1)==0?(j[m]=h<<1,n|0):(r[n+4>>2]=h,n|0)}function p3(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0;if(q=D,D=D+176|0,Ve=q|0,qe=q+16|0,Te=q+32|0,ue=q+40|0,pe=q+56|0,le=q+72|0,te=q+88|0,ge=q+104|0,ve=q+112|0,ne=q+128|0,oe=q+144|0,re=q+160|0,n){re=r[o>>2]|0,(r[8834]|0)!=-1&&(r[qe>>2]=35336,r[qe+4>>2]=16,r[qe+8>>2]=0,Vt(35336,qe,114)),ne=(r[8835]|0)-1|0,oe=r[re+8>>2]|0,(r[re+12>>2]|0)-oe>>2>>>0>ne>>>0||(n=qt(4)|0,o=n,h0(o),Wt(n|0,25544,156)),re=r[oe+(ne<<2)>>2]|0,(re|0)==0&&(n=qt(4)|0,o=n,h0(o),Wt(n|0,25544,156)),oe=re,si[r[(r[re>>2]|0)+44>>2]&127](Te,oe),u0=r[Te>>2]|0,j[h]=u0,u0=u0>>8,j[h+1|0]=u0,u0=u0>>8,j[h+2|0]=u0,u0=u0>>8,j[h+3|0]=u0,h=re,si[r[(r[h>>2]|0)+32>>2]&127](ue,oe),ne=C,(j[ne]&1)==0?(j[C+1|0]=0,j[ne]=0):(j[r[C+8>>2]|0]=0,r[C+4>>2]=0),Cr(C,0),C=ue,r[ne>>2]=r[C>>2],r[ne+4>>2]=r[C+4>>2],r[ne+8>>2]=r[C+8>>2],V0(C|0,0,12)|0,R0(ue),si[r[(r[h>>2]|0)+28>>2]&127](pe,oe),C=_,(j[C]&1)==0?(j[_+1|0]=0,j[C]=0):(j[r[_+8>>2]|0]=0,r[_+4>>2]=0),Cr(_,0),n=pe,r[C>>2]=r[n>>2],r[C+4>>2]=r[n+4>>2],r[C+8>>2]=r[n+8>>2],V0(n|0,0,12)|0,R0(pe),n=re,o=_0[r[(r[n>>2]|0)+12>>2]&255](oe)|0,j[m]=o,n=_0[r[(r[n>>2]|0)+16>>2]&255](oe)|0,j[g]=n,si[r[(r[h>>2]|0)+20>>2]&127](le,oe),g=w,(j[g]&1)==0?(j[w+1|0]=0,j[g]=0):(j[r[w+8>>2]|0]=0,r[w+4>>2]=0),Cr(w,0),w=le,r[g>>2]=r[w>>2],r[g+4>>2]=r[w+4>>2],r[g+8>>2]=r[w+8>>2],V0(w|0,0,12)|0,R0(le),si[r[(r[h>>2]|0)+24>>2]&127](te,oe),w=y,(j[w]&1)==0?(j[y+1|0]=0,j[w]=0):(j[r[y+8>>2]|0]=0,r[y+4>>2]=0),Cr(y,0),n=te,r[w>>2]=r[n>>2],r[w+4>>2]=r[n+4>>2],r[w+8>>2]=r[n+8>>2],V0(n|0,0,12)|0,R0(te),n=_0[r[(r[re>>2]|0)+36>>2]&255](oe)|0,r[B>>2]=n,D=q;return}else{te=r[o>>2]|0,(r[8836]|0)!=-1&&(r[Ve>>2]=35344,r[Ve+4>>2]=16,r[Ve+8>>2]=0,Vt(35344,Ve,114)),pe=(r[8837]|0)-1|0,le=r[te+8>>2]|0,(r[te+12>>2]|0)-le>>2>>>0>pe>>>0||(n=qt(4)|0,o=n,h0(o),Wt(n|0,25544,156)),le=r[le+(pe<<2)>>2]|0,(le|0)==0&&(n=qt(4)|0,o=n,h0(o),Wt(n|0,25544,156)),te=le,si[r[(r[le>>2]|0)+44>>2]&127](ge,te),u0=r[ge>>2]|0,j[h]=u0,u0=u0>>8,j[h+1|0]=u0,u0=u0>>8,j[h+2|0]=u0,u0=u0>>8,j[h+3|0]=u0,h=le,si[r[(r[h>>2]|0)+32>>2]&127](ve,te),pe=C,(j[pe]&1)==0?(j[C+1|0]=0,j[pe]=0):(j[r[C+8>>2]|0]=0,r[C+4>>2]=0),Cr(C,0),C=ve,r[pe>>2]=r[C>>2],r[pe+4>>2]=r[C+4>>2],r[pe+8>>2]=r[C+8>>2],V0(C|0,0,12)|0,R0(ve),si[r[(r[h>>2]|0)+28>>2]&127](ne,te),C=_,(j[C]&1)==0?(j[_+1|0]=0,j[C]=0):(j[r[_+8>>2]|0]=0,r[_+4>>2]=0),Cr(_,0),n=ne,r[C>>2]=r[n>>2],r[C+4>>2]=r[n+4>>2],r[C+8>>2]=r[n+8>>2],V0(n|0,0,12)|0,R0(ne),n=le,o=_0[r[(r[n>>2]|0)+12>>2]&255](te)|0,j[m]=o,n=_0[r[(r[n>>2]|0)+16>>2]&255](te)|0,j[g]=n,si[r[(r[h>>2]|0)+20>>2]&127](oe,te),g=w,(j[g]&1)==0?(j[w+1|0]=0,j[g]=0):(j[r[w+8>>2]|0]=0,r[w+4>>2]=0),Cr(w,0),w=oe,r[g>>2]=r[w>>2],r[g+4>>2]=r[w+4>>2],r[g+8>>2]=r[w+8>>2],V0(w|0,0,12)|0,R0(oe),si[r[(r[h>>2]|0)+24>>2]&127](re,te),w=y,(j[w]&1)==0?(j[y+1|0]=0,j[w]=0):(j[r[y+8>>2]|0]=0,r[y+4>>2]=0),Cr(y,0),n=re,r[w>>2]=r[n>>2],r[w+4>>2]=r[n+4>>2],r[w+8>>2]=r[n+8>>2],V0(n|0,0,12)|0,R0(re),n=_0[r[(r[le>>2]|0)+36>>2]&255](te)|0,r[B>>2]=n,D=q;return}}function Dr(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0,_=0;if(g=n,w=j[g]|0,(w&1)==0?y=(w&255)>>>1:y=r[n+4>>2]|0,(y|0)!=0){do if((o|0)!=(h|0)){if(y=h-4|0,y>>>0>o>>>0)w=o;else break;do _=r[w>>2]|0,r[w>>2]=r[y>>2],r[y>>2]=_,w=w+4|0,y=y-4|0;while(w>>>0<y>>>0);w=j[g]|0}while(!1);(w&1)==0?(_=(w&255)>>>1,g=n+1|0):(_=r[n+4>>2]|0,g=r[n+8>>2]|0),h=h-4|0,y=j[g]|0,w=y<<24>>24<1|y<<24>>24==127;e:do if(h>>>0>o>>>0){for(n=g+_|0;!(!w&&(y<<24>>24|0)!=(r[o>>2]|0));)if(g=(n-g|0)>1?g+1|0:g,o=o+4|0,y=j[g]|0,w=y<<24>>24<1|y<<24>>24==127,!(o>>>0<h>>>0))break e;r[m>>2]=4;return}while(!1);w||(_=r[h>>2]|0,y<<24>>24>>>0<_>>>0|(_|0)==0&&(r[m>>2]=4))}}function m3(n){n=n|0,$0(n)}function g3(n){}function y3(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0;C=D,D=D+600|0,Ve=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[Ve>>2],Ve=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[Ve>>2],Ve=C|0,ve=C+16|0,ue=C+416|0,re=C+424|0,pe=C+432|0,le=C+440|0,ge=C+448|0,oe=C+456|0,ne=C+496|0,o=ue|0,r[o>>2]=ve,q=ue+4|0,r[q>>2]=194,ve=ve+400|0,Di(pe,w),te=pe|0,Te=r[te>>2]|0,(r[8714]|0)!=-1&&(r[Ve>>2]=34856,r[Ve+4>>2]=16,r[Ve+8>>2]=0,Vt(34856,Ve,114)),qe=(r[8715]|0)-1|0,Ve=r[Te+8>>2]|0;do if((r[Te+12>>2]|0)-Ve>>2>>>0>qe>>>0){if(Ve=r[Ve+(qe<<2)>>2]|0,(Ve|0)==0)break;Te=Ve,j[le]=0,m=m|0,r[ge>>2]=r[m>>2];do if(Bh(h,ge,g,pe,r[w+4>>2]|0,y,le,Te,ue,re,ve)|0){w=oe|0,Lr[r[(r[Ve>>2]|0)+48>>2]&15](Te,19144,19154,w)|0,g=ne|0,ve=r[re>>2]|0,pe=r[o>>2]|0,ne=ve-pe|0;do if((ne|0)>392){if(ne=ii((ne>>2)+2|0)|0,(ne|0)!=0){ue=ne;break}Pi(),ue=0,ne=0}else ue=g,ne=0;while(!1);if((j[le]|0)!=0&&(j[ue]=45,ue=ue+1|0),pe>>>0<ve>>>0){le=oe+40|0;do{for(ge=r[pe>>2]|0,Te=w;ve=Te+4|0,(r[Te>>2]|0)!=(ge|0);)if((ve|0)==(le|0)){Te=le;break}else Te=ve;j[ue]=j[19144+(Te-oe>>2)|0]|0,pe=pe+4|0,ue=ue+1|0}while(pe>>>0<(r[re>>2]|0)>>>0)}if(j[ue]=0,qe=an(g|0,15784,(Ve=D,D=D+8|0,r[Ve>>2]=_,Ve|0))|0,D=Ve,(qe|0)==1){if((ne|0)==0)break;Ft(ne);break}qe=qt(8)|0,dn(qe,15400),Wt(qe|0,25560,30)}while(!1);_=h|0,h=r[_>>2]|0;do if((h|0)==0)h=1;else if(re=r[h+12>>2]|0,(re|0)==(r[h+16>>2]|0)?h=_0[r[(r[h>>2]|0)+36>>2]&255](h)|0:h=r[re>>2]|0,(h|0)==-1){r[_>>2]=0,h=1;break}else{h=(r[_>>2]|0)==0;break}while(!1);re=r[m>>2]|0;do if((re|0)==0)B=47;else if(oe=r[re+12>>2]|0,(oe|0)==(r[re+16>>2]|0)?re=_0[r[(r[re>>2]|0)+36>>2]&255](re)|0:re=r[oe>>2]|0,(re|0)==-1){r[m>>2]=0,B=47;break}else{if(h)break;B=49;break}while(!1);if((B|0)==47&&h&&(B=49),(B|0)==49&&(r[y>>2]=r[y>>2]|2),r[n>>2]=r[_>>2],vi(r[te>>2]|0)|0,n=r[o>>2]|0,r[o>>2]=0,(n|0)==0){D=C;return}Rr[r[q>>2]&511](n),D=C;return}while(!1);qe=qt(4)|0,h0(qe),Wt(qe|0,25544,156)}function Bh(n,o,h,m,g,w,y,_,C,B,q){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0;var te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0,z0=0,m0=0,x0=0,A0=0,M0=0,F0=0;te=D,D=D+416|0,Te=o,Ye=D,D=D+4|0,D=D+7&-8,r[Ye>>2]=r[Te>>2],Te=te|0,ct=te+8|0,Ge=te+408|0,ve=D,D=D+4|0,D=D+7&-8,Ve=D,D=D+4|0,D=D+7&-8,le=D,D=D+12|0,D=D+7&-8,oe=D,D=D+12|0,D=D+7&-8,re=D,D=D+12|0,D=D+7&-8,ne=D,D=D+12|0,D=D+7&-8,o=D,D=D+12|0,D=D+7&-8,ge=D,D=D+4|0,D=D+7&-8,pe=D,D=D+4|0,D=D+7&-8,r[Te>>2]=q,tt=ct|0,r[Ge>>2]=0,He=le,V0(He|0,0,12)|0,Be=oe,V0(Be|0,0,12)|0,q=re,V0(q|0,0,12)|0,qe=ne,V0(qe|0,0,12)|0,ze=o,V0(ze|0,0,12)|0,w3(h,m,Ge,ve,Ve,le,oe,re,ne,ge),h=C|0,r[B>>2]=r[h>>2],n=n|0,m=Ye|0,Ye=_,E0=ne+4|0,o0=ne+8|0,r0=re+4|0,v0=re+8|0,G0=(g&512|0)!=0,O0=oe+4|0,P0=oe+8|0,Z0=o+4|0,ot=o+8|0,S0=Ge+3|0,g=le+4|0,X0=194,ut=tt,ct=ct+400|0,N0=0,D0=0;e:for(;;){H0=r[n>>2]|0;do if((H0|0)==0)g0=1;else if(g0=r[H0+12>>2]|0,(g0|0)==(r[H0+16>>2]|0)?H0=_0[r[(r[H0>>2]|0)+36>>2]&255](H0)|0:H0=r[g0>>2]|0,(H0|0)==-1){r[n>>2]=0,g0=1;break}else{g0=(r[n>>2]|0)==0;break}while(!1);H0=r[m>>2]|0;do if((H0|0)==0)ue=16;else if(l0=r[H0+12>>2]|0,(l0|0)==(r[H0+16>>2]|0)?l0=_0[r[(r[H0>>2]|0)+36>>2]&255](H0)|0:l0=r[l0>>2]|0,(l0|0)==-1){r[m>>2]=0,ue=16;break}else{if(g0)break;ue=302;break e}while(!1);if((ue|0)==16)if(ue=0,g0){ue=302;break}else H0=0;t:do switch(j[Ge+N0|0]|0){case 1:{if((N0|0)==3){ue=302;break e}if(g0=r[n>>2]|0,ue=r[g0+12>>2]|0,(ue|0)==(r[g0+16>>2]|0)?ue=_0[r[(r[g0>>2]|0)+36>>2]&255](g0)|0:ue=r[ue>>2]|0,!(Yi[r[(r[Ye>>2]|0)+12>>2]&63](_,8192,ue)|0)){ue=41;break e}l0=r[n>>2]|0,ue=l0+12|0,g0=r[ue>>2]|0,(g0|0)==(r[l0+16>>2]|0)?ue=_0[r[(r[l0>>2]|0)+40>>2]&255](l0)|0:(r[ue>>2]=g0+4,ue=r[g0>>2]|0),Hl(o,ue),ue=42;break}case 0:{ue=42;break}case 3:{if(H0=j[q]|0,l0=(H0&1)==0,l0?x0=(H0&255)>>>1:x0=r[r0>>2]|0,g0=j[qe]|0,z0=(g0&1)==0,z0?m0=(g0&255)>>>1:m0=r[E0>>2]|0,(x0|0)==(-m0|0))break t;l0?m0=(H0&255)>>>1:m0=r[r0>>2]|0;do if((m0|0)!=0){if(z0?z0=(g0&255)>>>1:z0=r[E0>>2]|0,(z0|0)==0)break;if(l0=r[n>>2]|0,g0=r[l0+12>>2]|0,(g0|0)==(r[l0+16>>2]|0)?(g0=_0[r[(r[l0>>2]|0)+36>>2]&255](l0)|0,H0=j[q]|0):g0=r[g0>>2]|0,x0=r[n>>2]|0,z0=x0+12|0,m0=r[z0>>2]|0,l0=(m0|0)==(r[x0+16>>2]|0),(g0|0)==(r[((H0&1)==0?r0:r[v0>>2]|0)>>2]|0)){l0?_0[r[(r[x0>>2]|0)+40>>2]&255](x0)|0:r[z0>>2]=m0+4,H0=j[q]|0,(H0&1)==0?H0=(H0&255)>>>1:H0=r[r0>>2]|0,D0=H0>>>0>1?re:D0;break t}if(l0?H0=_0[r[(r[x0>>2]|0)+36>>2]&255](x0)|0:H0=r[m0>>2]|0,(H0|0)!=(r[((j[qe]&1)==0?E0:r[o0>>2]|0)>>2]|0)){ue=134;break e}l0=r[n>>2]|0,H0=l0+12|0,g0=r[H0>>2]|0,(g0|0)==(r[l0+16>>2]|0)?_0[r[(r[l0>>2]|0)+40>>2]&255](l0)|0:r[H0>>2]=g0+4,j[y]=1,H0=j[qe]|0,(H0&1)==0?H0=(H0&255)>>>1:H0=r[E0>>2]|0,D0=H0>>>0>1?ne:D0;break t}while(!1);if(l0?x0=(H0&255)>>>1:x0=r[r0>>2]|0,m0=r[n>>2]|0,z0=r[m0+12>>2]|0,l0=(z0|0)==(r[m0+16>>2]|0),(x0|0)==0){if(l0?(H0=_0[r[(r[m0>>2]|0)+36>>2]&255](m0)|0,g0=j[qe]|0):H0=r[z0>>2]|0,(H0|0)!=(r[((g0&1)==0?E0:r[o0>>2]|0)>>2]|0))break t;H0=r[n>>2]|0,g0=H0+12|0,l0=r[g0>>2]|0,(l0|0)==(r[H0+16>>2]|0)?_0[r[(r[H0>>2]|0)+40>>2]&255](H0)|0:r[g0>>2]=l0+4,j[y]=1,H0=j[qe]|0,(H0&1)==0?H0=(H0&255)>>>1:H0=r[E0>>2]|0,D0=H0>>>0>1?ne:D0;break t}if(l0?(g0=_0[r[(r[m0>>2]|0)+36>>2]&255](m0)|0,H0=j[q]|0):g0=r[z0>>2]|0,(g0|0)!=(r[((H0&1)==0?r0:r[v0>>2]|0)>>2]|0)){j[y]=1;break t}H0=r[n>>2]|0,g0=H0+12|0,l0=r[g0>>2]|0,(l0|0)==(r[H0+16>>2]|0)?_0[r[(r[H0>>2]|0)+40>>2]&255](H0)|0:r[g0>>2]=l0+4,H0=j[q]|0,(H0&1)==0?H0=(H0&255)>>>1:H0=r[r0>>2]|0,D0=H0>>>0>1?re:D0;break}case 2:{if(!((D0|0)!=0|N0>>>0<2)&&((N0|0)==2?g0=(j[S0]|0)!=0:g0=0,!(G0|g0))){D0=0;break t}l0=j[Be]|0,g0=(l0&1)==0?O0:r[P0>>2]|0;i:do if((N0|0)==0)z0=H0;else{if(!((We[Ge+(N0-1)|0]|0)>>>0<2)){z0=H0;break}for(;(l0&1)==0?(z0=(l0&255)>>>1,m0=O0):(z0=r[O0>>2]|0,m0=r[P0>>2]|0),(g0|0)!=(m0+(z0<<2)|0);){if(!(Yi[r[(r[Ye>>2]|0)+12>>2]&63](_,8192,r[g0>>2]|0)|0)){ue=148;break}g0=g0+4|0,l0=j[Be]|0}(ue|0)==148&&(ue=0,l0=j[Be]|0),z0=(l0&1)==0,x0=g0-(z0?O0:r[P0>>2]|0)>>2,m0=j[ze]|0,M0=(m0&1)==0,M0?A0=(m0&255)>>>1:A0=r[Z0>>2]|0;r:do if(!(x0>>>0>A0>>>0)){if(M0?(M0=(m0&255)>>>1,A0=Z0,x0=Z0+(((m0&255)>>>1)-x0<<2)|0):(F0=r[ot>>2]|0,m0=r[Z0>>2]|0,M0=m0,A0=F0,x0=F0+(m0-x0<<2)|0),m0=A0+(M0<<2)|0,(x0|0)==(m0|0)){z0=H0;break i}else A0=x0,x0=z0?O0:r[P0>>2]|0;for(;;){if((r[A0>>2]|0)!=(r[x0>>2]|0))break r;if(A0=A0+4|0,(A0|0)==(m0|0)){z0=H0;break i}x0=x0+4|0}}while(!1);g0=z0?O0:r[P0>>2]|0,z0=H0}while(!1);i:for(;(l0&1)==0?(l0=(l0&255)>>>1,m0=O0):(l0=r[O0>>2]|0,m0=r[P0>>2]|0),(g0|0)!=(m0+(l0<<2)|0);){l0=r[n>>2]|0;do if((l0|0)==0)l0=1;else if(m0=r[l0+12>>2]|0,(m0|0)==(r[l0+16>>2]|0)?l0=_0[r[(r[l0>>2]|0)+36>>2]&255](l0)|0:l0=r[m0>>2]|0,(l0|0)==-1){r[n>>2]=0,l0=1;break}else{l0=(r[n>>2]|0)==0;break}while(!1);do if((z0|0)==0)ue=178;else if(m0=r[z0+12>>2]|0,(m0|0)==(r[z0+16>>2]|0)?z0=_0[r[(r[z0>>2]|0)+36>>2]&255](z0)|0:z0=r[m0>>2]|0,(z0|0)==-1){r[m>>2]=0,H0=0,ue=178;break}else if(l0^(H0|0)==0){z0=H0;break}else break i;while(!1);if((ue|0)==178){if(ue=0,l0)break;z0=0}if(l0=r[n>>2]|0,m0=r[l0+12>>2]|0,(m0|0)==(r[l0+16>>2]|0)?l0=_0[r[(r[l0>>2]|0)+36>>2]&255](l0)|0:l0=r[m0>>2]|0,(l0|0)!=(r[g0>>2]|0))break;l0=r[n>>2]|0,m0=l0+12|0,x0=r[m0>>2]|0,(x0|0)==(r[l0+16>>2]|0)?_0[r[(r[l0>>2]|0)+40>>2]&255](l0)|0:r[m0>>2]=x0+4,g0=g0+4|0,l0=j[Be]|0}if(!G0)break t;if(H0=j[Be]|0,(H0&1)==0?(H0=(H0&255)>>>1,l0=O0):(H0=r[O0>>2]|0,l0=r[P0>>2]|0),(g0|0)!=(l0+(H0<<2)|0)){ue=193;break e}break}case 4:{H0=0;i:for(;;){g0=r[n>>2]|0;do if((g0|0)==0)g0=1;else if(l0=r[g0+12>>2]|0,(l0|0)==(r[g0+16>>2]|0)?g0=_0[r[(r[g0>>2]|0)+36>>2]&255](g0)|0:g0=r[l0>>2]|0,(g0|0)==-1){r[n>>2]=0,g0=1;break}else{g0=(r[n>>2]|0)==0;break}while(!1);z0=r[m>>2]|0;do if((z0|0)==0)ue=207;else if(l0=r[z0+12>>2]|0,(l0|0)==(r[z0+16>>2]|0)?l0=_0[r[(r[z0>>2]|0)+36>>2]&255](z0)|0:l0=r[l0>>2]|0,(l0|0)==-1){r[m>>2]=0,ue=207;break}else{if(g0)break;break i}while(!1);if((ue|0)==207&&(ue=0,g0))break;if(g0=r[n>>2]|0,l0=r[g0+12>>2]|0,(l0|0)==(r[g0+16>>2]|0)?g0=_0[r[(r[g0>>2]|0)+36>>2]&255](g0)|0:g0=r[l0>>2]|0,Yi[r[(r[Ye>>2]|0)+12>>2]&63](_,2048,g0)|0)l0=r[B>>2]|0,(l0|0)==(r[Te>>2]|0)&&(Mh(C,B,Te),l0=r[B>>2]|0),r[B>>2]=l0+4,r[l0>>2]=g0,H0=H0+1|0;else{if(l0=j[He]|0,(l0&1)==0?l0=(l0&255)>>>1:l0=r[g>>2]|0,(l0|0)==0|(H0|0)==0||(g0|0)!=(r[Ve>>2]|0))break;(tt|0)==(ct|0)&&(ct=(X0|0)!=194,X0=tt-ut|0,tt=X0>>>0<2147483647?X0<<1:-1,ct?g0=ut:g0=0,F0=Mi(g0,tt)|0,g0=F0,(F0|0)==0&&Pi(),ct=g0+(tt>>>2<<2)|0,tt=g0+(X0>>2<<2)|0,ut=g0,X0=88),r[tt>>2]=H0,H0=0,tt=tt+4|0}if(z0=r[n>>2]|0,l0=z0+12|0,g0=r[l0>>2]|0,(g0|0)==(r[z0+16>>2]|0)){_0[r[(r[z0>>2]|0)+40>>2]&255](z0)|0;continue}else{r[l0>>2]=g0+4;continue}}if((ut|0)==(tt|0)|(H0|0)==0||((tt|0)==(ct|0)&&(ct=(X0|0)!=194,X0=tt-ut|0,tt=X0>>>0<2147483647?X0<<1:-1,ct?g0=ut:g0=0,F0=Mi(g0,tt)|0,g0=F0,(F0|0)==0&&Pi(),ct=g0+(tt>>>2<<2)|0,tt=g0+(X0>>2<<2)|0,ut=g0,X0=88),r[tt>>2]=H0,tt=tt+4|0),H0=r[ge>>2]|0,(H0|0)>0){g0=r[n>>2]|0;do if((g0|0)==0)l0=1;else if(l0=r[g0+12>>2]|0,(l0|0)==(r[g0+16>>2]|0)?g0=_0[r[(r[g0>>2]|0)+36>>2]&255](g0)|0:g0=r[l0>>2]|0,(g0|0)==-1){r[n>>2]=0,l0=1;break}else{l0=(r[n>>2]|0)==0;break}while(!1);g0=r[m>>2]|0;do if((g0|0)==0)ue=259;else if(z0=r[g0+12>>2]|0,(z0|0)==(r[g0+16>>2]|0)?z0=_0[r[(r[g0>>2]|0)+36>>2]&255](g0)|0:z0=r[z0>>2]|0,(z0|0)==-1){r[m>>2]=0,ue=259;break}else{if(l0)break;ue=265;break e}while(!1);if((ue|0)==259)if(ue=0,l0){ue=265;break e}else g0=0;if(l0=r[n>>2]|0,z0=r[l0+12>>2]|0,(z0|0)==(r[l0+16>>2]|0)?l0=_0[r[(r[l0>>2]|0)+36>>2]&255](l0)|0:l0=r[z0>>2]|0,(l0|0)!=(r[ve>>2]|0)){ue=265;break e}for(m0=r[n>>2]|0,z0=m0+12|0,l0=r[z0>>2]|0,(l0|0)==(r[m0+16>>2]|0)?(_0[r[(r[m0>>2]|0)+40>>2]&255](m0)|0,l0=g0,z0=g0):(r[z0>>2]=l0+4,l0=g0,z0=g0);;){g0=r[n>>2]|0;do if((g0|0)==0)m0=1;else if(m0=r[g0+12>>2]|0,(m0|0)==(r[g0+16>>2]|0)?g0=_0[r[(r[g0>>2]|0)+36>>2]&255](g0)|0:g0=r[m0>>2]|0,(g0|0)==-1){r[n>>2]=0,m0=1;break}else{m0=(r[n>>2]|0)==0;break}while(!1);do if((l0|0)==0)g0=z0,ue=282;else if(g0=r[l0+12>>2]|0,(g0|0)==(r[l0+16>>2]|0)?g0=_0[r[(r[l0>>2]|0)+36>>2]&255](l0)|0:g0=r[g0>>2]|0,(g0|0)==-1){r[m>>2]=0,g0=0,ue=282;break}else if(m0^(z0|0)==0){g0=z0,l0=z0;break}else{ue=289;break e}while(!1);if((ue|0)==282)if(ue=0,m0){ue=289;break e}else l0=0;if(z0=r[n>>2]|0,m0=r[z0+12>>2]|0,(m0|0)==(r[z0+16>>2]|0)?z0=_0[r[(r[z0>>2]|0)+36>>2]&255](z0)|0:z0=r[m0>>2]|0,!(Yi[r[(r[Ye>>2]|0)+12>>2]&63](_,2048,z0)|0)){ue=289;break e}if((r[B>>2]|0)==(r[Te>>2]|0)&&Mh(C,B,Te),z0=r[n>>2]|0,m0=r[z0+12>>2]|0,(m0|0)==(r[z0+16>>2]|0)?z0=_0[r[(r[z0>>2]|0)+36>>2]&255](z0)|0:z0=r[m0>>2]|0,x0=r[B>>2]|0,r[B>>2]=x0+4,r[x0>>2]=z0,H0=H0-1|0,r[ge>>2]=H0,z0=r[n>>2]|0,x0=z0+12|0,m0=r[x0>>2]|0,(m0|0)==(r[z0+16>>2]|0)?_0[r[(r[z0>>2]|0)+40>>2]&255](z0)|0:r[x0>>2]=m0+4,(H0|0)>0)z0=g0;else break}}if((r[B>>2]|0)==(r[h>>2]|0)){ue=300;break e}break}}while(!1);t:do if((ue|0)==42){if(ue=0,(N0|0)==3){ue=302;break e}else l0=H0,g0=H0;for(;;){H0=r[n>>2]|0;do if((H0|0)==0)H0=1;else if(z0=r[H0+12>>2]|0,(z0|0)==(r[H0+16>>2]|0)?H0=_0[r[(r[H0>>2]|0)+36>>2]&255](H0)|0:H0=r[z0>>2]|0,(H0|0)==-1){r[n>>2]=0,H0=1;break}else{H0=(r[n>>2]|0)==0;break}while(!1);do if((l0|0)==0)ue=56;else if(z0=r[l0+12>>2]|0,(z0|0)==(r[l0+16>>2]|0)?l0=_0[r[(r[l0>>2]|0)+36>>2]&255](l0)|0:l0=r[z0>>2]|0,(l0|0)==-1){r[m>>2]=0,g0=0,ue=56;break}else if(H0^(g0|0)==0){H0=g0;break}else break t;while(!1);if((ue|0)==56){if(ue=0,H0)break t;H0=0}if(l0=r[n>>2]|0,z0=r[l0+12>>2]|0,(z0|0)==(r[l0+16>>2]|0)?l0=_0[r[(r[l0>>2]|0)+36>>2]&255](l0)|0:l0=r[z0>>2]|0,!(Yi[r[(r[Ye>>2]|0)+12>>2]&63](_,8192,l0)|0))break t;l0=r[n>>2]|0,z0=l0+12|0,m0=r[z0>>2]|0,(m0|0)==(r[l0+16>>2]|0)?l0=_0[r[(r[l0>>2]|0)+40>>2]&255](l0)|0:(r[z0>>2]=m0+4,l0=r[m0>>2]|0),Hl(o,l0),l0=H0}}while(!1);if(N0=N0+1|0,!(N0>>>0<4)){ue=302;break}}e:do if((ue|0)==41)r[w>>2]=r[w>>2]|4,w=0;else if((ue|0)==134)r[w>>2]=r[w>>2]|4,w=0;else if((ue|0)==193)r[w>>2]=r[w>>2]|4,w=0;else if((ue|0)==265)r[w>>2]=r[w>>2]|4,w=0;else if((ue|0)==289)r[w>>2]=r[w>>2]|4,w=0;else if((ue|0)==300)r[w>>2]=r[w>>2]|4,w=0;else if((ue|0)==302){t:do if((D0|0)!=0){C=D0,B=D0+4|0,y=D0+8|0,_=1;i:for(;;){if(ve=j[C]|0,(ve&1)==0?ve=(ve&255)>>>1:ve=r[B>>2]|0,!(_>>>0<ve>>>0))break t;ve=r[n>>2]|0;do if((ve|0)==0)ve=1;else if(ge=r[ve+12>>2]|0,(ge|0)==(r[ve+16>>2]|0)?ve=_0[r[(r[ve>>2]|0)+36>>2]&255](ve)|0:ve=r[ge>>2]|0,(ve|0)==-1){r[n>>2]=0,ve=1;break}else{ve=(r[n>>2]|0)==0;break}while(!1);Te=r[m>>2]|0;do if((Te|0)==0)ue=321;else if(ge=r[Te+12>>2]|0,(ge|0)==(r[Te+16>>2]|0)?ge=_0[r[(r[Te>>2]|0)+36>>2]&255](Te)|0:ge=r[ge>>2]|0,(ge|0)==-1){r[m>>2]=0,ue=321;break}else{if(ve)break;break i}while(!1);if((ue|0)==321&&(ue=0,ve)||(ve=r[n>>2]|0,ge=r[ve+12>>2]|0,(ge|0)==(r[ve+16>>2]|0)?ge=_0[r[(r[ve>>2]|0)+36>>2]&255](ve)|0:ge=r[ge>>2]|0,(j[C]&1)==0?ve=B:ve=r[y>>2]|0,(ge|0)!=(r[ve+(_<<2)>>2]|0)))break;if(_=_+1|0,ge=r[n>>2]|0,ve=ge+12|0,Te=r[ve>>2]|0,(Te|0)==(r[ge+16>>2]|0)){_0[r[(r[ge>>2]|0)+40>>2]&255](ge)|0;continue}else{r[ve>>2]=Te+4;continue}}r[w>>2]=r[w>>2]|4,w=0;break e}while(!1);if((ut|0)==(tt|0)){w=1,ut=tt;break}if(r[pe>>2]=0,Dr(le,ut,tt,pe),(r[pe>>2]|0)==0){w=1;break}r[w>>2]=r[w>>2]|4,w=0}while(!1);return Gt(o),Gt(ne),Gt(re),Gt(oe),R0(le),(ut|0)==0?(D=te,w|0):(Rr[X0&511](ut),D=te,w|0)}function A3(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0;o=D,D=D+456|0,ge=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ge>>2],ge=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ge>>2],ge=o|0,ne=o+16|0,ue=o+416|0,oe=o+424|0,ve=o+432|0,le=o+440|0,pe=o+448|0,q=ue|0,r[q>>2]=ne,C=ue+4|0,r[C>>2]=194,ne=ne+400|0,Di(ve,w),te=ve|0,re=r[te>>2]|0,(r[8714]|0)!=-1&&(r[ge>>2]=34856,r[ge+4>>2]=16,r[ge+8>>2]=0,Vt(34856,ge,114)),ge=(r[8715]|0)-1|0,Te=r[re+8>>2]|0;do if((r[re+12>>2]|0)-Te>>2>>>0>ge>>>0){if(Te=r[Te+(ge<<2)>>2]|0,(Te|0)==0)break;if(ge=Te,j[le]=0,m=m|0,re=r[m>>2]|0,r[pe>>2]=re,Bh(h,pe,g,ve,r[w+4>>2]|0,y,le,ge,ue,oe,ne)|0){w=_,(j[w]&1)==0?(r[_+4>>2]=0,j[w]=0):(r[r[_+8>>2]>>2]=0,r[_+4>>2]=0),(j[le]|0)!=0&&Hl(_,ni[r[(r[Te>>2]|0)+44>>2]&63](ge,45)|0),le=ni[r[(r[Te>>2]|0)+44>>2]&63](ge,48)|0,g=r[q>>2]|0,oe=r[oe>>2]|0,w=oe-4|0;e:do if(g>>>0<w>>>0)for(;;){if(ne=g+4|0,(r[g>>2]|0)!=(le|0))break e;if(ne>>>0<w>>>0)g=ne;else{g=ne;break}}while(!1);v3(_,g,oe)|0}_=h|0,h=r[_>>2]|0;do if((h|0)==0)h=1;else if(oe=r[h+12>>2]|0,(oe|0)==(r[h+16>>2]|0)?h=_0[r[(r[h>>2]|0)+36>>2]&255](h)|0:h=r[oe>>2]|0,(h|0)==-1){r[_>>2]=0,h=1;break}else{h=(r[_>>2]|0)==0;break}while(!1);do if((re|0)==0)B=35;else if(oe=r[re+12>>2]|0,(oe|0)==(r[re+16>>2]|0)?re=_0[r[(r[re>>2]|0)+36>>2]&255](re)|0:re=r[oe>>2]|0,(re|0)==-1){r[m>>2]=0,B=35;break}else{if(h)break;B=37;break}while(!1);if((B|0)==35&&h&&(B=37),(B|0)==37&&(r[y>>2]=r[y>>2]|2),r[n>>2]=r[_>>2],vi(r[te>>2]|0)|0,n=r[q>>2]|0,r[q>>2]=0,(n|0)==0){D=o;return}Rr[r[C>>2]&511](n),D=o;return}while(!1);Te=qt(4)|0,h0(Te),Wt(Te|0,25544,156)}function v3(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0;if(m=n,_=o,g=j[m]|0,(g&1)==0?(C=1,y=g,w=(g&255)>>>1):(y=r[n>>2]|0,C=(y&-2)-1|0,y=y&255,w=r[n+4>>2]|0),g=h-_>>2,(g|0)==0)return n|0;if((C-w|0)>>>0<g>>>0&&(Lh(n,C,w+g-C|0,w,w,0,0),y=j[m]|0),(y&1)==0?y=n+4|0:y=r[n+8>>2]|0,C=y+(w<<2)|0,(o|0)!=(h|0)){for(_=w+((h-4+(-_|0)|0)>>>2)+1|0;r[C>>2]=r[o>>2],o=o+4|0,(o|0)!=(h|0);)C=C+4|0;C=y+(_<<2)|0}return r[C>>2]=0,g=w+g|0,(j[m]&1)==0?(j[m]=g<<1,n|0):(r[n+4>>2]=g,n|0)}function w3(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0;if(q=D,D=D+176|0,qe=q|0,Ve=q+16|0,Te=q+32|0,ve=q+40|0,pe=q+56|0,le=q+72|0,te=q+88|0,ge=q+104|0,ue=q+112|0,ne=q+128|0,oe=q+144|0,re=q+160|0,n){re=r[o>>2]|0,(r[8830]|0)!=-1&&(r[Ve>>2]=35320,r[Ve+4>>2]=16,r[Ve+8>>2]=0,Vt(35320,Ve,114)),ne=(r[8831]|0)-1|0,oe=r[re+8>>2]|0,(r[re+12>>2]|0)-oe>>2>>>0>ne>>>0||(n=qt(4)|0,o=n,h0(o),Wt(n|0,25544,156)),oe=r[oe+(ne<<2)>>2]|0,(oe|0)==0&&(n=qt(4)|0,o=n,h0(o),Wt(n|0,25544,156)),re=oe,si[r[(r[oe>>2]|0)+44>>2]&127](Te,re),u0=r[Te>>2]|0,j[h]=u0,u0=u0>>8,j[h+1|0]=u0,u0=u0>>8,j[h+2|0]=u0,u0=u0>>8,j[h+3|0]=u0,h=oe,si[r[(r[h>>2]|0)+32>>2]&127](ve,re),ne=C,(j[ne]&1)==0?(r[C+4>>2]=0,j[ne]=0):(r[r[C+8>>2]>>2]=0,r[C+4>>2]=0),Ds(C,0),C=ve,r[ne>>2]=r[C>>2],r[ne+4>>2]=r[C+4>>2],r[ne+8>>2]=r[C+8>>2],V0(C|0,0,12)|0,Gt(ve),si[r[(r[h>>2]|0)+28>>2]&127](pe,re),C=_,(j[C]&1)==0?(r[_+4>>2]=0,j[C]=0):(r[r[_+8>>2]>>2]=0,r[_+4>>2]=0),Ds(_,0),_=pe,r[C>>2]=r[_>>2],r[C+4>>2]=r[_+4>>2],r[C+8>>2]=r[_+8>>2],V0(_|0,0,12)|0,Gt(pe),_=oe,n=_0[r[(r[_>>2]|0)+12>>2]&255](re)|0,r[m>>2]=n,n=_0[r[(r[_>>2]|0)+16>>2]&255](re)|0,r[g>>2]=n,si[r[(r[oe>>2]|0)+20>>2]&127](le,re),g=w,(j[g]&1)==0?(j[w+1|0]=0,j[g]=0):(j[r[w+8>>2]|0]=0,r[w+4>>2]=0),Cr(w,0),w=le,r[g>>2]=r[w>>2],r[g+4>>2]=r[w+4>>2],r[g+8>>2]=r[w+8>>2],V0(w|0,0,12)|0,R0(le),si[r[(r[h>>2]|0)+24>>2]&127](te,re),w=y,(j[w]&1)==0?(r[y+4>>2]=0,j[w]=0):(r[r[y+8>>2]>>2]=0,r[y+4>>2]=0),Ds(y,0),n=te,r[w>>2]=r[n>>2],r[w+4>>2]=r[n+4>>2],r[w+8>>2]=r[n+8>>2],V0(n|0,0,12)|0,Gt(te),n=_0[r[(r[_>>2]|0)+36>>2]&255](re)|0,r[B>>2]=n,D=q;return}else{te=r[o>>2]|0,(r[8832]|0)!=-1&&(r[qe>>2]=35328,r[qe+4>>2]=16,r[qe+8>>2]=0,Vt(35328,qe,114)),pe=(r[8833]|0)-1|0,le=r[te+8>>2]|0,(r[te+12>>2]|0)-le>>2>>>0>pe>>>0||(n=qt(4)|0,o=n,h0(o),Wt(n|0,25544,156)),le=r[le+(pe<<2)>>2]|0,(le|0)==0&&(n=qt(4)|0,o=n,h0(o),Wt(n|0,25544,156)),te=le,si[r[(r[le>>2]|0)+44>>2]&127](ge,te),u0=r[ge>>2]|0,j[h]=u0,u0=u0>>8,j[h+1|0]=u0,u0=u0>>8,j[h+2|0]=u0,u0=u0>>8,j[h+3|0]=u0,h=le,si[r[(r[h>>2]|0)+32>>2]&127](ue,te),pe=C,(j[pe]&1)==0?(r[C+4>>2]=0,j[pe]=0):(r[r[C+8>>2]>>2]=0,r[C+4>>2]=0),Ds(C,0),C=ue,r[pe>>2]=r[C>>2],r[pe+4>>2]=r[C+4>>2],r[pe+8>>2]=r[C+8>>2],V0(C|0,0,12)|0,Gt(ue),si[r[(r[h>>2]|0)+28>>2]&127](ne,te),C=_,(j[C]&1)==0?(r[_+4>>2]=0,j[C]=0):(r[r[_+8>>2]>>2]=0,r[_+4>>2]=0),Ds(_,0),_=ne,r[C>>2]=r[_>>2],r[C+4>>2]=r[_+4>>2],r[C+8>>2]=r[_+8>>2],V0(_|0,0,12)|0,Gt(ne),_=le,n=_0[r[(r[_>>2]|0)+12>>2]&255](te)|0,r[m>>2]=n,n=_0[r[(r[_>>2]|0)+16>>2]&255](te)|0,r[g>>2]=n,si[r[(r[le>>2]|0)+20>>2]&127](oe,te),g=w,(j[g]&1)==0?(j[w+1|0]=0,j[g]=0):(j[r[w+8>>2]|0]=0,r[w+4>>2]=0),Cr(w,0),w=oe,r[g>>2]=r[w>>2],r[g+4>>2]=r[w+4>>2],r[g+8>>2]=r[w+8>>2],V0(w|0,0,12)|0,R0(oe),si[r[(r[h>>2]|0)+24>>2]&127](re,te),w=y,(j[w]&1)==0?(r[y+4>>2]=0,j[w]=0):(r[r[y+8>>2]>>2]=0,r[y+4>>2]=0),Ds(y,0),n=re,r[w>>2]=r[n>>2],r[w+4>>2]=r[n+4>>2],r[w+8>>2]=r[n+8>>2],V0(n|0,0,12)|0,Gt(re),n=_0[r[(r[_>>2]|0)+36>>2]&255](te)|0,r[B>>2]=n,D=q;return}}function Mh(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0;m=n+4|0,g=(r[m>>2]|0)!=194,n=n|0,_=r[n>>2]|0,y=_,w=(r[h>>2]|0)-y|0,w=w>>>0<2147483647?w<<1:-1,y=(r[o>>2]|0)-y>>2,g||(_=0),C=Mi(_,w)|0,_=C,(C|0)==0&&Pi();do if(g)r[n>>2]=_;else{if(g=r[n>>2]|0,r[n>>2]=_,(g|0)==0)break;Rr[r[m>>2]&511](g),_=r[n>>2]|0}while(!1);r[m>>2]=88,r[o>>2]=_+(y<<2),r[h>>2]=(r[n>>2]|0)+(w>>>2<<2)}function _3(n){n=n|0,$0(n)}function b3(n){}function k3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=+y;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0;te=D,D=D+248|0,Ve=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[Ve>>2],Ve=te|0,qe=te+120|0,ze=te+232|0,Ye=te+240|0,_=Ye,C=D,D=D+1|0,D=D+7&-8,ne=D,D=D+1|0,D=D+7&-8,le=D,D=D+12|0,D=D+7&-8,B=D,D=D+12|0,D=D+7&-8,re=D,D=D+12|0,D=D+7&-8,Be=D,D=D+4|0,D=D+7&-8,He=D,D=D+100|0,D=D+7&-8,oe=D,D=D+4|0,D=D+7&-8,o=D,D=D+4|0,D=D+7&-8,q=D,D=D+4|0,D=D+7&-8,r0=te+16|0,r[qe>>2]=r0,pe=te+128|0,ue=Ji(r0|0,100,15056,(r0=D,D=D+8|0,p0[r0>>3]=y,r0|0))|0,D=r0;do if(ue>>>0>99){do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;r0=Ct(2147483647,14472,0)|0,r[8330]=r0}while(!1);if(ue=en(qe,r[8330]|0,15056,(Te=D,D=D+8|0,p0[Te>>3]=y,Te|0))|0,D=Te,Te=r[qe>>2]|0,(Te|0)==0&&(Pi(),Te=r[qe>>2]|0),ve=ii(ue)|0,(ve|0)!=0){pe=ve;break}Pi(),pe=0,ve=0}else ve=0,Te=0;while(!1);Di(ze,g),ge=ze|0,Ge=r[ge>>2]|0,(r[8716]|0)!=-1&&(r[Ve>>2]=34864,r[Ve+4>>2]=16,r[Ve+8>>2]=0,Vt(34864,Ve,114)),r0=(r[8717]|0)-1|0,Ve=r[Ge+8>>2]|0;do if((r[Ge+12>>2]|0)-Ve>>2>>>0>r0>>>0){if(Ge=r[Ve+(r0<<2)>>2]|0,(Ge|0)==0)break;Ve=Ge,r0=r[qe>>2]|0,Lr[r[(r[Ge>>2]|0)+32>>2]&15](Ve,r0,r0+ue|0,pe)|0,(ue|0)==0?qe=0:qe=(j[r[qe>>2]|0]|0)==45,r[Ye>>2]=0,V0(le|0,0,12)|0,Ye=B,V0(Ye|0,0,12)|0,Ge=re,V0(Ge|0,0,12)|0,Uh(m,qe,ze,_,C,ne,le,B,re,Be),ze=He|0,m=r[Be>>2]|0,(ue|0)>(m|0)?(Be=j[Ge]|0,(Be&1)==0?Be=(Be&255)>>>1:Be=r[re+4>>2]|0,He=j[Ye]|0,(He&1)==0?He=(He&255)>>>1:He=r[B+4>>2]|0,Be=Be+(ue-m<<1|1)+He|0):(Be=j[Ge]|0,(Be&1)==0?Be=(Be&255)>>>1:Be=r[re+4>>2]|0,He=j[Ye]|0,(He&1)==0?He=(He&255)>>>1:He=r[B+4>>2]|0,Be=Be+2+He|0),Be=Be+m|0;do if(Be>>>0>100){if(Be=ii(Be)|0,(Be|0)!=0){ze=Be;break}Pi(),ze=0,Be=0}else Be=0;while(!1);if(Fh(ze,oe,o,r[g+4>>2]|0,pe,pe+ue|0,Ve,qe,_,j[C]|0,j[ne]|0,le,B,re,m),r[q>>2]=r[h>>2],hs(n,q,ze,r[oe>>2]|0,r[o>>2]|0,g,w),(Be|0)!=0&&Ft(Be),R0(re),R0(B),R0(le),vi(r[ge>>2]|0)|0,(ve|0)!=0&&Ft(ve),(Te|0)==0){D=te;return}Ft(Te),D=te;return}while(!1);r0=qt(4)|0,h0(r0),Wt(r0|0,25544,156)}function Uh(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0;if(q=D,D=D+40|0,r0=q|0,Ge=q+16|0,qe=q+32|0,ze=qe,ne=D,D=D+12|0,D=D+7&-8,Ye=D,D=D+4|0,D=D+7&-8,Ve=Ye,pe=D,D=D+12|0,D=D+7&-8,le=D,D=D+12|0,D=D+7&-8,te=D,D=D+12|0,D=D+7&-8,Be=D,D=D+4|0,D=D+7&-8,He=Be,ve=D,D=D+12|0,D=D+7&-8,ge=D,D=D+4|0,D=D+7&-8,Te=ge,ue=D,D=D+12|0,D=D+7&-8,oe=D,D=D+12|0,D=D+7&-8,re=D,D=D+12|0,D=D+7&-8,h=r[h>>2]|0,n){(r[8834]|0)!=-1&&(r[Ge>>2]=35336,r[Ge+4>>2]=16,r[Ge+8>>2]=0,Vt(35336,Ge,114)),oe=(r[8835]|0)-1|0,re=r[h+8>>2]|0,(r[h+12>>2]|0)-re>>2>>>0>oe>>>0||(r0=qt(4)|0,n=r0,h0(n),Wt(r0|0,25544,156)),re=r[re+(oe<<2)>>2]|0,(re|0)==0&&(r0=qt(4)|0,n=r0,h0(n),Wt(r0|0,25544,156)),oe=re,ue=r[re>>2]|0,o?(si[r[ue+44>>2]&127](ze,oe),u0=r[qe>>2]|0,j[m]=u0,u0=u0>>8,j[m+1|0]=u0,u0=u0>>8,j[m+2|0]=u0,u0=u0>>8,j[m+3|0]=u0,si[r[(r[re>>2]|0)+32>>2]&127](ne,oe),m=C,(j[m]&1)==0?(j[C+1|0]=0,j[m]=0):(j[r[C+8>>2]|0]=0,r[C+4>>2]=0),Cr(C,0),r0=ne,r[m>>2]=r[r0>>2],r[m+4>>2]=r[r0+4>>2],r[m+8>>2]=r[r0+8>>2],V0(r0|0,0,12)|0,R0(ne)):(si[r[ue+40>>2]&127](Ve,oe),u0=r[Ye>>2]|0,j[m]=u0,u0=u0>>8,j[m+1|0]=u0,u0=u0>>8,j[m+2|0]=u0,u0=u0>>8,j[m+3|0]=u0,si[r[(r[re>>2]|0)+28>>2]&127](pe,oe),m=C,(j[m]&1)==0?(j[C+1|0]=0,j[m]=0):(j[r[C+8>>2]|0]=0,r[C+4>>2]=0),Cr(C,0),r0=pe,r[m>>2]=r[r0>>2],r[m+4>>2]=r[r0+4>>2],r[m+8>>2]=r[r0+8>>2],V0(r0|0,0,12)|0,R0(pe)),C=re,r0=_0[r[(r[C>>2]|0)+12>>2]&255](oe)|0,j[g]=r0,C=_0[r[(r[C>>2]|0)+16>>2]&255](oe)|0,j[w]=C,C=re,si[r[(r[C>>2]|0)+20>>2]&127](le,oe),w=y,(j[w]&1)==0?(j[y+1|0]=0,j[w]=0):(j[r[y+8>>2]|0]=0,r[y+4>>2]=0),Cr(y,0),y=le,r[w>>2]=r[y>>2],r[w+4>>2]=r[y+4>>2],r[w+8>>2]=r[y+8>>2],V0(y|0,0,12)|0,R0(le),si[r[(r[C>>2]|0)+24>>2]&127](te,oe),y=_,(j[y]&1)==0?(j[_+1|0]=0,j[y]=0):(j[r[_+8>>2]|0]=0,r[_+4>>2]=0),Cr(_,0),r0=te,r[y>>2]=r[r0>>2],r[y+4>>2]=r[r0+4>>2],r[y+8>>2]=r[r0+8>>2],V0(r0|0,0,12)|0,R0(te),r0=_0[r[(r[re>>2]|0)+36>>2]&255](oe)|0,r[B>>2]=r0,D=q;return}else{(r[8836]|0)!=-1&&(r[r0>>2]=35344,r[r0+4>>2]=16,r[r0+8>>2]=0,Vt(35344,r0,114)),te=(r[8837]|0)-1|0,le=r[h+8>>2]|0,(r[h+12>>2]|0)-le>>2>>>0>te>>>0||(r0=qt(4)|0,n=r0,h0(n),Wt(r0|0,25544,156)),le=r[le+(te<<2)>>2]|0,(le|0)==0&&(r0=qt(4)|0,n=r0,h0(n),Wt(r0|0,25544,156)),te=le,ne=r[le>>2]|0,o?(si[r[ne+44>>2]&127](He,te),u0=r[Be>>2]|0,j[m]=u0,u0=u0>>8,j[m+1|0]=u0,u0=u0>>8,j[m+2|0]=u0,u0=u0>>8,j[m+3|0]=u0,si[r[(r[le>>2]|0)+32>>2]&127](ve,te),m=C,(j[m]&1)==0?(j[C+1|0]=0,j[m]=0):(j[r[C+8>>2]|0]=0,r[C+4>>2]=0),Cr(C,0),r0=ve,r[m>>2]=r[r0>>2],r[m+4>>2]=r[r0+4>>2],r[m+8>>2]=r[r0+8>>2],V0(r0|0,0,12)|0,R0(ve)):(si[r[ne+40>>2]&127](Te,te),u0=r[ge>>2]|0,j[m]=u0,u0=u0>>8,j[m+1|0]=u0,u0=u0>>8,j[m+2|0]=u0,u0=u0>>8,j[m+3|0]=u0,si[r[(r[le>>2]|0)+28>>2]&127](ue,te),m=C,(j[m]&1)==0?(j[C+1|0]=0,j[m]=0):(j[r[C+8>>2]|0]=0,r[C+4>>2]=0),Cr(C,0),r0=ue,r[m>>2]=r[r0>>2],r[m+4>>2]=r[r0+4>>2],r[m+8>>2]=r[r0+8>>2],V0(r0|0,0,12)|0,R0(ue)),C=le,r0=_0[r[(r[C>>2]|0)+12>>2]&255](te)|0,j[g]=r0,C=_0[r[(r[C>>2]|0)+16>>2]&255](te)|0,j[w]=C,w=le,si[r[(r[w>>2]|0)+20>>2]&127](oe,te),C=y,(j[C]&1)==0?(j[y+1|0]=0,j[C]=0):(j[r[y+8>>2]|0]=0,r[y+4>>2]=0),Cr(y,0),y=oe,r[C>>2]=r[y>>2],r[C+4>>2]=r[y+4>>2],r[C+8>>2]=r[y+8>>2],V0(y|0,0,12)|0,R0(oe),si[r[(r[w>>2]|0)+24>>2]&127](re,te),y=_,(j[y]&1)==0?(j[_+1|0]=0,j[y]=0):(j[r[_+8>>2]|0]=0,r[_+4>>2]=0),Cr(_,0),r0=re,r[y>>2]=r[r0>>2],r[y+4>>2]=r[r0+4>>2],r[y+8>>2]=r[r0+8>>2],V0(r0|0,0,12)|0,R0(re),r0=_0[r[(r[le>>2]|0)+36>>2]&255](te)|0,r[B>>2]=r0,D=q;return}}function Fh(n,o,h,m,g,w,y,_,C,B,q,te,re,oe,le){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0,oe=oe|0,le=le|0;var ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0;r[h>>2]=n,ue=y,ve=oe,ne=oe+1|0,pe=oe+8|0,oe=oe+4|0,Be=re,qe=(m&512|0)==0,Ve=re+1|0,Te=re+8|0,re=re+4|0,He=(le|0)>0,Ge=te,Ye=te+1|0,ze=te+8|0,o0=te+4|0,r0=y+8|0,te=-le|0,v0=0;do{e:do switch(j[C+v0|0]|0){case 3:{if(S0=j[ve]|0,E0=(S0&1)==0,E0?S0=(S0&255)>>>1:S0=r[oe>>2]|0,(S0|0)==0)break e;E0?E0=ne:E0=r[pe>>2]|0,G0=j[E0]|0,ot=r[h>>2]|0,r[h>>2]=ot+1,j[ot]=G0;break}case 0:{r[o>>2]=r[h>>2];break}case 1:{r[o>>2]=r[h>>2],G0=ni[r[(r[ue>>2]|0)+28>>2]&63](y,32)|0,ot=r[h>>2]|0,r[h>>2]=ot+1,j[ot]=G0;break}case 2:{if(E0=j[Be]|0,P0=(E0&1)==0,P0?S0=(E0&255)>>>1:S0=r[re>>2]|0,(S0|0)==0|qe)break e;if(P0?(P0=(E0&255)>>>1,E0=Ve,S0=Ve):(S0=r[Te>>2]|0,P0=r[re>>2]|0,E0=S0),E0=E0+P0|0,P0=r[h>>2]|0,(S0|0)!=(E0|0))do j[P0]=j[S0]|0,S0=S0+1|0,P0=P0+1|0;while((S0|0)!=(E0|0));r[h>>2]=P0;break}case 4:{E0=r[h>>2]|0,g=_?g+1|0:g;t:do if(g>>>0<w>>>0)for(S0=g;;){if(P0=j[S0]|0,!(P0<<24>>24>-1)||(O0=S0+1|0,(be[(r[r0>>2]|0)+(P0<<24>>24<<1)>>1]&2048)==0))break t;if(O0>>>0<w>>>0)S0=O0;else{S0=O0;break}}else S0=g;while(!1);if(P0=S0,He){if(S0>>>0>g>>>0){for(P0=g+(-P0|0)|0,P0=P0>>>0<te>>>0?te:P0,O0=P0+le|0,Z0=S0,ot=le,G0=E0;Z0=Z0-1|0,N0=j[Z0]|0,r[h>>2]=G0+1,j[G0]=N0,G0=ot-1|0,ot=(G0|0)>0,!!(Z0>>>0>g>>>0&ot);)ot=G0,G0=r[h>>2]|0;S0=S0+P0|0,ot?ge=32:P0=0}else O0=le,ge=32;if((ge|0)==32&&(ge=0,P0=ni[r[(r[ue>>2]|0)+28>>2]&63](y,48)|0),Z0=r[h>>2]|0,r[h>>2]=Z0+1,(O0|0)>0)do j[Z0]=P0,O0=O0-1|0,Z0=r[h>>2]|0,r[h>>2]=Z0+1;while((O0|0)>0);j[Z0]=B}if((S0|0)==(g|0))ot=ni[r[(r[ue>>2]|0)+28>>2]&63](y,48)|0,N0=r[h>>2]|0,r[h>>2]=N0+1,j[N0]=ot;else for(O0=j[Ge]|0,P0=(O0&1)==0,P0?O0=(O0&255)>>>1:O0=r[o0>>2]|0,(O0|0)==0?(Z0=0,P0=0,O0=-1):(P0?O0=Ye:O0=r[ze>>2]|0,Z0=0,P0=0,O0=j[O0]|0);;){do if((Z0|0)==(O0|0)){if(G0=r[h>>2]|0,r[h>>2]=G0+1,j[G0]=q,P0=P0+1|0,G0=j[Ge]|0,Z0=(G0&1)==0,Z0?G0=(G0&255)>>>1:G0=r[o0>>2]|0,!(P0>>>0<G0>>>0)){Z0=0;break}if(Z0?O0=Ye:O0=r[ze>>2]|0,(j[O0+P0|0]|0)==127){O0=-1,Z0=0;break}Z0?O0=Ye:O0=r[ze>>2]|0,O0=j[O0+P0|0]|0,Z0=0}while(!1);if(S0=S0-1|0,ot=j[S0]|0,N0=r[h>>2]|0,r[h>>2]=N0+1,j[N0]=ot,(S0|0)==(g|0))break;Z0=Z0+1|0}if(S0=r[h>>2]|0,(E0|0)==(S0|0)||(S0=S0-1|0,!(S0>>>0>E0>>>0)))break e;do N0=j[E0]|0,j[E0]=j[S0]|0,j[S0]=N0,E0=E0+1|0,S0=S0-1|0;while(E0>>>0<S0>>>0);break}}while(!1);v0=v0+1|0}while(v0>>>0<4);if(ue=j[ve]|0,C=(ue&1)==0,C?ve=(ue&255)>>>1:ve=r[oe>>2]|0,ve>>>0>1){if(C?(oe=(ue&255)>>>1,ue=ne):(ne=r[pe>>2]|0,oe=r[oe>>2]|0,ue=ne),pe=ne+1|0,ne=ue+oe|0,oe=r[h>>2]|0,(pe|0)!=(ne|0))do j[oe]=j[pe]|0,pe=pe+1|0,oe=oe+1|0;while((pe|0)!=(ne|0));r[h>>2]=oe}if(m=m&176,(m|0)==32){r[o>>2]=r[h>>2];return}else{if((m|0)==16)return;r[o>>2]=n;return}}function S3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0;re=D,D=D+32|0,ve=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ve>>2],ve=re|0,qe=re+16|0,Be=re+24|0,le=Be,ne=D,D=D+1|0,D=D+7&-8,o=D,D=D+1|0,D=D+7&-8,_=D,D=D+12|0,D=D+7&-8,C=D,D=D+12|0,D=D+7&-8,B=D,D=D+12|0,D=D+7&-8,Te=D,D=D+4|0,D=D+7&-8,Ve=D,D=D+100|0,D=D+7&-8,oe=D,D=D+4|0,D=D+7&-8,pe=D,D=D+4|0,D=D+7&-8,q=D,D=D+4|0,D=D+7&-8,Di(qe,g),te=qe|0,ue=r[te>>2]|0,(r[8716]|0)!=-1&&(r[ve>>2]=34864,r[ve+4>>2]=16,r[ve+8>>2]=0,Vt(34864,ve,114)),ve=(r[8717]|0)-1|0,ge=r[ue+8>>2]|0;do if((r[ue+12>>2]|0)-ge>>2>>>0>ve>>>0){if(ge=r[ge+(ve<<2)>>2]|0,(ge|0)==0)break;ue=ge,ve=y,He=j[ve]|0,ze=(He&1)==0,ze?He=(He&255)>>>1:He=r[y+4>>2]|0,(He|0)==0?ge=0:(ze?ze=y+1|0:ze=r[y+8>>2]|0,He=j[ze]|0,ge=He<<24>>24==(ni[r[(r[ge>>2]|0)+28>>2]&63](ue,45)|0)<<24>>24),r[Be>>2]=0,V0(_|0,0,12)|0,Be=C,V0(Be|0,0,12)|0,ze=B,V0(ze|0,0,12)|0,Uh(m,ge,qe,le,ne,o,_,C,B,Te),Ve=Ve|0,m=j[ve]|0,He=(m&1)==0,He?qe=(m&255)>>>1:qe=r[y+4>>2]|0,Te=r[Te>>2]|0,(qe|0)>(Te|0)?(He?qe=(m&255)>>>1:qe=r[y+4>>2]|0,ze=j[ze]|0,(ze&1)==0?ze=(ze&255)>>>1:ze=r[B+4>>2]|0,Be=j[Be]|0,(Be&1)==0?Be=(Be&255)>>>1:Be=r[C+4>>2]|0,qe=ze+(qe-Te<<1|1)+Be|0):(qe=j[ze]|0,(qe&1)==0?qe=(qe&255)>>>1:qe=r[B+4>>2]|0,Be=j[Be]|0,(Be&1)==0?Be=(Be&255)>>>1:Be=r[C+4>>2]|0,qe=qe+2+Be|0),qe=qe+Te|0;do if(qe>>>0>100){if(qe=ii(qe)|0,(qe|0)!=0){Ve=qe;break}Pi(),Ve=0,qe=0,m=j[ve]|0}else qe=0;while(!1);if((m&1)==0?(ve=(m&255)>>>1,y=y+1|0):(ve=r[y+4>>2]|0,y=r[y+8>>2]|0),Fh(Ve,oe,pe,r[g+4>>2]|0,y,y+ve|0,ue,ge,le,j[ne]|0,j[o]|0,_,C,B,Te),r[q>>2]=r[h>>2],hs(n,q,Ve,r[oe>>2]|0,r[pe>>2]|0,g,w),(qe|0)==0){R0(B),R0(C),R0(_),He=r[te>>2]|0,He=He|0,vi(He)|0,D=re;return}Ft(qe),R0(B),R0(C),R0(_),He=r[te>>2]|0,He=He|0,vi(He)|0,D=re;return}while(!1);He=qt(4)|0,h0(He),Wt(He|0,25544,156)}function E3(n){n=n|0,$0(n)}function T3(n){}function x3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=+y;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0;te=D,D=D+544|0,Ve=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[Ve>>2],Ve=te|0,qe=te+120|0,ze=te+528|0,Ye=te+536|0,_=Ye,C=D,D=D+4|0,D=D+7&-8,ne=D,D=D+4|0,D=D+7&-8,le=D,D=D+12|0,D=D+7&-8,B=D,D=D+12|0,D=D+7&-8,re=D,D=D+12|0,D=D+7&-8,Be=D,D=D+4|0,D=D+7&-8,He=D,D=D+400|0,oe=D,D=D+4|0,D=D+7&-8,o=D,D=D+4|0,D=D+7&-8,q=D,D=D+4|0,D=D+7&-8,r0=te+16|0,r[qe>>2]=r0,pe=te+128|0,ue=Ji(r0|0,100,15056,(r0=D,D=D+8|0,p0[r0>>3]=y,r0|0))|0,D=r0;do if(ue>>>0>99){do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;r0=Ct(2147483647,14472,0)|0,r[8330]=r0}while(!1);if(ue=en(qe,r[8330]|0,15056,(Te=D,D=D+8|0,p0[Te>>3]=y,Te|0))|0,D=Te,Te=r[qe>>2]|0,(Te|0)==0&&(Pi(),Te=r[qe>>2]|0),r0=ii(ue<<2)|0,ve=r0,(r0|0)!=0){pe=ve;break}Pi(),pe=0,ve=0}else ve=0,Te=0;while(!1);Di(ze,g),ge=ze|0,Ge=r[ge>>2]|0,(r[8714]|0)!=-1&&(r[Ve>>2]=34856,r[Ve+4>>2]=16,r[Ve+8>>2]=0,Vt(34856,Ve,114)),r0=(r[8715]|0)-1|0,Ve=r[Ge+8>>2]|0;do if((r[Ge+12>>2]|0)-Ve>>2>>>0>r0>>>0){if(Ge=r[Ve+(r0<<2)>>2]|0,(Ge|0)==0)break;Ve=Ge,r0=r[qe>>2]|0,Lr[r[(r[Ge>>2]|0)+48>>2]&15](Ve,r0,r0+ue|0,pe)|0,(ue|0)==0?qe=0:qe=(j[r[qe>>2]|0]|0)==45,r[Ye>>2]=0,V0(le|0,0,12)|0,Ye=B,V0(Ye|0,0,12)|0,Ge=re,V0(Ge|0,0,12)|0,Oh(m,qe,ze,_,C,ne,le,B,re,Be),ze=He|0,m=r[Be>>2]|0,(ue|0)>(m|0)?(Be=j[Ge]|0,(Be&1)==0?Be=(Be&255)>>>1:Be=r[re+4>>2]|0,He=j[Ye]|0,(He&1)==0?He=(He&255)>>>1:He=r[B+4>>2]|0,Be=Be+(ue-m<<1|1)+He|0):(Be=j[Ge]|0,(Be&1)==0?Be=(Be&255)>>>1:Be=r[re+4>>2]|0,He=j[Ye]|0,(He&1)==0?He=(He&255)>>>1:He=r[B+4>>2]|0,Be=Be+2+He|0),Be=Be+m|0;do if(Be>>>0>100){if(r0=ii(Be<<2)|0,Be=r0,(r0|0)!=0){ze=Be;break}Pi(),ze=0,Be=0}else Be=0;while(!1);if(Nh(ze,oe,o,r[g+4>>2]|0,pe,pe+(ue<<2)|0,Ve,qe,_,r[C>>2]|0,r[ne>>2]|0,le,B,re,m),r[q>>2]=r[h>>2],tn(n,q,ze,r[oe>>2]|0,r[o>>2]|0,g,w),(Be|0)!=0&&Ft(Be),Gt(re),Gt(B),R0(le),vi(r[ge>>2]|0)|0,(ve|0)!=0&&Ft(ve),(Te|0)==0){D=te;return}Ft(Te),D=te;return}while(!1);r0=qt(4)|0,h0(r0),Wt(r0|0,25544,156)}function Oh(n,o,h,m,g,w,y,_,C,B){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0;var q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0;if(q=D,D=D+40|0,r0=q|0,Ge=q+16|0,qe=q+32|0,ze=qe,ne=D,D=D+12|0,D=D+7&-8,Ye=D,D=D+4|0,D=D+7&-8,Ve=Ye,pe=D,D=D+12|0,D=D+7&-8,le=D,D=D+12|0,D=D+7&-8,te=D,D=D+12|0,D=D+7&-8,Be=D,D=D+4|0,D=D+7&-8,He=Be,ve=D,D=D+12|0,D=D+7&-8,ge=D,D=D+4|0,D=D+7&-8,Te=ge,ue=D,D=D+12|0,D=D+7&-8,oe=D,D=D+12|0,D=D+7&-8,re=D,D=D+12|0,D=D+7&-8,h=r[h>>2]|0,n){(r[8830]|0)!=-1&&(r[Ge>>2]=35320,r[Ge+4>>2]=16,r[Ge+8>>2]=0,Vt(35320,Ge,114)),oe=(r[8831]|0)-1|0,re=r[h+8>>2]|0,(r[h+12>>2]|0)-re>>2>>>0>oe>>>0||(r0=qt(4)|0,n=r0,h0(n),Wt(r0|0,25544,156)),oe=r[re+(oe<<2)>>2]|0,(oe|0)==0&&(r0=qt(4)|0,n=r0,h0(n),Wt(r0|0,25544,156)),re=oe,ue=r[oe>>2]|0,o?(si[r[ue+44>>2]&127](ze,re),u0=r[qe>>2]|0,j[m]=u0,u0=u0>>8,j[m+1|0]=u0,u0=u0>>8,j[m+2|0]=u0,u0=u0>>8,j[m+3|0]=u0,si[r[(r[oe>>2]|0)+32>>2]&127](ne,re),m=C,(j[m]&1)==0?(r[C+4>>2]=0,j[m]=0):(r[r[C+8>>2]>>2]=0,r[C+4>>2]=0),Ds(C,0),r0=ne,r[m>>2]=r[r0>>2],r[m+4>>2]=r[r0+4>>2],r[m+8>>2]=r[r0+8>>2],V0(r0|0,0,12)|0,Gt(ne)):(si[r[ue+40>>2]&127](Ve,re),u0=r[Ye>>2]|0,j[m]=u0,u0=u0>>8,j[m+1|0]=u0,u0=u0>>8,j[m+2|0]=u0,u0=u0>>8,j[m+3|0]=u0,si[r[(r[oe>>2]|0)+28>>2]&127](pe,re),m=C,(j[m]&1)==0?(r[C+4>>2]=0,j[m]=0):(r[r[C+8>>2]>>2]=0,r[C+4>>2]=0),Ds(C,0),r0=pe,r[m>>2]=r[r0>>2],r[m+4>>2]=r[r0+4>>2],r[m+8>>2]=r[r0+8>>2],V0(r0|0,0,12)|0,Gt(pe)),C=oe,r0=_0[r[(r[C>>2]|0)+12>>2]&255](re)|0,r[g>>2]=r0,r0=_0[r[(r[C>>2]|0)+16>>2]&255](re)|0,r[w>>2]=r0,si[r[(r[oe>>2]|0)+20>>2]&127](le,re),w=y,(j[w]&1)==0?(j[y+1|0]=0,j[w]=0):(j[r[y+8>>2]|0]=0,r[y+4>>2]=0),Cr(y,0),y=le,r[w>>2]=r[y>>2],r[w+4>>2]=r[y+4>>2],r[w+8>>2]=r[y+8>>2],V0(y|0,0,12)|0,R0(le),si[r[(r[oe>>2]|0)+24>>2]&127](te,re),y=_,(j[y]&1)==0?(r[_+4>>2]=0,j[y]=0):(r[r[_+8>>2]>>2]=0,r[_+4>>2]=0),Ds(_,0),r0=te,r[y>>2]=r[r0>>2],r[y+4>>2]=r[r0+4>>2],r[y+8>>2]=r[r0+8>>2],V0(r0|0,0,12)|0,Gt(te),r0=_0[r[(r[C>>2]|0)+36>>2]&255](re)|0,r[B>>2]=r0,D=q;return}else{(r[8832]|0)!=-1&&(r[r0>>2]=35328,r[r0+4>>2]=16,r[r0+8>>2]=0,Vt(35328,r0,114)),te=(r[8833]|0)-1|0,le=r[h+8>>2]|0,(r[h+12>>2]|0)-le>>2>>>0>te>>>0||(r0=qt(4)|0,n=r0,h0(n),Wt(r0|0,25544,156)),le=r[le+(te<<2)>>2]|0,(le|0)==0&&(r0=qt(4)|0,n=r0,h0(n),Wt(r0|0,25544,156)),te=le,ne=r[le>>2]|0,o?(si[r[ne+44>>2]&127](He,te),u0=r[Be>>2]|0,j[m]=u0,u0=u0>>8,j[m+1|0]=u0,u0=u0>>8,j[m+2|0]=u0,u0=u0>>8,j[m+3|0]=u0,si[r[(r[le>>2]|0)+32>>2]&127](ve,te),m=C,(j[m]&1)==0?(r[C+4>>2]=0,j[m]=0):(r[r[C+8>>2]>>2]=0,r[C+4>>2]=0),Ds(C,0),r0=ve,r[m>>2]=r[r0>>2],r[m+4>>2]=r[r0+4>>2],r[m+8>>2]=r[r0+8>>2],V0(r0|0,0,12)|0,Gt(ve)):(si[r[ne+40>>2]&127](Te,te),u0=r[ge>>2]|0,j[m]=u0,u0=u0>>8,j[m+1|0]=u0,u0=u0>>8,j[m+2|0]=u0,u0=u0>>8,j[m+3|0]=u0,si[r[(r[le>>2]|0)+28>>2]&127](ue,te),m=C,(j[m]&1)==0?(r[C+4>>2]=0,j[m]=0):(r[r[C+8>>2]>>2]=0,r[C+4>>2]=0),Ds(C,0),r0=ue,r[m>>2]=r[r0>>2],r[m+4>>2]=r[r0+4>>2],r[m+8>>2]=r[r0+8>>2],V0(r0|0,0,12)|0,Gt(ue)),C=le,r0=_0[r[(r[C>>2]|0)+12>>2]&255](te)|0,r[g>>2]=r0,r0=_0[r[(r[C>>2]|0)+16>>2]&255](te)|0,r[w>>2]=r0,si[r[(r[le>>2]|0)+20>>2]&127](oe,te),w=y,(j[w]&1)==0?(j[y+1|0]=0,j[w]=0):(j[r[y+8>>2]|0]=0,r[y+4>>2]=0),Cr(y,0),y=oe,r[w>>2]=r[y>>2],r[w+4>>2]=r[y+4>>2],r[w+8>>2]=r[y+8>>2],V0(y|0,0,12)|0,R0(oe),si[r[(r[le>>2]|0)+24>>2]&127](re,te),y=_,(j[y]&1)==0?(r[_+4>>2]=0,j[y]=0):(r[r[_+8>>2]>>2]=0,r[_+4>>2]=0),Ds(_,0),r0=re,r[y>>2]=r[r0>>2],r[y+4>>2]=r[r0+4>>2],r[y+8>>2]=r[r0+8>>2],V0(r0|0,0,12)|0,Gt(re),r0=_0[r[(r[C>>2]|0)+36>>2]&255](te)|0,r[B>>2]=r0,D=q;return}}function Nh(n,o,h,m,g,w,y,_,C,B,q,te,re,oe,le){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0,re=re|0,oe=oe|0,le=le|0;var ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0;r[h>>2]=n,pe=y,ve=oe,ne=oe+4|0,oe=oe+8|0,ge=re,Ve=(m&512|0)==0,Te=re+4|0,He=re+8|0,Be=(le|0)>0,qe=te,re=te+1|0,ze=te+8|0,te=te+4|0,Ye=y,Ge=0;do{e:do switch(j[C+Ge|0]|0){case 1:{r[o>>2]=r[h>>2],O0=ni[r[(r[pe>>2]|0)+44>>2]&63](y,32)|0,Z0=r[h>>2]|0,r[h>>2]=Z0+4,r[Z0>>2]=O0;break}case 2:{if(v0=j[ge]|0,o0=(v0&1)==0,o0?r0=(v0&255)>>>1:r0=r[Te>>2]|0,(r0|0)==0|Ve)break e;if(o0?(E0=(v0&255)>>>1,v0=Te,S0=Te):(S0=r[He>>2]|0,E0=r[Te>>2]|0,v0=S0),o0=v0+(E0<<2)|0,r0=r[h>>2]|0,(S0|0)!=(o0|0)){for(v0=(v0+(E0-1<<2)+(-S0|0)|0)>>>2,E0=r0;r[E0>>2]=r[S0>>2],S0=S0+4|0,(S0|0)!=(o0|0);)E0=E0+4|0;r0=r0+(v0+1<<2)|0}r[h>>2]=r0;break}case 4:{r0=r[h>>2]|0,g=_?g+4|0:g;t:do if(g>>>0<w>>>0)for(o0=g;;){if(v0=o0+4|0,!(Yi[r[(r[Ye>>2]|0)+12>>2]&63](y,2048,r[o0>>2]|0)|0))break t;if(v0>>>0<w>>>0)o0=v0;else{o0=v0;break}}else o0=g;while(!1);if(Be){do if(o0>>>0>g>>>0){for(v0=le,S0=r[h>>2]|0;o0=o0-4|0,E0=S0+4|0,r[S0>>2]=r[o0>>2],v0=v0-1|0,S0=(v0|0)>0,o0>>>0>g>>>0&S0;)S0=E0;if(r[h>>2]=E0,S0){ue=34;break}S0=r[h>>2]|0,r[h>>2]=S0+4}else v0=le,ue=34;while(!1);do if((ue|0)==34){if(ue=0,E0=ni[r[(r[pe>>2]|0)+44>>2]&63](y,48)|0,S0=r[h>>2]|0,P0=S0+4|0,r[h>>2]=P0,(v0|0)>0)Z0=v0,O0=S0;else break;for(;r[O0>>2]=E0,Z0=Z0-1|0,(Z0|0)>0;)O0=P0,P0=P0+4|0;r[h>>2]=S0+(v0+1<<2),S0=S0+(v0<<2)|0}while(!1);r[S0>>2]=B}if((o0|0)==(g|0))P0=ni[r[(r[pe>>2]|0)+44>>2]&63](y,48)|0,Z0=r[h>>2]|0,O0=Z0+4|0,r[h>>2]=O0,r[Z0>>2]=P0;else for(E0=j[qe]|0,v0=(E0&1)==0,v0?E0=(E0&255)>>>1:E0=r[te>>2]|0,(E0|0)==0?(P0=0,S0=0,E0=-1):(v0?v0=re:v0=r[ze>>2]|0,P0=0,S0=0,E0=j[v0]|0);;){O0=r[h>>2]|0;do if((P0|0)==(E0|0)){if(v0=O0+4|0,r[h>>2]=v0,r[O0>>2]=q,S0=S0+1|0,O0=j[qe]|0,P0=(O0&1)==0,P0?O0=(O0&255)>>>1:O0=r[te>>2]|0,!(S0>>>0<O0>>>0)){P0=0;break}if(P0?E0=re:E0=r[ze>>2]|0,(j[E0+S0|0]|0)==127){E0=-1,P0=0;break}P0?E0=re:E0=r[ze>>2]|0,E0=j[E0+S0|0]|0,P0=0}else v0=O0;while(!1);if(o0=o0-4|0,Z0=r[o0>>2]|0,O0=v0+4|0,r[h>>2]=O0,r[v0>>2]=Z0,(o0|0)==(g|0))break;P0=P0+1|0}if((r0|0)==(O0|0)||(o0=O0-4|0,!(o0>>>0>r0>>>0)))break e;do Z0=r[r0>>2]|0,r[r0>>2]=r[o0>>2],r[o0>>2]=Z0,r0=r0+4|0,o0=o0-4|0;while(r0>>>0<o0>>>0);break}case 3:{if(o0=j[ve]|0,r0=(o0&1)==0,r0?o0=(o0&255)>>>1:o0=r[ne>>2]|0,(o0|0)==0)break e;r0?r0=ne:r0=r[oe>>2]|0,O0=r[r0>>2]|0,Z0=r[h>>2]|0,r[h>>2]=Z0+4,r[Z0>>2]=O0;break}case 0:{r[o>>2]=r[h>>2];break}}while(!1);Ge=Ge+1|0}while(Ge>>>0<4);if(w=j[ve]|0,_=(w&1)==0,_?q=(w&255)>>>1:q=r[ne>>2]|0,q>>>0>1){if(_?(w=(w&255)>>>1,_=ne):(Z0=r[oe>>2]|0,w=r[ne>>2]|0,_=Z0,ne=Z0),q=ne+4|0,oe=_+(w<<2)|0,ne=r[h>>2]|0,(q|0)!=(oe|0)){for(w=(_+(w-1<<2)+(-q|0)|0)>>>2,_=ne;r[_>>2]=r[q>>2],q=q+4|0,(q|0)!=(oe|0);)_=_+4|0;ne=ne+(w+1<<2)|0}r[h>>2]=ne}if(m=m&176,(m|0)!=16)if((m|0)==32){r[o>>2]=r[h>>2];return}else{r[o>>2]=n;return}}function C3(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0;re=D,D=D+32|0,ve=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ve>>2],ve=re|0,qe=re+16|0,Be=re+24|0,le=Be,ne=D,D=D+4|0,D=D+7&-8,o=D,D=D+4|0,D=D+7&-8,_=D,D=D+12|0,D=D+7&-8,C=D,D=D+12|0,D=D+7&-8,B=D,D=D+12|0,D=D+7&-8,Te=D,D=D+4|0,D=D+7&-8,Ve=D,D=D+400|0,oe=D,D=D+4|0,D=D+7&-8,pe=D,D=D+4|0,D=D+7&-8,q=D,D=D+4|0,D=D+7&-8,Di(qe,g),te=qe|0,ue=r[te>>2]|0,(r[8714]|0)!=-1&&(r[ve>>2]=34856,r[ve+4>>2]=16,r[ve+8>>2]=0,Vt(34856,ve,114)),ve=(r[8715]|0)-1|0,ge=r[ue+8>>2]|0;do if((r[ue+12>>2]|0)-ge>>2>>>0>ve>>>0){if(ge=r[ge+(ve<<2)>>2]|0,(ge|0)==0)break;ue=ge,ve=y,He=j[ve]|0,ze=(He&1)==0,ze?He=(He&255)>>>1:He=r[y+4>>2]|0,(He|0)==0?ge=0:(ze?ze=y+4|0:ze=r[y+8>>2]|0,He=r[ze>>2]|0,ge=(He|0)==(ni[r[(r[ge>>2]|0)+44>>2]&63](ue,45)|0)),r[Be>>2]=0,V0(_|0,0,12)|0,Be=C,V0(Be|0,0,12)|0,ze=B,V0(ze|0,0,12)|0,Oh(m,ge,qe,le,ne,o,_,C,B,Te),Ve=Ve|0,m=j[ve]|0,He=(m&1)==0,He?qe=(m&255)>>>1:qe=r[y+4>>2]|0,Te=r[Te>>2]|0,(qe|0)>(Te|0)?(He?qe=(m&255)>>>1:qe=r[y+4>>2]|0,ze=j[ze]|0,(ze&1)==0?ze=(ze&255)>>>1:ze=r[B+4>>2]|0,Be=j[Be]|0,(Be&1)==0?Be=(Be&255)>>>1:Be=r[C+4>>2]|0,qe=ze+(qe-Te<<1|1)+Be|0):(qe=j[ze]|0,(qe&1)==0?qe=(qe&255)>>>1:qe=r[B+4>>2]|0,Be=j[Be]|0,(Be&1)==0?Be=(Be&255)>>>1:Be=r[C+4>>2]|0,qe=qe+2+Be|0),qe=qe+Te|0;do if(qe>>>0>100){if(He=ii(qe<<2)|0,qe=He,(He|0)!=0){Ve=qe;break}Pi(),Ve=0,qe=0,m=j[ve]|0}else qe=0;while(!1);if((m&1)==0?(ve=(m&255)>>>1,y=y+4|0):(ve=r[y+4>>2]|0,y=r[y+8>>2]|0),Nh(Ve,oe,pe,r[g+4>>2]|0,y,y+(ve<<2)|0,ue,ge,le,r[ne>>2]|0,r[o>>2]|0,_,C,B,Te),r[q>>2]=r[h>>2],tn(n,q,Ve,r[oe>>2]|0,r[pe>>2]|0,g,w),(qe|0)==0){Gt(B),Gt(C),R0(_),He=r[te>>2]|0,He=He|0,vi(He)|0,D=re;return}Ft(qe),Gt(B),Gt(C),R0(_),He=r[te>>2]|0,He=He|0,vi(He)|0,D=re;return}while(!1);He=qt(4)|0,h0(He),Wt(He|0,25544,156)}function D3(n){n=n|0,$0(n)}function R3(n){}function L3(n,o,h){return o=o|0,h=h|0,(j[o]&1)==0?o=o+1|0:o=r[o+8>>2]|0,h=E1(o|0,1)|0,h>>>(((h|0)!=-1|0)>>>0)|0}function I3(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0;o=D,D=D+16|0,y=o|0,C=y,V0(C|0,0,12)|0,B=j[w]|0,(B&1)==0?(q=(B&255)>>>1,B=w+1|0,w=w+1|0):(te=r[w+8>>2]|0,q=r[w+4>>2]|0,B=te,w=te),w=w+q|0;do if(B>>>0<w>>>0){do so(y,j[B]|0),B=B+1|0;while(B>>>0<w>>>0);if(h=(h|0)==-1?-1:h<<1,(j[C]&1)==0){_=10;break}C=r[y+8>>2]|0}else h=(h|0)==-1?-1:h<<1,_=10;while(!1);if((_|0)==10&&(C=y+1|0),g=zn(h|0,m|0,g|0,C|0)|0,V0(n|0,0,12)|0,te=Er(g|0)|0,m=g+te|0,(te|0)<=0){R0(y),D=o;return}do so(n,j[g]|0),g=g+1|0;while(g>>>0<m>>>0);R0(y),D=o}function P3(n,o){o=o|0,bn(((o|0)==-1?-1:o<<1)|0)|0}function B3(n){n=n|0,$0(n)}function M3(n){}function U3(n,o,h){return o=o|0,h=h|0,(j[o]&1)==0?o=o+1|0:o=r[o+8>>2]|0,h=E1(o|0,1)|0,h>>>(((h|0)!=-1|0)>>>0)|0}function F3(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0;o=D,D=D+240|0,ge=o|0,qe=o+8|0,oe=o+40|0,le=o+48|0,re=o+56|0,te=o+64|0,C=o+192|0,_=o+200|0,B=o+208|0,ne=o+224|0,q=o+232|0,pe=B,V0(pe|0,0,12)|0,r[ne+4>>2]=0,r[ne>>2]=21168,ue=j[w]|0,(ue&1)==0?(ue=(ue&255)>>>1,Ve=w+4|0,w=w+4|0):(Be=r[w+8>>2]|0,ue=r[w+4>>2]|0,Ve=Be,w=Be),ue=w+(ue<<2)|0,w=qe|0,ve=ge,r[ge>>2]=0,r[ge+4>>2]=0;e:do if(Ve>>>0<ue>>>0){for(ge=ne|0,Te=ne,qe=qe+32|0,Be=21168;r[le>>2]=Ve,ze=(An[r[Be+12>>2]&31](ge,ve,Ve,ue,le,w,qe,oe)|0)==2,Be=r[le>>2]|0,!(ze|(Be|0)==(Ve|0));){if(w>>>0<(r[oe>>2]|0)>>>0){Ve=w;do so(B,j[Ve]|0),Ve=Ve+1|0;while(Ve>>>0<(r[oe>>2]|0)>>>0);Ve=r[le>>2]|0}else Ve=Be;if(!(Ve>>>0<ue>>>0))break e;Be=r[Te>>2]|0}w1(8296)}while(!1);if((j[pe]&1)==0?oe=B+1|0:oe=r[B+8>>2]|0,ne=zn(((h|0)==-1?-1:h<<1)|0,m|0,g|0,oe|0)|0,V0(n|0,0,12)|0,r[q+4>>2]=0,r[q>>2]=21112,ze=Er(ne|0)|0,h=ne+ze|0,g=re,r[re>>2]=0,r[re+4>>2]=0,(ze|0)<=0){ze=q|0,R0(B),D=o;return}for(oe=q|0,re=q,m=h,le=te|0,te=te+128|0,pe=21112;r[_>>2]=ne,ze=(An[r[pe+16>>2]&31](oe,g,ne,(m-ne|0)>32?ne+32|0:h,_,le,te,C)|0)==2,pe=r[_>>2]|0,!(ze|(pe|0)==(ne|0));){if(le>>>0<(r[C>>2]|0)>>>0){ne=le;do Hl(n,r[ne>>2]|0),ne=ne+4|0;while(ne>>>0<(r[C>>2]|0)>>>0);ne=r[_>>2]|0}else ne=pe;if(!(ne>>>0<h>>>0)){y=37;break}pe=r[re>>2]|0}if((y|0)==37){ze=q|0,R0(B),D=o;return}w1(8296)}function O3(n,o){o=o|0,bn(((o|0)==-1?-1:o<<1)|0)|0}function zh(n){n=n|0;var o=0,h=0,m=0;r[n>>2]=20632,o=n+8|0,h=r[o>>2]|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;m=Ct(2147483647,14472,0)|0,r[8330]=m}while(!1);if((h|0)==(r[8330]|0)){m=n|0;return}Hs(r[o>>2]|0),m=n|0}function qi(n){n=n|0,n=qt(8)|0,To(n,14768),r[n>>2]=19568,Wt(n|0,25576,40)}function N3(n,o){n=n|0,o=o|0;var h=0,m=0,g=0,w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0;He=D,D=D+448|0,m=He|0,Te=He+16|0,g=He+32|0,y=He+48|0,_=He+64|0,C=He+80|0,B=He+96|0,q=He+112|0,te=He+128|0,re=He+144|0,oe=He+160|0,le=He+176|0,ne=He+192|0,pe=He+208|0,ue=He+224|0,ve=He+240|0,ge=He+256|0,h=He+272|0,Ve=He+288|0,qe=He+304|0,Be=He+320|0,ze=He+336|0,Ye=He+352|0,Ge=He+368|0,r0=He+384|0,o0=He+400|0,v0=He+416|0,w=He+432|0,r[n+4>>2]=o-1,r[n>>2]=20888,E0=n+8|0,o=n+12|0,S0=n+136|0,j[S0]=1,P0=n+24|0,r[o>>2]=P0,r[E0>>2]=P0,r[n+16>>2]=S0,S0=28;do(P0|0)==0?P0=0:(r[P0>>2]=0,P0=r[o>>2]|0),P0=P0+4|0,r[o>>2]=P0,S0=S0-1|0;while((S0|0)!=0);Ks(n+144|0,14472,1),E0=r[E0>>2]|0,S0=r[o>>2]|0,(S0|0)!=(E0|0)&&(r[o>>2]=S0+(~((S0-4+(-E0|0)|0)>>>2)<<2)),r[8387]=0,r[8386]=20592,(r[8636]|0)!=-1&&(r[v0>>2]=34544,r[v0+4>>2]=16,r[v0+8>>2]=0,Vt(34544,v0,114)),nr(n,33544,(r[8637]|0)-1|0),r[8385]=0,r[8384]=20552,(r[8634]|0)!=-1&&(r[o0>>2]=34536,r[o0+4>>2]=16,r[o0+8>>2]=0,Vt(34536,o0,114)),nr(n,33536,(r[8635]|0)-1|0),r[8441]=0,r[8440]=21e3,r[8442]=0,j[33772]=0,P0=vn()|0,r[8442]=r[P0>>2],(r[8716]|0)!=-1&&(r[r0>>2]=34864,r[r0+4>>2]=16,r[r0+8>>2]=0,Vt(34864,r0,114)),nr(n,33760,(r[8717]|0)-1|0),r[8439]=0,r[8438]=20920,(r[8714]|0)!=-1&&(r[Ge>>2]=34856,r[Ge+4>>2]=16,r[Ge+8>>2]=0,Vt(34856,Ge,114)),nr(n,33752,(r[8715]|0)-1|0),r[8393]=0,r[8392]=20688,(r[8640]|0)!=-1&&(r[Ye>>2]=34560,r[Ye+4>>2]=16,r[Ye+8>>2]=0,Vt(34560,Ye,114)),nr(n,33568,(r[8641]|0)-1|0),r[8389]=0,r[8388]=20632;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;P0=Ct(2147483647,14472,0)|0,r[8330]=P0}while(!1);r[8390]=r[8330],(r[8638]|0)!=-1&&(r[ze>>2]=34552,r[ze+4>>2]=16,r[ze+8>>2]=0,Vt(34552,ze,114)),nr(n,33552,(r[8639]|0)-1|0),r[8395]=0,r[8394]=20744,(r[8642]|0)!=-1&&(r[Be>>2]=34568,r[Be+4>>2]=16,r[Be+8>>2]=0,Vt(34568,Be,114)),nr(n,33576,(r[8643]|0)-1|0),r[8397]=0,r[8396]=20800,(r[8644]|0)!=-1&&(r[qe>>2]=34576,r[qe+4>>2]=16,r[qe+8>>2]=0,Vt(34576,qe,114)),nr(n,33584,(r[8645]|0)-1|0),r[8367]=0,r[8366]=20096,j[33472]=46,j[33473]=44,V0(33476,0,12)|0,(r[8620]|0)!=-1&&(r[Ve>>2]=34480,r[Ve+4>>2]=16,r[Ve+8>>2]=0,Vt(34480,Ve,114)),nr(n,33464,(r[8621]|0)-1|0),r[8359]=0,r[8358]=20048,r[8360]=46,r[8361]=44,V0(33448,0,12)|0,(r[8618]|0)!=-1&&(r[h>>2]=34472,r[h+4>>2]=16,r[h+8>>2]=0,Vt(34472,h,114)),nr(n,33432,(r[8619]|0)-1|0),r[8383]=0,r[8382]=20480,(r[8632]|0)!=-1&&(r[ge>>2]=34528,r[ge+4>>2]=16,r[ge+8>>2]=0,Vt(34528,ge,114)),nr(n,33528,(r[8633]|0)-1|0),r[8381]=0,r[8380]=20408,(r[8630]|0)!=-1&&(r[ve>>2]=34520,r[ve+4>>2]=16,r[ve+8>>2]=0,Vt(34520,ve,114)),nr(n,33520,(r[8631]|0)-1|0),r[8379]=0,r[8378]=20344,(r[8628]|0)!=-1&&(r[ue>>2]=34512,r[ue+4>>2]=16,r[ue+8>>2]=0,Vt(34512,ue,114)),nr(n,33512,(r[8629]|0)-1|0),r[8377]=0,r[8376]=20280,(r[8626]|0)!=-1&&(r[pe>>2]=34504,r[pe+4>>2]=16,r[pe+8>>2]=0,Vt(34504,pe,114)),nr(n,33504,(r[8627]|0)-1|0),r[8451]=0,r[8450]=21928,(r[8836]|0)!=-1&&(r[ne>>2]=35344,r[ne+4>>2]=16,r[ne+8>>2]=0,Vt(35344,ne,114)),nr(n,33800,(r[8837]|0)-1|0),r[8449]=0,r[8448]=21864,(r[8834]|0)!=-1&&(r[le>>2]=35336,r[le+4>>2]=16,r[le+8>>2]=0,Vt(35336,le,114)),nr(n,33792,(r[8835]|0)-1|0),r[8447]=0,r[8446]=21800,(r[8832]|0)!=-1&&(r[oe>>2]=35328,r[oe+4>>2]=16,r[oe+8>>2]=0,Vt(35328,oe,114)),nr(n,33784,(r[8833]|0)-1|0),r[8445]=0,r[8444]=21736,(r[8830]|0)!=-1&&(r[re>>2]=35320,r[re+4>>2]=16,r[re+8>>2]=0,Vt(35320,re,114)),nr(n,33776,(r[8831]|0)-1|0),r[8341]=0,r[8340]=19752,(r[8608]|0)!=-1&&(r[te>>2]=34432,r[te+4>>2]=16,r[te+8>>2]=0,Vt(34432,te,114)),nr(n,33360,(r[8609]|0)-1|0),r[8339]=0,r[8338]=19712,(r[8606]|0)!=-1&&(r[q>>2]=34424,r[q+4>>2]=16,r[q+8>>2]=0,Vt(34424,q,114)),nr(n,33352,(r[8607]|0)-1|0),r[8337]=0,r[8336]=19672,(r[8604]|0)!=-1&&(r[B>>2]=34416,r[B+4>>2]=16,r[B+8>>2]=0,Vt(34416,B,114)),nr(n,33344,(r[8605]|0)-1|0),r[8335]=0,r[8334]=19632,(r[8602]|0)!=-1&&(r[C>>2]=34408,r[C+4>>2]=16,r[C+8>>2]=0,Vt(34408,C,114)),nr(n,33336,(r[8603]|0)-1|0),r[8355]=0,r[8354]=19952,r[8356]=2e4,(r[8616]|0)!=-1&&(r[_>>2]=34464,r[_+4>>2]=16,r[_+8>>2]=0,Vt(34464,_,114)),nr(n,33416,(r[8617]|0)-1|0),r[8351]=0,r[8350]=19856,r[8352]=19904,(r[8614]|0)!=-1&&(r[y>>2]=34456,r[y+4>>2]=16,r[y+8>>2]=0,Vt(34456,y,114)),nr(n,33400,(r[8615]|0)-1|0),r[8347]=0,r[8346]=20856;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;P0=Ct(2147483647,14472,0)|0,r[8330]=P0}while(!1);r[8348]=r[8330],r[8346]=19824,(r[8612]|0)!=-1&&(r[g>>2]=34448,r[g+4>>2]=16,r[g+8>>2]=0,Vt(34448,g,114)),nr(n,33384,(r[8613]|0)-1|0),r[8343]=0,r[8342]=20856;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;P0=Ct(2147483647,14472,0)|0,r[8330]=P0}while(!1);r[8344]=r[8330],r[8342]=19792,(r[8610]|0)!=-1&&(r[Te>>2]=34440,r[Te+4>>2]=16,r[Te+8>>2]=0,Vt(34440,Te,114)),nr(n,33368,(r[8611]|0)-1|0),r[8375]=0,r[8374]=20184,(r[8624]|0)!=-1&&(r[m>>2]=34496,r[m+4>>2]=16,r[m+8>>2]=0,Vt(34496,m,114)),nr(n,33496,(r[8625]|0)-1|0),r[8373]=0,r[8372]=20144,(r[8622]|0)!=-1&&(r[w>>2]=34488,r[w+4>>2]=16,r[w+8>>2]=0,Vt(34488,w,114)),nr(n,33488,(r[8623]|0)-1|0),D=He}function nr(n,o,h){n=n|0,o=o|0,h=h|0;var m=0,g=0,w=0,y=0,_=0,C=0;$s(o|0),g=n+8|0,m=n+12|0,w=r[m>>2]|0,n=g|0,y=r[n>>2]|0,_=w-y>>2;do if(!(_>>>0>h>>>0)){if(C=h+1|0,_>>>0<C>>>0){ke(g,C-_|0),y=r[n>>2]|0;break}if(!(_>>>0>C>>>0)||(g=y+(C<<2)|0,(w|0)==(g|0)))break;r[m>>2]=w+(~((w-4+(-g|0)|0)>>>2)<<2)}while(!1);if(m=r[y+(h<<2)>>2]|0,(m|0)==0){C=y,C=C+(h<<2)|0,r[C>>2]=o;return}vi(m|0)|0,C=r[n>>2]|0,C=C+(h<<2)|0,r[C>>2]=o}function z3(n){n=n|0,Gh(n),$0(n)}function Gh(n){n=n|0;var o=0,h=0,m=0,g=0,w=0,y=0;if(r[n>>2]=20888,o=n+12|0,w=r[o>>2]|0,h=n+8|0,g=r[h>>2]|0,(w|0)!=(g|0)){m=0;do y=r[g+(m<<2)>>2]|0,(y|0)!=0&&(vi(y|0)|0,w=r[o>>2]|0,g=r[h>>2]|0),m=m+1|0;while(m>>>0<w-g>>2>>>0)}if(R0(n+144|0),h=r[h>>2]|0,(h|0)==0){y=n|0;return}if(m=r[o>>2]|0,(m|0)!=(h|0)&&(r[o>>2]=m+(~((m-4+(-h|0)|0)>>>2)<<2)),(n+24|0)==(h|0)){j[n+136|0]=0,y=n|0;return}else{$0(h),y=n|0;return}}function G3(){var n=0;if((j[51792]|0)!=0||(ei(51792)|0)==0)return n=r[8322]|0,n|0;do if((j[51800]|0)==0){if((ei(51800)|0)==0)break;N3(33592,1),r[8326]=33592,r[8324]=33304}while(!1);return n=r[r[8324]>>2]|0,r[8328]=n,$s(n|0),r[8322]=33312,n=r[8322]|0,n|0}function Fn(n){n=n|0;var o=0;o=G3()|0,o=r[o>>2]|0,r[n>>2]=o,$s(o|0)}function On(n,o){n=n|0,o=o|0,o=r[o>>2]|0,r[n>>2]=o,$s(o|0)}function yr(n){n=n|0,vi(r[n>>2]|0)|0}function Zs(n,o){n=n|0,o=o|0;var h=0,m=0,g=0;if(h=D,D=D+16|0,m=h|0,n=r[n>>2]|0,g=o|0,(r[g>>2]|0)!=-1&&(r[m>>2]=o,r[m+4>>2]=16,r[m+8>>2]=0,Vt(g,m,114)),m=(r[o+4>>2]|0)-1|0,o=r[n+8>>2]|0,(r[n+12>>2]|0)-o>>2>>>0>m>>>0||(g=qt(4)|0,m=g,h0(m),Wt(g|0,25544,156)),n=r[o+(m<<2)>>2]|0,(n|0)==0)g=qt(4)|0,m=g,h0(m),Wt(g|0,25544,156);else return D=h,n|0;return 0}function H3(n){n=n|0,$0(n)}function V3(n){n=n|0,(n|0)!=0&&Rr[r[(r[n>>2]|0)+4>>2]&511](n)}function W3(n){n=n|0,r[n+4>>2]=(Ti=r[8646]|0,r[8646]=Ti+1,Ti+1)}function j3(n){n=n|0,$0(n)}function $3(n,o,h){return n=n|0,o=o|0,h=h|0,h>>>0<128?(n=vn()|0,n=(be[(r[n>>2]|0)+(h<<1)>>1]&o)<<16>>16!=0,n|0):(n=0,n|0)}function K3(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0;if((o|0)==(h|0))return n=o,n|0;for(;n=r[o>>2]|0,n>>>0<128?(g=vn()|0,n=be[(r[g>>2]|0)+(n<<1)>>1]|0):n=0,be[m>>1]=n,o=o+4|0,(o|0)!=(h|0);)m=m+2|0;return h|0}function q3(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0;if((h|0)==(m|0))return n=h,n|0;for(;;){if(n=r[h>>2]|0,n>>>0<128&&(g=vn()|0,(be[(r[g>>2]|0)+(n<<1)>>1]&o)<<16>>16!=0)){m=h,o=7;break}if(h=h+4|0,(h|0)==(m|0)){o=7;break}}return(o|0)==7?m|0:0}function Y3(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0;if((h|0)==(m|0))return g=h,g|0;for(;;){if(n=r[h>>2]|0,!(n>>>0<128)){m=h,o=7;break}if(w=vn()|0,g=h+4|0,(be[(r[w>>2]|0)+(n<<1)>>1]&o)<<16>>16==0){m=h,o=7;break}if((g|0)==(m|0)){o=7;break}else h=g}return(o|0)==7?m|0:0}function J3(n,o){return n=n|0,o=o|0,o>>>0<128?(n=Xr()|0,n=r[(r[n>>2]|0)+(o<<2)>>2]|0,n|0):(n=o,n|0)}function Q3(n,o,h){n=n|0,o=o|0,h=h|0;var m=0;if((o|0)==(h|0))return n=o,n|0;do n=r[o>>2]|0,n>>>0<128&&(m=Xr()|0,n=r[(r[m>>2]|0)+(n<<2)>>2]|0),r[o>>2]=n,o=o+4|0;while((o|0)!=(h|0));return h|0}function X3(n,o){return n=n|0,o=o|0,o>>>0<128?(n=Wn()|0,n=r[(r[n>>2]|0)+(o<<2)>>2]|0,n|0):(n=o,n|0)}function Z3(n,o,h){n=n|0,o=o|0,h=h|0;var m=0;if((o|0)==(h|0))return n=o,n|0;do n=r[o>>2]|0,n>>>0<128&&(m=Wn()|0,n=r[(r[m>>2]|0)+(n<<2)>>2]|0),r[o>>2]=n,o=o+4|0;while((o|0)!=(h|0));return h|0}function em(n,o){return o=o|0,o<<24>>24|0}function tm(n,o,h,m){if(n=n|0,o=o|0,h=h|0,m=m|0,(o|0)==(h|0))return n=o,n|0;for(;r[m>>2]=j[o]|0,o=o+1|0,(o|0)!=(h|0);)m=m+4|0;return h|0}function im(n,o,h){return o=o|0,h=h|0,(o>>>0<128?o&255:h)|0}function rm(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0;if((o|0)==(h|0))return y=o,y|0;for(n=((h-4+(-o|0)|0)>>>2)+1|0,w=o;y=r[w>>2]|0,j[g]=y>>>0<128?y&255:m,w=w+4|0,(w|0)!=(h|0);)g=g+1|0;return y=o+(n<<2)|0,y|0}function sm(n){n=n|0;var o=0;r[n>>2]=21e3,o=r[n+8>>2]|0;do if((o|0)!=0){if((j[n+12|0]|0)==0)break;Xi(o)}while(!1);$0(n)}function nm(n){n=n|0;var o=0;r[n>>2]=21e3,o=r[n+8>>2]|0;do if((o|0)!=0){if((j[n+12|0]|0)==0)break;Xi(o)}while(!1)}function am(n,o){return n=n|0,o=o|0,o<<24>>24>-1?(n=Xr()|0,n=r[(r[n>>2]|0)+((o&255)<<2)>>2]&255,n|0):(n=o,n|0)}function om(n,o,h){n=n|0,o=o|0,h=h|0;var m=0;if((o|0)==(h|0))return n=o,n|0;do n=j[o]|0,n<<24>>24>-1&&(m=Xr()|0,n=r[(r[m>>2]|0)+(n<<24>>24<<2)>>2]&255),j[o]=n,o=o+1|0;while((o|0)!=(h|0));return h|0}function lm(n,o){return n=n|0,o=o|0,o<<24>>24>-1?(n=Wn()|0,n=r[(r[n>>2]|0)+(o<<24>>24<<2)>>2]&255,n|0):(n=o,n|0)}function um(n,o,h){n=n|0,o=o|0,h=h|0;var m=0;if((o|0)==(h|0))return n=o,n|0;do n=j[o]|0,n<<24>>24>-1&&(m=Wn()|0,n=r[(r[m>>2]|0)+(n<<24>>24<<2)>>2]&255),j[o]=n,o=o+1|0;while((o|0)!=(h|0));return h|0}function cm(n,o){return o=o|0,o|0}function hm(n,o,h,m){if(n=n|0,o=o|0,h=h|0,m=m|0,(o|0)==(h|0))return n=o,n|0;for(;j[m]=j[o]|0,o=o+1|0,(o|0)!=(h|0);)m=m+1|0;return h|0}function dm(n,o,h){return o=o|0,h=h|0,(o<<24>>24>-1?o:h)|0}function fm(n,o,h,m,g){if(n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,(o|0)==(h|0))return n=o,n|0;for(;n=j[o]|0,j[g]=n<<24>>24>-1?n:m,o=o+1|0,(o|0)!=(h|0);)g=g+1|0;return h|0}function pm(n){n=n|0,$0(n)}function mm(n,o,h,m,g,w,y,_){return h=h|0,g=g|0,w=w|0,_=_|0,r[g>>2]=h,r[_>>2]=w,3}function gm(n,o,h,m,g,w,y,_){return h=h|0,g=g|0,w=w|0,_=_|0,r[g>>2]=h,r[_>>2]=w,3}function ym(n,o,h,m,g){return h=h|0,g=g|0,r[g>>2]=h,3}function Am(n){return 1}function vm(n){return 1}function wm(n,o,h,m,g){return h=h|0,m=m|0,g=g|0,h=m-h|0,(h>>>0<g>>>0?h:g)|0}function _m(n){return 1}function bm(n){n=n|0,zh(n),$0(n)}function km(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0;C=D,D=D+8|0,q=C|0,B=q,oe=D,D=D+4|0,D=D+7&-8,te=(h|0)==(m|0);e:do if(te)r[_>>2]=w,r[g>>2]=h;else{for(le=h;re=le+4|0,(r[le>>2]|0)!=0;)if((re|0)==(m|0)){le=m;break}else le=re;if(r[_>>2]=w,r[g>>2]=h,te|(w|0)==(y|0))break;for(te=o,re=y,n=n+8|0,oe=oe|0;;){if(ne=r[te+4>>2]|0,r[q>>2]=r[te>>2],r[q+4>>2]=ne,ne=Ki(r[n>>2]|0)|0,pe=e0(w,g,le-h>>2,re-w|0,o)|0,(ne|0)!=0&&Ki(ne|0)|0,(pe|0)==-1){o=16;break}else if((pe|0)==0){g=1,o=51;break}if(w=(r[_>>2]|0)+pe|0,r[_>>2]=w,(w|0)==(y|0)){o=49;break}if((le|0)==(m|0))le=m,h=r[g>>2]|0;else{if(w=Ki(r[n>>2]|0)|0,h=i0(oe,0,o)|0,(w|0)!=0&&Ki(w|0)|0,(h|0)==-1){g=2,o=51;break}if(le=r[_>>2]|0,h>>>0>(re-le|0)>>>0){g=1,o=51;break}t:do if((h|0)!=0)for(w=oe;;){if(pe=j[w]|0,r[_>>2]=le+1,j[le]=pe,h=h-1|0,(h|0)==0)break t;w=w+1|0,le=r[_>>2]|0}while(!1);h=(r[g>>2]|0)+4|0,r[g>>2]=h;t:do if((h|0)==(m|0))le=m;else for(le=h;;){if(w=le+4|0,(r[le>>2]|0)==0)break t;if((w|0)==(m|0)){le=m;break}else le=w}while(!1);w=r[_>>2]|0}if((h|0)==(m|0)|(w|0)==(y|0))break e}if((o|0)==16){r[_>>2]=w;t:do if((h|0)!=(r[g>>2]|0))do{if(o=r[h>>2]|0,m=Ki(r[n>>2]|0)|0,o=i0(w,o,B)|0,(m|0)!=0&&Ki(m|0)|0,(o|0)==-1)break t;w=(r[_>>2]|0)+o|0,r[_>>2]=w,h=h+4|0}while((h|0)!=(r[g>>2]|0));while(!1);return r[g>>2]=h,pe=2,D=C,pe|0}else if((o|0)==49){h=r[g>>2]|0;break}else if((o|0)==51)return D=C,g|0}while(!1);return pe=(h|0)!=(m|0)|0,D=C,pe|0}function Sm(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0;C=D,D=D+8|0,q=C|0,B=q,te=(h|0)==(m|0);e:do if(te)r[_>>2]=w,r[g>>2]=h;else{for(le=h;re=le+1|0,(j[le]|0)!=0;)if((re|0)==(m|0)){le=m;break}else le=re;if(r[_>>2]=w,r[g>>2]=h,te|(w|0)==(y|0))break;for(re=o,te=y,n=n+8|0;;){if(oe=r[re+4>>2]|0,r[q>>2]=r[re>>2],r[q+4>>2]=oe,oe=le,pe=Ki(r[n>>2]|0)|0,ne=t0(w,g,oe-h|0,te-w>>2,o)|0,(pe|0)!=0&&Ki(pe|0)|0,(ne|0)==-1){q=16;break}else if((ne|0)==0){m=2,q=50;break}if(w=(r[_>>2]|0)+(ne<<2)|0,r[_>>2]=w,(w|0)==(y|0)){q=48;break}if(h=r[g>>2]|0,(le|0)==(m|0))le=m;else{if(oe=Ki(r[n>>2]|0)|0,w=Ke(w,h,1,o)|0,(oe|0)!=0&&Ki(oe|0)|0,(w|0)!=0){m=2,q=50;break}r[_>>2]=(r[_>>2]|0)+4,h=(r[g>>2]|0)+1|0,r[g>>2]=h;t:do if((h|0)==(m|0))le=m;else for(le=h;;){if(oe=le+1|0,(j[le]|0)==0)break t;if((oe|0)==(m|0)){le=m;break}else le=oe}while(!1);w=r[_>>2]|0}if((h|0)==(m|0)|(w|0)==(y|0))break e}if((q|0)==16){r[_>>2]=w;t:do if((h|0)!=(r[g>>2]|0)){for(;;){if(q=Ki(r[n>>2]|0)|0,y=Ke(w,h,oe-h|0,B)|0,(q|0)!=0&&Ki(q|0)|0,(y|0)==0)h=h+1|0;else if((y|0)==-1){q=27;break}else if((y|0)==-2){q=28;break}else h=h+y|0;if(w=(r[_>>2]|0)+4|0,r[_>>2]=w,(h|0)==(r[g>>2]|0))break t}if((q|0)==27)return r[g>>2]=h,pe=2,D=C,pe|0;if((q|0)==28)return r[g>>2]=h,pe=1,D=C,pe|0}while(!1);return r[g>>2]=h,pe=(h|0)!=(m|0)|0,D=C,pe|0}else if((q|0)==48){h=r[g>>2]|0;break}else if((q|0)==50)return D=C,m|0}while(!1);return pe=(h|0)!=(m|0)|0,D=C,pe|0}function Em(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0;if(w=D,D=D+8|0,r[g>>2]=h,h=w|0,n=Ki(r[n+8>>2]|0)|0,o=i0(h,0,o)|0,(n|0)!=0&&Ki(n|0)|0,(o|0)==-1|(o|0)==0)return n=2,D=w,n|0;if(n=o-1|0,o=r[g>>2]|0,n>>>0>(m-o|0)>>>0)return n=1,D=w,n|0;if((n|0)==0)return n=0,D=w,n|0;for(m=n;;){if(n=j[h]|0,r[g>>2]=o+1,j[o]=n,m=m-1|0,(m|0)==0){g=0;break}h=h+1|0,o=r[g>>2]|0}return D=w,g|0}function Tm(n){n=n|0;var o=0,h=0;return n=n+8|0,h=Ki(r[n>>2]|0)|0,o=Ze(0,0,4)|0,(h|0)!=0&&Ki(h|0)|0,(o|0)!=0?(h=-1,h|0):(n=r[n>>2]|0,(n|0)==0?(h=1,h|0):(n=Ki(n|0)|0,(n|0)==0?(h=0,h|0):(Ki(n|0)|0,h=0,h|0)))}function xm(n){return 0}function Cm(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0;if((g|0)==0|(h|0)==(m|0))return B=0,B|0;for(w=m,n=n+8|0,_=0,y=0;;){if(B=Ki(r[n>>2]|0)|0,C=Ue(h,w-h|0,o)|0,(B|0)!=0&&Ki(B|0)|0,(C|0)==0)B=1,h=h+1|0;else if((C|0)==-1|(C|0)==-2){g=15;break}else B=C,h=h+C|0;if(_=B+_|0,y=y+1|0,y>>>0>=g>>>0|(h|0)==(m|0)){g=15;break}}return(g|0)==15?_|0:0}function Dm(n){return n=n|0,n=r[n+8>>2]|0,(n|0)==0?(n=1,n|0):(n=Ki(n|0)|0,(n|0)==0?(n=4,n|0):(Ki(n|0)|0,n=4,n|0))}function Rm(n){n=n|0,$0(n)}function Lm(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0;return n=D,D=D+16|0,B=n|0,C=n+8|0,r[B>>2]=h,r[C>>2]=w,o=Im(h,m,B,w,y,C,1114111,0)|0,r[g>>2]=h+((r[B>>2]|0)-h>>1<<1),r[_>>2]=w+((r[C>>2]|0)-w),D=n,o|0}function Im(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0;r[h>>2]=n,r[w>>2]=m;do if((_&2|0)!=0){if((g-m|0)<3)return B=1,B|0;r[w>>2]=m+1,j[m]=-17,B=r[w>>2]|0,r[w>>2]=B+1,j[B]=-69,B=r[w>>2]|0,r[w>>2]=B+1,j[B]=-65;break}while(!1);if(m=o,C=r[h>>2]|0,!(C>>>0<o>>>0))return B=0,B|0;e:for(;;){if(n=be[C>>1]|0,_=n&65535,_>>>0>y>>>0){o=2,y=26;break}do if((n&65535)>>>0<128){if(_=r[w>>2]|0,(g-_|0)<1){o=1,y=26;break e}r[w>>2]=_+1,j[_]=n}else{if((n&65535)>>>0<2048){if(n=r[w>>2]|0,(g-n|0)<2){o=1,y=26;break e}r[w>>2]=n+1,j[n]=_>>>6|192,B=r[w>>2]|0,r[w>>2]=B+1,j[B]=_&63|128;break}if((n&65535)>>>0<55296){if(n=r[w>>2]|0,(g-n|0)<3){o=1,y=26;break e}r[w>>2]=n+1,j[n]=_>>>12|224,B=r[w>>2]|0,r[w>>2]=B+1,j[B]=_>>>6&63|128,B=r[w>>2]|0,r[w>>2]=B+1,j[B]=_&63|128;break}if(!((n&65535)>>>0<56320)){if((n&65535)>>>0<57344){o=2,y=26;break e}if(n=r[w>>2]|0,(g-n|0)<3){o=1,y=26;break e}r[w>>2]=n+1,j[n]=_>>>12|224,B=r[w>>2]|0,r[w>>2]=B+1,j[B]=_>>>6&63|128,B=r[w>>2]|0,r[w>>2]=B+1,j[B]=_&63|128;break}if((m-C|0)<4){o=1,y=26;break e}if(n=C+2|0,B=f0[n>>1]|0,(B&64512|0)!=56320){o=2,y=26;break e}if((g-(r[w>>2]|0)|0)<4){o=1,y=26;break e}if(C=_&960,((C<<10)+65536|_<<10&64512|B&1023)>>>0>y>>>0){o=2,y=26;break e}r[h>>2]=n,n=(C>>>6)+1|0,C=r[w>>2]|0,r[w>>2]=C+1,j[C]=n>>>2|240,C=r[w>>2]|0,r[w>>2]=C+1,j[C]=_>>>2&15|n<<4&48|128,C=r[w>>2]|0,r[w>>2]=C+1,j[C]=_<<4&48|B>>>6&15|128,C=r[w>>2]|0,r[w>>2]=C+1,j[C]=B&63|128}while(!1);if(C=(r[h>>2]|0)+2|0,r[h>>2]=C,!(C>>>0<o>>>0)){o=0,y=26;break}}return(y|0)==26?o|0:0}function Pm(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0;return n=D,D=D+16|0,B=n|0,C=n+8|0,r[B>>2]=h,r[C>>2]=w,o=Bm(h,m,B,w,y,C,1114111,0)|0,r[g>>2]=h+((r[B>>2]|0)-h),r[_>>2]=w+((r[C>>2]|0)-w>>1<<1),D=n,o|0}function Bm(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0,q=0,te=0,re=0;r[h>>2]=n,r[w>>2]=m,B=r[h>>2]|0;do if((_&4|0)!=0){if((o-B|0)<=2||(j[B]|0)!=-17||(j[B+1|0]|0)!=-69||(j[B+2|0]|0)!=-65)break;B=B+3|0,r[h>>2]=B}while(!1);e:do if(B>>>0<o>>>0){n=o,_=g,m=r[w>>2]|0;t:for(;;){if(!(m>>>0<g>>>0))break e;if(q=j[B]|0,C=q&255,C>>>0>y>>>0){o=2,y=41;break}do if(q<<24>>24>-1)be[m>>1]=q&255,r[h>>2]=B+1;else{if((q&255)>>>0<194){o=2,y=41;break t}if((q&255)>>>0<224){if((n-B|0)<2){o=1,y=41;break t}if(q=We[B+1|0]|0,(q&192|0)!=128){o=2,y=41;break t}if(C=q&63|C<<6&1984,C>>>0>y>>>0){o=2,y=41;break t}be[m>>1]=C,r[h>>2]=B+2;break}if((q&255)>>>0<240){if((n-B|0)<3){o=1,y=41;break t}if(q=j[B+1|0]|0,te=j[B+2|0]|0,(C|0)==224){if((q&-32)<<24>>24!=-96){o=2,y=41;break t}}else if((C|0)==237){if((q&-32)<<24>>24!=-128){o=2,y=41;break t}}else if((q&-64)<<24>>24!=-128){o=2,y=41;break t}if(te=te&255,(te&192|0)!=128){o=2,y=41;break t}if(C=(q&255)<<6&4032|C<<12|te&63,(C&65535)>>>0>y>>>0){o=2,y=41;break t}be[m>>1]=C,r[h>>2]=B+3;break}if(!((q&255)>>>0<245)){o=2,y=41;break t}if((n-B|0)<4){o=1,y=41;break t}if(q=j[B+1|0]|0,te=j[B+2|0]|0,re=j[B+3|0]|0,(C|0)==240){if(!((q+112&255)>>>0<48)){o=2,y=41;break t}}else if((C|0)==244){if((q&-16)<<24>>24!=-128){o=2,y=41;break t}}else if((q&-64)<<24>>24!=-128){o=2,y=41;break t}if(B=te&255,(B&192|0)!=128){o=2,y=41;break t}if(te=re&255,(te&192|0)!=128){o=2,y=41;break t}if((_-m|0)<4){o=1,y=41;break t}if(C=C&7,re=q&255,q=B<<6,te=te&63,(re<<12&258048|C<<18|q&4032|te)>>>0>y>>>0){o=2,y=41;break t}be[m>>1]=re<<2&60|B>>>4&3|((re>>>4&3|C<<2)<<6)+16320|55296,re=m+2|0,r[w>>2]=re,be[re>>1]=te|q&960|56320,r[h>>2]=(r[h>>2]|0)+4}while(!1);if(m=(r[w>>2]|0)+2|0,r[w>>2]=m,B=r[h>>2]|0,!(B>>>0<o>>>0))break e}if((y|0)==41)return o|0}while(!1);return re=B>>>0<o>>>0|0,re|0}function Mm(n,o,h,m,g){return h=h|0,g=g|0,r[g>>2]=h,3}function Um(n){return 0}function Fm(n){return 0}function Om(n,o,h,m,g){return h=h|0,m=m|0,g=g|0,Nm(h,m,g,1114111,0)|0}function Nm(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0;do if((g&4|0)==0)y=n;else{if((o-n|0)<=2){y=n;break}if((j[n]|0)!=-17){y=n;break}if((j[n+1|0]|0)!=-69){y=n;break}y=(j[n+2|0]|0)==-65?n+3|0:n}while(!1);e:do if(y>>>0<o>>>0&(h|0)!=0){g=o,w=0;t:for(;;){if(C=j[y]|0,_=C&255,_>>>0>m>>>0)break e;do if(C<<24>>24>-1)y=y+1|0;else{if((C&255)>>>0<194)break e;if((C&255)>>>0<224){if((g-y|0)<2||(C=We[y+1|0]|0,(C&192|0)!=128)||(C&63|_<<6&1984)>>>0>m>>>0)break e;y=y+2|0;break}if((C&255)>>>0<240){if(B=y,(g-B|0)<3)break e;if(C=j[y+1|0]|0,q=j[y+2|0]|0,(_|0)==237){if((C&-32)<<24>>24!=-128){m=23;break t}}else if((_|0)==224){if((C&-32)<<24>>24!=-96){m=21;break t}}else if((C&-64)<<24>>24!=-128){m=25;break t}if(B=q&255,(B&192|0)!=128||((C&255)<<6&4032|_<<12&61440|B&63)>>>0>m>>>0)break e;y=y+3|0;break}if(!((C&255)>>>0<245)||(q=y,(g-q|0)<4)||(h-w|0)>>>0<2)break e;if(C=j[y+1|0]|0,te=j[y+2|0]|0,B=j[y+3|0]|0,(_|0)==240){if(!((C+112&255)>>>0<48)){m=34;break t}}else if((_|0)==244){if((C&-16)<<24>>24!=-128){m=36;break t}}else if((C&-64)<<24>>24!=-128){m=38;break t}if(q=te&255,(q&192|0)!=128||(B=B&255,(B&192|0)!=128)||((C&255)<<12&258048|_<<18&1835008|q<<6&4032|B&63)>>>0>m>>>0)break e;y=y+4|0,w=w+1|0}while(!1);if(w=w+1|0,!(y>>>0<o>>>0&w>>>0<h>>>0))break e}if((m|0)==21)return te=B-n|0,te|0;if((m|0)==23)return te=B-n|0,te|0;if((m|0)==25)return te=B-n|0,te|0;if((m|0)==34)return te=q-n|0,te|0;if((m|0)==36)return te=q-n|0,te|0;if((m|0)==38)return te=q-n|0,te|0}while(!1);return te=y-n|0,te|0}function zm(n){return 4}function Gm(n){n=n|0,$0(n)}function Hm(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0;return n=D,D=D+16|0,B=n|0,C=n+8|0,r[B>>2]=h,r[C>>2]=w,o=Iu(h,m,B,w,y,C,1114111,0)|0,r[g>>2]=h+((r[B>>2]|0)-h>>2<<2),r[_>>2]=w+((r[C>>2]|0)-w),D=n,o|0}function Vc(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0;w=D,D=D+40|0,y=w|0,C=w+16|0,_=w+32|0,Di(_,o),o=_|0,_=r[o>>2]|0,(r[8714]|0)!=-1&&(r[C>>2]=34856,r[C+4>>2]=16,r[C+8>>2]=0,Vt(34856,C,114)),C=(r[8715]|0)-1|0,B=r[_+8>>2]|0;do if((r[_+12>>2]|0)-B>>2>>>0>C>>>0){if(_=r[B+(C<<2)>>2]|0,(_|0)==0)break;Lr[r[(r[_>>2]|0)+48>>2]&15](_,27208,27240,h)|0,h=r[o>>2]|0,(r[8618]|0)!=-1&&(r[y>>2]=34472,r[y+4>>2]=16,r[y+8>>2]=0,Vt(34472,y,114)),y=(r[8619]|0)-1|0,_=r[h+8>>2]|0;do if((r[h+12>>2]|0)-_>>2>>>0>y>>>0){if(y=r[_+(y<<2)>>2]|0,(y|0)==0)break;B=y,C=y,_=_0[r[(r[C>>2]|0)+12>>2]&255](B)|0,r[m>>2]=_,C=_0[r[(r[C>>2]|0)+16>>2]&255](B)|0,r[g>>2]=C,si[r[(r[y>>2]|0)+20>>2]&127](n,B),vi(r[o>>2]|0)|0,D=w;return}while(!1);B=qt(4)|0,h0(B),Wt(B|0,25544,156)}while(!1);B=qt(4)|0,h0(B),Wt(B|0,25544,156)}function Wc(n,o,h,m,g,w,y,_,C,B,q,te){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0,B=B|0,q=q|0,te=te|0;var re=0;if((n|0)==(w|0))return(j[o]|0)==0?(re=-1,re|0):(j[o]=0,re=r[g>>2]|0,r[g>>2]=re+1,j[re]=46,g=j[_]|0,(g&1)==0?g=(g&255)>>>1:g=r[_+4>>2]|0,(g|0)==0||(g=r[B>>2]|0,(g-C|0)>=160)?(re=0,re|0):(re=r[q>>2]|0,r[B>>2]=g+4,r[g>>2]=re,re=0,re|0));do if((n|0)==(y|0)){if(w=j[_]|0,(w&1)==0?w=(w&255)>>>1:w=r[_+4>>2]|0,(w|0)==0)break;return(j[o]|0)==0?(re=-1,re|0):(g=r[B>>2]|0,(g-C|0)>=160?(re=0,re|0):(re=r[q>>2]|0,r[B>>2]=g+4,r[g>>2]=re,r[q>>2]=0,re=0,re|0))}while(!1);for(y=te+128|0,re=te;;){if(w=re+4|0,(r[re>>2]|0)==(n|0)){y=re;break}if((w|0)==(y|0))break;re=w}if(n=y-te|0,w=n>>2,(n|0)>124)return re=-1,re|0;te=j[27208+w|0]|0;do if((w|0)==25|(w|0)==24){q=r[g>>2]|0;do if((q|0)!=(m|0)){if((j[q-1|0]&95|0)==(j[h]&127|0))break;return q=-1,q|0}while(!1);return r[g>>2]=q+1,j[q]=te,re=0,re|0}else if((w|0)==22|(w|0)==23)j[h]=80;else{if(m=j[h]|0,(te&95|0)!=(m<<24>>24|0)||(j[h]=m|-128,(j[o]|0)==0)||(j[o]=0,h=j[_]|0,(h&1)==0?_=(h&255)>>>1:_=r[_+4>>2]|0,(_|0)==0)||(_=r[B>>2]|0,(_-C|0)>=160))break;re=r[q>>2]|0,r[B>>2]=_+4,r[_>>2]=re}while(!1);return re=r[g>>2]|0,r[g>>2]=re+1,j[re]=te,(n|0)>84?(re=0,re|0):(r[q>>2]=(r[q>>2]|0)+1,re=0,re|0)}function Vm(n){n=n|0,$0(n)}function Wm(n){}function jm(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0;if(y=D,D=D+48|0,C=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[C>>2],C=y|0,B=y+16|0,q=y+24|0,_=y+32|0,(r[m+4>>2]&1|0)==0){re=r[(r[o>>2]|0)+24>>2]|0,r[B>>2]=r[h>>2],as[re&63](n,o,B,m,g,w&1),D=y;return}Di(q,m),m=q|0,o=r[m>>2]|0,(r[8620]|0)!=-1&&(r[C>>2]=34480,r[C+4>>2]=16,r[C+8>>2]=0,Vt(34480,C,114)),C=(r[8621]|0)-1|0,B=r[o+8>>2]|0;do if((r[o+12>>2]|0)-B>>2>>>0>C>>>0){if(o=r[B+(C<<2)>>2]|0,(o|0)==0)break;for(C=o,vi(r[m>>2]|0)|0,m=r[o>>2]|0,w?si[r[m+24>>2]&127](_,C):si[r[m+28>>2]&127](_,C),m=_,g=j[m]|0,(g&1)==0?(C=_+1|0,B=C,w=_+8|0):(w=_+8|0,B=r[w>>2]|0,C=_+1|0),o=h|0,h=_+4|0;(g&1)==0?(q=(g&255)>>>1,g=C):(q=r[h>>2]|0,g=r[w>>2]|0),(B|0)!=(g+q|0);){g=j[B]|0,re=r[o>>2]|0;do if((re|0)!=0){if(te=re+24|0,q=r[te>>2]|0,(q|0)!=(r[re+28>>2]|0)){r[te>>2]=q+1,j[q]=g;break}if((ni[r[(r[re>>2]|0)+52>>2]&63](re,g&255)|0)!=-1)break;r[o>>2]=0}while(!1);B=B+1|0,g=j[m]|0}r[n>>2]=r[o>>2],R0(_),D=y;return}while(!1);re=qt(4)|0,h0(re),Wt(re|0,25544,156)}function $m(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;B=D,D=D+80|0,ue=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ue>>2],ue=B|0,re=B+8|0,te=B+24|0,q=B+48|0,_=B+56|0,o=B+64|0,C=B+72|0,le=ue|0,j[le]=j[19432]|0,j[le+1|0]=j[19433]|0,j[le+2|0]=j[19434]|0,j[le+3|0]=j[19435]|0,j[le+4|0]=j[19436]|0,j[le+5|0]=j[19437]|0,pe=ue+1|0,oe=m+4|0,ne=r[oe>>2]|0,(ne&2048|0)!=0&&(j[pe]=43,pe=ue+2|0),(ne&512|0)!=0&&(j[pe]=35,pe=pe+1|0),j[pe]=108,pe=pe+1|0,ue=ne&74;do if((ue|0)==64)j[pe]=111;else if((ue|0)==8)if((ne&16384|0)==0){j[pe]=120;break}else{j[pe]=88;break}else j[pe]=100;while(!1);ne=re|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ue=Ct(2147483647,14472,0)|0,r[8330]=ue}while(!1);le=Gr(ne,12,r[8330]|0,le,(ue=D,D=D+8|0,r[ue>>2]=w,ue|0))|0,D=ue,w=re+le|0,oe=r[oe>>2]&176;do if((oe|0)==32)re=w;else if((oe|0)==16){if(oe=j[ne]|0,(oe<<24>>24|0)==45|(oe<<24>>24|0)==43){re=re+1|0;break}if(!((le|0)>1&oe<<24>>24==48)){y=22;break}if(ue=j[re+1|0]|0,!((ue<<24>>24|0)==120|(ue<<24>>24|0)==88)){y=22;break}re=re+2|0}else y=22;while(!1);(y|0)==22&&(re=ne),ue=te|0,Di(o,m),Wl(ne,re,w,ue,q,_,o),vi(r[o>>2]|0)|0,r[C>>2]=r[h>>2],hs(n,C,ue,r[q>>2]|0,r[_>>2]|0,m,g),D=B}function Gr(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0;return w=D,D=D+16|0,y=w|0,_=y,r[_>>2]=g,r[_+4>>2]=0,h=Ki(h|0)|0,m=Vn(n|0,o|0,m|0,y|0)|0,(h|0)==0?(D=w,m|0):(Ki(h|0)|0,D=w,m|0)}function Wl(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0;C=D,D=D+48|0,B=C|0,te=C+16|0,_=C+32|0,q=y|0,y=r[q>>2]|0,(r[8716]|0)!=-1&&(r[te>>2]=34864,r[te+4>>2]=16,r[te+8>>2]=0,Vt(34864,te,114)),re=(r[8717]|0)-1|0,te=r[y+8>>2]|0,(r[y+12>>2]|0)-te>>2>>>0>re>>>0||(ge=qt(4)|0,ve=ge,h0(ve),Wt(ge|0,25544,156)),te=r[te+(re<<2)>>2]|0,(te|0)==0&&(ge=qt(4)|0,ve=ge,h0(ve),Wt(ge|0,25544,156)),y=te,q=r[q>>2]|0,(r[8620]|0)!=-1&&(r[B>>2]=34480,r[B+4>>2]=16,r[B+8>>2]=0,Vt(34480,B,114)),B=(r[8621]|0)-1|0,re=r[q+8>>2]|0,(r[q+12>>2]|0)-re>>2>>>0>B>>>0||(ge=qt(4)|0,ve=ge,h0(ve),Wt(ge|0,25544,156)),oe=r[re+(B<<2)>>2]|0,(oe|0)==0&&(ge=qt(4)|0,ve=ge,h0(ve),Wt(ge|0,25544,156)),re=oe,si[r[(r[oe>>2]|0)+20>>2]&127](_,re),B=_,q=j[B]|0,(q&1)==0?q=(q&255)>>>1:q=r[_+4>>2]|0;do if((q|0)==0)Lr[r[(r[te>>2]|0)+32>>2]&15](y,n,h,m)|0,r[w>>2]=m+(h-n);else{r[w>>2]=m,q=j[n]|0,(q<<24>>24|0)==45|(q<<24>>24|0)==43?(ge=ni[r[(r[te>>2]|0)+28>>2]&63](y,q)|0,q=r[w>>2]|0,r[w>>2]=q+1,j[q]=ge,q=n+1|0):q=n;do if((h-q|0)>1){if((j[q]|0)!=48||(le=q+1|0,ge=j[le]|0,!((ge<<24>>24|0)==120|(ge<<24>>24|0)==88)))break;ve=te,ue=ni[r[(r[ve>>2]|0)+28>>2]&63](y,48)|0,ge=r[w>>2]|0,r[w>>2]=ge+1,j[ge]=ue,ve=ni[r[(r[ve>>2]|0)+28>>2]&63](y,j[le]|0)|0,ge=r[w>>2]|0,r[w>>2]=ge+1,j[ge]=ve,q=q+2|0}while(!1);do if((q|0)!=(h|0)){if(ne=h-1|0,ne>>>0>q>>>0)le=q;else break;do ge=j[le]|0,j[le]=j[ne]|0,j[ne]=ge,le=le+1|0,ne=ne-1|0;while(le>>>0<ne>>>0)}while(!1);if(oe=_0[r[(r[oe>>2]|0)+16>>2]&255](re)|0,q>>>0<h>>>0)for(re=_+1|0,le=_+4|0,ne=_+8|0,ve=0,ue=0,pe=q;;){ge=(j[B]&1)==0;do if((j[(ge?re:r[ne>>2]|0)+ue|0]|0)!=0){if((ve|0)!=(j[(ge?re:r[ne>>2]|0)+ue|0]|0))break;ve=r[w>>2]|0,r[w>>2]=ve+1,j[ve]=oe,ve=j[B]|0,(ve&1)==0?ve=(ve&255)>>>1:ve=r[le>>2]|0,ue=(ue>>>0<(ve-1|0)>>>0)+ue|0,ve=0}while(!1);if(Te=ni[r[(r[te>>2]|0)+28>>2]&63](y,j[pe]|0)|0,ge=r[w>>2]|0,r[w>>2]=ge+1,j[ge]=Te,pe=pe+1|0,pe>>>0<h>>>0)ve=ve+1|0;else break}if(y=m+(q-n)|0,B=r[w>>2]|0,(y|0)==(B|0)||(B=B-1|0,!(B>>>0>y>>>0)))break;do Te=j[y]|0,j[y]=j[B]|0,j[B]=Te,y=y+1|0,B=B-1|0;while(y>>>0<B>>>0)}while(!1);if((o|0)==(h|0)){Te=r[w>>2]|0,r[g>>2]=Te,R0(_),D=C;return}else{Te=m+(o-n)|0,r[g>>2]=Te,R0(_),D=C;return}}function Km(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0;q=D,D=D+112|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=q|0,oe=q+8|0,re=q+32|0,te=q+80|0,C=q+88|0,o=q+96|0,B=q+104|0,r[ne>>2]=37,r[ne+4>>2]=0,ue=ne+1|0,le=m+4|0,pe=r[le>>2]|0,(pe&2048|0)!=0&&(j[ue]=43,ue=ne+2|0),(pe&512|0)!=0&&(j[ue]=35,ue=ue+1|0),j[ue]=108,j[ue+1|0]=108,ue=ue+2|0,ve=pe&74;do if((ve|0)==64)j[ue]=111;else if((ve|0)==8)if((pe&16384|0)==0){j[ue]=120;break}else{j[ue]=88;break}else j[ue]=100;while(!1);pe=oe|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ve=Ct(2147483647,14472,0)|0,r[8330]=ve}while(!1);y=Gr(pe,22,r[8330]|0,ne,(ve=D,D=D+16|0,r[ve>>2]=w,r[ve+8>>2]=y,ve|0))|0,D=ve,w=oe+y|0,le=r[le>>2]&176;do if((le|0)==32)oe=w;else if((le|0)==16){if(le=j[pe]|0,(le<<24>>24|0)==45|(le<<24>>24|0)==43){oe=oe+1|0;break}if(!((y|0)>1&le<<24>>24==48)){_=22;break}if(ve=j[oe+1|0]|0,!((ve<<24>>24|0)==120|(ve<<24>>24|0)==88)){_=22;break}oe=oe+2|0}else _=22;while(!1);(_|0)==22&&(oe=pe),ve=re|0,Di(o,m),Wl(pe,oe,w,ve,te,C,o),vi(r[o>>2]|0)|0,r[B>>2]=r[h>>2],hs(n,B,ve,r[te>>2]|0,r[C>>2]|0,m,g),D=q}function qm(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;B=D,D=D+80|0,pe=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[pe>>2],pe=B|0,re=B+8|0,te=B+24|0,q=B+48|0,_=B+56|0,o=B+64|0,C=B+72|0,le=pe|0,j[le]=j[19432]|0,j[le+1|0]=j[19433]|0,j[le+2|0]=j[19434]|0,j[le+3|0]=j[19435]|0,j[le+4|0]=j[19436]|0,j[le+5|0]=j[19437]|0,ue=pe+1|0,oe=m+4|0,ne=r[oe>>2]|0,(ne&2048|0)!=0&&(j[ue]=43,ue=pe+2|0),(ne&512|0)!=0&&(j[ue]=35,ue=ue+1|0),j[ue]=108,ue=ue+1|0,pe=ne&74;do if((pe|0)==64)j[ue]=111;else if((pe|0)==8)if((ne&16384|0)==0){j[ue]=120;break}else{j[ue]=88;break}else j[ue]=117;while(!1);ne=re|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ue=Ct(2147483647,14472,0)|0,r[8330]=ue}while(!1);le=Gr(ne,12,r[8330]|0,le,(ue=D,D=D+8|0,r[ue>>2]=w,ue|0))|0,D=ue,w=re+le|0,oe=r[oe>>2]&176;do if((oe|0)==16){if(oe=j[ne]|0,(oe<<24>>24|0)==45|(oe<<24>>24|0)==43){re=re+1|0;break}if(!((le|0)>1&oe<<24>>24==48)){y=22;break}if(ue=j[re+1|0]|0,!((ue<<24>>24|0)==120|(ue<<24>>24|0)==88)){y=22;break}re=re+2|0}else(oe|0)==32?re=w:y=22;while(!1);(y|0)==22&&(re=ne),ue=te|0,Di(o,m),Wl(ne,re,w,ue,q,_,o),vi(r[o>>2]|0)|0,r[C>>2]=r[h>>2],hs(n,C,ue,r[q>>2]|0,r[_>>2]|0,m,g),D=B}function Ym(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0;q=D,D=D+112|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=q|0,oe=q+8|0,re=q+32|0,te=q+80|0,C=q+88|0,o=q+96|0,B=q+104|0,r[ne>>2]=37,r[ne+4>>2]=0,ue=ne+1|0,le=m+4|0,pe=r[le>>2]|0,(pe&2048|0)!=0&&(j[ue]=43,ue=ne+2|0),(pe&512|0)!=0&&(j[ue]=35,ue=ue+1|0),j[ue]=108,j[ue+1|0]=108,ve=ue+2|0,ue=pe&74;do if((ue|0)==64)j[ve]=111;else if((ue|0)==8)if((pe&16384|0)==0){j[ve]=120;break}else{j[ve]=88;break}else j[ve]=117;while(!1);pe=oe|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ve=Ct(2147483647,14472,0)|0,r[8330]=ve}while(!1);y=Gr(pe,23,r[8330]|0,ne,(ve=D,D=D+16|0,r[ve>>2]=w,r[ve+8>>2]=y,ve|0))|0,D=ve,w=oe+y|0,le=r[le>>2]&176;do if((le|0)==16){if(le=j[pe]|0,(le<<24>>24|0)==45|(le<<24>>24|0)==43){oe=oe+1|0;break}if(!((y|0)>1&le<<24>>24==48)){_=22;break}if(ve=j[oe+1|0]|0,!((ve<<24>>24|0)==120|(ve<<24>>24|0)==88)){_=22;break}oe=oe+2|0}else(le|0)==32?oe=w:_=22;while(!1);(_|0)==22&&(oe=pe),ve=re|0,Di(o,m),Wl(pe,oe,w,ve,te,C,o),vi(r[o>>2]|0)|0,r[B>>2]=r[h>>2],hs(n,B,ve,r[te>>2]|0,r[C>>2]|0,m,g),D=q}function Jm(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=+w;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0;y=D,D=D+152|0,pe=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[pe>>2],pe=y|0,ne=y+8|0,te=y+40|0,oe=y+48|0,B=y+112|0,o=y+120|0,C=y+128|0,_=y+136|0,q=y+144|0,r[pe>>2]=37,r[pe+4>>2]=0,ve=pe+1|0,le=m+4|0,ge=r[le>>2]|0,(ge&2048|0)!=0&&(j[ve]=43,ve=pe+2|0),(ge&1024|0)!=0&&(j[ve]=35,ve=ve+1|0),ue=ge&260,Te=ge>>>14;do if((ue|0)==260)if((Te&1|0)==0){j[ve]=97,ue=0;break}else{j[ve]=65,ue=0;break}else if(j[ve]=46,ge=ve+2|0,j[ve+1|0]=42,(ue|0)==4)if((Te&1|0)==0){j[ge]=102,ue=1;break}else{j[ge]=70,ue=1;break}else if((ue|0)==256)if((Te&1|0)==0){j[ge]=101,ue=1;break}else{j[ge]=69,ue=1;break}else if((Te&1|0)==0){j[ge]=103,ue=1;break}else{j[ge]=71,ue=1;break}while(!1);ne=ne|0,r[te>>2]=ne;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;Te=Ct(2147483647,14472,0)|0,r[8330]=Te}while(!1);ve=r[8330]|0,ue?(ge=Gr(ne,30,ve,pe,(Te=D,D=D+16|0,r[Te>>2]=r[m+8>>2],p0[Te+8>>3]=w,Te|0))|0,D=Te):(ge=Gr(ne,30,ve,pe,(Te=D,D=D+8|0,p0[Te>>3]=w,Te|0))|0,D=Te);do if((ge|0)>29){if(ve=(j[51808]|0)==0,ue){do if(ve){if((ei(51808)|0)==0)break;Te=Ct(2147483647,14472,0)|0,r[8330]=Te}while(!1);ge=en(te,r[8330]|0,pe,(Te=D,D=D+16|0,r[Te>>2]=r[m+8>>2],p0[Te+8>>3]=w,Te|0))|0,D=Te}else{do if(ve){if((ei(51808)|0)==0)break;Te=Ct(2147483647,14472,0)|0,r[8330]=Te}while(!1);ge=en(te,r[8330]|0,pe,(Te=D,D=D+16|0,r[Te>>2]=r[m+8>>2],p0[Te+8>>3]=w,Te|0))|0,D=Te}if(ue=r[te>>2]|0,(ue|0)!=0){pe=ue,ve=ue;break}Pi(),ve=r[te>>2]|0,pe=ve}else pe=0,ve=r[te>>2]|0;while(!1);ue=ve+ge|0,le=r[le>>2]&176;do if((le|0)==32)le=ue;else if((le|0)==16){if(le=j[ve]|0,(le<<24>>24|0)==45|(le<<24>>24|0)==43){le=ve+1|0;break}if(!((ge|0)>1&le<<24>>24==48)){re=53;break}if(Te=j[ve+1|0]|0,!((Te<<24>>24|0)==120|(Te<<24>>24|0)==88)){re=53;break}le=ve+2|0}else re=53;while(!1);(re|0)==53&&(le=ve);do if((ve|0)==(ne|0))re=oe|0,oe=0;else{if(oe=ii(ge<<1)|0,(oe|0)!=0){re=oe,ne=ve;break}Pi(),re=0,oe=0,ne=r[te>>2]|0}while(!1);if(Di(C,m),Hh(ne,le,ue,re,B,o,C),vi(r[C>>2]|0)|0,ge=h|0,r[q>>2]=r[ge>>2],hs(_,q,re,r[B>>2]|0,r[o>>2]|0,m,g),Te=r[_>>2]|0,r[ge>>2]=Te,r[n>>2]=Te,(oe|0)!=0&&Ft(oe),(pe|0)==0){D=y;return}Ft(pe),D=y}function en(n,o,h,m){n=n|0,o=o|0,h=h|0,m=m|0;var g=0,w=0,y=0;return g=D,D=D+16|0,w=g|0,y=w,r[y>>2]=m,r[y+4>>2]=0,o=Ki(o|0)|0,h=S1(n|0,h|0,w|0)|0,(o|0)==0?(D=g,h|0):(Ki(o|0)|0,D=g,h|0)}function Hh(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0;C=D,D=D+48|0,q=C|0,B=C+16|0,_=C+32|0,te=y|0,y=r[te>>2]|0,(r[8716]|0)!=-1&&(r[B>>2]=34864,r[B+4>>2]=16,r[B+8>>2]=0,Vt(34864,B,114)),re=(r[8717]|0)-1|0,B=r[y+8>>2]|0,(r[y+12>>2]|0)-B>>2>>>0>re>>>0||(ze=qt(4)|0,Be=ze,h0(Be),Wt(ze|0,25544,156)),B=r[B+(re<<2)>>2]|0,(B|0)==0&&(ze=qt(4)|0,Be=ze,h0(Be),Wt(ze|0,25544,156)),y=B,te=r[te>>2]|0,(r[8620]|0)!=-1&&(r[q>>2]=34480,r[q+4>>2]=16,r[q+8>>2]=0,Vt(34480,q,114)),q=(r[8621]|0)-1|0,re=r[te+8>>2]|0,(r[te+12>>2]|0)-re>>2>>>0>q>>>0||(ze=qt(4)|0,Be=ze,h0(Be),Wt(ze|0,25544,156)),re=r[re+(q<<2)>>2]|0,(re|0)==0&&(ze=qt(4)|0,Be=ze,h0(Be),Wt(ze|0,25544,156)),te=re,si[r[(r[re>>2]|0)+20>>2]&127](_,te),r[w>>2]=m,q=j[n]|0,(q<<24>>24|0)==45|(q<<24>>24|0)==43?(ze=ni[r[(r[B>>2]|0)+28>>2]&63](y,q)|0,pe=r[w>>2]|0,r[w>>2]=pe+1,j[pe]=ze,pe=n+1|0):pe=n,q=h;e:do if((q-pe|0)>1){if((j[pe]|0)!=48){ne=21;break}if(oe=pe+1|0,ze=j[oe]|0,!((ze<<24>>24|0)==120|(ze<<24>>24|0)==88)){ne=21;break}if(Be=B,qe=ni[r[(r[Be>>2]|0)+28>>2]&63](y,48)|0,ze=r[w>>2]|0,r[w>>2]=ze+1,j[ze]=qe,pe=pe+2|0,Be=ni[r[(r[Be>>2]|0)+28>>2]&63](y,j[oe]|0)|0,ze=r[w>>2]|0,r[w>>2]=ze+1,j[ze]=Be,pe>>>0<h>>>0)oe=pe;else{le=pe,oe=pe;break}for(;;){le=j[oe]|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ze=Ct(2147483647,14472,0)|0,r[8330]=ze}while(!1);if(ue=oe+1|0,(L0(le<<24>>24|0,r[8330]|0)|0)==0){le=pe;break e}if(ue>>>0<h>>>0)oe=ue;else{le=pe,oe=ue;break}}}else ne=21;while(!1);e:do if((ne|0)==21){if(pe>>>0<h>>>0)oe=pe;else{le=pe,oe=pe;break}for(;;){le=j[oe]|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ze=Ct(2147483647,14472,0)|0,r[8330]=ze}while(!1);if(ne=oe+1|0,(Pr(le<<24>>24|0,r[8330]|0)|0)==0){le=pe;break e}if(ne>>>0<h>>>0)oe=ne;else{le=pe,oe=ne;break}}}while(!1);ne=_,pe=j[ne]|0,(pe&1)==0?pe=(pe&255)>>>1:pe=r[_+4>>2]|0;do if((pe|0)==0)Lr[r[(r[B>>2]|0)+32>>2]&15](y,le,oe,r[w>>2]|0)|0,r[w>>2]=(r[w>>2]|0)+(oe-le);else{do if((le|0)!=(oe|0)){if(ue=oe-1|0,ue>>>0>le>>>0)pe=le;else break;do ze=j[pe]|0,j[pe]=j[ue]|0,j[ue]=ze,pe=pe+1|0,ue=ue-1|0;while(pe>>>0<ue>>>0)}while(!1);if(pe=_0[r[(r[re>>2]|0)+16>>2]&255](te)|0,le>>>0<oe>>>0)for(ge=_+1|0,ve=_+4|0,Te=_+8|0,ue=B,Be=0,qe=0,Ve=le;;){ze=(j[ne]&1)==0;do if((j[(ze?ge:r[Te>>2]|0)+qe|0]|0)>0){if((Be|0)!=(j[(ze?ge:r[Te>>2]|0)+qe|0]|0))break;Be=r[w>>2]|0,r[w>>2]=Be+1,j[Be]=pe,Be=j[ne]|0,(Be&1)==0?Be=(Be&255)>>>1:Be=r[ve>>2]|0,qe=(qe>>>0<(Be-1|0)>>>0)+qe|0,Be=0}while(!1);if(He=ni[r[(r[ue>>2]|0)+28>>2]&63](y,j[Ve]|0)|0,ze=r[w>>2]|0,r[w>>2]=ze+1,j[ze]=He,Ve=Ve+1|0,Ve>>>0<oe>>>0)Be=Be+1|0;else break}if(ne=m+(le-n)|0,le=r[w>>2]|0,(ne|0)==(le|0)||(le=le-1|0,!(le>>>0>ne>>>0)))break;do He=j[ne]|0,j[ne]=j[le]|0,j[le]=He,ne=ne+1|0,le=le-1|0;while(ne>>>0<le>>>0)}while(!1);e:do if(oe>>>0<h>>>0){for(le=B;ne=j[oe]|0,ne<<24>>24!=46;)if(ze=ni[r[(r[le>>2]|0)+28>>2]&63](y,ne)|0,He=r[w>>2]|0,r[w>>2]=He+1,j[He]=ze,oe=oe+1|0,!(oe>>>0<h>>>0))break e;ze=_0[r[(r[re>>2]|0)+12>>2]&255](te)|0,He=r[w>>2]|0,r[w>>2]=He+1,j[He]=ze,oe=oe+1|0}while(!1);if(Lr[r[(r[B>>2]|0)+32>>2]&15](y,oe,h,r[w>>2]|0)|0,y=(r[w>>2]|0)+(q-oe)|0,r[w>>2]=y,(o|0)==(h|0)){He=y,r[g>>2]=He,R0(_),D=C;return}He=m+(o-n)|0,r[g>>2]=He,R0(_),D=C}function Qm(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=+w;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0;C=D,D=D+152|0,pe=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[pe>>2],pe=C|0,ne=C+8|0,te=C+40|0,oe=C+48|0,q=C+112|0,o=C+120|0,B=C+128|0,_=C+136|0,y=C+144|0,r[pe>>2]=37,r[pe+4>>2]=0,ge=pe+1|0,le=m+4|0,ve=r[le>>2]|0,(ve&2048|0)!=0&&(j[ge]=43,ge=pe+2|0),(ve&1024|0)!=0&&(j[ge]=35,ge=ge+1|0),ue=ve&260,ve=ve>>>14;do if((ue|0)==260)if(j[ge]=76,ue=ge+1|0,(ve&1|0)==0){j[ue]=97,ue=0;break}else{j[ue]=65,ue=0;break}else if(j[ge]=46,j[ge+1|0]=42,j[ge+2|0]=76,ge=ge+3|0,(ue|0)==4)if((ve&1|0)==0){j[ge]=102,ue=1;break}else{j[ge]=70,ue=1;break}else if((ue|0)==256)if((ve&1|0)==0){j[ge]=101,ue=1;break}else{j[ge]=69,ue=1;break}else if((ve&1|0)==0){j[ge]=103,ue=1;break}else{j[ge]=71,ue=1;break}while(!1);ne=ne|0,r[te>>2]=ne;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ge=Ct(2147483647,14472,0)|0,r[8330]=ge}while(!1);ve=r[8330]|0,ue?(ge=Gr(ne,30,ve,pe,(ve=D,D=D+16|0,r[ve>>2]=r[m+8>>2],p0[ve+8>>3]=w,ve|0))|0,D=ve):(ge=Gr(ne,30,ve,pe,(ve=D,D=D+8|0,p0[ve>>3]=w,ve|0))|0,D=ve);do if((ge|0)>29){if(ve=(j[51808]|0)==0,ue){do if(ve){if((ei(51808)|0)==0)break;ge=Ct(2147483647,14472,0)|0,r[8330]=ge}while(!1);ge=en(te,r[8330]|0,pe,(ve=D,D=D+16|0,r[ve>>2]=r[m+8>>2],p0[ve+8>>3]=w,ve|0))|0,D=ve}else{do if(ve){if((ei(51808)|0)==0)break;ge=Ct(2147483647,14472,0)|0,r[8330]=ge}while(!1);ge=en(te,r[8330]|0,pe,(ve=D,D=D+8|0,p0[ve>>3]=w,ve|0))|0,D=ve}if(ue=r[te>>2]|0,(ue|0)!=0){pe=ue,ve=ue;break}Pi(),ve=r[te>>2]|0,pe=ve}else pe=0,ve=r[te>>2]|0;while(!1);ue=ve+ge|0,le=r[le>>2]&176;do if((le|0)==16){if(le=j[ve]|0,(le<<24>>24|0)==45|(le<<24>>24|0)==43){le=ve+1|0;break}if(!((ge|0)>1&le<<24>>24==48)){re=53;break}if(le=j[ve+1|0]|0,!((le<<24>>24|0)==120|(le<<24>>24|0)==88)){re=53;break}le=ve+2|0}else(le|0)==32?le=ue:re=53;while(!1);(re|0)==53&&(le=ve);do if((ve|0)==(ne|0))re=oe|0,oe=0;else{if(oe=ii(ge<<1)|0,(oe|0)!=0){re=oe,ne=ve;break}Pi(),re=0,oe=0,ne=r[te>>2]|0}while(!1);if(Di(B,m),Hh(ne,le,ue,re,q,o,B),vi(r[B>>2]|0)|0,ve=h|0,r[y>>2]=r[ve>>2],hs(_,y,re,r[q>>2]|0,r[o>>2]|0,m,g),ge=r[_>>2]|0,r[ve>>2]=ge,r[n>>2]=ge,(oe|0)!=0&&Ft(oe),(pe|0)==0){D=C;return}Ft(pe),D=C}function Xm(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0;y=D,D=D+104|0,re=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[re>>2],re=y|0,C=y+24|0,_=y+48|0,le=y+88|0,o=y+96|0,q=y+16|0,j[q]=j[19440]|0,j[q+1|0]=j[19441]|0,j[q+2|0]=j[19442]|0,j[q+3|0]=j[19443]|0,j[q+4|0]=j[19444]|0,j[q+5|0]=j[19445]|0,B=C|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;pe=Ct(2147483647,14472,0)|0,r[8330]=pe}while(!1);q=Gr(B,20,r[8330]|0,q,(te=D,D=D+8|0,r[te>>2]=w,te|0))|0,D=te,w=C+q|0,te=r[m+4>>2]&176;do if((te|0)==16){if(te=j[B]|0,(te<<24>>24|0)==45|(te<<24>>24|0)==43){te=C+1|0;break}if(!((q|0)>1&te<<24>>24==48)){oe=12;break}if(pe=j[C+1|0]|0,!((pe<<24>>24|0)==120|(pe<<24>>24|0)==88)){oe=12;break}te=C+2|0}else(te|0)==32?te=w:oe=12;while(!1);(oe|0)==12&&(te=B),oe=_|0,Di(le,m),le=le|0,ne=r[le>>2]|0,(r[8716]|0)!=-1&&(r[re>>2]=34864,r[re+4>>2]=16,r[re+8>>2]=0,Vt(34864,re,114)),re=(r[8717]|0)-1|0,pe=r[ne+8>>2]|0;do if((r[ne+12>>2]|0)-pe>>2>>>0>re>>>0){if(re=r[pe+(re<<2)>>2]|0,(re|0)==0)break;if(vi(r[le>>2]|0)|0,Lr[r[(r[re>>2]|0)+32>>2]&15](re,B,w,oe)|0,B=_+q|0,(te|0)==(w|0)){pe=B,le=h|0,le=r[le>>2]|0,ne=o|0,r[ne>>2]=le,hs(n,o,oe,pe,B,m,g),D=y;return}pe=_+(te-C)|0,le=h|0,le=r[le>>2]|0,ne=o|0,r[ne>>2]=le,hs(n,o,oe,pe,B,m,g),D=y;return}while(!1);pe=qt(4)|0,h0(pe),Wt(pe|0,25544,156)}function Zm(n){n=n|0,$0(n)}function e8(n){}function t8(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0;if(y=D,D=D+48|0,C=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[C>>2],C=y|0,B=y+16|0,q=y+24|0,_=y+32|0,(r[m+4>>2]&1|0)==0){te=r[(r[o>>2]|0)+24>>2]|0,r[B>>2]=r[h>>2],as[te&63](n,o,B,m,g,w&1),D=y;return}Di(q,m),B=q|0,q=r[B>>2]|0,(r[8618]|0)!=-1&&(r[C>>2]=34472,r[C+4>>2]=16,r[C+8>>2]=0,Vt(34472,C,114)),C=(r[8619]|0)-1|0,o=r[q+8>>2]|0;do if((r[q+12>>2]|0)-o>>2>>>0>C>>>0){if(q=r[o+(C<<2)>>2]|0,(q|0)==0)break;for(C=q,vi(r[B>>2]|0)|0,B=r[q>>2]|0,w?si[r[B+24>>2]&127](_,C):si[r[B+28>>2]&127](_,C),B=_,o=j[B]|0,(o&1)==0?(C=_+4|0,q=C,w=_+8|0):(w=_+8|0,q=r[w>>2]|0,C=_+4|0),h=h|0;(o&1)==0?(o=(o&255)>>>1,m=C):(o=r[C>>2]|0,m=r[w>>2]|0),(q|0)!=(m+(o<<2)|0);){o=r[q>>2]|0,m=r[h>>2]|0;do if((m|0)!=0){if(g=m+24|0,te=r[g>>2]|0,(te|0)==(r[m+28>>2]|0)?o=ni[r[(r[m>>2]|0)+52>>2]&63](m,o)|0:(r[g>>2]=te+4,r[te>>2]=o),(o|0)!=-1)break;r[h>>2]=0}while(!1);q=q+4|0,o=j[B]|0}r[n>>2]=r[h>>2],Gt(_),D=y;return}while(!1);te=qt(4)|0,h0(te),Wt(te|0,25544,156)}function i8(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;B=D,D=D+144|0,pe=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[pe>>2],pe=B|0,re=B+8|0,te=B+24|0,q=B+112|0,_=B+120|0,o=B+128|0,C=B+136|0,le=pe|0,j[le]=j[19432]|0,j[le+1|0]=j[19433]|0,j[le+2|0]=j[19434]|0,j[le+3|0]=j[19435]|0,j[le+4|0]=j[19436]|0,j[le+5|0]=j[19437]|0,ue=pe+1|0,oe=m+4|0,ne=r[oe>>2]|0,(ne&2048|0)!=0&&(j[ue]=43,ue=pe+2|0),(ne&512|0)!=0&&(j[ue]=35,ue=ue+1|0),j[ue]=108,ue=ue+1|0,pe=ne&74;do if((pe|0)==64)j[ue]=111;else if((pe|0)==8)if((ne&16384|0)==0){j[ue]=120;break}else{j[ue]=88;break}else j[ue]=100;while(!1);ne=re|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ue=Ct(2147483647,14472,0)|0,r[8330]=ue}while(!1);le=Gr(ne,12,r[8330]|0,le,(ue=D,D=D+8|0,r[ue>>2]=w,ue|0))|0,D=ue,w=re+le|0,oe=r[oe>>2]&176;do if((oe|0)==16){if(oe=j[ne]|0,(oe<<24>>24|0)==45|(oe<<24>>24|0)==43){re=re+1|0;break}if(!((le|0)>1&oe<<24>>24==48)){y=22;break}if(ue=j[re+1|0]|0,!((ue<<24>>24|0)==120|(ue<<24>>24|0)==88)){y=22;break}re=re+2|0}else(oe|0)==32?re=w:y=22;while(!1);(y|0)==22&&(re=ne),ue=te|0,Di(o,m),jl(ne,re,w,ue,q,_,o),vi(r[o>>2]|0)|0,r[C>>2]=r[h>>2],tn(n,C,ue,r[q>>2]|0,r[_>>2]|0,m,g),D=B}function jl(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0;C=D,D=D+48|0,B=C|0,te=C+16|0,_=C+32|0,q=y|0,y=r[q>>2]|0,(r[8714]|0)!=-1&&(r[te>>2]=34856,r[te+4>>2]=16,r[te+8>>2]=0,Vt(34856,te,114)),re=(r[8715]|0)-1|0,te=r[y+8>>2]|0,(r[y+12>>2]|0)-te>>2>>>0>re>>>0||(ge=qt(4)|0,ve=ge,h0(ve),Wt(ge|0,25544,156)),te=r[te+(re<<2)>>2]|0,(te|0)==0&&(ge=qt(4)|0,ve=ge,h0(ve),Wt(ge|0,25544,156)),y=te,q=r[q>>2]|0,(r[8618]|0)!=-1&&(r[B>>2]=34472,r[B+4>>2]=16,r[B+8>>2]=0,Vt(34472,B,114)),re=(r[8619]|0)-1|0,B=r[q+8>>2]|0,(r[q+12>>2]|0)-B>>2>>>0>re>>>0||(ge=qt(4)|0,ve=ge,h0(ve),Wt(ge|0,25544,156)),re=r[B+(re<<2)>>2]|0,(re|0)==0&&(ge=qt(4)|0,ve=ge,h0(ve),Wt(ge|0,25544,156)),oe=re,si[r[(r[re>>2]|0)+20>>2]&127](_,oe),B=_,q=j[B]|0,(q&1)==0?q=(q&255)>>>1:q=r[_+4>>2]|0;do if((q|0)==0)Lr[r[(r[te>>2]|0)+48>>2]&15](y,n,h,m)|0,ge=m+(h-n<<2)|0,r[w>>2]=ge;else{r[w>>2]=m,q=j[n]|0,(q<<24>>24|0)==45|(q<<24>>24|0)==43?(ge=ni[r[(r[te>>2]|0)+44>>2]&63](y,q)|0,q=r[w>>2]|0,r[w>>2]=q+4,r[q>>2]=ge,q=n+1|0):q=n;do if((h-q|0)>1){if((j[q]|0)!=48||(le=q+1|0,ge=j[le]|0,!((ge<<24>>24|0)==120|(ge<<24>>24|0)==88)))break;ve=te,ue=ni[r[(r[ve>>2]|0)+44>>2]&63](y,48)|0,ge=r[w>>2]|0,r[w>>2]=ge+4,r[ge>>2]=ue,ve=ni[r[(r[ve>>2]|0)+44>>2]&63](y,j[le]|0)|0,ge=r[w>>2]|0,r[w>>2]=ge+4,r[ge>>2]=ve,q=q+2|0}while(!1);do if((q|0)!=(h|0)){if(ne=h-1|0,ne>>>0>q>>>0)le=q;else break;do ge=j[le]|0,j[le]=j[ne]|0,j[ne]=ge,le=le+1|0,ne=ne-1|0;while(le>>>0<ne>>>0)}while(!1);if(re=_0[r[(r[re>>2]|0)+16>>2]&255](oe)|0,q>>>0<h>>>0)for(oe=_+1|0,ne=_+4|0,le=_+8|0,ve=0,ue=0,pe=q;;){ge=(j[B]&1)==0;do if((j[(ge?oe:r[le>>2]|0)+ue|0]|0)!=0){if((ve|0)!=(j[(ge?oe:r[le>>2]|0)+ue|0]|0))break;ve=r[w>>2]|0,r[w>>2]=ve+4,r[ve>>2]=re,ve=j[B]|0,(ve&1)==0?ve=(ve&255)>>>1:ve=r[ne>>2]|0,ue=(ue>>>0<(ve-1|0)>>>0)+ue|0,ve=0}while(!1);if(Ve=ni[r[(r[te>>2]|0)+44>>2]&63](y,j[pe]|0)|0,Te=r[w>>2]|0,ge=Te+4|0,r[w>>2]=ge,r[Te>>2]=Ve,pe=pe+1|0,pe>>>0<h>>>0)ve=ve+1|0;else break}else ge=r[w>>2]|0;if(w=m+(q-n<<2)|0,(w|0)==(ge|0)||(y=ge-4|0,!(y>>>0>w>>>0)))break;do Ve=r[w>>2]|0,r[w>>2]=r[y>>2],r[y>>2]=Ve,w=w+4|0,y=y-4|0;while(w>>>0<y>>>0)}while(!1);if((o|0)==(h|0)){Ve=ge,r[g>>2]=Ve,R0(_),D=C;return}Ve=m+(o-n<<2)|0,r[g>>2]=Ve,R0(_),D=C}function tn(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0;if(_=D,D=D+16|0,B=o,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=_|0,C=C|0,o=r[C>>2]|0,(o|0)==0){r[n>>2]=0,D=_;return}q=h,te=g-q>>2,w=w+12|0,re=r[w>>2]|0,re=(re|0)>(te|0)?re-te|0:0,te=m,oe=te-q|0,q=oe>>2;do if((oe|0)>0){if((Yi[r[(r[o>>2]|0)+48>>2]&63](o,h,q)|0)==(q|0))break;r[C>>2]=0,r[n>>2]=0,D=_;return}while(!1);do if((re|0)>0){if(Uc(B,re,y),(j[B]&1)==0?y=B+4|0:y=r[B+8>>2]|0,(Yi[r[(r[o>>2]|0)+48>>2]&63](o,y,re)|0)==(re|0)){Gt(B);break}r[C>>2]=0,r[n>>2]=0,Gt(B),D=_;return}while(!1);oe=g-te|0,y=oe>>2;do if((oe|0)>0){if((Yi[r[(r[o>>2]|0)+48>>2]&63](o,m,y)|0)==(y|0))break;r[C>>2]=0,r[n>>2]=0,D=_;return}while(!1);r[w>>2]=0,r[n>>2]=o,D=_}function r8(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0;q=D,D=D+232|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=q|0,oe=q+8|0,re=q+32|0,te=q+200|0,C=q+208|0,o=q+216|0,B=q+224|0,r[ne>>2]=37,r[ne+4>>2]=0,ue=ne+1|0,le=m+4|0,pe=r[le>>2]|0,(pe&2048|0)!=0&&(j[ue]=43,ue=ne+2|0),(pe&512|0)!=0&&(j[ue]=35,ue=ue+1|0),j[ue]=108,j[ue+1|0]=108,ve=ue+2|0,ue=pe&74;do if((ue|0)==64)j[ve]=111;else if((ue|0)==8)if((pe&16384|0)==0){j[ve]=120;break}else{j[ve]=88;break}else j[ve]=100;while(!1);pe=oe|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ve=Ct(2147483647,14472,0)|0,r[8330]=ve}while(!1);y=Gr(pe,22,r[8330]|0,ne,(ve=D,D=D+16|0,r[ve>>2]=w,r[ve+8>>2]=y,ve|0))|0,D=ve,w=oe+y|0,le=r[le>>2]&176;do if((le|0)==16){if(le=j[pe]|0,(le<<24>>24|0)==45|(le<<24>>24|0)==43){oe=oe+1|0;break}if(!((y|0)>1&le<<24>>24==48)){_=22;break}if(ve=j[oe+1|0]|0,!((ve<<24>>24|0)==120|(ve<<24>>24|0)==88)){_=22;break}oe=oe+2|0}else(le|0)==32?oe=w:_=22;while(!1);(_|0)==22&&(oe=pe),ve=re|0,Di(o,m),jl(pe,oe,w,ve,te,C,o),vi(r[o>>2]|0)|0,r[B>>2]=r[h>>2],tn(n,B,ve,r[te>>2]|0,r[C>>2]|0,m,g),D=q}function s8(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0;B=D,D=D+144|0,pe=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[pe>>2],pe=B|0,re=B+8|0,te=B+24|0,q=B+112|0,_=B+120|0,o=B+128|0,C=B+136|0,le=pe|0,j[le]=j[19432]|0,j[le+1|0]=j[19433]|0,j[le+2|0]=j[19434]|0,j[le+3|0]=j[19435]|0,j[le+4|0]=j[19436]|0,j[le+5|0]=j[19437]|0,ue=pe+1|0,oe=m+4|0,ne=r[oe>>2]|0,(ne&2048|0)!=0&&(j[ue]=43,ue=pe+2|0),(ne&512|0)!=0&&(j[ue]=35,ue=ue+1|0),j[ue]=108,ue=ue+1|0,pe=ne&74;do if((pe|0)==64)j[ue]=111;else if((pe|0)==8)if((ne&16384|0)==0){j[ue]=120;break}else{j[ue]=88;break}else j[ue]=117;while(!1);ne=re|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ue=Ct(2147483647,14472,0)|0,r[8330]=ue}while(!1);le=Gr(ne,12,r[8330]|0,le,(ue=D,D=D+8|0,r[ue>>2]=w,ue|0))|0,D=ue,w=re+le|0,oe=r[oe>>2]&176;do if((oe|0)==16){if(oe=j[ne]|0,(oe<<24>>24|0)==45|(oe<<24>>24|0)==43){re=re+1|0;break}if(!((le|0)>1&oe<<24>>24==48)){y=22;break}if(ue=j[re+1|0]|0,!((ue<<24>>24|0)==120|(ue<<24>>24|0)==88)){y=22;break}re=re+2|0}else(oe|0)==32?re=w:y=22;while(!1);(y|0)==22&&(re=ne),ue=te|0,Di(o,m),jl(ne,re,w,ue,q,_,o),vi(r[o>>2]|0)|0,r[C>>2]=r[h>>2],tn(n,C,ue,r[q>>2]|0,r[_>>2]|0,m,g),D=B}function n8(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0;q=D,D=D+240|0,ne=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ne>>2],ne=q|0,oe=q+8|0,re=q+32|0,te=q+208|0,C=q+216|0,o=q+224|0,B=q+232|0,r[ne>>2]=37,r[ne+4>>2]=0,ue=ne+1|0,le=m+4|0,pe=r[le>>2]|0,(pe&2048|0)!=0&&(j[ue]=43,ue=ne+2|0),(pe&512|0)!=0&&(j[ue]=35,ue=ue+1|0),j[ue]=108,j[ue+1|0]=108,ve=ue+2|0,ue=pe&74;do if((ue|0)==64)j[ve]=111;else if((ue|0)==8)if((pe&16384|0)==0){j[ve]=120;break}else{j[ve]=88;break}else j[ve]=117;while(!1);pe=oe|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ve=Ct(2147483647,14472,0)|0,r[8330]=ve}while(!1);y=Gr(pe,23,r[8330]|0,ne,(ve=D,D=D+16|0,r[ve>>2]=w,r[ve+8>>2]=y,ve|0))|0,D=ve,w=oe+y|0,le=r[le>>2]&176;do if((le|0)==16){if(le=j[pe]|0,(le<<24>>24|0)==45|(le<<24>>24|0)==43){oe=oe+1|0;break}if(!((y|0)>1&le<<24>>24==48)){_=22;break}if(ve=j[oe+1|0]|0,!((ve<<24>>24|0)==120|(ve<<24>>24|0)==88)){_=22;break}oe=oe+2|0}else(le|0)==32?oe=w:_=22;while(!1);(_|0)==22&&(oe=pe),ve=re|0,Di(o,m),jl(pe,oe,w,ve,te,C,o),vi(r[o>>2]|0)|0,r[B>>2]=r[h>>2],tn(n,B,ve,r[te>>2]|0,r[C>>2]|0,m,g),D=q}function a8(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=+w;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0;y=D,D=D+320|0,pe=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[pe>>2],pe=y|0,ne=y+8|0,te=y+40|0,oe=y+48|0,B=y+280|0,o=y+288|0,C=y+296|0,_=y+304|0,q=y+312|0,r[pe>>2]=37,r[pe+4>>2]=0,ve=pe+1|0,le=m+4|0,ge=r[le>>2]|0,(ge&2048|0)!=0&&(j[ve]=43,ve=pe+2|0),(ge&1024|0)!=0&&(j[ve]=35,ve=ve+1|0),ue=ge&260,Te=ge>>>14;do if((ue|0)==260)if((Te&1|0)==0){j[ve]=97,ue=0;break}else{j[ve]=65,ue=0;break}else if(j[ve]=46,ge=ve+2|0,j[ve+1|0]=42,(ue|0)==4)if((Te&1|0)==0){j[ge]=102,ue=1;break}else{j[ge]=70,ue=1;break}else if((ue|0)==256)if((Te&1|0)==0){j[ge]=101,ue=1;break}else{j[ge]=69,ue=1;break}else if((Te&1|0)==0){j[ge]=103,ue=1;break}else{j[ge]=71,ue=1;break}while(!1);ne=ne|0,r[te>>2]=ne;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;Te=Ct(2147483647,14472,0)|0,r[8330]=Te}while(!1);ve=r[8330]|0,ue?(ge=Gr(ne,30,ve,pe,(Te=D,D=D+16|0,r[Te>>2]=r[m+8>>2],p0[Te+8>>3]=w,Te|0))|0,D=Te):(ge=Gr(ne,30,ve,pe,(Te=D,D=D+8|0,p0[Te>>3]=w,Te|0))|0,D=Te);do if((ge|0)>29){if(ve=(j[51808]|0)==0,ue){do if(ve){if((ei(51808)|0)==0)break;Te=Ct(2147483647,14472,0)|0,r[8330]=Te}while(!1);ge=en(te,r[8330]|0,pe,(Te=D,D=D+16|0,r[Te>>2]=r[m+8>>2],p0[Te+8>>3]=w,Te|0))|0,D=Te}else{do if(ve){if((ei(51808)|0)==0)break;Te=Ct(2147483647,14472,0)|0,r[8330]=Te}while(!1);ge=en(te,r[8330]|0,pe,(Te=D,D=D+16|0,r[Te>>2]=r[m+8>>2],p0[Te+8>>3]=w,Te|0))|0,D=Te}if(ue=r[te>>2]|0,(ue|0)!=0){pe=ue,ve=ue;break}Pi(),ve=r[te>>2]|0,pe=ve}else pe=0,ve=r[te>>2]|0;while(!1);ue=ve+ge|0,le=r[le>>2]&176;do if((le|0)==32)le=ue;else if((le|0)==16){if(le=j[ve]|0,(le<<24>>24|0)==45|(le<<24>>24|0)==43){le=ve+1|0;break}if(!((ge|0)>1&le<<24>>24==48)){re=53;break}if(Te=j[ve+1|0]|0,!((Te<<24>>24|0)==120|(Te<<24>>24|0)==88)){re=53;break}le=ve+2|0}else re=53;while(!1);(re|0)==53&&(le=ve);do if((ve|0)==(ne|0))re=oe|0,oe=0;else{if(Te=ii(ge<<3)|0,oe=Te,(Te|0)!=0){re=oe,ne=ve;break}Pi(),re=oe,ne=r[te>>2]|0}while(!1);if(Di(C,m),Vh(ne,le,ue,re,B,o,C),vi(r[C>>2]|0)|0,ge=h|0,r[q>>2]=r[ge>>2],tn(_,q,re,r[B>>2]|0,r[o>>2]|0,m,g),Te=r[_>>2]|0,r[ge>>2]=Te,r[n>>2]=Te,(oe|0)!=0&&Ft(oe),(pe|0)==0){D=y;return}Ft(pe),D=y}function Vh(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0;C=D,D=D+48|0,q=C|0,B=C+16|0,_=C+32|0,te=y|0,y=r[te>>2]|0,(r[8714]|0)!=-1&&(r[B>>2]=34856,r[B+4>>2]=16,r[B+8>>2]=0,Vt(34856,B,114)),re=(r[8715]|0)-1|0,B=r[y+8>>2]|0,(r[y+12>>2]|0)-B>>2>>>0>re>>>0||(ze=qt(4)|0,Be=ze,h0(Be),Wt(ze|0,25544,156)),B=r[B+(re<<2)>>2]|0,(B|0)==0&&(ze=qt(4)|0,Be=ze,h0(Be),Wt(ze|0,25544,156)),y=B,te=r[te>>2]|0,(r[8618]|0)!=-1&&(r[q>>2]=34472,r[q+4>>2]=16,r[q+8>>2]=0,Vt(34472,q,114)),re=(r[8619]|0)-1|0,q=r[te+8>>2]|0,(r[te+12>>2]|0)-q>>2>>>0>re>>>0||(ze=qt(4)|0,Be=ze,h0(Be),Wt(ze|0,25544,156)),te=r[q+(re<<2)>>2]|0,(te|0)==0&&(ze=qt(4)|0,Be=ze,h0(Be),Wt(ze|0,25544,156)),re=te,si[r[(r[te>>2]|0)+20>>2]&127](_,re),r[w>>2]=m,q=j[n]|0,(q<<24>>24|0)==45|(q<<24>>24|0)==43?(ze=ni[r[(r[B>>2]|0)+44>>2]&63](y,q)|0,pe=r[w>>2]|0,r[w>>2]=pe+4,r[pe>>2]=ze,pe=n+1|0):pe=n,q=h;e:do if((q-pe|0)>1){if((j[pe]|0)!=48){ne=21;break}if(oe=pe+1|0,ze=j[oe]|0,!((ze<<24>>24|0)==120|(ze<<24>>24|0)==88)){ne=21;break}if(Be=B,qe=ni[r[(r[Be>>2]|0)+44>>2]&63](y,48)|0,ze=r[w>>2]|0,r[w>>2]=ze+4,r[ze>>2]=qe,pe=pe+2|0,Be=ni[r[(r[Be>>2]|0)+44>>2]&63](y,j[oe]|0)|0,ze=r[w>>2]|0,r[w>>2]=ze+4,r[ze>>2]=Be,pe>>>0<h>>>0)oe=pe;else{le=pe,oe=pe;break}for(;;){le=j[oe]|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ze=Ct(2147483647,14472,0)|0,r[8330]=ze}while(!1);if(ue=oe+1|0,(L0(le<<24>>24|0,r[8330]|0)|0)==0){le=pe;break e}if(ue>>>0<h>>>0)oe=ue;else{le=pe,oe=ue;break}}}else ne=21;while(!1);e:do if((ne|0)==21){if(pe>>>0<h>>>0)oe=pe;else{le=pe,oe=pe;break}for(;;){le=j[oe]|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ze=Ct(2147483647,14472,0)|0,r[8330]=ze}while(!1);if(ne=oe+1|0,(Pr(le<<24>>24|0,r[8330]|0)|0)==0){le=pe;break e}if(ne>>>0<h>>>0)oe=ne;else{le=pe,oe=ne;break}}}while(!1);ne=_,pe=j[ne]|0,(pe&1)==0?pe=(pe&255)>>>1:pe=r[_+4>>2]|0;do if((pe|0)==0)Lr[r[(r[B>>2]|0)+48>>2]&15](y,le,oe,r[w>>2]|0)|0,ze=(r[w>>2]|0)+(oe-le<<2)|0,r[w>>2]=ze;else{do if((le|0)!=(oe|0)){if(ue=oe-1|0,ue>>>0>le>>>0)pe=le;else break;do ze=j[pe]|0,j[pe]=j[ue]|0,j[ue]=ze,pe=pe+1|0,ue=ue-1|0;while(pe>>>0<ue>>>0)}while(!1);if(ge=_0[r[(r[te>>2]|0)+16>>2]&255](re)|0,le>>>0<oe>>>0)for(pe=_+1|0,Te=_+4|0,ue=_+8|0,ve=B,Be=0,qe=0,Ve=le;;){ze=(j[ne]&1)==0;do if((j[(ze?pe:r[ue>>2]|0)+qe|0]|0)>0){if((Be|0)!=(j[(ze?pe:r[ue>>2]|0)+qe|0]|0))break;Be=r[w>>2]|0,r[w>>2]=Be+4,r[Be>>2]=ge,Be=j[ne]|0,(Be&1)==0?Be=(Be&255)>>>1:Be=r[Te>>2]|0,qe=(qe>>>0<(Be-1|0)>>>0)+qe|0,Be=0}while(!1);if(Ye=ni[r[(r[ve>>2]|0)+44>>2]&63](y,j[Ve]|0)|0,He=r[w>>2]|0,ze=He+4|0,r[w>>2]=ze,r[He>>2]=Ye,Ve=Ve+1|0,Ve>>>0<oe>>>0)Be=Be+1|0;else break}else ze=r[w>>2]|0;if(le=m+(le-n<<2)|0,(le|0)==(ze|0)||(ne=ze-4|0,!(ne>>>0>le>>>0)))break;do Ye=r[le>>2]|0,r[le>>2]=r[ne>>2],r[ne>>2]=Ye,le=le+4|0,ne=ne-4|0;while(le>>>0<ne>>>0)}while(!1);e:do if(oe>>>0<h>>>0){for(le=B;ne=j[oe]|0,ne<<24>>24!=46;)if(He=ni[r[(r[le>>2]|0)+44>>2]&63](y,ne)|0,Ye=r[w>>2]|0,ze=Ye+4|0,r[w>>2]=ze,r[Ye>>2]=He,oe=oe+1|0,!(oe>>>0<h>>>0))break e;He=_0[r[(r[te>>2]|0)+12>>2]&255](re)|0,Ye=r[w>>2]|0,ze=Ye+4|0,r[w>>2]=ze,r[Ye>>2]=He,oe=oe+1|0}while(!1);if(Lr[r[(r[B>>2]|0)+48>>2]&15](y,oe,h,ze)|0,y=(r[w>>2]|0)+(q-oe<<2)|0,r[w>>2]=y,(o|0)==(h|0)){Ye=y,r[g>>2]=Ye,R0(_),D=C;return}Ye=m+(o-n<<2)|0,r[g>>2]=Ye,R0(_),D=C}function o8(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=+w;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0;C=D,D=D+320|0,pe=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[pe>>2],pe=C|0,ne=C+8|0,te=C+40|0,oe=C+48|0,q=C+280|0,o=C+288|0,B=C+296|0,_=C+304|0,y=C+312|0,r[pe>>2]=37,r[pe+4>>2]=0,ge=pe+1|0,le=m+4|0,ve=r[le>>2]|0,(ve&2048|0)!=0&&(j[ge]=43,ge=pe+2|0),(ve&1024|0)!=0&&(j[ge]=35,ge=ge+1|0),ue=ve&260,ve=ve>>>14;do if((ue|0)==260)if(j[ge]=76,ue=ge+1|0,(ve&1|0)==0){j[ue]=97,ue=0;break}else{j[ue]=65,ue=0;break}else if(j[ge]=46,j[ge+1|0]=42,j[ge+2|0]=76,ge=ge+3|0,(ue|0)==256)if((ve&1|0)==0){j[ge]=101,ue=1;break}else{j[ge]=69,ue=1;break}else if((ue|0)==4)if((ve&1|0)==0){j[ge]=102,ue=1;break}else{j[ge]=70,ue=1;break}else if((ve&1|0)==0){j[ge]=103,ue=1;break}else{j[ge]=71,ue=1;break}while(!1);ne=ne|0,r[te>>2]=ne;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ge=Ct(2147483647,14472,0)|0,r[8330]=ge}while(!1);ve=r[8330]|0,ue?(ge=Gr(ne,30,ve,pe,(ve=D,D=D+16|0,r[ve>>2]=r[m+8>>2],p0[ve+8>>3]=w,ve|0))|0,D=ve):(ge=Gr(ne,30,ve,pe,(ve=D,D=D+8|0,p0[ve>>3]=w,ve|0))|0,D=ve);do if((ge|0)>29){if(ve=(j[51808]|0)==0,ue){do if(ve){if((ei(51808)|0)==0)break;ge=Ct(2147483647,14472,0)|0,r[8330]=ge}while(!1);ge=en(te,r[8330]|0,pe,(ve=D,D=D+16|0,r[ve>>2]=r[m+8>>2],p0[ve+8>>3]=w,ve|0))|0,D=ve}else{do if(ve){if((ei(51808)|0)==0)break;ge=Ct(2147483647,14472,0)|0,r[8330]=ge}while(!1);ge=en(te,r[8330]|0,pe,(ve=D,D=D+8|0,p0[ve>>3]=w,ve|0))|0,D=ve}if(ue=r[te>>2]|0,(ue|0)!=0){pe=ue,ve=ue;break}Pi(),ve=r[te>>2]|0,pe=ve}else pe=0,ve=r[te>>2]|0;while(!1);ue=ve+ge|0,le=r[le>>2]&176;do if((le|0)==16){if(le=j[ve]|0,(le<<24>>24|0)==45|(le<<24>>24|0)==43){le=ve+1|0;break}if(!((ge|0)>1&le<<24>>24==48)){re=53;break}if(le=j[ve+1|0]|0,!((le<<24>>24|0)==120|(le<<24>>24|0)==88)){re=53;break}le=ve+2|0}else(le|0)==32?le=ue:re=53;while(!1);(re|0)==53&&(le=ve);do if((ve|0)==(ne|0))re=oe|0,oe=0;else{if(ge=ii(ge<<3)|0,oe=ge,(ge|0)!=0){re=oe,ne=ve;break}Pi(),re=oe,ne=r[te>>2]|0}while(!1);if(Di(B,m),Vh(ne,le,ue,re,q,o,B),vi(r[B>>2]|0)|0,ve=h|0,r[y>>2]=r[ve>>2],tn(_,y,re,r[q>>2]|0,r[o>>2]|0,m,g),ge=r[_>>2]|0,r[ve>>2]=ge,r[n>>2]=ge,(oe|0)!=0&&Ft(oe),(pe|0)==0){D=C;return}Ft(pe),D=C}function l8(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0;y=D,D=D+216|0,re=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[re>>2],re=y|0,C=y+24|0,_=y+48|0,le=y+200|0,o=y+208|0,q=y+16|0,j[q]=j[19440]|0,j[q+1|0]=j[19441]|0,j[q+2|0]=j[19442]|0,j[q+3|0]=j[19443]|0,j[q+4|0]=j[19444]|0,j[q+5|0]=j[19445]|0,B=C|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;ne=Ct(2147483647,14472,0)|0,r[8330]=ne}while(!1);q=Gr(B,20,r[8330]|0,q,(te=D,D=D+8|0,r[te>>2]=w,te|0))|0,D=te,w=C+q|0,te=r[m+4>>2]&176;do if((te|0)==16){if(te=j[B]|0,(te<<24>>24|0)==45|(te<<24>>24|0)==43){te=C+1|0;break}if(!((q|0)>1&te<<24>>24==48)){oe=12;break}if(ne=j[C+1|0]|0,!((ne<<24>>24|0)==120|(ne<<24>>24|0)==88)){oe=12;break}te=C+2|0}else(te|0)==32?te=w:oe=12;while(!1);(oe|0)==12&&(te=B),Di(le,m),oe=le|0,le=r[oe>>2]|0,(r[8714]|0)!=-1&&(r[re>>2]=34856,r[re+4>>2]=16,r[re+8>>2]=0,Vt(34856,re,114)),re=(r[8715]|0)-1|0,ne=r[le+8>>2]|0;do if((r[le+12>>2]|0)-ne>>2>>>0>re>>>0){if(le=r[ne+(re<<2)>>2]|0,(le|0)==0)break;if(vi(r[oe>>2]|0)|0,re=_|0,Lr[r[(r[le>>2]|0)+48>>2]&15](le,B,w,re)|0,B=_+(q<<2)|0,(te|0)==(w|0)){ne=B,oe=h|0,oe=r[oe>>2]|0,le=o|0,r[le>>2]=oe,tn(n,o,re,ne,B,m,g),D=y;return}ne=_+(te-C<<2)|0,oe=h|0,oe=r[oe>>2]|0,le=o|0,r[le>>2]=oe,tn(n,o,re,ne,B,m,g),D=y;return}while(!1);ne=qt(4)|0,h0(ne),Wt(ne|0,25544,156)}function rn(n,o,h,m,g,w,y,_,C){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0;var B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0;B=D,D=D+48|0,pe=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[pe>>2],pe=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[pe>>2],pe=B|0,ne=B+16|0,re=B+24|0,te=B+32|0,oe=B+40|0,Di(ne,g),ne=ne|0,le=r[ne>>2]|0,(r[8716]|0)!=-1&&(r[pe>>2]=34864,r[pe+4>>2]=16,r[pe+8>>2]=0,Vt(34864,pe,114)),ue=(r[8717]|0)-1|0,pe=r[le+8>>2]|0;do if((r[le+12>>2]|0)-pe>>2>>>0>ue>>>0){if(ge=r[pe+(ue<<2)>>2]|0,(ge|0)==0)break;le=ge,vi(r[ne>>2]|0)|0,r[w>>2]=0,ue=h|0;e:do if((_|0)==(C|0))q=67;else{ne=m|0,pe=ge,ve=ge+8|0,Be=ge,Ve=o,qe=te|0,Te=oe|0,ge=re|0,ze=0;t:for(;;){for(;;){if((ze|0)!=0){q=67;break e}ze=r[ue>>2]|0;do if((ze|0)==0)ze=0;else{if((r[ze+12>>2]|0)!=(r[ze+16>>2]|0)||(_0[r[(r[ze>>2]|0)+36>>2]&255](ze)|0)!=-1)break;r[ue>>2]=0,ze=0}while(!1);Ye=(ze|0)==0,He=r[ne>>2]|0;i:do if((He|0)==0)q=20;else{do if((r[He+12>>2]|0)==(r[He+16>>2]|0)){if((_0[r[(r[He>>2]|0)+36>>2]&255](He)|0)!=-1)break;r[ne>>2]=0,q=20;break i}while(!1);if(!Ye){q=21;break t}}while(!1);if((q|0)==20)if(q=0,Ye){q=21;break t}else He=0;if((Yi[r[(r[pe>>2]|0)+36>>2]&63](le,j[_]|0,0)|0)<<24>>24==37){q=24;break}if(Ge=j[_]|0,Ge<<24>>24>-1&&(Ye=r[ve>>2]|0,(be[Ye+(Ge<<24>>24<<1)>>1]&8192)!=0)){q=35;break}if(He=ze+12|0,Ge=r[He>>2]|0,Ye=ze+16|0,(Ge|0)==(r[Ye>>2]|0)?Ge=(_0[r[(r[ze>>2]|0)+36>>2]&255](ze)|0)&255:Ge=j[Ge]|0,o0=ni[r[(r[Be>>2]|0)+12>>2]&63](le,Ge)|0,o0<<24>>24==(ni[r[(r[Be>>2]|0)+12>>2]&63](le,j[_]|0)|0)<<24>>24){q=62;break}r[w>>2]=4,ze=4}i:do if((q|0)==24){if(q=0,Ge=_+1|0,(Ge|0)==(C|0)){q=25;break t}if(Ye=Yi[r[(r[pe>>2]|0)+36>>2]&63](le,j[Ge]|0,0)|0,(Ye<<24>>24|0)==69|(Ye<<24>>24|0)==48){if(Ge=_+2|0,(Ge|0)==(C|0)){q=28;break t}_=Ye,Ye=Yi[r[(r[pe>>2]|0)+36>>2]&63](le,j[Ge]|0,0)|0}else _=0;o0=r[(r[Ve>>2]|0)+36>>2]|0,r[qe>>2]=ze,r[Te>>2]=He,Gs[o0&15](re,o,te,oe,g,w,y,Ye,_),r[ue>>2]=r[ge>>2],_=Ge+1|0}else if((q|0)==35){for(;;){if(q=0,_=_+1|0,(_|0)==(C|0)){_=C;break}if(Ge=j[_]|0,!(Ge<<24>>24>-1)||(be[Ye+(Ge<<24>>24<<1)>>1]&8192)==0)break;q=35}for(Ge=He,Ye=He;;){do if((ze|0)==0)ze=0;else{if((r[ze+12>>2]|0)!=(r[ze+16>>2]|0)||(_0[r[(r[ze>>2]|0)+36>>2]&255](ze)|0)!=-1)break;r[ue>>2]=0,ze=0}while(!1);He=(ze|0)==0;do if((Ge|0)==0)q=48;else{if((r[Ge+12>>2]|0)!=(r[Ge+16>>2]|0))if(He){He=Ge;break}else break i;if((_0[r[(r[Ge>>2]|0)+36>>2]&255](Ge)|0)==-1){r[ne>>2]=0,Ye=0,q=48;break}else if(He^(Ye|0)==0){He=Ye;break}else break i}while(!1);if((q|0)==48){if(q=0,He)break i;He=0}if(Ge=ze+12|0,o0=r[Ge>>2]|0,r0=ze+16|0,(o0|0)==(r[r0>>2]|0)?o0=(_0[r[(r[ze>>2]|0)+36>>2]&255](ze)|0)&255:o0=j[o0]|0,!(o0<<24>>24>-1)||(be[(r[ve>>2]|0)+(o0<<24>>24<<1)>>1]&8192)==0)break i;if(o0=r[Ge>>2]|0,(o0|0)==(r[r0>>2]|0)){_0[r[(r[ze>>2]|0)+40>>2]&255](ze)|0,Ge=He;continue}else{r[Ge>>2]=o0+1,Ge=He;continue}}}else(q|0)==62&&(q=0,Ge=r[He>>2]|0,(Ge|0)==(r[Ye>>2]|0)?_0[r[(r[ze>>2]|0)+40>>2]&255](ze)|0:r[He>>2]=Ge+1,_=_+1|0);while(!1);if((_|0)==(C|0)){q=67;break e}ze=r[w>>2]|0}if((q|0)==21){r[w>>2]=4;break}else if((q|0)==25){r[w>>2]=4;break}else if((q|0)==28){r[w>>2]=4;break}}while(!1);(q|0)==67&&(ze=r[ue>>2]|0),h=h|0;do if((ze|0)==0)ze=0;else{if((r[ze+12>>2]|0)!=(r[ze+16>>2]|0)||(_0[r[(r[ze>>2]|0)+36>>2]&255](ze)|0)!=-1)break;r[h>>2]=0,ze=0}while(!1);h=(ze|0)==0,m=m|0,C=r[m>>2]|0;e:do if((C|0)==0)q=77;else{do if((r[C+12>>2]|0)==(r[C+16>>2]|0)){if((_0[r[(r[C>>2]|0)+36>>2]&255](C)|0)!=-1)break;r[m>>2]=0,q=77;break e}while(!1);if(!h)break;o0=n|0,r[o0>>2]=ze,D=B;return}while(!1);do if((q|0)==77){if(h)break;o0=n|0,r[o0>>2]=ze,D=B;return}while(!1);r[w>>2]=r[w>>2]|2,o0=n|0,r[o0>>2]=ze,D=B;return}while(!1);o0=qt(4)|0,h0(o0),Wt(o0|0,25544,156)}function u8(n){n=n|0,$0(n)}function c8(n){}function h8(n){return 2}function d8(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0;_=D,D=D+16|0,q=h,B=D,D=D+4|0,D=D+7&-8,r[B>>2]=r[q>>2],q=m,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[q>>2],m=_|0,h=_+8|0,r[m>>2]=r[B>>2],r[h>>2]=r[C>>2],rn(n,o,m,h,g,w,y,19424,19432),D=_}function f8(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0;if(_=D,D=D+16|0,C=h,q=D,D=D+4|0,D=D+7&-8,r[q>>2]=r[C>>2],C=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[C>>2],C=_|0,B=_+8|0,h=o+8|0,h=_0[r[(r[h>>2]|0)+20>>2]&255](h)|0,r[C>>2]=r[q>>2],r[B>>2]=r[m>>2],m=j[h]|0,(m&1)==0){q=(m&255)>>>1,m=h+1|0,h=h+1|0,q=h+q|0,rn(n,o,C,B,g,w,y,m,q),D=_;return}else{m=r[h+8>>2]|0,q=r[h+4>>2]|0,h=m,q=m+q|0,rn(n,o,C,B,g,w,y,h,q),D=_;return}}function p8(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0;_=D,D=D+32|0,C=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[C>>2],C=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[C>>2],C=_|0,q=_+8|0,B=_+24|0,Di(B,g),g=B|0,B=r[g>>2]|0,(r[8716]|0)!=-1&&(r[q>>2]=34864,r[q+4>>2]=16,r[q+8>>2]=0,Vt(34864,q,114)),q=(r[8717]|0)-1|0,te=r[B+8>>2]|0;do if((r[B+12>>2]|0)-te>>2>>>0>q>>>0){if(B=r[te+(q<<2)>>2]|0,(B|0)==0)break;if(vi(r[g>>2]|0)|0,te=r[m>>2]|0,m=o+8|0,m=_0[r[r[m>>2]>>2]&255](m)|0,r[C>>2]=te,m=(ao(h,C,m,m+168|0,B,w,0)|0)-m|0,(m|0)>=168){q=h|0,q=r[q>>2]|0,te=n|0,r[te>>2]=q,D=_;return}r[y+24>>2]=((m|0)/12|0|0)%7|0,q=h|0,q=r[q>>2]|0,te=n|0,r[te>>2]=q,D=_;return}while(!1);te=qt(4)|0,h0(te),Wt(te|0,25544,156)}function m8(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0;_=D,D=D+32|0,C=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[C>>2],C=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[C>>2],C=_|0,q=_+8|0,B=_+24|0,Di(B,g),g=B|0,B=r[g>>2]|0,(r[8716]|0)!=-1&&(r[q>>2]=34864,r[q+4>>2]=16,r[q+8>>2]=0,Vt(34864,q,114)),q=(r[8717]|0)-1|0,te=r[B+8>>2]|0;do if((r[B+12>>2]|0)-te>>2>>>0>q>>>0){if(B=r[te+(q<<2)>>2]|0,(B|0)==0)break;if(vi(r[g>>2]|0)|0,te=r[m>>2]|0,m=o+8|0,m=_0[r[(r[m>>2]|0)+4>>2]&255](m)|0,r[C>>2]=te,m=(ao(h,C,m,m+288|0,B,w,0)|0)-m|0,(m|0)>=288){q=h|0,q=r[q>>2]|0,te=n|0,r[te>>2]=q,D=_;return}r[y+16>>2]=((m|0)/12|0|0)%12|0,q=h|0,q=r[q>>2]|0,te=n|0,r[te>>2]=q,D=_;return}while(!1);te=qt(4)|0,h0(te),Wt(te|0,25544,156)}function g8(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0;o=D,D=D+32|0,_=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[_>>2],_=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[_>>2],_=o|0,B=o+8|0,C=o+24|0,Di(C,g),g=C|0,C=r[g>>2]|0,(r[8716]|0)!=-1&&(r[B>>2]=34864,r[B+4>>2]=16,r[B+8>>2]=0,Vt(34864,B,114)),q=(r[8717]|0)-1|0,B=r[C+8>>2]|0;do if((r[C+12>>2]|0)-B>>2>>>0>q>>>0){if(C=r[B+(q<<2)>>2]|0,(C|0)==0)break;if(vi(r[g>>2]|0)|0,r[_>>2]=r[m>>2],m=Ns(h,_,w,C,4)|0,(r[w>>2]&4|0)!=0){B=h|0,B=r[B>>2]|0,q=n|0,r[q>>2]=B,D=o;return}(m|0)<69?w=m+2e3|0:w=(m-69|0)>>>0<31?m+1900|0:m,r[y+20>>2]=w-1900,B=h|0,B=r[B>>2]|0,q=n|0,r[q>>2]=B,D=o;return}while(!1);q=qt(4)|0,h0(q),Wt(q|0,25544,156)}function y8(n,o,h,m,g,w,y,_,C){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0;var B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0,z0=0,m0=0,x0=0,A0=0;C=D,D=D+328|0,ve=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ve>>2],ve=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ve>>2],ve=C|0,ue=C+8|0,o0=C+16|0,l0=C+24|0,O0=C+32|0,Z0=C+40|0,He=C+48|0,ne=C+56|0,P0=C+64|0,pe=C+72|0,G0=C+80|0,ut=C+88|0,x0=C+96|0,X0=C+112|0,q=C+120|0,re=C+128|0,oe=C+136|0,z0=C+144|0,g0=C+152|0,Be=C+160|0,S0=C+168|0,v0=C+176|0,E0=C+184|0,ge=C+192|0,Te=C+200|0,D0=C+208|0,ot=C+216|0,N0=C+224|0,H0=C+232|0,tt=C+240|0,ct=C+248|0,r0=C+256|0,Ye=C+264|0,Ge=C+272|0,Ve=C+280|0,qe=C+288|0,te=C+296|0,le=C+304|0,B=C+312|0,ze=C+320|0,r[w>>2]=0,Di(X0,g),X0=X0|0,m0=r[X0>>2]|0,(r[8716]|0)!=-1&&(r[x0>>2]=34864,r[x0+4>>2]=16,r[x0+8>>2]=0,Vt(34864,x0,114)),x0=(r[8717]|0)-1|0,A0=r[m0+8>>2]|0;do if((r[m0+12>>2]|0)-A0>>2>>>0>x0>>>0){if(m0=r[A0+(x0<<2)>>2]|0,(m0|0)==0)break;vi(r[X0>>2]|0)|0;e:do switch(_<<24>>24|0){case 97:case 65:{if(x0=r[m>>2]|0,A0=o+8|0,A0=_0[r[r[A0>>2]>>2]&255](A0)|0,r[ut>>2]=x0,w=(ao(h,ut,A0,A0+168|0,m0,w,0)|0)-A0|0,(w|0)>=168)break e;r[y+24>>2]=((w|0)/12|0|0)%7|0;break}case 68:{A0=h|0,r[g0>>2]=r[A0>>2],r[Be>>2]=r[m>>2],rn(z0,o,g0,Be,g,w,y,19416,19424),r[A0>>2]=r[z0>>2];break}case 73:{y=y+8|0,r[ne>>2]=r[m>>2],g=Ns(h,ne,w,m0,2)|0,o=r[w>>2]|0;do if((o&4|0)==0){if(!((g-1|0)>>>0<12))break;r[y>>2]=g;break e}while(!1);r[w>>2]=o|4;break}case 37:{r[ze>>2]=r[m>>2],w8(0,h,ze,w,m0);break}case 106:if(r[He>>2]=r[m>>2],g=Ns(h,He,w,m0,3)|0,o=r[w>>2]|0,(o&4|0)==0&(g|0)<366){r[y+28>>2]=g;break e}else{r[w>>2]=o|4;break e}case 109:if(r[Z0>>2]=r[m>>2],o=Ns(h,Z0,w,m0,2)|0,g=r[w>>2]|0,(g&4|0)==0&(o|0)<13){r[y+16>>2]=o-1;break e}else{r[w>>2]=g|4;break e}case 114:{A0=h|0,r[ot>>2]=r[A0>>2],r[N0>>2]=r[m>>2],rn(D0,o,ot,N0,g,w,y,19392,19403),r[A0>>2]=r[D0>>2];break}case 82:{A0=h|0,r[tt>>2]=r[A0>>2],r[ct>>2]=r[m>>2],rn(H0,o,tt,ct,g,w,y,19384,19389),r[A0>>2]=r[H0>>2];break}case 83:if(r[l0>>2]=r[m>>2],g=Ns(h,l0,w,m0,2)|0,o=r[w>>2]|0,(o&4|0)==0&(g|0)<61){r[y>>2]=g;break e}else{r[w>>2]=o|4;break e}case 121:{if(r[ue>>2]=r[m>>2],g=Ns(h,ue,w,m0,4)|0,(r[w>>2]&4|0)!=0)break e;(g|0)<69?w=g+2e3|0:w=(g-69|0)>>>0<31?g+1900|0:g,r[y+20>>2]=w-1900;break}case 89:{if(r[ve>>2]=r[m>>2],g=Ns(h,ve,w,m0,4)|0,(r[w>>2]&4|0)!=0)break e;r[y+20>>2]=g-1900;break}case 110:case 116:{r[ge>>2]=r[m>>2],A8(0,h,ge,w,m0);break}case 112:{r[Te>>2]=r[m>>2],v8(o,y+8|0,h,Te,w,m0);break}case 120:{A0=r[(r[o>>2]|0)+20>>2]|0,r[Ve>>2]=r[h>>2],r[qe>>2]=r[m>>2],Hr[A0&127](n,o,Ve,qe,g,w,y),D=C;return}case 88:{re=o+8|0,re=_0[r[(r[re>>2]|0)+24>>2]&255](re)|0,q=h|0,r[le>>2]=r[q>>2],r[B>>2]=r[m>>2],m=j[re]|0,(m&1)==0?(oe=(m&255)>>>1,m=re+1|0,re=re+1|0):(A0=r[re+8>>2]|0,oe=r[re+4>>2]|0,m=A0,re=A0),rn(te,o,le,B,g,w,y,m,re+oe|0),r[q>>2]=r[te>>2];break}case 84:{A0=h|0,r[Ye>>2]=r[A0>>2],r[Ge>>2]=r[m>>2],rn(r0,o,Ye,Ge,g,w,y,19376,19384),r[A0>>2]=r[r0>>2];break}case 119:if(r[o0>>2]=r[m>>2],g=Ns(h,o0,w,m0,1)|0,o=r[w>>2]|0,(o&4|0)==0&(g|0)<7){r[y+24>>2]=g;break e}else{r[w>>2]=o|4;break e}case 70:{A0=h|0,r[v0>>2]=r[A0>>2],r[E0>>2]=r[m>>2],rn(S0,o,v0,E0,g,w,y,19408,19416),r[A0>>2]=r[S0>>2];break}case 72:if(r[P0>>2]=r[m>>2],g=Ns(h,P0,w,m0,2)|0,o=r[w>>2]|0,(o&4|0)==0&(g|0)<24){r[y+8>>2]=g;break e}else{r[w>>2]=o|4;break e}case 77:if(r[O0>>2]=r[m>>2],g=Ns(h,O0,w,m0,2)|0,o=r[w>>2]|0,(o&4|0)==0&(g|0)<60){r[y+4>>2]=g;break e}else{r[w>>2]=o|4;break e}case 100:case 101:{y=y+12|0,r[pe>>2]=r[m>>2],g=Ns(h,pe,w,m0,2)|0,o=r[w>>2]|0;do if((o&4|0)==0){if(!((g-1|0)>>>0<31))break;r[y>>2]=g;break e}while(!1);r[w>>2]=o|4;break}case 98:case 66:case 104:{if(x0=r[m>>2]|0,A0=o+8|0,A0=_0[r[(r[A0>>2]|0)+4>>2]&255](A0)|0,r[G0>>2]=x0,w=(ao(h,G0,A0,A0+288|0,m0,w,0)|0)-A0|0,(w|0)>=288)break e;r[y+16>>2]=((w|0)/12|0|0)%12|0;break}case 99:{te=o+8|0,te=_0[r[(r[te>>2]|0)+12>>2]&255](te)|0,B=h|0,r[re>>2]=r[B>>2],r[oe>>2]=r[m>>2],m=j[te]|0,(m&1)==0?(m=(m&255)>>>1,le=te+1|0,te=te+1|0):(A0=r[te+8>>2]|0,m=r[te+4>>2]|0,le=A0,te=A0),rn(q,o,re,oe,g,w,y,le,te+m|0),r[B>>2]=r[q>>2];break}default:r[w>>2]=r[w>>2]|4}while(!1);r[n>>2]=r[h>>2],D=C;return}while(!1);A0=qt(4)|0,h0(A0),Wt(A0|0,25544,156)}function A8(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0;n=D,C=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[C>>2],o=o|0,h=h|0,g=g+8|0;e:for(;;){y=r[o>>2]|0;do if((y|0)==0)y=0;else{if((r[y+12>>2]|0)!=(r[y+16>>2]|0))break;if((_0[r[(r[y>>2]|0)+36>>2]&255](y)|0)==-1){r[o>>2]=0,y=0;break}else{y=r[o>>2]|0;break}}while(!1);_=(y|0)==0,y=r[h>>2]|0;do if((y|0)==0)w=12;else{if((r[y+12>>2]|0)!=(r[y+16>>2]|0)){if(_)break;break e}if((_0[r[(r[y>>2]|0)+36>>2]&255](y)|0)==-1){r[h>>2]=0,w=12;break}else{if(_)break;break e}}while(!1);if((w|0)==12)if(w=0,_){y=0;break}else y=0;if(C=r[o>>2]|0,_=r[C+12>>2]|0,(_|0)==(r[C+16>>2]|0)?_=(_0[r[(r[C>>2]|0)+36>>2]&255](C)|0)&255:_=j[_]|0,!(_<<24>>24>-1)||(be[(r[g>>2]|0)+(_<<24>>24<<1)>>1]&8192)==0)break;if(C=r[o>>2]|0,_=C+12|0,y=r[_>>2]|0,(y|0)==(r[C+16>>2]|0)){_0[r[(r[C>>2]|0)+40>>2]&255](C)|0;continue}else{r[_>>2]=y+1;continue}}g=r[o>>2]|0;do if((g|0)==0)g=0;else{if((r[g+12>>2]|0)!=(r[g+16>>2]|0))break;if((_0[r[(r[g>>2]|0)+36>>2]&255](g)|0)==-1){r[o>>2]=0,g=0;break}else{g=r[o>>2]|0;break}}while(!1);o=(g|0)==0;e:do if((y|0)==0)w=32;else{do if((r[y+12>>2]|0)==(r[y+16>>2]|0)){if((_0[r[(r[y>>2]|0)+36>>2]&255](y)|0)!=-1)break;r[h>>2]=0,w=32;break e}while(!1);if(!o)break;D=n;return}while(!1);do if((w|0)==32){if(o)break;D=n;return}while(!1);r[m>>2]=r[m>>2]|2,D=n}function v8(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0;if(y=D,D=D+8|0,_=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[_>>2],_=y|0,n=n+8|0,n=_0[r[(r[n>>2]|0)+8>>2]&255](n)|0,C=j[n]|0,(C&1)==0?C=(C&255)>>>1:C=r[n+4>>2]|0,B=j[n+12|0]|0,(B&1)==0?B=(B&255)>>>1:B=r[n+16>>2]|0,(C|0)==(-B|0)){r[g>>2]=r[g>>2]|4,D=y;return}r[_>>2]=r[m>>2],B=ao(h,_,n,n+24|0,w,g,0)|0,w=B-n|0;do if((B|0)==(n|0)){if((r[o>>2]|0)!=12)break;r[o>>2]=0,D=y;return}while(!1);if((w|0)!=12){D=y;return}if(w=r[o>>2]|0,(w|0)>=12){D=y;return}r[o>>2]=w+12,D=y}function w8(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0;n=D,y=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[y>>2],o=o|0,y=r[o>>2]|0;do if((y|0)==0)y=0;else{if((r[y+12>>2]|0)!=(r[y+16>>2]|0))break;if((_0[r[(r[y>>2]|0)+36>>2]&255](y)|0)==-1){r[o>>2]=0,y=0;break}else{y=r[o>>2]|0;break}}while(!1);_=(y|0)==0,h=h|0,y=r[h>>2]|0;e:do if((y|0)==0)w=11;else{do if((r[y+12>>2]|0)==(r[y+16>>2]|0)){if((_0[r[(r[y>>2]|0)+36>>2]&255](y)|0)!=-1)break;r[h>>2]=0,w=11;break e}while(!1);_||(w=12)}while(!1);if((w|0)==11&&(_?w=12:y=0),(w|0)==12){r[m>>2]=r[m>>2]|6,D=n;return}if(C=r[o>>2]|0,_=r[C+12>>2]|0,(_|0)==(r[C+16>>2]|0)?_=(_0[r[(r[C>>2]|0)+36>>2]&255](C)|0)&255:_=j[_]|0,(Yi[r[(r[g>>2]|0)+36>>2]&63](g,_,0)|0)<<24>>24!=37){r[m>>2]=r[m>>2]|4,D=n;return}C=r[o>>2]|0,g=C+12|0,_=r[g>>2]|0,(_|0)==(r[C+16>>2]|0)?_0[r[(r[C>>2]|0)+40>>2]&255](C)|0:r[g>>2]=_+1,g=r[o>>2]|0;do if((g|0)==0)g=0;else{if((r[g+12>>2]|0)!=(r[g+16>>2]|0))break;if((_0[r[(r[g>>2]|0)+36>>2]&255](g)|0)==-1){r[o>>2]=0,g=0;break}else{g=r[o>>2]|0;break}}while(!1);o=(g|0)==0;e:do if((y|0)==0)w=31;else{do if((r[y+12>>2]|0)==(r[y+16>>2]|0)){if((_0[r[(r[y>>2]|0)+36>>2]&255](y)|0)!=-1)break;r[h>>2]=0,w=31;break e}while(!1);if(!o)break;D=n;return}while(!1);do if((w|0)==31){if(o)break;D=n;return}while(!1);r[m>>2]=r[m>>2]|2,D=n}function Ns(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0;w=D,_=o,o=D,D=D+4|0,D=D+7&-8,r[o>>2]=r[_>>2],n=n|0,_=r[n>>2]|0;do if((_|0)==0)_=0;else{if((r[_+12>>2]|0)!=(r[_+16>>2]|0))break;if((_0[r[(r[_>>2]|0)+36>>2]&255](_)|0)==-1){r[n>>2]=0,_=0;break}else{_=r[n>>2]|0;break}}while(!1);_=(_|0)==0,o=o|0,C=r[o>>2]|0;e:do if((C|0)==0)y=11;else{do if((r[C+12>>2]|0)==(r[C+16>>2]|0)){if((_0[r[(r[C>>2]|0)+36>>2]&255](C)|0)!=-1)break;r[o>>2]=0,y=11;break e}while(!1);_||(y=12)}while(!1);if((y|0)==11&&(_?y=12:C=0),(y|0)==12)return r[h>>2]=r[h>>2]|6,oe=0,D=w,oe|0;_=r[n>>2]|0,y=r[_+12>>2]|0,(y|0)==(r[_+16>>2]|0)?B=(_0[r[(r[_>>2]|0)+36>>2]&255](_)|0)&255:B=j[y]|0;do if(B<<24>>24>-1){if(_=m+8|0,(be[(r[_>>2]|0)+(B<<24>>24<<1)>>1]&2048)==0)break;for(y=m,B=(Yi[r[(r[y>>2]|0)+36>>2]&63](m,B,0)|0)<<24>>24,q=r[n>>2]|0,te=q+12|0,re=r[te>>2]|0,(re|0)==(r[q+16>>2]|0)?(_0[r[(r[q>>2]|0)+40>>2]&255](q)|0,q=C):(r[te>>2]=re+1,q=C);;){B=B-48|0,g=g-1|0,te=r[n>>2]|0;do if((te|0)==0)te=0;else{if((r[te+12>>2]|0)!=(r[te+16>>2]|0))break;if((_0[r[(r[te>>2]|0)+36>>2]&255](te)|0)==-1){r[n>>2]=0,te=0;break}else{te=r[n>>2]|0;break}}while(!1);te=(te|0)==0;do if((q|0)==0)q=0;else{if((r[q+12>>2]|0)!=(r[q+16>>2]|0))break;if((_0[r[(r[q>>2]|0)+36>>2]&255](q)|0)!=-1){q=C;break}r[o>>2]=0,q=0,C=0}while(!1);if(re=r[n>>2]|0,!((te^(q|0)==0)&(g|0)>0)){y=40;break}if(te=r[re+12>>2]|0,(te|0)==(r[re+16>>2]|0)?te=(_0[r[(r[re>>2]|0)+36>>2]&255](re)|0)&255:te=j[te]|0,!(te<<24>>24>-1)){y=52;break}if((be[(r[_>>2]|0)+(te<<24>>24<<1)>>1]&2048)==0){y=52;break}if(B=((Yi[r[(r[y>>2]|0)+36>>2]&63](m,te,0)|0)<<24>>24)+(B*10|0)|0,oe=r[n>>2]|0,re=oe+12|0,te=r[re>>2]|0,(te|0)==(r[oe+16>>2]|0)){_0[r[(r[oe>>2]|0)+40>>2]&255](oe)|0;continue}else{r[re>>2]=te+1;continue}}if((y|0)==40){do if((re|0)==0)re=0;else{if((r[re+12>>2]|0)!=(r[re+16>>2]|0))break;if((_0[r[(r[re>>2]|0)+36>>2]&255](re)|0)==-1){r[n>>2]=0,re=0;break}else{re=r[n>>2]|0;break}}while(!1);m=(re|0)==0;e:do if((C|0)==0)y=50;else{do if((r[C+12>>2]|0)==(r[C+16>>2]|0)){if((_0[r[(r[C>>2]|0)+36>>2]&255](C)|0)!=-1)break;r[o>>2]=0,y=50;break e}while(!1);if(!m)break;return D=w,B|0}while(!1);do if((y|0)==50){if(m)break;return D=w,B|0}while(!1);return r[h>>2]=r[h>>2]|2,oe=B,D=w,oe|0}else if((y|0)==52)return D=w,B|0}while(!1);return r[h>>2]=r[h>>2]|4,oe=0,D=w,oe|0}function sn(n,o,h,m,g,w,y,_,C){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0;var B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0;q=D,D=D+48|0,pe=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[pe>>2],pe=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[pe>>2],pe=q|0,ne=q+16|0,oe=q+24|0,te=q+32|0,re=q+40|0,Di(ne,g),ne=ne|0,le=r[ne>>2]|0,(r[8714]|0)!=-1&&(r[pe>>2]=34856,r[pe+4>>2]=16,r[pe+8>>2]=0,Vt(34856,pe,114)),pe=(r[8715]|0)-1|0,ue=r[le+8>>2]|0;do if((r[le+12>>2]|0)-ue>>2>>>0>pe>>>0){if(ge=r[ue+(pe<<2)>>2]|0,(ge|0)==0)break;le=ge,vi(r[ne>>2]|0)|0,r[w>>2]=0,pe=h|0;e:do if((_|0)==(C|0))B=71;else{ve=m|0,ne=ge,ue=ge,Be=ge,qe=o,Te=te|0,Ve=re|0,ge=oe|0,ze=0;t:for(;;){for(;;){if((ze|0)!=0){B=71;break e}ze=r[pe>>2]|0;do if((ze|0)==0)Ye=1,ze=0;else{if(He=r[ze+12>>2]|0,(He|0)==(r[ze+16>>2]|0)?He=_0[r[(r[ze>>2]|0)+36>>2]&255](ze)|0:He=r[He>>2]|0,(He|0)!=-1){Ye=0;break}r[pe>>2]=0,Ye=1,ze=0}while(!1);He=r[ve>>2]|0;do if((He|0)==0)B=23;else if(Ge=r[He+12>>2]|0,(Ge|0)==(r[He+16>>2]|0)?Ge=_0[r[(r[He>>2]|0)+36>>2]&255](He)|0:Ge=r[Ge>>2]|0,(Ge|0)==-1){r[ve>>2]=0,B=23;break}else{if(Ye)break;B=25;break t}while(!1);if((B|0)==23)if(B=0,Ye){B=25;break t}else He=0;if((Yi[r[(r[ne>>2]|0)+52>>2]&63](le,r[_>>2]|0,0)|0)<<24>>24==37){B=28;break}if(Yi[r[(r[ue>>2]|0)+12>>2]&63](le,8192,r[_>>2]|0)|0){B=38;break}if(Ye=ze+12|0,Ge=r[Ye>>2]|0,He=ze+16|0,(Ge|0)==(r[He>>2]|0)?Ge=_0[r[(r[ze>>2]|0)+36>>2]&255](ze)|0:Ge=r[Ge>>2]|0,o0=ni[r[(r[Be>>2]|0)+28>>2]&63](le,Ge)|0,(o0|0)==(ni[r[(r[Be>>2]|0)+28>>2]&63](le,r[_>>2]|0)|0)){B=66;break}r[w>>2]=4,ze=4}i:do if((B|0)==28){if(B=0,Ye=_+4|0,(Ye|0)==(C|0)){B=29;break t}if(Ge=Yi[r[(r[ne>>2]|0)+52>>2]&63](le,r[Ye>>2]|0,0)|0,(Ge<<24>>24|0)==69|(Ge<<24>>24|0)==48){if(Ye=_+8|0,(Ye|0)==(C|0)){B=32;break t}_=Ge,Ge=Yi[r[(r[ne>>2]|0)+52>>2]&63](le,r[Ye>>2]|0,0)|0}else _=0;o0=r[(r[qe>>2]|0)+36>>2]|0,r[Te>>2]=ze,r[Ve>>2]=He,Gs[o0&15](oe,o,te,re,g,w,y,Ge,_),r[pe>>2]=r[ge>>2],_=Ye+4|0}else if((B|0)==38){for(;;){if(B=0,_=_+4|0,(_|0)==(C|0)){_=C;break}if(Yi[r[(r[ue>>2]|0)+12>>2]&63](le,8192,r[_>>2]|0)|0)B=38;else break}for(Ge=He,Ye=He;;){do if((ze|0)==0)He=1,ze=0;else{if(He=r[ze+12>>2]|0,(He|0)==(r[ze+16>>2]|0)?He=_0[r[(r[ze>>2]|0)+36>>2]&255](ze)|0:He=r[He>>2]|0,(He|0)!=-1){He=0;break}r[pe>>2]=0,He=1,ze=0}while(!1);do if((Ge|0)==0)B=53;else if(r0=r[Ge+12>>2]|0,(r0|0)==(r[Ge+16>>2]|0)?Ge=_0[r[(r[Ge>>2]|0)+36>>2]&255](Ge)|0:Ge=r[r0>>2]|0,(Ge|0)==-1){r[ve>>2]=0,Ye=0,B=53;break}else if(He^(Ye|0)==0){He=Ye;break}else break i;while(!1);if((B|0)==53){if(B=0,He)break i;He=0}if(r0=ze+12|0,o0=r[r0>>2]|0,Ge=ze+16|0,(o0|0)==(r[Ge>>2]|0)?o0=_0[r[(r[ze>>2]|0)+36>>2]&255](ze)|0:o0=r[o0>>2]|0,!(Yi[r[(r[ue>>2]|0)+12>>2]&63](le,8192,o0)|0))break i;if(o0=r[r0>>2]|0,(o0|0)==(r[Ge>>2]|0)){_0[r[(r[ze>>2]|0)+40>>2]&255](ze)|0,Ge=He;continue}else{r[r0>>2]=o0+4,Ge=He;continue}}}else(B|0)==66&&(B=0,Ge=r[Ye>>2]|0,(Ge|0)==(r[He>>2]|0)?_0[r[(r[ze>>2]|0)+40>>2]&255](ze)|0:r[Ye>>2]=Ge+4,_=_+4|0);while(!1);if((_|0)==(C|0)){B=71;break e}ze=r[w>>2]|0}if((B|0)==25){r[w>>2]=4;break}else if((B|0)==29){r[w>>2]=4;break}else if((B|0)==32){r[w>>2]=4;break}}while(!1);(B|0)==71&&(ze=r[pe>>2]|0),h=h|0;do if((ze|0)==0)h=1,ze=0;else{if(o=r[ze+12>>2]|0,(o|0)==(r[ze+16>>2]|0)?o=_0[r[(r[ze>>2]|0)+36>>2]&255](ze)|0:o=r[o>>2]|0,(o|0)!=-1){h=0;break}r[h>>2]=0,h=1,ze=0}while(!1);m=m|0,o=r[m>>2]|0;do if((o|0)==0)B=84;else{if(g=r[o+12>>2]|0,(g|0)==(r[o+16>>2]|0)?o=_0[r[(r[o>>2]|0)+36>>2]&255](o)|0:o=r[g>>2]|0,(o|0)==-1){r[m>>2]=0,B=84;break}if(!h)break;o0=n|0,r[o0>>2]=ze,D=q;return}while(!1);do if((B|0)==84){if(h)break;o0=n|0,r[o0>>2]=ze,D=q;return}while(!1);r[w>>2]=r[w>>2]|2,o0=n|0,r[o0>>2]=ze,D=q;return}while(!1);o0=qt(4)|0,h0(o0),Wt(o0|0,25544,156)}function _8(n){n=n|0,$0(n)}function b8(n){}function k8(n){return 2}function S8(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0;_=D,D=D+16|0,q=h,B=D,D=D+4|0,D=D+7&-8,r[B>>2]=r[q>>2],q=m,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[q>>2],m=_|0,h=_+8|0,r[m>>2]=r[B>>2],r[h>>2]=r[C>>2],sn(n,o,m,h,g,w,y,19344,19376),D=_}function E8(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0;if(_=D,D=D+16|0,C=h,q=D,D=D+4|0,D=D+7&-8,r[q>>2]=r[C>>2],C=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[C>>2],C=_|0,B=_+8|0,h=o+8|0,h=_0[r[(r[h>>2]|0)+20>>2]&255](h)|0,r[C>>2]=r[q>>2],r[B>>2]=r[m>>2],m=j[h]|0,(m&1)==0){q=(m&255)>>>1,m=h+4|0,h=h+4|0,q=h+(q<<2)|0,sn(n,o,C,B,g,w,y,m,q),D=_;return}else{m=r[h+8>>2]|0,q=r[h+4>>2]|0,h=m,q=m+(q<<2)|0,sn(n,o,C,B,g,w,y,h,q),D=_;return}}function T8(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0;_=D,D=D+32|0,C=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[C>>2],C=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[C>>2],C=_|0,q=_+8|0,B=_+24|0,Di(B,g),g=B|0,B=r[g>>2]|0,(r[8714]|0)!=-1&&(r[q>>2]=34856,r[q+4>>2]=16,r[q+8>>2]=0,Vt(34856,q,114)),q=(r[8715]|0)-1|0,te=r[B+8>>2]|0;do if((r[B+12>>2]|0)-te>>2>>>0>q>>>0){if(B=r[te+(q<<2)>>2]|0,(B|0)==0)break;if(vi(r[g>>2]|0)|0,te=r[m>>2]|0,m=o+8|0,m=_0[r[r[m>>2]>>2]&255](m)|0,r[C>>2]=te,m=(oo(h,C,m,m+168|0,B,w,0)|0)-m|0,(m|0)>=168){q=h|0,q=r[q>>2]|0,te=n|0,r[te>>2]=q,D=_;return}r[y+24>>2]=((m|0)/12|0|0)%7|0,q=h|0,q=r[q>>2]|0,te=n|0,r[te>>2]=q,D=_;return}while(!1);te=qt(4)|0,h0(te),Wt(te|0,25544,156)}function x8(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0,te=0;_=D,D=D+32|0,C=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[C>>2],C=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[C>>2],C=_|0,q=_+8|0,B=_+24|0,Di(B,g),g=B|0,B=r[g>>2]|0,(r[8714]|0)!=-1&&(r[q>>2]=34856,r[q+4>>2]=16,r[q+8>>2]=0,Vt(34856,q,114)),q=(r[8715]|0)-1|0,te=r[B+8>>2]|0;do if((r[B+12>>2]|0)-te>>2>>>0>q>>>0){if(B=r[te+(q<<2)>>2]|0,(B|0)==0)break;if(vi(r[g>>2]|0)|0,te=r[m>>2]|0,m=o+8|0,m=_0[r[(r[m>>2]|0)+4>>2]&255](m)|0,r[C>>2]=te,m=(oo(h,C,m,m+288|0,B,w,0)|0)-m|0,(m|0)>=288){q=h|0,q=r[q>>2]|0,te=n|0,r[te>>2]=q,D=_;return}r[y+16>>2]=((m|0)/12|0|0)%12|0,q=h|0,q=r[q>>2]|0,te=n|0,r[te>>2]=q,D=_;return}while(!1);te=qt(4)|0,h0(te),Wt(te|0,25544,156)}function C8(n,o,h,m,g,w,y){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0;var _=0,C=0,B=0,q=0;o=D,D=D+32|0,_=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[_>>2],_=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[_>>2],_=o|0,B=o+8|0,C=o+24|0,Di(C,g),g=C|0,C=r[g>>2]|0,(r[8714]|0)!=-1&&(r[B>>2]=34856,r[B+4>>2]=16,r[B+8>>2]=0,Vt(34856,B,114)),q=(r[8715]|0)-1|0,B=r[C+8>>2]|0;do if((r[C+12>>2]|0)-B>>2>>>0>q>>>0){if(C=r[B+(q<<2)>>2]|0,(C|0)==0)break;if(vi(r[g>>2]|0)|0,r[_>>2]=r[m>>2],m=zs(h,_,w,C,4)|0,(r[w>>2]&4|0)!=0){B=h|0,B=r[B>>2]|0,q=n|0,r[q>>2]=B,D=o;return}(m|0)<69?w=m+2e3|0:w=(m-69|0)>>>0<31?m+1900|0:m,r[y+20>>2]=w-1900,B=h|0,B=r[B>>2]|0,q=n|0,r[q>>2]=B,D=o;return}while(!1);q=qt(4)|0,h0(q),Wt(q|0,25544,156)}function D8(n,o,h,m,g,w,y,_,C){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0,C=C|0;var B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0,Be=0,ze=0,He=0,Ye=0,Ge=0,r0=0,o0=0,v0=0,E0=0,S0=0,P0=0,O0=0,Z0=0,G0=0,ot=0,N0=0,D0=0,X0=0,ut=0,tt=0,ct=0,H0=0,g0=0,l0=0,z0=0,m0=0,x0=0,A0=0;C=D,D=D+328|0,ct=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[ct>>2],ct=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[ct>>2],ct=C|0,D0=C+8|0,o0=C+16|0,ue=C+24|0,P0=C+32|0,H0=C+40|0,O0=C+48|0,pe=C+56|0,g0=C+64|0,ne=C+72|0,tt=C+80|0,l0=C+88|0,x0=C+96|0,X0=C+112|0,re=C+120|0,oe=C+128|0,le=C+136|0,S0=C+144|0,v0=C+152|0,E0=C+160|0,ot=C+168|0,Z0=C+176|0,G0=C+184|0,ve=C+192|0,ge=C+200|0,qe=C+208|0,Te=C+216|0,Ve=C+224|0,z0=C+232|0,N0=C+240|0,ut=C+248|0,r0=C+256|0,Ye=C+264|0,Ge=C+272|0,ze=C+280|0,He=C+288|0,B=C+296|0,q=C+304|0,te=C+312|0,Be=C+320|0,r[w>>2]=0,Di(X0,g),X0=X0|0,m0=r[X0>>2]|0,(r[8714]|0)!=-1&&(r[x0>>2]=34856,r[x0+4>>2]=16,r[x0+8>>2]=0,Vt(34856,x0,114)),x0=(r[8715]|0)-1|0,A0=r[m0+8>>2]|0;do if((r[m0+12>>2]|0)-A0>>2>>>0>x0>>>0){if(m0=r[A0+(x0<<2)>>2]|0,(m0|0)==0)break;vi(r[X0>>2]|0)|0;e:do switch(_<<24>>24|0){case 73:{y=y+8|0,r[pe>>2]=r[m>>2],g=zs(h,pe,w,m0,2)|0,o=r[w>>2]|0;do if((o&4|0)==0){if(!((g-1|0)>>>0<12))break;r[y>>2]=g;break e}while(!1);r[w>>2]=o|4;break}case 97:case 65:{if(x0=r[m>>2]|0,A0=o+8|0,A0=_0[r[r[A0>>2]>>2]&255](A0)|0,r[l0>>2]=x0,w=(oo(h,l0,A0,A0+168|0,m0,w,0)|0)-A0|0,(w|0)>=168)break e;r[y+24>>2]=((w|0)/12|0|0)%7|0;break}case 72:if(r[g0>>2]=r[m>>2],g=zs(h,g0,w,m0,2)|0,o=r[w>>2]|0,(o&4|0)==0&(g|0)<24){r[y+8>>2]=g;break e}else{r[w>>2]=o|4;break e}case 109:if(r[H0>>2]=r[m>>2],g=zs(h,H0,w,m0,2)|0,o=r[w>>2]|0,(o&4|0)==0&(g|0)<13){r[y+16>>2]=g-1;break e}else{r[w>>2]=o|4;break e}case 89:{if(r[ct>>2]=r[m>>2],g=zs(h,ct,w,m0,4)|0,(r[w>>2]&4|0)!=0)break e;r[y+20>>2]=g-1900;break}case 37:{r[Be>>2]=r[m>>2],I8(0,h,Be,w,m0);break}case 98:case 66:case 104:{if(x0=r[m>>2]|0,A0=o+8|0,A0=_0[r[(r[A0>>2]|0)+4>>2]&255](A0)|0,r[tt>>2]=x0,w=(oo(h,tt,A0,A0+288|0,m0,w,0)|0)-A0|0,(w|0)>=288)break e;r[y+16>>2]=((w|0)/12|0|0)%12|0;break}case 120:{A0=r[(r[o>>2]|0)+20>>2]|0,r[ze>>2]=r[h>>2],r[He>>2]=r[m>>2],Hr[A0&127](n,o,ze,He,g,w,y),D=C;return}case 88:{oe=o+8|0,oe=_0[r[(r[oe>>2]|0)+24>>2]&255](oe)|0,re=h|0,r[q>>2]=r[re>>2],r[te>>2]=r[m>>2],m=j[oe]|0,(m&1)==0?(m=(m&255)>>>1,le=oe+4|0,oe=oe+4|0):(A0=r[oe+8>>2]|0,m=r[oe+4>>2]|0,le=A0,oe=A0),sn(B,o,q,te,g,w,y,le,oe+(m<<2)|0),r[re>>2]=r[B>>2];break}case 82:{A0=h|0,r[N0>>2]=r[A0>>2],r[ut>>2]=r[m>>2],sn(z0,o,N0,ut,g,w,y,19240,19260),r[A0>>2]=r[z0>>2];break}case 83:if(r[ue>>2]=r[m>>2],o=zs(h,ue,w,m0,2)|0,g=r[w>>2]|0,(g&4|0)==0&(o|0)<61){r[y>>2]=o;break e}else{r[w>>2]=g|4;break e}case 110:case 116:{r[ve>>2]=r[m>>2],R8(0,h,ve,w,m0);break}case 112:{r[ge>>2]=r[m>>2],L8(o,y+8|0,h,ge,w,m0);break}case 114:{A0=h|0,r[Te>>2]=r[A0>>2],r[Ve>>2]=r[m>>2],sn(qe,o,Te,Ve,g,w,y,19264,19308),r[A0>>2]=r[qe>>2];break}case 99:{q=o+8|0,q=_0[r[(r[q>>2]|0)+12>>2]&255](q)|0,B=h|0,r[oe>>2]=r[B>>2],r[le>>2]=r[m>>2],m=j[q]|0,(m&1)==0?(te=(m&255)>>>1,m=q+4|0,q=q+4|0):(A0=r[q+8>>2]|0,te=r[q+4>>2]|0,m=A0,q=A0),sn(re,o,oe,le,g,w,y,m,q+(te<<2)|0),r[B>>2]=r[re>>2];break}case 84:{A0=h|0,r[Ye>>2]=r[A0>>2],r[Ge>>2]=r[m>>2],sn(r0,o,Ye,Ge,g,w,y,19208,19240),r[A0>>2]=r[r0>>2];break}case 119:if(r[o0>>2]=r[m>>2],g=zs(h,o0,w,m0,1)|0,o=r[w>>2]|0,(o&4|0)==0&(g|0)<7){r[y+24>>2]=g;break e}else{r[w>>2]=o|4;break e}case 68:{A0=h|0,r[v0>>2]=r[A0>>2],r[E0>>2]=r[m>>2],sn(S0,o,v0,E0,g,w,y,19312,19344),r[A0>>2]=r[S0>>2];break}case 77:if(r[P0>>2]=r[m>>2],g=zs(h,P0,w,m0,2)|0,o=r[w>>2]|0,(o&4|0)==0&(g|0)<60){r[y+4>>2]=g;break e}else{r[w>>2]=o|4;break e}case 106:if(r[O0>>2]=r[m>>2],g=zs(h,O0,w,m0,3)|0,o=r[w>>2]|0,(o&4|0)==0&(g|0)<366){r[y+28>>2]=g;break e}else{r[w>>2]=o|4;break e}case 70:{A0=h|0,r[Z0>>2]=r[A0>>2],r[G0>>2]=r[m>>2],sn(ot,o,Z0,G0,g,w,y,19176,19208),r[A0>>2]=r[ot>>2];break}case 100:case 101:{y=y+12|0,r[ne>>2]=r[m>>2],o=zs(h,ne,w,m0,2)|0,g=r[w>>2]|0;do if((g&4|0)==0){if(!((o-1|0)>>>0<31))break;r[y>>2]=o;break e}while(!1);r[w>>2]=g|4;break}case 121:{if(r[D0>>2]=r[m>>2],g=zs(h,D0,w,m0,4)|0,(r[w>>2]&4|0)!=0)break e;(g|0)<69?w=g+2e3|0:w=(g-69|0)>>>0<31?g+1900|0:g,r[y+20>>2]=w-1900;break}default:r[w>>2]=r[w>>2]|4}while(!1);r[n>>2]=r[h>>2],D=C;return}while(!1);A0=qt(4)|0,h0(A0),Wt(A0|0,25544,156)}function R8(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0;n=D,y=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[y>>2],o=o|0,h=h|0,y=g;e:for(;;){C=r[o>>2]|0;do if((C|0)==0)_=1;else if(_=r[C+12>>2]|0,(_|0)==(r[C+16>>2]|0)?_=_0[r[(r[C>>2]|0)+36>>2]&255](C)|0:_=r[_>>2]|0,(_|0)==-1){r[o>>2]=0,_=1;break}else{_=(r[o>>2]|0)==0;break}while(!1);C=r[h>>2]|0;do if((C|0)==0)w=15;else if(B=r[C+12>>2]|0,(B|0)==(r[C+16>>2]|0)?B=_0[r[(r[C>>2]|0)+36>>2]&255](C)|0:B=r[B>>2]|0,(B|0)==-1){r[h>>2]=0,w=15;break}else if(_){_=C;break}else{g=C;break e}while(!1);if((w|0)==15)if(w=0,_){g=0;break}else _=0;if(B=r[o>>2]|0,C=r[B+12>>2]|0,(C|0)==(r[B+16>>2]|0)?C=_0[r[(r[B>>2]|0)+36>>2]&255](B)|0:C=r[C>>2]|0,!(Yi[r[(r[y>>2]|0)+12>>2]&63](g,8192,C)|0)){g=_;break}if(_=r[o>>2]|0,C=_+12|0,B=r[C>>2]|0,(B|0)==(r[_+16>>2]|0)){_0[r[(r[_>>2]|0)+40>>2]&255](_)|0;continue}else{r[C>>2]=B+4;continue}}y=r[o>>2]|0;do if((y|0)==0)o=1;else if(_=r[y+12>>2]|0,(_|0)==(r[y+16>>2]|0)?y=_0[r[(r[y>>2]|0)+36>>2]&255](y)|0:y=r[_>>2]|0,(y|0)==-1){r[o>>2]=0,o=1;break}else{o=(r[o>>2]|0)==0;break}while(!1);do if((g|0)==0)w=37;else{if(y=r[g+12>>2]|0,(y|0)==(r[g+16>>2]|0)?g=_0[r[(r[g>>2]|0)+36>>2]&255](g)|0:g=r[y>>2]|0,(g|0)==-1){r[h>>2]=0,w=37;break}if(!o)break;D=n;return}while(!1);do if((w|0)==37){if(o)break;D=n;return}while(!1);r[m>>2]=r[m>>2]|2,D=n}function L8(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0;if(y=D,D=D+8|0,_=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[_>>2],_=y|0,n=n+8|0,n=_0[r[(r[n>>2]|0)+8>>2]&255](n)|0,C=j[n]|0,(C&1)==0?C=(C&255)>>>1:C=r[n+4>>2]|0,B=j[n+12|0]|0,(B&1)==0?B=(B&255)>>>1:B=r[n+16>>2]|0,(C|0)==(-B|0)){r[g>>2]=r[g>>2]|4,D=y;return}r[_>>2]=r[m>>2],B=oo(h,_,n,n+24|0,w,g,0)|0,w=B-n|0;do if((B|0)==(n|0)){if((r[o>>2]|0)!=12)break;r[o>>2]=0,D=y;return}while(!1);if((w|0)!=12){D=y;return}if(w=r[o>>2]|0,(w|0)>=12){D=y;return}r[o>>2]=w+12,D=y}function I8(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0;n=D,y=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[y>>2],o=o|0,y=r[o>>2]|0;do if((y|0)==0)_=1;else if(_=r[y+12>>2]|0,(_|0)==(r[y+16>>2]|0)?y=_0[r[(r[y>>2]|0)+36>>2]&255](y)|0:y=r[_>>2]|0,(y|0)==-1){r[o>>2]=0,_=1;break}else{_=(r[o>>2]|0)==0;break}while(!1);h=h|0,y=r[h>>2]|0;do if((y|0)==0)w=14;else if(C=r[y+12>>2]|0,(C|0)==(r[y+16>>2]|0)?C=_0[r[(r[y>>2]|0)+36>>2]&255](y)|0:C=r[C>>2]|0,(C|0)==-1){r[h>>2]=0,w=14;break}else{if(_)break;w=16;break}while(!1);if((w|0)==14&&(_?w=16:y=0),(w|0)==16){r[m>>2]=r[m>>2]|6,D=n;return}if(C=r[o>>2]|0,_=r[C+12>>2]|0,(_|0)==(r[C+16>>2]|0)?_=_0[r[(r[C>>2]|0)+36>>2]&255](C)|0:_=r[_>>2]|0,(Yi[r[(r[g>>2]|0)+52>>2]&63](g,_,0)|0)<<24>>24!=37){r[m>>2]=r[m>>2]|4,D=n;return}C=r[o>>2]|0,_=C+12|0,g=r[_>>2]|0,(g|0)==(r[C+16>>2]|0)?_0[r[(r[C>>2]|0)+40>>2]&255](C)|0:r[_>>2]=g+4,g=r[o>>2]|0;do if((g|0)==0)o=1;else if(_=r[g+12>>2]|0,(_|0)==(r[g+16>>2]|0)?g=_0[r[(r[g>>2]|0)+36>>2]&255](g)|0:g=r[_>>2]|0,(g|0)==-1){r[o>>2]=0,o=1;break}else{o=(r[o>>2]|0)==0;break}while(!1);do if((y|0)==0)w=38;else{if(g=r[y+12>>2]|0,(g|0)==(r[y+16>>2]|0)?g=_0[r[(r[y>>2]|0)+36>>2]&255](y)|0:g=r[g>>2]|0,(g|0)==-1){r[h>>2]=0,w=38;break}if(!o)break;D=n;return}while(!1);do if((w|0)==38){if(o)break;D=n;return}while(!1);r[m>>2]=r[m>>2]|2,D=n}function zs(n,o,h,m,g){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0;var w=0,y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0,le=0;w=D,_=o,o=D,D=D+4|0,D=D+7&-8,r[o>>2]=r[_>>2],n=n|0,_=r[n>>2]|0;do if((_|0)==0)_=1;else if(C=r[_+12>>2]|0,(C|0)==(r[_+16>>2]|0)?_=_0[r[(r[_>>2]|0)+36>>2]&255](_)|0:_=r[C>>2]|0,(_|0)==-1){r[n>>2]=0,_=1;break}else{_=(r[n>>2]|0)==0;break}while(!1);o=o|0,B=r[o>>2]|0;do if((B|0)==0)y=14;else if(C=r[B+12>>2]|0,(C|0)==(r[B+16>>2]|0)?C=_0[r[(r[B>>2]|0)+36>>2]&255](B)|0:C=r[C>>2]|0,(C|0)==-1){r[o>>2]=0,y=14;break}else{if(_)break;y=16;break}while(!1);if((y|0)==14&&(_?y=16:B=0),(y|0)==16)return r[h>>2]=r[h>>2]|6,le=0,D=w,le|0;if(_=r[n>>2]|0,C=r[_+12>>2]|0,(C|0)==(r[_+16>>2]|0)?q=_0[r[(r[_>>2]|0)+36>>2]&255](_)|0:q=r[C>>2]|0,C=m,!(Yi[r[(r[C>>2]|0)+12>>2]&63](m,2048,q)|0))return r[h>>2]=r[h>>2]|4,le=0,D=w,le|0;for(_=m,re=(Yi[r[(r[_>>2]|0)+52>>2]&63](m,q,0)|0)<<24>>24,oe=r[n>>2]|0,te=oe+12|0,q=r[te>>2]|0,(q|0)==(r[oe+16>>2]|0)?(_0[r[(r[oe>>2]|0)+40>>2]&255](oe)|0,te=B,q=B):(r[te>>2]=q+4,te=B,q=B);;){B=re-48|0,g=g-1|0,re=r[n>>2]|0;do if((re|0)==0)re=1;else if(oe=r[re+12>>2]|0,(oe|0)==(r[re+16>>2]|0)?re=_0[r[(r[re>>2]|0)+36>>2]&255](re)|0:re=r[oe>>2]|0,(re|0)==-1){r[n>>2]=0,re=1;break}else{re=(r[n>>2]|0)==0;break}while(!1);do if((te|0)==0)le=1,te=0;else if(oe=r[te+12>>2]|0,(oe|0)==(r[te+16>>2]|0)?te=_0[r[(r[te>>2]|0)+36>>2]&255](te)|0:te=r[oe>>2]|0,(te|0)==-1){r[o>>2]=0,le=1,te=0,q=0;break}else{le=(q|0)==0,te=q;break}while(!1);if(oe=r[n>>2]|0,!((re^le)&(g|0)>0))break;if(re=r[oe+12>>2]|0,(re|0)==(r[oe+16>>2]|0)?re=_0[r[(r[oe>>2]|0)+36>>2]&255](oe)|0:re=r[re>>2]|0,!(Yi[r[(r[C>>2]|0)+12>>2]&63](m,2048,re)|0)){y=63;break}if(re=((Yi[r[(r[_>>2]|0)+52>>2]&63](m,re,0)|0)<<24>>24)+(B*10|0)|0,oe=r[n>>2]|0,B=oe+12|0,le=r[B>>2]|0,(le|0)==(r[oe+16>>2]|0)){_0[r[(r[oe>>2]|0)+40>>2]&255](oe)|0;continue}else{r[B>>2]=le+4;continue}}if((y|0)==63)return D=w,B|0;do if((oe|0)==0)n=1;else if(m=r[oe+12>>2]|0,(m|0)==(r[oe+16>>2]|0)?m=_0[r[(r[oe>>2]|0)+36>>2]&255](oe)|0:m=r[m>>2]|0,(m|0)==-1){r[n>>2]=0,n=1;break}else{n=(r[n>>2]|0)==0;break}while(!1);do if((q|0)==0)y=60;else{if(m=r[q+12>>2]|0,(m|0)==(r[q+16>>2]|0)?m=_0[r[(r[q>>2]|0)+36>>2]&255](q)|0:m=r[m>>2]|0,(m|0)==-1){r[o>>2]=0,y=60;break}if(!n)break;return D=w,B|0}while(!1);do if((y|0)==60){if(n)break;return D=w,B|0}while(!1);return r[h>>2]=r[h>>2]|2,le=B,D=w,le|0}function P8(n){n=n|0;var o=0,h=0,m=0;o=n+8|0,h=r[o>>2]|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;m=Ct(2147483647,14472,0)|0,r[8330]=m}while(!1);if((h|0)==(r[8330]|0)){m=n|0,m=n,$0(m);return}Hs(r[o>>2]|0),m=n|0,m=n,$0(m)}function B8(n){n=n|0;var o=0,h=0,m=0;o=n+8|0,h=r[o>>2]|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;m=Ct(2147483647,14472,0)|0,r[8330]=m}while(!1);if((h|0)==(r[8330]|0)){m=n|0;return}Hs(r[o>>2]|0),m=n|0}function M8(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0,q=0,te=0,re=0;if(m=D,D=D+112|0,re=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[re>>2],re=m|0,C=m+8|0,g=C|0,q=re|0,j[q]=37,B=re+1|0,j[B]=y,te=re+2|0,j[te]=_,j[re+3|0]=0,_<<24>>24!=0&&(j[B]=_,j[te]=y),re=po(g|0,100,q|0,w|0,r[o+8>>2]|0)|0,o=C+re|0,_=r[h>>2]|0,(re|0)==0){te=_,re=n|0,r[re>>2]=te,D=m;return}else h=_;do{y=j[g]|0;do if((h|0)==0)h=0;else if(C=h+24|0,w=r[C>>2]|0,(w|0)==(r[h+28>>2]|0)){y=(ni[r[(r[h>>2]|0)+52>>2]&63](h,y&255)|0)==-1,h=y?0:h,_=y?0:_;break}else{r[C>>2]=w+1,j[w]=y;break}while(!1);g=g+1|0}while((g|0)!=(o|0));re=n|0,r[re>>2]=_,D=m}function U8(n){n=n|0;var o=0,h=0,m=0;o=n+8|0,h=r[o>>2]|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;m=Ct(2147483647,14472,0)|0,r[8330]=m}while(!1);if((h|0)==(r[8330]|0)){m=n|0,m=n,$0(m);return}Hs(r[o>>2]|0),m=n|0,m=n,$0(m)}function F8(n){n=n|0;var o=0,h=0,m=0;o=n+8|0,h=r[o>>2]|0;do if((j[51808]|0)==0){if((ei(51808)|0)==0)break;m=Ct(2147483647,14472,0)|0,r[8330]=m}while(!1);if((h|0)==(r[8330]|0)){m=n|0;return}Hs(r[o>>2]|0),m=n|0}function O8(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0;if(g=D,D=D+408|0,B=h,C=D,D=D+4|0,D=D+7&-8,r[C>>2]=r[B>>2],B=g|0,m=g+400|0,h=B|0,r[m>>2]=B+400,N8(o+8|0,h,m,w,y,_),y=r[m>>2]|0,o=r[C>>2]|0,(h|0)==(y|0)){C=o,B=n|0,r[B>>2]=C,D=g;return}else w=o;do C=r[h>>2]|0,(w|0)==0?w=0:(_=w+24|0,m=r[_>>2]|0,(m|0)==(r[w+28>>2]|0)?C=ni[r[(r[w>>2]|0)+52>>2]&63](w,C)|0:(r[_>>2]=m+4,r[m>>2]=C),_=(C|0)==-1,w=_?0:w,o=_?0:o),h=h+4|0;while((h|0)!=(y|0));B=n|0,r[B>>2]=o,D=g}function N8(n,o,h,m,g,w){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0;var y=0,_=0,C=0,B=0,q=0,te=0,re=0,oe=0;if(y=D,D=D+120|0,oe=y|0,_=y+112|0,C=D,D=D+4|0,D=D+7&-8,B=y+8|0,te=oe|0,j[te]=37,re=oe+1|0,j[re]=g,q=oe+2|0,j[q]=w,j[oe+3|0]=0,w<<24>>24!=0&&(j[re]=w,j[q]=g),g=n|0,po(B|0,100,te|0,m|0,r[g>>2]|0)|0,r[_>>2]=0,r[_+4>>2]=0,r[C>>2]=B,oe=(r[h>>2]|0)-o>>2,B=Ki(r[g>>2]|0)|0,_=Re(o,C,oe,_)|0,(B|0)!=0&&Ki(B|0)|0,(_|0)==-1)w1(8296);else{r[h>>2]=o+(_<<2),D=y;return}}function z8(n){n=n|0,$0(n)}function G8(n){}function H8(n){return 127}function V8(n){return 127}function W8(n,o){n=n|0,V0(n|0,0,12)|0}function j8(n,o){n=n|0,V0(n|0,0,12)|0}function $8(n,o){n=n|0,V0(n|0,0,12)|0}function K8(n,o){n=n|0,Qn(n,1,45)}function q8(n){return 0}function Y8(n,o){n=n|0,o=o|0,o=n,u0=67109634,j[o]=u0,u0=u0>>8,j[o+1|0]=u0,u0=u0>>8,j[o+2|0]=u0,u0=u0>>8,j[o+3|0]=u0}function J8(n,o){n=n|0,o=o|0,o=n,u0=67109634,j[o]=u0,u0=u0>>8,j[o+1|0]=u0,u0=u0>>8,j[o+2|0]=u0,u0=u0>>8,j[o+3|0]=u0}function Q8(n){n=n|0,$0(n)}function X8(n){}function Z8(n){return 127}function e6(n){return 127}function t6(n,o){n=n|0,V0(n|0,0,12)|0}function i6(n,o){n=n|0,V0(n|0,0,12)|0}function r6(n,o){n=n|0,V0(n|0,0,12)|0}function s6(n,o){n=n|0,Qn(n,1,45)}function n6(n){return 0}function a6(n,o){n=n|0,o=o|0,o=n,u0=67109634,j[o]=u0,u0=u0>>8,j[o+1|0]=u0,u0=u0>>8,j[o+2|0]=u0,u0=u0>>8,j[o+3|0]=u0}function o6(n,o){n=n|0,o=o|0,o=n,u0=67109634,j[o]=u0,u0=u0>>8,j[o+1|0]=u0,u0=u0>>8,j[o+2|0]=u0,u0=u0>>8,j[o+3|0]=u0}function l6(n){n=n|0,$0(n)}function u6(n){}function c6(n){return 2147483647}function h6(n){return 2147483647}function d6(n,o){n=n|0,V0(n|0,0,12)|0}function f6(n,o){n=n|0,V0(n|0,0,12)|0}function p6(n,o){n=n|0,V0(n|0,0,12)|0}function m6(n,o){n=n|0,Uc(n,1,45)}function g6(n){return 0}function y6(n,o){n=n|0,o=o|0,o=n,u0=67109634,j[o]=u0,u0=u0>>8,j[o+1|0]=u0,u0=u0>>8,j[o+2|0]=u0,u0=u0>>8,j[o+3|0]=u0}function A6(n,o){n=n|0,o=o|0,o=n,u0=67109634,j[o]=u0,u0=u0>>8,j[o+1|0]=u0,u0=u0>>8,j[o+2|0]=u0,u0=u0>>8,j[o+3|0]=u0}function v6(n){n=n|0,$0(n)}function w6(n){}function _6(n){return 2147483647}function b6(n){return 2147483647}function k6(n,o){n=n|0,V0(n|0,0,12)|0}function S6(n,o){n=n|0,V0(n|0,0,12)|0}function E6(n,o){n=n|0,V0(n|0,0,12)|0}function T6(n,o){n=n|0,Uc(n,1,45)}function x6(n){return 0}function C6(n,o){n=n|0,o=o|0,o=n,u0=67109634,j[o]=u0,u0=u0>>8,j[o+1|0]=u0,u0=u0>>8,j[o+2|0]=u0,u0=u0>>8,j[o+3|0]=u0}function D6(n,o){n=n|0,o=o|0,o=n,u0=67109634,j[o]=u0,u0=u0>>8,j[o+1|0]=u0,u0=u0>>8,j[o+2|0]=u0,u0=u0>>8,j[o+3|0]=u0}function R6(n){n=n|0,$0(n)}function L6(n){}function I6(n,o,h,m,g,w,y,_){n=n|0,o=o|0,h=h|0,m=m|0,g=g|0,w=w|0,y=y|0,_=_|0;var C=0,B=0,q=0,te=0,re=0,oe=0,le=0,ne=0,pe=0,ue=0,ve=0,ge=0,Te=0,Ve=0,qe=0;C=D,D=D+280|0,Ve=h,h=D,D=D+4|0,D=D+7&-8,r[h>>2]=r[Ve>>2],Ve=m,m=D,D=D+4|0,D=D+7&-8,r[m>>2]=r[Ve>>2],Ve=C|0,ve=C+16|0,pe=C+120|0,re=C+128|0,ge=C+136|0,le=C+144|0,ue=C+152|0,oe=C+160|0,ne=C+176|0,o=pe|0,r[o>>2]=ve,B=pe+4|0,r[B>>2]=194,ve=ve+100|0,Di(ge,w),te=ge|0,Te=r[te>>2]|0,(r[8716]|0)!=-1&&(r[Ve>>2]=34864,r[Ve+4>>2]=16,r[Ve+8>>2]=0,Vt(34864,Ve,114)),qe=(r[8717]|0)-1|0,Ve=r[Te+8>>2]|0;do if((r[Te+12>>2]|0)-Ve>>2>>>0>qe>>>0){if(Ve=r[Ve+(qe<<2)>>2]|0,(Ve|0)==0)break;Te=Ve,j[le]=0,m=m|0,r[ue>>2]=r[m>>2];do if(Ph(h,ue,g,ge,r[w+4>>2]|0,y,le,Te,pe,re,ve)|0){w=oe|0,Lr[r[(r[Ve>>2]|0)+32>>2]&15](Te,19160,19170,w)|0,ne=ne|0,ve=r[re>>2]|0,pe=r[o>>2]|0,g=ve-pe|0;do if((g|0)>98){if(g=ii(g+2|0)|0,(g|0)!=0){ue=g;break}Pi(),ue=0,g=0}else ue=ne,g=0;while(!1);if((j[le]|0)!=0&&(j[ue]=45,ue=ue+1|0),pe>>>0<ve>>>0){le=oe+10|0;do{for(ve=j[pe]|0,Te=w;ge=Te+1|0,(j[Te]|0)!=ve<<24>>24;)if((ge|0)==(le|0)){Te=le;break}else Te=ge;j[ue]=j[19160+(Te-oe)|0]|0,pe=pe+1|0,ue=ue+1|0}while(pe>>>0<(r[re>>2]|0)>>>0)}if(j[ue]=0,qe=an(ne|0,15784,(Ve=D,D=D+8|0,r[Ve>>2]=_,Ve|0))|0,D=Ve,(qe|0)==1){if((g|0)==0)break;Ft(g);break}qe=qt(8)|0,dn(qe,15400),Wt(qe|0,25560,30)}while(!1);_=h|0,h=r[_>>2]|0;do if((h|0)==0)h=0;else{if((r[h+12>>2]|0)!=(r[h+16>>2]|0)||(_0[r[(r[h>>2]|0)+36>>2]&255](h)|0)!=-1)break;r[_>>2]=0,h=0}while(!1);_=(h|0)==0,re=r[m>>2]|0;do if((re|0)==0)q=45;else{if((r[re+12>>2]|0)!=(r[re+16>>2]|0)){if(_)break;q=47;break}if((_0[r[(r[re>>2]|0)+36>>2]&255](re)|0)==-1){r[m>>2]=0,q=45;break}else{if(_)break;q=47;break}}while(!1);if((q|0)==45&&_&&(q=47),(q|0)==47&&(r[y>>2]=r[y>>2]|2),r[n>>2]=h,vi(r[te>>2]|0)|0,n=r[o>>2]|0,r[o>>2]=0,(n|0)==0){D=C;return}Rr[r[B>>2]&511](n),D=C;return}while(!1);qe=qt(4)|0,h0(qe),Wt(qe|0,25544,156)}function P6(n){}var Or=[dr,dr,Mf,dr,xf,dr,li,dr,Yt,dr,Rf,dr,mi,dr,Tf,dr,Uf,dr,dr,dr,dr,dr,dr,dr,dr,dr,dr,dr,dr,dr,dr,dr],Rr=[b0,b0,B3,b0,b5,b0,e8,b0,K2,b0,ur,b0,f4,b0,zh,b0,W3,b0,V2,b0,p2,b0,O2,b0,Vm,b0,j1,b0,Rm,b0,$1,b0,W5,b0,uh,b0,d5,b0,l5,b0,xo,b0,H3,b0,sm,b0,b8,b0,j5,b0,h0,b0,e5,b0,R3,b0,V3,b0,H4,b0,k5,b0,l6,b0,Gh,b0,Su,b0,zu,b0,U0,b0,Sl,b0,a5,b0,$1,b0,A5,b0,on,b0,G8,b0,El,b0,j3,b0,Ft,b0,E3,b0,Nu,b0,c5,b0,X1,b0,j4,b0,F2,b0,wh,b0,Jl,b0,y5,b0,U8,b0,xo,b0,ts,b0,Ae,b0,Wm,b0,Gm,b0,pf,b0,u6,b0,G4,b0,Q4,b0,P8,b0,_8,b0,u5,b0,Q8,b0,go,b0,ps,b0,d4,b0,fl,b0,je,b0,Le,b0,t5,b0,x4,b0,lh,b0,pm,b0,C0,b0,V4,b0,o5,b0,R6,b0,Is,b0,v6,b0,i5,b0,yr,b0,Dt,b0,Jr,b0,Ie,b0,st,b0,xi,b0,z3,b0,a2,b0,B8,b0,g3,b0,w0,b0,Ou,b0,P6,b0,Pc,b0,$e,b0,z8,b0,Zm,b0,h5,b0,G2,b0,Ee,b0,f5,b0,K4,b0,Ro,b0,P2,b0,bm,b0,_3,b0,m3,b0,vh,b0,Gu,b0,T3,b0,Gt,b0,zi,b0,qs,b0,C0,b0,gt,b0,J4,b0,rs,b0,Lo,b0,v2,b0,z4,b0,K0,b0,R1,b0,ff,b0,Yo,b0,Z4,b0,Ql,b0,D3,b0,Xl,b0,zr,b0,Y4,b0,eu,b0,Fn,b0,w6,b0,u8,b0,X8,b0,Xo,b0,a1,b0,$4,b0,T4,b0,q4,b0,o2,b0,c8,b0,ht,b0,M3,b0,us,b0,W4,b0,kn,b0,F8,b0,pn,b0,S2,b0,b3,b0,L6,b0,R0,b0,nm,b0,iu,b0,z1,b0,De,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0,b0],si=[$t,$t,Dl,$t,E6,$t,t6,$t,Wu,$t,A6,$t,Vu,$t,o6,$t,Eu,$t,B2,$t,Yl,$t,P3,$t,f6,$t,K8,$t,C6,$t,m6,$t,$8,$t,k6,$t,W8,$t,T6,$t,On,$t,V1,$t,Cn,$t,D6,$t,q1,$t,$u,$t,Of,$t,i6,$t,dn,$t,Rl,$t,y6,$t,s6,$t,ju,$t,a6,$t,p4,$t,W2,$t,O3,$t,d6,$t,D1,$t,J8,$t,Y8,$t,j8,$t,C4,$t,p6,$t,hl,$t,S6,$t,r6,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t],_0=[et,et,Pe,et,h6,et,_4,et,vm,et,y1,et,b4,et,m1,et,de,et,Z8,et,h8,et,qu,et,Eo,et,U4,et,M4,et,Mu,et,ae,et,R,et,q0,et,Jn,et,Tl,et,ie,et,fe,et,xl,et,A4,et,Am,et,x6,et,we,et,G1,et,e6,et,Fm,et,_6,et,Ku,et,N2,et,Sr,et,s5,et,q8,et,ko,et,Hu,et,v4,et,I4,et,Ws,et,_m,et,n6,et,Se,et,js,et,Um,et,xm,et,P4,et,H8,et,g1,et,V8,et,Yn,et,ri,et,c6,et,Dm,et,g6,et,Qe,et,b6,et,Tm,et,k8,et,Cl,et,_e,et,zm,et,Fu,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et],$c=[xr,xr,rm,xr,Mm,xr,v5,xr,Uu,xr,Om,xr,fm,xr,Em,xr,p5,xr,ym,xr,wm,xr,kl,xr,Cm,xr,xr,xr,xr,xr,xr,xr],Yi=[Bi,Bi,g5,Bi,om,Bi,Z3,Bi,j0,Bi,im,Bi,_5,Bi,ru,Bi,S4,Bi,w4,Bi,$3,Bi,D4,Bi,U3,Bi,dm,Bi,Q3,Bi,M2,Bi,su,Bi,B4,Bi,um,Bi,L3,Bi,m4,Bi,So,Bi,O4,Bi,Bi,Bi,Bi,Bi,Bi,Bi,Bi,Bi,Bi,Bi,Bi,Bi,Bi,Bi,Bi,Bi,Bi,Bi],B6=[Ts,Ts,o8,Ts,a8,Ts,Qm,Ts,Jm,Ts,Ts,Ts,Ts,Ts,Ts,Ts],Nn=[Ui,Ui,Gp,Ui,Qp,Ui,Op,Ui,gp,Ui,O8,Ui,zp,Ui,Jp,Ui,M8,Ui,Np,Ui,Kp,Ui,Yp,Ui,Vp,Ui,Hp,Ui,I6,Ui,y3,Ui,Wp,Ui,$p,Ui,qp,Ui,d3,Ui,jp,Ui,bp,Ui,Xp,Ui,A3,Ui,Ui,Ui,Ui,Ui,Ui,Ui,Ui,Ui,Ui,Ui,Ui,Ui,Ui,Ui,Ui,Ui],as=[ki,ki,gi,ki,s8,ki,i8,ki,t8,ki,yi,ki,l8,ki,I3,ki,R4,ki,Xm,ki,up,ki,jm,ki,qm,ki,$m,ki,Fi,ki,g4,ki,F3,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki,ki],$l=[Ju,Ju,mp,Ju],Hr=[ti,ti,g8,ti,S8,ti,xp,ti,Bp,ti,T8,ti,C3,ti,Rp,ti,n8,ti,r8,ti,S3,ti,Mp,ti,d8,ti,_p,ti,kp,ti,dp,ti,Up,ti,m8,ti,Cp,ti,x8,ti,fp,ti,Ym,ti,Ep,ti,n3,ti,Ip,ti,h3,ti,Sp,ti,p8,ti,Dp,ti,Z5,ti,E8,ti,Km,ti,Lp,ti,r3,ti,Y5,ti,Q5,ti,V5,ti,t3,ti,K5,ti,$5,ti,u3,ti,o3,ti,Fp,ti,Tp,ti,C8,ti,L5,ti,f8,ti,M5,ti,x5,ti,D5,ti,P5,ti,E5,ti,G5,ti,N5,ti,F5,ti,S5,ti,Pp,ti,ti,ti,ti,ti,ti,ti,ti,ti,ti,ti,ti,ti,ti,ti],M6=[ro,ro,x3,ro,k3,ro,ro,ro],Gs=[xs,xs,cp,xs,D8,xs,yp,xs,y8,xs,xs,xs,xs,xs,xs,xs],_r=[Cs,Cs,Ap,Cs,wp,Cs,pp,Cs,vp,Cs,Cs,Cs,Cs,Cs,Cs,Cs],ni=[Si,Si,lm,Si,j2,Si,em,Si,F4,Si,cm,Si,hf,Si,am,Si,z2,Si,H2,Si,J3,Si,df,Si,N4,Si,X3,Si,E4,Si,k4,Si,H1,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si,Si],Kl=[Qu,Qu,hp,Qu],Lr=[Qs,Qs,K3,Qs,a4,Qs,q3,Qs,hm,Qs,tm,Qs,Y3,Qs,Qs,Qs],Kr=[Li,Li,op,Li,Ff,Li,ap,Li,tp,Li,Bf,Li,Kf,Li,rp,Li,Yf,Li,np,Li,sp,Li,Cf,Li,Gf,Li,lp,Li,Nf,Li,Jf,Li,ip,Li,Co,Li,n5,Li,qf,Li,Pf,Li,o4,Li,Li,Li,Li,Li,Li,Li,Li,Li,Li,Li,Li,Li,Li,Li,Li,Li,Li,Li,Li,Li],Wh=[Xu,Xu,$h,Xu],An=[fr,fr,km,fr,Pm,fr,Lm,fr,Pu,fr,Sm,fr,Hm,fr,mm,fr,gm,fr,fr,fr,fr,fr,fr,fr,fr,fr,fr,fr,fr,fr,fr,fr],Ir=[Ci,Ci,jf,Ci,Vf,Ci,Rt,Ci,Et,Ci,Hf,Ci,Qf,Ci,Wf,Ci,Df,Ci,Xf,Ci,If,Ci,ft,Ci,Zf,Ci,ep,Ci,$f,Ci,y4,Ci,w5,Ci,L4,Ci,Lf,Ci,m5,Ci,zf,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci,Ci];return{_de265_get_error_text:Go,_strlen:Er,_de265_get_image_plane_user_data:pu,_de265_release_next_picture:Vo,_de265_push_end_of_NAL:al,_de265_get_highest_TID:Wo,_de265_free_decoder:Bs,_de265_set_limit_TID:ul,_de265_get_image_plane:fu,_de265_get_parameter_bool:r1,_de265_get_version:lu,_de265_change_framerate:qr,_de265_get_image_width:fs,_de265_set_parameter_int:i1,_de265_get_current_TID:jo,_memset:V0,_de265_isOK:rl,_de265_push_end_of_frame:Ho,_memcpy:Tt,_de265_set_framerate_ratio:is,_de265_get_bits_per_pixel:hu,_de265_get_chroma_format:du,_de265_get_image_user_data:gu,_de265_get_version_number:zo,_de265_get_image_PTS:mu,_de265_get_number_of_input_bytes_pending:uu,_de265_flush_data:sl,_realloc:Mi,_de265_new_decoder:_a,_de265_get_number_of_NAL_units_pending:cu,_de265_get_next_picture:t1,_de265_peek_next_picture:ll,_de265_decode:nl,_de265_set_parameter_bool:$o,_de265_push_NAL:e1,_free:Ft,_memmove:Gi,__GLOBAL__I_a:$2,_de265_set_verbosity:F1,_de265_get_image_height:Y1,_de265_reset:ol,_malloc:ii,_emscripten_replace_memory:h2,_de265_get_warning:ds,_de265_push_data:Ms,_de265_set_image_user_data:yu,runPostSets:tl,stackAlloc:au,stackSave:Q2,stackRestore:Io,setThrew:ou,setTempRet0:Xn,setTempRet1:Vr,setTempRet2:X2,setTempRet3:K1,setTempRet4:Z2,setTempRet5:Po,setTempRet6:Bo,setTempRet7:Dn,setTempRet8:el,setTempRet9:Mo,dynCall_viiiii:Kh,dynCall_vi:qh,dynCall_vii:Yh,dynCall_ii:Jh,dynCall_iiiiii:Qh,dynCall_iiii:Xh,dynCall_viiiiid:Zh,dynCall_viiiiiiii:ed,dynCall_viiiiii:td,dynCall_viiiiiiiiiiiii:id,dynCall_viiiiiii:rd,dynCall_viiiiiid:sd,dynCall_viiiiiiiii:nd,dynCall_viiiiiiiiii:ad,dynCall_iii:od,dynCall_viiiiiiiiiiii:ld,dynCall_iiiii:ud,dynCall_viii:cd,dynCall_v:hd,dynCall_iiiiiiiii:dd,dynCall_viiii:fd}})({Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array},{abort:ga,assert:K,asmPrintInt:function(me,Ce){e.print("int "+me+","+Ce)},asmPrintFloat:function(me,Ce){e.print("float "+me+","+Ce)},min:Ka,invoke_viiiii:function(me,Ce,Je,j,be,r){try{e.dynCall_viiiii(me,Ce,Je,j,be,r)}catch(We){typeof We!="number"&&We!=="longjmp"&&l(We),k.setThrew(1,0)}},invoke_vi:function(me,Ce){try{e.dynCall_vi(me,Ce)}catch(Je){typeof Je!="number"&&Je!=="longjmp"&&l(Je),k.setThrew(1,0)}},invoke_vii:function(me,Ce,Je){try{e.dynCall_vii(me,Ce,Je)}catch(j){typeof j!="number"&&j!=="longjmp"&&l(j),k.setThrew(1,0)}},invoke_ii:function(me,Ce){try{return e.dynCall_ii(me,Ce)}catch(Je){typeof Je!="number"&&Je!=="longjmp"&&l(Je),k.setThrew(1,0)}},invoke_iiiiii:function(me,Ce,Je,j,be,r){try{return e.dynCall_iiiiii(me,Ce,Je,j,be,r)}catch(We){typeof We!="number"&&We!=="longjmp"&&l(We),k.setThrew(1,0)}},invoke_iiii:function(me,Ce,Je,j){try{return e.dynCall_iiii(me,Ce,Je,j)}catch(be){typeof be!="number"&&be!=="longjmp"&&l(be),k.setThrew(1,0)}},invoke_viiiiid:function(me,Ce,Je,j,be,r,We){try{e.dynCall_viiiiid(me,Ce,Je,j,be,r,We)}catch(f0){typeof f0!="number"&&f0!=="longjmp"&&l(f0),k.setThrew(1,0)}},invoke_viiiiiiii:function(me,Ce,Je,j,be,r,We,f0,it){try{e.dynCall_viiiiiiii(me,Ce,Je,j,be,r,We,f0,it)}catch(p0){typeof p0!="number"&&p0!=="longjmp"&&l(p0),k.setThrew(1,0)}},invoke_viiiiii:function(me,Ce,Je,j,be,r,We){try{e.dynCall_viiiiii(me,Ce,Je,j,be,r,We)}catch(f0){typeof f0!="number"&&f0!=="longjmp"&&l(f0),k.setThrew(1,0)}},invoke_viiiiiiiiiiiii:function(me,Ce,Je,j,be,r,We,f0,it,p0,D,k0,T0,J0){try{e.dynCall_viiiiiiiiiiiii(me,Ce,Je,j,be,r,We,f0,it,p0,D,k0,T0,J0)}catch(rt){typeof rt!="number"&&rt!=="longjmp"&&l(rt),k.setThrew(1,0)}},invoke_viiiiiii:function(me,Ce,Je,j,be,r,We,f0){try{e.dynCall_viiiiiii(me,Ce,Je,j,be,r,We,f0)}catch(it){typeof it!="number"&&it!=="longjmp"&&l(it),k.setThrew(1,0)}},invoke_viiiiiid:function(me,Ce,Je,j,be,r,We,f0){try{e.dynCall_viiiiiid(me,Ce,Je,j,be,r,We,f0)}catch(it){typeof it!="number"&&it!=="longjmp"&&l(it),k.setThrew(1,0)}},invoke_viiiiiiiii:function(me,Ce,Je,j,be,r,We,f0,it,p0){try{e.dynCall_viiiiiiiii(me,Ce,Je,j,be,r,We,f0,it,p0)}catch(D){typeof D!="number"&&D!=="longjmp"&&l(D),k.setThrew(1,0)}},invoke_viiiiiiiiii:function(me,Ce,Je,j,be,r,We,f0,it,p0,D){try{e.dynCall_viiiiiiiiii(me,Ce,Je,j,be,r,We,f0,it,p0,D)}catch(k0){typeof k0!="number"&&k0!=="longjmp"&&l(k0),k.setThrew(1,0)}},invoke_iii:function(me,Ce,Je){try{return e.dynCall_iii(me,Ce,Je)}catch(j){typeof j!="number"&&j!=="longjmp"&&l(j),k.setThrew(1,0)}},invoke_viiiiiiiiiiii:function(me,Ce,Je,j,be,r,We,f0,it,p0,D,k0,T0){try{e.dynCall_viiiiiiiiiiii(me,Ce,Je,j,be,r,We,f0,it,p0,D,k0,T0)}catch(J0){typeof J0!="number"&&J0!=="longjmp"&&l(J0),k.setThrew(1,0)}},invoke_iiiii:function(me,Ce,Je,j,be){try{return e.dynCall_iiiii(me,Ce,Je,j,be)}catch(r){typeof r!="number"&&r!=="longjmp"&&l(r),k.setThrew(1,0)}},invoke_viii:function(me,Ce,Je,j){try{e.dynCall_viii(me,Ce,Je,j)}catch(be){typeof be!="number"&&be!=="longjmp"&&l(be),k.setThrew(1,0)}},invoke_v:function(me){try{e.dynCall_v(me)}catch(Ce){typeof Ce!="number"&&Ce!=="longjmp"&&l(Ce),k.setThrew(1,0)}},invoke_iiiiiiiii:function(me,Ce,Je,j,be,r,We,f0,it){try{return e.dynCall_iiiiiiiii(me,Ce,Je,j,be,r,We,f0,it)}catch(p0){typeof p0!="number"&&p0!=="longjmp"&&l(p0),k.setThrew(1,0)}},invoke_viiii:function(me,Ce,Je,j,be){try{e.dynCall_viiii(me,Ce,Je,j,be)}catch(r){typeof r!="number"&&r!=="longjmp"&&l(r),k.setThrew(1,0)}},_llvm_lifetime_end:H(),__scanString:S,_pthread_mutex_lock:H(),___cxa_end_catch:Pa,_strtoull:jc,_fflush:H(),__isLeapYear:Ea,_fwrite:Vb,_send:function(me,Ce,Je){return L.Yd(me)?pb(me,Ce,Je):(P(i.S),-1)},_pthread_mutex_init:H(),_llvm_umul_with_overflow_i32:function(me,Ce){return me>>>=0,Ce>>>=0,k.setTempRet0(4294967295<me*Ce),me*Ce>>>0|0},_isspace:ic,_read:vb,_isxdigit_l:function(me){return ac(me)},_fileno:Ub,___cxa_guard_abort:H(),_newlocale:function(){return W(4)},___gxx_personality_v0:H(),_pthread_cond_wait:U(0),___cxa_rethrow:function(){Pa.se=s,l(tb.pop()+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch.")},_fmod:function(me,Ce){return me%Ce},___resumeException:function(me){ya||(ya=me),l(me+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch.")},_llvm_va_end:H(),_vsscanf:function(me,Ce,Je){return dc(me,Ce,u[Je>>2])},_snprintf:ub,_fgetc:Qa,__getFloat:cc,_pthread_cond_signal:function(){l("TODO: "+aborter)},___cxa_free_exception:Sb,_isdigit_l:function(me){return bc(me)},___setErrNo:P,_isxdigit:ac,_exit:function(me){sb(me)},_sprintf:Yb,_asprintf:lc,___ctype_b_loc:ec,_freelocale:function(me){Ma(me)},_catgets:function(me,Ce,Je,j){return j},___cxa_is_number_type:lb,_llvm_uadd_with_overflow_i32:function(me,Ce){return me>>>=0,Ce>>>=0,k.setTempRet0(4294967295<me+Ce),me+Ce>>>0|0},___cxa_does_inherit:La,___cxa_guard_acquire:function(me){return x[me]?0:x[me]=1},___cxa_begin_catch:function(me){return wa.kd--,tb.push(ya),me},_emscripten_memcpy_big:function(me,Ce,Je){return N.set(N.subarray(Ce,Ce+Je),me),me},_recv:function(me,Ce,Je){return L.Yd(me)?vb(me,Ce,Je):(P(i.S),-1)},__parseInt64:wb,__ZSt18uncaught_exceptionv:wa,__ZNSt9exceptionD2Ev:H(),_mkport:Tb,_copysign:function(me,Ce){return Oa(me)===Oa(Ce)?me:-me},__exit:sb,_strftime:hc,___cxa_throw:mb,_printf:function(me,Ce){return rb(u[Aa>>2],me,Ce)},_pread:function(me,Ce,Je,j){if(me=d.Aa(me),!me)return P(i.S),-1;try{return d.O(me,x,Ce,Je,j)}catch(be){return d.bc(be),-1}},_strtoull_l:function(me,Ce,Je){return jc(me,Ce,Je)},__arraySum:Sa,_sysconf:function(me){switch(me){case 30:return 4096;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 79:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return 1}return P(i.C),-1},_strtoll_l:function(me,Ce,Je){return kc(me,Ce,Je)},___cxa_find_matching_catch:function(me,Ce){me==-1&&(me=ya),header=me-xa,Ce==-1&&(Ce=u[header>>2]);var Je=Array.prototype.slice.call(arguments,2);Ce!=0&&!lb(Ce)&&u[u[Ce>>2]-8>>2]==0&&(me=u[me>>2]);for(var j=0;j<Je.length;j++)if(La(Je[j],Ce,me))return k.setTempRet0(Je[j]),me|0;return k.setTempRet0(Ce),me|0},__formatString:qb,_pthread_cond_broadcast:U(0),__ZSt9terminatev:function(){sb(-1234)},_vfprintf:function(me,Ce,Je){return rb(me,Ce,u[Je>>2])},_pthread_mutex_unlock:H(),___cxa_call_unexpected:function(me){e.Ca("Unexpected exception thrown, this is not properly supported - aborting"),qa=s,l(me)},_sbrk:mc,_atexit:function(me,Ce){Ga.unshift({qa:me,Mb:Ce})},___errno_location:function(){return Na},_strerror:Da,_pthread_mutex_destroy:H(),_catclose:U(0),_llvm_lifetime_start:H(),___cxa_guard_release:H(),_ungetc:function(me,Ce){return Ce=d.ub(Ce),Ce?(me===-1||(me=ib(me&255),Ce.qc.push(me),Ce.Rd=G),me):-1},_pthread_cond_destroy:H(),_uselocale:U(0),_vsnprintf:function(me,Ce,Je,j){return ub(me,Ce,Je,u[j>>2])},_sscanf:dc,___assert_fail:function(me,Ce,Je,j){qa=s,l("Assertion failed: "+Y(me)+", at: "+[Ce?Y(Ce):"unknown filename",Je,j?Y(j):"unknown function"]+" at "+gb())},_fread:Zb,_strftime_l:function(me,Ce,Je,j){return hc(me,Ce,Je,j)},_abort:function(){e.abort()},_fprintf:rb,_isdigit:bc,_strtoll:kc,__addDays:Fa,_fabs:Dc,__reallyNegative:Oa,_write:pb,___cxa_allocate_exception:function(me){return W(me+xa)+xa},___cxa_pure_virtual:function(){qa=s,l("Pure virtual function called!")},_vasprintf:function(me,Ce,Je){return lc(me,Ce,u[Je>>2])},_catopen:U(-1),___ctype_toupper_loc:gc,___ctype_tolower_loc:fc,_pthread_join:function(){l("TODO: "+aborter)},_pthread_cond_init:H(),_pwrite:function(me,Ce,Je,j){if(me=d.Aa(me),!me)return P(i.S),-1;try{return d.write(me,x,Ce,Je,j)}catch(be){return d.bc(be),-1}},_strerror_r:$b,_pthread_create:function(){e.printErr("missing function: pthread_create"),ga(-1)},_time:function(me){var Ce=Math.floor(Date.now()/1e3);return me&&(u[me>>2]=Ce),Ce},STACKTOP:aa,STACK_MAX:Cb,tempDoublePtr:ja,ABORT:qa,cttz_i8:Fc,ctlz_i8:Ec,NaN:NaN,Infinity:1/0,_stdin:Ha,__ZTVN10__cxxabiv117__class_type_infoE:nb,_stderr:Ia,__ZTISt9exception:Eb,__ZTVN10__cxxabiv120__si_class_type_infoE:ob,_stdout:Aa,___dso_handle:Db},da);e._de265_get_error_text=k._de265_get_error_text;var Wb=e._strlen=k._strlen;e._de265_get_image_plane_user_data=k._de265_get_image_plane_user_data,e._de265_release_next_picture=k._de265_release_next_picture,e._de265_push_end_of_NAL=k._de265_push_end_of_NAL,e._de265_get_highest_TID=k._de265_get_highest_TID,e._de265_free_decoder=k._de265_free_decoder,e._de265_set_limit_TID=k._de265_set_limit_TID,e._de265_get_image_plane=k._de265_get_image_plane,e._de265_get_parameter_bool=k._de265_get_parameter_bool,e._de265_get_version=k._de265_get_version,e._de265_change_framerate=k._de265_change_framerate,e._de265_get_image_width=k._de265_get_image_width,e._de265_set_parameter_int=k._de265_set_parameter_int,e._de265_get_current_TID=k._de265_get_current_TID;var Bc=e._memset=k._memset;e._de265_isOK=k._de265_isOK,e._de265_push_end_of_frame=k._de265_push_end_of_frame;var Ac=e._memcpy=k._memcpy;e._de265_set_framerate_ratio=k._de265_set_framerate_ratio,e._de265_get_bits_per_pixel=k._de265_get_bits_per_pixel,e._de265_get_chroma_format=k._de265_get_chroma_format,e._de265_get_image_user_data=k._de265_get_image_user_data,e._de265_get_version_number=k._de265_get_version_number,e._de265_get_image_PTS=k._de265_get_image_PTS,e._de265_get_number_of_input_bytes_pending=k._de265_get_number_of_input_bytes_pending,e._de265_flush_data=k._de265_flush_data,e._realloc=k._realloc,e._de265_new_decoder=k._de265_new_decoder,e._de265_get_number_of_NAL_units_pending=k._de265_get_number_of_NAL_units_pending,e._de265_get_next_picture=k._de265_get_next_picture,e._de265_peek_next_picture=k._de265_peek_next_picture,e._de265_decode=k._de265_decode,e._de265_set_parameter_bool=k._de265_set_parameter_bool,e._de265_push_NAL=k._de265_push_NAL;var Ma=e._free=k._free,Cc=e._memmove=k._memmove,zc=e.__GLOBAL__I_a=k.__GLOBAL__I_a;e._de265_set_verbosity=k._de265_set_verbosity,e._de265_get_image_height=k._de265_get_image_height,e._de265_reset=k._de265_reset;var W=e._malloc=k._malloc,rc=e._emscripten_replace_memory=k._emscripten_replace_memory;e._de265_get_warning=k._de265_get_warning,e._de265_push_data=k._de265_push_data,e._de265_set_image_user_data=k._de265_set_image_user_data;var yc=e.runPostSets=k.runPostSets;e.dynCall_viiiii=k.dynCall_viiiii,e.dynCall_vi=k.dynCall_vi,e.dynCall_vii=k.dynCall_vii,e.dynCall_ii=k.dynCall_ii,e.dynCall_iiiiii=k.dynCall_iiiiii,e.dynCall_iiii=k.dynCall_iiii,e.dynCall_viiiiid=k.dynCall_viiiiid,e.dynCall_viiiiiiii=k.dynCall_viiiiiiii,e.dynCall_viiiiii=k.dynCall_viiiiii,e.dynCall_viiiiiiiiiiiii=k.dynCall_viiiiiiiiiiiii,e.dynCall_viiiiiii=k.dynCall_viiiiiii,e.dynCall_viiiiiid=k.dynCall_viiiiiid,e.dynCall_viiiiiiiii=k.dynCall_viiiiiiiii,e.dynCall_viiiiiiiiii=k.dynCall_viiiiiiiiii,e.dynCall_iii=k.dynCall_iii,e.dynCall_viiiiiiiiiiii=k.dynCall_viiiiiiiiiiii,e.dynCall_iiiii=k.dynCall_iiiii,e.dynCall_viii=k.dynCall_viii,e.dynCall_v=k.dynCall_v,e.dynCall_iiiiiiiii=k.dynCall_iiiiiiiii,e.dynCall_viiii=k.dynCall_viiii,t.ed=function(me){return k.stackAlloc(me)},t.gd=function(){return k.stackSave()},t.fd=function(me){k.stackRestore(me)};var za=(function(){function me(p0,D){this.D=p0|0,this.J=D|0}function Ce(p0,D){p0!=v&&(typeof p0=="number"?this.Y(p0):D==v&&typeof p0!="string"?this.N(p0,256):this.N(p0,D))}function Je(){return new Ce(v)}function j(p0,D){var k0=r[p0.charCodeAt(D)];return k0==v?-1:k0}function be(p0){var D=Je();return D.wa(p0),D}me.ud={},me.wa=function(p0){if(-128<=p0&&128>p0){var D=me.ud[p0];if(D)return D}return D=new me(p0|0,0>p0?-1:0),-128<=p0&&128>p0&&(me.ud[p0]=D),D},me.Y=function(p0){return isNaN(p0)||!isFinite(p0)?me.ZERO:p0<=-me.xd?me.MIN_VALUE:p0+1>=me.xd?me.MAX_VALUE:0>p0?me.Y(-p0).G():new me(p0%me.ta|0,p0/me.ta|0)},me.pa=function(p0,D){return new me(p0,D)},me.N=function(p0,D){p0.length==0&&l(Error("number format error: empty string"));var k0=D||10;if((2>k0||36<k0)&&l(Error("radix out of range: "+k0)),p0.charAt(0)=="-")return me.N(p0.substring(1),k0).G();0<=p0.indexOf("-")&&l(Error('number format error: interior "-" character: '+p0));for(var T0=me.Y(Math.pow(k0,8)),J0=me.ZERO,rt=0;rt<p0.length;rt+=8){var W0=Math.min(8,p0.length-rt),pt=parseInt(p0.substring(rt,rt+W0),k0);8>W0?(W0=me.Y(Math.pow(k0,W0)),J0=J0.multiply(W0).add(me.Y(pt))):(J0=J0.multiply(T0),J0=J0.add(me.Y(pt)))}return J0},me.wc=65536,me.Xh=16777216,me.ta=me.wc*me.wc,me.Yh=me.ta/2,me.Zh=me.ta*me.wc,me.Qe=me.ta*me.ta,me.xd=me.Qe/2,me.ZERO=me.wa(0),me.ONE=me.wa(1),me.vd=me.wa(-1),me.MAX_VALUE=me.pa(-1,2147483647),me.MIN_VALUE=me.pa(0,-2147483648),me.wd=me.wa(16777216),me.prototype.pc=function(){return this.J*me.ta+this.zf()},me.prototype.toString=function(p0){if(p0=p0||10,(2>p0||36<p0)&&l(Error("radix out of range: "+p0)),this.La())return"0";if(this.T()){if(this.X(me.MIN_VALUE)){var k0=me.Y(p0),D=this.Ia(k0),k0=D.multiply(k0).Cb(this);return D.toString(p0)+k0.D.toString(p0)}return"-"+this.G().toString(p0)}for(var D=me.Y(Math.pow(p0,6)),k0=this,T0="";;){var J0=k0.Ia(D),rt=k0.Cb(J0.multiply(D)).D.toString(p0),k0=J0;if(k0.La())return rt+T0;for(;6>rt.length;)rt="0"+rt;T0=""+rt+T0}},me.prototype.zf=function(){return 0<=this.D?this.D:me.ta+this.D},me.prototype.La=function(){return this.J==0&&this.D==0},me.prototype.T=function(){return 0>this.J},me.prototype.fe=function(){return(this.D&1)==1},me.prototype.X=function(p0){return this.J==p0.J&&this.D==p0.D},me.prototype.he=function(p0){return 0>this.Cc(p0)},me.prototype.Bf=function(p0){return 0<this.Cc(p0)},me.prototype.Cf=function(p0){return 0<=this.Cc(p0)},me.prototype.Cc=function(p0){if(this.X(p0))return 0;var D=this.T(),k0=p0.T();return D&&!k0?-1:!D&&k0?1:this.Cb(p0).T()?-1:1},me.prototype.G=function(){return this.X(me.MIN_VALUE)?me.MIN_VALUE:this.Uf().add(me.ONE)},me.prototype.add=function(p0){var D=this.J>>>16,k0=this.J&65535,T0=this.D>>>16,J0=p0.J>>>16,rt=p0.J&65535,W0=p0.D>>>16,pt;return pt=0+((this.D&65535)+(p0.D&65535)),p0=0+(pt>>>16),p0+=T0+W0,T0=0+(p0>>>16),T0+=k0+rt,k0=0+(T0>>>16),k0=k0+(D+J0)&65535,me.pa((p0&65535)<<16|pt&65535,k0<<16|T0&65535)},me.prototype.Cb=function(p0){return this.add(p0.G())},me.prototype.multiply=function(mt){if(this.La()||mt.La())return me.ZERO;if(this.X(me.MIN_VALUE))return mt.fe()?me.MIN_VALUE:me.ZERO;if(mt.X(me.MIN_VALUE))return this.fe()?me.MIN_VALUE:me.ZERO;if(this.T())return mt.T()?this.G().multiply(mt.G()):this.G().multiply(mt).G();if(mt.T())return this.multiply(mt.G()).G();if(this.he(me.wd)&&mt.he(me.wd))return me.Y(this.pc()*mt.pc());var D=this.J>>>16,k0=this.J&65535,T0=this.D>>>16,J0=this.D&65535,rt=mt.J>>>16,W0=mt.J&65535,pt=mt.D>>>16,mt=mt.D&65535,xt,wt,di,$i;return $i=0+J0*mt,di=0+($i>>>16),di+=T0*mt,wt=0+(di>>>16),di=(di&65535)+J0*pt,wt+=di>>>16,di&=65535,wt+=k0*mt,xt=0+(wt>>>16),wt=(wt&65535)+T0*pt,xt+=wt>>>16,wt&=65535,wt+=J0*W0,xt+=wt>>>16,wt&=65535,xt=xt+(D*mt+k0*pt+T0*W0+J0*rt)&65535,me.pa(di<<16|$i&65535,xt<<16|wt)},me.prototype.Ia=function(p0){if(p0.La()&&l(Error("division by zero")),this.La())return me.ZERO;if(this.X(me.MIN_VALUE)){if(p0.X(me.ONE)||p0.X(me.vd))return me.MIN_VALUE;if(p0.X(me.MIN_VALUE))return me.ONE;var D=this.dg().Ia(p0).shiftLeft(1);if(D.X(me.ZERO))return p0.T()?me.ONE:me.vd;var k0=this.Cb(p0.multiply(D));return D.add(k0.Ia(p0))}if(p0.X(me.MIN_VALUE))return me.ZERO;if(this.T())return p0.T()?this.G().Ia(p0.G()):this.G().Ia(p0).G();if(p0.T())return this.Ia(p0.G()).G();for(var T0=me.ZERO,k0=this;k0.Cf(p0);){for(var D=Math.max(1,Math.floor(k0.pc()/p0.pc())),J0=Math.ceil(Math.log(D)/Math.LN2),J0=48>=J0?1:Math.pow(2,J0-48),rt=me.Y(D),W0=rt.multiply(p0);W0.T()||W0.Bf(k0);)D-=J0,rt=me.Y(D),W0=rt.multiply(p0);rt.La()&&(rt=me.ONE),T0=T0.add(rt),k0=k0.Cb(W0)}return T0},me.prototype.Uf=function(){return me.pa(~this.D,~this.J)},me.prototype.shiftLeft=function(p0){if(p0&=63,p0==0)return this;var D=this.D;return 32>p0?me.pa(D<<p0,this.J<<p0|D>>>32-p0):me.pa(0,D<<p0-32)},me.prototype.dg=function(){var p0;if(p0=1,p0==0)return this;var D=this.J;return 32>p0?me.pa(this.D>>>p0|D<<32-p0,D>>p0):me.pa(D>>p0-32,0<=D?0:-1)},Ce.prototype.zc=function(p0,D,k0,T0){for(var J0=0,rt=0;0<=--T0;){var W0=p0*this[J0++]+D[k0]+rt,rt=Math.floor(W0/67108864);D[k0++]=W0&67108863}return rt},Ce.prototype.B=26,Ce.prototype.la=67108863,Ce.prototype.mb=67108864,Ce.prototype.Ne=Math.pow(2,52),Ce.prototype.sd=26,Ce.prototype.td=0;var r=[],We,f0;for(We=48,f0=0;9>=f0;++f0)r[We++]=f0;for(We=97,f0=10;36>f0;++f0)r[We++]=f0;for(We=65,f0=10;36>f0;++f0)r[We++]=f0;Ce.prototype.copyTo=function(p0){for(var D=this.g-1;0<=D;--D)p0[D]=this[D];p0.g=this.g,p0.p=this.p},Ce.prototype.wa=function(p0){this.g=1,this.p=0>p0?-1:0,0<p0?this[0]=p0:-1>p0?this[0]=p0+DV:this.g=0},Ce.prototype.N=function(p0,D){var k0;if(D==16)k0=4;else if(D==8)k0=3;else if(D==256)k0=8;else if(D==2)k0=1;else if(D==32)k0=5;else if(D==4)k0=2;else{this.wf(p0,D);return}this.p=this.g=0;for(var T0=p0.length,J0=G,rt=0;0<=--T0;){var W0=k0==8?p0[T0]&255:j(p0,T0);0>W0?p0.charAt(T0)=="-"&&(J0=s):(J0=G,rt==0?this[this.g++]=W0:rt+k0>this.B?(this[this.g-1]|=(W0&(1<<this.B-rt)-1)<<rt,this[this.g++]=W0>>this.B-rt):this[this.g-1]|=W0<<rt,rt+=k0,rt>=this.B&&(rt-=this.B))}k0==8&&(p0[0]&128)!=0&&(this.p=-1,0<rt&&(this[this.g-1]|=(1<<this.B-rt)-1<<rt)),this.va(),J0&&Ce.ZERO.ja(this,this)},Ce.prototype.va=function(){for(var p0=this.p&this.la;0<this.g&&this[this.g-1]==p0;)--this.g},Ce.prototype.Gc=function(p0,D){var k0;for(k0=this.g-1;0<=k0;--k0)D[k0+p0]=this[k0];for(k0=p0-1;0<=k0;--k0)D[k0]=0;D.g=this.g+p0,D.p=this.p},Ce.prototype.qf=function(p0,D){for(var k0=p0;k0<this.g;++k0)D[k0-p0]=this[k0];D.g=Math.max(this.g-p0,0),D.p=this.p},Ce.prototype.ge=function(p0,D){var k0=p0%this.B,T0=this.B-k0,J0=(1<<T0)-1,rt=Math.floor(p0/this.B),W0=this.p<<k0&this.la,pt;for(pt=this.g-1;0<=pt;--pt)D[pt+rt+1]=this[pt]>>T0|W0,W0=(this[pt]&J0)<<k0;for(pt=rt-1;0<=pt;--pt)D[pt]=0;D[rt]=W0,D.g=this.g+rt+1,D.p=this.p,D.va()},Ce.prototype.$f=function(p0,D){D.p=this.p;var k0=Math.floor(p0/this.B);if(k0>=this.g)D.g=0;else{var T0=p0%this.B,J0=this.B-T0,rt=(1<<T0)-1;D[0]=this[k0]>>T0;for(var W0=k0+1;W0<this.g;++W0)D[W0-k0-1]|=(this[W0]&rt)<<J0,D[W0-k0]=this[W0]>>T0;0<T0&&(D[this.g-k0-1]|=(this.p&rt)<<J0),D.g=this.g-k0,D.va()}},Ce.prototype.ja=function(p0,D){for(var k0=0,T0=0,J0=Math.min(p0.g,this.g);k0<J0;)T0+=this[k0]-p0[k0],D[k0++]=T0&this.la,T0>>=this.B;if(p0.g<this.g){for(T0-=p0.p;k0<this.g;)T0+=this[k0],D[k0++]=T0&this.la,T0>>=this.B;T0+=this.p}else{for(T0+=this.p;k0<p0.g;)T0-=p0[k0],D[k0++]=T0&this.la,T0>>=this.B;T0-=p0.p}D.p=0>T0?-1:0,-1>T0?D[k0++]=this.mb+T0:0<T0&&(D[k0++]=T0),D.g=k0,D.va()},Ce.prototype.Rf=function(p0,D){var k0=this.abs(),T0=p0.abs(),J0=k0.g;for(D.g=J0+T0.g;0<=--J0;)D[J0]=0;for(J0=0;J0<T0.g;++J0)D[J0+k0.g]=k0.zc(T0[J0],D,J0,k0.g);D.p=0,D.va(),this.p!=p0.p&&Ce.ZERO.ja(D,D)},Ce.prototype.Od=function(p0,D,k0){var T0=p0.abs();if(!(0>=T0.g)){var J0=this.abs();if(J0.g<T0.g)D!=v&&D.wa(0),k0!=v&&this.copyTo(k0);else{k0==v&&(k0=Je());var rt=Je(),W0=this.p,p0=p0.p,pt=T0[T0.g-1],mt=1,xt;if((xt=pt>>>16)!=0&&(pt=xt,mt+=16),(xt=pt>>8)!=0&&(pt=xt,mt+=8),(xt=pt>>4)!=0&&(pt=xt,mt+=4),(xt=pt>>2)!=0&&(pt=xt,mt+=2),pt>>1!=0&&(mt+=1),pt=this.B-mt,0<pt?(T0.ge(pt,rt),J0.ge(pt,k0)):(T0.copyTo(rt),J0.copyTo(k0)),T0=rt.g,J0=rt[T0-1],J0!=0){xt=J0*(1<<this.sd)+(1<T0?rt[T0-2]>>this.td:0),mt=this.Ne/xt,xt=(1<<this.sd)/xt;var wt=1<<this.td,di=k0.g,$i=di-T0,ir=D==v?Je():D;for(rt.Gc($i,ir),0<=k0.Rb(ir)&&(k0[k0.g++]=1,k0.ja(ir,k0)),Ce.ONE.Gc(T0,ir),ir.ja(rt,rt);rt.g<T0;)rt[rt.g++]=0;for(;0<=--$i;){var u0=k0[--di]==J0?this.la:Math.floor(k0[di]*mt+(k0[di-1]+wt)*xt);if((k0[di]+=rt.zc(u0,k0,$i,T0))<u0)for(rt.Gc($i,ir),k0.ja(ir,k0);k0[di]<--u0;)k0.ja(ir,k0)}D!=v&&(k0.qf(T0,D),W0!=p0&&Ce.ZERO.ja(D,D)),k0.g=T0,k0.va(),0<pt&&k0.$f(pt,k0),0>W0&&Ce.ZERO.ja(k0,k0)}}}},Ce.prototype.toString=function(p0){if(0>this.p)return"-"+this.G().toString(p0);if(p0==16)p0=4;else if(p0==8)p0=3;else if(p0==2)p0=1;else if(p0==32)p0=5;else if(p0==4)p0=2;else return this.gg(p0);var D=(1<<p0)-1,k0,T0=G,J0="",rt=this.g,W0=this.B-rt*this.B%p0;if(0<rt--)for(W0<this.B&&0<(k0=this[rt]>>W0)&&(T0=s,J0="0123456789abcdefghijklmnopqrstuvwxyz".charAt(k0));0<=rt;)W0<p0?(k0=(this[rt]&(1<<W0)-1)<<p0-W0,k0|=this[--rt]>>(W0+=this.B-p0)):(k0=this[rt]>>(W0-=p0)&D,0>=W0&&(W0+=this.B,--rt)),0<k0&&(T0=s),T0&&(J0+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(k0));return T0?J0:"0"},Ce.prototype.G=function(){var p0=Je();return Ce.ZERO.ja(this,p0),p0},Ce.prototype.abs=function(){return 0>this.p?this.G():this},Ce.prototype.Rb=function(p0){var k0=this.p-p0.p;if(k0!=0)return k0;var D=this.g,k0=D-p0.g;if(k0!=0)return 0>this.p?-k0:k0;for(;0<=--D;)if((k0=this[D]-p0[D])!=0)return k0;return 0},Ce.ZERO=be(0),Ce.ONE=be(1),Ce.prototype.wf=function(p0,D){this.wa(0),D==v&&(D=10);for(var k0=this.Pb(D),T0=Math.pow(D,k0),J0=G,rt=0,W0=0,pt=0;pt<p0.length;++pt){var mt=j(p0,pt);0>mt?p0.charAt(pt)=="-"&&this.dd()==0&&(J0=s):(W0=D*W0+mt,++rt>=k0&&(this.Kd(T0),this.Jd(W0),W0=rt=0))}0<rt&&(this.Kd(Math.pow(D,rt)),this.Jd(W0)),J0&&Ce.ZERO.ja(this,this)},Ce.prototype.Pb=function(p0){return Math.floor(Math.LN2*this.B/Math.log(p0))},Ce.prototype.dd=function(){return 0>this.p?-1:0>=this.g||this.g==1&&0>=this[0]?0:1},Ce.prototype.Kd=function(p0){this[this.g]=this.zc(p0-1,this,0,this.g),++this.g,this.va()},Ce.prototype.Jd=function(p0){var D=0;if(p0!=0){for(;this.g<=D;)this[this.g++]=0;for(this[D]+=p0;this[D]>=this.mb;)this[D]-=this.mb,++D>=this.g&&(this[this.g++]=0),++this[D]}},Ce.prototype.gg=function(p0){if(p0==v&&(p0=10),this.dd()==0||2>p0||36<p0)return"0";var D=this.Pb(p0),D=Math.pow(p0,D),k0=be(D),T0=Je(),J0=Je(),rt="";for(this.Od(k0,T0,J0);0<T0.dd();)rt=(D+J0.ee()).toString(p0).substr(1)+rt,T0.Od(k0,T0,J0);return J0.ee().toString(p0)+rt},Ce.prototype.ee=function(){if(0>this.p){if(this.g==1)return this[0]-this.mb;if(this.g==0)return-1}else{if(this.g==1)return this[0];if(this.g==0)return 0}return(this[1]&(1<<32-this.B)-1)<<this.B|this[0]},Ce.prototype.yc=function(p0,D){for(var k0=0,T0=0,J0=Math.min(p0.g,this.g);k0<J0;)T0+=this[k0]+p0[k0],D[k0++]=T0&this.la,T0>>=this.B;if(p0.g<this.g){for(T0+=p0.p;k0<this.g;)T0+=this[k0],D[k0++]=T0&this.la,T0>>=this.B;T0+=this.p}else{for(T0+=this.p;k0<p0.g;)T0+=p0[k0],D[k0++]=T0&this.la,T0>>=this.B;T0+=p0.p}D.p=0>T0?-1:0,0<T0?D[k0++]=T0:-1>T0&&(D[k0++]=this.mb+T0),D.g=k0,D.va()};var it={abs:function(p0,D){var k0=new me(p0,D),k0=k0.T()?k0.G():k0;u[ja>>2]=k0.D,u[ja+4>>2]=k0.J},Qd:function(){it.rf||(it.rf=s,it.Ae=new Ce,it.Ae.N("4294967296",10),it.jd=new Ce,it.jd.N("18446744073709551616",10),it.hj=new Ce,it.ij=new Ce)},Li:function(p0,D){var k0=new Ce;k0.N(D.toString(),10);var T0=new Ce;k0.Rf(it.Ae,T0),k0=new Ce,k0.N(p0.toString(),10);var J0=new Ce;return k0.yc(T0,J0),J0},stringify:function(p0,D,k0){return p0=new me(p0,D).toString(),k0&&p0[0]=="-"&&(it.Qd(),k0=new Ce,k0.N(p0,10),p0=new Ce,it.jd.yc(k0,p0),p0=p0.toString(10)),p0},N:function(p0,D,k0,T0,J0){it.Qd();var rt=new Ce;rt.N(p0,D),p0=new Ce,p0.N(k0,10),k0=new Ce,k0.N(T0,10),J0&&0>rt.Rb(Ce.ZERO)&&(T0=new Ce,rt.yc(it.jd,T0),rt=T0),T0=G,0>rt.Rb(p0)?(rt=p0,T0=s):0<rt.Rb(k0)&&(rt=k0,T0=s),rt=me.N(rt.toString()),u[ja>>2]=rt.D,u[ja+4>>2]=rt.J,T0&&l("range error")}};return it})();xb.prototype=Error();var oc,Wa=v,Ca=function me(){!e.calledRun&&Ab&&yb(),e.calledRun||(Ca=me)};if(e.callMain=e.mi=function(me){function Ce(){for(var We=0;3>We;We++)j.push(0)}K(ia==0,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),K(hb.length==0,"cannot call main when preRun functions remain to be called"),me=me||[],Ya&&Wa!==v&&e.Ca("preload time: "+(Date.now()-Wa)+" ms"),Va||(Va=s,va(pa));var Je=me.length+1,j=[I(X("/bin/this.program"),"i8",oa)];Ce();for(var be=0;be<Je-1;be+=1)j.push(I(X(me[be]),"i8",oa)),Ce();j.push(0),j=I(j,"i32",oa),oc=aa;try{var r=e._main(Je,j,0);e.noExitRuntime||nc(r)}catch(We){We instanceof xb||(We=="SimulateInfiniteLoop"?e.noExitRuntime=s:(We&&typeof We=="object"&&We.stack&&e.Ca("exception thrown: "+[We,We.stack]),l(We)))}finally{}},e.run=e.cj=yb,e.exit=e.ri=nc,e.abort=e.abort=ga,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();var Ab=G;e.noInitialRun&&(Ab=G),e.noExitRuntime=s,yb(),delete this.Module;var F={DE265_OK:0,DE265_ERROR_NO_SUCH_FILE:1,DE265_ERROR_EOF:3,DE265_ERROR_COEFFICIENT_OUT_OF_IMAGE_BOUNDS:4,DE265_ERROR_CHECKSUM_MISMATCH:5,DE265_ERROR_CTB_OUTSIDE_IMAGE_AREA:6,DE265_ERROR_OUT_OF_MEMORY:7,DE265_ERROR_CODED_PARAMETER_OUT_OF_RANGE:8,DE265_ERROR_IMAGE_BUFFER_FULL:9,DE265_ERROR_CANNOT_START_THREADPOOL:10,DE265_ERROR_LIBRARY_INITIALIZATION_FAILED:11,DE265_ERROR_LIBRARY_NOT_INITIALIZED:12,DE265_ERROR_WAITING_FOR_INPUT_DATA:13,DE265_ERROR_CANNOT_PROCESS_SEI:14,DE265_ERROR_PARAMETER_PARSING:15,DE265_ERROR_NO_INITIAL_SLICE_HEADER:16,DE265_ERROR_PREMATURE_END_OF_SLICE:17,DE265_ERROR_UNSPECIFIED_DECODING_ERROR:18,DE265_ERROR_MAX_THREAD_CONTEXTS_EXCEEDED:500,DE265_ERROR_MAX_NUMBER_OF_SLICES_EXCEEDED:501,DE265_ERROR_NOT_IMPLEMENTED_YET:502,DE265_WARNING_NO_WPP_CANNOT_USE_MULTITHREADING:1e3,DE265_WARNING_WARNING_BUFFER_FULL:1001,DE265_WARNING_PREMATURE_END_OF_SLICE_SEGMENT:1002,DE265_WARNING_INCORRECT_ENTRY_POINT_OFFSET:1003,DE265_WARNING_CTB_OUTSIDE_IMAGE_AREA:1004,DE265_WARNING_SPS_HEADER_INVALID:1005,DE265_WARNING_PPS_HEADER_INVALID:1006,DE265_WARNING_SLICEHEADER_INVALID:1007,DE265_WARNING_INCORRECT_MOTION_VECTOR_SCALING:1008,DE265_WARNING_NONEXISTING_PPS_REFERENCED:1009,DE265_WARNING_NONEXISTING_SPS_REFERENCED:1010,DE265_WARNING_BOTH_PREDFLAGS_ZERO:1011,DE265_WARNING_NONEXISTING_REFERENCE_PICTURE_ACCESSED:1012,DE265_WARNING_NUMMVP_NOT_EQUAL_TO_NUMMVQ:1013,DE265_WARNING_NUMBER_OF_SHORT_TERM_REF_PIC_SETS_OUT_OF_RANGE:1014,DE265_WARNING_SHORT_TERM_REF_PIC_SET_OUT_OF_RANGE:1015,DE265_WARNING_FAULTY_REFERENCE_PICTURE_LIST:1016,DE265_WARNING_EOSS_BIT_NOT_SET:1017,DE265_WARNING_MAX_NUM_REF_PICS_EXCEEDED:1018,DE265_WARNING_INVALID_CHROMA_FORMAT:1019,DE265_WARNING_SLICE_SEGMENT_ADDRESS_INVALID:1020,DE265_WARNING_DEPENDENT_SLICE_WITH_ADDRESS_ZERO:1021,DE265_WARNING_NUMBER_OF_THREADS_LIMITED_TO_MAXIMUM:1022,DE265_NON_EXISTING_LT_REFERENCE_CANDIDATE_IN_SLICE_HEADER:1023,DE265_WARNING_CANNOT_APPLY_SAO_OUT_OF_MEMORY:1024,DE265_WARNING_SPS_MISSING_CANNOT_DECODE_SEI:1025,DE265_WARNING_COLLOCATED_MOTION_VECTOR_OUTSIDE_IMAGE_AREA:1026,de265_get_version:E("de265_get_version","string"),de265_get_version_number:E("de265_get_version_number","number"),de265_get_error_text:E("de265_get_error_text","string",["number"]),de265_isOK:E("de265_isOK","number",["number"]),de265_set_verbosity:E("de265_set_verbosity","number",["number"]),de265_chroma_mono:0,de265_chroma_420:1,de265_chroma_422:2,de265_chroma_444:3,de265_get_image_width:E("de265_get_image_width","number",["number","number"]),de265_get_image_height:E("de265_get_image_height","number",["number","number"]),de265_get_chroma_format:E("de265_get_chroma_format","number",["number"]),de265_get_bits_per_pixel:E("de265_get_bits_per_pixel","number",["number","number"]),de265_get_image_plane:E("de265_get_image_plane","number",["number","number","number"]),de265_get_image_plane_user_data:E("de265_get_image_plane_user_data","number",["number","number"]),de265_get_image_PTS:E("de265_get_image_PTS","number",["number"]),de265_get_image_user_data:E("de265_get_image_user_data","number",["number"]),de265_set_image_user_data:E("de265_set_image_user_data","number",["number","number"]),de265_new_decoder:E("de265_new_decoder","number"),de265_free_decoder:E("de265_free_decoder","number",["number"]),de265_push_data:E("de265_push_data","number",["number","array","number","number","number"]),de265_push_end_of_NAL:E("de265_push_end_of_NAL","number",["number"]),de265_push_end_of_frame:E("de265_push_end_of_frame","number",["number"]),de265_push_NAL:E("de265_push_NAL","number",["number","array","number","number","number"]),de265_flush_data:E("de265_flush_data","number",["number"]),de265_get_number_of_input_bytes_pending:E("de265_get_number_of_input_bytes_pending","number",["number"]),de265_get_number_of_NAL_units_pending:E("de265_get_number_of_NAL_units_pending","number",["number"]),de265_decode:E("de265_decode","number",["number","number"]),de265_reset:E("de265_reset","number",["number"]),de265_peek_next_picture:E("de265_peek_next_picture","number",["number"]),de265_get_next_picture:E("de265_get_next_picture","number",["number"]),de265_release_next_picture:E("de265_release_next_picture","number",["number"]),de265_get_warning:E("de265_get_warning","number",["number"]),de265_get_highest_TID:E("de265_get_highest_TID","number",["number"]),de265_get_current_TID:E("de265_get_current_TID","number",["number"]),de265_set_limit_TID:E("de265_set_limit_TID","number",["number","number"]),de265_set_framerate_ratio:E("de265_set_framerate_ratio","number",["number","number"]),de265_change_framerate:E("de265_change_framerate","number",["number","number"]),DE265_DECODER_PARAM_BOOL_SEI_CHECK_HASH:0,DE265_DECODER_PARAM_DUMP_SPS_HEADERS:1,DE265_DECODER_PARAM_DUMP_VPS_HEADERS:2,DE265_DECODER_PARAM_DUMP_PPS_HEADERS:3,DE265_DECODER_PARAM_DUMP_SLICE_HEADERS:4,DE265_DECODER_PARAM_ACCELERATION_CODE:5,DE265_DECODER_PARAM_SUPPRESS_FAULTY_PICTURES:6,DE265_DECODER_PARAM_DISABLE_DEBLOCKING:7,DE265_DECODER_PARAM_DISABLE_SAO:8,de265_acceleration_SCALAR:0,de265_acceleration_MMX:10,de265_acceleration_SSE:20,de265_acceleration_SSE2:30,de265_acceleration_SSE4:40,de265_acceleration_AVX:50,de265_acceleration_AVX2:60,de265_acceleration_ARM:70,de265_acceleration_NEON:80,de265_acceleration_AUTO:1e4,de265_set_parameter_bool:E("de265_set_parameter_bool","number",["number","number","number"]),de265_set_parameter_int:E("de265_set_parameter_int","number",["number","number","number"]),de265_get_parameter_bool:E("de265_get_parameter_bool","number",["number","number"])};Ba.prototype.free=H(),Ba.prototype.get_width=function(){return this.width===v&&(this.width=F.de265_get_image_width(this.ra,0)),this.width},Ba.prototype.get_height=function(){return this.height===v&&(this.height=F.de265_get_image_height(this.ra,0)),this.height},Ba.prototype.display=function(me,Ce){var Je=this.get_width(),j=this.get_height(),be=F.de265_get_chroma_format(this.ra),r=W(4),We=F.de265_get_image_plane(this.ra,0,r),f0=ta(r,"i32"),it=F.de265_get_bits_per_pixel(this.ra,0),p0=F.de265_get_image_plane(this.ra,1,r),D=ta(r,"i32"),k0=F.de265_get_bits_per_pixel(this.ra,1),T0=F.de265_get_image_plane(this.ra,2,r),J0=ta(r,"i32"),rt=F.de265_get_bits_per_pixel(this.ra,2);Ma(r),this.mf.af(be,We,p0,T0,Je,j,f0,D,J0,it,k0,rt,me,Ce)};var cb=v;ab.prototype.Ld=function(){this.kb&&(this.kb.postMessage({cmd:"stop"}),this.kb=v)},ab.prototype.Ed=function(me,Ce,Je,j,be,r,We,f0,it,p0,D,k0,T0,J0){me={cmd:"convert",data:{chroma:me,y:new Uint8Array(Ce),u:new Uint8Array(Je),v:new Uint8Array(j),w:be,h:r,stridey:We,strideu:f0,stridev:it,bppy:p0,bppu:D,bppv:k0}},this.tb.push(function(rt){if(T0.data.set)T0.data.set(rt);else for(var W0=T0.data,pt=W0.length,mt=0;mt<pt;mt++)W0[mt]=rt[mt];J0(T0)}),this.kb.postMessage(me)},bb.prototype.Ld=H(),bb.prototype.Ed=function(me,Ce,Je,j,be,r,We,f0,it,p0,D,k0,T0,J0){db(me,Ce,Je,j,be,r,We,f0,it,p0,D,k0,T0.data),J0(T0)},T.prototype.free=function(){this.Tb&&(this.Tb.Ld(),this.Tb=v),F.de265_free_decoder(this.Q),this.Q=v,Ma(this.Na),this.Na=v},T.prototype.set_image_callback=la("Sc"),T.prototype.reset=function(){F.de265_reset(this.Q)},T.prototype.push_data=function(me,Ce){return F.de265_push_data(this.Q,me,me.length,Ce||0,0)},T.prototype.flush=function(){return this.stop=s,F.de265_flush_data(this.Q)},T.prototype.has_more=function(){return!this.stop||ta(this.Na,"i16")!==0},T.prototype.set_framerate_ratio=function(me){F.de265_set_framerate_ratio(this.Q,me)},T.prototype.disable_filters=function(me){F.de265_set_parameter_bool(this.Q,F.DE265_DECODER_PARAM_DISABLE_DEBLOCKING,!!me),F.de265_set_parameter_bool(this.Q,F.DE265_DECODER_PARAM_DISABLE_SAO,!!me)},T.prototype.decode=function(me){var Ce;for(Ja(this.Na,1,"i16");ta(this.Na,"i16")!==0;){if(Ce=F.de265_decode(this.Q,this.Na),!F.de265_isOK(Ce)){Ja(this.Na,0,"i16");break}var Je=F.de265_get_next_picture(this.Q);if(Je){this.Sc&&this.Sc(new Ba(this,Je));break}}me(Ce)},T.prototype.af=function(me,Ce,Je,j,be,r,We,f0,it,p0,D,k0,T0,J0){Ce=N.subarray(Ce,Ce+r*We),Je=N.subarray(Je,Je+r*f0),j=N.subarray(j,j+r*it),this.Tb.Ed(me,Ce,Je,j,be,r,We,f0,it,p0,D,k0,T0,J0)},F.Decoder=T,M.prototype.xc=function(){this.start=v,this.frames=0,this.cc=v,this.te=G,this.jc=v},M.prototype.set_status_callback=la("nc"),M.prototype.qb=function(){this.nc&&this.nc.apply(this.nc,arguments)},M.prototype.set_error_callback=la("Ic"),M.prototype.yd=function(me,Ce){this.Ic&&this.Ic(me,Ce)},M.prototype.Se=function(me){if(this.start){this.frames+=1;var Ce=new Date-this.start;1e3<Ce&&this.qb("fps",this.frames/(.001*Ce))}else this.start=new Date,this.qb("playing");var Ce=me.get_width(),Je=me.get_height();if(Ce!=this.canvas.width||Je!=this.canvas.height||!this.cc){this.canvas.width=Ce,this.canvas.height=Je,this.cc=this.Q.createImageData(Ce,Je);for(var j=this.cc.data,be=0;be<Ce*Je;be++)j[4*be+3]=255}var r=this;me.display(this.cc,function(We){window.requestAnimationFrame?(r.jc=We,window.requestAnimationFrame(function(){r.jc&&(r.Q.putImageData(r.jc,0,0),r.jc=v)})):r.Q.putImageData(We,0,0)})},M.prototype.Te=function(me){function Ce(){if(Je.te){var p0;if(We===0)p0=j.flush();else{var D=4096;D>We&&(D=We),p0=new Uint8Array(be,r,D),p0=j.push_data(p0),r+=D,We-=D}F.de265_isOK(p0)?(Je.mc!==f0&&(j.set_framerate_ratio(Je.mc),f0=Je.mc),Je.Zb!==it&&(j.disable_filters(Je.Zb),it=Je.Zb),j.decode(function(k0){switch(k0){case F.DE265_ERROR_WAITING_FOR_INPUT_DATA:setTimeout(Ce,0);return;default:if(!F.de265_isOK(k0)){Je.yd(k0,F.de265_get_error_text(k0));return}}0<We||j.has_more()?setTimeout(Ce,0):(j.free(),Je.stop())})):Je.yd(p0,F.de265_get_error_text(p0))}}var Je=this;this.qb("initializing");var j=new T;j.set_image_callback(function(p0){Je.Se(p0),p0.free()});var be=me.response,r=0,We=be.byteLength,f0=v,it=G;setTimeout(Ce,0)},M.prototype.playback=function(me){this.xc();var Ce=new XMLHttpRequest;Ce.open("get",me,s),Ce.responseType="arraybuffer";var Je=this;Ce.onload=function(){Je.Te(Ce)},this.qb("loading"),this.te=s,Ce.send()},M.prototype.stop=function(){this.qb("stopped"),this.xc()},M.prototype.set_framerate_ratio=la("mc"),M.prototype.disable_filters=la("Zb"),F.RawPlayer=M,typeof exports<"u"?(typeof module<"u"&&module.tf&&(exports=module.tf=F),exports.libde265=F):this.libde265=F,typeof define=="function"&&define.ji&&define([],function(){return F})}).call(window);const main={install(me){me.component("VideoPlayer",App)}};return main}));
